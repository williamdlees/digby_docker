(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},LvDl:function(e,t,n){(function(e){var r;(function(){var i="Expected a function",s="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",u="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",T="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,N=RegExp(L.source),z=RegExp(F.source),B=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,G=RegExp(q.source),W=/^\s+|\s+$/g,Y=/^\s+/,Z=/\s+$/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,he=/['\n\r\u2028\u2029\\]/g,ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="["+de+"]",fe="["+ue+"]",me="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+de+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ye="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+ge+"|"+ve+")",ke="(?:"+xe+"|"+ve+")",Ce="(?:"+fe+"|"+ye+")?",Ee="[\\ufe0e\\ufe0f]?"+Ce+"(?:\\u200d(?:"+[be,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*",Re="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Ee,Ae="(?:"+[be+fe+"?",fe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",Ie=RegExp("['\u2019]","g"),Te=RegExp(fe,"g"),De=RegExp(ye+"(?="+ye+")|"+Ae+Ee,"g"),Oe=RegExp([xe+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pe,xe,"$"].join("|")+")",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pe,xe+Se,"$"].join("|")+")",xe+"?"+Se+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Re].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+ue+"\\ufe0e\\ufe0f]"),Pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ne={};Ne[k]=Ne[C]=Ne[E]=Ne[R]=Ne[A]=Ne[I]=Ne["[object Uint8ClampedArray]"]=Ne[T]=Ne[D]=!0,Ne[a]=Ne[l]=Ne[x]=Ne[c]=Ne[S]=Ne[h]=Ne[u]=Ne[d]=Ne[f]=Ne[m]=Ne[g]=Ne[v]=Ne[y]=Ne[b]=Ne[w]=!1;var ze={};ze[a]=ze[l]=ze[x]=ze[S]=ze[c]=ze[h]=ze[k]=ze[C]=ze[E]=ze[R]=ze[A]=ze[f]=ze[m]=ze[g]=ze[v]=ze[y]=ze[b]=ze[_]=ze[I]=ze["[object Uint8ClampedArray]"]=ze[T]=ze[D]=!0,ze[u]=ze[d]=ze[w]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Ve=parseInt,$e="object"==typeof global&&global&&global.Object===Object&&global,Ue="object"==typeof self&&self&&self.Object===Object&&self,He=$e||Ue||Function("return this")(),qe=t&&!t.nodeType&&t,Ge=qe&&"object"==typeof e&&e&&!e.nodeType&&e,We=Ge&&Ge.exports===qe,Ye=We&&$e.process,Ze=function(){try{return Ge&&Ge.require&&Ge.require("util").types||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Xe=Ze&&Ze.isArrayBuffer,Ke=Ze&&Ze.isDate,Qe=Ze&&Ze.isMap,Je=Ze&&Ze.isRegExp,et=Ze&&Ze.isSet,tt=Ze&&Ze.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function lt(e,t){return!(null==e||!e.length)&&yt(e,t,0)>-1}function ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ht(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mt=xt("length");function gt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function vt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function yt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):vt(e,_t,n)}function bt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function _t(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Ct(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function Et(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return function(t){return e(t)}}function At(e,t){return ht(t,(function(t){return e[t]}))}function It(e,t){return e.has(t)}function Tt(e,t){for(var n=-1,r=e.length;++n<r&&yt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length;n--&&yt(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=St({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Pt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+Be[e]}function Ft(e){return Me.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Bt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function $t(e){return Ft(e)?function(e){for(var t=De.lastIndex=0;De.test(e);)++t;return t}(e):mt(e)}function Ut(e){return Ft(e)?function(e){return e.match(De)||[]}(e):function(e){return e.split("")}(e)}var Ht=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qt=function e(t){var n,r=(t=null==t?He:qt.defaults(He.Object(),t,qt.pick(He,Le))).Array,ue=t.Date,de=t.Error,pe=t.Function,fe=t.Math,me=t.Object,ge=t.RegExp,ve=t.String,ye=t.TypeError,be=r.prototype,_e=me.prototype,we=t["__core-js_shared__"],xe=pe.prototype.toString,Se=_e.hasOwnProperty,ke=0,Ce=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=_e.toString,Re=xe.call(me),Ae=He._,De=ge("^"+xe.call(Se).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=We?t.Buffer:void 0,Be=t.Symbol,$e=t.Uint8Array,Ue=Me?Me.allocUnsafe:void 0,qe=zt(me.getPrototypeOf,me),Ge=me.create,Ye=_e.propertyIsEnumerable,Ze=be.splice,mt=Be?Be.isConcatSpreadable:void 0,St=Be?Be.iterator:void 0,Gt=Be?Be.toStringTag:void 0,Wt=function(){try{var e=Ki(me,"defineProperty");return e({},"",{}),e}catch(t){}}(),Yt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Zt=ue&&ue.now!==He.Date.now&&ue.now,Xt=t.setTimeout!==He.setTimeout&&t.setTimeout,Kt=fe.ceil,Qt=fe.floor,Jt=me.getOwnPropertySymbols,en=Me?Me.isBuffer:void 0,tn=t.isFinite,nn=be.join,rn=zt(me.keys,me),sn=fe.max,on=fe.min,an=ue.now,ln=t.parseInt,cn=fe.random,hn=be.reverse,un=Ki(t,"DataView"),dn=Ki(t,"Map"),pn=Ki(t,"Promise"),fn=Ki(t,"Set"),mn=Ki(t,"WeakMap"),gn=Ki(me,"create"),vn=mn&&new mn,yn={},bn=Es(un),_n=Es(dn),wn=Es(pn),xn=Es(fn),Sn=Es(mn),kn=Be?Be.prototype:void 0,Cn=kn?kn.valueOf:void 0,En=kn?kn.toString:void 0;function Rn(e){if(Ho(e)&&!Mo(e)&&!(e instanceof Dn)){if(e instanceof Tn)return e;if(Se.call(e,"__wrapped__"))return Rs(e)}return new Tn(e)}var An=function(){function e(){}return function(t){if(!Uo(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function In(){}function Tn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Dn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Nn(e,t){var n=Mo(e),r=!n&&Oo(e),i=!n&&!r&&No(e),s=!n&&!r&&!i&&Qo(e),o=n||r||i||s,a=o?Et(e.length,ve):[],l=a.length;for(var c in e)!t&&!Se.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||is(c,l))||a.push(c);return a}function zn(e){var t=e.length;return t?e[Pr(0,t-1)]:void 0}function Bn(e,t){return ws(mi(e),Yn(t,0,e.length))}function jn(e){return ws(mi(e))}function Vn(e,t,n){(void 0!==n&&!Io(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function $n(e,t,n){var r=e[t];Se.call(e,t)&&Io(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function Un(e,t){for(var n=e.length;n--;)if(Io(e[n][0],t))return n;return-1}function Hn(e,t,n,r){return Jn(e,(function(e,i,s){t(r,e,n(e),s)})),r}function qn(e,t){return e&&gi(t,_a(t),e)}function Gn(e,t,n){"__proto__"==t&&Wt?Wt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){for(var n=-1,i=t.length,s=r(i),o=null==e;++n<i;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,r,i,s){var o,l=1&t,u=2&t,w=4&t;if(n&&(o=i?n(e,r,i,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var O=Mo(e);if(O){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return mi(e,o)}else{var M=es(e),P=M==d||M==p;if(No(e))return ci(e,l);if(M==g||M==a||P&&!i){if(o=u||P?{}:ns(e),!l)return u?function(e,t){return gi(e,Ji(e),t)}(e,function(e,t){return e&&gi(t,wa(t),e)}(o,e)):function(e,t){return gi(e,Qi(e),t)}(e,qn(o,e))}else{if(!ze[M])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case x:return hi(e);case c:case h:return new r(+e);case S:return function(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case C:case E:case R:case A:case I:case"[object Uint8ClampedArray]":case T:case D:return ui(e,n);case f:return new r;case m:case b:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case _:return Cn?me(Cn.call(e)):{}}}(e,M,l)}}s||(s=new Fn);var L=s.get(e);if(L)return L;s.set(e,o),Zo(e)?e.forEach((function(r){o.add(Zn(r,t,n,r,e,s))})):qo(e)&&e.forEach((function(r,i){o.set(i,Zn(r,t,n,i,e,s))}));var F=O?void 0:(w?u?Hi:Ui:u?wa:_a)(e);return it(F||e,(function(r,i){F&&(r=e[i=r]),$n(o,i,Zn(r,t,n,i,e,s))})),o}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],s=e[i];if(void 0===s&&!(i in e)||!(0,t[i])(s))return!1}return!0}function Kn(e,t,n){if("function"!=typeof e)throw new ye(i);return vs((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var i=-1,s=lt,o=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=ht(t,Rt(n))),r?(s=ct,o=!1):t.length>=200&&(s=It,o=!1,t=new Ln(t));e:for(;++i<a;){var h=e[i],u=null==n?h:n(h);if(h=r||0!==h?h:0,o&&u==u){for(var d=c;d--;)if(t[d]===u)continue e;l.push(h)}else s(t,u,r)||l.push(h)}return l}Rn.templateSettings={escape:B,evaluate:j,interpolate:V,variable:"",imports:{_:Rn}},(Rn.prototype=In.prototype).constructor=Rn,(Tn.prototype=An(In.prototype)).constructor=Tn,(Dn.prototype=An(In.prototype)).constructor=Dn,On.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Se.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=Un(t,e);return!(n<0||(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,0))},Mn.prototype.get=function(e){var t=this.__data__,n=Un(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return Un(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,r=Un(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(dn||Mn),string:new On}},Pn.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Pn.prototype.get=function(e){return Zi(this,e).get(e)},Pn.prototype.has=function(e){return Zi(this,e).has(e)},Pn.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this};var Jn=bi(ar),er=bi(lr,!0);function tr(e,t){var n=!0;return Jn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(null!=o&&(void 0===a?o==o&&!Ko(o):n(o,a)))var a=o,l=s}return l}function rr(e,t){var n=[];return Jn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ir(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=rs),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?ir(a,t-1,n,r,i):ut(i,a):r||(i[i.length]=a)}return i}var sr=_i(),or=_i(!0);function ar(e,t){return e&&sr(e,t,_a)}function lr(e,t){return e&&or(e,t,_a)}function cr(e,t){return at(t,(function(t){return jo(e[t])}))}function hr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Cs(t[n++])];return n&&n==r?e:void 0}function ur(e,t,n){var r=t(e);return Mo(e)?r:ut(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Gt&&Gt in me(e)?function(e){var t=Se.call(e,Gt),n=e[Gt];try{e[Gt]=void 0;var r=!0}catch(s){}var i=Ee.call(e);return r&&(t?e[Gt]=n:delete e[Gt]),i}(e):function(e){return Ee.call(e)}(e)}function pr(e,t){return e>t}function fr(e,t){return null!=e&&Se.call(e,t)}function mr(e,t){return null!=e&&t in me(e)}function gr(e,t,n){for(var i=n?ct:lt,s=e[0].length,o=e.length,a=o,l=r(o),c=1/0,h=[];a--;){var u=e[a];a&&t&&(u=ht(u,Rt(t))),c=on(u.length,c),l[a]=!n&&(t||s>=120&&u.length>=120)?new Ln(a&&u):void 0}u=e[0];var d=-1,p=l[0];e:for(;++d<s&&h.length<c;){var f=u[d],m=t?t(f):f;if(f=n||0!==f?f:0,!(p?It(p,m):i(h,m,n))){for(a=o;--a;){var g=l[a];if(!(g?It(g,m):i(e[a],m,n)))continue e}p&&p.push(m),h.push(f)}}return h}function vr(e,t,n){var r=null==(e=ps(e,t=si(t,e)))?e:e[Cs(zs(t))];return null==r?void 0:nt(r,e,n)}function yr(e){return Ho(e)&&dr(e)==a}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Ho(e)&&!Ho(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var o=Mo(e),d=Mo(t),p=o?l:es(e),w=d?l:es(t),k=(p=p==a?g:p)==g,C=(w=w==a?g:w)==g,E=p==w;if(E&&No(e)){if(!No(t))return!1;o=!0,k=!1}if(E&&!k)return s||(s=new Fn),o||Qo(e)?Vi(e,t,n,r,i,s):function(e,t,n,r,i,s,o){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!s(new $e(e),new $e(t)));case c:case h:case m:return Io(+e,+t);case u:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case f:var a=Nt;case y:if(a||(a=jt),e.size!=t.size&&!(1&r))return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var d=Vi(a(e),a(t),r,i,s,o);return o.delete(e),d;case _:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,p,n,r,i,s);if(!(1&n)){var R=k&&Se.call(e,"__wrapped__"),A=C&&Se.call(t,"__wrapped__");if(R||A){var I=R?e.value():e,T=A?t.value():t;return s||(s=new Fn),i(I,T,n,r,s)}}return!!E&&(s||(s=new Fn),function(e,t,n,r,i,s){var o=1&n,a=Ui(e),l=a.length;if(l!=Ui(t).length&&!o)return!1;for(var c=l;c--;){var h=a[c];if(!(o?h in t:Se.call(t,h)))return!1}var u=s.get(e);if(u&&s.get(t))return u==t;var d=!0;s.set(e,t),s.set(t,e);for(var p=o;++c<l;){var f=e[h=a[c]],m=t[h];if(r)var g=o?r(m,f,h,t,e,s):r(f,m,h,e,t,s);if(!(void 0===g?f===m||i(f,m,n,r,s):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,r,i,s))}(e,t,n,r,br,i))}function _r(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=me(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var l=(a=n[i])[0],c=e[l],h=a[1];if(o&&a[2]){if(void 0===c&&!(l in e))return!1}else{var u=new Fn;if(r)var d=r(c,h,l,e,t,u);if(!(void 0===d?br(h,c,3,r,u):d))return!1}}return!0}function wr(e){return!(!Uo(e)||(t=e,Ce&&Ce in t))&&(jo(e)?De:se).test(Es(e));var t}function xr(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?Mo(e)?Rr(e[0],e[1]):Er(e):tl(e)}function Sr(e){if(!cs(e))return rn(e);var t=[];for(var n in me(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function kr(e,t){return e<t}function Cr(e,t){var n=-1,i=Lo(e)?r(e.length):[];return Jn(e,(function(e,r,s){i[++n]=t(e,r,s)})),i}function Er(e){var t=Xi(e);return 1==t.length&&t[0][2]?us(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Rr(e,t){return os(e)&&hs(t)?us(Cs(e),t):function(n){var r=ma(n,e);return void 0===r&&r===t?ga(n,e):br(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&sr(t,(function(s,o){if(i||(i=new Fn),Uo(s))!function(e,t,n,r,i,s,o){var a=ms(e,n),l=ms(t,n),c=o.get(l);if(c)Vn(e,n,c);else{var h=s?s(a,l,n+"",e,t,o):void 0,u=void 0===h;if(u){var d=Mo(l),p=!d&&No(l),f=!d&&!p&&Qo(l);h=l,d||p||f?Mo(a)?h=a:Fo(a)?h=mi(a):p?(u=!1,h=ci(l,!0)):f?(u=!1,h=ui(l,!0)):h=[]:Wo(l)||Oo(l)?(h=a,Oo(a)?h=oa(a):Uo(a)&&!jo(a)||(h=ns(l))):u=!1}u&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),Vn(e,n,h)}}(e,t,o,n,Ar,r,i);else{var a=r?r(ms(e,o),s,o+"",e,t,i):void 0;void 0===a&&(a=s),Vn(e,o,a)}}),wa)}function Ir(e,t){var n=e.length;if(n)return is(t+=t<0?n:0,n)?e[t]:void 0}function Tr(e,t,n){var r=-1;return t=ht(t.length?t:[Ga],Rt(Yi())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=di(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(Cr(e,(function(e,n,i){return{criteria:ht(t,(function(t){return t(e)})),index:++r,value:e}})))}function Dr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=hr(e,o);n(a,o)&&Br(s,si(o,e),a)}return s}function Or(e,t,n,r){var i=r?bt:yt,s=-1,o=t.length,a=e;for(e===t&&(t=mi(t)),n&&(a=ht(e,Rt(n)));++s<o;)for(var l=0,c=t[s],h=n?n(c):c;(l=i(a,h,l,r))>-1;)a!==e&&Ze.call(a,l,1),Ze.call(e,l,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;is(i)?Ze.call(e,i,1):Kr(e,i)}}return e}function Pr(e,t){return e+Qt(cn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Fr(e,t){return ys(ds(e,t,Ga),e+"")}function Nr(e){return zn(Ia(e))}function zr(e,t){var n=Ia(e);return ws(n,Yn(t,0,n.length))}function Br(e,t,n,r){if(!Uo(e))return e;for(var i=-1,s=(t=si(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var l=Cs(t[i]),c=n;if(i!=o){var h=a[l];void 0===(c=r?r(h,l,a):void 0)&&(c=Uo(h)?h:is(t[i+1])?[]:{})}$n(a,l,c),a=a[l]}return e}var jr=vn?function(e,t){return vn.set(e,t),e}:Ga,Vr=Wt?function(e,t){return Wt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $r(e){return ws(Ia(e))}function Ur(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=r(s);++i<s;)o[i]=e[i+t];return o}function Hr(e,t){var n;return Jn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function qr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!Ko(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return Gr(e,t,Ga,n)}function Gr(e,t,n,r){t=n(t);for(var i=0,s=null==e?0:e.length,o=t!=t,a=null===t,l=Ko(t),c=void 0===t;i<s;){var h=Qt((i+s)/2),u=n(e[h]),d=void 0!==u,p=null===u,f=u==u,m=Ko(u);if(o)var g=r||f;else g=c?f&&(r||d):a?f&&d&&(r||!p):l?f&&d&&!p&&(r||!m):!p&&!m&&(r?u<=t:u<t);g?i=h+1:s=h}return on(s,4294967294)}function Wr(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Io(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function Yr(e){return"number"==typeof e?e:Ko(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(Mo(e))return ht(e,Zr)+"";if(Ko(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=lt,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=ct;else if(s>=200){var c=t?null:Li(e);if(c)return jt(c);o=!1,i=It,l=new Ln}else l=t?[]:a;e:for(;++r<s;){var h=e[r],u=t?t(h):h;if(h=n||0!==h?h:0,o&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue e;t&&l.push(u),a.push(h)}else i(l,u,n)||(l!==a&&l.push(u),a.push(h))}return a}function Kr(e,t){return null==(e=ps(e,t=si(t,e)))||delete e[Cs(zs(t))]}function Qr(e,t,n,r){return Br(e,t,n(hr(e,t)),r)}function Jr(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Ur(e,r?0:s,r?s+1:i):Ur(e,r?s+1:0,r?i:s)}function ei(e,t){var n=e;return n instanceof Dn&&(n=n.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,ut([e],t.args))}),n)}function ti(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=Qn(o[s]||a,e[l],t,n));return Xr(ir(o,1),t,n)}function ni(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;)n(o,e[r],r<s?t[r]:void 0);return o}function ri(e){return Fo(e)?e:[]}function ii(e){return"function"==typeof e?e:Ga}function si(e,t){return Mo(e)?e:os(e,t)?[e]:ks(aa(e))}var oi=Fr;function ai(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Ur(e,t,n)}var li=Yt||function(e){return He.clearTimeout(e)};function ci(e,t){if(t)return e.slice();var n=e.length,r=Ue?Ue(n):new e.constructor(n);return e.copy(r),r}function hi(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function ui(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function di(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,s=Ko(e),o=void 0!==t,a=null===t,l=t==t,c=Ko(t);if(!a&&!c&&!s&&e>t||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&e<t||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function pi(e,t,n,i){for(var s=-1,o=e.length,a=n.length,l=-1,c=t.length,h=sn(o-a,0),u=r(c+h),d=!i;++l<c;)u[l]=t[l];for(;++s<a;)(d||s<o)&&(u[n[s]]=e[s]);for(;h--;)u[l++]=e[s++];return u}function fi(e,t,n,i){for(var s=-1,o=e.length,a=-1,l=n.length,c=-1,h=t.length,u=sn(o-l,0),d=r(u+h),p=!i;++s<u;)d[s]=e[s];for(var f=s;++c<h;)d[f+c]=t[c];for(;++a<l;)(p||s<o)&&(d[f+n[a]]=e[s++]);return d}function mi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function gi(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Gn(n,a,l):$n(n,a,l)}return n}function vi(e,t){return function(n,r){var i=Mo(n)?rt:Hn,s=t?t():{};return i(n,e,Yi(r,2),s)}}function yi(e){return Fr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,o&&ss(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=me(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t}))}function bi(e,t){return function(n,r){if(null==n)return n;if(!Lo(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=me(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function _i(e){return function(t,n,r){for(var i=-1,s=me(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function wi(e){return function(t){var n=Ft(t=aa(t))?Ut(t):void 0,r=n?n[0]:t.charAt(0),i=n?ai(n,1).join(""):t.slice(1);return r[e]()+i}}function xi(e){return function(t){return dt(ja(Oa(t).replace(Ie,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),r=e.apply(n,t);return Uo(r)?r:n}}function ki(e){return function(t,n,r){var i=me(t);if(!Lo(t)){var s=Yi(n,3);t=_a(t),n=function(e){return s(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}function Ci(e){return $i((function(t){var n=t.length,r=n,s=Tn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ye(i);if(s&&!a&&"wrapper"==Gi(o))var a=new Tn([],!0)}for(r=a?r:n;++r<n;){var l=Gi(o=t[r]),c="wrapper"==l?qi(o):void 0;a=c&&as(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Gi(c[0])].apply(a,c[3]):1==o.length&&as(o)?a[l]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Mo(r))return a.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Ei(e,t,n,i,s,o,a,l,c,h){var u=128&t,d=1&t,p=2&t,f=24&t,m=512&t,g=p?void 0:Si(e);return function v(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(f)var w=Wi(v),x=Ot(b,w);if(i&&(b=pi(b,i,s,f)),o&&(b=fi(b,o,a,f)),y-=x,f&&y<h){var S=Bt(b,w);return Mi(e,t,Ei,v.placeholder,n,b,S,l,c,h-y)}var k=d?n:this,C=p?k[e]:e;return y=b.length,l?b=fs(b,l):m&&y>1&&b.reverse(),u&&c<y&&(b.length=c),this&&this!==He&&this instanceof v&&(C=g||Si(C)),C.apply(k,b)}}function Ri(e,t){return function(n,r){return function(e,t,n,r){return ar(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ii(e){return $i((function(t){return t=ht(t,Rt(Yi())),Fr((function(n){var r=this;return e(t,(function(e){return nt(e,r,n)}))}))}))}function Ti(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Kt(e/$t(t)));return Ft(t)?ai(Ut(r),0,e).join(""):r.slice(0,e)}function Di(e){return function(t,n,i){return i&&"number"!=typeof i&&ss(t,n,i)&&(n=i=void 0),t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n,i){for(var s=-1,o=sn(Kt((t-e)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:na(i),e)}}function Oi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function Mi(e,t,n,r,i,s,o,a,l,c){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var u=[e,t,i,h?s:void 0,h?o:void 0,h?void 0:s,h?void 0:o,a,l,c],d=n.apply(void 0,u);return as(e)&&gs(d,u),d.placeholder=r,bs(d,e,t)}function Pi(e){var t=fe[e];return function(e,n){if(e=sa(e),(n=null==n?0:on(ra(n),292))&&tn(e)){var r=(aa(e)+"e").split("e");return+((r=(aa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=fn&&1/jt(new fn([,-0]))[1]==1/0?function(e){return new fn(e)}:Ka;function Fi(e){return function(t){var n=es(t);return n==f?Nt(t):n==y?Vt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ni(e,t,n,o,a,l,c,h){var u=2&t;if(!u&&"function"!=typeof e)throw new ye(i);var d=o?o.length:0;if(d||(t&=-97,o=a=void 0),c=void 0===c?c:sn(ra(c),0),h=void 0===h?h:ra(h),d-=a?a.length:0,64&t){var p=o,f=a;o=a=void 0}var m=u?void 0:qi(e),g=[e,t,n,o,a,p,f,l,c,h];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var o=t[3];if(o){var a=e[3];e[3]=a?pi(a,o,t[4]):o,e[4]=a?Bt(e[3],s):t[4]}(o=t[5])&&(e[5]=(a=e[5])?fi(a,o,t[6]):o,e[6]=a?Bt(e[5],s):t[6]),(o=t[7])&&(e[7]=o),128&r&&(e[8]=null==e[8]?t[8]:on(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(g,m),e=g[0],t=g[1],n=g[2],o=g[3],a=g[4],!(h=g[9]=void 0===g[9]?u?0:e.length:sn(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Si(e);return function s(){for(var o=arguments.length,a=r(o),l=o,c=Wi(s);l--;)a[l]=arguments[l];var h=o<3&&a[0]!==c&&a[o-1]!==c?[]:Bt(a,c);return(o-=h.length)<n?Mi(e,t,Ei,s.placeholder,void 0,a,h,void 0,void 0,n-o):nt(this&&this!==He&&this instanceof s?i:e,this,a)}}(e,t,h):32!=t&&33!=t||a.length?Ei.apply(void 0,g):function(e,t,n,i){var s=1&t,o=Si(e);return function t(){for(var a=-1,l=arguments.length,c=-1,h=i.length,u=r(h+l),d=this&&this!==He&&this instanceof t?o:e;++c<h;)u[c]=i[c];for(;l--;)u[c++]=arguments[++a];return nt(d,s?n:this,u)}}(e,t,n,o);else var v=function(e,t,n){var r=1&t,i=Si(e);return function t(){return(this&&this!==He&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return bs((m?jr:gs)(v,g),e,t)}function zi(e,t,n,r){return void 0===e||Io(e,_e[n])&&!Se.call(r,n)?t:e}function Bi(e,t,n,r,i,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Ar(e,t,void 0,Bi,s),s.delete(t)),e}function ji(e){return Wo(e)?void 0:e}function Vi(e,t,n,r,i,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var h=-1,u=!0,d=2&n?new Ln:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],f=t[h];if(r)var m=o?r(f,p,h,t,e,s):r(p,f,h,e,t,s);if(void 0!==m){if(m)continue;u=!1;break}if(d){if(!ft(t,(function(e,t){if(!It(d,t)&&(p===e||i(p,e,n,r,s)))return d.push(t)}))){u=!1;break}}else if(p!==f&&!i(p,f,n,r,s)){u=!1;break}}return s.delete(e),s.delete(t),u}function $i(e){return ys(ds(e,void 0,Ms),e+"")}function Ui(e){return ur(e,_a,Qi)}function Hi(e){return ur(e,wa,Ji)}var qi=vn?function(e){return vn.get(e)}:Ka;function Gi(e){for(var t=e.name+"",n=yn[t],r=Se.call(yn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function Wi(e){return(Se.call(Rn,"placeholder")?Rn:e).placeholder}function Yi(){var e=Rn.iteratee||Wa;return e=e===Wa?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=_a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,hs(i)]}return t}function Ki(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wr(n)?n:void 0}var Qi=Jt?function(e){return null==e?[]:(e=me(e),at(Jt(e),(function(t){return Ye.call(e,t)})))}:il,Ji=Jt?function(e){for(var t=[];e;)ut(t,Qi(e)),e=qe(e);return t}:il,es=dr;function ts(e,t,n){for(var r=-1,i=(t=si(t,e)).length,s=!1;++r<i;){var o=Cs(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&$o(i)&&is(o,i)&&(Mo(e)||Oo(e))}function ns(e){return"function"!=typeof e.constructor||cs(e)?{}:An(qe(e))}function rs(e){return Mo(e)||Oo(e)||!!(mt&&e&&e[mt])}function is(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function ss(e,t,n){if(!Uo(n))return!1;var r=typeof t;return!!("number"==r?Lo(n)&&is(t,n.length):"string"==r&&t in n)&&Io(n[t],e)}function os(e,t){if(Mo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ko(e))||U.test(e)||!$.test(e)||null!=t&&e in me(t)}function as(e){var t=Gi(e),n=Rn[t];if("function"!=typeof n||!(t in Dn.prototype))return!1;if(e===n)return!0;var r=qi(n);return!!r&&e===r[0]}(un&&es(new un(new ArrayBuffer(1)))!=S||dn&&es(new dn)!=f||pn&&"[object Promise]"!=es(pn.resolve())||fn&&es(new fn)!=y||mn&&es(new mn)!=w)&&(es=function(e){var t=dr(e),n=t==g?e.constructor:void 0,r=n?Es(n):"";if(r)switch(r){case bn:return S;case _n:return f;case wn:return"[object Promise]";case xn:return y;case Sn:return w}return t});var ls=we?jo:sl;function cs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function hs(e){return e==e&&!Uo(e)}function us(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in me(n))}}function ds(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=sn(i.length-t,0),a=r(o);++s<o;)a[s]=i[t+s];s=-1;for(var l=r(t+1);++s<t;)l[s]=i[s];return l[t]=n(a),nt(e,this,l)}}function ps(e,t){return t.length<2?e:hr(e,Ur(t,0,-1))}function fs(e,t){for(var n=e.length,r=on(t.length,n),i=mi(e);r--;){var s=t[r];e[r]=is(s,n)?i[s]:void 0}return e}function ms(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var gs=_s(jr),vs=Xt||function(e,t){return He.setTimeout(e,t)},ys=_s(Vr);function bs(e,t,n){var r=t+"";return ys(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return it(o,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(K);return t?t[1].split(Q):[]}(r),n)))}function _s(e){var t=0,n=0;return function(){var r=an(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ws(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var s=Pr(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var xs,Ss,ks=(xs=So((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}),(function(e){return 500===Ss.size&&Ss.clear(),e})),Ss=xs.cache,xs);function Cs(e){if("string"==typeof e||Ko(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Es(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Rs(e){if(e instanceof Dn)return e.clone();var t=new Tn(e.__wrapped__,e.__chain__);return t.__actions__=mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var As=Fr((function(e,t){return Fo(e)?Qn(e,ir(t,1,Fo,!0)):[]})),Is=Fr((function(e,t){var n=zs(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ir(t,1,Fo,!0),Yi(n,2)):[]})),Ts=Fr((function(e,t){var n=zs(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ir(t,1,Fo,!0),void 0,n):[]}));function Ds(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),vt(e,Yi(t,3),i)}function Os(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?sn(r+i,0):on(i,r-1)),vt(e,Yi(t,3),i,!0)}function Ms(e){return null!=e&&e.length?ir(e,1):[]}function Ps(e){return e&&e.length?e[0]:void 0}var Ls=Fr((function(e){var t=ht(e,ri);return t.length&&t[0]===e[0]?gr(t):[]})),Fs=Fr((function(e){var t=zs(e),n=ht(e,ri);return t===zs(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Yi(t,2)):[]})),Ns=Fr((function(e){var t=zs(e),n=ht(e,ri);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function zs(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Bs=Fr(js);function js(e,t){return e&&e.length&&t&&t.length?Or(e,t):e}var Vs=$i((function(e,t){var n=null==e?0:e.length,r=Wn(e,t);return Mr(e,ht(t,(function(e){return is(e,n)?+e:e})).sort(di)),r}));function $s(e){return null==e?e:hn.call(e)}var Us=Fr((function(e){return Xr(ir(e,1,Fo,!0))})),Hs=Fr((function(e){var t=zs(e);return Fo(t)&&(t=void 0),Xr(ir(e,1,Fo,!0),Yi(t,2))})),qs=Fr((function(e){var t=zs(e);return t="function"==typeof t?t:void 0,Xr(ir(e,1,Fo,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=at(e,(function(e){if(Fo(e))return t=sn(e.length,t),!0})),Et(t,(function(t){return ht(e,xt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ht(n,(function(e){return nt(t,void 0,e)}))}var Ys=Fr((function(e,t){return Fo(e)?Qn(e,t):[]})),Zs=Fr((function(e){return ti(at(e,Fo))})),Xs=Fr((function(e){var t=zs(e);return Fo(t)&&(t=void 0),ti(at(e,Fo),Yi(t,2))})),Ks=Fr((function(e){var t=zs(e);return t="function"==typeof t?t:void 0,ti(at(e,Fo),void 0,t)})),Qs=Fr(Gs),Js=Fr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function eo(e){var t=Rn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=$i((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Wn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Dn&&is(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new Tn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),ro=vi((function(e,t,n){Se.call(e,n)?++e[n]:Gn(e,n,1)})),io=ki(Ds),so=ki(Os);function oo(e,t){return(Mo(e)?it:Jn)(e,Yi(t,3))}function ao(e,t){return(Mo(e)?st:er)(e,Yi(t,3))}var lo=vi((function(e,t,n){Se.call(e,n)?e[n].push(t):Gn(e,n,[t])})),co=Fr((function(e,t,n){var i=-1,s="function"==typeof t,o=Lo(e)?r(e.length):[];return Jn(e,(function(e){o[++i]=s?nt(t,e,n):vr(e,t,n)})),o})),ho=vi((function(e,t,n){Gn(e,n,t)}));function uo(e,t){return(Mo(e)?ht:Cr)(e,Yi(t,3))}var po=vi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),fo=Fr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ss(e,t[0],t[1])?t=[]:n>2&&ss(t[0],t[1],t[2])&&(t=[t[0]]),Tr(e,ir(t,1),[])})),mo=Zt||function(){return He.Date.now()};function go(e,t,n){return t=n?void 0:t,Ni(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vo(e,t){var n;if("function"!=typeof t)throw new ye(i);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var yo=Fr((function(e,t,n){var r=1;if(n.length){var i=Bt(n,Wi(yo));r|=32}return Ni(e,r,t,n,i)})),bo=Fr((function(e,t,n){var r=3;if(n.length){var i=Bt(n,Wi(bo));r|=32}return Ni(t,r,e,n,i)}));function _o(e,t,n){var r,s,o,a,l,c,h=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new ye(i);function f(t){var n=r,i=s;return r=s=void 0,h=t,a=e.apply(i,n)}function m(e){return h=e,l=vs(v,t),u?f(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-h>=o}function v(){var e=mo();if(g(e))return y(e);l=vs(v,function(e){var n=t-(e-c);return d?on(n,o-(e-h)):n}(e))}function y(e){return l=void 0,p&&r?f(e):(r=s=void 0,a)}function b(){var e=mo(),n=g(e);if(r=arguments,s=this,c=e,n){if(void 0===l)return m(c);if(d)return li(l),l=vs(v,t),f(c)}return void 0===l&&(l=vs(v,t)),a}return t=sa(t)||0,Uo(n)&&(u=!!n.leading,o=(d="maxWait"in n)?sn(sa(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==l&&li(l),h=0,r=c=s=l=void 0},b.flush=function(){return void 0===l?a:y(mo())},b}var wo=Fr((function(e,t){return Kn(e,1,t)})),xo=Fr((function(e,t,n){return Kn(e,sa(t)||0,n)}));function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(So.Cache||Pn),n}function ko(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}So.Cache=Pn;var Co=oi((function(e,t){var n=(t=1==t.length&&Mo(t[0])?ht(t[0],Rt(Yi())):ht(ir(t,1),Rt(Yi()))).length;return Fr((function(r){for(var i=-1,s=on(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)}))})),Eo=Fr((function(e,t){return Ni(e,32,void 0,t,Bt(t,Wi(Eo)))})),Ro=Fr((function(e,t){return Ni(e,64,void 0,t,Bt(t,Wi(Ro)))})),Ao=$i((function(e,t){return Ni(e,256,void 0,void 0,void 0,t)}));function Io(e,t){return e===t||e!=e&&t!=t}var To=Oi(pr),Do=Oi((function(e,t){return e>=t})),Oo=yr(function(){return arguments}())?yr:function(e){return Ho(e)&&Se.call(e,"callee")&&!Ye.call(e,"callee")},Mo=r.isArray,Po=Xe?Rt(Xe):function(e){return Ho(e)&&dr(e)==x};function Lo(e){return null!=e&&$o(e.length)&&!jo(e)}function Fo(e){return Ho(e)&&Lo(e)}var No=en||sl,zo=Ke?Rt(Ke):function(e){return Ho(e)&&dr(e)==h};function Bo(e){if(!Ho(e))return!1;var t=dr(e);return t==u||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function jo(e){if(!Uo(e))return!1;var t=dr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vo(e){return"number"==typeof e&&e==ra(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ho(e){return null!=e&&"object"==typeof e}var qo=Qe?Rt(Qe):function(e){return Ho(e)&&es(e)==f};function Go(e){return"number"==typeof e||Ho(e)&&dr(e)==m}function Wo(e){if(!Ho(e)||dr(e)!=g)return!1;var t=qe(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Re}var Yo=Je?Rt(Je):function(e){return Ho(e)&&dr(e)==v},Zo=et?Rt(et):function(e){return Ho(e)&&es(e)==y};function Xo(e){return"string"==typeof e||!Mo(e)&&Ho(e)&&dr(e)==b}function Ko(e){return"symbol"==typeof e||Ho(e)&&dr(e)==_}var Qo=tt?Rt(tt):function(e){return Ho(e)&&$o(e.length)&&!!Ne[dr(e)]},Jo=Oi(kr),ea=Oi((function(e,t){return e<=t}));function ta(e){if(!e)return[];if(Lo(e))return Xo(e)?Ut(e):mi(e);if(St&&e[St])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[St]());var t=es(e);return(t==f?Nt:t==y?jt:Ia)(e)}function na(e){return e?1/0===(e=sa(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=na(e),n=t%1;return t==t?n?t-n:t:0}function ia(e){return e?Yn(ra(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Ko(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(W,"");var n=ie.test(e);return n||oe.test(e)?Ve(e.slice(2),n?2:8):re.test(e)?NaN:+e}function oa(e){return gi(e,wa(e))}function aa(e){return null==e?"":Zr(e)}var la=yi((function(e,t){if(cs(t)||Lo(t))gi(t,_a(t),e);else for(var n in t)Se.call(t,n)&&$n(e,n,t[n])})),ca=yi((function(e,t){gi(t,wa(t),e)})),ha=yi((function(e,t,n,r){gi(t,wa(t),e,r)})),ua=yi((function(e,t,n,r){gi(t,_a(t),e,r)})),da=$i(Wn),pa=Fr((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ss(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=wa(s),a=-1,l=o.length;++a<l;){var c=o[a],h=e[c];(void 0===h||Io(h,_e[c])&&!Se.call(e,c))&&(e[c]=s[c])}return e})),fa=Fr((function(e){return e.push(void 0,Bi),nt(Sa,void 0,e)}));function ma(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function ga(e,t){return null!=e&&ts(e,t,mr)}var va=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n}),Ua(Ga)),ya=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),ba=Fr(vr);function _a(e){return Lo(e)?Nn(e):Sr(e)}function wa(e){return Lo(e)?Nn(e,!0):function(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=cs(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}(e)}var xa=yi((function(e,t,n){Ar(e,t,n)})),Sa=yi((function(e,t,n,r){Ar(e,t,n,r)})),ka=$i((function(e,t){var n={};if(null==e)return n;var r=!1;t=ht(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),gi(e,Hi(e),n),r&&(n=Zn(n,7,ji));for(var i=t.length;i--;)Kr(n,t[i]);return n})),Ca=$i((function(e,t){return null==e?{}:function(e,t){return Dr(e,t,(function(t,n){return ga(e,n)}))}(e,t)}));function Ea(e,t){if(null==e)return{};var n=ht(Hi(e),(function(e){return[e]}));return t=Yi(t),Dr(e,n,(function(e,n){return t(e,n[0])}))}var Ra=Fi(_a),Aa=Fi(wa);function Ia(e){return null==e?[]:At(e,_a(e))}var Ta=xi((function(e,t,n){return t=t.toLowerCase(),e+(n?Da(t):t)}));function Da(e){return Ba(aa(e).toLowerCase())}function Oa(e){return(e=aa(e))&&e.replace(le,Mt).replace(Te,"")}var Ma=xi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Pa=xi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),La=wi("toLowerCase"),Fa=xi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Na=xi((function(e,t,n){return e+(n?" ":"")+Ba(t)})),za=xi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ba=wi("toUpperCase");function ja(e,t,n){return e=aa(e),void 0===(t=n?void 0:t)?function(e){return Pe.test(e)}(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var Va=Fr((function(e,t){try{return nt(e,void 0,t)}catch(n){return Bo(n)?n:new de(n)}})),$a=$i((function(e,t){return it(t,(function(t){t=Cs(t),Gn(e,t,yo(e[t],e))})),e}));function Ua(e){return function(){return e}}var Ha=Ci(),qa=Ci(!0);function Ga(e){return e}function Wa(e){return xr("function"==typeof e?e:Zn(e,1))}var Ya=Fr((function(e,t){return function(n){return vr(n,e,t)}})),Za=Fr((function(e,t){return function(n){return vr(e,n,t)}}));function Xa(e,t,n){var r=_a(t),i=cr(t,r);null!=n||Uo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=jo(e);return it(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ut([this.value()],arguments))})})),e}function Ka(){}var Qa=Ii(ht),Ja=Ii(ot),el=Ii(ft);function tl(e){return os(e)?xt(Cs(e)):function(e){return function(t){return hr(t,e)}}(e)}var nl=Di(),rl=Di(!0);function il(){return[]}function sl(){return!1}var ol,al=Ai((function(e,t){return e+t}),0),ll=Pi("ceil"),cl=Ai((function(e,t){return e/t}),1),hl=Pi("floor"),ul=Ai((function(e,t){return e*t}),1),dl=Pi("round"),pl=Ai((function(e,t){return e-t}),0);return Rn.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},Rn.ary=go,Rn.assign=la,Rn.assignIn=ca,Rn.assignInWith=ha,Rn.assignWith=ua,Rn.at=da,Rn.before=vo,Rn.bind=yo,Rn.bindAll=$a,Rn.bindKey=bo,Rn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Mo(e)?e:[e]},Rn.chain=eo,Rn.chunk=function(e,t,n){t=(n?ss(e,t,n):void 0===t)?1:sn(ra(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=r(Kt(i/t));s<i;)a[o++]=Ur(e,s,s+=t);return a},Rn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Rn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ut(Mo(n)?mi(n):[n],ir(t,1))},Rn.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new ye(i);return[n(e[0]),e[1]]})):[],Fr((function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}}))},Rn.conforms=function(e){return function(e){var t=_a(e);return function(n){return Xn(n,e,t)}}(Zn(e,1))},Rn.constant=Ua,Rn.countBy=ro,Rn.create=function(e,t){var n=An(e);return null==t?n:qn(n,t)},Rn.curry=function e(t,n,r){var i=Ni(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.curryRight=function e(t,n,r){var i=Ni(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.debounce=_o,Rn.defaults=pa,Rn.defaultsDeep=fa,Rn.defer=wo,Rn.delay=xo,Rn.difference=As,Rn.differenceBy=Is,Rn.differenceWith=Ts,Rn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ur(e,(t=n||void 0===t?1:ra(t))<0?0:t,r):[]},Rn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ur(e,0,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},Rn.dropRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0,!0):[]},Rn.dropWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0):[]},Rn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ss(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Rn.filter=function(e,t){return(Mo(e)?at:rr)(e,Yi(t,3))},Rn.flatMap=function(e,t){return ir(uo(e,t),1)},Rn.flatMapDeep=function(e,t){return ir(uo(e,t),1/0)},Rn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),ir(uo(e,t),n)},Rn.flatten=Ms,Rn.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},Rn.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:ra(t)):[]},Rn.flip=function(e){return Ni(e,512)},Rn.flow=Ha,Rn.flowRight=qa,Rn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Rn.functions=function(e){return null==e?[]:cr(e,_a(e))},Rn.functionsIn=function(e){return null==e?[]:cr(e,wa(e))},Rn.groupBy=lo,Rn.initial=function(e){return null!=e&&e.length?Ur(e,0,-1):[]},Rn.intersection=Ls,Rn.intersectionBy=Fs,Rn.intersectionWith=Ns,Rn.invert=va,Rn.invertBy=ya,Rn.invokeMap=co,Rn.iteratee=Wa,Rn.keyBy=ho,Rn.keys=_a,Rn.keysIn=wa,Rn.map=uo,Rn.mapKeys=function(e,t){var n={};return t=Yi(t,3),ar(e,(function(e,r,i){Gn(n,t(e,r,i),e)})),n},Rn.mapValues=function(e,t){var n={};return t=Yi(t,3),ar(e,(function(e,r,i){Gn(n,r,t(e,r,i))})),n},Rn.matches=function(e){return Er(Zn(e,1))},Rn.matchesProperty=function(e,t){return Rr(e,Zn(t,1))},Rn.memoize=So,Rn.merge=xa,Rn.mergeWith=Sa,Rn.method=Ya,Rn.methodOf=Za,Rn.mixin=Xa,Rn.negate=ko,Rn.nthArg=function(e){return e=ra(e),Fr((function(t){return Ir(t,e)}))},Rn.omit=ka,Rn.omitBy=function(e,t){return Ea(e,ko(Yi(t)))},Rn.once=function(e){return vo(2,e)},Rn.orderBy=function(e,t,n,r){return null==e?[]:(Mo(t)||(t=null==t?[]:[t]),Mo(n=r?void 0:n)||(n=null==n?[]:[n]),Tr(e,t,n))},Rn.over=Qa,Rn.overArgs=Co,Rn.overEvery=Ja,Rn.overSome=el,Rn.partial=Eo,Rn.partialRight=Ro,Rn.partition=po,Rn.pick=Ca,Rn.pickBy=Ea,Rn.property=tl,Rn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Rn.pull=Bs,Rn.pullAll=js,Rn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Or(e,t,Yi(n,2)):e},Rn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Or(e,t,void 0,n):e},Rn.pullAt=Vs,Rn.range=nl,Rn.rangeRight=rl,Rn.rearg=Ao,Rn.reject=function(e,t){return(Mo(e)?at:rr)(e,ko(Yi(t,3)))},Rn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=Yi(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Mr(e,i),n},Rn.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Fr(e,t=void 0===t?t:ra(t))},Rn.reverse=$s,Rn.sampleSize=function(e,t,n){return t=(n?ss(e,t,n):void 0===t)?1:ra(t),(Mo(e)?Bn:zr)(e,t)},Rn.set=function(e,t,n){return null==e?e:Br(e,t,n)},Rn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,t,n,r)},Rn.shuffle=function(e){return(Mo(e)?jn:$r)(e)},Rn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ss(e,t,n)?(t=0,n=r):(t=null==t?0:ra(t),n=void 0===n?r:ra(n)),Ur(e,t,n)):[]},Rn.sortBy=fo,Rn.sortedUniq=function(e){return e&&e.length?Wr(e):[]},Rn.sortedUniqBy=function(e,t){return e&&e.length?Wr(e,Yi(t,2)):[]},Rn.split=function(e,t,n){return n&&"number"!=typeof n&&ss(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=aa(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Zr(t))&&Ft(e)?ai(Ut(e),0,n):e.split(t,n):[]},Rn.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:sn(ra(t),0),Fr((function(n){var r=n[t],i=ai(n,0,t);return r&&ut(i,r),nt(e,this,i)}))},Rn.tail=function(e){var t=null==e?0:e.length;return t?Ur(e,1,t):[]},Rn.take=function(e,t,n){return e&&e.length?Ur(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},Rn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ur(e,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t,r):[]},Rn.takeRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!1,!0):[]},Rn.takeWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3)):[]},Rn.tap=function(e,t){return t(e),e},Rn.throttle=function(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new ye(i);return Uo(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),_o(e,t,{leading:r,maxWait:t,trailing:s})},Rn.thru=to,Rn.toArray=ta,Rn.toPairs=Ra,Rn.toPairsIn=Aa,Rn.toPath=function(e){return Mo(e)?ht(e,Cs):Ko(e)?[e]:mi(ks(aa(e)))},Rn.toPlainObject=oa,Rn.transform=function(e,t,n){var r=Mo(e),i=r||No(e)||Qo(e);if(t=Yi(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:Uo(e)&&jo(s)?An(qe(e)):{}}return(i?it:ar)(e,(function(e,r,i){return t(n,e,r,i)})),n},Rn.unary=function(e){return go(e,1)},Rn.union=Us,Rn.unionBy=Hs,Rn.unionWith=qs,Rn.uniq=function(e){return e&&e.length?Xr(e):[]},Rn.uniqBy=function(e,t){return e&&e.length?Xr(e,Yi(t,2)):[]},Rn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Rn.unset=function(e,t){return null==e||Kr(e,t)},Rn.unzip=Gs,Rn.unzipWith=Ws,Rn.update=function(e,t,n){return null==e?e:Qr(e,t,ii(n))},Rn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,ii(n),r)},Rn.values=Ia,Rn.valuesIn=function(e){return null==e?[]:At(e,wa(e))},Rn.without=Ys,Rn.words=ja,Rn.wrap=function(e,t){return Eo(ii(t),e)},Rn.xor=Zs,Rn.xorBy=Xs,Rn.xorWith=Ks,Rn.zip=Qs,Rn.zipObject=function(e,t){return ni(e||[],t||[],$n)},Rn.zipObjectDeep=function(e,t){return ni(e||[],t||[],Br)},Rn.zipWith=Js,Rn.entries=Ra,Rn.entriesIn=Aa,Rn.extend=ca,Rn.extendWith=ha,Xa(Rn,Rn),Rn.add=al,Rn.attempt=Va,Rn.camelCase=Ta,Rn.capitalize=Da,Rn.ceil=ll,Rn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Yn(sa(e),t,n)},Rn.clone=function(e){return Zn(e,4)},Rn.cloneDeep=function(e){return Zn(e,5)},Rn.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},Rn.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},Rn.conformsTo=function(e,t){return null==t||Xn(e,t,_a(t))},Rn.deburr=Oa,Rn.defaultTo=function(e,t){return null==e||e!=e?t:e},Rn.divide=cl,Rn.endsWith=function(e,t,n){e=aa(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Yn(ra(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Rn.eq=Io,Rn.escape=function(e){return(e=aa(e))&&z.test(e)?e.replace(F,Pt):e},Rn.escapeRegExp=function(e){return(e=aa(e))&&G.test(e)?e.replace(q,"\\$&"):e},Rn.every=function(e,t,n){var r=Mo(e)?ot:tr;return n&&ss(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Rn.find=io,Rn.findIndex=Ds,Rn.findKey=function(e,t){return gt(e,Yi(t,3),ar)},Rn.findLast=so,Rn.findLastIndex=Os,Rn.findLastKey=function(e,t){return gt(e,Yi(t,3),lr)},Rn.floor=hl,Rn.forEach=oo,Rn.forEachRight=ao,Rn.forIn=function(e,t){return null==e?e:sr(e,Yi(t,3),wa)},Rn.forInRight=function(e,t){return null==e?e:or(e,Yi(t,3),wa)},Rn.forOwn=function(e,t){return e&&ar(e,Yi(t,3))},Rn.forOwnRight=function(e,t){return e&&lr(e,Yi(t,3))},Rn.get=ma,Rn.gt=To,Rn.gte=Do,Rn.has=function(e,t){return null!=e&&ts(e,t,fr)},Rn.hasIn=ga,Rn.head=Ps,Rn.identity=Ga,Rn.includes=function(e,t,n,r){e=Lo(e)?e:Ia(e),n=n&&!r?ra(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Xo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&yt(e,t,n)>-1},Rn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),yt(e,t,i)},Rn.inRange=function(e,t,n){return t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n){return e>=on(t,n)&&e<sn(t,n)}(e=sa(e),t,n)},Rn.invoke=ba,Rn.isArguments=Oo,Rn.isArray=Mo,Rn.isArrayBuffer=Po,Rn.isArrayLike=Lo,Rn.isArrayLikeObject=Fo,Rn.isBoolean=function(e){return!0===e||!1===e||Ho(e)&&dr(e)==c},Rn.isBuffer=No,Rn.isDate=zo,Rn.isElement=function(e){return Ho(e)&&1===e.nodeType&&!Wo(e)},Rn.isEmpty=function(e){if(null==e)return!0;if(Lo(e)&&(Mo(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Qo(e)||Oo(e)))return!e.length;var t=es(e);if(t==f||t==y)return!e.size;if(cs(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},Rn.isEqual=function(e,t){return br(e,t)},Rn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Rn.isError=Bo,Rn.isFinite=function(e){return"number"==typeof e&&tn(e)},Rn.isFunction=jo,Rn.isInteger=Vo,Rn.isLength=$o,Rn.isMap=qo,Rn.isMatch=function(e,t){return e===t||_r(e,t,Xi(t))},Rn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Xi(t),n)},Rn.isNaN=function(e){return Go(e)&&e!=+e},Rn.isNative=function(e){if(ls(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(e)},Rn.isNil=function(e){return null==e},Rn.isNull=function(e){return null===e},Rn.isNumber=Go,Rn.isObject=Uo,Rn.isObjectLike=Ho,Rn.isPlainObject=Wo,Rn.isRegExp=Yo,Rn.isSafeInteger=function(e){return Vo(e)&&e>=-9007199254740991&&e<=9007199254740991},Rn.isSet=Zo,Rn.isString=Xo,Rn.isSymbol=Ko,Rn.isTypedArray=Qo,Rn.isUndefined=function(e){return void 0===e},Rn.isWeakMap=function(e){return Ho(e)&&es(e)==w},Rn.isWeakSet=function(e){return Ho(e)&&"[object WeakSet]"==dr(e)},Rn.join=function(e,t){return null==e?"":nn.call(e,t)},Rn.kebabCase=Ma,Rn.last=zs,Rn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?sn(r+i,0):on(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):vt(e,_t,i,!0)},Rn.lowerCase=Pa,Rn.lowerFirst=La,Rn.lt=Jo,Rn.lte=ea,Rn.max=function(e){return e&&e.length?nr(e,Ga,pr):void 0},Rn.maxBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),pr):void 0},Rn.mean=function(e){return wt(e,Ga)},Rn.meanBy=function(e,t){return wt(e,Yi(t,2))},Rn.min=function(e){return e&&e.length?nr(e,Ga,kr):void 0},Rn.minBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),kr):void 0},Rn.stubArray=il,Rn.stubFalse=sl,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=ul,Rn.nth=function(e,t){return e&&e.length?Ir(e,ra(t)):void 0},Rn.noConflict=function(){return He._===this&&(He._=Ae),this},Rn.noop=Ka,Rn.now=mo,Rn.pad=function(e,t,n){e=aa(e);var r=(t=ra(t))?$t(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ti(Qt(i),n)+e+Ti(Kt(i),n)},Rn.padEnd=function(e,t,n){e=aa(e);var r=(t=ra(t))?$t(e):0;return t&&r<t?e+Ti(t-r,n):e},Rn.padStart=function(e,t,n){e=aa(e);var r=(t=ra(t))?$t(e):0;return t&&r<t?Ti(t-r,n)+e:e},Rn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(aa(e).replace(Y,""),t||0)},Rn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ss(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=na(e),void 0===t?(t=e,e=0):t=na(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return on(e+i*(t-e+je("1e-"+((i+"").length-1))),t)}return Pr(e,t)},Rn.reduce=function(e,t,n){var r=Mo(e)?dt:kt,i=arguments.length<3;return r(e,Yi(t,4),n,i,Jn)},Rn.reduceRight=function(e,t,n){var r=Mo(e)?pt:kt,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},Rn.repeat=function(e,t,n){return t=(n?ss(e,t,n):void 0===t)?1:ra(t),Lr(aa(e),t)},Rn.replace=function(){var e=arguments,t=aa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rn.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var s=null==e?void 0:e[Cs(t[r])];void 0===s&&(r=i,s=n),e=jo(s)?s.call(e):s}return e},Rn.round=dl,Rn.runInContext=e,Rn.sample=function(e){return(Mo(e)?zn:Nr)(e)},Rn.size=function(e){if(null==e)return 0;if(Lo(e))return Xo(e)?$t(e):e.length;var t=es(e);return t==f||t==y?e.size:Sr(e).length},Rn.snakeCase=Fa,Rn.some=function(e,t,n){var r=Mo(e)?ft:Hr;return n&&ss(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Rn.sortedIndex=function(e,t){return qr(e,t)},Rn.sortedIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2))},Rn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qr(e,t);if(r<n&&Io(e[r],t))return r}return-1},Rn.sortedLastIndex=function(e,t){return qr(e,t,!0)},Rn.sortedLastIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2),!0)},Rn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=qr(e,t,!0)-1;if(Io(e[n],t))return n}return-1},Rn.startCase=Na,Rn.startsWith=function(e,t,n){return e=aa(e),n=null==n?0:Yn(ra(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},Rn.subtract=pl,Rn.sum=function(e){return e&&e.length?Ct(e,Ga):0},Rn.sumBy=function(e,t){return e&&e.length?Ct(e,Yi(t,2)):0},Rn.template=function(e,t,n){var r=Rn.templateSettings;n&&ss(e,t,n)&&(t=void 0),e=aa(e),t=ha({},t,r,zi);var i,s,o=ha({},t.imports,r.imports,zi),a=_a(o),l=At(o,a),c=0,h=t.interpolate||ce,u="__p += '",d=ge((t.escape||ce).source+"|"+h.source+"|"+(h===V?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),p="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(d,(function(t,n,r,o,a,l){return r||(r=o),u+=e.slice(c,l).replace(he,Lt),n&&(i=!0,u+="' +\n__e("+n+") +\n'"),a&&(s=!0,u+="';\n"+a+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),u+="';\n";var f=Se.call(t,"variable")&&t.variable;f||(u="with (obj) {\n"+u+"\n}\n"),u=(s?u.replace(O,""):u).replace(M,"$1").replace(P,"$1;"),u="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m=Va((function(){return pe(a,p+"return "+u).apply(void 0,l)}));if(m.source=u,Bo(m))throw m;return m},Rn.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,r=on(e,4294967295);e-=4294967295;for(var i=Et(r,t=Yi(t));++n<e;)t(n);return i},Rn.toFinite=na,Rn.toInteger=ra,Rn.toLength=ia,Rn.toLower=function(e){return aa(e).toLowerCase()},Rn.toNumber=sa,Rn.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},Rn.toString=aa,Rn.toUpper=function(e){return aa(e).toUpperCase()},Rn.trim=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Zr(t)))return e;var r=Ut(e),i=Ut(t);return ai(r,Tt(r,i),Dt(r,i)+1).join("")},Rn.trimEnd=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Zr(t)))return e;var r=Ut(e);return ai(r,0,Dt(r,Ut(t))+1).join("")},Rn.trimStart=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Zr(t)))return e;var r=Ut(e);return ai(r,Tt(r,Ut(t))).join("")},Rn.truncate=function(e,t){var n=30,r="...";if(Uo(t)){var i="separator"in t?t.separator:i;n="length"in t?ra(t.length):n,r="omission"in t?Zr(t.omission):r}var s=(e=aa(e)).length;if(Ft(e)){var o=Ut(e);s=o.length}if(n>=s)return e;var a=n-$t(r);if(a<1)return r;var l=o?ai(o,0,a).join(""):e.slice(0,a);if(void 0===i)return l+r;if(o&&(a+=l.length-a),Yo(i)){if(e.slice(a).search(i)){var c,h=l;for(i.global||(i=ge(i.source,aa(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var u=c.index;l=l.slice(0,void 0===u?a:u)}}else if(e.indexOf(Zr(i),a)!=a){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},Rn.unescape=function(e){return(e=aa(e))&&N.test(e)?e.replace(L,Ht):e},Rn.uniqueId=function(e){var t=++ke;return aa(e)+t},Rn.upperCase=za,Rn.upperFirst=Ba,Rn.each=oo,Rn.eachRight=ao,Rn.first=Ps,Xa(Rn,(ol={},ar(Rn,(function(e,t){Se.call(Rn.prototype,t)||(ol[t]=e)})),ol),{chain:!1}),Rn.VERSION="4.17.15",it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Rn[e].placeholder=Rn})),it(["drop","take"],(function(e,t){Dn.prototype[e]=function(n){n=void 0===n?1:sn(ra(n),0);var r=this.__filtered__&&!t?new Dn(this):this.clone();return r.__filtered__?r.__takeCount__=on(n,r.__takeCount__):r.__views__.push({size:on(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Dn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),it(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[n](1).value()[0]}})),it(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[n](1)}})),Dn.prototype.compact=function(){return this.filter(Ga)},Dn.prototype.find=function(e){return this.filter(e).head()},Dn.prototype.findLast=function(e){return this.reverse().find(e)},Dn.prototype.invokeMap=Fr((function(e,t){return"function"==typeof e?new Dn(this):this.map((function(n){return vr(n,e,t)}))})),Dn.prototype.reject=function(e){return this.filter(ko(Yi(e)))},Dn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dn.prototype.toArray=function(){return this.take(4294967295)},ar(Dn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Rn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(Rn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,a=t instanceof Dn,l=o[0],c=a||Mo(t),h=function(e){var t=i.apply(Rn,ut([e],o));return r&&u?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var u=this.__chain__,d=!!this.__actions__.length,p=s&&!u,f=a&&!d;if(!s&&c){t=f?t:new Dn(this);var m=e.apply(t,o);return m.__actions__.push({func:to,args:[h],thisArg:void 0}),new Tn(m,u)}return p&&f?e.apply(this,o):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),it(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Rn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Mo(i)?i:[],e)}return this[n]((function(n){return t.apply(Mo(n)?n:[],e)}))}})),ar(Dn.prototype,(function(e,t){var n=Rn[t];if(n){var r=n.name+"";Se.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}})),yn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],Dn.prototype.clone=function(){var e=new Dn(this.__wrapped__);return e.__actions__=mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mi(this.__views__),e},Dn.prototype.reverse=function(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Mo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=on(t,e+o);break;case"takeRight":e=sn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,c=r?a:o-1,h=this.__iteratees__,u=h.length,d=0,p=on(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return ei(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var m=-1,g=e[c+=t];++m<u;){var v=h[m],y=v.type,b=(0,v.iteratee)(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}f[d++]=g}return f},Rn.prototype.at=no,Rn.prototype.chain=function(){return eo(this)},Rn.prototype.commit=function(){return new Tn(this.value(),this.__chain__)},Rn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Rn.prototype.plant=function(e){for(var t,n=this;n instanceof In;){var r=Rs(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Rn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;return this.__actions__.length&&(t=new Dn(this)),(t=t.reverse()).__actions__.push({func:to,args:[$s],thisArg:void 0}),new Tn(t,this.__chain__)}return this.thru($s)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,St&&(Rn.prototype[St]=function(){return this}),Rn}();He._=qt,void 0===(r=(function(){return qt}).call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n("YuTi")(e))},WuQa:function(e,t,n){var r;r=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(e){try{return!!e()}catch(t){return!0}},s=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),o={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l={f:a&&!o.call({1:2},1)?function(e){var t=a(this,e);return!!t&&t.enumerable}:o},c=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,u=function(e){return h.call(e).slice(8,-1)},d="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==u(e)?d.call(e,""):Object(e)}:Object,f=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},m=function(e){return p(f(e))},g=function(e){return"object"==typeof e?null!==e:"function"==typeof e},v=function(e,t){if(!g(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!g(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,b=function(e,t){return y.call(e,t)},_=r.document,w=g(_)&&g(_.createElement),x=function(e){return w?_.createElement(e):{}},S=!s&&!i((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,C={f:s?k:function(e,t){if(e=m(e),t=v(t,!0),S)try{return k(e,t)}catch(n){}if(b(e,t))return c(!l.f.call(e,t),e[t])}},E=function(e){if(!g(e))throw TypeError(String(e)+" is not an object");return e},R=Object.defineProperty,A={f:s?R:function(e,t,n){if(E(e),t=v(t,!0),E(n),S)try{return R(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},I=s?function(e,t,n){return A.f(e,t,c(1,n))}:function(e,t,n){return e[t]=n,e},T=function(e,t){try{I(r,e,t)}catch(n){r[e]=t}return t},D=r["__core-js_shared__"]||T("__core-js_shared__",{}),O=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(e){return O.call(e)});var M,P,L,F=D.inspectSource,N=r.WeakMap,z="function"==typeof N&&/native code/.test(F(N)),B=t((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),j=0,V=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++j+V).toString(36)},U=B("keys"),H=function(e){return U[e]||(U[e]=$(e))},q={};if(z){var G=new(0,r.WeakMap),W=G.get,Y=G.has,Z=G.set;M=function(e,t){return Z.call(G,e,t),t},P=function(e){return W.call(G,e)||{}},L=function(e){return Y.call(G,e)}}else{var X=H("state");q[X]=!0,M=function(e,t){return I(e,X,t),t},P=function(e){return b(e,X)?e[X]:{}},L=function(e){return b(e,X)}}var K,Q,J={set:M,get:P,has:L,enforce:function(e){return L(e)?P(e):M(e,{})},getterFor:function(e){return function(t){var n;if(!g(t)||(n=P(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=t((function(e){var t=J.get,n=J.enforce,i=String(String).split("String");(e.exports=function(e,t,s,o){var a=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof s&&("string"!=typeof t||b(s,"name")||I(s,"name",t),n(s).source=i.join("string"==typeof t?t:"")),e!==r?(a?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=s:I(e,t,s)):l?e[t]=s:T(t,s)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||F(this)}))})),te=r,ne=function(e){return"function"==typeof e?e:void 0},re=function(e,t){return arguments.length<2?ne(te[e])||ne(r[e]):te[e]&&te[e][t]||r[e]&&r[e][t]},ie=Math.ceil,se=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?se:ie)(e)},ae=Math.min,le=function(e){return e>0?ae(oe(e),9007199254740991):0},ce=Math.max,he=Math.min,ue=function(e,t){var n=oe(e);return n<0?ce(n+t,0):he(n,t)},de=function(e){return function(t,n,r){var i,s=m(t),o=le(s.length),a=ue(r,o);if(e&&n!=n){for(;o>a;)if((i=s[a++])!=i)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},pe={includes:de(!0),indexOf:de(!1)},fe=pe.indexOf,me=function(e,t){var n,r=m(e),i=0,s=[];for(n in r)!b(q,n)&&b(r,n)&&s.push(n);for(;t.length>i;)b(r,n=t[i++])&&(~fe(s,n)||s.push(n));return s},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ve=ge.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return me(e,ve)}},be={f:Object.getOwnPropertySymbols},_e=re("Reflect","ownKeys")||function(e){var t=ye.f(E(e)),n=be.f;return n?t.concat(n(e)):t},we=function(e,t){for(var n=_e(t),r=A.f,i=C.f,s=0;s<n.length;s++){var o=n[s];b(e,o)||r(e,o,i(t,o))}},xe=/#|\.prototype\./,Se=function(e,t){var n=Ce[ke(e)];return n==Re||n!=Ee&&("function"==typeof t?i(t):!!t)},ke=Se.normalize=function(e){return String(e).replace(xe,".").toLowerCase()},Ce=Se.data={},Ee=Se.NATIVE="N",Re=Se.POLYFILL="P",Ae=Se,Ie=C.f,Te=function(e,t){var n,i,s,o,a,l=e.target,c=e.global,h=e.stat;if(n=c?r:h?r[l]||T(l,{}):(r[l]||{}).prototype)for(i in t){if(o=t[i],s=e.noTargetGet?(a=Ie(n,i))&&a.value:n[i],!Ae(c?i:l+(h?".":"#")+i,e.forced)&&void 0!==s){if(typeof o==typeof s)continue;we(o,s)}(e.sham||s&&s.sham)&&I(o,"sham",!0),ee(n,i,o,e)}},De=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Oe=function(e,t,n){if(De(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Me=function(e){return Object(f(e))},Pe=Array.isArray||function(e){return"Array"==u(e)},Le=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Fe=Le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=B("wks"),ze=r.Symbol,Be=Fe?ze:ze&&ze.withoutSetter||$,je=function(e){return b(Ne,e)||(Ne[e]=Le&&b(ze,e)?ze[e]:Be("Symbol."+e)),Ne[e]},Ve=je("species"),$e=function(e,t){var n;return Pe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Pe(n.prototype)?g(n)&&null===(n=n[Ve])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Ue=[].push,He=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,s=6==e,o=5==e||s;return function(a,l,c,h){for(var u,d,f=Me(a),m=p(f),g=Oe(l,c,3),v=le(m.length),y=0,b=h||$e,_=t?b(a,v):n?b(a,0):void 0;v>y;y++)if((o||y in m)&&(d=g(u=m[y],y,f),e))if(t)_[y]=d;else if(d)switch(e){case 3:return!0;case 5:return u;case 6:return y;case 2:Ue.call(_,u)}else if(i)return!1;return s?-1:r||i?i:_}},qe={forEach:He(0),map:He(1),filter:He(2),some:He(3),every:He(4),find:He(5),findIndex:He(6)},Ge=re("navigator","userAgent")||"",We=r.process,Ye=We&&We.versions,Ze=Ye&&Ye.v8;Ze?Q=(K=Ze.split("."))[0]+K[1]:Ge&&(!(K=Ge.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=Ge.match(/Chrome\/(\d+)/))&&(Q=K[1]);var Xe=Q&&+Q,Ke=je("species"),Qe=function(e){return Xe>=51||!i((function(){var t=[];return(t.constructor={})[Ke]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Je=Object.defineProperty,et={},tt=function(e){throw e},nt=function(e,t){if(b(et,e))return et[e];t||(t={});var n=[][e],r=!!b(t,"ACCESSORS")&&t.ACCESSORS,o=b(t,0)?t[0]:tt,a=b(t,1)?t[1]:void 0;return et[e]=!!n&&!i((function(){if(r&&!s)return!0;var e={length:-1};r?Je(e,1,{enumerable:!0,get:tt}):e[1]=1,n.call(e,o,a)}))},rt=qe.filter,it=Qe("filter"),st=nt("filter");Te({target:"Array",proto:!0,forced:!it||!st},{filter:function(e){return rt(this,e,arguments.length>1?arguments[1]:void 0)}});var ot=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))},at=qe.forEach,lt=ot("forEach"),ct=nt("forEach"),ht=lt&&ct?[].forEach:function(e){return at(this,e,arguments.length>1?arguments[1]:void 0)};Te({target:"Array",proto:!0,forced:[].forEach!=ht},{forEach:ht});var ut=pe.indexOf,dt=[].indexOf,pt=!!dt&&1/[1].indexOf(1,-0)<0,ft=ot("indexOf"),mt=nt("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:pt||!ft||!mt},{indexOf:function(e){return pt?dt.apply(this,arguments)||0:ut(this,e,arguments.length>1?arguments[1]:void 0)}});var gt=Math.min,vt=[].lastIndexOf,yt=!!vt&&1/[1].lastIndexOf(1,-0)<0,bt=ot("lastIndexOf"),_t=nt("indexOf",{ACCESSORS:!0,1:0}),wt=!yt&&bt&&_t?vt:function(e){if(yt)return vt.apply(this,arguments)||0;var t=m(this),n=le(t.length),r=n-1;for(arguments.length>1&&(r=gt(r,oe(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1};Te({target:"Array",proto:!0,forced:wt!==[].lastIndexOf},{lastIndexOf:wt});var xt,St=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return E(n),function(e){if(!g(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),kt=function(e,t,n){var r,i;return St&&"function"==typeof(r=t.constructor)&&r!==n&&g(i=r.prototype)&&i!==n.prototype&&St(e,i),e},Ct=Object.keys||function(e){return me(e,ge)},Et=s?Object.defineProperties:function(e,t){E(e);for(var n,r=Ct(t),i=r.length,s=0;i>s;)A.f(e,n=r[s++],t[n]);return e},Rt=re("document","documentElement"),At=H("IE_PROTO"),It=function(){},Tt=function(e){return"<script>"+e+"<\/script>"},Dt=function(){try{xt=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;Dt=xt?function(e){e.write(Tt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xt):((t=x("iframe")).style.display="none",Rt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Tt("document.F=Object")),e.close(),e.F);for(var n=ge.length;n--;)delete Dt.prototype[ge[n]];return Dt()};q[At]=!0;var Ot=Object.create||function(e,t){var n;return null!==e?(It.prototype=E(e),n=new It,It.prototype=null,n[At]=e):n=Dt(),void 0===t?n:Et(n,t)},Mt="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Pt="["+Mt+"]",Lt=RegExp("^"+Pt+Pt+"*"),Ft=RegExp(Pt+Pt+"*$"),Nt=function(e){return function(t){var n=String(f(t));return 1&e&&(n=n.replace(Lt,"")),2&e&&(n=n.replace(Ft,"")),n}},zt={start:Nt(1),end:Nt(2),trim:Nt(3)},Bt=ye.f,jt=C.f,Vt=A.f,$t=zt.trim,Ut=r.Number,Ht=Ut.prototype,qt="Number"==u(Ot(Ht)),Gt=function(e){var t,n,r,i,s,o,a,l,c=v(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=$t(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(s=c.slice(2)).length,a=0;a<o;a++)if((l=s.charCodeAt(a))<48||l>i)return NaN;return parseInt(s,r)}return+c};if(Ae("Number",!Ut(" 0o1")||!Ut("0b1")||Ut("+0x1"))){for(var Wt,Yt=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Yt&&(qt?i((function(){Ht.valueOf.call(n)})):"Number"!=u(n))?kt(new Ut(Gt(t)),n,Yt):Gt(t)},Zt=s?Bt(Ut):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Xt=0;Zt.length>Xt;Xt++)b(Ut,Wt=Zt[Xt])&&!b(Yt,Wt)&&Vt(Yt,Wt,jt(Ut,Wt));Yt.prototype=Ht,Ht.constructor=Yt,ee(r,"Number",Yt)}Te({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Kt=function(){var e=E(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Qt(e,t){return RegExp(e,t)}var Jt={UNSUPPORTED_Y:i((function(){var e=Qt("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:i((function(){var e=Qt("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},en=RegExp.prototype.exec,tn=String.prototype.replace,nn=en,rn=function(){var e=/a/,t=/b*/g;return en.call(e,"a"),en.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),sn=Jt.UNSUPPORTED_Y||Jt.BROKEN_CARET,on=void 0!==/()??/.exec("")[1];(rn||on||sn)&&(nn=function(e){var t,n,r,i,s=this,o=sn&&s.sticky,a=Kt.call(s),l=s.source,c=0,h=e;return o&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),h=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(l="(?: "+l+")",h=" "+h,c++),n=new RegExp("^(?:"+l+")",a)),on&&(n=new RegExp("^"+l+"$(?!\\s)",a)),rn&&(t=s.lastIndex),r=en.call(o?n:s,h),o?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:rn&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),on&&r&&r.length>1&&tn.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var an=nn;Te({target:"RegExp",proto:!0,forced:/./.exec!==an},{exec:an});var ln,cn=je("match"),hn=function(e){var t;return g(e)&&(void 0!==(t=e[cn])?!!t:"RegExp"==u(e))},un=function(e){if(hn(e))throw TypeError("The method doesn't accept regular expressions");return e},dn=je("match"),pn=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[dn]=!1,"/./"[e](t)}catch(r){}}return!1},fn=C.f,mn="".endsWith,gn=Math.min,vn=pn("endsWith"),yn=!(vn||(ln=fn(String.prototype,"endsWith"),!ln||ln.writable));Te({target:"String",proto:!0,forced:!yn&&!vn},{endsWith:function(e){var t=String(f(this));un(e);var n=arguments.length>1?arguments[1]:void 0,r=le(t.length),i=void 0===n?r:gn(le(n),r),s=String(e);return mn?mn.call(t,s,i):t.slice(i-s.length,i)===s}});var bn=je("species"),_n=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),wn="$0"==="a".replace(/./,"$0"),xn=je("replace"),Sn=!!/./[xn]&&""===/./[xn]("a","$0"),kn=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Cn=function(e,t,n,r){var s=je(e),o=!i((function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})),a=o&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[bn]=function(){return n},n.flags="",n[s]=/./[s]),n.exec=function(){return t=!0,null},n[s](""),!t}));if(!o||!a||"replace"===e&&(!_n||!wn||Sn)||"split"===e&&!kn){var l=/./[s],c=n(s,""[e],(function(e,t,n,r,i){return t.exec===an?o&&!i?{done:!0,value:l.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:wn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Sn}),h=c[1];ee(String.prototype,e,c[0]),ee(RegExp.prototype,s,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)})}r&&I(RegExp.prototype[s],"sham",!0)},En=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Rn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==u(e))throw TypeError("RegExp#exec called on incompatible receiver");return an.call(e,t)};Cn("search",1,(function(e,t,n){return[function(t){var n=f(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),s=String(this),o=i.lastIndex;En(o,0)||(i.lastIndex=0);var a=Rn(i,s);return En(i.lastIndex,o)||(i.lastIndex=o),null===a?-1:a.index}]}));var An=je("species"),In=function(e,t){var n,r=E(e).constructor;return void 0===r||null==(n=E(r)[An])?t:De(n)},Tn=function(e){return function(t,n){var r,i,s=String(f(t)),o=oe(n),a=s.length;return o<0||o>=a?e?"":void 0:(r=s.charCodeAt(o))<55296||r>56319||o+1===a||(i=s.charCodeAt(o+1))<56320||i>57343?e?s.charAt(o):r:e?s.slice(o,o+2):i-56320+(r-55296<<10)+65536}},Dn={codeAt:Tn(!1),charAt:Tn(!0)},On=Dn.charAt,Mn=function(e,t,n){return t+(n?On(e,t).length:1)},Pn=[].push,Ln=Math.min,Fn=!i((function(){return!RegExp(4294967295,"y")}));Cn("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(f(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!hn(e))return t.call(r,e,i);for(var s,o,a,l=[],c=0,h=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(s=an.call(h,r))&&!((o=h.lastIndex)>c&&(l.push(r.slice(c,s.index)),s.length>1&&s.index<r.length&&Pn.apply(l,s.slice(1)),a=s[0].length,c=o,l.length>=i));)h.lastIndex===s.index&&h.lastIndex++;return c===r.length?!a&&h.test("")||l.push(""):l.push(r.slice(c)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=f(this),s=null==t?void 0:t[e];return void 0!==s?s.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var o=E(e),a=String(this),l=In(o,RegExp),c=o.unicode,h=new l(Fn?o:"^(?:"+o.source+")",(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Fn?"y":"g")),u=void 0===i?4294967295:i>>>0;if(0===u)return[];if(0===a.length)return null===Rn(h,a)?[a]:[];for(var d=0,p=0,f=[];p<a.length;){h.lastIndex=Fn?p:0;var m,g=Rn(h,Fn?a:a.slice(p));if(null===g||(m=Ln(le(h.lastIndex+(Fn?0:p)),a.length))===d)p=Mn(a,p,c);else{if(f.push(a.slice(d,p)),f.length===u)return f;for(var v=1;v<=g.length-1;v++)if(f.push(g[v]),f.length===u)return f;p=d=m}}return f.push(a.slice(d)),f}]}),!Fn);var Nn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var zn in Nn){var Bn=r[zn],jn=Bn&&Bn.prototype;if(jn&&jn.forEach!==ht)try{I(jn,"forEach",ht)}catch(Ex){jn.forEach=ht}}function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(Ex){return void n(Ex)}a.done?t(l):Promise.resolve(l).then(r,i)}function Un(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){$n(s,r,i,o,a,"next",e)}function a(e){$n(s,r,i,o,a,"throw",e)}o(void 0)}))}}function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t,n){return t&&qn(e.prototype,t),n&&qn(e,n),e}function Wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Kn(e,t,n){return(Kn=Xn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zn(i,n.prototype),i}).apply(null,arguments)}function Qn(e){var t="function"==typeof Map?new Map:void 0;return(Qn=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Kn(e,arguments,Yn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zn(n,e)})(e)}function Jn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e,t){return nr(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}}(e,t)||ir()}function tr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nr(e){if(Array.isArray(e))return e}function rr(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(e,t,n,r){var i=Object.create((t&&t.prototype instanceof h?t:h).prototype),s=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=b(o,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(e,t,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=a;var c={};function h(){}function u(){}function d(){}var p={};p[i]=function(){return this};var f=Object.getPrototypeOf,m=f&&f(f(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=h.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(r,i){function s(){return new Promise((function(t,s){!function t(r,i,s,o){var a=l(e[r],e,i);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then((function(e){t("next",e,s,o)}),(function(e){t("throw",e,s,o)})):Promise.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return t("throw",e,s,o)}))}o(a.arg)}(r,i,t,s)}))}return t=t?t.then(s,s):s()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return u.prototype=g.constructor=d,d.constructor=u,d[o]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[s]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i){var s=new y(a(t,n,r,i));return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(g),g[o]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}));var sr=ye.f,or={}.toString,ar="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lr={f:function(e){return ar&&"[object Window]"==or.call(e)?function(e){try{return sr(e)}catch(Ex){return ar.slice()}}(e):sr(m(e))}},cr={f:je},hr=A.f,ur=function(e){var t=te.Symbol||(te.Symbol={});b(t,e)||hr(t,e,{value:cr.f(e)})},dr=A.f,pr=je("toStringTag"),fr=function(e,t,n){e&&!b(e=n?e:e.prototype,pr)&&dr(e,pr,{configurable:!0,value:t})},mr=qe.forEach,gr=H("hidden"),vr=je("toPrimitive"),yr=J.set,br=J.getterFor("Symbol"),_r=Object.prototype,wr=r.Symbol,xr=re("JSON","stringify"),Sr=C.f,kr=A.f,Cr=lr.f,Er=l.f,Rr=B("symbols"),Ar=B("op-symbols"),Ir=B("string-to-symbol-registry"),Tr=B("symbol-to-string-registry"),Dr=B("wks"),Or=r.QObject,Mr=!Or||!Or.prototype||!Or.prototype.findChild,Pr=s&&i((function(){return 7!=Ot(kr({},"a",{get:function(){return kr(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Sr(_r,t);r&&delete _r[t],kr(e,t,n),r&&e!==_r&&kr(_r,t,r)}:kr,Lr=function(e,t){var n=Rr[e]=Ot(wr.prototype);return yr(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},Fr=Fe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof wr},Nr=function(e,t,n){e===_r&&Nr(Ar,t,n),E(e);var r=v(t,!0);return E(n),b(Rr,r)?(n.enumerable?(b(e,gr)&&e[gr][r]&&(e[gr][r]=!1),n=Ot(n,{enumerable:c(0,!1)})):(b(e,gr)||kr(e,gr,c(1,{})),e[gr][r]=!0),Pr(e,r,n)):kr(e,r,n)},zr=function(e,t){E(e);var n=m(t),r=Ct(n).concat($r(n));return mr(r,(function(t){s&&!Br.call(n,t)||Nr(e,t,n[t])})),e},Br=function(e){var t=v(e,!0),n=Er.call(this,t);return!(this===_r&&b(Rr,t)&&!b(Ar,t))&&(!(n||!b(this,t)||!b(Rr,t)||b(this,gr)&&this[gr][t])||n)},jr=function(e,t){var n=m(e),r=v(t,!0);if(n!==_r||!b(Rr,r)||b(Ar,r)){var i=Sr(n,r);return!i||!b(Rr,r)||b(n,gr)&&n[gr][r]||(i.enumerable=!0),i}},Vr=function(e){var t=Cr(m(e)),n=[];return mr(t,(function(e){b(Rr,e)||b(q,e)||n.push(e)})),n},$r=function(e){var t=e===_r,n=Cr(t?Ar:m(e)),r=[];return mr(n,(function(e){!b(Rr,e)||t&&!b(_r,e)||r.push(Rr[e])})),r};if(Le||(ee((wr=function(){if(this instanceof wr)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),n=function(e){this===_r&&n.call(Ar,e),b(this,gr)&&b(this[gr],t)&&(this[gr][t]=!1),Pr(this,t,c(1,e))};return s&&Mr&&Pr(_r,t,{configurable:!0,set:n}),Lr(t,e)}).prototype,"toString",(function(){return br(this).tag})),ee(wr,"withoutSetter",(function(e){return Lr($(e),e)})),l.f=Br,A.f=Nr,C.f=jr,ye.f=lr.f=Vr,be.f=$r,cr.f=function(e){return Lr(je(e),e)},s&&(kr(wr.prototype,"description",{configurable:!0,get:function(){return br(this).description}}),ee(_r,"propertyIsEnumerable",Br,{unsafe:!0}))),Te({global:!0,wrap:!0,forced:!Le,sham:!Le},{Symbol:wr}),mr(Ct(Dr),(function(e){ur(e)})),Te({target:"Symbol",stat:!0,forced:!Le},{for:function(e){var t=String(e);if(b(Ir,t))return Ir[t];var n=wr(t);return Ir[t]=n,Tr[n]=t,n},keyFor:function(e){if(!Fr(e))throw TypeError(e+" is not a symbol");if(b(Tr,e))return Tr[e]},useSetter:function(){Mr=!0},useSimple:function(){Mr=!1}}),Te({target:"Object",stat:!0,forced:!Le,sham:!s},{create:function(e,t){return void 0===t?Ot(e):zr(Ot(e),t)},defineProperty:Nr,defineProperties:zr,getOwnPropertyDescriptor:jr}),Te({target:"Object",stat:!0,forced:!Le},{getOwnPropertyNames:Vr,getOwnPropertySymbols:$r}),Te({target:"Object",stat:!0,forced:i((function(){be.f(1)}))},{getOwnPropertySymbols:function(e){return be.f(Me(e))}}),xr){var Ur=!Le||i((function(){var e=wr();return"[null]"!=xr([e])||"{}"!=xr({a:e})||"{}"!=xr(Object(e))}));Te({target:"JSON",stat:!0,forced:Ur},{stringify:function(e,t,n){for(var r,i=[e],s=1;arguments.length>s;)i.push(arguments[s++]);if(r=t,(g(t)||void 0!==e)&&!Fr(e))return Pe(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Fr(t))return t}),i[1]=t,xr.apply(null,i)}})}wr.prototype[vr]||I(wr.prototype,vr,wr.prototype.valueOf),fr(wr,"Symbol"),q[gr]=!0;var Hr=A.f,qr=r.Symbol;if(s&&"function"==typeof qr&&(!("description"in qr.prototype)||void 0!==qr().description)){var Gr={},Wr=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Wr?new qr(e):void 0===e?qr():qr(e);return""===e&&(Gr[t]=!0),t};we(Wr,qr);var Yr=Wr.prototype=qr.prototype;Yr.constructor=Wr;var Zr=Yr.toString,Xr="Symbol(test)"==String(qr("test")),Kr=/^Symbol\((.*)\)[^)]+$/;Hr(Yr,"description",{configurable:!0,get:function(){var e=g(this)?this.valueOf():this,t=Zr.call(e);if(b(Gr,e))return"";var n=Xr?t.slice(7,-1):t.replace(Kr,"$1");return""===n?void 0:n}}),Te({global:!0,forced:!0},{Symbol:Wr})}ur("iterator");var Qr=function(e,t,n){var r=v(t);r in e?A.f(e,r,c(0,n)):e[r]=n},Jr=je("isConcatSpreadable"),ei=Xe>=51||!i((function(){var e=[];return e[Jr]=!1,e.concat()[0]!==e})),ti=Qe("concat"),ni=function(e){if(!g(e))return!1;var t=e[Jr];return void 0!==t?!!t:Pe(e)};Te({target:"Array",proto:!0,forced:!ei||!ti},{concat:function(e){var t,n,r,i,s,o=Me(this),a=$e(o,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(ni(s=-1===t?o:arguments[t])){if(l+(i=le(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in s&&Qr(a,l,s[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Qr(a,l++,s)}return a.length=l,a}});var ri=je("unscopables"),ii=Array.prototype;null==ii[ri]&&A.f(ii,ri,{configurable:!0,value:Ot(null)});var si=function(e){ii[ri][e]=!0},oi=qe.find,ai=!0,li=nt("find");"find"in[]&&Array(1).find((function(){ai=!1})),Te({target:"Array",proto:!0,forced:ai||!li},{find:function(e){return oi(this,e,arguments.length>1?arguments[1]:void 0)}}),si("find");var ci,hi,ui,di={},pi=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),fi=H("IE_PROTO"),mi=Object.prototype,gi=pi?Object.getPrototypeOf:function(e){return e=Me(e),b(e,fi)?e[fi]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?mi:null},vi=je("iterator"),yi=!1;[].keys&&("next"in(ui=[].keys())?(hi=gi(gi(ui)))!==Object.prototype&&(ci=hi):yi=!0),null==ci&&(ci={}),b(ci,vi)||I(ci,vi,(function(){return this}));var bi={IteratorPrototype:ci,BUGGY_SAFARI_ITERATORS:yi},_i=bi.IteratorPrototype,wi=function(){return this},xi=function(e,t,n){var r=t+" Iterator";return e.prototype=Ot(_i,{next:c(1,n)}),fr(e,r,!1),di[r]=wi,e},Si=bi.IteratorPrototype,ki=bi.BUGGY_SAFARI_ITERATORS,Ci=je("iterator"),Ei=function(){return this},Ri=function(e,t,n,r,i,s,o){xi(n,t,r);var a,l,c,h=function(e){if(e===i&&m)return m;if(!ki&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",d=!1,p=e.prototype,f=p[Ci]||p["@@iterator"]||i&&p[i],m=!ki&&f||h(i),g="Array"==t&&p.entries||f;if(g&&(a=gi(g.call(new e)),Si!==Object.prototype&&a.next&&(gi(a)!==Si&&(St?St(a,Si):"function"!=typeof a[Ci]&&I(a,Ci,Ei)),fr(a,u,!0))),"values"==i&&f&&"values"!==f.name&&(d=!0,m=function(){return f.call(this)}),p[Ci]!==m&&I(p,Ci,m),di[t]=m,i)if(l={values:h("values"),keys:s?m:h("keys"),entries:h("entries")},o)for(c in l)(ki||d||!(c in p))&&ee(p,c,l[c]);else Te({target:t,proto:!0,forced:ki||d},l);return l},Ai=J.set,Ii=J.getterFor("Array Iterator"),Ti=Ri(Array,"Array",(function(e,t){Ai(this,{type:"Array Iterator",target:m(e),index:0,kind:t})}),(function(){var e=Ii(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");di.Arguments=di.Array,si("keys"),si("values"),si("entries");var Di=[].join,Oi=p!=Object,Mi=ot("join",",");Te({target:"Array",proto:!0,forced:Oi||!Mi},{join:function(e){return Di.call(m(this),void 0===e?",":e)}});var Pi=qe.map,Li=Qe("map"),Fi=nt("map");Te({target:"Array",proto:!0,forced:!Li||!Fi},{map:function(e){return Pi(this,e,arguments.length>1?arguments[1]:void 0)}});var Ni=Qe("slice"),zi=nt("slice",{ACCESSORS:!0,0:0,1:2}),Bi=je("species"),ji=[].slice,Vi=Math.max;Te({target:"Array",proto:!0,forced:!Ni||!zi},{slice:function(e,t){var n,r,i,s=m(this),o=le(s.length),a=ue(e,o),l=ue(void 0===t?o:t,o);if(Pe(s)&&("function"!=typeof(n=s.constructor)||n!==Array&&!Pe(n.prototype)?g(n)&&null===(n=n[Bi])&&(n=void 0):n=void 0,n===Array||void 0===n))return ji.call(s,a,l);for(r=new(void 0===n?Array:n)(Vi(l-a,0)),i=0;a<l;a++,i++)a in s&&Qr(r,i,s[a]);return r.length=i,r}});var $i=Qe("splice"),Ui=nt("splice",{ACCESSORS:!0,0:0,1:2}),Hi=Math.max,qi=Math.min;Te({target:"Array",proto:!0,forced:!$i||!Ui},{splice:function(e,t){var n,r,i,s,o,a,l=Me(this),c=le(l.length),h=ue(e,c),u=arguments.length;if(0===u?n=r=0:1===u?(n=0,r=c-h):(n=u-2,r=qi(Hi(oe(t),0),c-h)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=$e(l,r),s=0;s<r;s++)(o=h+s)in l&&Qr(i,s,l[o]);if(i.length=r,n<r){for(s=h;s<c-r;s++)a=s+n,(o=s+r)in l?l[a]=l[o]:delete l[a];for(s=c;s>c-r+n;s--)delete l[s-1]}else if(n>r)for(s=c-r;s>h;s--)a=s+n-1,(o=s+r-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<n;s++)l[s+h]=arguments[s+2];return l.length=c-r+n,i}});var Gi=Function.prototype,Wi=Gi.toString,Yi=/^\s*function ([^ (]*)/;s&&!("name"in Gi)&&(0,A.f)(Gi,"name",{configurable:!0,get:function(){try{return Wi.call(this).match(Yi)[1]}catch(Ex){return""}}});var Zi=i((function(){gi(1)}));Te({target:"Object",stat:!0,forced:Zi,sham:!pi},{getPrototypeOf:function(e){return gi(Me(e))}});var Xi={};Xi[je("toStringTag")]="z";var Ki="[object z]"===String(Xi),Qi=je("toStringTag"),Ji="Arguments"==u(function(){return arguments}()),es=Ki?u:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(Ex){}}(t=Object(e),Qi))?n:Ji?u(t):"Object"==(r=u(t))&&"function"==typeof t.callee?"Arguments":r};Ki||ee(Object.prototype,"toString",Ki?{}.toString:function(){return"[object "+es(this)+"]"},{unsafe:!0});var ts=je("species"),ns=function(e){var t=re(e);s&&t&&!t[ts]&&(0,A.f)(t,ts,{configurable:!0,get:function(){return this}})},rs=A.f,is=ye.f,ss=J.set,os=je("match"),as=r.RegExp,ls=as.prototype,cs=/a/g,hs=/a/g,us=new as(cs)!==cs,ds=Jt.UNSUPPORTED_Y;if(s&&Ae("RegExp",!us||ds||i((function(){return hs[os]=!1,as(cs)!=cs||as(hs)==hs||"/a/i"!=as(cs,"i")})))){for(var ps=function(e,t){var n,r=this instanceof ps,i=hn(e),s=void 0===t;if(!r&&i&&e.constructor===ps&&s)return e;us?i&&!s&&(e=e.source):e instanceof ps&&(s&&(t=Kt.call(e)),e=e.source),ds&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var o=kt(us?new as(e,t):as(e,t),r?this:ls,ps);return ds&&n&&ss(o,{sticky:n}),o},fs=function(e){e in ps||rs(ps,e,{configurable:!0,get:function(){return as[e]},set:function(t){as[e]=t}})},ms=is(as),gs=0;ms.length>gs;)fs(ms[gs++]);ls.constructor=ps,ps.prototype=ls,ee(r,"RegExp",ps)}ns("RegExp");var vs=RegExp.prototype,ys=vs.toString;(i((function(){return"/a/b"!=ys.call({source:"a",flags:"b"})}))||"toString"!=ys.name)&&ee(RegExp.prototype,"toString",(function(){var e=E(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in vs)?Kt.call(e):n)}),{unsafe:!0});var bs=Dn.charAt,_s=J.set,ws=J.getterFor("String Iterator");Ri(String,"String",(function(e){_s(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=ws(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=bs(n,r),t.index+=e.length,{value:e,done:!1})})),Cn("match",1,(function(e,t,n){return[function(t){var n=f(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),s=String(this);if(!i.global)return Rn(i,s);var o=i.unicode;i.lastIndex=0;for(var a,l=[],c=0;null!==(a=Rn(i,s));){var h=String(a[0]);l[c]=h,""===h&&(i.lastIndex=Mn(s,le(i.lastIndex),o)),c++}return 0===c?null:l}]}));var xs=Math.max,Ss=Math.min,ks=Math.floor,Cs=/\$([$&'`]|\d\d?|<[^>]*>)/g,Es=/\$([$&'`]|\d\d?)/g;Cn("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,s=r.REPLACE_KEEPS_$0,o=i?"$":"$0";return[function(n,r){var i=f(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&s||"string"==typeof r&&-1===r.indexOf(o)){var l=n(t,e,this,r);if(l.done)return l.value}var c=E(e),h=String(this),u="function"==typeof r;u||(r=String(r));var d=c.global;if(d){var p=c.unicode;c.lastIndex=0}for(var f=[];;){var m=Rn(c,h);if(null===m)break;if(f.push(m),!d)break;""===String(m[0])&&(c.lastIndex=Mn(h,le(c.lastIndex),p))}for(var g,v="",y=0,b=0;b<f.length;b++){m=f[b];for(var _=String(m[0]),w=xs(Ss(oe(m.index),h.length),0),x=[],S=1;S<m.length;S++)x.push(void 0===(g=m[S])?g:String(g));var k=m.groups;if(u){var C=[_].concat(x,w,h);void 0!==k&&C.push(k);var R=String(r.apply(void 0,C))}else R=a(_,h,w,x,k,r);w>=y&&(v+=h.slice(y,w)+R,y=w+_.length)}return v+h.slice(y)}];function a(e,n,r,i,s,o){var a=r+e.length,l=i.length,c=Es;return void 0!==s&&(s=Me(s),c=Cs),t.call(o,c,(function(t,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":c=s[o.slice(1,-1)];break;default:var h=+o;if(0===h)return t;if(h>l){var u=ks(h/10);return 0===u?t:u<=l?void 0===i[u-1]?o.charAt(1):i[u-1]+o.charAt(1):t}c=i[h-1]}return void 0===c?"":c}))}}));var Rs=je("iterator"),As=je("toStringTag"),Is=Ti.values;for(var Ts in Nn){var Ds=r[Ts],Os=Ds&&Ds.prototype;if(Os){if(Os[Rs]!==Is)try{I(Os,Rs,Is)}catch(Ex){Os[Rs]=Is}if(Os[As]||I(Os,As,Ts),Nn[Ts])for(var Ms in Ti)if(Os[Ms]!==Ti[Ms])try{I(Os,Ms,Ti[Ms])}catch(Ex){Os[Ms]=Ti[Ms]}}}var Ps=[],Ls=window.document,Fs=Object.getPrototypeOf,Ns=Ps.slice,zs=Ps.concat,Bs=Ps.push,js=Ps.indexOf,Vs={},$s=Vs.toString,Us=Vs.hasOwnProperty,Hs=Us.toString,qs=Hs.call(Object),Gs={},Ws=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Ys=function(e){return null!=e&&e===e.window},Zs={type:!0,src:!0,noModule:!0};function Xs(e,t,n){var r,i=(t=t||Ls).createElement("script");if(i.text=e,n)for(r in Zs)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function Ks(e){return null==e?e+"":"object"===Vn(e)||"function"==typeof e?Vs[$s.call(e)]||"object":Vn(e)}var Qs="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",Js=function e(t,n){return new e.fn.init(t,n)},eo=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function to(e){var t=!!e&&"length"in e&&e.length,n=Ks(e);return!Ws(e)&&!Ys(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}Js.fn=Js.prototype={jquery:Qs,constructor:Js,length:0,toArray:function(){return Ns.call(this)},get:function(e){return null==e?Ns.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Js.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Js.each(this,e)},map:function(e){return this.pushStack(Js.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(Ns.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Bs,sort:Ps.sort,splice:Ps.splice},Js.extend=Js.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"===Vn(o)||Ws(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=o[t],o!==(r=e[t])&&(c&&r&&(Js.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&Js.isPlainObject(n)?n:{},o[t]=Js.extend(c,s,r)):void 0!==r&&(o[t]=r));return o},Js.extend({expando:"jQuery"+(Qs+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==$s.call(e)||(t=Fs(e))&&("function"!=typeof(n=Us.call(t,"constructor")&&t.constructor)||Hs.call(n)!==qs))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){Xs(e)},each:function(e,t){var n,r=0;if(to(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(eo,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(to(Object(e))?Js.merge(n,"string"==typeof e?[e]:e):Bs.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:js.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,o=!n;i<s;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,o=[];if(to(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&o.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&o.push(i);return zs.apply([],o)},guid:1,support:Gs}),"function"==typeof Symbol&&(Js.fn[Symbol.iterator]=Ps[Symbol.iterator]),Js.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){Vs["[object "+t+"]"]=t.toLowerCase()}));var no=function(e){var t,n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_="sizzle"+1*new Date,w=e.document,x=0,S=0,k=oe(),C=oe(),E=oe(),R=function(e,t){return e===t&&(u=!0),0},A={}.hasOwnProperty,I=[],T=I.pop,D=I.push,O=I.push,M=I.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",j=new RegExp(F+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),$=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),H=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),q=new RegExp(B),G=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ie=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{O.apply(I=M.call(w.childNodes),w.childNodes)}catch(Se){O={apply:I.length?function(e,t){D.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var s,a,c,h,u,f,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,m)){if(11!==x&&(u=K.exec(e)))if(s=u[1]){if(9===x){if(!(c=t.getElementById(s)))return r;if(c.id===s)return r.push(c),r}else if(y&&(c=y.getElementById(s))&&b(t,c)&&c.id===s)return r.push(c),r}else{if(u[2])return O.apply(r,t.getElementsByTagName(e)),r;if((s=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==x)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((h=t.getAttribute("id"))?h=h.replace(te,ne):t.setAttribute("id",h=_),a=(f=o(e)).length;a--;)f[a]="#"+h+" "+ve(f[a]);v=f.join(","),y=Q.test(e)&&me(t.parentNode)||t}if(v)try{return O.apply(r,y.querySelectorAll(v)),r}catch(S){}finally{h===_&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ae(e){return e[_]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Se){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function he(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae((function(t){return t=+t,ae((function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:w;return o!==p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!s(p),w!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=X.test(p.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(f.compareDocumentPosition),b=t||X.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:h?P(h,e)-P(h,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!i||!s)return e===p?-1:t===p?1:i?-1:s?1:h?P(h,e)-P(h,t):0;if(i===s)return he(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;o[r]===a[r];)r++;return r?he(o[r],a[r]):o[r]===w?-1:a[r]===w?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(H,"='$1']"),n.matchesSelector&&m&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Se){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,s=0;if(u=!n.detectDuplicates,h=!n.sortStable&&e.slice(0),e.sort(R),u){for(;t=e[s++];)t===e[s]&&(i=r.push(s));for(;i--;)e.splice(r[i],1)}return h=null,e},i=se.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ae,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,h,u,d,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(h=(u=(d=g)[_]||(d[_]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){h[e]=[x,p,b];break}}else if(y&&(b=p=(c=(h=(u=(d=t)[_]||(d[_]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((h=(u=d[_]||(d[_]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[x,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var r,s=i(e,t),o=s.length;o--;)e[r=P(e,s[o])]=!(n[r]=s[o])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ae((function(e){var t=[],n=[],r=a(e.replace(V,"$1"));return r[_]?ae((function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return se(e,t).length>0}})),contains:ae((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ae((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:fe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ge(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,s=i||r,o=n&&"parentNode"===s,a=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,l){var c,h,u,d=[x,a];if(l){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(h=(u=t[_]||(t[_]={}))[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=h[s])&&c[0]===x&&c[1]===a)return d[2]=c[2];if(h[s]=d,d[2]=e(t,n,l))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,i){for(var s,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,r,i)||(o.push(s),c&&t.push(a)));return o}function we(e,t,n,r,i,s){return r&&!r[_]&&(r=we(r)),i&&!i[_]&&(i=we(i,s)),ae((function(s,o,a,l){var c,h,u,d=[],p=[],f=o.length,m=s||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:_e(m,d,e,a,l),v=n?i||(s?e:f||r)?[]:o:g;if(n&&n(g,v,a,l),r)for(c=_e(v,p),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[p[h]]=!(g[p[h]]=u));if(s){if(i||e){if(i){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(g[h]=u);i(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=i?P(s,u):d[h])>-1&&(s[c]=!(o[c]=u))}}else v=_e(v===o?v.splice(f,v.length):v),i?i(null,o,v,l):O.apply(o,v)}))}function xe(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],l=o?1:0,h=ye((function(e){return e===t}),a,!0),u=ye((function(e){return P(t,e)>-1}),a,!0),d=[function(e,n,r){var i=!o&&(r||n!==c)||((t=n).nodeType?h(e,n,r):u(e,n,r));return t=null,i}];l<s;l++)if(n=r.relative[e[l].type])d=[ye(be(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[_]){for(i=++l;i<s&&!r.relative[e[i].type];i++);return we(l>1&&be(d),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<i&&xe(e.slice(l,i)),i<s&&xe(e=e.slice(i)),i<s&&ve(e))}d.push(n)}return be(d)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,o=se.tokenize=function(e,t){var n,i,s,o,a,l,c,h=C[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(o in n&&!(i=$.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(V," ")}),a=a.slice(n.length)),r.filter)!(i=W[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):C(e,l).slice(0)},a=se.compile=function(e,t){var n,i=[],s=[],a=E[e+" "];if(!a){for(t||(t=o(e)),n=t.length;n--;)(a=xe(t[n]))[_]?i.push(a):s.push(a);(a=E(e,function(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,l,h){var u,f,g,v=0,y="0",b=s&&[],_=[],w=c,S=s||i&&r.find.TAG("*",h),k=x+=null==w?1:Math.random()||.1,C=S.length;for(h&&(c=o===p||o||h);y!==C&&null!=(u=S[y]);y++){if(i&&u){for(f=0,o||u.ownerDocument===p||(d(u),a=!m);g=e[f++];)if(g(u,o||p,a)){l.push(u);break}h&&(x=k)}n&&((u=!g&&u)&&v--,s&&b.push(u))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(b,_,o,a);if(s){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=T.call(l));_=_e(_)}O.apply(l,_),h&&!s&&_.length>0&&v+t.length>1&&se.uniqueSort(l)}return h&&(x=k,c=w),b};return n?ae(s):s}(s,i))).selector=e}return a},l=se.select=function(e,t,n,i){var s,l,c,h,u,d="function"==typeof e&&e,p=!i&&o(e=d.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=W.needsContext.test(e)?0:l.length;s--&&!r.relative[h=(c=l[s]).type];)if((u=r.find[h])&&(i=u(c.matches[0].replace(J,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(s,1),!(e=i.length&&ve(l)))return O.apply(n,i),n;break}}return(d||a(e,p))(i,t,!m,n,!t||Q.test(e)&&me(t.parentNode)||t),n},n.sortStable=_.split("").sort(R).join("")===_,n.detectDuplicates=!!u,d(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(L,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(window);Js.find=no,(Js.expr=no.selectors)[":"]=Js.expr.pseudos,Js.uniqueSort=Js.unique=no.uniqueSort,Js.text=no.getText,Js.isXMLDoc=no.isXML,Js.contains=no.contains,Js.escapeSelector=no.escape;var ro=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Js(e).is(n))break;r.push(e)}return r},io=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},so=Js.expr.match.needsContext;function oo(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var ao=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function lo(e,t,n){return Ws(t)?Js.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?Js.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?Js.grep(e,(function(e){return js.call(t,e)>-1!==n})):Js.filter(t,e,n)}Js.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Js.find.matchesSelector(r,e)?[r]:[]:Js.find.matches(e,Js.grep(t,(function(e){return 1===e.nodeType})))},Js.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Js(e).filter((function(){for(t=0;t<r;t++)if(Js.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)Js.find(e,i[t],n);return r>1?Js.uniqueSort(n):n},filter:function(e){return this.pushStack(lo(this,e||[],!1))},not:function(e){return this.pushStack(lo(this,e||[],!0))},is:function(e){return!!lo(this,"string"==typeof e&&so.test(e)?Js(e):e||[],!1).length}});var co,ho=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Js.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||co,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ho.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(Js.merge(this,Js.parseHTML(r[1],(t=t instanceof Js?t[0]:t)&&t.nodeType?t.ownerDocument||t:Ls,!0)),ao.test(r[1])&&Js.isPlainObject(t))for(r in t)Ws(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=Ls.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ws(e)?void 0!==n.ready?n.ready(e):e(Js):Js.makeArray(e,this)}).prototype=Js.fn,co=Js(Ls);var uo=/^(?:parents|prev(?:Until|All))/,po={children:!0,contents:!0,next:!0,prev:!0};function fo(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}Js.fn.extend({has:function(e){var t=Js(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(Js.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,s=[],o="string"!=typeof e&&Js(e);if(!so.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Js.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?Js.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?js.call(Js(e),this[0]):js.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Js.uniqueSort(Js.merge(this.get(),Js(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Js.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ro(e,"parentNode")},parentsUntil:function(e,t,n){return ro(e,"parentNode",n)},next:function(e){return fo(e,"nextSibling")},prev:function(e){return fo(e,"previousSibling")},nextAll:function(e){return ro(e,"nextSibling")},prevAll:function(e){return ro(e,"previousSibling")},nextUntil:function(e,t,n){return ro(e,"nextSibling",n)},prevUntil:function(e,t,n){return ro(e,"previousSibling",n)},siblings:function(e){return io((e.parentNode||{}).firstChild,e)},children:function(e){return io(e.firstChild)},contents:function(e){return oo(e,"iframe")?e.contentDocument:(oo(e,"template")&&(e=e.content||e),Js.merge([],e.childNodes))}},(function(e,t){Js.fn[e]=function(n,r){var i=Js.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Js.filter(r,i)),this.length>1&&(po[e]||Js.uniqueSort(i),uo.test(e)&&i.reverse()),this.pushStack(i)}}));var mo=/[^\x20\t\r\n\f]+/g;function go(e){return e}function vo(e){throw e}function yo(e,t,n,r){var i;try{e&&Ws(i=e.promise)?i.call(e).done(t).fail(n):e&&Ws(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}Js.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return Js.each(e.match(mo)||[],(function(e,n){t[n]=!0})),t}(e):Js.extend({},e);var t,n,r,i,s=[],o=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(a=s.length-1,o.push(n)),function t(n){Js.each(n,(function(n,r){Ws(r)?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==Ks(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return Js.each(arguments,(function(e,t){for(var n;(n=Js.inArray(t,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(e){return e?Js.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},Js.extend({Deferred:function(e){var t=[["notify","progress",Js.Callbacks("memory"),Js.Callbacks("memory"),2],["resolve","done",Js.Callbacks("once memory"),Js.Callbacks("once memory"),0,"resolved"],["reject","fail",Js.Callbacks("once memory"),Js.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return Js.Deferred((function(n){Js.each(t,(function(t,r){var s=Ws(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=s&&s.apply(this,arguments);e&&Ws(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function s(e,t,n,r){return function(){var o=this,a=arguments,l=function(){var l,c;if(!(e<i)){if((l=n.apply(o,a))===t.promise())throw new TypeError("Thenable self-resolution");c=l&&("object"===Vn(l)||"function"==typeof l)&&l.then,Ws(c)?r?c.call(l,s(i,t,go,r),s(i,t,vo,r)):(i++,c.call(l,s(i,t,go,r),s(i,t,vo,r),s(i,t,go,t.notifyWith))):(n!==go&&(o=void 0,a=[l]),(r||t.resolveWith)(o,a))}},c=r?l:function(){try{l()}catch(r){Js.Deferred.exceptionHook&&Js.Deferred.exceptionHook(r,c.stackTrace),e+1>=i&&(n!==vo&&(o=void 0,a=[r]),t.rejectWith(o,a))}};e?c():(Js.Deferred.getStackHook&&(c.stackTrace=Js.Deferred.getStackHook()),window.setTimeout(c))}}return Js.Deferred((function(i){t[0][3].add(s(0,i,Ws(r)?r:go,i.notifyWith)),t[1][3].add(s(0,i,Ws(e)?e:go)),t[2][3].add(s(0,i,Ws(n)?n:vo))})).promise()},promise:function(e){return null!=e?Js.extend(e,r):r}},i={};return Js.each(t,(function(e,s){var o=s[2],a=s[5];r[s[1]]=o.add,a&&o.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(s[3].fire),i[s[0]]=function(){return i[s[0]+"With"](this===i?void 0:this,arguments),this},i[s[0]+"With"]=o.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=Ns.call(arguments),s=Js.Deferred(),o=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?Ns.call(arguments):n,--t||s.resolveWith(r,i)}};if(t<=1&&(yo(e,s.done(o(n)).resolve,s.reject,!t),"pending"===s.state()||Ws(i[n]&&i[n].then)))return s.then();for(;n--;)yo(i[n],o(n),s.reject);return s.promise()}});var bo=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Js.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&bo.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Js.readyException=function(e){window.setTimeout((function(){throw e}))};var _o=Js.Deferred();function wo(){Ls.removeEventListener("DOMContentLoaded",wo),window.removeEventListener("load",wo),Js.ready()}Js.fn.ready=function(e){return _o.then(e).catch((function(e){Js.readyException(e)})),this},Js.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Js.readyWait:Js.isReady)||(Js.isReady=!0,!0!==e&&--Js.readyWait>0||_o.resolveWith(Ls,[Js]))}}),Js.ready.then=_o.then,"complete"===Ls.readyState||"loading"!==Ls.readyState&&!Ls.documentElement.doScroll?window.setTimeout(Js.ready):(Ls.addEventListener("DOMContentLoaded",wo),window.addEventListener("load",wo));var xo=function e(t,n,r,i,s,o,a){var l=0,c=t.length,h=null==r;if("object"===Ks(r))for(l in s=!0,r)e(t,n,l,r[l],!0,o,a);else if(void 0!==i&&(s=!0,Ws(i)||(a=!0),h&&(a?(n.call(t,i),n=null):(h=n,n=function(e,t,n){return h.call(Js(e),n)})),n))for(;l<c;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return s?t:h?n.call(t):c?n(t[0],r):o},So=/^-ms-/,ko=/-([a-z])/g;function Co(e,t){return t.toUpperCase()}function Eo(e){return e.replace(So,"ms-").replace(ko,Co)}var Ro=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Ao(){this.expando=Js.expando+Ao.uid++}Ao.uid=1,Ao.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ro(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Eo(t)]=n;else for(r in t)i[Eo(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Eo(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Eo):(t=Eo(t))in r?[t]:t.match(mo)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||Js.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Js.isEmptyObject(t)}};var Io=new Ao,To=new Ao,Do=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oo=/[A-Z]/g;function Mo(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Oo,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Do.test(e)?JSON.parse(e):e)}(n)}catch(i){}To.set(e,t,n)}else n=void 0;return n}Js.extend({hasData:function(e){return To.hasData(e)||Io.hasData(e)},data:function(e,t,n){return To.access(e,t,n)},removeData:function(e,t){To.remove(e,t)},_data:function(e,t,n){return Io.access(e,t,n)},_removeData:function(e,t){Io.remove(e,t)}}),Js.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=To.get(s),1===s.nodeType&&!Io.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=Eo(r.slice(5)),Mo(s,r,i[r]));Io.set(s,"hasDataAttrs",!0)}return i}return"object"===Vn(e)?this.each((function(){To.set(this,e)})):xo(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=To.get(s,e))||void 0!==(n=Mo(s,e))?n:void 0;this.each((function(){To.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){To.remove(this,e)}))}}),Js.extend({queue:function(e,t,n){var r;if(e)return r=Io.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Io.access(e,t,Js.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=Js.queue(e,t=t||"fx"),r=n.length,i=n.shift(),s=Js._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,(function(){Js.dequeue(e,t)}),s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Io.get(e,n)||Io.access(e,n,{empty:Js.Callbacks("once memory").add((function(){Io.remove(e,[t+"queue",n])}))})}}),Js.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Js.queue(this[0],e):void 0===t?this:this.each((function(){var n=Js.queue(this,e,t);Js._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Js.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){Js.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Js.Deferred(),s=this,o=this.length,a=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=Io.get(s[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var Po=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lo=new RegExp("^(?:([+-])=|)("+Po+")([a-z%]*)$","i"),Fo=["Top","Right","Bottom","Left"],No=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Js.contains(e.ownerDocument,e)&&"none"===Js.css(e,"display")},zo=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in i=n.apply(e,r||[]),t)e.style[s]=o[s];return i},Bo={};function jo(e){var t,n=e.ownerDocument,r=e.nodeName,i=Bo[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Js.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Bo[r]=i,i)}function Vo(e,t){for(var n,r,i=[],s=0,o=e.length;s<o;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(i[s]=Io.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&No(r)&&(i[s]=jo(r))):"none"!==n&&(i[s]="none",Io.set(r,"display",n)));for(s=0;s<o;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}Js.fn.extend({show:function(){return Vo(this,!0)},hide:function(){return Vo(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){No(this)?Js(this).show():Js(this).hide()}))}});var $o=/^(?:checkbox|radio)$/i,Uo=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ho=/^$|^module$|\/(?:java|ecma)script/i,qo={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Go(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&oo(e,t)?Js.merge([e],n):n}function Wo(e,t){for(var n=0,r=e.length;n<r;n++)Io.set(e[n],"globalEval",!t||Io.get(t[n],"globalEval"))}qo.optgroup=qo.option,qo.tbody=qo.tfoot=qo.colgroup=qo.caption=qo.thead,qo.th=qo.td;var Yo,Zo,Xo=/<|&#?\w+;/;function Ko(e,t,n,r,i){for(var s,o,a,l,c,h,u=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===Ks(s))Js.merge(d,s.nodeType?[s]:s);else if(Xo.test(s)){for(o=o||u.appendChild(t.createElement("div")),a=(Uo.exec(s)||["",""])[1].toLowerCase(),o.innerHTML=(l=qo[a]||qo._default)[1]+Js.htmlPrefilter(s)+l[2],h=l[0];h--;)o=o.lastChild;Js.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(s));for(u.textContent="",p=0;s=d[p++];)if(r&&Js.inArray(s,r)>-1)i&&i.push(s);else if(c=Js.contains(s.ownerDocument,s),o=Go(u.appendChild(s),"script"),c&&Wo(o),n)for(h=0;s=o[h++];)Ho.test(s.type||"")&&n.push(s);return u}Yo=Ls.createDocumentFragment().appendChild(Ls.createElement("div")),(Zo=Ls.createElement("input")).setAttribute("type","radio"),Zo.setAttribute("checked","checked"),Zo.setAttribute("name","t"),Yo.appendChild(Zo),Gs.checkClone=Yo.cloneNode(!0).cloneNode(!0).lastChild.checked,Yo.innerHTML="<textarea>x</textarea>",Gs.noCloneChecked=!!Yo.cloneNode(!0).lastChild.defaultValue;var Qo=Ls.documentElement,Jo=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;function na(){return!0}function ra(){return!1}function ia(){try{return Ls.activeElement}catch(e){}}function sa(e,t,n,r,i,s){var o,a;if("object"===Vn(t)){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)sa(e,a,n,r,t[a],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ra;else if(!i)return e;return 1===s&&(o=i,(i=function(e){return Js().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=Js.guid++)),e.each((function(){Js.event.add(this,t,i,r,n)}))}Js.event={global:{},add:function(e,t,n,r,i){var s,o,a,l,c,h,u,d,p,f,m,g=Io.get(e);if(g)for(n.handler&&(n=(s=n).handler,i=s.selector),i&&Js.find.matchesSelector(Qo,i),n.guid||(n.guid=Js.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return Js.event.triggered!==t.type?Js.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(mo)||[""]).length;c--;)p=m=(a=ta.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=Js.event.special[p]||{},u=Js.event.special[p=(i?u.delegateType:u.bindType)||p]||{},h=Js.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Js.expr.match.needsContext.test(i),namespace:f.join(".")},s),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,f,o)||e.addEventListener&&e.addEventListener(p,o)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,h):d.push(h),Js.event.global[p]=!0)},remove:function(e,t,n,r,i){var s,o,a,l,c,h,u,d,p,f,m,g=Io.hasData(e)&&Io.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(mo)||[""]).length;c--;)if(p=m=(a=ta.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=Js.event.special[p]||{},d=l[p=(r?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)h=d[s],!i&&m!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||Js.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Js.event.remove(e,p+t[c],n,r,!0);Js.isEmptyObject(l)&&Io.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,o,a=Js.event.fix(e),l=new Array(arguments.length),c=(Io.get(this,"events")||{})[a.type]||[],h=Js.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(o=Js.event.handlers.call(this,a,c),t=0;(i=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(r=((Js.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,s,o,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],o={},n=0;n<l;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?Js(i,this).index(c)>-1:Js.find(i,this,null,[c]).length),o[i]&&s.push(r);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(Js.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ws(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Js.expando]?e:new Js.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ia()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ia()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oo(this,"input"))return this.click(),!1},_default:function(e){return oo(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Js.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(Js.Event=function(e,t){if(!(this instanceof Js.Event))return new Js.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?na:ra,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Js.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Js.expando]=!0}).prototype={constructor:Js.Event,isDefaultPrevented:ra,isPropagationStopped:ra,isImmediatePropagationStopped:ra,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=na,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=na,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=na,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Js.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Jo.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ea.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Js.event.addProp),Js.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){Js.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===r||Js.contains(r,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}})),Js.fn.extend({on:function(e,t,n,r){return sa(this,e,t,n,r)},one:function(e,t,n,r){return sa(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Js(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===Vn(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ra),this.each((function(){Js.event.remove(this,e,n,t)}))}});var oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,aa=/<script|<style|<link/i,la=/checked\s*(?:[^=]|=\s*.checked.)/i,ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ha(e,t){return oo(e,"table")&&oo(11!==t.nodeType?t:t.firstChild,"tr")&&Js(e).children("tbody")[0]||e}function ua(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function da(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function pa(e,t){var n,r,i,s,o,a,l,c;if(1===t.nodeType){if(Io.hasData(e)&&(s=Io.access(e),o=Io.set(t,s),c=s.events))for(i in delete o.handle,o.events={},c)for(n=0,r=c[i].length;n<r;n++)Js.event.add(t,i,c[i][n]);To.hasData(e)&&(a=To.access(e),l=Js.extend({},a),To.set(t,l))}}function fa(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$o.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function ma(e,t,n,r){t=zs.apply([],t);var i,s,o,a,l,c,h=0,u=e.length,d=u-1,p=t[0],f=Ws(p);if(f||u>1&&"string"==typeof p&&!Gs.checkClone&&la.test(p))return e.each((function(i){var s=e.eq(i);f&&(t[0]=p.call(this,i,s.html())),ma(s,t,n,r)}));if(u&&(s=(i=Ko(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(a=(o=Js.map(Go(i,"script"),ua)).length;h<u;h++)l=i,h!==d&&(l=Js.clone(l,!0,!0),a&&Js.merge(o,Go(l,"script"))),n.call(e[h],l,h);if(a)for(c=o[o.length-1].ownerDocument,Js.map(o,da),h=0;h<a;h++)Ho.test((l=o[h]).type||"")&&!Io.access(l,"globalEval")&&Js.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Js._evalUrl&&Js._evalUrl(l.src):Xs(l.textContent.replace(ca,""),c,l))}return e}function ga(e,t,n){for(var r,i=t?Js.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||Js.cleanData(Go(r)),r.parentNode&&(n&&Js.contains(r.ownerDocument,r)&&Wo(Go(r,"script")),r.parentNode.removeChild(r));return e}Js.extend({htmlPrefilter:function(e){return e.replace(oa,"<$1></$2>")},clone:function(e,t,n){var r,i,s,o,a=e.cloneNode(!0),l=Js.contains(e.ownerDocument,e);if(!(Gs.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Js.isXMLDoc(e)))for(o=Go(a),r=0,i=(s=Go(e)).length;r<i;r++)fa(s[r],o[r]);if(t)if(n)for(s=s||Go(e),o=o||Go(a),r=0,i=s.length;r<i;r++)pa(s[r],o[r]);else pa(e,a);return(o=Go(a,"script")).length>0&&Wo(o,!l&&Go(e,"script")),a},cleanData:function(e){for(var t,n,r,i=Js.event.special,s=0;void 0!==(n=e[s]);s++)if(Ro(n)){if(t=n[Io.expando]){if(t.events)for(r in t.events)i[r]?Js.event.remove(n,r):Js.removeEvent(n,r,t.handle);n[Io.expando]=void 0}n[To.expando]&&(n[To.expando]=void 0)}}}),Js.fn.extend({detach:function(e){return ga(this,e,!0)},remove:function(e){return ga(this,e)},text:function(e){return xo(this,(function(e){return void 0===e?Js.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ma(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ha(this,e).appendChild(e)}))},prepend:function(){return ma(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ha(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ma(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ma(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Js.cleanData(Go(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return Js.clone(this,e,t)}))},html:function(e){return xo(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!aa.test(e)&&!qo[(Uo.exec(e)||["",""])[1].toLowerCase()]){e=Js.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(Js.cleanData(Go(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ma(this,arguments,(function(t){var n=this.parentNode;Js.inArray(this,e)<0&&(Js.cleanData(Go(this)),n&&n.replaceChild(t,this))}),e)}}),Js.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){Js.fn[e]=function(e){for(var n,r=[],i=Js(e),s=i.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),Js(i[o])[t](n),Bs.apply(r,n.get());return this.pushStack(r)}}));var va=new RegExp("^("+Po+")(?!px)[a-z%]+$","i"),ya=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},ba=new RegExp(Fo.join("|"),"i");function _a(e,t,n){var r,i,s,o,a=e.style;return(n=n||ya(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||Js.contains(e.ownerDocument,e)||(o=Js.style(e,t)),!Gs.pixelBoxStyles()&&va.test(o)&&ba.test(t)&&(r=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=r,a.minWidth=i,a.maxWidth=s)),void 0!==o?o+"":o}function wa(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qo.appendChild(a).appendChild(l);var e=window.getComputedStyle(l);n="1%"!==e.top,o=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=36===l.offsetWidth||"absolute",Qo.removeChild(a),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,s,o,a=Ls.createElement("div"),l=Ls.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Gs.clearCloneStyle="content-box"===l.style.backgroundClip,Js.extend(Gs,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),i}}))}();var xa=/^(none|table(?!-c[ea]).+)/,Sa=/^--/,ka={position:"absolute",visibility:"hidden",display:"block"},Ca={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","Moz","ms"],Ra=Ls.createElement("div").style;function Aa(e){var t=Js.cssProps[e];return t||(t=Js.cssProps[e]=function(e){if(e in Ra)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ea.length;n--;)if((e=Ea[n]+t)in Ra)return e}(e)||e),t}function Ia(e,t,n){var r=Lo.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ta(e,t,n,r,i,s){var o="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=Js.css(e,n+Fo[o],!0,i)),r?("content"===n&&(l-=Js.css(e,"padding"+Fo[o],!0,i)),"margin"!==n&&(l-=Js.css(e,"border"+Fo[o]+"Width",!0,i))):(l+=Js.css(e,"padding"+Fo[o],!0,i),"padding"!==n?l+=Js.css(e,"border"+Fo[o]+"Width",!0,i):a+=Js.css(e,"border"+Fo[o]+"Width",!0,i));return!r&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))),l}function Da(e,t,n){var r=ya(e),i=_a(e,t,r),s="border-box"===Js.css(e,"boxSizing",!1,r),o=s;if(va.test(i)){if(!n)return i;i="auto"}return o=o&&(Gs.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===Js.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+Ta(e,t,n||(s?"border":"content"),o,r,i)+"px"}Js.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_a(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,a=Eo(t),l=Sa.test(t),c=e.style;if(l||(t=Aa(a)),o=Js.cssHooks[t]||Js.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:c[t];"string"===(s=Vn(n))&&(i=Lo.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,s,o=20,a=function(){return Js.css(e,t,"")},l=a(),c=n&&n[3]||(Js.cssNumber[t]?"":"px"),h=(Js.cssNumber[t]||"px"!==c&&+l)&&Lo.exec(Js.css(e,t));if(h&&h[3]!==c){for(c=c||h[3],h=+(l/=2)||1;o--;)Js.style(e,t,h+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),h/=s;Js.style(e,t,(h*=2)+c),n=n||[]}return n&&(h=+h||+l||0,i=n[1]?h+(n[1]+1)*n[2]:+n[2]),i}(e,t,i),s="number"),null!=n&&n==n&&("number"===s&&(n+=i&&i[3]||(Js.cssNumber[a]?"":"px")),Gs.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,s,o,a=Eo(t);return Sa.test(t)||(t=Aa(a)),(o=Js.cssHooks[t]||Js.cssHooks[a])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=_a(e,t,r)),"normal"===i&&t in Ca&&(i=Ca[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),Js.each(["height","width"],(function(e,t){Js.cssHooks[t]={get:function(e,n,r){if(n)return!xa.test(Js.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Da(e,t,r):zo(e,ka,(function(){return Da(e,t,r)}))},set:function(e,n,r){var i,s=ya(e),o="border-box"===Js.css(e,"boxSizing",!1,s),a=r&&Ta(e,t,r,o,s);return o&&Gs.scrollboxSize()===s.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-Ta(e,t,"border",!1,s)-.5)),a&&(i=Lo.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Js.css(e,t)),Ia(0,n,a)}}})),Js.cssHooks.marginLeft=wa(Gs.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(_a(e,"marginLeft"))||e.getBoundingClientRect().left-zo(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),Js.each({margin:"",padding:"",border:"Width"},(function(e,t){Js.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Fo[r]+t]=s[r]||s[r-2]||s[0];return i}},"margin"!==e&&(Js.cssHooks[e+t].set=Ia)})),Js.fn.extend({css:function(e,t){return xo(this,(function(e,t,n){var r,i,s={},o=0;if(Array.isArray(t)){for(r=ya(e),i=t.length;o<i;o++)s[t[o]]=Js.css(e,t[o],!1,r);return s}return void 0!==n?Js.style(e,t,n):Js.css(e,t)}),e,t,arguments.length>1)}}),Js.fn.delay=function(e,t){return e=Js.fx&&Js.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}}))},function(){var e=Ls.createElement("input"),t=Ls.createElement("select").appendChild(Ls.createElement("option"));e.type="checkbox",Gs.checkOn=""!==e.value,Gs.optSelected=t.selected,(e=Ls.createElement("input")).value="t",e.type="radio",Gs.radioValue="t"===e.value}();var Oa,Ma=Js.expr.attrHandle;Js.fn.extend({attr:function(e,t){return xo(this,Js.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){Js.removeAttr(this,e)}))}}),Js.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?Js.prop(e,t,n):(1===s&&Js.isXMLDoc(e)||(i=Js.attrHooks[t.toLowerCase()]||(Js.expr.match.bool.test(t)?Oa:void 0)),void 0!==n?null===n?void Js.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=Js.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!Gs.radioValue&&"radio"===t&&oo(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(mo);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Oa={set:function(e,t,n){return!1===t?Js.removeAttr(e,n):e.setAttribute(n,n),n}},Js.each(Js.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Ma[t]||Js.find.attr;Ma[t]=function(e,t,r){var i,s,o=t.toLowerCase();return r||(s=Ma[o],Ma[o]=i,i=null!=n(e,t,r)?o:null,Ma[o]=s),i}}));var Pa=/^(?:input|select|textarea|button)$/i,La=/^(?:a|area)$/i;function Fa(e){return(e.match(mo)||[]).join(" ")}function Na(e){return e.getAttribute&&e.getAttribute("class")||""}function za(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(mo)||[]}Js.fn.extend({prop:function(e,t){return xo(this,Js.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[Js.propFix[e]||e]}))}}),Js.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&Js.isXMLDoc(e)||(i=Js.propHooks[t=Js.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Js.find.attr(e,"tabindex");return t?parseInt(t,10):Pa.test(e.nodeName)||La.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Gs.optSelected||(Js.propHooks.selected={get:function(e){return null},set:function(e){}}),Js.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){Js.propFix[this.toLowerCase()]=this})),Js.fn.extend({addClass:function(e){var t,n,r,i,s,o,a,l=0;if(Ws(e))return this.each((function(t){Js(this).addClass(e.call(this,t,Na(this)))}));if((t=za(e)).length)for(;n=this[l++];)if(i=Na(n),r=1===n.nodeType&&" "+Fa(i)+" "){for(o=0;s=t[o++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");i!==(a=Fa(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,s,o,a,l=0;if(Ws(e))return this.each((function(t){Js(this).removeClass(e.call(this,t,Na(this)))}));if(!arguments.length)return this.attr("class","");if((t=za(e)).length)for(;n=this[l++];)if(i=Na(n),r=1===n.nodeType&&" "+Fa(i)+" "){for(o=0;s=t[o++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");i!==(a=Fa(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=Vn(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Ws(e)?this.each((function(n){Js(this).toggleClass(e.call(this,n,Na(this),t),t)})):this.each((function(){var t,i,s,o;if(r)for(i=0,s=Js(this),o=za(e);t=o[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=Na(this))&&Io.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Io.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Fa(Na(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ba=/\r/g;Js.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Ws(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,Js(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Js.map(i,(function(e){return null==e?"":e+""}))),(t=Js.valHooks[this.type]||Js.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=Js.valHooks[i.type]||Js.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ba,""):null==n?"":n:void 0}}),Js.extend({valHooks:{option:{get:function(e){var t=Js.find.attr(e,"value");return null!=t?t:Fa(Js.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:i.length;for(r=s<0?l:o?s:0;r<l;r++)if(((n=i[r]).selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!oo(n.parentNode,"optgroup"))){if(t=Js(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,s=Js.makeArray(t),o=i.length;o--;)((r=i[o]).selected=Js.inArray(Js.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),Js.each(["radio","checkbox"],(function(){Js.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Js.inArray(Js(e).val(),t)>-1}},Gs.checkOn||(Js.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),Gs.focusin="onfocusin"in window;var ja=/^(?:focusinfocus|focusoutblur)$/,Va=function(e){e.stopPropagation()};Js.extend(Js.event,{trigger:function(e,t,n,r){var i,s,o,a,l,c,h,u,d=[n||Ls],p=Us.call(e,"type")?e.type:e,f=Us.call(e,"namespace")?e.namespace.split("."):[];if(s=u=o=n=n||Ls,3!==n.nodeType&&8!==n.nodeType&&!ja.test(p+Js.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[Js.expando]?e:new Js.Event(p,"object"===Vn(e)&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:Js.makeArray(t,[e]),h=Js.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!Ys(n)){for(ja.test((a=h.delegateType||p)+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),o=s;o===(n.ownerDocument||Ls)&&d.push(o.defaultView||o.parentWindow||window)}for(i=0;(s=d[i++])&&!e.isPropagationStopped();)u=s,e.type=i>1?a:h.bindType||p,(c=(Io.get(s,"events")||{})[e.type]&&Io.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&Ro(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),t)||!Ro(n)||l&&Ws(n[p])&&!Ys(n)&&((o=n[l])&&(n[l]=null),Js.event.triggered=p,e.isPropagationStopped()&&u.addEventListener(p,Va),n[p](),e.isPropagationStopped()&&u.removeEventListener(p,Va),Js.event.triggered=void 0,o&&(n[l]=o)),e.result}},simulate:function(e,t,n){var r=Js.extend(new Js.Event,n,{type:e,isSimulated:!0});Js.event.trigger(r,null,t)}}),Js.fn.extend({trigger:function(e,t){return this.each((function(){Js.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return Js.event.trigger(e,t,n,!0)}}),Gs.focusin||Js.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){Js.event.simulate(t,e.target,Js.event.fix(e))};Js.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Io.access(r,t);i||r.addEventListener(e,n,!0),Io.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Io.access(r,t)-1;i?Io.access(r,t,i):(r.removeEventListener(e,n,!0),Io.remove(r,t))}}}));var $a,Ua=/\[\]$/,Ha=/\r?\n/g,qa=/^(?:submit|button|image|reset|file)$/i,Ga=/^(?:input|select|textarea|keygen)/i;function Wa(e,t,n,r){var i;if(Array.isArray(t))Js.each(t,(function(t,i){n||Ua.test(e)?r(e,i):Wa(e+"["+("object"===Vn(i)&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==Ks(t))r(e,t);else for(i in t)Wa(e+"["+i+"]",t[i],n,r)}Js.param=function(e,t){var n,r=[],i=function(e,t){var n=Ws(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Js.isPlainObject(e))Js.each(e,(function(){i(this.name,this.value)}));else for(n in e)Wa(n,e[n],t,i);return r.join("&")},Js.fn.extend({serialize:function(){return Js.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=Js.prop(this,"elements");return e?Js.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!Js(this).is(":disabled")&&Ga.test(this.nodeName)&&!qa.test(e)&&(this.checked||!$o.test(e))})).map((function(e,t){var n=Js(this).val();return null==n?null:Array.isArray(n)?Js.map(n,(function(e){return{name:t.name,value:e.replace(Ha,"\r\n")}})):{name:t.name,value:n.replace(Ha,"\r\n")}})).get()}}),Js.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ws(e)&&(e=e.call(this[0])),t=Js(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return Ws(e)?this.each((function(t){Js(this).wrapInner(e.call(this,t))})):this.each((function(){var t=Js(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=Ws(e);return this.each((function(n){Js(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){Js(this).replaceWith(this.childNodes)})),this}}),Js.expr.pseudos.hidden=function(e){return!Js.expr.pseudos.visible(e)},Js.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Gs.createHTMLDocument=(($a=Ls.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$a.childNodes.length),Js.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(Gs.createHTMLDocument?((r=(t=Ls.implementation.createHTMLDocument("")).createElement("base")).href=Ls.location.href,t.head.appendChild(r)):t=Ls),s=!n&&[],(i=ao.exec(e))?[t.createElement(i[1])]:(i=Ko([e],t,s),s&&s.length&&Js(s).remove(),Js.merge([],i.childNodes)));var r,i,s},Js.offset={setOffset:function(e,t,n){var r,i,s,o,a,l,c=Js.css(e,"position"),h=Js(e),u={};"static"===c&&(e.style.position="relative"),a=h.offset(),s=Js.css(e,"top"),l=Js.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(r=h.position()).top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(l)||0),Ws(t)&&(t=t.call(e,n,Js.extend({},a))),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):h.css(u)}},Js.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){Js.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Js.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Js.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=Js(e).offset()).top+=Js.css(e,"borderTopWidth",!0),i.left+=Js.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Js.css(r,"marginTop",!0),left:t.left-i.left-Js.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===Js.css(e,"position");)e=e.offsetParent;return e||Qo}))}}),Js.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;Js.fn[e]=function(r){return xo(this,(function(e,r,i){var s;if(Ys(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i}),e,r,arguments.length)}})),Js.each(["top","left"],(function(e,t){Js.cssHooks[t]=wa(Gs.pixelPosition,(function(e,n){if(n)return n=_a(e,t),va.test(n)?Js(e).position()[t]+"px":n}))})),Js.each({Height:"height",Width:"width"},(function(e,t){Js.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){Js.fn[r]=function(i,s){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===s?"margin":"border");return xo(this,(function(t,n,i){var s;return Ys(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?Js.css(t,n,a):Js.style(t,n,i,a)}),t,o?i:void 0,o)}}))})),Js.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){Js.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),Js.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Js.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Js.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Ws(e))return r=Ns.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(Ns.call(arguments)))}).guid=e.guid=e.guid||Js.guid++,i},Js.holdReady=function(e){e?Js.readyWait++:Js.ready(!0)},Js.isArray=Array.isArray,Js.parseJSON=JSON.parse,Js.nodeName=oo,Js.isFunction=Ws,Js.isWindow=Ys,Js.camelCase=Eo,Js.type=Ks,Js.now=Date.now,Js.isNumeric=function(e){var t=Js.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Ya=Js,Za=Object.assign,Xa=Object.defineProperty,Ka=!Za||i((function(){if(s&&1!==Za({b:1},Za(Xa({},"a",{enumerable:!0,get:function(){Xa(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Za({},e)[n]||"abcdefghijklmnopqrst"!=Ct(Za({},t)).join("")}))?function(e,t){for(var n=Me(e),r=arguments.length,i=1,o=be.f,a=l.f;r>i;)for(var c,h=p(arguments[i++]),u=o?Ct(h).concat(o(h)):Ct(h),d=u.length,f=0;d>f;)c=u[f++],s&&!a.call(h,c)||(n[c]=h[c]);return n}:Za;Te({target:"Object",stat:!0,forced:Object.assign!==Ka},{assign:Ka});var Qa=lr.f,Ja=i((function(){return!Object.getOwnPropertyNames(1)}));Te({target:"Object",stat:!0,forced:Ja},{getOwnPropertyNames:Qa});var el=i((function(){Ct(1)}));Te({target:"Object",stat:!0,forced:el},{keys:function(e){return Ct(Me(e))}});var tl=r.Promise,nl=function(e,t,n){for(var r in t)ee(e,r,t[r],n);return e},rl=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},il=je("iterator"),sl=Array.prototype,ol=function(e){return void 0!==e&&(di.Array===e||sl[il]===e)},al=je("iterator"),ll=function(e){if(null!=e)return e[al]||e["@@iterator"]||di[es(e)]},cl=function(e,t,n,r){try{return r?t(E(n)[0],n[1]):t(n)}catch(Ex){var i=e.return;throw void 0!==i&&E(i.call(e)),Ex}},hl=t((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,s){var o,a,l,c,h,u,d,p=Oe(n,r,i?2:1);if(s)o=e;else{if("function"!=typeof(a=ll(e)))throw TypeError("Target is not iterable");if(ol(a)){for(l=0,c=le(e.length);c>l;l++)if((h=i?p(E(d=e[l])[0],d[1]):p(e[l]))&&h instanceof t)return h;return new t(!1)}o=a.call(e)}for(u=o.next;!(d=u.call(o)).done;)if("object"==typeof(h=cl(o,p,d.value,i))&&h&&h instanceof t)return h;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ul=je("iterator"),dl=!1;try{var pl=0,fl={next:function(){return{done:!!pl++}},return:function(){dl=!0}};fl[ul]=function(){return this},Array.from(fl,(function(){throw 2}))}catch(Ex){}var ml,gl,vl,yl=function(e,t){if(!t&&!dl)return!1;var n=!1;try{var r={};r[ul]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(Ex){}return n},bl=/(iphone|ipod|ipad).*applewebkit/i.test(Ge),_l=r.location,wl=r.setImmediate,xl=r.clearImmediate,Sl=r.process,kl=r.MessageChannel,Cl=r.Dispatch,El=0,Rl={},Al=function(e){if(Rl.hasOwnProperty(e)){var t=Rl[e];delete Rl[e],t()}},Il=function(e){return function(){Al(e)}},Tl=function(e){Al(e.data)},Dl=function(e){r.postMessage(e+"",_l.protocol+"//"+_l.host)};wl&&xl||(wl=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Rl[++El]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ml(El),El},xl=function(e){delete Rl[e]},"process"==u(Sl)?ml=function(e){Sl.nextTick(Il(e))}:Cl&&Cl.now?ml=function(e){Cl.now(Il(e))}:kl&&!bl?(vl=(gl=new kl).port2,gl.port1.onmessage=Tl,ml=Oe(vl.postMessage,vl,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(Dl)?ml="onreadystatechange"in x("script")?function(e){Rt.appendChild(x("script")).onreadystatechange=function(){Rt.removeChild(this),Al(e)}}:function(e){setTimeout(Il(e),0)}:(ml=Dl,r.addEventListener("message",Tl,!1)));var Ol,Ml,Pl,Ll,Fl,Nl,zl,Bl,jl={set:wl,clear:xl},Vl=C.f,$l=jl.set,Ul=r.MutationObserver||r.WebKitMutationObserver,Hl=r.process,ql=r.Promise,Gl="process"==u(Hl),Wl=Vl(r,"queueMicrotask"),Yl=Wl&&Wl.value;Yl||(Ol=function(){var e,t;for(Gl&&(e=Hl.domain)&&e.exit();Ml;){t=Ml.fn,Ml=Ml.next;try{t()}catch(Ex){throw Ml?Ll():Pl=void 0,Ex}}Pl=void 0,e&&e.enter()},Gl?Ll=function(){Hl.nextTick(Ol)}:Ul&&!bl?(Fl=!0,Nl=document.createTextNode(""),new Ul(Ol).observe(Nl,{characterData:!0}),Ll=function(){Nl.data=Fl=!Fl}):ql&&ql.resolve?(zl=ql.resolve(void 0),Bl=zl.then,Ll=function(){Bl.call(zl,Ol)}):Ll=function(){$l.call(r,Ol)});var Zl,Xl,Kl,Ql,Jl=Yl||function(e){var t={fn:e,next:void 0};Pl&&(Pl.next=t),Ml||(Ml=t,Ll()),Pl=t},ec=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=De(t),this.reject=De(n)},tc={f:function(e){return new ec(e)}},nc=function(e,t){if(E(e),g(t)&&t.constructor===e)return t;var n=tc.f(e);return(0,n.resolve)(t),n.promise},rc=function(e){try{return{error:!1,value:e()}}catch(Ex){return{error:!0,value:Ex}}},ic=jl.set,sc=je("species"),oc="Promise",ac=J.get,lc=J.set,cc=J.getterFor(oc),hc=tl,uc=r.TypeError,dc=r.document,pc=r.process,fc=re("fetch"),mc=tc.f,gc=mc,vc="process"==u(pc),yc=!!(dc&&dc.createEvent&&r.dispatchEvent),bc=Ae(oc,(function(){if(F(hc)===String(hc)){if(66===Xe)return!0;if(!vc&&"function"!=typeof PromiseRejectionEvent)return!0}if(Xe>=51&&/native code/.test(hc))return!1;var e=hc.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[sc]=t,!(e.then((function(){}))instanceof t)})),_c=bc||!yl((function(e){hc.all(e).catch((function(){}))})),wc=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},xc=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;Jl((function(){for(var i=t.value,s=1==t.state,o=0;r.length>o;){var a,l,c,h=r[o++],u=s?h.ok:h.fail,d=h.resolve,p=h.reject,f=h.domain;try{u?(s||(2===t.rejection&&Ec(e,t),t.rejection=1),!0===u?a=i:(f&&f.enter(),a=u(i),f&&(f.exit(),c=!0)),a===h.promise?p(uc("Promise-chain cycle")):(l=wc(a))?l.call(a,d,p):d(a)):p(i)}catch(Ex){f&&!c&&f.exit(),p(Ex)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&kc(e,t)}))}},Sc=function(e,t,n){var i,s;yc?((i=dc.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),r.dispatchEvent(i)):i={promise:t,reason:n},(s=r["on"+e])?s(i):"unhandledrejection"===e&&function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},kc=function(e,t){ic.call(r,(function(){var n,r=t.value;if(Cc(t)&&(n=rc((function(){vc?pc.emit("unhandledRejection",r,e):Sc("unhandledrejection",e,r)})),t.rejection=vc||Cc(t)?2:1,n.error))throw n.value}))},Cc=function(e){return 1!==e.rejection&&!e.parent},Ec=function(e,t){ic.call(r,(function(){vc?pc.emit("rejectionHandled",e):Sc("rejectionhandled",e,t.value)}))},Rc=function(e,t,n,r){return function(i){e(t,n,i,r)}},Ac=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,xc(e,t,!0))},Ic=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw uc("Promise can't be resolved itself");var i=wc(n);i?Jl((function(){var r={done:!1};try{i.call(n,Rc(Ic,e,r,t),Rc(Ac,e,r,t))}catch(Ex){Ac(e,r,Ex,t)}})):(t.value=n,t.state=1,xc(e,t,!1))}catch(Ex){Ac(e,{done:!1},Ex,t)}}};bc&&(hc=function(e){rl(this,hc,oc),De(e),Zl.call(this);var t=ac(this);try{e(Rc(Ic,this,t),Rc(Ac,this,t))}catch(Ex){Ac(this,t,Ex)}},(Zl=function(e){lc(this,{type:oc,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=nl(hc.prototype,{then:function(e,t){var n=cc(this),r=mc(In(this,hc));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=vc?pc.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&xc(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Xl=function(){var e=new Zl,t=ac(e);this.promise=e,this.resolve=Rc(Ic,e,t),this.reject=Rc(Ac,e,t)},tc.f=mc=function(e){return e===hc||e===Kl?new Xl(e):gc(e)},"function"==typeof tl&&(Ql=tl.prototype.then,ee(tl.prototype,"then",(function(e,t){var n=this;return new hc((function(e,t){Ql.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof fc&&Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return nc(hc,fc.apply(r,arguments))}}))),Te({global:!0,wrap:!0,forced:bc},{Promise:hc}),fr(hc,oc,!1),ns(oc),Kl=re(oc),Te({target:oc,stat:!0,forced:bc},{reject:function(e){var t=mc(this);return t.reject.call(void 0,e),t.promise}}),Te({target:oc,stat:!0,forced:bc},{resolve:function(e){return nc(this,e)}}),Te({target:oc,stat:!0,forced:_c},{all:function(e){var t=this,n=mc(t),r=n.resolve,i=n.reject,s=rc((function(){var n=De(t.resolve),s=[],o=0,a=1;hl(e,(function(e){var l=o++,c=!1;s.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,s[l]=e,--a||r(s))}),i)})),--a||r(s)}));return s.error&&i(s.value),n.promise},race:function(e){var t=this,n=mc(t),r=n.reject,i=rc((function(){var i=De(t.resolve);hl(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Tc=C.f,Dc="".startsWith,Oc=Math.min,Mc=pn("startsWith"),Pc=!Mc&&!!function(){var e=Tc(String.prototype,"startsWith");return e&&!e.writable}();Te({target:"String",proto:!0,forced:!Pc&&!Mc},{startsWith:function(e){var t=String(f(this));un(e);var n=le(Oc(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Dc?Dc.call(t,r,n):t.slice(n,n+r.length)===r}});var Lc=zt.trim;Te({target:"String",proto:!0,forced:i((function(){return!!Mt.trim()||"\u200b\x85\u180e"!="\u200b\x85\u180e".trim()||"trim"!==Mt.trim.name}))},{trim:function(){return Lc(this)}});var Fc=je("iterator"),Nc=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Fc]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),zc=function(e){var t,n,r,i,s,o,a=Me(e),l="function"==typeof this?this:Array,c=arguments.length,h=c>1?arguments[1]:void 0,u=void 0!==h,d=ll(a),p=0;if(u&&(h=Oe(h,c>2?arguments[2]:void 0,2)),null==d||l==Array&&ol(d))for(n=new l(t=le(a.length));t>p;p++)o=u?h(a[p],p):a[p],Qr(n,p,o);else for(s=(i=d.call(a)).next,n=new l;!(r=s.call(i)).done;p++)o=u?cl(i,h,[r.value,p],!0):r.value,Qr(n,p,o);return n.length=p,n},Bc=/[^\0-\u007E]/,jc=/[.\u3002\uFF0E\uFF61]/g,Vc="Overflow: input needs wider integers to process",$c=Math.floor,Uc=String.fromCharCode,Hc=function(e){return e+22+75*(e<26)},qc=function(e,t,n){var r=0;for(e=n?$c(e/700):e>>1,e+=$c(e/t);e>455;r+=36)e=$c(e/35);return $c(r+36*e/(e+38))},Gc=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,s=128,o=0,a=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(Uc(n));var l=r.length,c=l;for(l&&r.push("-");c<i;){var h=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=s&&n<h&&(h=n);var u=c+1;if(h-s>$c((2147483647-o)/u))throw RangeError(Vc);for(o+=(h-s)*u,s=h,t=0;t<e.length;t++){if((n=e[t])<s&&++o>2147483647)throw RangeError(Vc);if(n==s){for(var d=o,p=36;;p+=36){var f=p<=a?1:p>=a+26?26:p-a;if(d<f)break;var m=d-f,g=36-f;r.push(Uc(Hc(f+m%g))),d=$c(m/g)}r.push(Uc(Hc(d))),a=qc(o,u,c==l),o=0,++c}}++o,++s}return r.join("")},Wc=function(e){var t=ll(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return E(t.call(e))},Yc=re("fetch"),Zc=re("Headers"),Xc=je("iterator"),Kc=J.set,Qc=J.getterFor("URLSearchParams"),Jc=J.getterFor("URLSearchParamsIterator"),eh=/\+/g,th=Array(4),nh=function(e){return th[e-1]||(th[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},rh=function(e){try{return decodeURIComponent(e)}catch(Ex){return e}},ih=function(e){var t=e.replace(eh," "),n=4;try{return decodeURIComponent(t)}catch(Ex){for(;n;)t=t.replace(nh(n--),rh);return t}},sh=/[!'()~]|%20/g,oh={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ah=function(e){return oh[e]},lh=function(e){return encodeURIComponent(e).replace(sh,ah)},ch=function(e,t){if(t)for(var n,r,i=t.split("&"),s=0;s<i.length;)(n=i[s++]).length&&(r=n.split("="),e.push({key:ih(r.shift()),value:ih(r.join("="))}))},hh=function(e){this.entries.length=0,ch(this.entries,e)},uh=function(e,t){if(e<t)throw TypeError("Not enough arguments")},dh=xi((function(e,t){Kc(this,{type:"URLSearchParamsIterator",iterator:Wc(Qc(e).entries),kind:t})}),"Iterator",(function(){var e=Jc(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),ph=function(){rl(this,ph,"URLSearchParams");var e,t,n,r,i,s,o,a,l,c=arguments.length>0?arguments[0]:void 0,h=this,u=[];if(Kc(h,{type:"URLSearchParams",entries:u,updateURL:function(){},updateSearchParams:hh}),void 0!==c)if(g(c))if("function"==typeof(e=ll(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((o=(s=(i=Wc(E(r.value))).next).call(i)).done||(a=s.call(i)).done||!s.call(i).done)throw TypeError("Expected sequence with length 2");u.push({key:o.value+"",value:a.value+""})}else for(l in c)b(c,l)&&u.push({key:l,value:c[l]+""});else ch(u,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},fh=ph.prototype;nl(fh,{append:function(e,t){uh(arguments.length,2);var n=Qc(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){uh(arguments.length,1);for(var t=Qc(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){uh(arguments.length,1);for(var t=Qc(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){uh(arguments.length,1);for(var t=Qc(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){uh(arguments.length,1);for(var t=Qc(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){uh(arguments.length,1);for(var n,r=Qc(this),i=r.entries,s=!1,o=e+"",a=t+"",l=0;l<i.length;l++)(n=i[l]).key===o&&(s?i.splice(l--,1):(s=!0,n.value=a));s||i.push({key:o,value:a}),r.updateURL()},sort:function(){var e,t,n,r=Qc(this),i=r.entries,s=i.slice();for(i.length=0,n=0;n<s.length;n++){for(e=s[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=Qc(this).entries,r=Oe(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new dh(this,"keys")},values:function(){return new dh(this,"values")},entries:function(){return new dh(this,"entries")}},{enumerable:!0}),ee(fh,Xc,fh.entries),ee(fh,"toString",(function(){for(var e,t=Qc(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(lh(e.key)+"="+lh(e.value));return n.join("&")}),{enumerable:!0}),fr(ph,"URLSearchParams"),Te({global:!0,forced:!Nc},{URLSearchParams:ph}),Nc||"function"!=typeof Yc||"function"!=typeof Zc||Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(g(t=arguments[1])&&"URLSearchParams"===es(n=t.body)&&((r=t.headers?new Zc(t.headers):new Zc).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ot(t,{body:c(0,String(n)),headers:c(0,r)})),i.push(t)),Yc.apply(this,i)}});var mh,gh={URLSearchParams:ph,getState:Qc},vh=Dn.codeAt,yh=r.URL,bh=gh.URLSearchParams,_h=gh.getState,wh=J.set,xh=J.getterFor("URL"),Sh=Math.floor,kh=Math.pow,Ch=/[A-Za-z]/,Eh=/[\d+\-.A-Za-z]/,Rh=/\d/,Ah=/^(0x|0X)/,Ih=/^[0-7]+$/,Th=/^\d+$/,Dh=/^[\dA-Fa-f]+$/,Oh=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Mh=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ph=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Lh=/[\u0009\u000A\u000D]/g,Fh=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=zh(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Gh(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(jc,".").split(".");for(t=0;t<i.length;t++)r.push(Bc.test(n=i[t])?"xn--"+Gc(n):n);return r.join(".")}(t),Oh.test(t))return"Invalid host";if(null===(n=Nh(t)))return"Invalid host";e.host=n}else{if(Mh.test(t))return"Invalid host";for(n="",r=zc(t),i=0;i<r.length;i++)n+=Hh(r[i],jh);e.host=n}},Nh=function(e){var t,n,r,i,s,o,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(s=10,i.length>1&&"0"==i.charAt(0)&&(s=Ah.test(i)?16:8,i=i.slice(8==s?1:2)),""===i)o=0;else{if(!(10==s?Th:8==s?Ih:Dh).test(i))return e;o=parseInt(i,s)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=kh(256,5-t))return null}else if(o>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*kh(256,3-r);return a},zh=function(e){var t,n,r,i,s,o,a,l=[0,0,0,0,0,0,0,0],c=0,h=null,u=0,d=function(){return e.charAt(u)};if(":"==d()){if(":"!=e.charAt(1))return;u+=2,h=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&Dh.test(d());)t=16*t+parseInt(d(),16),u++,n++;if("."==d()){if(0==n)return;if(u-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;u++}if(!Rh.test(d()))return;for(;Rh.test(d());){if(s=parseInt(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;u++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(u++,!d())return}else if(d())return;l[c++]=t}else{if(null!==h)return;u++,h=++c}}if(null!==h)for(o=c-h,c=7;0!=c&&o>0;)a=l[c],l[c--]=l[h+o-1],l[h+--o]=a;else if(8!=c)return;return l},Bh=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Sh(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,s=0;s<8;s++)0!==e[s]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},jh={},Vh=Ka({},jh,{" ":1,'"':1,"<":1,">":1,"`":1}),$h=Ka({},Vh,{"#":1,"?":1,"{":1,"}":1}),Uh=Ka({},$h,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Hh=function(e,t){var n=vh(e,0);return n>32&&n<127&&!b(t,e)?e:encodeURIComponent(e)},qh={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Gh=function(e){return b(qh,e.scheme)},Wh=function(e){return""!=e.username||""!=e.password},Yh=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Zh=function(e,t){var n;return 2==e.length&&Ch.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Xh=function(e){var t;return e.length>1&&Zh(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Kh=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Zh(t[0],!0)||t.pop()},Qh=function(e){return"."===e||"%2e"===e.toLowerCase()},Jh={},eu={},tu={},nu={},ru={},iu={},su={},ou={},au={},lu={},cu={},hu={},uu={},du={},pu={},fu={},mu={},gu={},vu={},yu={},bu={},_u=function(e,t,n,r){var i,s,o,a,l,c=n||Jh,h=0,u="",d=!1,p=!1,f=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Ph,"")),t=t.replace(Lh,""),i=zc(t);h<=i.length;){switch(s=i[h],c){case Jh:if(!s||!Ch.test(s)){if(n)return"Invalid scheme";c=tu;continue}u+=s.toLowerCase(),c=eu;break;case eu:if(s&&(Eh.test(s)||"+"==s||"-"==s||"."==s))u+=s.toLowerCase();else{if(":"!=s){if(n)return"Invalid scheme";u="",c=tu,h=0;continue}if(n&&(Gh(e)!=b(qh,u)||"file"==u&&(Wh(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=u,n)return void(Gh(e)&&qh[e.scheme]==e.port&&(e.port=null));u="","file"==e.scheme?c=du:Gh(e)&&r&&r.scheme==e.scheme?c=nu:Gh(e)?c=ou:"/"==i[h+1]?(c=ru,h++):(e.cannotBeABaseURL=!0,e.path.push(""),c=vu)}break;case tu:if(!r||r.cannotBeABaseURL&&"#"!=s)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==s){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=bu;break}c="file"==r.scheme?du:iu;continue;case nu:if("/"!=s||"/"!=i[h+1]){c=iu;continue}c=au,h++;break;case ru:if("/"==s){c=lu;break}c=gu;continue;case iu:if(e.scheme=r.scheme,s==mh)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==s||"\\"==s&&Gh(e))c=su;else if("?"==s)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=yu;else{if("#"!=s){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=gu;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=bu}break;case su:if(!Gh(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=gu;continue}c=lu}else c=au;break;case ou:if(c=au,"/"!=s||"/"!=u.charAt(h+1))continue;h++;break;case au:if("/"!=s&&"\\"!=s){c=lu;continue}break;case lu:if("@"==s){d&&(u="%40"+u),d=!0,o=zc(u);for(var m=0;m<o.length;m++){var g=o[m];if(":"!=g||f){var v=Hh(g,Uh);f?e.password+=v:e.username+=v}else f=!0}u=""}else if(s==mh||"/"==s||"?"==s||"#"==s||"\\"==s&&Gh(e)){if(d&&""==u)return"Invalid authority";h-=zc(u).length+1,u="",c=cu}else u+=s;break;case cu:case hu:if(n&&"file"==e.scheme){c=fu;continue}if(":"!=s||p){if(s==mh||"/"==s||"?"==s||"#"==s||"\\"==s&&Gh(e)){if(Gh(e)&&""==u)return"Invalid host";if(n&&""==u&&(Wh(e)||null!==e.port))return;if(a=Fh(e,u))return a;if(u="",c=mu,n)return;continue}"["==s?p=!0:"]"==s&&(p=!1),u+=s}else{if(""==u)return"Invalid host";if(a=Fh(e,u))return a;if(u="",c=uu,n==hu)return}break;case uu:if(!Rh.test(s)){if(s==mh||"/"==s||"?"==s||"#"==s||"\\"==s&&Gh(e)||n){if(""!=u){var y=parseInt(u,10);if(y>65535)return"Invalid port";e.port=Gh(e)&&y===qh[e.scheme]?null:y,u=""}if(n)return;c=mu;continue}return"Invalid port"}u+=s;break;case du:if(e.scheme="file","/"==s||"\\"==s)c=pu;else{if(!r||"file"!=r.scheme){c=gu;continue}if(s==mh)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==s)e.host=r.host,e.path=r.path.slice(),e.query="",c=yu;else{if("#"!=s){Xh(i.slice(h).join(""))||(e.host=r.host,e.path=r.path.slice(),Kh(e)),c=gu;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=bu}}break;case pu:if("/"==s||"\\"==s){c=fu;break}r&&"file"==r.scheme&&!Xh(i.slice(h).join(""))&&(Zh(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=gu;continue;case fu:if(s==mh||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&Zh(u))c=gu;else if(""==u){if(e.host="",n)return;c=mu}else{if(a=Fh(e,u))return a;if("localhost"==e.host&&(e.host=""),n)return;u="",c=mu}continue}u+=s;break;case mu:if(Gh(e)){if(c=gu,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=mh&&(c=gu,"/"!=s))continue}else e.fragment="",c=bu;else e.query="",c=yu;break;case gu:if(s==mh||"/"==s||"\\"==s&&Gh(e)||!n&&("?"==s||"#"==s)){if(".."===(l=(l=u).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Kh(e),"/"==s||"\\"==s&&Gh(e)||e.path.push("")):Qh(u)?"/"==s||"\\"==s&&Gh(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Zh(u)&&(e.host&&(e.host=""),u=u.charAt(0)+":"),e.path.push(u)),u="","file"==e.scheme&&(s==mh||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",c=yu):"#"==s&&(e.fragment="",c=bu)}else u+=Hh(s,$h);break;case vu:"?"==s?(e.query="",c=yu):"#"==s?(e.fragment="",c=bu):s!=mh&&(e.path[0]+=Hh(s,jh));break;case yu:n||"#"!=s?s!=mh&&("'"==s&&Gh(e)?e.query+="%27":e.query+="#"==s?"%23":Hh(s,jh)):(e.fragment="",c=bu);break;case bu:s!=mh&&(e.fragment+=Hh(s,Vh))}h++}},wu=function(e){var t,n,r=rl(this,wu,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=wh(r,{type:"URL"});if(void 0!==i)if(i instanceof wu)t=xh(i);else if(n=_u(t={},String(i)))throw TypeError(n);if(n=_u(a,o,null,t))throw TypeError(n);var l=a.searchParams=new bh,c=_h(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},s||(r.href=Su.call(r),r.origin=ku.call(r),r.protocol=Cu.call(r),r.username=Eu.call(r),r.password=Ru.call(r),r.host=Au.call(r),r.hostname=Iu.call(r),r.port=Tu.call(r),r.pathname=Du.call(r),r.search=Ou.call(r),r.searchParams=Mu.call(r),r.hash=Pu.call(r))},xu=wu.prototype,Su=function(){var e=xh(this),t=e.scheme,n=e.username,r=e.password,i=e.host,s=e.port,o=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Wh(e)&&(c+=n+(r?":"+r:"")+"@"),c+=Bh(i),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},ku=function(){var e=xh(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(Ex){return"null"}return"file"!=t&&Gh(e)?t+"://"+Bh(e.host)+(null!==n?":"+n:""):"null"},Cu=function(){return xh(this).scheme+":"},Eu=function(){return xh(this).username},Ru=function(){return xh(this).password},Au=function(){var e=xh(this),t=e.host,n=e.port;return null===t?"":null===n?Bh(t):Bh(t)+":"+n},Iu=function(){var e=xh(this).host;return null===e?"":Bh(e)},Tu=function(){var e=xh(this).port;return null===e?"":String(e)},Du=function(){var e=xh(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ou=function(){var e=xh(this).query;return e?"?"+e:""},Mu=function(){return xh(this).searchParams},Pu=function(){var e=xh(this).fragment;return e?"#"+e:""},Lu=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&Et(xu,{href:Lu(Su,(function(e){var t=xh(this),n=String(e),r=_u(t,n);if(r)throw TypeError(r);_h(t.searchParams).updateSearchParams(t.query)})),origin:Lu(ku),protocol:Lu(Cu,(function(e){var t=xh(this);_u(t,String(e)+":",Jh)})),username:Lu(Eu,(function(e){var t=xh(this),n=zc(String(e));if(!Yh(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Hh(n[r],Uh)}})),password:Lu(Ru,(function(e){var t=xh(this),n=zc(String(e));if(!Yh(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Hh(n[r],Uh)}})),host:Lu(Au,(function(e){var t=xh(this);t.cannotBeABaseURL||_u(t,String(e),cu)})),hostname:Lu(Iu,(function(e){var t=xh(this);t.cannotBeABaseURL||_u(t,String(e),hu)})),port:Lu(Tu,(function(e){var t=xh(this);Yh(t)||(""==(e=String(e))?t.port=null:_u(t,e,uu))})),pathname:Lu(Du,(function(e){var t=xh(this);t.cannotBeABaseURL||(t.path=[],_u(t,e+"",mu))})),search:Lu(Ou,(function(e){var t=xh(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_u(t,e,yu)),_h(t.searchParams).updateSearchParams(t.query)})),searchParams:Lu(Mu),hash:Lu(Pu,(function(e){var t=xh(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_u(t,e,bu)):t.fragment=null}))}),ee(xu,"toJSON",(function(){return Su.call(this)}),{enumerable:!0}),ee(xu,"toString",(function(){return Su.call(this)}),{enumerable:!0}),yh){var Fu=yh.createObjectURL,Nu=yh.revokeObjectURL;Fu&&ee(wu,"createObjectURL",(function(e){return Fu.apply(yh,arguments)})),Nu&&ee(wu,"revokeObjectURL",(function(e){return Nu.apply(yh,arguments)}))}fr(wu,"URL"),Te({global:!0,forced:!Nc,sham:!s},{URL:wu}),Te({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var zu=function(e){return function(t,n,r,i){De(n);var s=Me(t),o=p(s),a=le(s.length),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in o&&(i=n(i,o[l],l,s));return i}},Bu={left:zu(!1),right:zu(!0)},ju=Bu.left,Vu=ot("reduce"),$u=nt("reduce",{1:0});Te({target:"Array",proto:!0,forced:!Vu||!$u},{reduce:function(e){return ju(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Uu,Hu,qu,Gu,Wu,Yu=function(e){for(var t=Me(this),n=le(t.length),r=arguments.length,i=ue(r>1?arguments[1]:void 0,n),s=r>2?arguments[2]:void 0,o=void 0===s?n:ue(s,n);o>i;)t[i++]=e;return t};function Zu(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function Xu(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function Ku(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}Te({target:"Array",proto:!0},{fill:Yu}),si("fill"),Wu=function(e,t){var n,r,i,s={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),s[r]="&#"+i+";";return s["\\xa0"]="&#160;",s}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Uu={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(qu=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",Zu("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},Gu=function(e,t){this.__root=e,this.__ctx=t},(Hu=function(e){if(!(this instanceof Hu))return new Hu(e);this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox&&(this.__root.setAttribute("viewBox",e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height),this.viewbox=e.viewbox),this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;var t=this.__createElement("rect",{id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"});this.__root.appendChild(t),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}).prototype.setWidth=function(e){this.width=e,this.__root.setAttribute("width",this.width),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height)},Hu.prototype.setHeight=function(e){this.height=e,this.__root.setAttribute("height",this.height),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e)},Hu.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i];r.setAttribute(o,t[o])}return r},Hu.prototype.__setDefaultStyles=function(){var e,t,n=Object.keys(Uu);for(e=0;e<n.length;e++)this[t=n[e]]=Uu[t].canvas},Hu.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},Hu.prototype.__getStyleState=function(){var e,t,n={},r=Object.keys(Uu);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n},Hu.prototype.__applyStyleToCurrentElement=function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach((function(t){t.setAttribute(e,"")})));var r,i,s,o,a,l=Object.keys(Uu);for(r=0;r<l.length;r++)if(s=this[l[r]],(i=Uu[l[r]]).apply)if(s instanceof Gu){if(s.__ctx)for(;s.__ctx.__defs.childNodes.length;)o=s.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[o]=o,this.__defs.appendChild(s.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,Zu("url(#{id})",{id:s.__root.getAttribute("id")}))}else if(s instanceof qu)t.setAttribute(i.apply,Zu("url(#{id})",{id:s.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(e)&&i.svg!==s)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!s||-1===s.indexOf("rgba")){var c=i.svgAttr;if("globalAlpha"===l[r]&&t.getAttribute(c=e+"-"+i.svgAttr))continue;t.setAttribute(c,s)}else{a=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(s),t.setAttribute(i.svgAttr,Zu("rgb({r},{g},{b})",{r:a[1],g:a[2],b:a[3]}));var h=a[4],u=this.globalAlpha;null!=u&&(h*=u),t.setAttribute(i.svgAttr+"-opacity",h)}},Hu.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},Hu.prototype.getSerializedSvg=function(e){var t,n,r,i,s,o=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Wu),n=0;n<t.length;n++)i=Wu[r=t[n]],(s=new RegExp(r,"gi")).test(o)&&(o=o.replace(s,i));return o},Hu.prototype.getSvg=function(){return this.__root},Hu.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},Hu.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},Hu.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",this.__currentElement.setAttribute("transform",r+=e)},Hu.prototype.addTrackGroupWithTranslationAndClipRect=function(e,t,n,r,i,s){var o=e+"_clip_rect",a=this.__createElement("clipPath",{id:o});this.__defs.appendChild(a),a.appendChild(this.__createElement("rect",{x:"0",y:s.toString(),width:r.toString(),height:i.toString()}));var l=this.__createElement("g");this.__rootGroup.appendChild(l),l.setAttribute("transform",Zu("translate({x},{y})",{x:t,y:n})),l.setAttribute("id",e+"_group"),l.setAttribute("clip-path",Zu("url(#{id})",{id:o})),this.__currentElement=l},Hu.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(Zu("scale({x},{y})",{x:e,y:t}))},Hu.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(Zu("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},Hu.prototype.translate=function(e,t){this.__addTransform(Zu("translate({x},{y})",{x:e,y:t}))},Hu.prototype.transform=function(e,t,n,r,i,s){this.__addTransform(Zu("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:s}))},Hu.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},Hu.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},Hu.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},Hu.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Zu("M {x} {y}",{x:e,y:t}))},Hu.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},Hu.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Zu("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Zu("M {x} {y}",{x:e,y:t}))},Hu.prototype.bezierCurveTo=function(e,t,n,r,i,s){this.__currentPosition={x:i,y:s},this.__addPathCommand(Zu("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:s}))},Hu.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(Zu("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var Qu=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};Hu.prototype.arcTo=function(e,t,n,r,i){var s=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==s&&void 0!==o){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(s===e&&o===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var a=Qu([s-e,o-t]),l=Qu([n-e,r-t]);if(a[0]*l[1]!=a[1]*l[0]){var c=Math.acos(Math.abs(a[0]*l[0]+a[1]*l[1])),h=Qu([a[0]+l[0],a[1]+l[1]]),u=i/Math.sin(c/2),d=e+u*h[0],p=t+u*h[1],f=[-a[1],a[0]],m=[l[1],-l[0]],g=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},v=g(f),y=g(m);this.lineTo(d+f[0]*i,p+f[1]*i),this.arc(d,p,i,v,y)}else this.lineTo(e,t)}}},Hu.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},Hu.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},Hu.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},Hu.prototype.fillRect=function(e,t,n,r){var i,s,o,a={x:e,y:t,width:n,height:r};(!this.viewbox||(i=this.viewbox).x<(s=a).x+s.width&&i.x+i.width>s.x&&i.y<s.y+s.height&&i.y+i.height>s.y)&&(o=this.__createElement("rect",a,!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill"))},Hu.prototype.strokeRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},Hu.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},Hu.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,s=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),s.appendChild(i)}else this.__clearCanvas()},Hu.prototype.createLinearGradient=function(e,t,n,r){var i=this.__createElement("linearGradient",{id:Xu(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new qu(i,this)},Hu.prototype.createRadialGradient=function(e,t,n,r,i,s){var o=this.__createElement("radialGradient",{id:Xu(this.__ids),cx:r+"px",cy:i+"px",r:s+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new qu(o,this)},Hu.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},Hu.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},Hu.prototype.__applyText=function(e,t,n,r){var i,s,o=this.__parseFont(),a=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,s={left:"start",right:"end",center:"middle",start:"start",end:"end"},s[i]||s.start),"dominant-baseline":Ku(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(e)),this.__currentElement=l,this.__applyStyleToCurrentElement(r),a.appendChild(this.__wrapTextLink(o,l))},Hu.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},Hu.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},Hu.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},Hu.prototype.arc=function(e,t,n,r,i,s){if(r!==i){(r%=2*Math.PI)==(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(s?-1:1))%(2*Math.PI));var o,a=e+n*Math.cos(i),l=t+n*Math.sin(i),c=e+n*Math.cos(r),h=t+n*Math.sin(r),u=s?0:1,d=i-r;d<0&&(d+=2*Math.PI),o=s?d>Math.PI?0:1:d>Math.PI?1:0,this.lineTo(c,h),this.__addPathCommand(Zu("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:o,sweepFlag:u,endX:a,endY:l})),this.__currentPosition={x:a,y:l}}},Hu.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=Xu(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Zu("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},Hu.prototype.drawImage=function(){var e,t,n,r,i,s,o,a,l,c,h,u,d,p=Array.prototype.slice.call(arguments),f=p[0],m=0,g=0;if(3===p.length)e=p[1],t=p[2],n=i=f.width,r=s=f.height;else if(5===p.length)e=p[1],t=p[2],n=p[3],r=p[4],i=f.width,s=f.height;else{if(9!==p.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);m=p[1],g=p[2],i=p[3],s=p[4],e=p[5],t=p[6],n=p[7],r=p[8]}o=this.__closestGroupOrSvg();var v="translate("+e+", "+t+")";if(f instanceof Hu){if((a=f.getSvg().cloneNode(!0)).childNodes&&a.childNodes.length>1){for(l=a.childNodes[0];l.childNodes.length;)d=l.childNodes[0].getAttribute("id"),this.__ids[d]=d,this.__defs.appendChild(l.childNodes[0]);if(c=a.childNodes[1]){var y=c.getAttribute("transform");c.setAttribute("transform",y?y+" "+v:v),o.appendChild(c)}}}else"CANVAS"!==f.nodeName&&"IMG"!==f.nodeName||((h=this.__createElement("image")).setAttribute("width",n),h.setAttribute("height",r),h.setAttribute("preserveAspectRatio","none"),(m||g||i!==f.width||s!==f.height)&&((u=this.__document.createElement("canvas")).width=n,u.height=r,u.getContext("2d").drawImage(f,m,g,i,s,0,0,n,r),f=u),h.setAttribute("transform",v),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===f.nodeName?f.toDataURL():f.getAttribute("src")),o.appendChild(h))},Hu.prototype.createPattern=function(e,t){var n,r=this.__document.__createElement("pattern"),i=Xu(this.__ids);return r.setAttribute("id",i),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__createElement("image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof Hu&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new Gu(r,this)},Hu.prototype.setLineDash=function(e){this.lineDash=e&&e.length>0?e.join(","):null},Hu.prototype.drawFocusRing=function(){},Hu.prototype.createImageData=function(){},Hu.prototype.getImageData=function(){},Hu.prototype.putImageData=function(){},Hu.prototype.globalCompositeOperation=function(){},Hu.prototype.setTransform=function(){};var Ju,ed=Hu;function td(e,t){Ya(t).on("mousedown.igv_drag",nd.bind(e))}function nd(e){e.stopPropagation(),e.preventDefault();var t=Math.round(parseFloat(this.style.left.replace("px",""))),n=Math.round(parseFloat(this.style.top.replace("px",""))),r=rd.bind(this),i=id.bind(this);Ju={dragFunction:r,dragEndFunction:i,dx:t-e.screenX,dy:n-e.screenY},Ya(document).on("mousemove.igv_drag",r),Ya(document).on("mouseup.igv_drag",i),Ya(document).on("mouseleave.igv_drag",i),Ya(document).on("mouseexit.igv_drag",i)}function rd(e){if(Ju){e.stopPropagation(),e.preventDefault();var t=Ju.dy+e.screenY;this.style.left=Ju.dx+e.screenX+"px",this.style.top=t+"px"}}function id(e){if(Ju){e.stopPropagation(),e.preventDefault();var t=Ju.dy+e.screenY;this.style.left=Ju.dx+e.screenX+"px",this.style.top=t+"px",Ya(document).off(".igv_drag"),Ju=void 0}}var sd=zt.trim,od=r.parseInt,ad=/^[+-]?0[Xx]/,ld=8!==od(Mt+"08")||22!==od(Mt+"0x16")?function(e,t){var n=sd(String(e));return od(n,t>>>0||(ad.test(n)?16:10))}:od;Te({target:"Number",stat:!0,forced:Number.parseInt!=ld},{parseInt:ld});var cd=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),hd=t((function(e){var t=A.f,n=$("meta"),r=0,i=Object.isExtensible||function(){return!0},s=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},o=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!g(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!b(e,n)){if(!i(e))return"F";if(!t)return"E";s(e)}return e[n].objectID},getWeakData:function(e,t){if(!b(e,n)){if(!i(e))return!0;if(!t)return!1;s(e)}return e[n].weakData},onFreeze:function(e){return cd&&o.REQUIRED&&i(e)&&!b(e,n)&&s(e),e}};q[n]=!0})),ud=function(e,t,n){var s=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),a=s?"set":"add",l=r[e],c=l&&l.prototype,h=l,u={},d=function(e){var t=c[e];ee(c,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!g(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!g(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!g(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ae(e,"function"!=typeof l||!(o||c.forEach&&!i((function(){(new l).entries().next()})))))h=n.getConstructor(t,e,s,a),hd.REQUIRED=!0;else if(Ae(e,!0)){var p=new h,f=p[a](o?{}:-0,1)!=p,m=i((function(){p.has(1)})),v=yl((function(e){new l(e)})),y=!o&&i((function(){for(var e=new l,t=5;t--;)e[a](t,t);return!e.has(-0)}));v||((h=t((function(t,n){rl(t,h,e);var r=kt(new l,t,h);return null!=n&&hl(n,r[a],r,s),r}))).prototype=c,c.constructor=h),(m||y)&&(d("delete"),d("has"),s&&d("get")),(y||f)&&d(a),o&&c.clear&&delete c.clear}return u[e]=h,Te({global:!0,forced:h!=l},u),fr(h,e),o||n.setStrong(h,e,s),h},dd=A.f,pd=hd.fastKey,fd=J.set,md=J.getterFor,gd={getConstructor:function(e,t,n,r){var i=e((function(e,o){rl(e,i,t),fd(e,{type:t,index:Ot(null),first:void 0,last:void 0,size:0}),s||(e.size=0),null!=o&&hl(o,e[r],e,n)})),o=md(t),a=function(e,t,n){var r,i,a=o(e),c=l(e,t);return c?c.value=n:(a.last=c={index:i=pd(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=c),r&&(r.next=c),s?a.size++:e.size++,"F"!==i&&(a.index[i]=c)),e},l=function(e,t){var n,r=o(e),i=pd(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return nl(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,s?e.size=0:this.size=0},delete:function(e){var t=o(this),n=l(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),s?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),r=Oe(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),nl(i.prototype,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),s&&dd(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=md(t),s=md(r);Ri(e,t,(function(e,t){fd(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=s(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ns(t)}},vd=(ud("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),gd),{trackMenuItemList:function(e){var t,n=new Set(["alignment","annotation","variant","eqtl","snp"]),r=e.track.config&&void 0!==e.track.config.visibilityWindow,i=[];return"sequence"!==e.track.config.type&&(i.push(function(e){var t;return(t=Ya("<div>")).text("Set track name"),{object:t,click:function(){var t;t=function(){var t;t=e.browser.inputDialog.$input.val().trim(),e.browser.setTrackLabelName(e,t=""===t||void 0===t?"untitled":t)},e.browser.inputDialog.configure({label:"Track Name",input:yd(e.track)||"unnamed",click:t}),e.browser.inputDialog.present(Ya(e.trackDiv))}}}(e)),i.push(function(e){var t;return(t=Ya("<div>")).text("Set track height"),{object:t,click:function(){var t;t=function(){var t;void 0!==(t=parseFloat(e.browser.inputDialog.$input.val(),10))&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0,!0),e.track.autoHeight=!1)},e.browser.inputDialog.configure({label:"Track Height",input:e.trackDiv.clientHeight,click:t}),e.browser.inputDialog.present(Ya(e.trackDiv))}}}(e))),("alignment"===(t=e.track).type||"annotation"===t.type||"variant"===t.type||"wig"===t.type)&&i.push(function(e){var t;return(t=Ya("<div>")).text("Set track color"),{object:t,click:function(){e.presentColorPicker()}}}(e)),e.track.menuItemList&&(i=i.concat(e.track.menuItemList())),(r||n.has(e.track.config.type))&&(i.push("<hr/>"),i.push(function(e){var t=Ya("<div>");return t.text("Set visibility window"),{object:t,click:function(){e.browser.inputDialog.configure({label:"Visibility Window",input:e.track.visibilityWindow,click:function(){var t=e.browser.inputDialog.$input.val().trim();""!==t&&void 0!==t||(t=-1),t=Number.parseInt(t),e.track.visibilityWindow=t,e.track.config.visibilityWindow=t,e.updateViews()}}),e.browser.inputDialog.present(Ya(e.trackDiv))}}}(e))),!1!==e.track.removable&&(i.push("<hr/>"),i.push(function(e){var t;return(t=Ya("<div>")).text("Remove track"),{object:t,click:function(){e.browser.removeTrack(e.track)}}}(e))),i},dataRangeMenuItem:function(e){var t;return(t=Ya("<div>")).text("Set data range"),{object:t,click:function(){e.browser.dataRangeDialog.configure({trackView:e}),e.browser.dataRangeDialog.present(Ya(e.trackDiv))}}},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map((function(e,n){var r;if(e.name?(r=Ya("<div>")).text(e.name):e.object?r=e.object:"string"==typeof e.label?(r=Ya("<div>")).html(e.label):"string"==typeof e&&(r=e.startsWith("<")?Ya(e):Ya("<div>"+e+"</div>")),0===n&&r.addClass("igv-track-menu-border-top"),e.click){function i(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()}r.on("click",i),r.on("touchend",(function(e){i(e)})),r.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}return{object:r,init:e.init||void 0}}))),n}});function yd(e){return e.trackView.viewports[0].$trackLabel.text()}var bd=l.f,_d=function(e){return function(t){for(var n,r=m(t),i=Ct(r),o=i.length,a=0,l=[];o>a;)n=i[a++],s&&!bd.call(r,n)||l.push(e?[n,r[n]]:r[n]);return l}},wd={entries:_d(!0),values:_d(!1)},xd=wd.values;function Sd(e,t){var n=Ya("<div>",{class:"igv-trackgear-popover-check-container"}),r=Ya("<div>");n.append(r);var i=Cd("check",!0===t?"#444":"transparent");r.append(i);var s=Ya("<div>");return s.text(e),n.append(s),n}function kd(e,t){return Ya(Cd(e,t))}function Cd(e,t){t=t||"currentColor";var n=Ed[e];n||(console.error("No icon named: ".concat(e)),n=Ed.question);var r='<svg viewBox="0 0 '+n[0]+" "+n[1]+'">';return(r+='<path fill="'+t+'" d="'+n[4]+'"></path>')+"</svg>"}Te({target:"Object",stat:!0},{values:function(e){return xd(e)}});var Ed={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]},Rd={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"white",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},Ad={A:[0,200,0],C:[0,0,200],T:[255,0,0],G:[209,113,5],a:[0,200,0],c:[0,0,200],t:[255,0,0],g:[209,113,5],N:[80,80,80]},Id={A:"rgb(  0, 200,   0)",C:"rgb(  0,   0, 200)",T:"rgb(255,   0,   0)",G:"rgb(209, 113,   5)",a:"rgb(  0, 200,   0)",c:"rgb(  0,   0, 200)",t:"rgb(255,   0,   0)",g:"rgb(209, 113,   5)",N:"rgb(80, 80, 80)"},Td={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};function Dd(e){this.colors=Td[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Od}function Od(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}Dd.prototype.getColor=function(e){return this.colorTable.hasOwnProperty(e)||(this.colorTable[e]=this.nextIdx<this.colors.length?this.colors[this.nextIdx]:this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]},Od.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),i=6*e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=255,c=255,h=255;switch(r){case 0:l=n,c=a,h=s;break;case 1:l=o,c=n,h=s;break;case 2:l=s,c=n,h=a;break;case 3:l=s,c=o,h=n;break;case 4:l=a,c=s,h=n;break;case 5:l=n,c=s,h=o}return[Math.floor(256*l),Math.floor(256*c),Math.floor(256*h)]},Od.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},Od.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};var Md=new Od,Pd=pe.includes,Ld=nt("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:!Ld},{includes:function(e){return Pd(this,e,arguments.length>1?arguments[1]:void 0)}}),si("includes"),Te({target:"String",proto:!0,forced:!pn("includes")},{includes:function(e){return!!~String(f(this)).indexOf(un(e),arguments.length>1?arguments[1]:void 0)}});var Fd=function(e,t,n){return Math.min(Math.max(e,t),n)},Nd=function(e){return Math.log(e)/Math.LN2};function zd(){this.content=[]}zd.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var i=2*(e+1),s=i-1,o=null;if(s<t){var a=this.content[s],l=a;a<r&&(o=s)}if(i<t&&this.content[i]<(null==o?r:l)&&(o=i),null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},s&&("g"!=/./g.flags||Jt.UNSUPPORTED_Y)&&A.f(RegExp.prototype,"flags",{configurable:!0,get:Kt});var Bd,jd="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Vd=A.f,$d=r.Int8Array,Ud=$d&&$d.prototype,Hd=r.Uint8ClampedArray,qd=Hd&&Hd.prototype,Gd=$d&&gi($d),Wd=Ud&&gi(Ud),Yd=Object.prototype,Zd=Yd.isPrototypeOf,Xd=je("toStringTag"),Kd=$("TYPED_ARRAY_TAG"),Qd=jd&&!!St&&"Opera"!==es(r.opera),Jd=!1,ep={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},tp=function(e){return g(e)&&b(ep,es(e))};for(Bd in ep)r[Bd]||(Qd=!1);if((!Qd||"function"!=typeof Gd||Gd===Function.prototype)&&(Gd=function(){throw TypeError("Incorrect invocation")},Qd))for(Bd in ep)r[Bd]&&St(r[Bd],Gd);if((!Qd||!Wd||Wd===Yd)&&(Wd=Gd.prototype,Qd))for(Bd in ep)r[Bd]&&St(r[Bd].prototype,Wd);if(Qd&&gi(qd)!==Wd&&St(qd,Wd),s&&!b(Wd,Xd))for(Bd in Jd=!0,Vd(Wd,Xd,{get:function(){return g(this)?this[Kd]:void 0}}),ep)r[Bd]&&I(r[Bd],Kd,Bd);var np={NATIVE_ARRAY_BUFFER_VIEWS:Qd,TYPED_ARRAY_TAG:Jd&&Kd,aTypedArray:function(e){if(tp(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(St){if(Zd.call(Gd,e))return e}else for(var t in ep)if(b(ep,Bd)){var n=r[t];if(n&&(e===n||Zd.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(s){if(n)for(var i in ep){var o=r[i];o&&b(o.prototype,e)&&delete o.prototype[e]}Wd[e]&&!n||ee(Wd,e,n?t:Qd&&Ud[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,o;if(s){if(St){if(n)for(i in ep)(o=r[i])&&b(o,e)&&delete o[e];if(Gd[e]&&!n)return;try{return ee(Gd,e,n?t:Qd&&$d[e]||t)}catch(Ex){}}for(i in ep)!(o=r[i])||o[e]&&!n||ee(o,e,t)}},isView:function(e){var t=es(e);return"DataView"===t||b(ep,t)},isTypedArray:tp,TypedArray:Gd,TypedArrayPrototype:Wd},rp=r.ArrayBuffer,ip=r.Int8Array,sp=!np.NATIVE_ARRAY_BUFFER_VIEWS||!i((function(){ip(1)}))||!i((function(){new ip(-1)}))||!yl((function(e){new ip,new ip(null),new ip(1.5),new ip(e)}),!0)||i((function(){return 1!==new ip(new rp(2),1,void 0).length})),op=function(e){if(void 0===e)return 0;var t=oe(e),n=le(t);if(t!==n)throw RangeError("Wrong length or index");return n},ap=Math.abs,lp=Math.pow,cp=Math.floor,hp=Math.log,up=Math.LN2,dp=ye.f,pp=A.f,fp=J.get,mp=J.set,gp=r.ArrayBuffer,vp=gp,yp=r.DataView,bp=yp&&yp.prototype,_p=Object.prototype,wp=r.RangeError,xp=function(e,t,n){var r,i,s,o=new Array(n),a=8*n-t-1,l=(1<<a)-1,c=l>>1,h=23===t?lp(2,-24)-lp(2,-77):0,u=e<0||0===e&&1/e<0?1:0,d=0;for((e=ap(e))!=e||1/0===e?(i=e!=e?1:0,r=l):(r=cp(hp(e)/up),e*(s=lp(2,-r))<1&&(r--,s*=2),(e+=r+c>=1?h/s:h*lp(2,1-c))*s>=2&&(r++,s/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*s-1)*lp(2,t),r+=c):(i=e*lp(2,c-1)*lp(2,t),r=0));t>=8;o[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,a+=t;a>0;o[d++]=255&r,r/=256,a-=8);return o[--d]|=128*u,o},Sp=function(e,t){var n,r=e.length,i=8*r-t-1,s=(1<<i)-1,o=s>>1,a=i-7,l=r-1,c=e[l--],h=127&c;for(c>>=7;a>0;h=256*h+e[l],l--,a-=8);for(n=h&(1<<-a)-1,h>>=-a,a+=t;a>0;n=256*n+e[l],l--,a-=8);if(0===h)h=1-o;else{if(h===s)return n?NaN:c?-1/0:1/0;n+=lp(2,t),h-=o}return(c?-1:1)*n*lp(2,h-t)},kp=function(e){return[255&e]},Cp=function(e){return[255&e,e>>8&255]},Ep=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Rp=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Ap=function(e){return xp(e,23,4)},Ip=function(e){return xp(e,52,8)},Tp=function(e,t){pp(e.prototype,t,{get:function(){return fp(this)[t]}})},Dp=function(e,t,n,r){var i=op(n),s=fp(e);if(i+t>s.byteLength)throw wp("Wrong index");var o=fp(s.buffer).bytes,a=i+s.byteOffset,l=o.slice(a,a+t);return r?l:l.reverse()},Op=function(e,t,n,r,i,s){var o=op(n),a=fp(e);if(o+t>a.byteLength)throw wp("Wrong index");for(var l=fp(a.buffer).bytes,c=o+a.byteOffset,h=r(+i),u=0;u<t;u++)l[c+u]=h[s?u:t-u-1]};if(jd){if(!i((function(){gp(1)}))||!i((function(){new gp(-1)}))||i((function(){return new gp,new gp(1.5),new gp(NaN),"ArrayBuffer"!=gp.name}))){for(var Mp,Pp=(vp=function(e){return rl(this,vp),new gp(op(e))}).prototype=gp.prototype,Lp=dp(gp),Fp=0;Lp.length>Fp;)(Mp=Lp[Fp++])in vp||I(vp,Mp,gp[Mp]);Pp.constructor=vp}St&&gi(bp)!==_p&&St(bp,_p);var Np=new yp(new vp(2)),zp=bp.setInt8;Np.setInt8(0,2147483648),Np.setInt8(1,2147483649),!Np.getInt8(0)&&Np.getInt8(1)||nl(bp,{setInt8:function(e,t){zp.call(this,e,t<<24>>24)},setUint8:function(e,t){zp.call(this,e,t<<24>>24)}},{unsafe:!0})}else vp=function(e){rl(this,vp,"ArrayBuffer");var t=op(e);mp(this,{bytes:Yu.call(new Array(t),0),byteLength:t}),s||(this.byteLength=t)},yp=function(e,t,n){rl(this,yp,"DataView"),rl(e,vp,"DataView");var r=fp(e).byteLength,i=oe(t);if(i<0||i>r)throw wp("Wrong offset");if(i+(n=void 0===n?r-i:le(n))>r)throw wp("Wrong length");mp(this,{buffer:e,byteLength:n,byteOffset:i}),s||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},s&&(Tp(vp,"byteLength"),Tp(yp,"buffer"),Tp(yp,"byteLength"),Tp(yp,"byteOffset")),nl(yp.prototype,{getInt8:function(e){return Dp(this,1,e)[0]<<24>>24},getUint8:function(e){return Dp(this,1,e)[0]},getInt16:function(e){var t=Dp(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Dp(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Rp(Dp(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Rp(Dp(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Sp(Dp(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Sp(Dp(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Op(this,1,e,kp,t)},setUint8:function(e,t){Op(this,1,e,kp,t)},setInt16:function(e,t){Op(this,2,e,Cp,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Op(this,2,e,Cp,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Op(this,4,e,Ep,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Op(this,4,e,Ep,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Op(this,4,e,Ap,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Op(this,8,e,Ip,t,arguments.length>2?arguments[2]:void 0)}});fr(vp,"ArrayBuffer"),fr(yp,"DataView");var Bp={ArrayBuffer:vp,DataView:yp},jp=function(e,t){var n=function(e){var t=oe(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},Vp=np.aTypedArrayConstructor,$p=function(e){var t,n,r,i,s,o,a=Me(e),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,u=ll(a);if(null!=u&&!ol(u))for(o=(s=u.call(a)).next,a=[];!(i=o.call(s)).done;)a.push(i.value);for(h&&l>2&&(c=Oe(c,arguments[2],2)),n=le(a.length),r=new(Vp(this))(n),t=0;n>t;t++)r[t]=h?c(a[t],t):a[t];return r},Up=t((function(e){var t=ye.f,n=qe.forEach,i=J.get,o=J.set,a=A.f,l=C.f,h=Math.round,u=r.RangeError,d=Bp.ArrayBuffer,p=Bp.DataView,f=np.NATIVE_ARRAY_BUFFER_VIEWS,m=np.TYPED_ARRAY_TAG,y=np.TypedArray,_=np.TypedArrayPrototype,w=np.aTypedArrayConstructor,x=np.isTypedArray,S=function(e,t){for(var n=0,r=t.length,i=new(w(e))(r);r>n;)i[n]=t[n++];return i},k=function(e,t){a(e,t,{get:function(){return i(this)[t]}})},E=function(e){var t;return e instanceof d||"ArrayBuffer"==(t=es(e))||"SharedArrayBuffer"==t},R=function(e,t){return x(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},T=function(e,t){return R(e,t=v(t,!0))?c(2,e[t]):l(e,t)},D=function(e,t,n){return!(R(e,t=v(t,!0))&&g(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?a(e,t,n):(e[t]=n.value,e)};s?(f||(C.f=T,A.f=D,k(_,"buffer"),k(_,"byteOffset"),k(_,"byteLength"),k(_,"length")),Te({target:"Object",stat:!0,forced:!f},{getOwnPropertyDescriptor:T,defineProperty:D}),e.exports=function(e,s,l){var c=e.match(/\d+$/)[0]/8,v=e+(l?"Clamped":"")+"Array",b="get"+e,w="set"+e,k=r[v],C=k,R=C&&C.prototype,A={},T=function(e,t){a(e,t,{get:function(){return function(e,t){var n=i(e);return n.view[b](t*c+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var r=i(e);l&&(n=(n=h(n))<0?0:n>255?255:255&n),r.view[w](t*c+r.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};f?sp&&(C=s((function(e,t,n,r){return rl(e,C,v),kt(g(t)?E(t)?void 0!==r?new k(t,jp(n,c),r):void 0!==n?new k(t,jp(n,c)):new k(t):x(t)?S(C,t):$p.call(C,t):new k(op(t)),e,C)})),St&&St(C,y),n(t(k),(function(e){e in C||I(C,e,k[e])})),C.prototype=R):(C=s((function(e,t,n,r){rl(e,C,v);var i,s,a,l=0,h=0;if(g(t)){if(!E(t))return x(t)?S(C,t):$p.call(C,t);i=t,h=jp(n,c);var f=t.byteLength;if(void 0===r){if(f%c)throw u("Wrong length");if((s=f-h)<0)throw u("Wrong length")}else if((s=le(r)*c)+h>f)throw u("Wrong length");a=s/c}else a=op(t),i=new d(s=a*c);for(o(e,{buffer:i,byteOffset:h,byteLength:s,length:a,view:new p(i)});l<a;)T(e,l++)})),St&&St(C,y),R=C.prototype=Ot(_)),R.constructor!==C&&I(R,"constructor",C),m&&I(R,m,v),A[v]=C,Te({global:!0,forced:C!=k,sham:!f},A),"BYTES_PER_ELEMENT"in C||I(C,"BYTES_PER_ELEMENT",c),"BYTES_PER_ELEMENT"in R||I(R,"BYTES_PER_ELEMENT",c),ns(v)}):e.exports=function(){}}));Up("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Up("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Up("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Hp=Math.min,qp=[].copyWithin||function(e,t){var n=Me(this),r=le(n.length),i=ue(e,r),s=ue(t,r),o=arguments.length>2?arguments[2]:void 0,a=Hp((void 0===o?r:ue(o,r))-s,r-i),l=1;for(s<i&&i<s+a&&(l=-1,s+=a-1,i+=a-1);a-- >0;)s in n?n[i]=n[s]:delete n[i],i+=l,s+=l;return n},Gp=np.aTypedArray;(0,np.exportTypedArrayMethod)("copyWithin",(function(e,t){return qp.call(Gp(this),e,t,arguments.length>2?arguments[2]:void 0)}));var Wp=qe.every,Yp=np.aTypedArray;(0,np.exportTypedArrayMethod)("every",(function(e){return Wp(Yp(this),e,arguments.length>1?arguments[1]:void 0)}));var Zp=np.aTypedArray;(0,np.exportTypedArrayMethod)("fill",(function(e){return Yu.apply(Zp(this),arguments)}));var Xp=qe.filter,Kp=np.aTypedArray,Qp=np.aTypedArrayConstructor;(0,np.exportTypedArrayMethod)("filter",(function(e){for(var t=Xp(Kp(this),e,arguments.length>1?arguments[1]:void 0),n=In(this,this.constructor),r=0,i=t.length,s=new(Qp(n))(i);i>r;)s[r]=t[r++];return s}));var Jp=qe.find,ef=np.aTypedArray;(0,np.exportTypedArrayMethod)("find",(function(e){return Jp(ef(this),e,arguments.length>1?arguments[1]:void 0)}));var tf=qe.findIndex,nf=np.aTypedArray;(0,np.exportTypedArrayMethod)("findIndex",(function(e){return tf(nf(this),e,arguments.length>1?arguments[1]:void 0)}));var rf=qe.forEach,sf=np.aTypedArray;(0,np.exportTypedArrayMethod)("forEach",(function(e){rf(sf(this),e,arguments.length>1?arguments[1]:void 0)}));var of=pe.includes,af=np.aTypedArray;(0,np.exportTypedArrayMethod)("includes",(function(e){return of(af(this),e,arguments.length>1?arguments[1]:void 0)}));var lf=pe.indexOf,cf=np.aTypedArray;(0,np.exportTypedArrayMethod)("indexOf",(function(e){return lf(cf(this),e,arguments.length>1?arguments[1]:void 0)}));var hf=je("iterator"),uf=r.Uint8Array,df=Ti.values,pf=Ti.keys,ff=Ti.entries,mf=np.aTypedArray,gf=np.exportTypedArrayMethod,vf=uf&&uf.prototype[hf],yf=!!vf&&("values"==vf.name||null==vf.name),bf=function(){return df.call(mf(this))};gf("entries",(function(){return ff.call(mf(this))})),gf("keys",(function(){return pf.call(mf(this))})),gf("values",bf,!yf),gf(hf,bf,!yf);var _f=np.aTypedArray,wf=[].join;(0,np.exportTypedArrayMethod)("join",(function(e){return wf.apply(_f(this),arguments)}));var xf=np.aTypedArray;(0,np.exportTypedArrayMethod)("lastIndexOf",(function(e){return wt.apply(xf(this),arguments)}));var Sf=qe.map,kf=np.aTypedArray,Cf=np.aTypedArrayConstructor;(0,np.exportTypedArrayMethod)("map",(function(e){return Sf(kf(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(Cf(In(e,e.constructor)))(t)}))}));var Ef=Bu.left,Rf=np.aTypedArray;(0,np.exportTypedArrayMethod)("reduce",(function(e){return Ef(Rf(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Af=Bu.right,If=np.aTypedArray;(0,np.exportTypedArrayMethod)("reduceRight",(function(e){return Af(If(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Tf=np.aTypedArray,Df=Math.floor;(0,np.exportTypedArrayMethod)("reverse",(function(){for(var e,t=Tf(this).length,n=Df(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var Of=np.aTypedArray;(0,np.exportTypedArrayMethod)("set",(function(e){Of(this);var t=jp(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Me(e),i=le(r.length),s=0;if(i+t>n)throw RangeError("Wrong length");for(;s<i;)this[t+s]=r[s++]}),i((function(){new Int8Array(1).set({})})));var Mf=np.aTypedArray,Pf=np.aTypedArrayConstructor,Lf=[].slice;(0,np.exportTypedArrayMethod)("slice",(function(e,t){for(var n=Lf.call(Mf(this),e,t),r=In(this,this.constructor),i=0,s=n.length,o=new(Pf(r))(s);s>i;)o[i]=n[i++];return o}),i((function(){new Int8Array(1).slice()})));var Ff=qe.some,Nf=np.aTypedArray;(0,np.exportTypedArrayMethod)("some",(function(e){return Ff(Nf(this),e,arguments.length>1?arguments[1]:void 0)}));var zf=np.aTypedArray,Bf=[].sort;(0,np.exportTypedArrayMethod)("sort",(function(e){return Bf.call(zf(this),e)}));var jf=np.aTypedArray;(0,np.exportTypedArrayMethod)("subarray",(function(e,t){var n=jf(this),r=n.length,i=ue(e,r);return new(In(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,le((void 0===t?r:ue(t,r))-i))}));var Vf=r.Int8Array,$f=np.aTypedArray,Uf=np.exportTypedArrayMethod,Hf=[].toLocaleString,qf=[].slice,Gf=!!Vf&&i((function(){Hf.call(new Vf(1))}));Uf("toLocaleString",(function(){return Hf.apply(Gf?qf.call($f(this)):$f(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new Vf([1,2]).toLocaleString()}))||!i((function(){Vf.prototype.toLocaleString.call([1,2])})));var Wf=np.exportTypedArrayMethod,Yf=r.Uint8Array,Zf=Yf&&Yf.prototype||{},Xf=[].toString,Kf=[].join;i((function(){Xf.call({})}))&&(Xf=function(){return Kf.call(this)}),Wf("toString",Xf,Zf.toString!=Xf);var Qf={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment}};Qf.Zip.CompressionMethod={STORE:0,DEFLATE:8},Qf.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},Qf.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},Qf.Zip.FileHeaderSignature=[80,75,1,2],Qf.Zip.LocalFileHeaderSignature=[80,75,3,4],Qf.Zip.CentralDirectorySignature=[80,75,5,6],Qf.Zip.prototype.addFile=function(e,t){t=t||{};var n,r=e.length,i=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=Qf.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case Qf.Zip.CompressionMethod.STORE:break;case Qf.Zip.CompressionMethod.DEFLATE:i=Qf.CRC32.calc(e),e=this.deflateWithOption(e,t),n=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:n,encrypted:!1,size:r,crc32:i})},Qf.Zip.prototype.setPassword=function(e){this.password=e},Qf.Zip.prototype.compress=function(){var e,t,n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C=this.files,E=0,R=0;for(w=0,x=C.length;w<x;++w){if(d=(e=C[w]).option.filename?e.option.filename.length:0,p=e.option.extraField?e.option.extraField.length:0,f=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=Qf.CRC32.calc(e.buffer),e.option.compressionMethod){case Qf.Zip.CompressionMethod.STORE:break;case Qf.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(_=this.createEncryptionKey(e.option.password||this.password),y=e.buffer,(b=new Uint8Array(y.length+12)).set(y,12),y=b,S=0;S<12;++S)y[S]=this.encode(_,11===w?255&e.crc32:256*Math.random()|0);for(k=y.length;S<k;++S)y[S]=this.encode(_,y[S]);e.buffer=y}E+=30+d+e.buffer.length,R+=46+d+f}for(t=new Uint8Array(E+R+(22+(this.comment?this.comment.length:0))),n=0,i=(r=E)+R,w=0,x=C.length;w<x;++w)d=(e=C[w]).option.filename?e.option.filename.length:0,p=0,f=e.option.comment?e.option.comment.length:0,s=n,t[n++]=Qf.Zip.LocalFileHeaderSignature[0],t[n++]=Qf.Zip.LocalFileHeaderSignature[1],t[n++]=Qf.Zip.LocalFileHeaderSignature[2],t[n++]=Qf.Zip.LocalFileHeaderSignature[3],t[r++]=Qf.Zip.FileHeaderSignature[0],t[r++]=Qf.Zip.FileHeaderSignature[1],t[r++]=Qf.Zip.FileHeaderSignature[2],t[r++]=Qf.Zip.FileHeaderSignature[3],t[r++]=20,t[r++]=e.option.os||Qf.Zip.OperatingSystem.MSDOS,t[n++]=t[r++]=20,t[n++]=t[r++]=0,o=0,(e.option.password||this.password)&&(o|=Qf.Zip.Flags.ENCRYPT),t[n++]=t[r++]=255&o,t[n++]=t[r++]=o>>8&255,t[n++]=t[r++]=255&(a=e.option.compressionMethod),t[n++]=t[r++]=a>>8&255,l=e.option.date||new Date,t[n++]=t[r++]=(7&l.getMinutes())<<5|l.getSeconds()/2|0,t[n++]=t[r++]=l.getHours()<<3|l.getMinutes()>>3,t[n++]=t[r++]=(l.getMonth()+1&7)<<5|l.getDate(),t[n++]=t[r++]=(l.getFullYear()-1980&127)<<1|l.getMonth()+1>>3,t[n++]=t[r++]=255&(c=e.crc32),t[n++]=t[r++]=c>>8&255,t[n++]=t[r++]=c>>16&255,t[n++]=t[r++]=c>>24&255,t[n++]=t[r++]=255&(h=e.buffer.length),t[n++]=t[r++]=h>>8&255,t[n++]=t[r++]=h>>16&255,t[n++]=t[r++]=h>>24&255,t[n++]=t[r++]=255&(u=e.size),t[n++]=t[r++]=u>>8&255,t[n++]=t[r++]=u>>16&255,t[n++]=t[r++]=u>>24&255,t[n++]=t[r++]=255&d,t[n++]=t[r++]=d>>8&255,t[n++]=t[r++]=255&p,t[n++]=t[r++]=p>>8&255,t[r++]=255&f,t[r++]=f>>8&255,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,(m=e.option.filename)&&(t.set(m,n),t.set(m,r),n+=d,r+=d),(g=e.option.extraField)&&(t.set(g,n),t.set(g,r),n+=p,r+=p),(v=e.option.comment)&&(t.set(v,r),r+=f),t.set(e.buffer,n),n+=e.buffer.length;return t[i++]=Qf.Zip.CentralDirectorySignature[0],t[i++]=Qf.Zip.CentralDirectorySignature[1],t[i++]=Qf.Zip.CentralDirectorySignature[2],t[i++]=Qf.Zip.CentralDirectorySignature[3],t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=255&x,t[i++]=x>>8&255,t[i++]=255&x,t[i++]=x>>8&255,t[i++]=255&R,t[i++]=R>>8&255,t[i++]=R>>16&255,t[i++]=R>>24&255,t[i++]=255&E,t[i++]=E>>8&255,t[i++]=E>>16&255,t[i++]=E>>24&255,t[i++]=255&(f=this.comment?this.comment.length:0),t[i++]=f>>8&255,this.comment&&(t.set(this.comment,i),i+=f),t},Qf.Zip.prototype.deflateWithOption=function(e,t){return new Qf.RawDeflate(e,t.deflateOption).compress()},Qf.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},Qf.Zip.prototype.encode=function(e,t){var n=this.getByte(e);return this.updateKeys(e,t),n^t},Qf.Zip.prototype.updateKeys=function(e,t){e[0]=Qf.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=Qf.CRC32.single(e[2],e[1]>>>24)},Qf.Zip.prototype.createEncryptionKey=function(e){var t,n,r=[305419896,591751049,878082192];for(r=new Uint32Array(r),t=0,n=e.length;t<n;++t)this.updateKeys(r,255&e[t]);return r},Qf.Huffman.buildHuffmanTable=function(e){var t,n,r,i,s,o,a,l,c,h,u,d=e.length,p=0,f=Number.POSITIVE_INFINITY;for(l=0,c=d;l<c;++l)e[l]>p&&(p=e[l]),e[l]<f&&(f=e[l]);for(t=1<<p,n=new Uint32Array(t),r=1,i=0,s=2;r<=p;){for(l=0;l<d;++l)if(e[l]===r){for(o=0,a=i,h=0;h<r;++h)o=o<<1|1&a,a>>=1;for(u=r<<16|l,h=o;h<t;h+=s)n[h]=u;++i}++r,i<<=1,s<<=1}return[n,p,f]};var Jf,em=Qf.Huffman.buildHuffmanTable;function tm(e){return"string"==typeof e||e instanceof String}function nm(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce((function(e,t,n){return n%3==0?e+","+t:e+t})).split("").reverse().join("")+(t[1]?"."+t[1]:"")}Qf.RawInflate=function(e,t){switch(this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.bfinal=!1,this.bufferType=Qf.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case Qf.RawInflate.BufferType.BLOCK:this.op=Qf.RawInflate.MaxBackwardLength,this.output=new Uint8Array(Qf.RawInflate.MaxBackwardLength+this.bufferSize+Qf.RawInflate.MaxCopyLength);break;case Qf.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},Qf.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},Qf.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case Qf.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case Qf.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},Qf.RawInflate.MaxBackwardLength=32768,Qf.RawInflate.MaxCopyLength=258,Qf.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qf.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Qf.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Qf.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Qf.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qf.RawInflate.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return em(n)}(),Qf.RawInflate.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return em(n)}(),Qf.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},Qf.RawInflate.prototype.readBits=function(e){var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,s=this.ip;if(s+(e-r+7>>3)>=i.length)throw new Error("input buffer is broken");for(;r<e;)n|=i[s++]<<r,r+=8;return t=n&(1<<e)-1,r-=e,this.bitsbuf=n>>>=e,this.bitsbuflen=r,this.ip=s,t},Qf.RawInflate.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,s=this.input,o=this.ip,a=s.length,l=e[0],c=e[1];i<c&&!(o>=a);)r|=s[o++]<<i,i+=8;if((n=(t=l[r&(1<<c)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=o,65535&t},Qf.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,n=this.input,r=this.ip,i=this.output,s=this.op,o=n.length,a=i.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=o)throw new Error("invalid uncompressed block header: LEN");if(e=n[r++]|n[r++]<<8,r+1>=o)throw new Error("invalid uncompressed block header: NLEN");if(e===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+e>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case Qf.RawInflate.BufferType.BLOCK:for(;s+e>i.length;)e-=t=a-s,i.set(n.subarray(r,r+t),s),r+=t,this.op=s+=t,i=this.expandBufferBlock(),s=this.op;break;case Qf.RawInflate.BufferType.ADAPTIVE:for(;s+e>i.length;)i=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}i.set(n.subarray(r,r+e),s),s+=e,this.ip=r+=e,this.op=s,this.output=i},Qf.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case Qf.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(Qf.RawInflate.FixedLiteralLengthTable,Qf.RawInflate.FixedDistanceTable);break;case Qf.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(Qf.RawInflate.FixedLiteralLengthTable,Qf.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},Qf.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i,s,o,a,l,c=this.readBits(5)+257,h=this.readBits(5)+1,u=this.readBits(4)+4,d=new Uint8Array(Qf.RawInflate.Order.length);for(a=0;a<u;++a)d[Qf.RawInflate.Order[a]]=this.readBits(3);for(e=em(d),r=new Uint8Array(c+h),a=0,l=c+h;a<l;)switch(i=this.readCodeByTable(e)){case 16:for(o=3+this.readBits(2);o--;)r[a++]=s;break;case 17:for(o=3+this.readBits(3);o--;)r[a++]=0;s=0;break;case 18:for(o=11+this.readBits(7);o--;)r[a++]=0;s=0;break;default:r[a++]=i,s=i}switch(t=em(r.subarray(0,c)),n=em(r.subarray(c)),this.bufferType){case Qf.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,n);break;case Qf.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,n);break;default:throw new Error("invalid inflate mode")}},Qf.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,s,o,a,l=n.length-Qf.RawInflate.MaxCopyLength,c=Qf.RawInflate.LengthCodeTable,h=Qf.RawInflate.LengthExtraTable,u=Qf.RawInflate.DistCodeTable,d=Qf.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=i;else for(a=c[s=i-257],h[s]>0&&(a+=this.readBits(h[s])),o=u[i=this.readCodeByTable(t)],d[i]>0&&(o+=this.readBits(d[i])),r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op);a--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},Qf.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,s,o,a,l=n.length,c=Qf.RawInflate.LengthCodeTable,h=Qf.RawInflate.LengthExtraTable,u=Qf.RawInflate.DistCodeTable,d=Qf.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=l&&(l=(n=this.expandBufferAdaptive()).length),n[r++]=i;else for(a=c[s=i-257],h[s]>0&&(a+=this.readBits(h[s])),o=u[i=this.readCodeByTable(t)],d[i]>0&&(o+=this.readBits(d[i])),r+a>l&&(l=(n=this.expandBufferAdaptive()).length);a--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},Qf.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-Qf.RawInflate.MaxBackwardLength),n=this.op-Qf.RawInflate.MaxBackwardLength,r=this.output;return t.set(r.subarray(Qf.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,r.set(r.subarray(n,n+Qf.RawInflate.MaxBackwardLength)),this.op=Qf.RawInflate.MaxBackwardLength,r},Qf.RawInflate.prototype.expandBufferAdaptive=function(e){var t,n,r,i=this.input.length/this.ip+1|0,s=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(this.input.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*i,(t=new Uint8Array(n)).set(s),this.output=t,this.output},Qf.RawInflate.prototype.concatBufferBlock=function(){var e,t,n,r,i,s=0,o=this.output,a=this.blocks,l=new Uint8Array(this.totalpos+(this.op-Qf.RawInflate.MaxBackwardLength));if(0===a.length)return this.output.subarray(Qf.RawInflate.MaxBackwardLength,this.op);for(t=0,n=a.length;t<n;++t)for(r=0,i=(e=a[t]).length;r<i;++r)l[s++]=e[r];for(t=Qf.RawInflate.MaxBackwardLength,n=this.op;t<n;++t)l[s++]=o[t];return this.blocks=[],this.buffer=l,this.buffer},Qf.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer},em=Qf.Huffman.buildHuffmanTable,Qf.RawInflateStream=function(e,t,n){this.blocks=[],this.bufferSize=n||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.resize=!1,this.sp=0,this.status=Qf.RawInflateStream.Status.INITIALIZED},Qf.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},Qf.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},Qf.RawInflateStream.prototype.decompress=function(e,t){var n=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!n;)switch(this.status){case Qf.RawInflateStream.Status.INITIALIZED:case Qf.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case Qf.RawInflateStream.Status.BLOCK_HEADER_END:case Qf.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case Qf.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case Qf.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case Qf.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case Qf.RawInflateStream.Status.BLOCK_BODY_END:case Qf.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case Qf.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case Qf.RawInflateStream.BlockType.FIXED:case Qf.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case Qf.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=Qf.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},Qf.RawInflateStream.MaxBackwardLength=32768,Qf.RawInflateStream.MaxCopyLength=258,Qf.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qf.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Qf.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Qf.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Qf.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qf.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return em(n)}(),Qf.RawInflateStream.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return em(n)}(),Qf.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=Qf.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=Qf.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=Qf.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=Qf.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=Qf.RawInflateStream.Status.BLOCK_HEADER_END},Qf.RawInflateStream.prototype.readBits=function(e){for(var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,s=this.ip;r<e;){if(i.length<=s)return-1;n|=(t=i[s++])<<r,r+=8}return t=n&(1<<e)-1,r-=e,this.bitsbuf=n>>>=e,this.bitsbuflen=r,this.ip=s,t},Qf.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,s=this.input,o=this.ip,a=e[0],l=e[1];i<l;){if(s.length<=o)return-1;r|=s[o++]<<i,i+=8}if((n=(t=a[r&(1<<l)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=o,65535&t},Qf.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,n=this.ip;if(this.status=Qf.RawInflateStream.Status.BLOCK_BODY_START,n+4>=t.length)return-1;if((e=t[n++]|t[n++]<<8)==~(t[n++]|t[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=e,this.status=Qf.RawInflateStream.Status.BLOCK_BODY_END},Qf.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,n=this.output,r=this.op,i=this.blockLength;for(this.status=Qf.RawInflateStream.Status.DECODE_BLOCK_START;i--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=r,this.blockLength=i+1,-1;n[r++]=e[t++]}return i<0&&(this.status=Qf.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=r,0},Qf.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=Qf.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=Qf.RawInflateStream.FixedLiteralLengthTable,this.distTable=Qf.RawInflateStream.FixedDistanceTable,this.status=Qf.RawInflateStream.Status.BLOCK_BODY_END,0},Qf.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},Qf.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},Qf.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i=new Uint8Array(Qf.RawInflateStream.Order.length);if(this.status=Qf.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,n=this.readBits(4)+4,e<0||t<0||n<0)return this.restore_(),-1;try{(function(){var s,o,a,l,c,h,u=0;for(c=0;c<n;++c){if((s=this.readBits(3))<0)throw new Error("not enough input");i[Qf.RawInflateStream.Order[c]]=s}for(r=em(i),l=new Uint8Array(e+t),c=0,h=e+t;c<h;){if((o=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(o){case 16:if((s=this.readBits(2))<0)throw new Error("not enough input");for(a=3+s;a--;)l[c++]=u;break;case 17:if((s=this.readBits(3))<0)throw new Error("not enough input");for(a=3+s;a--;)l[c++]=0;u=0;break;case 18:if((s=this.readBits(7))<0)throw new Error("not enough input");for(a=11+s;a--;)l[c++]=0;u=0;break;default:l[c++]=o,u=o}}this.litlenTable=em(l.subarray(0,e)),this.distTable=em(l.subarray(e))}).call(this)}catch(s){return this.restore_(),-1}return this.status=Qf.RawInflateStream.Status.BLOCK_BODY_END,0},Qf.RawInflateStream.prototype.decodeHuffman=function(){var e,t,n,r,i,s=this.output,o=this.op,a=this.litlenTable,l=this.distTable,c=s.length;for(this.status=Qf.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(a))<0)return this.op=o,this.restore_(),-1;if(256===e)break;if(e<256)o===c&&(c=(s=this.expandBuffer()).length),s[o++]=e;else{if(r=Qf.RawInflateStream.LengthCodeTable[t=e-257],Qf.RawInflateStream.LengthExtraTable[t]>0){if((i=this.readBits(Qf.RawInflateStream.LengthExtraTable[t]))<0)return this.op=o,this.restore_(),-1;r+=i}if((e=this.readCodeByTable(l))<0)return this.op=o,this.restore_(),-1;if(n=Qf.RawInflateStream.DistCodeTable[e],Qf.RawInflateStream.DistExtraTable[e]>0){if((i=this.readBits(Qf.RawInflateStream.DistExtraTable[e]))<0)return this.op=o,this.restore_(),-1;n+=i}for(o+r>=c&&(c=(s=this.expandBuffer()).length);r--;)s[o]=s[o++-n];if(this.ip===this.input.length)return this.op=o,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=o,this.status=Qf.RawInflateStream.Status.DECODE_BLOCK_END},Qf.RawInflateStream.prototype.expandBuffer=function(e){var t,n,r,i=this.input.length/this.ip+1|0,s=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(this.input.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*i,(t=new Uint8Array(n)).set(s),this.output=t,this.output},Qf.RawInflateStream.prototype.concatBuffer=function(){var e,t,n=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,n)):this.output.subarray(this.sp,n),this.sp=n,n>Qf.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=Qf.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+Qf.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(n-Qf.RawInflateStream.MaxBackwardLength,n))),e},Qf.Inflate=function(e,t){var n,r;switch(this.input=e,this.ip=0,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),n=e[this.ip++],r=e[this.ip++],15&n){case Qf.CompressionMethod.DEFLATE:this.method=Qf.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new Qf.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},Qf.Inflate.BufferType=Qf.RawInflate.BufferType,Qf.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==Qf.Adler32(e))throw new Error("invalid adler-32 checksum");return e},Qf.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new Qf.RawInflateStream(this.input,this.ip),this.output=this.rawinflate.output},Qf.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var n=new Uint8Array(this.input.length+e.length);n.set(this.input,0),n.set(e,this.input.length),this.input=n}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},Qf.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,n=t[e++],r=t[e++];if(void 0===n||void 0===r)return-1;switch(15&n){case Qf.CompressionMethod.DEFLATE:this.method=Qf.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=e},Qf.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},Qf.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},Qf.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},Qf.Gunzip.prototype.decodeMember=function(){var e,t,n,r,i,s,o,a,l,c=new Qf.GunzipMember,h=this.input,u=this.ip;if(c.id1=h[u++],c.id2=h[u++],31!==c.id1||139!==c.id2)throw new Error("invalid file signature:"+c.id1+","+c.id2);switch(c.cm=h[u++],c.cm){case 8:break;default:throw new Error("unknown compression method: "+c.cm)}if(c.flg=h[u++],a=h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24,c.mtime=new Date(1e3*a),c.xfl=h[u++],c.os=h[u++],(c.flg&Qf.Gzip.FlagsMask.FEXTRA)>0&&(c.xlen=h[u++]|h[u++]<<8,u=this.decodeSubField(u,c.xlen)),(c.flg&Qf.Gzip.FlagsMask.FNAME)>0){for(o=[],s=0;(i=h[u++])>0;)o[s++]=String.fromCharCode(i);c.name=o.join("")}if((c.flg&Qf.Gzip.FlagsMask.FCOMMENT)>0){for(o=[],s=0;(i=h[u++])>0;)o[s++]=String.fromCharCode(i);c.comment=o.join("")}if((c.flg&Qf.Gzip.FlagsMask.FHCRC)>0&&(c.crc16=65535&Qf.CRC32.calc(h,0,u),c.crc16!==(h[u++]|h[u++]<<8)))throw new Error("invalid header crc16");if(h.length-u-4-4<512*(e=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24)&&(r=e),t=new Qf.RawInflate(h,{index:u,bufferSize:r}),c.data=n=t.decompress(),u=t.ip,c.crc32=l=(h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24)>>>0,Qf.CRC32.calc(n)!==l)throw new Error("invalid CRC-32 checksum: 0x"+Qf.CRC32.calc(n).toString(16)+" / 0x"+l.toString(16));if(c.isize=e=(h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24)>>>0,(4294967295&n.length)!==e)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+e);this.member.push(c),this.ip=u},Qf.Gunzip.prototype.decodeSubField=function(e,t){return e+t},Qf.Gunzip.prototype.concatMember=function(){var e,t,n,r=this.member,i=0,s=0;for(e=0,t=r.length;e<t;++e)s+=r[e].data.length;for(n=new Uint8Array(s),e=0;e<t;++e)n.set(r[e].data,i),i+=r[e].data.length;return n},Qf.GunzipMember=function(){},Qf.GunzipMember.prototype.getName=function(){return this.name},Qf.GunzipMember.prototype.getData=function(){return this.data},Qf.GunzipMember.prototype.getMtime=function(){return this.mtime},Qf.Gzip=function(e,t){this.input=e,this.ip=0,this.op=0,this.flags={},t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},Qf.Gzip.DefaultBufferSize=32768,Qf.Gzip.prototype.compress=function(){var e,t,n,r,i,s,o,a,l=new Uint8Array(Qf.Gzip.DefaultBufferSize),c=0,h=this.input,u=this.ip,d=this.filename,p=this.comment;if(l[c++]=31,l[c++]=139,l[c++]=8,e=0,this.flags.fname&&(e|=Qf.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=Qf.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=Qf.Gzip.FlagsMask.FHCRC),l[c++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,l[c++]=255&t,l[c++]=t>>>8&255,l[c++]=t>>>16&255,l[c++]=t>>>24&255,l[c++]=0,l[c++]=Qf.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(o=0,a=d.length;o<a;++o)(s=d.charCodeAt(o))>255&&(l[c++]=s>>>8&255),l[c++]=255&s;l[c++]=0}if(this.flags.comment){for(o=0,a=p.length;o<a;++o)(s=p.charCodeAt(o))>255&&(l[c++]=s>>>8&255),l[c++]=255&s;l[c++]=0}return this.flags.fhcrc&&(n=65535&Qf.CRC32.calc(l,0,c),l[c++]=255&n,l[c++]=n>>>8&255),this.deflateOptions.outputBuffer=l,this.deflateOptions.outputIndex=c,l=(i=new Qf.RawDeflate(h,this.deflateOptions)).compress(),(c=i.op)+8>l.buffer.byteLength?(this.output=new Uint8Array(c+8),this.output.set(new Uint8Array(l.buffer)),l=this.output):l=new Uint8Array(l.buffer),r=Qf.CRC32.calc(h),l[c++]=255&r,l[c++]=r>>>8&255,l[c++]=r>>>16&255,l[c++]=r>>>24&255,l[c++]=255&(a=h.length),l[c++]=a>>>8&255,l[c++]=a>>>16&255,l[c++]=a>>>24&255,this.ip=u,c<l.length&&(this.output=l=l.subarray(0,c)),l},Qf.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},Qf.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},Qf.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},Qf.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},Qf.Heap.prototype.getChild=function(e){return 2*e+2},Qf.Heap.prototype.push=function(e,t){var n,r,i,s=this.buffer;for(n=this.length,s[this.length++]=t,s[this.length++]=e;n>0&&(r=this.getParent(n),s[n]>s[r]);)i=s[n],s[n]=s[r],s[r]=i,i=s[n+1],s[n+1]=s[r+1],s[r+1]=i,n=r;return this.length},Qf.Heap.prototype.pop=function(){var e,t,n,r,i,s=this.buffer;for(t=s[0],e=s[1],this.length-=2,s[0]=s[this.length],s[1]=s[this.length+1],i=0;!((r=this.getChild(i))>=this.length)&&(r+2<this.length&&s[r+2]>s[r]&&(r+=2),s[r]>s[i]);)n=s[i],s[i]=s[r],s[r]=n,n=s[i+1],s[i+1]=s[r+1],s[r+1]=n,i=r;return{index:e,value:t,length:this.length}},Qf.RawDeflate=function(e,t){this.compressionType=Qf.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.input=e instanceof Array?new Uint8Array(e):e,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},Qf.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},Qf.RawDeflate.Lz77MinLength=3,Qf.RawDeflate.Lz77MaxLength=258,Qf.RawDeflate.WindowSize=32768,Qf.RawDeflate.MaxCodeLength=16,Qf.RawDeflate.HUFMAX=286,Qf.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),Qf.RawDeflate.prototype.compress=function(){var e,t,n,r=this.input;switch(this.compressionType){case Qf.RawDeflate.CompressionType.NONE:for(t=0,n=r.length;t<n;)e=r.subarray(t,t+65535),this.makeNocompressBlock(e,(t+=e.length)===n);break;case Qf.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case Qf.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},Qf.RawDeflate.prototype.makeNocompressBlock=function(e,t){var n,r,i=this.output,s=this.op;for(i=new Uint8Array(this.output.buffer);i.length<=s+e.length+5;)i=new Uint8Array(i.length<<1);return i.set(this.output),i[s++]=(t?1:0)|Qf.RawDeflate.CompressionType.NONE<<1,r=65536+~(n=e.length)&65535,i[s++]=255&n,i[s++]=n>>>8&255,i[s++]=255&r,i[s++]=r>>>8&255,i.set(e,s),i=i.subarray(0,s+=e.length),this.op=s,this.output=i,i},Qf.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var n,r,i=new Qf.BitStream(new Uint8Array(this.output.buffer),this.op);return n=Qf.RawDeflate.CompressionType.FIXED,i.writeBits(t?1:0,1,!0),i.writeBits(n,2,!0),r=this.lz77(e),this.fixedHuffman(r,i),i.finish()},Qf.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y=new Qf.BitStream(new Uint8Array(this.output.buffer),this.op),b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(19);for(n=Qf.RawDeflate.CompressionType.DYNAMIC,y.writeBits(t?1:0,1,!0),y.writeBits(n,2,!0),r=this.lz77(e),a=this.getLengths_(this.freqsLitLen,15),l=this.getCodesFromLengths_(a),c=this.getLengths_(this.freqsDist,7),h=this.getCodesFromLengths_(c),i=286;i>257&&0===a[i-1];i--);for(s=30;s>1&&0===c[s-1];s--);for(u=this.getTreeSymbols_(i,a,s,c),d=this.getLengths_(u.freqs,7),g=0;g<19;g++)_[g]=d[b[g]];for(o=19;o>4&&0===_[o-1];o--);for(p=this.getCodesFromLengths_(d),y.writeBits(i-257,5,!0),y.writeBits(s-1,5,!0),y.writeBits(o-4,4,!0),g=0;g<o;g++)y.writeBits(_[g],3,!0);for(g=0,v=u.codes.length;g<v;g++)if(y.writeBits(p[f=u.codes[g]],d[f],!0),f>=16){switch(g++,f){case 16:m=2;break;case 17:m=3;break;case 18:m=7;break;default:throw"invalid code: "+f}y.writeBits(u.codes[g],m,!0)}return this.dynamicHuffman(r,[l,a],[h,c],y),y.finish()},Qf.RawDeflate.prototype.dynamicHuffman=function(e,t,n,r){var i,s,o,a,l,c,h,u;for(l=t[0],c=t[1],h=n[0],u=n[1],i=0,s=e.length;i<s;++i)if(r.writeBits(l[o=e[i]],c[o],!0),o>256)r.writeBits(e[++i],e[++i],!0),a=e[++i],r.writeBits(h[a],u[a],!0),r.writeBits(e[++i],e[++i],!0);else if(256===o)break;return r},Qf.RawDeflate.prototype.fixedHuffman=function(e,t){var n,r,i;for(n=0,r=e.length;n<r;n++)if(Qf.BitStream.prototype.writeBits.apply(t,Qf.RawDeflate.FixedHuffmanTable[i=e[n]]),i>256)t.writeBits(e[++n],e[++n],!0),t.writeBits(e[++n],5),t.writeBits(e[++n],e[++n],!0);else if(256===i)break;return t},Qf.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},Qf.RawDeflate.Lz77Match.LengthCodeTable=(Jf=function(){var e,t,n=[];for(e=3;e<=258;e++)t=r(e),n[e]=t[2]<<24|t[1]<<16|t[0];function r(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return n}(),new Uint32Array(Jf)),Qf.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},Qf.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.backwardDistance,n=[],r=0;return n[r++]=65535&(e=Qf.RawDeflate.Lz77Match.LengthCodeTable[this.length]),n[r++]=e>>16&255,n[r++]=e>>24,e=this.getDistanceCode_(t),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n},Qf.RawDeflate.prototype.lz77=function(e){var t,n,r,i,s,o,a,l,c,h={},u=Qf.RawDeflate.WindowSize,d=new Uint16Array(2*e.length),p=0,f=0,m=new Uint32Array(286),g=new Uint32Array(30),v=this.lazy;function y(e,t){var n,r,i=e.toLz77Array();for(n=0,r=i.length;n<r;++n)d[p++]=i[n];m[i[0]]++,g[i[3]]++,f=e.length+t-1,l=null}for(m[256]=1,t=0,n=e.length;t<n;++t){for(s=0,r=0,i=Qf.RawDeflate.Lz77MinLength;r<i&&t+r!==n;++r)s=s<<8|e[t+r];if(void 0===h[s]&&(h[s]=[]),o=h[s],f-- >0)o.push(t);else{for(;o.length>0&&t-o[0]>u;)o.shift();if(t+Qf.RawDeflate.Lz77MinLength>=n){for(l&&y(l,-1),r=0,i=n-t;r<i;++r)d[p++]=c=e[t+r],++m[c];break}o.length>0?(a=this.searchLongestMatch_(e,t,o),l?l.length<a.length?(d[p++]=c=e[t-1],++m[c],y(a,0)):y(l,-1):a.length<v?l=a:y(a,0)):l?y(l,-1):(d[p++]=c=e[t],++m[c]),o.push(t)}}return d[p++]=256,m[256]++,this.freqsLitLen=m,this.freqsDist=g,d.subarray(0,p)},Qf.RawDeflate.prototype.searchLongestMatch_=function(e,t,n){var r,i,s,o,a,l,c=0,h=e.length;e:for(o=0,l=n.length;o<l;o++){if(r=n[l-o-1],s=Qf.RawDeflate.Lz77MinLength,c>Qf.RawDeflate.Lz77MinLength){for(a=c;a>Qf.RawDeflate.Lz77MinLength;a--)if(e[r+a-1]!==e[t+a-1])continue e;s=c}for(;s<Qf.RawDeflate.Lz77MaxLength&&t+s<h&&e[r+s]===e[t+s];)++s;if(s>c&&(i=r,c=s),s===Qf.RawDeflate.Lz77MaxLength)break}return new Qf.RawDeflate.Lz77Match(c,t-i)},Qf.RawDeflate.prototype.getTreeSymbols_=function(e,t,n,r){var i,s,o,a,l,c,h=new Uint32Array(e+n),u=new Uint32Array(316),d=new Uint8Array(19);for(s=0,i=0;i<e;i++)h[s++]=t[i];for(i=0;i<n;i++)h[s++]=r[i];for(l=0,i=0,a=h.length;i<a;i+=s){for(s=1;i+s<a&&h[i+s]===h[i];++s);if(o=s,0===h[i])if(o<3)for(;o-- >0;)u[l++]=0,d[0]++;else for(;o>0;)(c=o<138?o:138)>o-3&&c<o&&(c=o-3),c<=10?(u[l++]=17,u[l++]=c-3,d[17]++):(u[l++]=18,u[l++]=c-11,d[18]++),o-=c;else if(u[l++]=h[i],d[h[i]]++,--o<3)for(;o-- >0;)u[l++]=h[i],d[h[i]]++;else for(;o>0;)(c=o<6?o:6)>o-3&&c<o&&(c=o-3),u[l++]=16,u[l++]=c-3,d[16]++,o-=c}return{codes:u.subarray(0,l),freqs:d}},Qf.RawDeflate.prototype.getLengths_=function(e,t){var n,r,i,s,o,a=e.length,l=new Qf.Heap(2*Qf.RawDeflate.HUFMAX),c=new Uint8Array(a);for(s=0;s<a;++s)e[s]>0&&l.push(s,e[s]);if(n=new Array(l.length/2),r=new Uint32Array(l.length/2),1===n.length)return c[l.pop().index]=1,c;for(s=0,o=l.length/2;s<o;++s)n[s]=l.pop(),r[s]=n[s].value;for(i=this.reversePackageMerge_(r,r.length,t),s=0,o=n.length;s<o;++s)c[n[s].index]=i[s];return c},Qf.RawDeflate.prototype.reversePackageMerge_=function(e,t,n){var r,i,s,o,a,l=new Uint16Array(n),c=new Uint8Array(n),h=new Uint8Array(t),u=new Array(n),d=new Array(n),p=new Array(n),f=(1<<n)-t,m=1<<n-1;function g(e){var n=d[e][p[e]];n===t?(g(e+1),g(e+1)):--h[n],++p[e]}for(l[n-1]=t,i=0;i<n;++i)f<m?c[i]=0:(c[i]=1,f-=m),f<<=1,l[n-2-i]=(l[n-1-i]/2|0)+t;for(l[0]=c[0],u[0]=new Array(l[0]),d[0]=new Array(l[0]),i=1;i<n;++i)l[i]>2*l[i-1]+c[i]&&(l[i]=2*l[i-1]+c[i]),u[i]=new Array(l[i]),d[i]=new Array(l[i]);for(r=0;r<t;++r)h[r]=n;for(s=0;s<l[n-1];++s)u[n-1][s]=e[s],d[n-1][s]=s;for(r=0;r<n;++r)p[r]=0;for(1===c[n-1]&&(--h[0],++p[n-1]),i=n-2;i>=0;--i){for(r=0,o=0,a=p[i+1],s=0;s<l[i];s++)(o=u[i+1][a]+u[i+1][a+1])>e[r]?(u[i][s]=o,d[i][s]=t,a+=2):(u[i][s]=e[r],d[i][s]=r,++r);p[i]=0,1===c[i]&&g(i)}return h},Qf.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,n,r,i,s=new Uint16Array(e.length),o=[],a=[],l=0;for(t=0,n=e.length;t<n;t++)o[e[t]]=1+(0|o[e[t]]);for(t=1,n=Qf.RawDeflate.MaxCodeLength;t<=n;t++)a[t]=l,l+=0|o[t],l<<=1;for(t=0,n=e.length;t<n;t++)for(l=a[e[t]],a[e[t]]+=1,s[t]=0,r=0,i=e[t];r<i;r++)s[t]=s[t]<<1|1&l,l>>>=1;return s},Qf.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.verify=t.verify||!1,this.password=t.password},Qf.Unzip.CompressionMethod=Qf.Zip.CompressionMethod,Qf.Unzip.FileHeaderSignature=Qf.Zip.FileHeaderSignature,Qf.Unzip.LocalFileHeaderSignature=Qf.Zip.LocalFileHeaderSignature,Qf.Unzip.CentralDirectorySignature=Qf.Zip.CentralDirectorySignature,Qf.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t},Qf.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Qf.Unzip.FileHeaderSignature[0]||e[t++]!==Qf.Unzip.FileHeaderSignature[1]||e[t++]!==Qf.Unzip.FileHeaderSignature[2]||e[t++]!==Qf.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},Qf.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t},Qf.Unzip.LocalFileHeader.Flags=Qf.Zip.Flags,Qf.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Qf.Unzip.LocalFileHeaderSignature[0]||e[t++]!==Qf.Unzip.LocalFileHeaderSignature[1]||e[t++]!==Qf.Unzip.LocalFileHeaderSignature[2]||e[t++]!==Qf.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},Qf.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===Qf.Unzip.CentralDirectorySignature[0]&&t[e+1]===Qf.Unzip.CentralDirectorySignature[1]&&t[e+2]===Qf.Unzip.CentralDirectorySignature[2]&&t[e+3]===Qf.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},Qf.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==Qf.Unzip.CentralDirectorySignature[0]||t[e++]!==Qf.Unzip.CentralDirectorySignature[1]||t[e++]!==Qf.Unzip.CentralDirectorySignature[2]||t[e++]!==Qf.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},Qf.Unzip.prototype.parseFileHeader=function(){var e,t,n,r,i=[],s={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(t=new Qf.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,i[n]=t,s[t.filename]=n;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=i,this.filenameToIndex=s}},Qf.Unzip.prototype.getFileData=function(e,t){t=t||{};var n,r,i,s,o,a,l,c,h=this.input,u=this.fileHeaderList;if(u||this.parseFileHeader(),void 0===u[e])throw new Error("wrong index");if((n=new Qf.Unzip.LocalFileHeader(this.input,r=u[e].relativeOffset)).parse(),r+=n.length,i=n.compressedSize,0!=(n.flags&Qf.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(a=this.createDecryptionKey(t.password||this.password),l=r,c=r+12;l<c;++l)this.decode(a,h[l]);for(l=r+=12,c=r+(i-=12);l<c;++l)h[l]=this.decode(a,h[l])}switch(n.compression){case Qf.Unzip.CompressionMethod.STORE:s=this.input.subarray(r,r+i);break;case Qf.Unzip.CompressionMethod.DEFLATE:s=new Qf.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(o=Qf.CRC32.calc(s),n.crc32!==o))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+o.toString(16));return s},Qf.Unzip.prototype.getFilenames=function(){var e,t,n,r=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(n=this.fileHeaderList).length;e<t;++e)r[e]=n[e].filename;return r},Qf.Unzip.prototype.decompress=function(e,t){var n;if(this.filenameToIndex||this.parseFileHeader(),void 0===(n=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(n,t)},Qf.Unzip.prototype.setPassword=function(e){this.password=e},Qf.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},Qf.Unzip.prototype.updateKeys=Qf.Zip.prototype.updateKeys,Qf.Unzip.prototype.createDecryptionKey=Qf.Zip.prototype.createEncryptionKey,Qf.Unzip.prototype.getByte=Qf.Zip.prototype.getByte,Qf.Util.stringToByteArray=function(e){var t,n,r=e.split("");for(t=0,n=r.length;t<n;t++)r[t]=(255&r[t].charCodeAt(0))>>>0;return r},Qf.Adler32=function(e){return"string"==typeof e&&(e=Qf.Util.stringToByteArray(e)),Qf.Adler32.update(1,e)},Qf.Adler32.update=function(e,t){for(var n,r=65535&e,i=e>>>16&65535,s=t.length,o=0;s>0;){s-=n=s>Qf.Adler32.OptimizationParameter?Qf.Adler32.OptimizationParameter:s;do{i+=r+=t[o++]}while(--n);r%=65521,i%=65521}return(i<<16|r)>>>0},Qf.Adler32.OptimizationParameter=1024,Qf.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(Qf.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},Qf.BitStream.DefaultBlockSize=32768,Qf.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=new Uint8Array(e.length<<1);return t.set(e),this.buffer=t},Qf.BitStream.prototype.writeBits=function(e,t,n){var r,i=this.buffer,s=this.index,o=this.bitindex,a=i[s];if(n&&t>1&&(e=t>8?function(e){return Qf.BitStream.ReverseTable[255&e]<<24|Qf.BitStream.ReverseTable[e>>>8&255]<<16|Qf.BitStream.ReverseTable[e>>>16&255]<<8|Qf.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:Qf.BitStream.ReverseTable[e]>>8-t),t+o<8)a=a<<t|e,o+=t;else for(r=0;r<t;++r)a=a<<1|e>>t-r-1&1,8==++o&&(o=0,i[s++]=Qf.BitStream.ReverseTable[a],a=0,s===i.length&&(i=this.expandBuffer()));i[s]=a,this.buffer=i,this.bitindex=o,this.index=s},Qf.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=Qf.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},Qf.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,n=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--n;return(t<<n&255)>>>0}(e);return t}(),Qf.CRC32.calc=function(e,t,n){return Qf.CRC32.update(e,0,t,n)},Qf.CRC32.update=function(e,t,n,r){var i=Qf.CRC32.Table,s="number"==typeof n?n:n=0,o="number"==typeof r?r:e.length;for(t^=4294967295,s=7&o;s--;++n)t=t>>>8^i[255&(t^e[n])];for(s=o>>3;s--;n+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^i[255&(t^e[n])])>>>8^i[255&(t^e[n+1])])>>>8^i[255&(t^e[n+2])])>>>8^i[255&(t^e[n+3])])>>>8^i[255&(t^e[n+4])])>>>8^i[255&(t^e[n+5])])>>>8^i[255&(t^e[n+6])])>>>8^i[255&(t^e[n+7])];return(4294967295^t)>>>0},Qf.CRC32.single=function(e,t){return(Qf.CRC32.Table[255&(e^t)]^e>>>8)>>>0},Qf.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Qf.CRC32.Table=new Uint32Array(Qf.CRC32.Table_),Qf.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(Qf.Deflate.DefaultBufferSize),this.compressionType=Qf.Deflate.CompressionType.DYNAMIC;var n,r={};for(n in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)r[n]=t[n];r.outputBuffer=this.output,this.rawDeflate=new Qf.RawDeflate(this.input,r)},Qf.Deflate.DefaultBufferSize=32768,Qf.Deflate.CompressionType=Qf.RawDeflate.CompressionType,Qf.Deflate.compress=function(e,t){return new Qf.Deflate(e,t).compress()},Qf.Deflate.prototype.compress=function(){var e,t,n,r,i,s,o,a=0;switch(o=this.output,e=Qf.CompressionMethod.DEFLATE){case Qf.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(Qf.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(o[a++]=n=t<<4|e,e){case Qf.CompressionMethod.DEFLATE:switch(this.compressionType){case Qf.Deflate.CompressionType.NONE:i=0;break;case Qf.Deflate.CompressionType.FIXED:i=1;break;case Qf.Deflate.CompressionType.DYNAMIC:i=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=i<<6|0,o[a++]=r|=31-(256*n+r)%31,s=Qf.Adler32(this.input),this.rawDeflate.op=a,a=(o=this.rawDeflate.compress()).length,(o=new Uint8Array(o.buffer)).length<=a+4&&(this.output=new Uint8Array(o.length+4),this.output.set(o),o=this.output),(o=o.subarray(0,a+4))[a++]=s>>24&255,o[a++]=s>>16&255,o[a++]=s>>8&255,o[a++]=255&s,o};var rm=function(e){return e.split(/\n|\r\n|\r/g)};function im(e,t){var n,r,i=[],s=e.length,o=0,a=!1;if(s>0)for(i[o]=e.charAt(0),n=1;n<s;n++)'"'===(r=e.charAt(n))?a=!a:a||r!==t?i[o]+=r:i[++o]="";return i}function sm(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)}var om={rgbListFromHSV:function(){for(var e=[],t=1;t>=.5;t-=.1)for(var n=0;n<1;n+=1/28){var r="rgb("+om.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(om.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var r,i,s,o=Math.floor(6*e),a=6*e-o,l=n*(1-t),c=n*(1-a*t),h=n*(1-(1-a)*t);switch(o%6){case 0:r=n,i=h,s=l;break;case 1:r=c,i=n,s=l;break;case 2:r=l,i=n,s=h;break;case 3:r=l,i=c,s=n;break;case 4:r=h,i=l,s=n;break;case 5:r=n,i=l,s=c}return[Math.floor(255*r),Math.floor(255*i),Math.floor(255*s)]},hslToRgb:function(e,t,n){var r,i,s;if(0===t)r=i=s=n;else{var o=n<.5?n*(1+t):n+t-n*t,a=2*n-o;r=om.hue2rgb(a,o,e+1/3),i=om.hue2rgb(a,o,e),s=om.hue2rgb(a,o,e-1/3)}return[255*r,255*i,255*s]},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},rgbaColor:function(e,t,n,r){return"rgba("+(e=Fd(e,0,255))+","+(t=Fd(t,0,255))+","+(n=Fd(n,0,255))+","+(r=Fd(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=Fd(e,0,255))+","+(t=Fd(t,0,255))+","+(n=Fd(n,0,255))+")"},greyScale:function(e){var t=Fd(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Fd(e,0,255),t=Fd(t,0,255);var n=Math.round(Math.random(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=Fd(e,0,255),t=Fd(t,0,255),"rgb("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=Fd(e,0,255),t=Fd(t,0,255),"rgba("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){var n=this.colorNameToHex(e);n&&(e=n);var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return e.startsWith("rgba")?e:(r&&(e=om.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):e)},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return(e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1)),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){var n=this.colorNameToHex(e),r=(n?om.hexToRgb(n):e.startsWith("rgb(")?e:om.hexToRgb(e)).replace(")","").substring(4).split(","),i=Math.max(0,Math.min(255,Number.parseInt(r[0].trim())+t)),s=Math.max(0,Math.min(255,Number.parseInt(r[1].trim())+t)),o=Math.max(0,Math.min(255,Number.parseInt(r[2].trim())+t));return"rgb("+i.toString()+","+s.toString()+","+o.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function am(e,t){var n=Ya("<div>");e.append(n),n.append(kd("times")),n.on("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}function lm(e,t,n){var r=Object.values(Rd);n&&"function"!=typeof n&&(r.splice(11,1),r.unshift(om.rgbToHex(n)));for(var i=function(){var n=o[s],r=Ya("<div>",{class:"igv-color-swatch"});e.append(r),r.css("background-color",n),"white"===n||(r.hover((function(){r.get(0).style.borderColor=n}),(function(){r.get(0).style.borderColor="white"})),r.on("click.trackview",(function(e){e.stopPropagation(),t(n)})),r.on("touchend.trackview",(function(e){e.stopPropagation(),t(n)})))},s=0,o=r;s<o.length;s++)i()}function cm(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function hm(e,t){var n=Ya(t);n.offset();var r=cm(e);return{x:r.x-n.offset().left,y:r.y-n.offset().top}}function um(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}var dm=vd.trackMenuItemListHelper,pm=function(e,t){this.browser=t,this.$parent=fm.call(this,e)};function fm(e){var t,n=this;return this.$popover=Ya('<div class="igv-popover">'),e.append(this.$popover),t=Ya('<div class="igv-popover-header">'),this.$popover.append(t),am(t,(function(){n.hide()})),this.$popoverContent=Ya("<div>"),this.$popover.append(this.$popoverContent),td(this.$popover.get(0),t.get(0)),e}function mm(e,t,n){var r,i,s=e,o=Ya(window).width(),a=(Ya(window).height(),e),l=t;return r=a-=n.$parent.offset().left,s+(i={x:a,y:l-=n.$parent.offset().top,width:n.$popover.outerWidth(),height:n.$popover.outerHeight()}).width>o&&(r=a-i.width),{left:r+"px",top:l+"px"}}pm.prototype.hide=function(){this.$popover.hide()},pm.prototype.presentTrackContextMenu=function(e,t){var n=this.$popover;if(Ya(".igv-popover").hide(),t.length>0){t=dm(t,n),this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content");var r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)this.$popoverContent.append(o.value.object)}catch(c){i=!0,s=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}var l=cm(e);n.css(mm(l.x,l.y,this)),n.show()}},pm.prototype.presentTrackContent=function(e,t,n){Ya(".igv-popover").hide(),void 0!==n&&(this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content"),this.$popoverContent.html(n),this.$popover.css(mm(e,t,this)),this.$popover.show())},pm.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(e){this[e]=void 0}))},Te({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var gm="".repeat||function(e){var t=String(f(this)),n="",r=oe(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},vm=1..toFixed,ym=Math.floor,bm=function(e,t,n){return 0===t?n:t%2==1?bm(e,t-1,n*e):bm(e*e,t/2,n)},_m=vm&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){vm.call({})}));Te({target:"Number",proto:!0,forced:_m},{toFixed:function(e){var t,n,r,i,s=function(e){if("number"!=typeof e&&"Number"!=u(e))throw TypeError("Incorrect invocation");return+e}(this),o=oe(e),a=[0,0,0,0,0,0],l="",c="0",h=function(e,t){for(var n=-1,r=t;++n<6;)a[n]=(r+=e*a[n])%1e7,r=ym(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)a[t]=ym((n+=a[t])/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==a[e]){var n=String(a[e]);t=""===t?n:t+gm.call("0",7-n.length)+n}return t};if(o<0||o>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(l="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*bm(2,69,1))-69)<0?s*bm(2,-t,1):s/bm(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=o;r>=7;)h(1e7,0),r-=7;for(h(bm(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),h(1,1),d(2),c=p()}else h(0,n),h(1<<-t,0),c=p()+gm.call("0",o);return o>0?l+((i=c.length)<=o?"0."+gm.call("0",o-i)+c:c.slice(0,i-o)+"."+c.slice(i-o)):l+c}});var wm=function(e,t){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._super=Object.getPrototypeOf(t.prototype),t};function xm(e){var t=new Set(["boolean","number","string","symbol"]),n=Vn(e);return void 0!==e&&(t.has(n)||e.substring||e.toFixed)}function Sm(e,t){return Object.assign({oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename},t)}function km(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var Cm=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))})),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},Em=function(e,t,n){var r=t.start,i=t.end;if(void 0===i)(i=(r-=n/2)+n)>e?r=(i=e)-n:r<0&&(r=0,i=n);else if(i-r<n){var s=(i+r)/2;s-n/2<0?i=(r=0)+n:s+n/2>e?r=(i=e)-n:i=(r=s-n/2)+n}t.start=Math.ceil(r),t.end=Math.floor(i)},Rm=function(e){this.viewport=e,this.browser=e.browser,this.$rulerSweeper=Ya('<div class="igv-ruler-sweeper-div">'),Ya(e.contentDiv).append(this.$rulerSweeper),this.namespace=".sweeper_"+um(),this.addMouseHandlers()};function Am(e){return this.viewport.genomicState.referenceFrame.start+e*this.viewport.genomicState.referenceFrame.bpPerPixel}Rm.prototype.disableMouseHandlers=function(){Ya(document).off(this.namespace),this.viewport.$viewport.off(this.namespace)},Rm.prototype.addMouseHandlers=function(){var e,t,n,r,i,s,o=this.browser,a=this;this.disableMouseHandlers(),e=t=n=void 0,Ya(this.browser.$root).on("mousedown"+this.namespace,(function(s){t=!0,n=hm(s,a.viewport.$viewport).x,!0===e&&(a.$rulerSweeper.show(),i=1,a.$rulerSweeper.css({left:(r=n)+"px"}),a.$rulerSweeper.width(i))})),Ya(this.browser.$root).on("mousemove"+this.namespace,(function(o){var l;e&&t&&(l=hm(o,a.viewport.$viewport).x,l=Math.min(l,a.viewport.$viewport.width()),l=Math.max(l,0),s=l-n,i=Math.abs(s),a.$rulerSweeper.width(i),s<0&&a.$rulerSweeper.css({left:(r=n+s)+"px"}))})),Ya(this.browser.$root).on("mouseup"+this.namespace,(function(n){var s;!0===e&&!0===t&&(e=t=void 0,a.$rulerSweeper.hide(),(s={}).start=Am.call(a,r),s.end=Am.call(a,r+i),i>1&&(Em(o.genome.getChromosome(a.viewport.genomicState.referenceFrame.chrName).bpLength,s,o.minimumBases()),a.viewport.genomicState.referenceFrame.bpPerPixel=(Math.round(s.end)-Math.round(s.start))/a.viewport.$viewport.width(),a.viewport.genomicState.referenceFrame.start=Math.round(s.start),o.updateViews(a.viewport.genomicState)))})),this.viewport.$viewport.on("mousedown"+this.namespace,(function(t){e=!0}))},Rm.prototype.dispose=function(){this.disableMouseHandlers()};var Im=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))},Tm=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};Tm.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Tm.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var Dm=function(e,t,n,r,i){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=i},Om=String.fromCharCode,Mm=String.fromCodePoint;Te({target:"String",stat:!0,forced:!!Mm&&1!=Mm.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],ue(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?Om(t):Om(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}});var Pm={fileInfoCache:{},isGoogleURL:function(e){return e.includes("googleapis")&&!e.includes("urlshortener")||this.isGoogleCloudURL(e)||this.isGoogleStorageURL(e)||this.isGoogleDrive(e)},isGoogleStorageURL:function(e){return e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")},isGoogleCloudURL:function(e){return e.startsWith("gs://")},isGoogleDrive:function(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0},setApiKey:function(e){this.apiKey=e},translateGoogleCloudURL:function(e){var t,n,r,i,s,o;return t=e.indexOf("/",5),i=e.indexOf("?"),t<0?e:(n=e.substring(5,t),s=i<0?e.substring(t+1):e.substring(t+1,i),r=encodeURIComponent(s),i>0&&(o=e.substring(i)),"https://www.googleapis.com/storage/v1/b/"+n+"/o/"+r+(o?o+"&alt=media":"?alt=media"))},addApiKey:function(e){var t=this.apiKey;if(void 0!==t&&!e.includes("key=")){var n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e},driveDownloadURL:function(e){var t=Lm(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e},getDriveFileInfo:function(e){var t=Lm(e);return og.loadJson("https://www.googleapis.com/drive/v3/files/"+t+"?supportsTeamDrives=true",Sm({}))},loadGoogleProperties:function(e){var t=this;return og.loadArrayBuffer(e).then((function(e){var n,r;n=new Qf.Gunzip(new Uint8Array(e)).decompress(),r=String.fromCharCode.apply(null,n);var i=JSON.parse(r);return t.setApiKey(i.api_key),t.properties=i,i}))}};function Lm(e){var t,n;if(e.includes("/open?id=")){if(t=e.indexOf("/open?id=")+9,n=e.indexOf("&"),t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else if(e.includes("/file/d/"))return t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/"),e.substring(t,n)}var Fm={oauthTokens:{},setToken:function(e,t){t?this.oauthTokens[t]=e:this.google.access_token=e},getToken:function(e){var t;if(e){for(var n in this.oauthTokens)if(new RegExp("^"+n.split(/\*+/).map(Nm).join(".*")+"$").test(e)){t=this.oauthTokens[n];break}}else t=this.google.access_token;return t},removeToken:function(e){e?delete this.oauthTokens[e]:delete Fm.google.access_token},google:{setToken:function(e){this.access_token=e}}};function Nm(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function zm(e,t){var n=[],r=0,i=0;for(t=t||e.byteLength-18;r<t;)try{var s=new Uint8Array(e,r,18),o=s[11]<<8|s[10],a=12+o+r,l=1+(s[17]<<8|s[16])-o-19;if(e.byteLength-a<l)break;var c=new Uint8Array(e,a,l),h=new Qf.RawInflate(c),u=h.decompress();r+=h.ip+26,i+=u.byteLength,n.push(u)}catch(g){console.error(g);break}if(1===n.length)return n[0];for(var d=new Uint8Array(i),p=0,f=0;f<n.length;++f){var m=new Uint8Array(n[f]);Vm(m,0,d,p,m.length),p+=m.length}return d}function Bm(e){var t=new Uint8Array(e);return t[17]<<8|t[16]+1}var jm="function"==typeof new Uint8Array(1).subarray;function Vm(e,t,n,r,i){if(0!==i){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&i===e.length?$m(e,n,r):jm?$m(e.subarray(t,t+i),n,r):1===e.BYTES_PER_ELEMENT&&i>100?$m(new Uint8Array(e.buffer,e.byteOffset+t,i),n,r):function(e,t,n,r,i){for(var s=0;s<i;++s)n[r+s]=e[t+s]}(e,t,n,r,i)}}function $m(e,t,n){t.set(e,n)}function Um(e){var t,n;return e instanceof File?e.name:((t=(n=(t=e.lastIndexOf("/"))<0?e:e.substr(t+1)).indexOf("?"))>0&&(n=n.substr(0,t)),n)}function Hm(e){return e instanceof File}function qm(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return n.indexOf("gzip")>0?new Qf.Gunzip(i).decompress():i}function Gm(e){for(var t=Wm,n=t.parser.loose.exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,(function(e,n,i){n&&(r[t.q.name][n]=i)})),r}"object"===("undefined"==typeof process?"undefined":Vn(process))&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});var Wm={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function Ym(e){return Zm.apply(this,arguments)}function Zm(){return(Zm=Un(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Promise)){e.next=7;break}return e.next=3,t;case 3:return e.abrupt("return",e.sent);case 7:if("function"!=typeof t){e.next=11;break}return e.abrupt("return",t());case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xm,Km={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},Qm=function(e){var t=this;this.$container=Ya("<div>",{class:"igv-alert-dialog-container"}),e.append(this.$container);var n=Ya("<div>");this.$container.append(n);var r=Ya("<div>",{id:"igv-alert-dialog-body"});this.$container.append(r),this.$body=Ya("<div>",{id:"igv-alert-dialog-body-copy"}),r.append(this.$body);var i=Ya("<div>");this.$container.append(i),this.$ok=Ya("<div>"),i.append(this.$ok),this.$ok.text("OK"),this.$ok.on("click",(function(){t.$body.html(""),t.$container.hide()})),this.$container.hide()};Qm.prototype.configure=function(e){this.$body.html(e.label)},Qm.prototype.present=function(e,t){var n=this,r=e.message||e;Km.hasOwnProperty(r)&&(r=Km[r]),this.$body.html(r),this.$ok.on("click",(function(){"function"==typeof t&&t("OK"),n.$body.html(""),n.$container.hide()})),this.$container.show()};var Jm={init:function(e){Xm||(Xm=new Qm(e))},presentAlert:function(e,t){Xm.present(e,t)}};function eg(e){this.requestsPerSecond=e.requestsPerSecond,this.promiseImplementation=e.promiseImplementation||Promise,this.lastStartTime=0,this.queued=[]}eg.prototype.add=function(e,t){var n=this,r=t||{};return new n.promiseImplementation((function(t,i){n.queued.push({resolve:t,reject:i,promise:e,weight:r.weight||1,signal:r.signal}),n.dequeue()}))},eg.prototype.addAll=function(e,t){var n=e.map((function(e){return this.add(e,t)}).bind(this));return Promise.all(n)},eg.prototype.dequeue=function(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond*this.queued[0].weight+1,n=e-this.lastStartTime;n>=t?this._execute():setTimeout((function(){this.dequeue()}).bind(this),t-n)}},eg.prototype._execute=function(){this.lastStartTime=new Date;var e=this.queued.shift();e.signal&&e.signal.aborted?e.reject(new DOMException("","AbortError")):e.promise().then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}))};var tg,ng,rg,ig,sg=new eg({requestsPerSecond:10,promiseImplementation:Promise}),og={load:(tg=Un(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},!(t instanceof Promise)){e.next=8;break}return e.next=4,t;case 4:return e.abrupt("return",this.load(e.sent,n));case 8:if("function"!=typeof t){e.next=12;break}return e.abrupt("return",this.load(t(),n));case 12:if(!(t instanceof File)){e.next=16;break}return e.abrupt("return",cg(t,n));case 16:if(!t.startsWith("data:")){e.next=20;break}return e.abrupt("return",qm(t));case 20:if(t.startsWith("https://drive.google.com")&&(t=Pm.driveDownloadURL(t)),!gg(t)){e.next=29;break}return e.next=24,vg();case 24:return n.oauthToken=e.sent,e.abrupt("return",sg.add((function(){return ag(t,n)})));case 29:return e.abrupt("return",ag(t,n));case 30:case"end":return e.stop()}}),e,this)}))),function(e,t){return tg.apply(this,arguments)}),loadArrayBuffer:function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?cg(e,t):og.load(e,t)},loadJson:function(e,t){return"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json"),og.load(e,t).then((function(e){return e?JSON.parse(e):e}))},loadString:function(e,t){return t=t||{},e instanceof File?function(e,t){var n=(t=t||{}).range?e.slice(t.range.start,t.range.start+t.range.size):e;return new Promise((function(r,i){var s=new FileReader,o=0;t.bgz||e.name.endsWith(".bgz")?o=2:e.name.endsWith(".gz")&&(o=1),s.onload=function(e){return r(0===o?s.result:mg(s.result,o))},s.onerror=function(t){i(s.error+" "+e.name,s)},0===o?s.readAsText(n):s.readAsArrayBuffer(n)}))}(e,t):function(e,t){return hg.apply(this,arguments)}(e,t)},startup:function(){var e=window.document.location.href;Gm(e),0!==_g||e.includes("localhost")||e.includes("127.0.0.1")||(_g++,og.load("https://data.broadinstitute.org/igv/projects/current/counter_igvjs.php?version=0").then((function(e){})).catch((function(e){})))}};function ag(e,t){return lg.apply(this,arguments)}function lg(){return(lg=Un(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fg(t),"function"!=typeof(r=(n=n||{}).oauthToken)){e.next=7;break}r=r(),e.next=11;break;case 7:if(!(r instanceof Promise)){e.next=11;break}return e.next=10,r;case 10:r=e.sent;case 11:return r||(r=dg(t)),e.abrupt("return",new Promise((function(e,i){Pm.isGoogleURL(t)&&(t.startsWith("gs://")?t=Pm.translateGoogleCloudURL(t):Pm.isGoogleStorageURL(t)&&(t.includes("altMedia=")||(t+=t.includes("?")?"&altMedia=true":"?altMedia=true")));var s=n.headers||{};r&&pg(s,r);var o=n.range,a=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),o&&a&&!ug(t)&&(t+=t.includes("?")?"&":"?",t+="someRandomSeed="+Math.random().toString(36));var l=new XMLHttpRequest,c=n.sendData||n.body,h=n.responseType,u=n.contentType,d=n.mimeType;if(l.open(n.method||(c?"POST":"GET"),t),o&&l.setRequestHeader("Range","bytes="+o.start+"-"+(o.size?o.start+o.size-1:"")),u&&l.setRequestHeader("Content-Type",u),d&&l.overrideMimeType(d),h&&(l.responseType=h),s)for(var p=0,f=Object.keys(s);p<f.length;p++){var m=f[p];l.setRequestHeader(m,s[m])}!0===n.withCredentials&&(l.withCredentials=!0),l.onload=function(){var r=Un(regeneratorRuntime.mark((function r(i){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0===l.status||l.status>=200&&l.status<=300)){r.next=4;break}o&&206!==l.status&&0!==o.start?(l.response.length>1e5&&Jm.presentAlert("Warning: Range header ignored for URL: ".concat(t,".  This can have performance impacts.")),e(l.response.slice(o.start,o.start+o.size))):e(l.response),r.next=23;break;case 4:if("undefined"==typeof gapi||404!==l.status&&401!==l.status||!Pm.isGoogleURL(t)||n.retries){r.next=22;break}return r.prev=5,n.retries=1,r.next=9,vg();case 9:return n.oauthToken=r.sent,r.next=13,og.load(t,n);case 13:e(r.sent),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(5),g(r.t0);case 20:r.next=23;break;case 22:g(403===l.status?"Access forbidden: "+t:416===l.status?"Unsatisfiable range":l.status);case 23:case"end":return r.stop()}}),r,null,[[5,17]])})));return function(e){return r.apply(this,arguments)}}(),l.onerror=function(e){g("Error accessing resource: "+t+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){i(e)};try{l.send(c)}catch(v){i(v)}function g(e){if(!i)throw new Error(e);i(new Error(e))}})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cg(e,t){return new Promise((function(n,r){var i=new FileReader;if(i.onload=function(e){n(i.result)},i.onerror=function(e){r(null,i)},t.range){var s=e.slice(t.range.start,t.range.start+t.range.size);"arraybuffer"===t.responseType?i.readAsArrayBuffer(s):i.readAsBinaryString(s)}else"arraybuffer"===t.responseType?i.readAsArrayBuffer(e):i.readAsBinaryString(e)}))}function hg(){return(hg=Un(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=n||{}).filename||Um(t),i=3,n.bgz?i=2:r.endsWith(".gz")&&(i=1),n.responseType="arraybuffer",e.abrupt("return",og.load(t,n).then((function(e){return mg(e,i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ug(e){return e.indexOf("X-Amz-Signature")>-1}function dg(e){var t=Gm(e).host,n=Fm.getToken(t);return!n&&Pm.isGoogleURL(e)&&(n=Fm.google.access_token),n}function pg(e,t){return t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t),e}function fg(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Pm.driveDownloadURL(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}function mg(e,t){if(3===t&&e.byteLength>2){var n=new Uint8Array(e,0,2);31===n[0]&&139===n[1]&&(t=1)}var r;return r=1===t?new Qf.Gunzip(new Uint8Array(e)).decompress():2===t?zm(e):new Uint8Array(e),"TextDecoder"in("undefined"!=typeof self?self:"undefined"!=typeof global?global:window)?(new TextDecoder).decode(r):function(e){for(var t="",n=0;n<e.length;){var r=e[n],i=0,s=0;if(r<=127?(i=0,s=255&r):r<=223?(i=1,s=31&r):r<=239?(i=2,s=15&r):r<=244&&(i=3,s=7&r),e.length-n-i>0)for(var o=0;o<i;)s=s<<6|63&(r=e[n+o+1]),o+=1;else s=65533,i=e.length-n;t+=String.fromCodePoint(s),n+=i+1}return t}(r)}function gg(e){return e.includes("drive.google.com")||e.includes("www.googleapis.com/drive")}function vg(){return yg.apply(this,arguments)}function yg(){return(yg=Un(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fm.google.access_token){e.next=10;break}if(!(rg&&Date.now()>rg&&ig)){e.next=9;break}return t=ig,e.next=5,t.reloadAuthResponse();case 5:Fm.google.access_token=(n=e.sent).access_token,rg=n.expires_at;case 9:return e.abrupt("return",Fm.google.access_token);case 10:if(!ng){e.next=12;break}return e.abrupt("return",ng);case 12:if(gapi&&gapi.auth2){e.next=14;break}throw new Error("The Google oAuth API is required but not loaded");case 14:if(gapi.auth2.getAuthInstance()){e.next=18;break}return Jm.presentAlert("Authorization is required, but Google oAuth has not been initalized.  Contact your site administrator for assistance."),e.abrupt("return",void 0);case 18:return(r=new gapi.auth2.SigninOptionsBuilder).setPrompt("select_account"),r.setScope("https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly"),ng=new Promise((function(e,t){Jm.presentAlert("Google Login required",(function(){gapi.auth2.getAuthInstance().signIn(r).then((function(t){ig=t;var n=t.getAuthResponse();Fm.google.setToken(n.access_token),rg=n.expires_at,e(n.access_token),ng=void 0})).catch((function(e){ng=void 0,t(e)}))}))})),e.abrupt("return",ng);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bg,_g=0,wg=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),xg=function(e){"string"==typeof e.fastaURL&&e.fastaURL.startsWith("data:")?(this.file=function(e){var t,n=e.split(","),r=n[0].split(":")[1],i=n[1];i=r.indexOf("base64")>=0?atob(i):decodeURI(i),t=new Uint8Array(i.length);for(var s=0;s<i.length;s++)t[s]=i.charCodeAt(s);for(var o=new Qf.Gunzip(t).decompress(),a="",l=o.length,c=0;c<l;c++)a+=String.fromCharCode(o[c]);return a}(e.fastaURL),this.indexed=!1,this.isDataURI=!0):(this.file=e.fastaURL,this.indexed=!1!==e.indexed,this.indexed&&(this.indexFile=e.indexURL||e.indexFile||this.file+".fai")),this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={},this.config=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&!wg.has(t)&&(n[t]=e[t]);return n}(e)};function Sg(e,t,n){var r=this,i=r.interval;if(i&&i.contains(e,t,n))return Promise.resolve(l(i,t,n));var s=t,o=n;if(n-t<5e4){var a=Math.round(t+(n-t)/2);s=Math.max(0,a-25e3),o=a+25e3}return r.readSequence(e,s,o).then((function(i){return r.interval=new Tm(e,s,o,i),l(r.interval,t,n)}));function l(e,t,n){return e.features?e.features.substr(t-e.start,n-t):null}}function kg(e,t,n){this.offsets[e]&&(t-=this.offsets[e],n-=this.offsets[e]);var r="";if(t<0)for(var i=t;i<Math.min(n,0);i++)r+="*";if(n<=0)return Promise.resolve(r);var s=this.sequences[e];return Math.min(n,s.length),Promise.resolve(r+s.substring(t,n))}xg.prototype.init=function(){return this.indexed?this.getIndex():this.loadAll()},xg.prototype.getSequence=function(e,t,n){return this.indexed?Sg.call(this,e,t,n):kg.call(this,e,t,n)},xg.prototype.getIndex=function(){if(this.index)return Promise.resolve(this.index);var e=this;return og.load(e.indexFile,Sm(e.config)).then((function(t){var n=rm(t),r=n.length,i=0,s=0;for(e.index={};i<r;){var o=n[i++].split("\t");if(5===o.length){var a=o[0],l=parseInt(o[1]),c={size:l,position:parseInt(o[2]),basesPerLine:parseInt(o[3]),bytesPerLine:parseInt(o[4])};e.chromosomeNames.push(a),e.index[a]=c,e.chromosomes[a]=new Dm(a,s++,0,l)}}return e.index}))},xg.prototype.loadAll=function(){var e=this;return this.isDataURI?Promise.resolve(t(this.file)):og.load(e.file,Sm(e.config)).then(t);function t(t){for(var n,r,i=rm(t),s=i.length,o=0,a="",l=void 0,c=0,h=0;o<s;)if((n=i[o++].trim()).startsWith("#")||0===n.length);else if(n.startsWith(">")){a&&(e.chromosomeNames.push(r),e.sequences[r]=a,e.chromosomes[r]=new Dm(r,h++,c,c+a.length,l));var u=n.substr(1).split(/\s+/)[0].split(":");if(r=u[0],a="",c=0,l=void 0,u.length>1&&u[1].indexOf("-")>0){var d=u[1].split("-");2===d.length&&/^[0-9]+$/.test(d[0])&&/^[0-9]+$/.test(d[1]);var p=Number.parseInt(d[0]);Number.parseInt(d[1])>p&&(e.offsets[r]=c=p-1,l=u[1])}}else a+=n;a&&(e.chromosomeNames.push(r),e.sequences[r]=a,e.chromosomes[r]=new Dm(r,h++,c,c+a.length,l))}},xg.prototype.readSequence=function(e,t,n){var r,i,s,o,a,l=this;return l.getIndex().then((function(){var c=l.index[e];if(c){i=Math.max(0,t),s=Math.min(c.size,n);var h=c.bytesPerLine,u=c.position;a=h-(o=c.basesPerLine);var d=Math.floor(i/o),p=Math.floor(s/o),f=u+d*h+(r=i-d*o),m=u+p*h+(s-p*o)-1-f+1;return m<=0?(console.error("No sequence for "+e+":"+t+"-"+n),""):og.load(l.file,Sm(l.config,{range:{start:f,size:m}}))}return l.interval=new Tm(e,t,n,null),null})).then((function(e){if(e){var t,n="",l=0,c=e.length;for(r>0&&(t=Math.min(s-i,o-r),n+=e.substr(l,t),l+=t+a);l<c;)t=Math.min(o,c-l),n+=e.substr(l,t),l+=t+a;return n}return null}))};var Cg,Eg,Rg={loadGenome:(Eg=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cytobandURL,r=t.aliasURL,i=new xg(t),e.next=5,i.init();case 5:if(!n){e.next=9;break}return e.next=8,Tg(n,i.config);case 8:s=e.sent;case 9:if(!r){e.next=13;break}return e.next=12,Dg(r,i.config);case 12:o=e.sent;case 13:return e.abrupt("return",new Ag(t,i,s,o));case 14:case"end":return e.stop()}}),e)}))),function(e){return Eg.apply(this,arguments)}),getKnownGenomes:(Cg=Un(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t={};return e.forEach((function(e){t[e.id]=e})),bg=t,t},t=Rg.genomeList,!bg){e.next=6;break}return e.abrupt("return",bg);case 6:if(t){e.next=10;break}return e.abrupt("return",{});case 10:if("string"!=typeof t){e.next=17;break}return e.next=13,og.loadJson(t,{});case 13:return e.abrupt("return",n(e.sent));case 17:return e.abrupt("return",n(t));case 18:case"end":return e.stop()}}),e)}))),function(){return Cg.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.chrName.toLowerCase()}},Ag=function(e,t,n,r){this.config=e,this.id=e.id,this.sequence=t,this.chromosomeNames=t.chromosomeNames,this.chromosomes=t.chromosomes,this.ideograms=n,this.wholeGenomeView=void 0===e.wholeGenomeView||e.wholeGenomeView,this.wholeGenomeView&&Object.keys(t.chromosomes).length>1?function(e,t){var n;if(t.chromosomeOrder)e.wgChromosomeNames=t.chromosomeOrder.split(",").map((function(e){return e.trim()})),n=e.wgChromosomeNames.map((function(t){return e.chromosomes[t]})).filter((function(e){return void 0!==e}));else{var r=Object.keys(e.chromosomes).map((function(t){return e.chromosomes[t].bpLength})).reduce((function(e,t){return Math.max(e,t)}))/50,i=(n=Object.values(e.chromosomes).filter((function(e){return e.bpLength>r}))).filter((function(e){return p(e.name.replace("chr",""))})),s=n.filter((function(e){return!p(e.name.replace("chr",""))}));i.sort((function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))}));var o=i.map((function(e){return e.name})),a=!0,l=!1,c=void 0;try{for(var h,u=s[Symbol.iterator]();!(a=(h=u.next()).done);a=!0)o.push(h.value.name)}catch(f){l=!0,c=f}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}e.wgChromosomeNames=o}var d=n.reduce((function(e,t){return e+t.bpLength}),0);function p(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:d}}(this,e):this.wgChromosomeNames=t.chromosomeNames;var i={},s=this;i.all="all",this.chromosomeNames.forEach((function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;i[t.toLowerCase()]=e,"chrM"===e&&(i.mt="chrM"),"MT"===e&&(i.chrm="MT"),i[e.toLowerCase()]=e})),r&&r.forEach((function(e){var t,n;for(n=0;n<e.length;n++)if(s.chromosomes[e[n]]){t=e[n];break}t&&e.forEach((function(e){e!==t&&(i[e.toLowerCase()]=t,i[e]=t)}))})),this.chrAliasTable=i};function Ig(){var e={},t=0,n=!0,r=!1,i=void 0;try{for(var s,o=this.wgChromosomeNames[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;e[a]=Math.floor(t),t+=this.getChromosome(a).bpLength}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e}function Tg(e,t){if(e.startsWith("data:")){var n=function(e){var t;if(e.startsWith("data:application/gzip;base64"))t=qm(e);else{var n,r=e.split(","),i=r[0].split(":")[1],s=r[1];s=i.indexOf("base64")>=0?atob(s):decodeURI(s),n=new Uint8Array(s.length);for(var o=0;o<s.length;o++)n[o]=s.charCodeAt(o);t=new Qf.Gunzip(n).decompress()}for(var a="",l=t.length,c=0;c<l;c++)a+=String.fromCharCode(t[c]);return a}(e);return Promise.resolve(r(n))}return og.loadString(e,Sm(t)).then((function(e){return r(e)}));function r(e){for(var t,n=[],r=0,i=rm(e),s=i.length,o={},a=0;a<s;a++){var l=i[a].split("\t"),c=l[0];if(t||(t=c),c!==t&&(o[t]=n,n=[],t=c,r=0),5===l.length){var h=parseInt(l[1]),u=parseInt(l[2]);n[r++]=new Im(h,u,l[3],l[4])}}return o}}function Dg(e,t){return og.loadString(e,Sm(t)).then((function(e){var t=rm(e),n=[];return t.forEach((function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))})),n}))}Ag.prototype.showWholeGenomeView=function(){return!1!==this.config.wholeGenomeView},Ag.prototype.toJSON=function(){return Object.assign({},this.config,{tracks:void 0})},Ag.prototype.getInitialLocus=function(){},Ag.prototype.getHomeChromosomeName=function(){if(this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all"))return"all";var e=this.chromosomes[this.chromosomeNames[0]];return e.rangeLocus?e.name+":"+e.rangeLocus:this.chromosomeNames[0]},Ag.prototype.getChromosomeName=function(e){return this.chrAliasTable[e.toLowerCase()]||e},Ag.prototype.getChromosome=function(e){return e=this.getChromosomeName(e),this.chromosomes[e]},Ag.prototype.getCytobands=function(e){return this.ideograms?this.ideograms[e]:null},Ag.prototype.getLongestChromosome=function(){var e,t=this.chromosomes;for(var n in t){if(t.hasOwnProperty(n)){var r=t[n];(void 0===e||r.bpLength>e.bpLength)&&(e=r)}return e}},Ag.prototype.getChromosomes=function(){return this.chromosomes},Ag.prototype.getGenomeCoordinate=function(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t},Ag.prototype.getChromosomeCoordinate=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Ig.call(this));var t=void 0,n=0,r=!0,i=!1,s=void 0;try{for(var o,a=this.wgChromosomeNames[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=this.cumulativeOffsets[l];if(c>e)return{chr:t,position:e-n};t=l,n=c}}catch(h){i=!0,s=h}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}},Ag.prototype.getCumulativeOffset=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Ig.call(this));var t=this.getChromosomeName(e);return this.cumulativeOffsets[t]},Ag.prototype.getGenomeLength=function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach((function(n){t+=e.chromosomes[n].bpLength})),this.bpLength=t}return this.bpLength};var Og=function(){function e(t,n,r,i){Hn(this,e);var s=this;this.guid=um(),this.trackView=t,this.genomicState=r,this.browser=t.browser,this.$viewport=Ya('<div class="igv-viewport-div">'),n.append(this.$viewport),this.$viewport.data("viewportGUID",this.guid);var o=Ya("<div>",{class:"igv-viewport-content-div"});this.$viewport.append(o),o.height(this.$viewport.height()),this.contentDiv=o.get(0);var a=Ya("<canvas>");if(Ya(this.contentDiv).append(a),this.canvas=a.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(i),"sequence"===t.track.type&&this.$viewport.addClass("igv-viewport-sequence"),"ruler"===t.track.type)this.rulerSweeper=new Rm(this),t.track.appendMultiPanelCloseButton(this.$viewport,this.genomicState),this.$rulerLabel=Ya('<div class = "igv-multi-locus-panel-label-div">'),this.$rulerLabel.click((function(e){s.browser.selectMultiLocusPanelWithGenomicState(s.genomicState)})),Ya(this.contentDiv).append(this.$rulerLabel),!0===Rg.isWholeGenomeView(this.genomicState.referenceFrame)?Fg.call(this):Ng.call(this);else if(jg.call(this),this.$spinner=Ya('<div class="igv-viewport-spinner">'),this.$spinner.append(kd("spinner")),this.$viewport.append(this.$spinner),this.stopSpinner(),"sequence"!==t.track.type){this.popover=new pm(this.browser.$content);var l=t.track.name.toLowerCase().split(" ").join("_");l=l+"_"+this.browser.genomicStateList.indexOf(this.genomicState),this.popover.$popover.attr("id",l),this.$zoomInNotice=Mg.call(this,Ya(this.contentDiv))}t.track.name&&(this.$trackLabel=Ya('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(t.track.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide(),this.$trackLabel.click((function(e){var n;e.stopPropagation(),n="function"==typeof t.track.description?t.track.description():t.track.description?t.track.description:t.track.name;var r=cm(e);s.popover.presentTrackContent(r.x,r.y,n)})),this.$trackLabel.mousedown((function(e){e.stopPropagation()})),this.$trackLabel.mouseup((function(e){e.stopPropagation()})),this.$trackLabel.mousemove((function(e){e.stopPropagation()})))}var t,n,r,i,s;return Gn(e,[{key:"isVisible",value:function(){return this.$viewport.width()}},{key:"setTrackLabel",value:function(e){this.trackView.track.name=this.trackView.track.config.name=e,this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}},{key:"setWidth",value:function(e){this.$viewport.outerWidth(e),this.canvas.style.width=this.$viewport.width()+"px",this.canvas.setAttribute("width",this.$viewport.width())}},{key:"startSpinner",value:function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())}},{key:"stopSpinner",value:function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))}},{key:"showMessage",value:function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}},{key:"hideMessage",value:function(e){this.messageDiv&&(this.messageDiv.style.display="none")}},{key:"checkZoomIn",value:function(){return!(!Lg.call(this)||this.$zoomInNotice&&((function(){var e=this.genomicState.referenceFrame;if("all"!==e.chrName.toLowerCase()||this.trackView.track.supportsWholeGenome()){var t="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return void 0!==t&&t>0&&e.bpPerPixel*this.$viewport.width()>t}return!0}).call(this)?(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight&&this.setContentHeight(this.trackView.minHeight||0),1):(this.$zoomInNotice.hide(),0)))}},{key:"shift",value:function(){var e=this.genomicState.referenceFrame;if(this.canvas&&this.tile&&this.tile.chr===e.chrName&&this.tile.bpPerPixel===e.bpPerPixel){var t=Math.round((this.tile.startBP-e.start)/e.bpPerPixel);this.canvas.style.left=t+"px"}}},{key:"setTop",value:function(e){var t=-e,n=t+this.$viewport.height();Ya(this.contentDiv).css("top",e+"px"),(!this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}},{key:"loadFeatures",value:(s=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a,l,c,h,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.browser.genome.getChromosome((t=this.genomicState.referenceFrame).chrName).bpLength,r=3*Ya(this.contentDiv).width(),i=r*t.bpPerPixel,s=Math.floor(Math.max(0,t.start-i/3)),o=Math.ceil(Math.min(n,s+i)),!this.loading||this.loading.start!==s||this.loading.end!==o){e.next=10;break}return e.abrupt("return",void 0);case 10:return this.loading={start:s,end:o},this.startSpinner(),e.prev=12,e.next=15,this.getFeatures(this.trackView.track,t.chrName,s,o,t.bpPerPixel);case 15:if(a=e.sent,l=[],v=this.trackView.track.roi,!(c=(g=this.browser.roi)&&v?g.concat(v):g||v)){e.next=47;break}h=!0,u=!1,d=void 0,e.prev=22,p=c[Symbol.iterator]();case 24:if(h=(f=p.next()).done){e.next=33;break}return m=f.value,e.next=28,m.getFeatures(t.chrName,s,o,t.bpPerPixel);case 28:l.push({track:m,features:e.sent});case 30:h=!0,e.next=24;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(22),u=!0,d=e.t0;case 39:e.prev=39,e.prev=40,h||null==p.return||p.return();case 42:if(e.prev=42,!u){e.next=45;break}throw d;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return this.tile=new Bg(t.chrName,s,o,t.bpPerPixel,a,l),this.loading=!1,this.hideMessage(),this.stopSpinner(),e.abrupt("return",this.tile);case 54:e.prev=54,e.t1=e.catch(12),this.showMessage("Error loading track data"),console.error(e.t1);case 58:return e.prev=58,this.loading=!1,this.stopSpinner(),e.finish(58);case 62:case"end":return e.stop()}var g,v}),e,this,[[12,54,58,62],[22,35,39,47],[40,,42,46]])}))),function(){return s.apply(this,arguments)})},{key:"repaint",value:(i=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=this.tile){e.next=4;break}return e.abrupt("return");case 4:if(r=Rg.isWholeGenomeView(this.genomicState.referenceFrame),i=n.features,s=n.roiFeatures,a=(o=this.genomicState).referenceFrame,l=r?a.initialEnd/this.$viewport.width():n.bpPerPixel,c=r?0:n.startBP,h=r?a.initialEnd:n.endBP,u=r?this.$viewport.width():Math.ceil((h-c)/l),d=this.$viewport.height(),p=Math.min(t.getContentHeight(),3*d),0!==u&&0!==p){e.next=18;break}return t.canvas&&Ya(t.canvas).remove(),e.abrupt("return");case 18:f=Math.max(0,-Ya(this.contentDiv).position().top-d),m="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,g={features:i,pixelWidth:u,pixelHeight:p,pixelTop:f,bpStart:c,bpEnd:h,bpPerPixel:l,referenceFrame:a,genomicState:o,selection:t.selection,viewport:t,viewportWidth:t.$viewport.width(),viewportContainerX:a.toPixels(a.start-c),viewportContainerWidth:this.browser.viewportContainerWidth()},(v=Ya("<canvas>").get(0)).style.width=u+"px",v.style.height=p+"px",v.width=m*u,v.height=m*p,(y=v.getContext("2d")).scale(m,m),b=Math.round((c-a.start)/a.bpPerPixel),v.style.position="absolute",v.style.left=b+"px",v.style.top=f+"px",g.context=y,y.translate(0,-f),this.draw(g,i,s),this.canvasVerticalRange={top:f,bottom:f+p},t.canvas&&Ya(t.canvas).remove(),Ya(t.contentDiv).append(v),t.canvas=v,t.ctx=y;case 40:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"draw",value:function(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r=!0,i=!1,s=void 0;try{for(var o,a=n[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;e.features=l.features,l.track.draw(e)}}catch(c){i=!0,s=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}}},{key:"toSVG",value:(r=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c,h,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return n=this.genomicState.referenceFrame,r=t.bpPerPixel,i=t.features,s=t.roiFeatures,o=this.$viewport.width(),a=this.$viewport.height(),l=n.start,c=n.start+o*n.bpPerPixel,h=new ed({width:o,height:a,viewbox:{x:0,y:-Ya(this.contentDiv).position().top,width:o,height:a}}),u={viewport:this,context:h,top:-Ya(this.contentDiv).position().top,pixelTop:0,pixelWidth:o,pixelHeight:a,bpStart:l,bpEnd:c,bpPerPixel:r,referenceFrame:n,genomicState:this.genomicState,selection:this.selection,viewportWidth:o,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},Pg.call(this,u,i,s),e.abrupt("return",h.getSerializedSvg(!0));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setContentHeight",value:function(e){e=Math.min(e,32e3),Ya(this.contentDiv).height(e),this.tile&&(this.tile.invalidate=!0)}},{key:"getContentHeight",value:function(){return Ya(this.contentDiv).height()}},{key:"getContentTop",value:function(){return this.contentDiv.offsetTop}},{key:"isLoading",value:function(){return this.loading}},{key:"saveImage",value:function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,i=-Ya(this.canvas).position().left*t,s=(-Ya(this.contentDiv).position().top-e)*t,o=this.ctx.getImageData(i,s,n,r),a=document.createElement("canvas"),l=a.getContext("2d");a.width=o.width,a.height=o.height,l.putImageData(o,0,0),km((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",a.toDataURL("image/png"))}}},{key:"renderSVGContext",value:(n=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a,l,c,h,u,d,p,f,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:r=(r=this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),i=this.browser.genomicStateList.indexOf(this.genomicState),s=r.toLowerCase()+"_genomic_state_index_"+i,0===i&&"function"==typeof this.trackView.track.paintAxis&&(o=this.trackView.controlCanvas.getBoundingClientRect(),t.addTrackGroupWithTranslationAndClipRect(s+"_axis",n.deltaX-o.width,n.deltaY,o.width,o.height,0),t.save(),this.trackView.track.paintAxis(t,o.width,o.height),t.restore()),a=Ya(this.contentDiv).position().top,l=n.deltaX+i*t.multiLocusGap,c=n.deltaY+a,h=this.$viewport.get(0).getBoundingClientRect(),t.addTrackGroupWithTranslationAndClipRect(s,l,c,u=h.width,d=h.height,-a),f=(p=this.genomicState.referenceFrame).start,m=p.bpPerPixel,t.save(),g={context:t,viewport:this,referenceFrame:p,genomicState:this.genomicState,pixelWidth:u,pixelHeight:d,viewportWidth:u,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth(),bpStart:f,bpEnd:f+u*m,bpPerPixel:m,selection:this.selection},Pg.call(this,g,this.tile?this.tile.features:[],this.tile?this.tile.roiFeatures:void 0),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&zg.call(this,t),t.restore();case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"saveSVG",value:function(){var e=this.$viewport.width(),t=this.$viewport.height(),n=new ed({width:e,height:t,viewbox:{x:0,y:-Ya(this.contentDiv).position().top,width:e,height:t}}),r=this.genomicState.referenceFrame,i=r.start,s=r.bpPerPixel,o={viewport:this,context:n,top:-Ya(this.contentDiv).position().top,pixelTop:0,pixelWidth:e,pixelHeight:t,bpStart:i,bpEnd:i+e*s,bpPerPixel:s,referenceFrame:this.genomicState.referenceFrame,genomicState:this.genomicState,selection:this.selection,viewportWidth:e,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()};Pg.call(this,o,this.tile.features),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&zg.call(this,n);var a=o.context.getSerializedSvg(!0),l=URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}));km((this.$trackLabel?this.$trackLabel.text():this.trackView.track.id)+".svg",l)}},{key:"dispose",value:function(){var e=this;this.popover&&(this.popover.$popover.off(),this.popover.$popover.empty(),this.popover.$popover.remove()),Ya(this.canvas).off(),Ya(this.canvas).empty(),Ya(this.contentDiv).off(),Ya(this.contentDiv).empty(),this.$viewport.off(),this.$viewport.empty(),Object.keys(this).forEach((function(t,n,r){e[t]=void 0}))}},{key:"getCachedFeatures",value:function(){return this.tile?this.tile.features:[]}},{key:"checkContentHeight",value:function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t){var n=e.computePixelHeight(t);n!==Ya(this.contentDiv).height()&&this.setContentHeight(n)}}}},{key:"getFeatures",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r,i,s){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tile||!this.tile.containsRange(n,r,i,s)){e.next=4;break}return e.abrupt("return",this.tile.features);case 4:if("function"!=typeof t.getFeatures){e.next=13;break}return e.next=7,t.getFeatures(n,r,i,s,this);case 7:return this.cachedFeatures=o=e.sent,this.checkContentHeight(),e.abrupt("return",o);case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,s){return t.apply(this,arguments)})}]),e}();function Mg(e){var t=Ya('<div class="zoom-in-notice-container">');e.append(t);var n=Ya("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}function Pg(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r=!0,i=!1,s=void 0;try{for(var o,a=n[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;e.features=l.features,l.track.draw(e)}}catch(c){i=!0,s=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}}function Lg(){return this.browser&&this.browser.genomicStateList&&this.genomicState.referenceFrame}function Fg(){var e=this.browser.genomicStateList.indexOf(this.genomicState),t=this;this.$viewport.on("click.ruler_track_viewport_"+e,(function(e){var n,r=hm(e,t.$viewport.get(0)).x,i=Math.round(t.genomicState.referenceFrame.start+t.genomicState.referenceFrame.toBP(r));if(1===t.browser.genomicStateList.length)n=t.browser.genome.getChromosomeCoordinate(i).chr;else{var s=t.browser.genomicStateList.map((function(e){return e.locusSearchString}));s[t.browser.genomicStateList.indexOf(t.genomicState)]=t.browser.genome.getChromosomeCoordinate(i).chr,n=s.join(" ")}t.browser.search(n)}))}function Ng(){var e=this.browser.genomicStateList.indexOf(this.genomicState);this.$viewport.off(".ruler_track_viewport_"+e)}function zg(e){var t,n,r,i,s,o,a=(t=this.$viewport.get(0),n=this.$trackLabel.get(0),i=(r=t.getBoundingClientRect()).x,s=r.y,{x:(o=n.getBoundingClientRect()).x-i,y:o.y-s,width:o.width,height:o.height}),l=a.x,c=a.y,h=a.width,u=a.height,d=e.measureText(this.$trackLabel.text()).width;e.fillStyle="white",e.fillRect(l,c,h,u),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var p=.25*(h-d),f=.7*(u-12);e.fillText(this.$trackLabel.text(),l+p,c+u-f),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(l,c,h,u)}var Bg=function(e,t,n,r,i,s){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=i,this.roiFeatures=s};function jg(){var e,t=this,n=this.browser,r=0;function i(e){if(t.browser.dragObject||t.browser.isScrolling)return t.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),void(t.enableClick=!1);t.browser.cancelTrackPan(),t.browser.endTrackDrag()}function s(e,t){var n=t.genomicState.referenceFrame,r=hm(e,t.contentDiv),i=hm(e,t.canvas),s=n.start+n.toBP(r.x);if(void 0!==s&&null!==t.tile)return{viewport:t,referenceFrame:n,genomicLocation:s,x:r.x,y:r.y,canvasX:i.x,canvasY:i.y}}this.$viewport.on("contextmenu",(function(e){if(t.browser.dragObject)return!1;var n=s(e,t);if(void 0===n)return!1;e.preventDefault();var r=[];"function"==typeof t.trackView.track.contextMenuItemList&&(r=t.trackView.track.contextMenuItemList(n)),r.length>0&&r.push({label:Ya("<HR>")}),r.push({label:"Save Image (PNG)",click:function(){t.saveImage()}}),r.push({label:"Save Image (SVG)",click:function(){t.saveSVG()}}),t.popover&&t.popover.presentTrackContextMenu(e,r)})),this.$viewport.on("mousedown",(function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),cm(e)})),this.$viewport.on("touchstart",(function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),cm(e)})),this.$viewport.on("mouseup",i),this.$viewport.on("touchend",i),this.$viewport.on("click",(function(i){t.enableClick&&function(i){if(3!==i.which&&!i.ctrlKey&&(Ya(".igv-popover").hide(),!n.dragObject&&!n.isScrolling)){i.preventDefault(),i.stopPropagation();var o=hm(i,t.$viewport.get(0)).x,a=hm(i,t.canvas).x,l=t.genomicState.referenceFrame,c=Math.floor(l.start+l.toBP(a)),h=Date.now();if(h-r<n.constants.doubleClickDelay){e&&(window.clearTimeout(e),e=void 0);var u,d=Math.round(l.start+l.toBP(o));if("all"===l.chrName.toLowerCase()){var p=n.genome.getChromosomeCoordinate(d).chr;if(1===n.genomicStateList.length)u=p;else{var f=n.genomicStateList.map((function(e){return e.locusSearchString}));f[n.genomicStateList.indexOf(t.genomicState)]=p,u=f.join(" ")}n.search(u)}else n.zoomWithScaleFactor(.5,d,t)}else i.shiftKey&&"function"==typeof t.trackView.track.shiftClick?t.trackView.track.shiftClick(c,i):"function"==typeof t.trackView.track.popupData&&(e=setTimeout((function(){var r=function(e,t){var r=s(e,t);if(void 0!==r){var i,o,a=t.trackView.track,l=a.popupData(r),c=n.fireEvent("trackclick",[a,l]);return void 0===c||!0===c?l&&l.length>0&&(o='<table class="igv-popover-table">',l.forEach((function(e){o+=e.name?'<tr><td class="igv-popover-td"><div class="igv-popover-name-value"><span class="igv-popover-name">'+e.name+'</span><span class="igv-popover-value">'+e.value+"</span></div></td></tr>":"<tr><td>"+e.toString()+"</td></tr>"})),i=o+="</table>"):"string"==typeof c&&(i=c),i}}(i,t);if(r){var o=cm(i);t.popover.presentTrackContent(o.x,o.y,r)}clearTimeout(e),e=void 0}),n.constants.doubleClickDelay));r=h}}(i)}))}Bg.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},Bg.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};var Vg={color:1};Vg.parent=Vg,Vg.left=Vg,Vg.right=Vg;var $g=function(){this.root=Vg};function Ug(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==Vg&&t.left.max>=e.low&&Ug.call(this,e,t.left,n),t.right!==Vg&&t.right.min<=e.high&&Ug.call(this,e,t.right,n),n}function Hg(e){var t=e.right;e.right=t.left,t.left!==Vg&&(t.left.parent=e),t.parent=e.parent,e.parent===Vg?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Gg.call(this,e)}function qg(e){var t=e.left;e.left=t.right,t.right!==Vg&&(t.right.parent=e),t.parent=e.parent,e.parent===Vg?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Gg.call(this,e)}function Gg(e){for(;e!==Vg;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,i=e.interval.low;e.min=r<i?r:i,e=e.parent}}function Wg(e,t,n){this.low=e,this.high=t,this.value=n}function Yg(e){this.parent=Vg,this.left=Vg,this.right=Vg,this.interval=e,this.color=2}$g.prototype.insert=function(e,t,n){var r=new Yg(new Wg(e,t,n));for(this.treeInsert(r),r.color=2;r!==this.root&&2===r.parent.color;)if(r.parent===r.parent.parent.left){var i=r.parent.parent.right;2===i.color?(r.parent.color=1,i.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.right&&Hg.call(this,r=r.parent),r.parent.color=1,r.parent.parent.color=2,qg.call(this,r.parent.parent))}else{var s=r.parent.parent.left;2===s.color?(r.parent.color=1,s.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.left&&qg.call(this,r=r.parent),r.parent.color=1,r.parent.parent.color=2,Hg.call(this,r.parent.parent))}this.root.color=1},$g.prototype.findOverlapping=function(e,t){var n=new Wg(e,t,0);if(this.root===Vg)return[];var r=Ug.call(this,n,this.root,[]);return r.length>1&&r.sort((function(e,t){return e.low-t.low})),r},$g.prototype.logIntervals=function(){!function e(t,n){t.left!==Vg&&e(t.left),t.right!==Vg&&e(t.right)}(this.root)},$g.prototype.mapIntervals=function(e){!function t(n){e(n.interval),n.left!==Vg&&t(n.left),n.right!==Vg&&t(n.right)}(this.root)},$g.prototype.treeInsert=function(e){for(var t=this.root,n=Vg;t!==Vg;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===Vg?(this.root=e,e.left=e.right=Vg):e.interval.low<=n.interval.low?n.left=e:n.right=e,Gg.call(this,e)},Wg.prototype.equals=function(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)},Wg.prototype.compareTo=function(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0},Wg.prototype.overlaps=function(e){try{return this.low<=e.high&&e.low<=this.high}catch(t){Jm.presentAlert(t,void 0)}};var Zg=function(e,t,n){if(e&&0!==e.length){var r=function(e){var t=new $g,n=e.length,r=Math.max(10,Math.round(n/100));e.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}));for(var i=function(i){var s=Math.min(n,i+r),o=e.slice(i,s),a=o[0].start,l=a;o.forEach((function(e){l=Math.max(l,e.end)})),t.insert(a,l,o)},s=0;s<n;s+=r)i(s);return t}(e).findOverlapping(t,n);return 0===r.length?[]:(e=[],r.forEach((function(r){for(var i=r.value,s=i.length,o=0;o<s;o++){var a=i[o];if(a.start>n)break;a.end>t&&e.push(a)}})),e.sort((function(e,t){return e.start-t.start})),e)}return[]},Xg=Math.log,Kg=Math.LOG10E;Te({target:"Math",stat:!0},{log10:function(e){return Xg(e)*Kg}});var Qg={setProperties:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},strokeLine:function(e,t,n,r,i,s){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,i=Math.floor(i)+.5,s&&(e.save(),Qg.setProperties(e,s)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),s&&e.restore()},fillRect:function(e,t,n,r,i,s){t=Math.round(t),n=Math.round(n),s&&(e.save(),Qg.setProperties(e,s)),e.fillRect(t,n,r,i),s&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),Qg.setProperties(e,r)),Jg(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),Qg.setProperties(e,r)),Jg(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,i,s){if((i||s)&&e.save(),i&&Qg.setProperties(e,i),s){for(var o in e.translate(n,r),s){var a=s[o];"translate"===o&&e.translate(a.x,a.y),"rotate"===o&&e.rotate(a.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(i||s)&&e.restore()},strokeText:function(e,t,n,r,i,s){if((i||s)&&e.save(),i&&Qg.setProperties(e,i),s){for(var o in e.translate(n,r),s){var a=s[o];"translate"===o&&e.translate(a.x,a.y),"rotate"===o&&e.rotate(a.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(i||s)&&e.restore()},strokeCircle:function(e,t,n,r,i){i&&(e.save(),Qg.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke(),i&&e.restore()},fillCircle:function(e,t,n,r,i){i&&(e.save(),Qg.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.restore()},drawArrowhead:function(e,t,n,r,i){e.save(),r||(r=5),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,r,i,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===s&&(s=2),e.setLineDash([s,s]),Qg.strokeLine(e,t,n,r,i,o),e.setLineDash([])},roundRect:function(e,t,n,r,i,s,o,a){void 0===a&&(a=!0),void 0===s&&(s=5),e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),a&&e.stroke(),o&&e.fill()},polygon:function(e,t,n,r,i){void 0===i&&(i=!0),e.beginPath();var s=t.length;e.moveTo(t[0],n[0]);for(var o=1;o<s;o++)e.lineTo(t[o],n[o]);e.closePath(),i&&e.stroke(),r&&e.fill()}};function Jg(e,t,n){var r,i=t.length;for(r=0;r<i;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<i;r++)e.lineTo(t[r],n[r]);e.closePath()}var ev=function(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=-Number.MAX_SAFE_INTEGER,this.removable=!1,this.type="ruler"};function tv(e){e.context.save(),Qg.fillRect(e.context,0,0,e.pixelWidth,e.pixelHeight,{fillStyle:"white"});var t=e.pixelHeight,n=!0,r=!1,i=void 0;try{for(var s,o=this.browser.genome.wgChromosomeNames[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=this.browser.genome.getCumulativeOffset(a),c=this.browser.genome.getChromosome(a).bpLength,h=Math.round(l/e.bpPerPixel),u=Math.round(c/e.bpPerPixel);nv.call(this,e.context,h,0,u,t,a)}}catch(d){r=!0,i=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e.context.restore()}function nv(e,t,n,r,i,s){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",Qg.strokeLine(e,t+r,n,t+r,n+i,{strokeStyle:om.greyScale(191)});var o=s.startsWith("chr")?s.substring(3):s;r>e.measureText(o).width&&Qg.fillText(e,o,t+r/2,n+i/2,{fillStyle:om.greyScale(68)})}ev.prototype.updateLocusLabel=function(){this.trackView.viewports.forEach((function(e){var t;t=e.genomicState.referenceFrame.showLocus(e.$viewport.width()),e.$rulerLabel.text(t)}))},ev.prototype.appendMultiPanelCloseButton=function(e,t){var n,r=this.browser;e.addClass("igv-viewport-ruler"),n=Ya('<div class="igv-multi-locus-panel-close-container">'),e.append(n),n.append(kd("times-circle")),n.click((function(e){r.removeMultiLocusPanelWithGenomicState(t,!0)}))},ev.prototype.getFeatures=function(e,t,n){return Promise.resolve([])},ev.prototype.computePixelHeight=function(e){return this.height},ev.prototype.draw=function(e){if(Rg.isWholeGenomeView(e.referenceFrame))e.viewport.rulerSweeper.disableMouseHandlers(),tv.call(this,e);else{e.viewport.rulerSweeper.addMouseHandlers();var t=1+Math.floor(e.referenceFrame.toBP(e.pixelWidth));new rv(t,e).drawTicks(e,6,2,this.height),Qg.strokeLine(e.context,0,this.height-2,e.pixelWidth,this.height-2)}},ev.prototype.supportsWholeGenome=function(){return!0},ev.prototype.dispose=function(){};var rv=function(e,t){function n(e,t,n,r){this.majorTick=!0===r?2*e:e,this.majorUnit=t,this.halfTick=e/2,this.unitMultiplier=n}(function(e,t){var r,i,s,o,a=t.context.isSVG||!1;e<10&&n.call(this,1,"bp",1,a),(r=Math.floor(Math.log10(e)))>9?(i="gb",s=1e9):r>6?(i="mb",s=1e6):r>3?(i="kb",s=1e3):(i="bp",s=1),o=nm(Math.floor(e/s))+" "+i,this.labelWidthBP=Math.round(t.referenceFrame.toBP(t.context.measureText(o).width)),e/Math.pow(10,r-1)<25?n.call(this,Math.pow(10,r-1),i,s,a):n.call(this,Math.pow(10,r)/2,i,s,a)}).call(this,e,t)};rv.prototype.drawTicks=function(e,t,n,r){var i,s,o,a,l,c,h;for(i=Math.floor(e.bpStart/this.majorTick)-1,l=0,c=0,o=0;o<e.pixelWidth;)s=Math.floor(i*this.majorTick),o=Math.round(e.referenceFrame.toPixels(s-1-e.bpStart+.5)),a=nm(Math.floor(s/this.unitMultiplier))+" "+this.majorUnit,l=e.context.measureText(a).width,c=Math.round(o-l/2),Qg.fillText(e.context,a,c,r-t/.75),Qg.strokeLine(e.context,o,r-t,o,r-n),++i;for(i=Math.floor(e.bpStart/this.halfTick)-1,o=0;o<e.pixelWidth;)s=Math.floor(i*this.halfTick),o=Math.round(e.referenceFrame.toPixels(s-1-e.bpStart+.5)),(h=s/this.unitMultiplier)===Math.floor(h)&&this.majorTick/this.labelWidthBP>8&&(a=nm(Math.floor(h))+" "+this.majorUnit,l=e.context.measureText(a).width,Qg.fillText(e.context,a,c=o-l/2,r-t/.75)),Qg.strokeLine(e.context,o,r-t,o,r-n),++i},rv.prototype.description=function(e){};var iv=vd.trackMenuItemListHelper,sv=function(e){this.$popover=Ya("<div>",{class:"igv-trackgear-popover"}),e.append(this.$popover);var t=Ya("<div>",{class:"igv-trackgear-popover-header"});this.$popover.append(t);var n=this;am(t,(function(){n.$popover.hide()})),this.$popoverContent=Ya("<div>"),this.$popover.append(this.$popoverContent),td(this.$popover.get(0),t.get(0)),t.on("click.track_gear_popover",(function(e){e.stopPropagation(),e.preventDefault()}))};sv.prototype.presentMenuList=function(e,t,n){if(n.length>0){this.$popoverContent.empty(),n=iv(n,this.$popover);var r=!0,i=!1,s=void 0;try{for(var o,a=n[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;l.init&&l.init();var c=l.object;0===n.indexOf(l)&&c.removeClass("igv-track-menu-border-top"),c.hasClass("igv-track-menu-border-top")||c.hasClass("igv-trackgear-popover-check-container")||c.is("div")&&c.addClass("igv-trackgear-popover-shim"),this.$popoverContent.append(c)}}catch(h){i=!0,s=h}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}this.$popover.css({left:e+"px",top:t+"px"}),this.$popover.show()}},sv.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(e){this[e]=void 0}))};var ov=function(e){var t,n=e.$parent,r=e.width,i=e.height,s=e.closeHandler;this.namespace=".generic_container_"+um();var o=Ya("<div>",{class:"igv-generic-container"});n.append(o),this.$container=o,r&&this.$container.width(r),i&&this.$container.height(i);var a=n.get(0).getBoundingClientRect();this.origin={x:a.x,y:a.y},this.$container.offset({left:this.origin.x,top:this.origin.y}),t=Ya("<div>"),this.$container.append(t);var l=Ya("<i>");t.append(l),l.append(kd("times")),l.on("mousedown"+this.namespace,(function(e){e.stopPropagation()})),l.on("mouseup"+this.namespace,(function(e){e.stopPropagation()})),l.on("click"+this.namespace,(function(e){e.preventDefault(),e.stopPropagation(),s(e)})),l.on("touchend"+this.namespace,(function(e){e.preventDefault(),e.stopPropagation(),s(e)})),td(this.$container.get(0),t.get(0))},av=function(e,t,n){var r,i,s=this;this.browser=e,this.track=n,n.trackView=this,i=Ya('<div class="igv-track-div">'),this.trackDiv=i.get(0),t.append(i),this.namespace=".trackview_"+um(),this.track instanceof ev&&(this.trackDiv.dataset.rulerTrack="rulerTrack"),n.height&&(this.trackDiv.style.height=n.height+"px"),this.appendLeftHandGutter(Ya(this.trackDiv)),this.$viewportContainer=Ya('<div class="igv-viewport-container">'),Ya(this.trackDiv).append(this.$viewportContainer),this.viewports=[],r=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,e.genomicStateList.forEach((function(e){var t;t=new Og(s,s.$viewportContainer,e,r),s.viewports.push(t)})),this.decorateViewports(),this.configureViewportContainer(this.$viewportContainer,this.viewports),!0===this.track.ignoreTrackMenu||this.appendRightHandGutter(Ya(this.trackDiv)),this.track instanceof ev||hv.call(this,Ya(this.trackDiv),this.$viewportContainer),"sequence"===this.track.type||this.track instanceof ev||this.createColorPicker()};function lv(e){var t=Ya("<div>",{class:"igv-trackgear-container"});e.append(t),t.append(kd("cog")),this.trackGearPopover=new sv(e),this.trackGearPopover.$popover.hide();var n=this;t.click((function(e){e.preventDefault(),e.stopPropagation(),n.trackGearPopover.presentMenuList(-n.trackGearPopover.$popover.width(),0,vd.trackMenuItemList(n))}))}function cv(e,t){var n=window.devicePixelRatio;if(this.leftHandGutter){this.controlCanvas&&Ya(this.controlCanvas).remove();var r=Ya('<canvas class ="igv-track-control-canvas">');this.controlCanvas=r[0],Ya(this.leftHandGutter).append(r),this.controlCanvas.height=n*t,this.controlCanvas.width=n*e,this.controlCanvas.style.height=t+"px",this.controlCanvas.style.width=e+"px",this.controlCtx=this.controlCanvas.getContext("2d"),this.controlCtx.scale(n,n)}}function hv(e,t){var n=this,r=this.browser;this.$trackDragScrim=Ya('<div class="igv-track-drag-scrim">'),t.append(this.$trackDragScrim),this.$trackDragScrim.hide(),n.$trackManipulationHandle=Ya('<div class="igv-track-manipulation-handle">'),e.append(n.$trackManipulationHandle),n.$trackManipulationHandle.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.show(),r.startTrackDrag(n)})),n.$trackManipulationHandle.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),r.endTrackDrag(),n.$trackDragScrim.hide()})),e.on("mouseenter",(function(e){r.dragTrack&&(e.preventDefault(),e.stopPropagation(),r.updateTrackDrag(n))})),n.$trackManipulationHandle.on("mouseleave",(function(e){r.dragTrack||(e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.hide())}))}function uv(e){return this.viewports.filter((function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.genomicState.referenceFrame,r=n.chrName,i=n.start,s=i+n.toBP(Ya(t.contentDiv).width());return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,i,s,n.bpPerPixel)}return!1}))}function dv(){var e,t=this.maxContentHeight();if(this.track.autoHeight?this.setTrackHeight(t,!1):this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ya(this.controlCanvas).width(),Ya(this.controlCanvas).height()),this.scrollbar){var n=this.viewports[0].getContentTop(),r=Math.min(0,this.$viewportContainer.height()-(e=this.viewports.map((function(e){return e.getContentHeight()})),Math.min.apply(Math,tr(e))));n<r&&this.viewports.forEach((function(e){Ya(e.contentDiv).css("top",r+"px")})),this.scrollbar.update()}}function pv(e){var t=e.map((function(e){return e.getContentHeight()}));return Math.max.apply(Math,tr(t))}av.prototype.renderSVGContext=function(e,t){var n=!0,r=!1,i=void 0;try{for(var s,o=this.viewports[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=a.browser.genomicStateList.indexOf(a.genomicState),c=a.$viewport.get(0).getBoundingClientRect(),h={deltaX:t.deltaX+l*a.$viewport.width(),deltaY:t.deltaY+c.y};a.renderSVGContext(e,h)}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},av.prototype.configureViewportContainer=function(e,t){return"hidden"===e.css("overflow-y")&&(this.scrollbar=new fv(e,t,this.browser.$root),e.append(this.scrollbar.$outerScroll)),e},av.prototype.removeViewportWithLocusIndex=function(e){this.viewports[e].$viewport.remove(),this.viewports.splice(e,1),this.decorateViewports()},av.prototype.decorateViewports=function(){var e=this;this.viewports.forEach((function(t,n){var r;r=t.$viewport,e.viewports.length>1?(r.find(".igv-multi-locus-panel-close-container").show(),r.find(".igv-multi-locus-panel-label-div").show()):(r.find(".igv-multi-locus-panel-close-container").hide(),r.find(".igv-multi-locus-panel-label-div").hide()),n<e.viewports.length&&1+n!==e.viewports.length?r.addClass("igv-viewport-div-border-right"):r.removeClass("igv-viewport-div-border-right")}))},av.prototype.appendLeftHandGutter=function(e){var t,n,r=this;t=Ya('<div class="igv-left-hand-gutter">'),this.leftHandGutter=t[0],e.append(t),"function"==typeof this.track.paintAxis&&(this.track.dataRange&&(t.click((function(e){r.browser.dataRangeDialog.configure({trackView:r}),r.browser.dataRangeDialog.present(Ya(r.trackDiv))})),t.addClass("igv-clickable")),n=Ya('<canvas class ="igv-track-control-canvas">'),t.append(n),this.controlCanvas=n.get(0),cv.call(this,t.outerWidth(),t.outerHeight()))},av.prototype.appendRightHandGutter=function(e){var t=Ya('<div class="igv-right-hand-gutter">');e.append(t),lv.call(this,t)},av.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:void 0},av.prototype.setDataRange=function(e,t,n){void 0!==e&&(this.track.dataRange.min=e,this.track.config.min=e),void 0!==t&&(this.track.dataRange.max=t,this.track.config.max=t),this.track.autoscale=n,this.track.config.autoScale=n,n?this.updateViews():this.repaintViews()},av.prototype.setColor=function(e){this.track.color=e,this.track.config.color=e,this.repaintViews(!0)},av.prototype.createColorPicker=function(){var e=this,t={$parent:Ya(this.trackDiv),width:384,height:void 0,closeHandler:function(){e.colorPicker.$container.hide(),e.colorPicker.$container.get(0).style.top=0,e.colorPicker.$container.get(0).style.left=0}};this.colorPicker=new ov(t),lm(this.colorPicker.$container,(function(t){return e.setColor(t)}),this.track.color),this.colorPicker.$container.hide()},av.prototype.presentColorPicker=function(){this.colorPicker.$container.get(0).style.top=0,this.colorPicker.$container.get(0).style.left=0,this.colorPicker.$container.show()},av.prototype.setTrackHeight=function(e,t,n){n||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,Ya(this.trackDiv).height(e),"function"!=typeof this.track.computePixelHeight&&(this.viewports.forEach((function(t){t.setContentHeight(e),t.tile&&(t.tile.invalidate=!0)})),this.repaintViews()),cv.call(this,Ya(this.leftHandGutter).outerWidth(),e),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ya(this.controlCanvas).width(),Ya(this.controlCanvas).height()),this.scrollbar&&this.scrollbar.update()},av.prototype.isLoading=function(){for(var e=0;e<this.viewports.length;e++)if(this.viewports[e].isLoading())return!0},av.prototype.resize=function(){var e;if(0!=(e=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length)){this.viewports.forEach((function(t){t.setWidth(e)}));var t=Ya(this.leftHandGutter);cv.call(this,t.outerWidth(),t.outerHeight()),this.updateViews(!0)}},av.prototype.repaintViews=function(){this.viewports.forEach((function(e){e.repaint()})),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ya(this.controlCanvas).width(),Ya(this.controlCanvas).height())},av.prototype.updateViews=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C,E,R,A,I,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return");case 2:(n=this.viewports.filter((function(e){return e.isVisible()}))).forEach((function(e){e.shift()})),r=uv.call(this,t),i=!0,s=!1,o=void 0,e.prev=8,a=r[Symbol.iterator]();case 10:if(i=(l=a.next()).done){e.next=17;break}return c=l.value,e.next=14,c.loadFeatures();case 14:i=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),s=!0,o=e.t0;case 23:e.prev=23,e.prev=24,i||null==a.return||a.return();case 26:if(e.prev=26,!s){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:if((h=this.browser.dragObject)||!this.track.autoscale){e.next=54;break}for(u=[],d=!0,p=!1,f=void 0,e.prev=37,m=n[Symbol.iterator]();!(d=(g=m.next()).done);d=!0)_=(b=(y=(v=g.value).genomicState.referenceFrame).start)+y.toBP(Ya(v.contentDiv).width()),v.tile&&v.tile.features&&(u=u.concat(Zg(v.tile.features,b,_)));e.next=45;break;case 41:e.prev=41,e.t1=e.catch(37),p=!0,f=e.t1;case 45:e.prev=45,e.prev=46,d||null==m.return||m.return();case 48:if(e.prev=48,!p){e.next=51;break}throw f;case 51:return e.finish(48);case 52:return e.finish(45);case 53:this.track.dataRange="function"==typeof this.track.doAutoscale?this.track.doAutoscale(u):Cm(u);case 54:if(h||!this.track.autoscale&&!this.track.autoscaleGroup){e.next=76;break}for(w=!0,x=!1,S=void 0,e.prev=58,k=n[Symbol.iterator]();!(w=(C=k.next()).done);w=!0)C.value.repaint();e.next=66;break;case 62:e.prev=62,e.t2=e.catch(58),x=!0,S=e.t2;case 66:e.prev=66,e.prev=67,w||null==k.return||k.return();case 69:if(e.prev=69,!x){e.next=72;break}throw S;case 72:return e.finish(69);case 73:return e.finish(66);case 74:e.next=95;break;case 76:for(E=!0,R=!1,A=void 0,e.prev=79,I=r[Symbol.iterator]();!(E=(T=I.next()).done);E=!0)T.value.repaint();e.next=87;break;case 83:e.prev=83,e.t3=e.catch(79),R=!0,A=e.t3;case 87:e.prev=87,e.prev=88,E||null==I.return||I.return();case 90:if(e.prev=90,!R){e.next=93;break}throw A;case 93:return e.finish(90);case 94:return e.finish(87);case 95:dv.call(this);case 96:case"end":return e.stop()}}),e,this,[[8,19,23,31],[24,,26,30],[37,41,45,53],[46,,48,52],[58,62,66,74],[67,,69,73],[79,83,87,95],[88,,90,94]])})));return function(t){return e.apply(this,arguments)}}(),av.prototype.getInViewFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return",[]);case 2:return n=uv.call(this,t),r=n.map((function(e){return e.loadFeatures()})),e.next=6,Promise.all(r);case 6:for(i=[],s=!0,o=!1,a=void 0,e.prev=10,l=this.viewports[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)(h=c.value).tile&&h.tile.features&&(p=(d=(u=h.genomicState.referenceFrame).start)+u.toBP(Ya(h.contentDiv).width()),i=i.concat(Zg(h.tile.features,d,p)));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,a=e.t0;case 18:e.prev=18,e.prev=19,s||null==l.return||l.return();case 21:if(e.prev=21,!o){e.next=24;break}throw a;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));return function(t){return e.apply(this,arguments)}}(),av.prototype.checkContentHeight=function(){this.viewports.forEach((function(e){e.checkContentHeight()})),dv.call(this)},av.prototype.maxContentHeight=function(){return pv(this.viewports)},av.prototype.dispose=function(){var e=this;this.$trackManipulationHandle&&this.$trackManipulationHandle.off(),this.$innerScroll&&this.$innerScroll.off(),this.scrollbar&&this.scrollbar.dispose(),Ya(document).off(this.namespace),"function"==typeof this.track.dispose&&this.track.dispose();var t=this.track;"function"==typeof t.dispose&&t.dispose(),Object.keys(t).forEach((function(e){t[e]=void 0})),this.viewports.forEach((function(e){e.dispose()})),Object.keys(this).forEach((function(t){e[t]=void 0}))},av.prototype.scrollBy=function(e){this.scrollbar.moveScrollerBy(e)};var fv=function(e,t,n){var r,i=this,s=".trackscrollbar"+um();this.namespace=s;var o=Ya('<div class="igv-scrollbar-outer-div">');function a(e){e.preventDefault(),e.stopPropagation();var t=cm(e);i.moveScrollerBy(t.y-r),r=t.y}function l(e){Ya(document).off(i.namespace)}this.$outerScroll=o,this.$innerScroll=Ya("<div>"),this.$outerScroll.append(this.$innerScroll),this.$viewportContainer=e,this.viewports=t,this.$innerScroll.on("mousedown",(function(e){e.preventDefault();var t=cm(e);r=t.y,Ya(document).on("mousemove"+s,a),Ya(document).on("mouseup"+s,l),Ya(document).on("mouseleave"+s,l),e.stopPropagation()})),this.$innerScroll.on("click",(function(e){e.stopPropagation()})),this.$outerScroll.on("click",(function(e){i.moveScrollerBy(e.offsetY-i.$innerScroll.height()/2),e.stopPropagation()}))};fv.prototype.moveScrollerBy=function(e){var t=this.$innerScroll.position().top+e;this.moveScrollerTo(t)},fv.prototype.moveScrollerTo=function(e){var t=this.$outerScroll.height(),n=this.$innerScroll.height(),r=Math.min(Math.max(0,e),t-n),i=pv(this.viewports),s=-Math.round(r*(i/this.$viewportContainer.height()));this.$innerScroll.css("top",r+"px"),this.viewports.forEach((function(e){e.setTop(s)}))},fv.prototype.dispose=function(){Ya(window).off(this.namespace)},fv.prototype.update=function(){var e,t,n;e=this.$viewportContainer.height(),t=pv(this.viewports),n=Math.round(e/t*e),t>e?(this.$outerScroll.show(),this.$innerScroll.height(n)):this.$outerScroll.hide()};var mv=zt.trim,gv=r.parseFloat,vv=1/gv(Mt+"-0")!=-1/0?function(e){var t=mv(String(e)),n=gv(t);return 0===n&&"-"==t.charAt(0)?-0:n}:gv;Te({target:"Number",stat:!0,forced:Number.parseFloat!=vv},{parseFloat:vv});var yv=wd.entries;function bv(e){return"string"==typeof e||e instanceof String?new _v(e):new wv(e)}Te({target:"Object",stat:!0},{entries:function(e){return yv(e)}});var _v=function(e){this.data=e,this.ptr=0};_v.prototype.nextLine=function(){var e=this.ptr,t=this.data.indexOf("\n",e);return t>0?(this.ptr=t+1,t===e?void 0:this.data.substring(e,t).trim()):(this.ptr=this.data.length,e>=this.data.length?void 0:this.data.substring(e).trim())},_v.prototype.nextLineNoTrim=function(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var r=n.length;return this.ptr=r,e>=r?void 0:n.substring(e)};var wv=function(e){this.data=e,this.length=this.data.length,this.ptr=0};wv.prototype.nextLine=function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}},wv.prototype.nextLineNoTrim=wv.prototype.nextLine;var xv={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},Sv=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram"]);function kv(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0),"junctions"===e.type?e.type="spliceJunctions":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),void 0===e.sourceType&&e.url&&(e.sourceType="file"),"file"===e.sourceType)if(void 0===e.format){var t=Hm(e.url)?e.url.name:e.url;e.format=Cv(t)}else e.format=e.format.toLowerCase();if(void 0===e.type){if(e.type)return;if(e.format)switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":e.type="wig";break;case"vcf":e.type="variant";break;case"seg":e.type="seg";break;case"bam":case"cram":e.type="alignment";break;case"bedpe":case"bedpe-loop":e.type="interaction";break;case"bp":e.type="arc";break;default:e.type="annotation"}}}function Cv(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return Sv.has(n)?n:void 0}}var Ev=Number.MAX_SAFE_INTEGER,Rv=["Name","gene_name","gene","gene_id","alias","locus","name"],Av=function(e,t,n){var r;if(void 0!==e&&(this.format=e.toLowerCase()),this.nameField=n?n.nameField:void 0,this.skipRows=0,t)this.decode=t;else switch(this.format){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=Bv,this.delimiter=/\s+/;break;case"bedgraph":this.decode=jv,this.delimiter=/\s+/;break;case"wig":this.decode=Vv,this.delimiter=/\s+/;break;case"gff3":case"gff":case"gtf":this.decode=qv,this.delimiter="\t";break;case"fusionjuncspan":this.decode=$v,this.delimiter=/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=Uv,this.delimiter="\t";break;case"refflat":this.decode=Nv,this.delimiter=/\s+/;break;case"genepred":this.decode=Lv,this.delimiter=/\s+/;break;case"genepredext":this.decode=Fv,this.delimiter=/\s+/;break;case"ensgene":this.decode=Lv,this.shift=1,this.delimiter=/\s+/;break;case"refgene":this.decode=Fv,this.delimiter=/\s+/,this.shift=1;break;case"bed":this.decode=Mv,this.delimiter=n.delimiter||/\s+/;break;case"bedpe":this.skipRows=1,this.decode=Wv,this.delimiter=/\s+/;break;case"bedpe-domain":this.decode=Yv,this.headerLine=!0,this.delimiter=/\s+/;break;case"bedpe-loop":this.decode=Wv,this.delimiter=/\s+/,this.skipRows=1,this.header={colorColumn:7};break;case"snp":this.decode=Zv,this.delimiter="\t";break;case"rmsk":this.decode=Pv,this.delimiter="\t";break;default:void 0!==(r=function(e){return xv&&xv[e]?function(e){for(var t=e.fields,n=["chr","start","end"],r=0;r<t.length;r++){var i=!0,s=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;c===t[r]&&(e[c]=r)}}catch(h){s=!0,o=h}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}return e}(xv[e]):void 0}(this.format))?(this.decode=Xv,this.format=r,this.delimiter=r.delimiter||"\t"):(this.decode=Mv,this.delimiter=/\s+/)}};function Iv(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Tv(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}function Dv(e){var t,n={},r=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],s=!0,o=!1,a=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var h=l.value;h&&0!==h.trim().length&&(h.endsWith("=")>0?t=h:t?(i.push(t+h),t=void 0):i.push(h))}}catch(v){o=!0,a=v}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}for(var u=0,d=i;u<d.length;u++){var p=d[u];if(!p)return;var f=p.split("=",2);if(2===f.length){var m=f[0].trim(),g=f[1].trim();n[m]=g}}return n}function Ov(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})),t}function Mv(e,t){var n,r,i,s,o,a,l,c;if(!(e.length<3)){if(a={chr:e[0],start:n=parseInt(e[1]),end:e.length>2?parseInt(e[2]):n+1,score:1e3},e.length>3){if(e[3].indexOf(";")>0){var h=Hv(e[3],"="),u=!0,d=!1,p=void 0;try{for(var f,m=Rv[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var g=f.value;if(h.hasOwnProperty(g)){a.name=h[g],delete h[g];break}}}catch(_){d=!0,p=_}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}a.attributes=h}a.name?a.nameField=e[3]:a.name=e[3]}if(e.length>4&&(a.score=parseFloat(e[4])),e.length>5&&(a.strand=e[5]),e.length>6&&(a.cdStart=parseInt(e[6])),e.length>7&&(a.cdEnd=parseInt(e[7])),e.length>8&&"."!==e[8]&&"0"!==e[8]&&(a.color=om.createColorString(e[8])),e.length>11){r=parseInt(e[9]),i=e[10].split(","),s=e[11].split(","),o=[];for(var v=0;v<r;v++)c=(l=n+parseInt(s[v]))+parseInt(i[v]),o.push({start:l,end:c});zv(o,a.cdStart,a.cdEnd),a.exons=o}if(this.header){var y=this.header.thicknessColumn,b=this.header.colorColumn;b&&b<e.length&&(a.color=om.createColorString(e[b])),y&&y<e.length&&(a.thickness=e[y])}return a}}function Pv(e,t){if(!(e.length<15))return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function Lv(e,t){var n=void 0===this.shift?0:1;if(!(e.length<9+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),s={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),a=e[8+n].split(","),l=e[9+n].split(","),c=[],h=0;h<o;h++){var u=parseInt(a[h]),d=parseInt(l[h]);c.push({start:u,end:d})}return zv(c,r,i),s.exons=c,s}}function Fv(e,t){var n=void 0===this.shift?0:1;if(!(e.length<11+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),s={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),a=e[8+n].split(","),l=e[9+n].split(","),c=[],h=0;h<o;h++){var u=parseInt(a[h]),d=parseInt(l[h]);c.push({start:u,end:d})}return zv(c,r,i),s.exons=c,s}}function Nv(e,t){var n=void 0===this.shift?0:1;if(!(e.length<10+n)){for(var r=parseInt(e[6+n]),i=parseInt(e[7+n]),s={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:r,cdEnd:i},o=parseInt(e[8+n]),a=e[9+n].split(","),l=e[10+n].split(","),c=[],h=0;h<o;h++){var u=parseInt(a[h]),d=parseInt(l[h]);c.push({start:u,end:d})}return zv(c,r,i),s.exons=c,s}}function zv(e,t,n){var r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=l.end,h=l.start;c<t||h>n?l.utr=!0:(t>=h&&t<=c&&(l.cdStart=t),n>=h&&n<=c&&(l.cdEnd=n))}}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}function Bv(e,t){var n,r,i,s,o,a,l;return e.length<9?null:(n=e[0],r=parseInt(e[1]),i=parseInt(e[2]),o=e[3],a=parseFloat(e[4]),s=e[5].trim(),l=parseFloat(e[6]),0===a&&(a=l),{chr:n,start:r,end:i,name:o,score:a,strand:s,signal:l,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])})}function jv(e,t){if(e.length<3)return null;var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(this.header){var r=this.header.colorColumn;r&&r<e.length&&(n.color=om.createColorString(e[r]))}return n}function Vv(e,t){var n,r,i;return"fixedStep"===t.format?(r=(n=t.index*t.step+t.start)+t.span,i=parseFloat(e[0]),++t.index,isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):"variableStep"===t.format?e.length<2?null:(r=(n=parseInt(e[0],10)-1)+t.span,i=parseFloat(e[1]),isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):jv(e)}function $v(e,t){if(!(e.length<7)){var n=e[0],r=e[1],i=parseInt(e[2]),s=parseInt(e[3]),o=parseInt(e[4]),a=parseInt(e[5]),l={chr:n,name:r,junction_left:i,junction_right:s,num_junction_reads:o,num_spanning_frags:a,spanning_frag_coords:[],start:-1,end:-1},c=i,h=s;if(a>0)for(var u=e[6].split(","),d=0;d<u.length;d++){var p=u[d].split("-"),f=p[0],m=p[1];f<c&&(c=f),m>h&&(h=m),l.spanning_frag_coords.push({left:f,right:m})}return l.start=c,l.end=h,l}}function Uv(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function Hv(e,t){var n={},r=!0,i=!1,s=void 0;try{for(var o,a=e.split(";")[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value.trim().split(t,2);if(2===l.length){var c=l[0].trim(),h=l[1].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),n[c]=h}}}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}function qv(e,t){var n,r,i,s,o,a,l,c,h,u,d=this.format;if(e.length<9)return null;n=e[0],o=e[2],r=parseInt(e[3])-1,i=parseInt(e[4]),a="."===e[5]?0:parseFloat(e[5]),s=e[6],"."===e[7]||parseInt(e[7]);for(var p="gff3"===d?"=":/\s+/,f=Hv(l=e[8],p),m=0,g=Object.entries(f);m<g.length;m++){var v=er(g[m],2),y=v[0],b=v[1],_=y.toLowerCase();if("color"===_||"colour"===_)c=om.createColorString(b);else if("gff3"===d)try{f[y]=unescape(b)}catch(w){f[y]=b,console.error("Malformed gff3 attibute value: ".concat(b))}}if(this.nameField)h=f[this.nameField];else for(u=0;u<Rv.length;u++)if(f.hasOwnProperty(Rv[u])){this.nameField=Rv[u],h=f[this.nameField];break}return new Gv({id:f.ID||f.transcript_id,parent:f.Parent,name:h,type:o,chr:n,start:r,end:i,score:a,strand:s,color:c,attributeString:l,delim:p})}function Gv(e){Object.assign(this,e)}function Wv(e,t){if(!(e.length<6)){var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};e.length>6&&(n.name=e[6]),e.length>7&&(n.score=e[7]),n.chr=n.chr1===n.chr2?n.chr1:"MIXED",n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2);var r=(n.start1+n.end1)/2,i=(n.start2+n.end2)/2;if(n.m1=r<i?r:i,n.m2=r<i?i:r,this.header){var s=this.header.thicknessColumn,o=this.header.colorColumn;o&&o<e.length&&(n.color=om.createColorString(e[o])),s&&s<e.length&&(n.thickness=e[s])}return n}}function Yv(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:om.createColorString(e[6]),score:Number.parseFloat(e[7])}}function Zv(e,t){if(!(e.length<6)){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},i=Math.min(e.length,n.length),s=6;s<i;s++)r[n[s]]=e[s];return r}}function Xv(e,t){if(!(e.length<this.format.fields.length)){var n=this.format,r=n.coords||0,i=e[n.chr],s=parseInt(e[n.start])-r,o={chr:i,start:s,end:void 0!==n.end?parseInt(e[n.end]):s+1};return n.fields&&n.fields.forEach((function(t,r){r!==n.chr&&r!==n.start&&r!==n.end&&(o[t]=e[r])})),o}}Av.prototype.parseHeader=function(e){var t,n,r;for(r=bv(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=Dv(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var s=Ov(t);n?Object.assign(n,s):n=s}else t.startsWith("##gff-version 3")?(this.format="gff3",n||(n={}),n.format="gff3"):t.startsWith("#gffTags")&&(n||(n={}),n.gffTags=!0);return this.header=n,n},Av.prototype.parseFeatures=function(e){if(!e)return null;for(var t,n,r=bv(e),i=r.nextLine.bind(r),s=[],o=0,a=this.decode,l=this.format,c=this.delimiter||"\t",h=0;t=i();)if(!(++h<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser")))if("wig"===l&&t.startsWith("fixedStep"))n=Iv(t);else if("wig"===l&&t.startsWith("variableStep"))n=Tv(t);else{var u=t.split(c);if(!(u.length<1)){var d=a.call(this,u,n);if(d){if(s.length<Ev)s.push(d);else{var p=Math.floor(Math.random()*o);p<Ev&&(s[p]=d)}o++}}}return s},Gv.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];n.push({name:"type",value:this.type}),n.push({name:"start",value:this.start+1}),n.push({name:"end",value:this.end});var r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value.trim().split(this.delim,2);if(2===l.length&&void 0!==l[1]){var c=l[0].trim(),h=l[1].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),n.push({name:c,value:h})}}}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n};var Kv=function(){function e(){Hn(this,e)}return Gn(e,[{key:"parseHeader",value:function(e){var t=rm(e),n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;if(!a.startsWith("#")){var l=a.split("\t");this.header={headings:l};break}}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return this.header}},{key:"parseFeatures",value:function(e){var t=bv(e),n=t.nextLine.bind(t),r=[];this.header||(this.header=this.parseHeader(n()));for(var i,s=this.header.headings.length-1;i=n();){var o=i.split("\t");o.length>s&&r.push({sampleKey:o[0],sample:o[0],chr:o[1],start:parseInt(o[2]),end:parseInt(o[3]),value:parseFloat(o[s])})}return r}}]),e}(),Qv=function(e,t){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.browser=t,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name=e.name||e.label,this.name=e.name?e.name:Hm(e.url)?e.url.name:e.url,this.order=e.order,this.color="civic-ws"===e.sourceType?"rgb(155,20,20)":e.color||e.defaultColor||"rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow};function Jv(e){var t,n,r=new ry;return r.chr=e[0],r.pos=parseInt(e[1]),r.names=e[2],r.referenceBases=e[3],r.alternateBases=e[4],r.quality=e[5],r.filter=e[6],r.info=(n={},(t=e[7])&&t.split(";").forEach((function(e){var t=e.split("=");n[t[0]]=t[1]})),n),ey(r),r}function ey(e){var t=e.referenceBases,n=e.alternateBases;if(e.info&&(e.type=e.info.VT?e.info.VT:e.info.SVTYPE?"SV":e.info.PERIOD?"STR":iy(n)),"NONVARIANT"===e.type&&(e.heterozygosity=0,e.start=e.pos-1,e.end=e.start+t.length),e.info.END)e.start=e.pos-1,e.end=Number.parseInt(e.info.END);else if("NONVARIANT"!==e.type){var r=n.split(",").filter((function(e){return e.length>0}));e.alleles=[],e.start=e.pos,e.end=e.pos;var i=!0,s=!1,o=void 0;try{for(var a,l=r[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;if(e.alleles.push(c),"SV"!==e.type&&ny(c)){var h=c.length,u=t.length,d=0;for(t.charCodeAt(0)===c.charCodeAt(0)&&(d++,h--,u--);h>0&&u>0&&c.charCodeAt(d+h-1)===t.charCodeAt(d+u-1);)h--,u--;for(;h>0&&u>0&&c.charCodeAt(d+h-1)===t.charCodeAt(d+u-1);)d++,h--,u--;var p=e.pos+d-1,f=p+Math.max(1,u);e.start=Math.min(e.start,p),e.end=Math.max(e.end,f)}}}catch(m){s=!0,o=m}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}}Qv.prototype.getState=function(){var e=Object.assign({},this.config),t=this;return Object.keys(e).forEach((function(n){var r=t[n];r&&(xm(r)||"boolean"==typeof r)&&(e[n]=r)})),e},Qv.prototype.supportsWholeGenome=function(){return!1},Qv.prototype.clickedFeatures=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:0,i=Math.floor(n)-r,s=Math.floor(n)+r;return Zg(t,i,s)},Qv.prototype.setTrackProperties=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];switch(r){case"name":case"useScore":this[r]=e[r];break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":this.displayMode="EXPANDED";break;case"4":case"squish":this.displayMode="SQUISHED";break;case"1":case"dense":this.displayMode="COLLAPSED"}break;case"color":case"altColor":this[r]="rgb("+e[r]+")";break;case"featureVisiblityWindow":this.visibilityWindow=Number.parseInt(e[r])}}},Qv.prototype.getVisibilityWindow=function(){return this.visibilityWindow},Qv.extractPopupData=function(e,t){var n,r,i=new Set(["row","color"]),s=[];for(var o in e)if(e.hasOwnProperty(o)&&!i.has(o)&&xm(e[o])){var a=e[o];"start"===o&&(a+=1),s.push({name:o,value:a}),"alleles"===o?n=e[o]:"alleleFreqs"===o&&(r=e[o])}if(n&&r){n.endsWith(",")&&(n=n.substr(0,n.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));var l=n.split(","),c=r.split(",");if(c.length>1){for(var h=[],u=0;u<c.length;u++)h.push({a:l[u],af:Number.parseFloat(c[u])});h.sort((function(e,t){return e.af-t.af}));var d=h[h.length-1].a;if(1===d.length)for(var p=h.length-2;p>=0;p--){var f=h[p].a;if(1===f.length){var m=Qv.getCravatLink(e.chr,e.start+1,d,f,t);m&&(s.push("<hr/>"),s.push(m))}}}}if(e.attributes)for(var g=0,v=Object.keys(e.attributes);g<v.length;g++){var y=v[g];s.push({name:y,value:e.attributes[y]})}return s},Qv.prototype.getGenomeId=function(){return this.browser.genome?this.browser.genome.id:void 0},Qv.getCravatLink=function(e,t,n,r,i){return"hg38"===i||"GRCh38"===i?"<a target='_blank' href='https://www.cravat.us/CRAVAT/variant.html?variant="+(e.startsWith("chr")?e:"chr"+e)+"_"+t+"_+_"+n+"_"+r+"'>Cravat "+n+"->"+r+"</a>":void 0};var ty=new Set(["A","C","T","G"].map((function(e){return e.charCodeAt(0)})));function ny(e){for(var t=0;t<e.length;t++)if(!ty.has(e.charCodeAt(t)))return!1;return!0}var ry=function(){};function iy(e){if(void 0===e)return"UNKNOWN";if(0===e.trim().length||"<NON_REF>"===e||"<*>"===e||"."===e)return"NONVARIANT";var t=e.split(",").map((function(e){return"<NON_REF>"===e?"NONVARIANT":"OTHER"})),n=t[0],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)if(o.value!==n)return"MIXED"}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}function sy(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}ry.prototype.popupData=function(e,t){var n,r=this,i=this.end===this.pos?this.pos:"".concat(this.pos,"-").concat(this.end);if(n=[{name:"Chr",value:this.chr},{name:"Pos",value:i},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}],1===this.referenceBases.length&&!iy(this.alternateBases)){var s=this.referenceBases;if(1===s.length)for(var o=this.alternateBases.split(","),a=0;a<o.length;a++){var l=this.alternateBases[a];if(1===l.length){var c=Qv.getCravatLink(this.chr,this.pos,s,l,t);c&&(n.push("<hr/>"),n.push(c))}}}return this.hasOwnProperty("heterozygosity")&&n.push({name:"Heterozygosity",value:this.heterozygosity}),this.info&&(n.push("<hr>"),Object.keys(this.info).forEach((function(e){n.push({name:e,value:sy(r.info[e])})}))),this.calls&&1===this.calls.length&&(n.push("<hr>"),n.push({name:"Genotype",value:this.alleles[this.calls[0].genotype[0]]+this.alleles[this.calls[0].genotype[1]]})),n},ry.prototype.isRefBlock=function(){return"NONVARIANT"===this.type};var oy=function(){};function ay(e){for(var t={genotypeIndex:-1,fields:e},n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}oy.prototype.parseHeader=function(e){var t={},n=bv(e),r=n.nextLine();if(!r.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(t.version=r.substr(13);(r=n.nextLine())&&r.startsWith("#");){var i=void 0,s={};if(r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){var o=r.indexOf("<"),a=r.lastIndexOf(">");if(!(o>2&&a>0))continue;var l=r.substring(2,o-1);t[l]||(t[l]={});var c=im(r.substring(o+1,a-1),","),h=!0,u=!1,d=void 0;try{for(var p,f=c[Symbol.iterator]();!(h=(p=f.next()).done);h=!0){var m=p.value.split("=");m.length>1&&("ID"===m[0]?i=m[1]:s[m[0]]=m[1])}}catch(y){u=!0,d=y}finally{try{h||null==f.return||f.return()}finally{if(u)throw d}}i&&(t[l][i]=s)}}else if(r.startsWith("#CHROM")){var g=r.split("\t");if(g.length>8){t.callSets=[];for(var v=9;v<g.length;v++)t.callSets.push({id:v,name:g[v]})}}}return this.header=t,t},oy.prototype.parseFeatures=function(e){for(var t,n=[],r=this.header.callSets,i=bv(e),s=8+(r?r.length+1:0);t=i.nextLine();)if(!t.startsWith("#")){var o=t.split("\t");if(o.length===s){var a,l,c=Jv(o);c.header=this.header,n.push(c),o.length>9&&function(){var e=ay(o[8].split(":"));c.calls={};for(var t=9;t<o.length;t++){var n=o[t];c.calls[(a=r[t-9]).id]=l={callSetName:a.name,info:{}},n.split(":").forEach((function(t,n){switch(n){case e.genotypeIndex:l.genotype=[],t.split(/[\|\/]/).forEach((function(e){l.genotype.push("."===e?e:parseInt(e))}));break;default:l.info[e.fields[n]]=t}}))}}()}}return n};var ly=function(){function e(){Hn(this,e)}return Gn(e,[{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=this.parseHeader(e),r=bv(e),i=[];t=r.nextLine();){var s=t.split("\t"),o=s[0],a=parseInt(s[1]),l=parseInt(s[2]),c=s.slice(3).map(parseFloat);c.length==n.length&&i.push({chr:o,start:a,end:l,values:c})}return console.warn("Parsed",i.length,"features from",n.length,"samples"),i}},{key:"parseHeader",value:function(e){if(!this.sampleNames){var t=bv(e);this.sampleNames=t.nextLine().split("\t").slice(3),console.warn("Parsed",this.sampleNames.length,"samples from gCNV track file header:",this.sampleNames)}return this.sampleNames}}]),e}(),cy=function(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength};function hy(e,t){this.block=e,this.offset=t}function uy(e,t,n,r){return dy.apply(this,arguments)}function dy(){return(dy=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C,E,R,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,og.loadArrayBuffer(t,Sm(n));case 2:if(s=e.sent,o=[],a=Number.MAX_SAFE_INTEGER,l=0,s){e.next=7;break}return e.abrupt("return");case 7:if(r&&(c=new Qf.Gunzip(new Uint8Array(s)),s=c.decompress().buffer),h=new cy(new DataView(s)),u=h.getInt(),d={},!(21578050===u||r&&21578324===u)){e.next=17;break}if(p=h.getInt(),r)for(h.getInt(),h.getInt(),h.getInt(),h.getInt(),h.getInt(),h.getInt(),h.getInt(),f=0;f<p;f++)m=h.getString(),i&&(m=i.getChromosomeName(m)),d[m]=f;for(g=0;g<p;g++){for(v={},y=[],b=h.getInt(),_=0;_<b;_++)if(37450===(w=h.getInt()))h.getInt(),h.getVPointer(),h.getVPointer(),h.getLong(),h.getLong();else for(v[w]=[],x=h.getInt(),S=0;S<x;S++)k=h.getVPointer(),C=h.getVPointer(),k&&C&&(k.block<a&&(a=k.block),C.block>l&&(l=C.block),v[w].push([k,C]));for(E=h.getInt(),R=0;R<E;R++)A=h.getVPointer(),y.push(A);b>0&&(o[g]={binIndex:v,linearIndex:y})}e.next=18;break;case 17:throw new Error(t+" is not a "+(r?"tabix":"bai")+" file");case 18:return e.abrupt("return",new py(o,a,l,d,r));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}cy.prototype.available=function(){return this.length-this.position},cy.prototype.remLength=function(){return this.length-this.position},cy.prototype.hasNext=function(){return this.position<this.length-1},cy.prototype.getByte=function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e},cy.prototype.getShort=function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e},cy.prototype.getUShort=function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e},cy.prototype.getInt=function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e},cy.prototype.getUInt=function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e},cy.prototype.getLong=function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var r=0;r<e.length;r++)t=256*t+e[r];return this.position+=8,t},cy.prototype.getString=function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n},cy.prototype.getFixedLengthString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r},cy.prototype.getFixedLengthTrimmedString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r},cy.prototype.getFloat=function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e},cy.prototype.getDouble=function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e},cy.prototype.skip=function(e){return this.position+=e,this.position},cy.prototype.getVPointer=function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new hy(n,t)},hy.prototype.isLessThan=function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset},hy.prototype.isGreaterThan=function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset},hy.prototype.print=function(){return this.block+":"+this.offset};var py=function(e,t,n,r,i){this.firstAlignmentBlock=t,this.lastAlignmentBlock=n,this.indices=e,this.sequenceIndexMap=r,this.tabix=i};function fy(e,t,n){return my.apply(this,arguments)}function my(){return(my=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e){var t=e.getString();r&&(t=r.getChromosomeName(t));for(var n=e.getInt(),i=e.getInt(),s=e.getInt(),o=(e.getInt(),e.getInt(),e.getLong()),a=new Array,l=0;l<i;l++){var c=e.getLong();a.push({min:o,max:c}),o=c}return{chr:t,blocks:a,longestFeature:s,binWidth:n}},c=function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()},e.next=4,og.loadArrayBuffer(t,Sm(n));case 4:if(!(i=e.sent)){e.next=14;break}for(s={},o=new cy(new DataView(i)),c(o),a=o.getInt();a-- >0;)l=h(o),s[l.chr]=l;return e.abrupt("return",new gy(s));case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}py.prototype.blocksForRange=function(e,t,n){var r=this.indices[e];if(r){var i=function(e,t){var n,r=[];for(t>=1<<29&&(t=1<<29),--t,r.push(0),n=1+(e>>26);n<=1+(t>>26);++n)r.push(n);for(n=9+(e>>23);n<=9+(t>>23);++n)r.push(n);for(n=73+(e>>20);n<=73+(t>>20);++n)r.push(n);for(n=585+(e>>17);n<=585+(t>>17);++n)r.push(n);for(n=4681+(e>>14);n<=4681+(t>>14);++n)r.push(n);return r}(t,n),s=[];i.forEach((function(e){if(r.binIndex[e])for(var t=r.binIndex[e],n=t.length,i=0;i<n;++i)s.push({minv:t[i][0],maxv:t[i][1],bin:e})}));for(var o=r.linearIndex.length,a=null,l=Math.min(t>>14,o-1),c=Math.min(n>>14,o-1),h=l;h<=c;++h){var u=r.linearIndex[h];u&&(a&&!u.isLessThan(a)||(a=u))}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort((function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset})),e.forEach((function(e){var i,s;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(s=e).minv.block-(i=r).maxv.block<65e3&&s.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e))})),n)}(s,a)}return[]};var gy=function(){function e(t){Hn(this,e),this.chrIndex=t}return Gn(e,[{key:"blocksForRange",value:function(e,t,n){var r=this.chrIndex[e];if(r){var i=r.blocks,s=r.binWidth,o=Math.max(t-r.longestFeature,0),a=Math.floor(o/s);if(a>=i.length)return[];var l=Math.min(Math.floor((n-1)/s),i.length-1),c=i[a].min,h=i[l].max;return 0==h-c?[]:[{minv:{block:c,offset:0},maxv:{block:h,offset:0}}]}}}]),e}(),vy=function(){function e(t){if(Hn(this,e),this.config=t,t.columns){if(void 0===t.columns.chromosome||void 0===t.columns.position||void 0===t.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=t.columns.position-1,this.chrCol=t.columns.chromosome-1,this.pvalueCol=t.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}return Gn(e,[{key:"parseHeader",value:function(e){var t=bv(e).nextLine();return this.parseHeaderLine(t)}},{key:"parseHeaderLine",value:function(e){if(this.columns=e.split(/\t/),!this.config.columns)for(var t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.pvalueCol=t}return this.columns}},{key:"parseFeatures",value:function(e){if(!e)return null;var t,n=bv(e),r=[],i=n.nextLine();for(this.columns||this.parseHeaderLine(i);t=n.nextLine();){var s=t.split(/\t/);if(s.length===this.columns.length){var o=s[this.chrCol],a=parseInt(s[this.posCol])-1,l=a+1,c=parseFloat(s[this.pvalueCol]);r.push(new yy({chr:o,start:a,end:l,value:c,line:t,columns:this.columns}))}}return r}}]),e}(),yy=function(){function e(t){var n=t.chr,r=t.start,i=t.end,s=t.value,o=t.line,a=t.columns;Hn(this,e),this.chr=n,this.start=r,this.end=i,this.value=s,this.line=o,this.columns=a}return Gn(e,[{key:"popupData",value:function(){var e=this.line.split(/\t/);return this.columns.map((function(t,n){return{name:t,value:e[n]}}))}}]),e}(),by=new RegExp("([^:]*)\\(([^)]*)\\)"),_y=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),wy=function(){function e(t,n,r){Hn(this,e),this.nameField=r?r.nameField:void 0,this.skipRows=0,this.decode=n||Ry,this.delimiter="\t"}return Gn(e,[{key:"parseHeader",value:function(e){for(var t,n,r=bv(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=ky(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var s=Cy(t);n?Object.assign(n,s):n=s}else t.startsWith("##gff-version 3")&&(this.format="gff3",n||(n={}),n.format="gff3");return this.header=n,n}},{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=bv(e),r=n.nextLineNoTrim.bind(n),i=[],s=this.decode,o=this.delimiter||"\t",a=0;t=r();)if(!(++a<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"))){var l=h();if(!(l.length<1))if(this.aed){var c=s.call(this,l,void 0);c&&i.push(c)}else this.aed=Sy(l)}return i;function h(){for(var e,n,i=[],s="",a=!1;t||""===t;){for(e=0;e<t.length;e++)(n=t.charAt(e))===o?a?s+=n:(i.push(s),s=""):'"'===n?e+1<t.length&&'"'===t.charAt(e+1)?(a&&(s+='"'),e++):a=!a:s+=n;if(!a)break;s+="\n",t=r()}return i.push(s),i}}}]),e}();function xy(e){var t=_y.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=by.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function Sy(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=xy(e[n]),t.columns.push(r);return t}function ky(e){var t,n={},r=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],s=!0,o=!1,a=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var h=l.value;h&&0!==h.trim().length&&(h.endsWith("=")>0?t=h:t?(i.push(t+h),t=void 0):i.push(h))}}catch(v){o=!0,a=v}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}for(var u=0,d=i;u<d.length;u++){var p=d[u];if(!p)return;var f=p.split("=",2);if(2===f.length){var m=f[0].trim(),g=f[1].trim();n[m]=g}}return n}function Cy(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})),t}function Ey(e,t){var n,r,i=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var s=0;s<t.length;s++)(n=t[s])&&("aed:Integer"===(r=i[s]).type&&(n=parseInt(n)),"bio"===r.namespace?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=om.createColorString(n)))}function Ry(e,t){var n,r,i,s,o,a,l=0,c=this.aed.columns;if(e.length===c.length){for(a=0;a<e.length;a++)""!==(i=e[a])&&l++,"name"===(s=c[a]).name&&"aed"===s.namespace?n=i:"value"===s.name&&"aed"===s.namespace&&(r=i);if(2===l&&n&&r)return o=xy(n),this.aed.metadata[o.namespace]||(this.aed.metadata[o.namespace]={}),void(this.aed.metadata[o.namespace][o.name]||(this.aed.metadata[o.namespace][o.name]={type:o.type,value:r}));var h=new Ey(this.aed,e);if(h.chr&&(h.start||0===h.start)&&h.end)return h}}Ey.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],i=t.columns[n].name;"sequence"!==i&&"color"!==i&&r&&e.push({name:i,value:r})}return e};var Ay=function(){function e(t,n){var r;Hn(this,e),this.config=t||{},this.genome=n,this.indexURL=t.indexURL,this.indexed=t.indexed,Hm(this.config.url)?this.filename=this.config.url.name:tm(this.config.url)&&this.config.url.startsWith("data:")?(this.indexed=!1,this.dataURI=t.url):(r=Gm(this.config.url),this.filename=t.filename||r.file),this.format=this.config.format,this.parser=this.getParser(this.format,this.config.decode,this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}var t,n,r,i,s,o;return Gn(e,[{key:"readFeatures",value:(o=Un(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",this.loadFeaturesWithIndex(t,n,r));case 7:if(!this.dataURI){e.next=11;break}return e.abrupt("return",this.loadFeaturesFromDataURI());case 11:return e.abrupt("return",this.loadFeaturesNoIndex());case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"readHeader",value:(s=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=38;break}if(!this.dataURI){e.next=9;break}return e.next=4,this.loadFeaturesFromDataURI(this.dataURI);case 4:(t=this.header||{}).features=e.sent,e.next=38;break;case 9:if(!this.config.indexURL){e.next=30;break}return e.next=12,this.getIndex();case 12:if(n=e.sent){e.next=15;break}throw new Error("Unable to load index: "+this.config.indexURL);case 15:if(r="vcf"===this.config.format?65e3:1e3,!n.tabix){e.next=23;break}return i=Sm(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),e.next=20,og.loadArrayBuffer(this.config.url,i);case 20:s=Bm(e.sent),r=n.firstAlignmentBlock+s;case 23:return o=Sm(this.config,{bgz:n.tabix,range:{start:0,size:r}}),e.next=26,og.loadString(this.config.url,o);case 26:t=this.parser.parseHeader(e.sent),e.next=35;break;case 30:return e.next=32,this.loadFeaturesNoIndex();case 32:(t=this.header||{}).features=e.sent;case 35:return t&&this.parser&&(this.parser.header=t),this.header=t,e.abrupt("return",t);case 38:return e.abrupt("return",this.header);case 39:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getParser",value:function(e,t,n){switch(e){case"vcf":return new oy(n);case"seg":return new Kv;case"gcnv":return new ly;case"gwas":return new vy(n);case"aed":return new wy(e,t,n);default:return new Av(e,t,n)}}},{key:"loadFeaturesNoIndex",value:(i=Un(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sm(this.config),e.next=3,og.loadString(this.config.url,t);case 3:return this.header=this.parser.parseHeader(n=e.sent),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),e.abrupt("return",this.parser.parseFeatures(n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadFeaturesWithIndex",value:(r=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,s=this.parser,a=[],l=this.genome,(c=this.index.blocksForRange((o=this.index.tabix)?this.index.sequenceIndexMap[t]:t,n,r))&&0!==c.length){e.next=11;break}return e.abrupt("return",[]);case 11:h=!0,u=!1,d=void 0,e.prev=14,p=regeneratorRuntime.mark((function e(){var c,h,u,d,p,f,g,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=function(e){for(var i=u?e.slice(u):e,o=s.parseFeatures(i),c=!1,h=0;h<o.length;h++){var d=o[h];if(l.getChromosomeName(d.chr)!==t){if(0===a.length)continue;break}if(d.start>r){a.push(d);break}d.end>=n&&d.start<=r&&(c||(c=!0,h>0&&a.push(o[h-1])),a.push(d))}},h=(c=m.value).minv.block,u=c.minv.offset,d=c.maxv.offset,p=void 0,!o){e.next=17;break}if(f=0,!(d>0)){e.next=14;break}return g=Sm(i,{range:{start:c.maxv.block,size:26}}),e.next=12,og.loadArrayBuffer(i.url,g);case 12:f=Bm(e.sent);case 14:p=c.maxv.block+f,e.next=18;break;case 17:p=c.maxv.block;case 18:if(v=Sm(i,{range:{start:h,size:p-h+1}}),!o){e.next=27;break}return e.next=22,og.loadArrayBuffer(i.url,v);case 22:y=zm(e.sent),b(y),e.next=31;break;case 27:return e.next=29,og.loadString(i.url,v);case 29:b(e.sent);case 31:case"end":return e.stop()}}),e)})),f=c[Symbol.iterator]();case 17:if(h=(m=f.next()).done){e.next=22;break}return e.delegateYield(p(),"t0",19);case 19:h=!0,e.next=17;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(14),u=!0,d=e.t1;case 28:e.prev=28,e.prev=29,h||null==f.return||f.return();case 31:if(e.prev=31,!u){e.next=34;break}throw d;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return a.sort((function(e,t){return e.start-t.start})),e.abrupt("return",a);case 38:case"end":return e.stop()}}),e,this,[[14,24,28,36],[29,,31,35]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getIndex",value:function(){var e=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index&&this.config.indexURL){e.next=4;break}return e.abrupt("return",this.index);case 4:return e.next=6,this.loadIndex();case 6:return this.index=e.sent,e.abrupt("return",this.index);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadIndex",value:(n=Un(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hm(t=this.config.indexURL)?n=t.name:(r=Gm(t),n=r.file),!(n.endsWith(".tbi")||this.filename.endsWith(".gz")||this.filename.endsWith(".bgz"))){e.next=9;break}return e.next=6,uy(t,this.config,!0,this.genome);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,fy(t,this.config,this.genome);case 11:i=e.sent;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadFeaturesFromDataURI",value:(t=Un(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=qm(this.dataURI),this.header=this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),n=this.parser.parseFeatures(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Iy=function(e,t,n){this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length};function Ty(e){for(var t=new $g,n=e.length,r=Math.max(10,Math.round(n/10)),i=0;i<n;i+=r){for(var s=Math.min(n,i+r),o=new Dy(i,s),a=e[i].start,l=a,c=i;c<s;c++)l=Math.max(l,e[c].end);t.insert(a,l,o)}return t}Iy.prototype.containsRange=function(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)},Iy.prototype.queryFeatures=function(e,t,n){var r=this.treeMap[e];if(!r)return[];var i=r.findOverlapping(t,n);if(0===i.length)return[];var s=[],o=this.allFeatures[e];if(o){var a=!0,l=!1,c=void 0;try{for(var h,u=i[Symbol.iterator]();!(a=(h=u.next()).done);a=!0)for(var d=h.value.value,p=d.start;p<d.end;p++){var f=o[p];if(f.start>n)break;f.end>=t&&s.push(f)}}catch(m){l=!0,c=m}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}s.sort((function(e,t){return e.start-t.start}))}return s},Iy.prototype.getAllFeatures=function(){return this.allFeatures},Iy.prototype.buildTreeMap=function(e,t){var n={},r=[];if(this.allFeatures={},e){var i=!0,s=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value,h=c.chr;t&&(h=t.getChromosomeName(h));var u=this.allFeatures[h];u||(r.push(h),this.allFeatures[h]=u=[]),u.push(c)}}catch(b){s=!0,o=b}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}var d=!0,p=!1,f=void 0;try{for(var m,g=r[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value,y=this.allFeatures[v];y.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1})),n[v]=Ty(y)}}catch(b){p=!0,f=b}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}}return n};var Dy=function e(t,n){Hn(this,e),this.start=t,this.end=n},Oy=function(){function e(t){Hn(this,e),this.config=t}var t;return Gn(e,[{key:"readFeatures",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof this.config.url?this.config.url({chr:t,start:n,end:r}):this.config.url.replace("$CHR",t).replace("$START",n).replace("$END",r),s=Object.assign({},this.config),void 0!==this.config.body&&(s.body="function"==typeof this.config.body?this.config.body({chr:t,start:n,end:r}):this.config.body.replace("$CHR",t).replace("$START",n).replace("$END",r)),e.next=5,og.load(i,s);case 5:if((a=e.sent)&&(o="function"==typeof this.config.parser?this.config.parser(a):tm(a)?JSON.parse(a):a),!this.config.mappings){e.next=52;break}l=Object.keys(this.config.mappings),c=!0,h=!1,u=void 0,e.prev=12,d=o[Symbol.iterator]();case 14:if(c=(p=d.next()).done){e.next=38;break}for(f=p.value,m=!0,g=!1,v=void 0,e.prev=19,y=l[Symbol.iterator]();!(m=(b=y.next()).done);m=!0)f[_=b.value]=f[this.config.mappings[_]];e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),g=!0,v=e.t0;case 27:e.prev=27,e.prev=28,m||null==y.return||y.return();case 30:if(e.prev=30,!g){e.next=33;break}throw v;case 33:return e.finish(30);case 34:return e.finish(27);case 35:c=!0,e.next=14;break;case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(12),h=!0,u=e.t1;case 44:e.prev=44,e.prev=45,c||null==d.return||d.return();case 47:if(e.prev=47,!h){e.next=50;break}throw u;case 50:return e.finish(47);case 51:return e.finish(44);case 52:return e.abrupt("return",o);case 53:case"end":return e.stop()}}),e,this,[[12,40,44,52],[19,23,27,35],[28,,30,34],[45,,47,51]])}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),My=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};My.prototype.readFeatures=function(e,t,n){var r=Math.max(0,Math.floor(t)),i=Math.ceil(n);if(this.genome){var s=this.genome.getChromosome(e);s&&i>s.bpLength&&(i=s.bpLength)}return og.loadJson(this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+i,this.config).then((function(e){return e?(e.forEach((function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,i,s,o;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),i=[];for(var a=0;a<t;a++){var l={start:s=parseInt(n[a]),end:o=parseInt(r[a])};(e.cdsStart>o||e.cdsEnd<e.cdsStart)&&(l.utr=!0),e.cdsStart>=s&&e.cdsStart<=o&&(l.cdStart=e.cdsStart),e.cdsEnd>=s&&e.cdsEnd<=o&&(l.cdEnd=e.cdsEnd),i.push(l)}e.exons=i}(e)})),e):null}))};for(var Py=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna"]),Ly=new Set(["CDS","cds"]),Fy=new Set(["start_codon","stop_codon"]),Ny=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),zy=new Set(["exon","coding-exon"]),By=new Set,jy=0,Vy=[Py,Ly,Fy,Ny,zy];jy<Vy.length;jy++){var $y=Vy[jy],Uy=!0,Hy=!1,qy=void 0;try{for(var Gy,Wy=$y[Symbol.iterator]();!(Uy=(Gy=Wy.next()).done);Uy=!0)By.add(Gy.value)}catch(Rx){Hy=!0,qy=Rx}finally{try{Uy||null==Wy.return||Wy.return()}finally{if(Hy)throw qy}}}var Yy=function(){function e(t){Hn(this,e),this.format=t.format,t.filterTypes&&(this.filterTypes=new Set(t.filterTypes))}return Gn(e,[{key:"combineFeatures",value:function(e){var t;if("gff3"===this.format){var n=this.combineFeaturesById(e);t=this.combineFeaturesGFF(n)}else t=this.combineFeaturesGTF(e);return t.sort((function(e,t){return e.start-t.start})),t}},{key:"combineFeaturesById",value:function(e){var t=[],n={},r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;if(void 0===l.id)t.push(l);else{var c=n[l.chr];if(c||(n[l.chr]=c={}),c.hasOwnProperty(l.id)){var h=c[l.id];if(h.hasOwnProperty("exons"))h.start=Math.min(h.start,l.start),h.end=Math.max(h.end,l.end),h.exons.push(l);else{var u={id:l.id,type:l.type,chr:l.chr,strand:l.strand,start:Math.min(l.start,h.start),end:Math.max(l.end,h.end),exons:[h,l]};l.parent&&""!==l.parent.trim()&&(u.parent=l.parent),c[l.id]=u}}else c[l.id]=l}}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}for(var d=0,p=Object.keys(n);d<p.length;d++)for(var f=n[p[d]],m=0,g=Object.keys(f);m<g.length;m++)t.push(f[g[m]]);return t}},{key:"combineFeaturesGTF",value:function(e){var t=Object.create(null),n=[],r=new Set,i=this.filterTypes;e=e.filter((function(e){return void 0===i||!i.has(e.type)}));var s=!0,o=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var h=l.value;if(Py.has(h.type)){var u=h.id;if(void 0!==u){var d=new Zy(h);t[u]=d,n.push(d),r.add(h)}}}}catch(Rx){o=!0,a=Rx}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}var p=!0,f=!1,m=void 0;try{for(var g,v=e[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var y=g.value;if(zy.has(y.type)){var b=y.id;if(b){var _=t[b];void 0===_&&(_=new Zy(y),t[b]=_,n.push(_)),_.addExon(y),r.add(y)}}}}catch(Rx){f=!0,m=Rx}finally{try{p||null==v.return||v.return()}finally{if(f)throw m}}var w=!0,x=!1,S=void 0;try{for(var k,C=e[Symbol.iterator]();!(w=(k=C.next()).done);w=!0){var E=k.value;if(Ly.has(E.type)||Ny.has(E.type)||Fy.has(E.type)){var R=E.id;if(R){var A=t[R];void 0===A&&(A=new Zy(E),t[R]=A,n.push(A)),Ny.has(E.type)?A.addUTR(E):Ly.has(E.type)?A.addCDS(E):Fy.has(E.type),r.add(E)}}}}catch(Rx){x=!0,S=Rx}finally{try{w||null==C.return||C.return()}finally{if(x)throw S}}for(var I=0,T=n;I<T.length;I++){var D=T[I];"function"==typeof D.finish&&D.finish()}var O=e.filter((function(e){return!r.has(e)})),M=!0,P=!1,L=void 0;try{for(var F,N=O[Symbol.iterator]();!(M=(F=N.next()).done);M=!0)n.push(F.value)}catch(Rx){P=!0,L=Rx}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}return n}},{key:"combineFeaturesGFF",value:function(e){var t=Object.create(null),n=[],r=new Set,i=this.filterTypes;e=e.filter((function(e){return void 0===i||!i.has(e.type)}));var s=!0,o=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var h=l.value;if(Py.has(h.type)){var u=h.id;if(void 0!==u){var d=new Zy(h);t[u]=d,n.push(d),r.add(h)}}}}catch(Rx){o=!0,a=Rx}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}var p=!0,f=!1,m=void 0;try{for(var g,v=e[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var y=g.value;if(zy.has(y.type)){var b=q(y);if(b){var _=!0,w=!1,x=void 0;try{for(var S,k=b[Symbol.iterator]();!(_=(S=k.next()).done);_=!0){var C=t[S.value];void 0!==C&&(C.addExon(y),r.add(y))}}catch(Rx){w=!0,x=Rx}finally{try{_||null==k.return||k.return()}finally{if(w)throw x}}}}}}catch(Rx){f=!0,m=Rx}finally{try{p||null==v.return||v.return()}finally{if(f)throw m}}var E=!0,R=!1,A=void 0;try{for(var I,T=e[Symbol.iterator]();!(E=(I=T.next()).done);E=!0){var D=I.value;if(Ly.has(D.type)||Ny.has(D.type)||Fy.has(D.type)){var O=q(D);if(O){var M=!0,P=!1,L=void 0;try{for(var F,N=O[Symbol.iterator]();!(M=(F=N.next()).done);M=!0){var z=t[F.value];void 0!==z&&(Ny.has(D.type)?z.addUTR(D):Ly.has(D.type)?z.addCDS(D):Fy.has(D.type),r.add(D))}}catch(Rx){P=!0,L=Rx}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}}}}}catch(Rx){R=!0,A=Rx}finally{try{E||null==T.return||T.return()}finally{if(R)throw A}}n.forEach((function(e){"function"==typeof e.finish&&e.finish()}));var B=e.filter((function(e){return!r.has(e)})),j=!0,V=!1,$=void 0;try{for(var U,H=B[Symbol.iterator]();!(j=(U=H.next()).done);j=!0)n.push(U.value)}catch(Rx){V=!0,$=Rx}finally{try{j||null==H.return||H.return()}finally{if(V)throw $}}return n;function q(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}}]),e}(),Zy=function(e){Object.assign(this,e),this.exons=[]};Zy.prototype.addExon=function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},Zy.prototype.addCDS=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end,t.children||(t.children=[]),t.children.push(e)):(e.cdStart=e.start,e.cdEnd=e.end,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end},Zy.prototype.addUTR=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)),t.children||(t.children=[]),t.children.push(e)):(e.utr=!0,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},Zy.prototype.finish=function(){var e=this.cdStart,t=this.cdEnd;this.exons.sort((function(e,t){return e.start-t.start})),e&&this.exons.forEach((function(n){(n.end<e||n.start>t)&&(n.utr=!0)}))},Zy.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];n.push({name:"type",value:this.type}),n.push({name:"start",value:this.start+1}),n.push({name:"end",value:this.end});var r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value.trim().split(this.delim,2);if(2===l.length&&void 0!==l[1]){var c=l[0].trim(),h=l[1].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),n.push({name:c,value:h})}}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}var u=!0,d=!1,p=void 0;try{for(var f,m=this.exons[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var g=f.value;if(e>=g.start&&e<g.end){n.push("<hr>");var v=g.popupData(e),y=!0,b=!1,_=void 0;try{for(var w,x=v[Symbol.iterator]();!(y=(w=x.next()).done);y=!0)n.push(w.value)}catch(Rx){b=!0,_=Rx}finally{try{y||null==x.return||x.return()}finally{if(b)throw _}}if(g.children){var S=!0,k=!1,C=void 0;try{for(var E,R=g.children[Symbol.iterator]();!(S=(E=R.next()).done);S=!0){var A=E.value;n.push("<hr>");var I=A.popupData(e),T=!0,D=!1,O=void 0;try{for(var M,P=I[Symbol.iterator]();!(T=(M=P.next()).done);T=!0)n.push(M.value)}catch(Rx){D=!0,O=Rx}finally{try{T||null==P.return||P.return()}finally{if(D)throw O}}}}catch(Rx){k=!0,C=Rx}finally{try{S||null==R.return||R.return()}finally{if(k)throw C}}}}}}catch(Rx){d=!0,p=Rx}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}return n};var Xy=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};Xy.prototype.readFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,s=t.startsWith("chr")?t:"chr"+t,o=Math.floor(n),a=Math.ceil(r),l=this.url+"?chromosome="+s+"&start="+o+"&end="+a+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+this.datasetId,e.next=3,og.loadJson(l,{withCredentials:i.config.withCredentials});case 3:if(!(c=e.sent)||!c.singleTissueEqtl){e.next=9;break}return c.singleTissueEqtl.forEach((function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId})),e.abrupt("return",c.singleTissueEqtl);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();var Ky=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};function Qy(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},og.loadJson(t,e)}function Jy(e){return new Promise((function(t,n){var r=e.results?e.results:[],i=e.url,s=e.body,o=e.decode,a=Pm.apiKey,l="?",c=e.fields;return a&&(i=i+l+"key="+a,l="&"),c&&(i=i+l+"fields="+c),function e(a){a?s.pageToken=a:void 0!==s.pageToken&&delete s.pageToken;var l=JSON.stringify(s);og.loadJson(i,{sendData:l,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then((function(n){var i,s;n?((s=o?o(n):n)&&s.forEach((function(e){r.push(e)})),(i=n.nextPageToken)?e(i):t(r)):t(r)})).catch((function(e){n(e)}))}()}))}Ky.prototype.readFeatures=function(e,t,n){var r=this,i=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise((function(e,t){og.loadJson(i,{withCredentials:r.config.withCredentials}).then((function(t){t?(t.eqtls.forEach((function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1})),e(t.eqtls)):e(null)})).catch((function(e){t(e)}))}))};var eb=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};eb.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):Jy({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach((function(e){r.add(e)})),t.callSets.forEach((function(e){r.has(e.id)&&n.push(e)})),n}return t.callSets}}).then((function(t){return e.header.callSets=t,e.header})))},eb.prototype.readFeatures=function(e,t,n){var r=this,i=this.genome;return r.readHeader().then((function(e){return new Promise((function(e,t){r.chrAliasTable?e(r.chrAliasTable):r.readMetadata().then((function(t){r.metadata=t.metadata,r.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach((function(e){var t=e.referenceName,n=i.getChromosomeName(t);r.chrAliasTable[n]=t})),e(r.chrAliasTable)}))}))})).then((function(i){var s=i.hasOwnProperty(e)?i[e]:e;return Jy({url:r.url+"/variants/search",fields:r.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(r.variantSetId)?r.variantSetId:[r.variantSetId],callSetIds:r.callSetIds?r.callSetIds:void 0,referenceName:s,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach((function(e){(t=function(e){var t=new ry;return t.chr=e.referenceName,t.start=parseInt(e.start),t.end=parseInt(e.end),t.pos=t.start+1,t.names=sy(e.names,"; "),t.referenceBases=e.referenceBases,t.alternateBases=sy(e.alternateBases),t.quality=e.quality,t.filter=sy(e.filter),t.info={},e.info&&Object.keys(e.info).forEach((function(n){var r,i=e.info[n];r=Array.isArray(i)?i.join(","):i,t.info[n]=r})),t.calls={},e.calls&&e.calls.forEach((function(e){t.calls[e.callSetId]=e})),ey(t),t}(e)).isRefBlock()||n.push(t)})),n}})}))},eb.prototype.readMetadata=function(){return Qy({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var tb=function(e){this.config=e};function nb(e,t,n,r){if(this.chr=e,this.start=t,this.end=n,this.id=r.id,this.entrezName=r.entrez_name,this.name=r.name,this.actionabilityScore=r.civic_actionability_score,r.coordinates.reference_bases&&(this.refBases=r.coordinates.reference_bases),r.coordinates.variant_bases&&(this.altBases=r.coordinates.variant_bases),r.variant_types&&(this.variant_types=r.variant_types),this.locationString=this.chr+":"+nm(this.start+1)+"-"+nm(this.end),void 0!==this.actionabilityScore){var i;if(this.actionabilityScore<=10)i=.2;else{var s=Math.min(30,this.actionabilityScore);i=.2+.8*Math.log10((s-10)/2)}this.alpha=i}}function rb(e,t){t=t||Number.MAX_SAFE_INTEGER;var n=[];e.sort((function(e,t){return e.start-t.start})),n.push(-1e3);var r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=0,h=Math.min(n.length,t);for(c=0;c<h;c++)if(l.start>n[c]){l.row=c,n[c]=l.end;break}l.row=c,n[c]=l.end}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}tb.prototype.readFeatures=function(e,t,n){return og.loadJson(this.config.url+"/variants/?count=5000").then((function(e){var t=e.records,n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;if(l.coordinates){var c=l.coordinates;c.chromosome&&n.push(new nb(c.chromosome,c.start-1,c.stop,l)),c.chromosome2&&n.push(new nb(c.chromosome2,c.start2-1,c.stop2,l))}}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}))},nb.prototype.popupData=function(){var e=[c("CIViC","https://civicdb.org/links/variants/"+this.id)];if(e.push({name:"Entrez",value:c(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),e.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var t,n=1===this.variant_types.length?"Type":"Types",r=!0,i=!1,s=void 0;try{for(var o,a=this.variant_types[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;t?t+=", "+l.display_name:t=l.display_name}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}e.push({name:n,value:t})}return e.push({name:"Actionability",value:this.actionabilityScore}),e.push({name:"Location",value:this.locationString}),e;function c(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}};var ib=new Set(["bigwig","bw","bigbed","bb","tdf"]),sb=function(){function e(t,n){if(Hn(this,e),this.config=t||{},this.genome=n,this.sourceType=void 0===t.sourceType?"file":t.sourceType,void 0===t.filterTypes&&(t.filterTypes=["chromosome","gene"]),t.features&&Array.isArray(t.features)){var r=t.features;ob(r),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach((function(e){n.forEach((function(n){e[n]=e[t[n]]}))}))}(r,t.mappings),this.featureCache=new Iy(r,n),this.static=!0}else"ga4gh"===t.sourceType?(this.reader=new eb(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new Ky(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new Xy(t),this.queryable=!0,this.expandQuery=!!t.expandQuery):"ucscservice"===t.sourceType?(this.reader=new My(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new Oy(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable,this.expandQuery=!!t.expandQuery):t.reader?(this.reader=t.reader,this.queryable=void 0===t.queryable||t.queryable,this.expandQuery=!!t.expandQuery):"civic-ws"===t.sourceType?(this.reader=new tb(t),this.queryable=!1,this.expandQuery=!!t.expandQuery):(this.reader=new Ay(t,n),void 0!==t.queryable?this.queryable=t.queryable:ib.has(t.format)&&(this.queryable=ib.has(t.format)||this.reader.indexed));this.supportsWG=!this.queryable}var t,n;return Gn(e,[{key:"supportsWholeGenome",value:function(){return this.supportsWG}},{key:"getFileHeader",value:(n=Un(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=10;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=9;break}return e.next=4,this.reader.readHeader();case 4:(t=e.sent)&&(this.header=t,(n=t.features)&&this.ingestFeatures(n),t.format&&(this.config.format=t.format)),this.header=t,e.next=10;break;case 9:this.header={};case 10:return e.abrupt("return",this.header);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r,i,s){var o,a,l,c,h,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=Un(regeneratorRuntime.mark((function e(){var i,a,c,h,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Tm(l,i=n,a=r),!this.featureCache||!this.static&&!this.featureCache.containsRange(c)&&"all"!==t.toLowerCase()){e.next=7;break}return e.abrupt("return",this.featureCache);case 7:return(!s||s<=0)&&!1!==this.expandQuery?(i=0,a=Number.MAX_SAFE_INTEGER):s>r-n&&!1!==this.expandQuery&&(h=Math.min(4.1*(r-n),s),i=Math.max(0,(n+r-h)/2),a=n+h),c=new Tm(l,i,a),e.next=11,o.readFeatures(l,c.start,c.end);case 11:return u=e.sent,void 0===this.queryable&&(this.queryable=o.indexed),u?this.ingestFeatures(u,c):this.featureCache=new Iy,e.abrupt("return",this.featureCache);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},u=function(){return d.apply(this,arguments)},o=this.reader,l=(a=this.genome)?a.getChromosomeName(t):t,e.next=7,u.call(this);case 7:if(c=e.sent,h=this.queryable,"all"!==t.toLowerCase()){e.next=22;break}if(!h){e.next=14;break}return e.abrupt("return",[]);case 14:if(!(c.count>5e5)){e.next=19;break}return this.supportsWG=!1,e.abrupt("return",[]);case 19:return e.abrupt("return",this.getWGFeatures(c.getAllFeatures()));case 20:e.next=23;break;case 22:return e.abrupt("return",c.queryFeatures(l,n,r));case 23:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,s){return t.apply(this,arguments)})},{key:"ingestFeatures",value:function(e,t){"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(e=new Yy(this.config).combineFeatures(e)),"wig"!==this.config.format&&"junctions"!==this.config.type&&ob(e,this.config.maxRows||500),this.featureCache=new Iy(e,this.genome,t),this.config.searchable&&this.addFeaturesToDB(e)}},{key:"addFeaturesToDB",value:function(e){var t=this;e.forEach((function(e){e.name&&(t.config.browser.featureDB[e.name.toUpperCase()]=e)}))}},{key:"getWGFeatures",value:function(e){var t=this.genome,n=new Set(t.wgChromosomeNames),r=[],i=!0,s=!1,o=void 0;try{for(var a,l=t.wgChromosomeNames[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=e[a.value];if(c){var h=!0,u=!1,d=void 0;try{for(var p,f=c[Symbol.iterator]();!(h=(p=f.next()).done);h=!0){var m=p.value,g=t.getChromosomeName(m.chr);if(n.has(g)){var v=Object.create(Object.getPrototypeOf(m));Object.assign(v,m),v.realChr=m.chr,v.realStart=m.start,v.realEnd=m.end,v.chr="all",v.start=t.getGenomeCoordinate(m.chr,m.start),v.end=t.getGenomeCoordinate(m.chr,m.end),v.originalFeature=m,v.exons&&delete v.exons,v.popupData=function(e){if("function"==typeof this.originalFeature.popupData)return this.originalFeature.popupData();var n=Object.assign({},this);return n.chr=this.realChr,n.start=this.realStart+1,n.end=this.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd,delete n.px,delete n.py,Qv.extractPopupData(n,t.id)},r.push(v)}}}catch(Rx){u=!0,d=Rx}finally{try{h||null==f.return||f.return()}finally{if(u)throw d}}}}}catch(Rx){s=!0,o=Rx}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}return r.sort((function(e,t){return e.start-t.start})),r}}]),e}();function ob(e,t){if(t=t||1e3,null!=e&&0!==e.length){var n={},r=[];e.forEach((function(e){var t=e.chr,i=n[t];i||(n[t]=i=[],r.push(t)),i.push(e)})),r.forEach((function(e){rb(n[e],t)}))}}var ab=r.isFinite;Te({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&ab(e)}});var lb=function(e,t,n){this.path=e.url,this.bufferSize=n||512e3,this.range={start:-1,size:-1},this.config=e};lb.prototype.dataViewForRange=function(e,t){var n,r,i=this;return i.data&&i.range.start<=e.start&&i.range.start+i.range.size>=e.start+e.size?Promise.resolve(s(i,e,t)):(n=e.size?Math.max(i.bufferSize,e.size):i.bufferSize,og.loadArrayBuffer(i.path,Sm(i.config,{range:r={start:e.start,size:n}})).then((function(n){return i.data=n,i.range=r,s(i,e,t)})));function s(e,t,n){var r=e.data.byteLength,i=t.start-e.range.start;return n?new Uint8Array(e.data,i,r-i):new DataView(e.data,i,r-i)}};var cb=function(e,t){this.path=e.url,this.genome=t,this.rpTreeCache={},this.config=e};function hb(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}function ub(e,t,n){this.config=t,this.fileOffset=e,this.path=t.url,this.littleEndian=n}function db(e){this.items=e;var t,n,r=Number.MAX_SAFE_INTEGER,i=0,s=Number.MAX_SAFE_INTEGER,o=0;for(t=0;t<e.length;t++)n=e[t],r=Math.min(r,n.startChrom),i=Math.max(i,n.endChrom),s=Math.min(s,n.startBase),o=Math.max(o,n.endBase);this.startChrom=r,this.endChrom=i,this.startBase=s,this.endBase=o}function pb(e,t,n){var r=e.getInt(),i=e.getInt(),s=e.getInt(),o=e.getInt(),a=e.getLong(),l=e.getLong(),c={},h=[];this.header={magic:r,blockSize:i,keySize:s,valSize:o,itemCount:a,reserved:l},this.chromToID=c,this.idToChrom=h,function e(r,i){i>=0&&(r.position=i);var o,a,l,u,d,p=r.getByte(),f=(r.getByte(),r.getUShort());if(1===p)for(o=0;o<f;o++)a=r.getFixedLengthTrimmedString(s),l=r.getInt(),r.getInt(),n&&(a=n.getChromosomeName(a)),c[a]=l,h[l]=a;else for(o=0;o<f;o++)a=r.getFixedLengthTrimmedString(s),u=r.getLong(),d=r.position,e(r,u-t),r.position=d}(e,-1)}function fb(e,t,n,r,i){return!!e&&(r>e.startChrom||r===e.startChrom&&i>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase)}function mb(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),gb.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}function gb(){var e=this.basesCovered;e>0&&(this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1)),this.defaultRange={min:this.minVal<0?this.mean-2*this.stddev:0,max:this.maxVal>0?this.mean+2*this.stddev:0})}function vb(e,t,n,r,i,s,o){var a,l=new cy(e),c=l.getInt(),h=l.getInt(),u=l.getInt(),d=l.getInt(),p=l.getInt(),f=l.getByte(),m=(l.getByte(),l.getUShort());if(c>=t&&c<=r)for(;m-- >0;){switch(f){case 1:h=l.getInt(),u=l.getInt(),a=l.getFloat();break;case 2:h=l.getInt(),a=l.getFloat(),u=h+p;break;case 3:a=l.getFloat(),u=h+p,h+=d}if(!(c<t||c===t&&u<n)){if(c>r||c===r&&h>=i)break;Number.isFinite(a)&&s.push({chr:o[c],start:h,end:u,value:a})}}}function yb(e,t,n,r,i,s,o){for(var a=new cy(e);a.remLength()>=13;){var l=a.getInt(),c=o[l],h=a.getInt(),u=a.getInt(),d=a.getString();if(!(l<t||l===t&&u<n)){if(l>r||l===r&&h>=i)break;var p={chr:c,start:h,end:u};s.push(p);var f=d.split("\t");if(f.length>0&&(p.name=f[0]),f.length>1&&(p.score=parseFloat(f[1])),f.length>2&&(p.strand=f[2]),f.length>3&&(p.cdStart=parseInt(f[3])),f.length>4&&(p.cdEnd=parseInt(f[4])),f.length>5&&"."!==f[5]&&"0"!==f[5]&&"-1"!==f[5]){var m=om.createColorString(f[5]);p.color=m.startsWith("rgb")?m:void 0}if(f.length>8){for(var g=parseInt(f[6]),v=f[7].split(","),y=f[8].split(","),b=[],_=0;_<g;_++){var w=h+parseInt(y[_]),x=w+parseInt(v[_]);b.push({start:w,end:x})}p.exons=b}}}}function bb(e,t,n,r,i,s,o,a){for(var l,c,h,u,d,p,f,m,g,v=new cy(e);v.remLength()>=32;){switch(g=o[l=v.getInt()],c=v.getInt(),h=v.getInt(),u=v.getInt(),d=v.getFloat(),p=v.getFloat(),f=v.getFloat(),v.getFloat(),a){case"min":m=d;break;case"max":m=p;break;default:m=0===u?0:f/u}if(!(l<t||l===t&&h<n)){if(l>r||l===r&&c>=i)break;Number.isFinite(m)&&s.push({chr:g,start:c,end:h,value:m})}}}cb.prototype.readWGFeatures=function(e,t){var n=this;return n.getZoomHeaders().then((function(r){return n.readFeatures(n.chromTree.idToChrom[0],0,n.chromTree.idToChrom[n.chromTree.idToChrom.length-1],Number.MAX_VALUE,e,t)}))},cb.prototype.readFeatures=function(e,t,n,r,i,s){var o,a,l,c=this;return c.getZoomHeaders().then((function(e){var t,n=function(e,t){var n,r,i=null;for(n=0;n<t.length;n++)if((r=t[n]).reductionLevel<e){i=r;break}return i}(i,e);return n?(t=n.indexOffset,o=bb):(t=c.header.fullIndexOffset,o="BigWig"===c.type?vb:yb),c.loadRPTree(t)})).then((function(i){return l=c.chromTree.chromToID[n],void 0===(a=c.chromTree.chromToID[e])||void 0===l?void 0:i.findLeafItemsOverlapping(a,t,l,r)})).then((function(e){if(e&&0!==e.length){var n=Number.MAX_VALUE,i=0,h=!0,u=!1,d=void 0;try{for(var p,f=e[Symbol.iterator]();!(h=(p=f.next()).done);h=!0){var m=p.value;n=Math.min(n,m.dataOffset),i=Math.max(i,m.dataOffset+m.dataSize)}}catch(Rx){u=!0,d=Rx}finally{try{h||null==f.return||f.return()}finally{if(u)throw d}}return og.loadArrayBuffer(c.config.url,Sm(c.config,{range:{start:n,size:i-n}})).then((function(i){var h=[],u=new Uint8Array(i),d=!0,p=!1,f=void 0;try{for(var m,g=e[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v,y=m.value,b=u.subarray(y.dataOffset-n,y.dataOffset+y.dataSize);v=c.header.uncompressBuffSize>0?new Qf.Inflate(b).decompress():b,o(new DataView(v.buffer),a,t,l,r,h,c.chromTree.idToChrom,s)}}catch(Rx){p=!0,f=Rx}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}return h.sort((function(e,t){return e.start-t.start})),h}))}return[]}))},cb.prototype.getZoomHeaders=function(){var e=this;return e.zoomLevelHeaders?Promise.resolve(e.zoomLevelHeaders):e.loadHeader().then((function(){return e.zoomLevelHeaders}))},cb.prototype.loadHeader=function(){var e=this;return e.header?Promise.resolve(e.header):og.loadArrayBuffer(e.path,Sm(e.config,{range:{start:0,size:64}})).then((function(t){var n;e.littleEndian=!0;var r=new cy(new DataView(t)),i=r.getUInt();if(2291137574===i)e.type="BigWig";else if(2273964779===i)e.type="BigBed";else{e.littleEndian=!1,r.littleEndian=!1,r.position=0;var s=r.getUInt();654085990===s?e.type="BigWig":3958540679===s&&(e.type="BigBed")}return(n={}).bwVersion=r.getUShort(),n.nZoomLevels=r.getUShort(),n.chromTreeOffset=r.getLong(),n.fullDataOffset=r.getLong(),n.fullIndexOffset=r.getLong(),n.fieldCount=r.getUShort(),n.definedFieldCount=r.getUShort(),n.autoSqlOffset=r.getLong(),n.totalSummaryOffset=r.getLong(),n.uncompressBuffSize=r.getInt(),n.reserved=r.getLong(),n})).then((function(n){return e.header=n,t.call(e)}));function t(){var e=this;return og.loadArrayBuffer(e.path,Sm(e.config,{range:{start:64,size:e.header.fullDataOffset-64+5}})).then((function(t){var n=e.header.nZoomLevels,r=new cy(new DataView(t));e.zoomLevelHeaders=[],e.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(var i=1;i<=n;i++){var s=n-i,o=new hb(s,r);e.firstZoomDataOffset=Math.min(o.dataOffset,e.firstZoomDataOffset),e.zoomLevelHeaders[s]=o}if(e.header.autoSqlOffset>0&&(r.position=e.header.autoSqlOffset-64,e.autoSql=r.getString()),e.header.totalSummaryOffset>0&&(r.position=e.header.totalSummaryOffset-64,e.totalSummary=new mb(r)),!(e.header.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return r.position=e.header.chromTreeOffset-64,e.chromTree=new pb(r,64,e.genome),r.position=e.header.fullDataOffset-64,e.header.dataCount=r.getInt(),e.header}))}},cb.prototype.loadRPTree=function(e){var t=this,n=t.rpTreeCache[e];return n?Promise.resolve(n):(n=new ub(e,t.config,t.littleEndian)).load().then((function(){return t.rpTreeCache[e]=n,n}))},ub.prototype.load=function(){var e=this,t=e.fileOffset+48,n=new lb(e.config,512e3);return e.readNode(t,n).then((function(t){return e.rootNode=t,e}))},ub.prototype.readNode=function(e,t){var n,r,i=this;return t.dataViewForRange({start:e,size:4},!1).then((function(s){var o,a;return a=(o=new cy(s,i.littleEndian)).getByte(),r=1===a,o.getByte(),n=o.getUShort(),t.dataViewForRange({start:e+=4,size:n*(r?32:24)},!1)})).then((function(e){var t,i=new Array(n),s=new cy(e);if(r){for(t=0;t<n;t++){var o={isLeaf:!0,startChrom:s.getInt(),startBase:s.getInt(),endChrom:s.getInt(),endBase:s.getInt(),dataOffset:s.getLong(),dataSize:s.getLong()};i[t]=o}return new db(i)}for(t=0;t<n;t++){var a={isLeaf:!1,startChrom:s.getInt(),startBase:s.getInt(),endChrom:s.getInt(),endBase:s.getInt(),childOffset:s.getLong()};i[t]=a}return new db(i)}))},ub.prototype.findLeafItemsOverlapping=function(e,t,n,r){var i=this;return new Promise((function(s,o){var a=[],l=new Set,c=new lb(i.config,512e3);l.add(0),function h(u,d){fb(u,e,t,n,r)&&u.items.forEach((function(s){fb(s,e,t,n,r)&&(s.isLeaf?a.push(s):s.childNode?h(s.childNode):(l.add(s.childOffset),i.readNode(s.childOffset,c).then((function(e){s.childNode=e,h(e,s.childOffset)})).catch(o)))})),void 0!==d&&l.delete(d),0===l.size&&s(a)}(i.rootNode,0)}))};var _b=function(e,t){this.reader=new cb(e,t),this.genome=t,this.format=e.format||"bigwig",this.wgValues={}};_b.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i,s){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==t.toLowerCase()){e.next=6;break}return e.next=3,this.getWGValues(s);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.reader.readFeatures(t,n,t,r,i,s);case 8:e.t0=e.sent;case 9:return o=e.t0,"bigwig"===this.format.toLowerCase()||"bw"===this.format.toLowerCase()||rb(o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,s){return e.apply(this,arguments)}}(),_b.prototype.getDefaultRange=function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0},_b.prototype.defaultVisibilityWindow=function(){if("bigwig"===this.reader.type)return Promise.resolve(void 0);var e=this.genome?this.genome.getGenomeLength():3088286401;return this.reader.loadHeader().then((function(t){return e/t.dataCount*1e3}))},_b.prototype.getWGValues=function(e){var t,n=this,r=this.genome;return n.wgValues[e]?Promise.resolve(n.wgValues[e]):(t=r.getGenomeLength()/500,n.reader.readWGFeatures(t,e).then((function(t){var i=[];return t.forEach((function(e){var t,n;n=r.getCumulativeOffset(e.chr),(t=Object.assign({},e)).chr="all",t.start=n+e.start,t.end=n+e.end,i.push(t)})),n.wgValues[e]=i,i})))},_b.prototype.supportsWholeGenome=function(){return!0};var wb={getTissueInfo:function(e,t){return og.loadJson((t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8"),{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}},xb=new Dd("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach((function(e){xb.getColor(e)}));var Sb=wm(Qv,(function(e,t){this.type="feature",Qv.call(this,e,t),void 0===e.maxRows&&(e.maxRows=500),this.maxRows=e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode;var n=e.format?e.format.toLowerCase():void 0;this.featureSource="bigwig"===n||"bigbed"===n?new _b(e,t.genome):new sb(e,t.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight),void 0!==this.height&&this.height||(this.height=100),"spliceJunctions"===e.type&&void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5),e.render?this.render=e.render:"FusionJuncSpan"===e.type?this.render=Rb:"spliceJunctions"===e.type?this.render=Ab:"snp"===e.type?(this.render=Mb,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function"):(this.render=Cb,this.arrowSpacing=30,function(e){function t(){e.trackView&&e.trackView.tile&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",(function n(r){e.browser.un&&e===r&&(e.browser.un("trackdrag",t),e.browser.un("trackremoved",n))})))}(this))}));function kb(e,t,n){var r=(e.start-t)/n,i=(e.end-t)/n,s=i-r;return s<3&&(s=3,r-=1.5),{px:r,px1:i,pw:s}}function Cb(e,t,n,r,i,s){var o,a,l=this.browser,c=this.color;if(e.alpha&&1!==e.alpha&&(c=om.addAlpha(this.color,e.alpha)),this.config.colorBy){var h=e[this.config.colorBy.field];h&&(c=this.config.colorBy.pallete[h])}else e.color&&(c=e.color);i.fillStyle=c,i.strokeStyle=c,"SQUISHED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight/2,a=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight,a=this.margin+this.expandedRowHeight*e.row):(o=this.featureHeight,a=this.margin);var u=a+o/2,d=o/2,p=u-d/2,f=e.exons?e.exons.length:0,m=kb(e,t,n),g=this.arrowSpacing,v="+"===e.strand?1:"-"===e.strand?-1:0;if(0===f){if(i.fillRect(m.px,a,m.pw,o),0!==v){i.fillStyle="white",i.strokeStyle="white";for(var y=m.px+g/2;y<m.px1;y+=g)Qg.strokeLine(i,y-2*v,u-2,y,u),Qg.strokeLine(i,y-2*v,u+2,y,u);i.fillStyle=c,i.strokeStyle=c}}else{Qg.strokeLine(i,m.px+1,u,m.px1-1,u);for(var b=s.pixelWidth,_=Math.max(0,m.px)+g/2,w=Math.min(b,m.px1),x=_;x<w;x+=g)Qg.strokeLine(i,x-2*v,u-2,x,u),Qg.strokeLine(i,x-2*v,u+2,x,u);for(var S=0;S<f;S++){var k=e.exons[S],C=Math.round((k.start-t)/n),E=Math.round((k.end-t)/n),R=Math.max(1,E-C),A=void 0;if(!(C+R<0)){if(C>b)break;if(k.utr)i.fillRect(C,p,R,d);else if(k.cdStart&&(A=Math.round((k.cdStart-t)/n),i.fillRect(C,p,A-C,d),R-=A-C,C=A),k.cdEnd&&(A=Math.round((k.cdEnd-t)/n),i.fillRect(A,p,E-A,d),R-=E-A,E=A),i.fillRect(C,a,R,o),R>g+5&&0!==v){i.fillStyle="white",i.strokeStyle="white";for(var I=C+g/2;I<E;I+=g)Qg.strokeLine(i,I-2*v,u-2,I,u),Qg.strokeLine(i,I-2*v,u+2,I,u);i.fillStyle=c,i.strokeStyle=c}}}}var T=Math.round(s.viewportContainerX);s.drawLabel&&Eb.call(this,i,e,m.px,m.px1,a,T,T+s.viewportContainerWidth/(l.genomicStateList?l.genomicStateList.length:1),s.genomicState,s)}function Eb(e,t,n,r,i,s,o,a,l){if(void 0!==t.name){var c,h,u;r<s||n>o?(c=n,h=r):(c=Math.max(n,s),h=Math.min(r,o));var d=!1;if(a.selection&&wb.gtexLoaded&&(d=!0,u=a.selection.colorForGene(t.name)),"SQUISHED"!==this.displayMode){var p,f={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:u||t.color||this.color,strokeStyle:u||t.color||this.color};"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(p={rotate:{angle:45}});var m=c+(h-c)/2,g=function(e,t){return t?e+20:e+25}(i,p),v=e.measureText(t.name);(l.labelAllFeatures||m-v.width/2>l.rowLastX[t.row]||d)&&(l.rowLastX[t.row]=m+v.width/2,l.labelTransform?(e.save(),l.labelTransform(e,m),Qg.fillText(e,t.name,m,g,f,void 0),e.restore()):Qg.fillText(e,t.name,m,g,f,p))}}}function Rb(e,t,n,r,i){var s,o="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;"COLLAPSED"===this.display&&(s=this.margin),("SQUISHED"===this.displayMode&&void 0!==e.row||"EXPANDED"===this.displayMode&&void 0!==e.row)&&(s=this.margin+o*e.row);var a=s+.5*o,l=a-.5*o,c=a+.5*o,h=Math.round((e.junction_left-t)/n),u=Math.round((e.junction_right-t)/n);i.beginPath(),i.moveTo(h,a),i.bezierCurveTo(h,l,u,l,u,a),i.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var d=e.spanning_frag_coords,p=0;p<d.length;p++){var f=d[p],m=Math.round((f.left-t)/n),g=Math.round((f.right-t)/n);i.beginPath(),i.moveTo(m,a),i.bezierCurveTo(m,c,g,c,g,a),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}function Ab(e,t,n,r,i){if(!(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)){var s=parseInt(e.attributes.uniquely_mapped);if(!(s<this.config.minUniquelyMappedReads)){var o=parseInt(e.attributes.multi_mapped),a=s+o;if(!(a<this.config.minTotalReads||a>0&&o/a>this.config.maxFractionMultiMappedReads||parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)){var l,c,h,u=this.margin,d=this.height,p=u+.5*d,f=u,m=u+d-10,g=Math.round((e.start-t)/n),v=Math.round((e.end-t)/n),y=(g+v)/2,b=(g+y)/2,_=(y+v)/2;void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?l=s:"numReads"===this.config.thicknessBasedOn?l=a:"isAnnotatedJunction"===this.config.thicknessBasedOn&&(l="true"===e.attributes.annotated_junction?20:100),l=1+Math.log(l+1)/Math.log(12),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?c=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?c=(e.end-e.start)/1e3:"thickness"===this.config.bounceHeightBasedOn&&(c=2*l),f+=d*Math.max(7-c,0)/10,void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?h=s>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?h=a>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?h="true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?h="+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy&&(h=xb.getColor(e.attributes.motif));var w="";void 0===this.config.labelUniqueReadCount&&void 0===this.config.labelMultiMappedReadCount&&void 0===this.config.labelTotalReadCount?w+=s+(0==o?"":"(+"+o+")"):(this.config.labelTotalReadCount?w+=a:this.config.labelUniqueReadCount&&(w+=s),this.config.labelMultiMappedReadCount&&o>0&&(w+=" (+"+o+")")),this.config.labelAnnotatedJunction&&"true"===e.attributes.annotated_junction&&(w+=this.config.labelAnnotatedJunction),this.config.labelMotif&&e.attributes.motif&&(w+=" ".concat(e.attributes.motif)),i.beginPath(),i.moveTo(g,m),i.bezierCurveTo(b,f,_,f,v,m),i.lineWidth=l,i.strokeStyle=h,i.stroke(),i.fillText(w,y-i.measureText(w).width/2,(7*f+p)/8)}}}}Sb.prototype.postInit=Un(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readFileHeader();case 2:if((t=e.sent)&&this.setTrackProperties(t),!(n=this.config.format)||"bigbed"!==n.toLowerCase()||void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),Sb.prototype.supportsWholeGenome=function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome},Sb.prototype.readFileHeader=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}}),e,this)}))),Sb.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Sb.prototype.computePixelHeight=function(e){if("spliceJunctions"===this.type)return this.height;if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;if(e&&"function"==typeof e.forEach){var n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;a.row&&a.row>t&&(t=a.row)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)},Sb.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,s=e.pixelWidth,o=e.pixelHeight,a=i+s*r+1;if(this.config.isMergedTrack||Qg.fillRect(n,0,e.pixelTop,s,o,{fillStyle:"rgb(255, 255, 255)"}),t){var l=[];e.rowLastX=[];var c=!0,h=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value.row||0;void 0===l[f]?l[f]=1:l[f]++,e.rowLastX[f]=-Number.MAX_SAFE_INTEGER}}catch(Rx){h=!0,u=Rx}finally{try{c||null==p.return||p.return()}finally{if(h)throw u}}var m=[],g=!0,v=!1,y=void 0;try{for(var b,_=t[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var w=b.value;if(!(w.end<i)){if(w.start>a)break;var x="COLLAPSED"===this.displayMode?0:w.row;e.drawLabel=e.labelAllFeatures||s/l[x]>10;var S=Math.ceil((w.end-i)/r),k=m[x];if((!k||S>k||"spliceJunctions"===this.config.type)&&(this.render.call(this,w,i,r,o,n,e),"spliceJunctions"!==this.config.type)){var C=Math.floor((w.start-i)/r);k&&C-k<=0&&(n.globalAlpha=.5,Qg.strokeLine(n,C,0,C,o,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),m[x]=S}}}}catch(Rx){v=!0,y=Rx}finally{try{g||null==_.return||_.return()}finally{if(v)throw y}}}},Sb.prototype.clickedFeatures=function(e){var t,n=e.y-this.margin,r=Qv.prototype.clickedFeatures.call(this,e);switch(this.displayMode){case"SQUISHED":t=Math.floor(n/this.squishedRowHeight);break;case"EXPANDED":t=Math.floor(n/this.expandedRowHeight);break;default:t=void 0}return r.filter((function(e){return void 0===t||void 0===e.row||t===e.row}))},Sb.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=e.genomicLocation,r=[],i=!0,s=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value,h="function"==typeof c.popupData?c.popupData(n):Qv.extractPopupData(c,this.getGenomeId());h&&(r.length>0&&r.push("<HR>"),Array.prototype.push.apply(r,h))}}catch(Rx){s=!0,o=Rx}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}return r},Sb.prototype.menuItemList=function(){var e=this,t=[];return this.render===Mb&&(["function","class"].forEach((function(n){t.push({object:Sd("Color by "+n,n===e.colorBy),click:function(){e.colorBy=n,e.trackView.repaintViews()}})})),t.push({object:Ya('<div class="igv-track-menu-border-top">')})),t.push({object:Ya('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(n){t.push({object:Sd({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.config.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t},Sb.prototype.description=function(){if(Mb===this.render){var e="<html>"+this.name+"<hr>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',(e+='<span style="color:black">Black</span>: Indel, Insertion, SNP')+"</html>"}return this.name},Sb.prototype.dispose=function(){this.trackView=void 0};var Ib=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),Tb=new Set(["coding-synon"]),Db=new Set(["splice-3","splice-5"]),Ob=new Set(["untranslated-5","untranslated-3"]);function Mb(e,t,n,r,i){var s,o,a,l=kb(e,t,n),c=this.margin,h=this.snpColors.length;switch(s="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":o=e.func.split(",").map((function(e){return Ib.has(e)||Db.has(e)?h-1:Tb.has(e)?h-2:Ob.has(e)?h-3:0})).reduce((function(e,t){return Math.max(e,t)}));break;case"class":o="deletion"===(a=e.class)?h-1:"mnp"===a?h-2:"microsatellite"===a||"named"===a?h-3:0}i.fillStyle=this.snpColors[o],i.fillRect(l.px,c,l.pw,s)}var Pb=function(e,t){this.type="sequence",this.browser=t,this.removable=!1,this.config=e,this.name="",this.id="sequence",this.sequenceType=e.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=e.order||-Number.MAX_SAFE_INTEGER,this.ignoreTrackMenu=!1,this.removable=!1,this.reversed=!1,this.frameTranslate=!1,this.complement={A:"T",C:"G",G:"C",T:"A"},this.translationDict={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"}};function Lb(e){return this.color?this.color:"dna"===this.sequenceType?Id[e]||"gray":"rgb(0, 0, 150)"}Pb.prototype.menuItemList=function(){var e=this;return[{name:e.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:e.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){e.frameTranslate=!e.frameTranslate,e.frameTranslate?(e.trackView.viewports.forEach((function(e){e.setContentHeight(115)})),e.trackView.setTrackHeight(115)):(e.trackView.viewports.forEach((function(e){e.setContentHeight(25)})),e.trackView.setTrackHeight(25)),e.trackView.repaintViews()}}]},Pb.prototype.translateSequence=function(e){var t=[[],[],[]],n=this;return[0,1,2].forEach((function(r){for(var i,s,o=r;e.length-o>=3;)i={},s=e.slice(o,o+3),n.reversed&&(s=s.split("").reverse().join("")),i.codons=s,i.aminoA=n.translationDict[s.toUpperCase()],t[r].push(i),i=null,o+=3})),t},Pb.prototype.getFeatures=function(e,t,n,r){var i=this.browser;return r&&r>1?Promise.resolve(null):i.genome.sequence.getSequence(e,t,n).then((function(e){return{bpStart:t,sequence:e}}))},Pb.prototype.draw=function(e){var t=this,n=e.context;if(e.features){for(var r=e.features.sequence,i=e.features.bpStart,s=1+e.bpStart+e.pixelWidth*e.bpPerPixel,o=i;o<=s;o++){var a=Math.floor(o-i);if(a<r.length){var l=r[a];this.reversed&&(l=this.complement[l.toUpperCase()]);var c=o-e.bpStart,h=c/e.bpPerPixel,u=(c+1)/e.bpPerPixel,d=Lb.call(this,l);if(e.bpPerPixel>.1)Qg.fillRect(n,h,5,u-h,10,{fillStyle:d});else{var p=.5*(h+u-n.measureText(l).width);Qg.strokeText(n,l,p,15,{strokeStyle:d})}}}if(this.frameTranslate){var f;f=this.reversed?(f=r.split("").map((function(e){return t.complement[e]}))).join(""):r;var m=15,g=this.translateSequence(f),v=!0,y=!1,b=void 0;try{for(var _,w=g[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var x=_.value,S=g.indexOf(x),k=S;m=0===S?m+10:m+30;var C=!0,E=!1,R=void 0;try{for(var A,I=x[Symbol.iterator]();!(C=(A=I.next()).done);C=!0){var T=A.value,D=void 0,O=x.indexOf(T),M=O+k+2*O,P=0==O%2?"rgb(160,160,160)":"rgb(224,224,224)",L=Math.floor(M/e.bpPerPixel),F=Math.floor((M+3)/e.bpPerPixel),N=Math.round((L+F)/2);T.aminoA.indexOf("STOP")>-1?(P="rgb(255, 0, 0)",D="STOP"):D=T.aminoA,"M"===T.aminoA&&(P="rgb(0, 153, 0)",D="START"),Qg.fillRect(n,L,m,F-L,25,{fillStyle:P}),e.bpPerPixel<=.1&&Qg.strokeText(n,D,N-n.measureText(D).width/2,m+15)}}catch(Rx){E=!0,R=Rx}finally{try{C||null==I.return||I.return()}finally{if(E)throw R}}}}catch(Rx){y=!0,b=Rx}finally{try{v||null==w.return||w.return()}finally{if(y)throw b}}}}},Pb.prototype.supportsWholeGenome=function(){return!1},Pb.prototype.computePixelHeight=function(e){return this.height};var Fb=function(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}};function Nb(e,t){for(var n=e.getInt(),r=e.getInt(),i=e.getFloat(),s=[],o=t;o-- >0;){for(var a=n,l=[];a-- >0;)l.push(e.getFloat());s.push(l)}return{type:"fixedStep",start:r,span:i,data:s,nTracks:t,nPositions:n}}function zb(e,t){for(var n=e.getInt(),r=e.getFloat(),i=e.getInt(),s=[],o=i;o-- >0;)s.push(e.getInt());e.getInt();for(var a=[],l=t;l-- >0;){o=i;for(var c=[];o-- >0;)c.push(e.getFloat());a.push(c)}return{type:"variableStep",tileStart:n,span:r,start:s,data:a,nTracks:t,nPositions:i}}function Bb(e,t,n){for(var r=e.getInt(),i=r,s=[];i-- >0;)s.push(e.getInt());i=r;for(var o=[];i-- >0;)o.push(e.getInt());e.getInt();for(var a=[],l=t;l-- >0;){for(var c=r,h=[];c-- >0;)h.push(e.getFloat());a.push(h)}if("bedWithName"===n){i=r;for(var u=[];i-- >0;)u.push(e.getString())}return{type:n,start:s,end:o,data:a,name,nTracks:t,nPositions:r}}Fb.prototype.readHeader=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a,l,c,h,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.magic){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:0,size:64e3}}));case 4:if(t=e.sent,n=new cy(new DataView(t)),this.magic=n.getInt(),this.version=n.getInt(),this.indexPos=n.getLong(),this.indexSize=n.getInt(),n.getInt(),this.version>=2)for(r=n.getInt(),this.windowFunctions=[];r-- >0;)this.windowFunctions.push(n.getString());for(this.trackType=n.getString(),this.trackLine=n.getString(),i=n.getInt(),this.trackNames=[];i-- >0;)this.trackNames.push(n.getString());return this.genomeID=n.getString(),this.flags=n.getInt(),this.compressed=0!=(1&this.flags),e.next=22,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(t=e.sent,n=new cy(new DataView(t)),this.datasetIndex={},s=n.getInt();s-- >0;)o=n.getString(),a=n.getLong(),l=n.getInt(),this.datasetIndex[o]={position:a,size:l};for(this.groupIndex={},s=n.getInt();s-- >0;)c=n.getString(),h=n.getLong(),u=n.getInt(),this.groupIndex[c]={position:h,size:u};return e.abrupt("return",this);case 31:case"end":return e.stop()}}),e,this)}))),Fb.prototype.readDataset=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.datasetCache[i=t+"_"+n+"_"+r]){e.next=5;break}return e.abrupt("return",this.datasetCache[i]);case 5:return e.next=7,this.readHeader();case 7:if(s=this.version<2?"":"/"+n,o="all"===t.toLowerCase()||void 0===r?"0":r.toString(),void 0!==(l=this.datasetIndex[a="raw"===n?"/"+t+"/raw":"/"+t+"/z"+o+s])){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.next=15,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:l.position,size:l.size}}));case 15:if(c=e.sent){e.next=18;break}return e.abrupt("return",void 0);case 18:for(h=new cy(new DataView(c)),u=h.getInt(),d={};u-- >0;)d[h.getString()]=h.getString();for(p=h.getString(),f=h.getFloat(),m=h.getInt(),g=[];m-- >0;)g.push({position:h.getLong(),size:h.getInt()});return this.datasetCache[i]=v={name:a,attributes:d,dataType:p,tileWidth:f,tiles:g},e.abrupt("return",v);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Fb.prototype.readRootGroup=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,!(n=this.groupCache["/"])){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.readGroup("/");case 8:return i=(r=e.sent).chromosomes,(s=r.maxZoom)&&(this.maxZoom=Number(s)),o={},i&&i.split(",").forEach((function(e){var n=t.getChromosomeName(e);o[n]=e})),this.chrAliasTable=o,this.groupCache["/"]=r,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)}))),Fb.prototype.readGroup=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.groupCache[t])){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.readHeader();case 7:if(void 0!==(r=this.groupIndex[t])){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.next=12,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:r.position,size:r.size}}));case 12:if(i=e.sent){e.next=15;break}return e.abrupt("return",void 0);case 15:for(s=new cy(new DataView(i)),o={name:t},a=s.getInt();a-- >0;)l=s.getString(),c=s.getString(),o[l]=c;return this.groupCache[t]=o,e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Fb.prototype.readTiles=function(){var e=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sort((function(e,t){return e.position-t.position})),0!==(t=t.filter((function(e){return e.size>0}))).length){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return s=(r=t[t.length-1]).position+r.size-(i=t[0].position),e.next=10,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:i,size:s}}));case 10:o=e.sent,a=[],l=!0,c=!1,h=void 0,e.prev=15,u=t[Symbol.iterator]();case 17:if(l=(d=u.next()).done){e.next=41;break}if(f=(p=d.value).position-i,!((m=p.size)>0)){e.next=38;break}g=void 0,this.compressed?(v=new Qf.Inflate(new Uint8Array(o,f,m)),y=v.decompress(),g=y.buffer):g=o.slice(f,f+m),b=new cy(new DataView(g)),_=b.getString(),w=void 0,e.t0=_,e.next="fixedStep"===e.t0?30:"variableStep"===e.t0?32:"bed"===e.t0||"bedWithName"===e.t0?34:36;break;case 30:return w=Nb(b,n),e.abrupt("break",37);case 32:return w=zb(b,n),e.abrupt("break",37);case 34:return w=Bb(b,n,_),e.abrupt("break",37);case 36:throw"Unknown tile type: "+_;case 37:a.push(w);case 38:l=!0,e.next=17;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(15),c=!0,h=e.t1;case 47:e.prev=47,e.prev=48,l||null==u.return||u.return();case 50:if(e.prev=50,!c){e.next=53;break}throw h;case 53:return e.finish(50);case 54:return e.finish(47);case 55:return e.abrupt("return",a);case 56:case"end":return e.stop()}}),e,this,[[15,43,47,55],[48,,50,54]])})));return function(t,n){return e.apply(this,arguments)}}(),Fb.prototype.readTile=function(){var e=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,og.loadArrayBuffer(this.path,Sm(this.config,{range:{start:t.position,size:t.size}}));case 2:r=e.sent,this.compressed&&(i=new Qf.Inflate(new Uint8Array(r)),s=i.decompress(),r=s.buffer),o=new cy(new DataView(r)),a=o.getString(),e.t0=a,e.next="fixedStep"===e.t0?9:"variableStep"===e.t0?10:"bed"===e.t0||"bedWithName"===e.t0?11:12;break;case 9:return e.abrupt("return",Nb(o,n));case 10:return e.abrupt("return",zb(o,n));case 11:return e.abrupt("return",Bb(o,n,a));case 12:throw"Unknown tile type: "+a;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}();var jb=function(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new Fb(e,t)};function Vb(e,t,n,r,i,s){for(var o=e.nPositions,a=e.start,l=e.end,c=e.data[0],h=0;h<o;h++){var u=a[h],d=l[h];if(!(d<n)){if(u>r)break;s.push({chr:t,start:u,end:d,value:c[h]})}}}function $b(e,t,n,r,i,s){for(var o=e.nPositions,a=e.start,l=e.span,c=e.data[0],h=0;h<o;h++){var u=a[h],d=u+l;if(!(d<n)){if(u>r)break;s.push({chr:t,start:u,end:d,value:c[h]})}}}function Ub(e,t,n,r,i,s){for(var o=e.nPositions,a=e.start,l=e.span,c=e.data[0],h=0;h<o;h++){var u=a+l;if(a>r)break;u>=n&&(Number.isNaN(c[h])||s.push({chr:t,start:a,end:u,value:c[h]})),a=u}}jb.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k=function(){return(k=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootGroup){e.next=4;break}return e.abrupt("return",this.rootGroup);case 4:return e.next=6,this.reader.readRootGroup();case 6:return this.rootGroup=e.sent,e.abrupt("return",this.rootGroup);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},S=function(){return k.apply(this,arguments)},e.next=4,S.call(this);case 4:if(s=new Tm(t,n,r),o=this.genome,"all"!==t.toLowerCase()){e.next=8;break}return e.abrupt("return",[]);case 8:return s.bpPerPixel=i,e.next=11,S.call(this);case 11:return a=qb(t,i,o),void 0===(l=this.reader.chrAliasTable[t])&&(l=t),void 0===(c=this.reader.maxZoom)&&(c=-1),h=a>c?"raw":this.windowFunction,e.next=20,this.reader.readDataset(l,h,a);case 20:if(null!=(u=e.sent)){e.next=23;break}return e.abrupt("return",[]);case 23:return d=u.tileWidth,p=Math.floor(n/d),f=Math.floor(r/d),e.next=29,this.reader.readTiles(u.tiles.slice(p,f+1),1);case 29:m=e.sent,g=[],v=!0,y=!1,b=void 0,e.prev=34,_=m[Symbol.iterator]();case 36:if(v=(w=_.next()).done){e.next=51;break}e.t0=(x=w.value).type,e.next="bed"===e.t0?41:"variableStep"===e.t0?43:"fixedStep"===e.t0?45:47;break;case 41:return Vb(x,t,n,r,0,g),e.abrupt("break",48);case 43:return $b(x,t,n,r,0,g),e.abrupt("break",48);case 45:return Ub(x,t,n,r,0,g),e.abrupt("break",48);case 47:throw"Unknown tile type: "+x.type;case 48:v=!0,e.next=36;break;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e.catch(34),y=!0,b=e.t1;case 57:e.prev=57,e.prev=58,v||null==_.return||_.return();case 60:if(e.prev=60,!y){e.next=63;break}throw b;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return g.sort((function(e,t){return e.start-t.start})),e.abrupt("return",g);case 67:case"end":return e.stop()}}),e,this,[[34,53,57,65],[58,,60,64]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),jb.prototype.supportsWholeGenome=function(){return!1};var Hb=Math.log(2);function qb(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/Hb)}function Gb(e,t,n){var r,i,s,o,a,l,c,h={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function u(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(Qg.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),a={x:i=c=.95*t,y:s=o=.01*n},Qg.strokeLine(e,r=c-8,s,i,o,h),Qg.fillText(e,u(this.dataRange.max),r+4,s+12,h),l={x:i,y:s=o=.99*n},Qg.strokeLine(e,r,s,i,o,h),Qg.fillText(e,u(this.dataRange.min),r+4,s-4,h),Qg.strokeLine(e,a.x,a.y,l.x,l.y,h))}var Wb=vd.dataRangeMenuItem,Yb=wm(Qv,(function(e,t){this.type="wig",this.featureType="numeric",void 0===e.color&&(e.color="rgb(150,150,150)"),void 0===e.height&&(e.height=50),Qv.call(this,e,t);var n=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===n?new _b(e,t.genome):"tdf"===n?new jb(e,t.genome):new sb(e,t.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.paintAxis=Gb,this.graphType=e.graphType||"bar"}));function Zb(e){this.thresholds=e.thresholds,this.colors=e.colors}function Xb(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}Yb.prototype.postInit=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:(t=e.sent)&&this.setTrackProperties(t);case 4:case"end":return e.stop()}}),e,this)}))),Yb.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.windowFunction));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Yb.prototype.menuItemList=function(){var e=this,t=[];return t.push(Wb(this.trackView)),t.push({object:Sd("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Yb.prototype.getFileHeader=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}}),e,this)}))),Yb.prototype.draw=function(e){var t,n=this,r=e.features,i=e.context,s=e.bpPerPixel,o=e.bpStart,a=e.pixelHeight,l=o+e.pixelWidth*s+1,c=-1,h=-1;"string"==typeof n.color&&n.color.startsWith("rgb(")&&(t=om.addAlpha(n.color,.1));var u=function(e){return(n.dataRange.max-e)/(n.dataRange.max-n.dataRange.min)*a};if(r&&r.length>0&&(void 0===n.dataRange.min&&(n.dataRange.min=0),n.dataRange.max>n.dataRange.min)){if(y.end<o)return;if(y.start>l)return;var d=!0,p=!1,f=void 0;try{for(var m,g=r[Symbol.iterator]();!(d=(m=g.next()).done);d=!0)y(m.value)}catch(Rx){p=!0,f=Rx}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}if(n.dataRange.min<0){var v=n.dataRange.max/(n.dataRange.max-n.dataRange.min)*e.pixelHeight;Qg.strokeLine(i,0,v,e.pixelWidth,v,{strokeStyle:t})}}function y(e){if(!(e.value<n.dataRange.min)){var t=u(e.value),r=function(e){return Math.floor((e.start-o)/s)}(e);if(!isNaN(r)){var a=u(0)-t,l=function(e,t){var n=Math.ceil((e.end-o)/s);return Math.max(1,n-t)}(e,r),d=e.value<0&&n.altColor?n.altColor:n.color,p="function"==typeof d?d(e.value):d;if("points"===n.graphType)Qg.fillCircle(i,r+l/2,t,(n.config.pointSize||3)/2,{fillStyle:p,strokeStyle:p});else{var f=r+l;(f>c||e.value>=0&&e.value>h||e.value<0&&e.value<1)&&Qg.fillRect(i,r,t,l,a,{fillStyle:p}),h=e.value,c=f}}}}!function(e){if(n.config.hasOwnProperty("guideLines")){var t=!0,r=!1,i=void 0;try{for(var s,o=n.config.guideLines[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var a=s.value;if(a.hasOwnProperty("color")&&a.hasOwnProperty("y")&&a.hasOwnProperty("dotted")){var l=u(a.y),c={strokeStyle:a.color,strokeWidth:2};a.dotted?Qg.dashedLine(e.context,0,l,e.pixelWidth,l,5,c):Qg.strokeLine(e.context,0,l,e.pixelWidth,l,c)}}}catch(Rx){r=!0,i=Rx}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}}}(e)},Yb.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0){var n=[],r=function(e,t,n){for(var r,i,s=0,o=e.length-1,a=s+o>>1;!l(e[a],t,n)&&s<o;)t<e[a].start?o=a-1:t>e[a].end&&(s=a+1),a=s+o>>1;if(l(e[a],t,n)){if(l(r=e[a],t,0))return r;for(i=a;i-- >=0&&(l(e[i]),!n);){if(l(e[i],t,0))return e[i];for(c(e[i],t)<c(r,t)&&(r=e[i]),i=a;i++<e.length&&(l(e[i]),!n);){if(l(e[i],t,0))return e[i];c(e[i],t)<c(r,t)&&(r=e[i])}}return r}return;function l(e,t,n){return t>=e.start-n&&t<=e.end+n}function c(e,t){return Math.min(Math.abs(e.start-t),Math.abs(e.end-t))}}(t,e.genomicLocation,2*e.viewport.genomicState.referenceFrame.bpPerPixel);if(r){var i=r.end-r.start==1?nm(r.start+1):nm(r.start+1)+"-"+nm(r.end);n.push({name:"Position:",value:i}),n.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:nm(r.value)})}return n}return[]},Yb.prototype.dispose=function(){this.trackView=void 0},Yb.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},Yb.prototype.supportsWholeGenome=function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()},Zb.prototype.getColor=function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=this.thresholds[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(e<o)return this.colors[this.thresholds.indexOf(o)]}}catch(Rx){n=!0,r=Rx}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}return this.colors[this.colors.length-1]},Xb.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var Kb=function(){function e(t){Hn(this,e),this.color=t}return Gn(e,[{key:"getColor",value:function(){return this.color}}]),e}(),Qb=wm(Qv,(function(e,t){if(Qv.call(this,e,t),this.isLog=e.isLog,this.displayMode=e.displayMode||"SQUISHED",this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||12,this.posColorScale=e.posColorScale||new Xb({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new Xb({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),this.sampleKeys=[],this.featureSource=new sb(this.config,t.genome),e.sort){var n=e.sort;this.sortSamples(n.chr,n.start,n.end,n.direction)}}));Qb.prototype.postInit=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),Qb.prototype.menuItemList=function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};return t.push("<hr/>"),t.push("Sample Height"),["SQUISHED","EXPANDED","FILL"].forEach((function(r){t.push({object:Sd(n[r],r===e.displayMode),click:function(){e.displayMode=r,e.config.displayMode=r,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t},Qb.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Qb.prototype.draw=function(e){var t=this,n=(Nd(2),e.context),r=e.pixelWidth;Qg.fillRect(n,0,e.pixelTop,r,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var i=e.features;if(i&&i.length>0){void 0===t.isLog&&function(e){if(void 0===t.isLog){t.isLog=!1;var n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(s.value.value<0)return void(t.isLog=!0)}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}(i);var s=e.bpPerPixel,o=e.bpStart,a=o+r*s+1,l=s;this.updateSampleKeys(i);var c,h,u={};switch(this.sampleKeys.forEach((function(e,t){u[e]=t})),this.displayMode){case"FILL":c=e.pixelHeight/this.sampleKeys.length,h=0;break;case"SQUISHED":c=this.squishedRowHeight,h=0;break;default:c=this.expandedRowHeight,h=1}var d=!0,p=!1,f=void 0;try{for(var m,g=i[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;if(!(v.end<o)){if(v.start>a)break;var y=v.sampleKey||v.sample;v.row=u[y];var b,_=u[y]*c+h,w=v.value;t.isLog||(w=Nd(w/2)),b=w<-.1?t.negColorScale.getColor(w):w>.1?t.posColorScale.getColor(w):"white";var x=Math.max(v.start,o),S=Math.round((x-o)/l),k=Math.min(v.end,a),C=Math.round((k-o)/l),E=Math.max(1,C-S);n.fillStyle=b;var R=c;if(c<.25){var A=.1+2*Math.abs(w);R=Math.min(1,A*c)}v.pixelRect={x:S,y:_,w:E,h:R-2*h},n.fillRect(S,_,E,R-2*h)}}}catch(Rx){p=!0,f=Rx}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}}},Qb.prototype.computePixelHeight=function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t},Qb.prototype.sortSamples=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d,p,f,m,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,n,r);case 2:this.updateSampleKeys(s=e.sent),o={},a=r-n+1,l=!0,c=!1,h=void 0,e.prev=9,u=s[Symbol.iterator]();case 11:if(l=(d=u.next()).done){e.next=26;break}if(!((p=d.value).end<n)){e.next=15;break}return e.abrupt("continue",23);case 15:if(!(p.start>r)){e.next=17;break}return e.abrupt("break",26);case 17:f=Math.max(n,p.start),m=Math.min(r,p.end),o[g=p.sampleKey||p.sample]=(o[g]||0)+(m-f)/a*p.value;case 23:l=!0,e.next=11;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(9),c=!0,h=e.t0;case 32:e.prev=32,e.prev=33,l||null==u.return||u.return();case 35:if(e.prev=35,!c){e.next=38;break}throw h;case 38:return e.finish(35);case 39:return e.finish(32);case 40:v="ASC"===i?1:-1,this.sampleKeys.sort((function(e,t){var n=o[e],r=o[t];return n||(n=v*Number.MAX_VALUE),r||(r=v*Number.MAX_VALUE),n===r?0:n>r?v:-1*v})),this.trackView.repaintViews();case 43:case"end":return e.stop()}}),e,this,[[9,28,32,40],[33,,35,39]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Qb.prototype.clickedFeatures=function(e){var t,n=Qv.prototype.clickedFeatures.call(this,e);return t=e.y,n.filter((function(e){var n=e.pixelRect;return n&&t>=n.y&&t<=n.y+n.h}))},Qb.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator]();!(r=o.next().done);r=!0);}catch(Rx){i=!0,s=Rx}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return t.forEach((function(e){!function(e,t){var n,r=new Set(["row","color","sampleKey","uniqueSampleKey","uniquePatientKey"]);e.hasOwnProperty("realChr")?((n=Object.assign({},e)).chr=e.realChr,n.start=e.realStart,n.end=e.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd):n=e;for(var i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];!r.has(o)&&xm(n[o])&&t.push({name:o,value:n[o]})}}(e,n)})),n},Qb.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport.genomicState.referenceFrame,r=e.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",s=n.toBP(2.5);return[{label:"Sort by value",click:function(e){var o={direction:i,chr:n.chrName,start:r-s,end:r+s};!function(e){t.sortSamples(e.chr,e.start,e.end,e.direction)}(o),t.config.sort=o}}]},Qb.prototype.supportsWholeGenome=function(){return this.featureSource.supportsWholeGenome()},Qb.prototype.updateSampleKeys=function(e){var t=new Set(this.sampleKeys),n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=a.sampleKey||a.sample;t.has(l)||(t.add(l),this.sampleKeys.push(l))}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}};var Jb=wm(Qv,(function(e,t){var n=this;e.tracks&&(Qv.call(this,e,t),this.tracks=[],e.tracks.forEach((function(e){e.type||kv(e),e.isMergedTrack=!0;var r=t.createTrack(e);r?(r.autoscale=!1,n.tracks.push(r)):console.warn("Could not create track "+e)})),Object.defineProperty(this,"height",{get:function(){return this._height},set:function(e){this._height=e;var t=!0,n=!1,r=void 0;try{for(var i,s=this.tracks[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;o.height=e,o.config.height=e}}catch(Rx){n=!0,r=Rx}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}}}),this.height=e.height||100)}));Jb.prototype.getFeatures=function(e,t,n,r){var i=this.tracks.map((function(i){return i.getFeatures(e,t,n,r)}));return Promise.all(i)},Jb.prototype.draw=function(e){var t,n,r,i,s;for(s=function(e,t){var n=0,r=-Number.MAX_VALUE;return t.forEach((function(e,t){e.forEach((function(e){void 0===e.value||Number.isNaN(e.value)||(n=Math.min(n,e.value),r=Math.max(r,e.value))}))})),{min:n,max:r}}(0,r=e.features),t=0,n=this.tracks.length;t<n;t++)(i=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=s,this.tracks[t].draw(i)},Jb.prototype.paintAxis=function(e,t,n){var r,i,s;for(r=0,i=this.tracks.length;r<i;r++)if("function"==typeof(s=this.tracks[r]).paintAxis){s.paintAxis(e,t,n);break}},Jb.prototype.popupData=function(e){for(var t=[],n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n].popupData(e);t.push.apply(t,tr(i))}return t};var e_=function(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;var t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart};function t_(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}e_.prototype.setSecondAlignment=function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart},e_.prototype.popupData=function(e){var t=[];return t=t.concat(this.firstAlignment.popupData(e)),this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t},e_.prototype.isPaired=function(){return!0},e_.prototype.firstOfPairStrand=function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand};var n_=function(e,t,n,r,i,s,o){this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(n),this.length=n-t,this.alleleFreqThreshold=void 0===o?.2:o,this.coverageMap=new s_(e,t,n,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===r?100:r,this.samplingDepth=void 0===i?1e3:i,this.pairsSupported=void 0===s||s,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new i_(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new l_};function r_(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new a_(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}function i_(e,t,n){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=n.samplingDepth,this.pairsSupported=n.pairsSupported,this.downsampledReads=n.downsampledReads,this.pairsCache=n.pairsCache}function s_(e,t,n,r){this.chr=e,this.bpStart=t,this.length=n-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}function o_(e){this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}function a_(e,t,n){this.start=e,this.end=t,this.counts=n}function l_(e,t){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}function c_(){this.hidden=!1}function h_(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t>=r.start&&t<r.start+r.len)return r}}function u_(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function d_(e,t){return e[t+1]<<8|e[t]}function p_(e,t){return new DataView(e.buffer).getFloat32(t,!0)}n_.prototype.push=function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(r_.call(this),this.currentBucket=new i_(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))},n_.prototype.forEach=function(e){this.alignments.forEach(e)},n_.prototype.finish=function(){void 0!==this.currentBucket&&r_.call(this),this.alignments.sort((function(e,t){return e.start-t.start})),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()},n_.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},n_.prototype.hasDownsampledIntervals=function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0},i_.prototype.addAlignment=function(e){var t,n,r;if(this.pairsSupported&&t_(e)&&(r=this.pairsCache[e.readName]))return r.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&t_(e)?(r=new e_(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments.push(r)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&t_(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),r=new e_(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments[t]=r):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)},s_.prototype.incCounts=function(e){var t=this;if(void 0===e.blocks?g(e):e.blocks.forEach((function(e){g(e)})),e.gaps){var n=!0,r=!1,i=void 0;try{for(var s,o=e.gaps[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;if("D"===a.type)for(var l=a.start-t.bpStart,c=l;c<l+a.len;c++)c<0||(this.coverage[c]||(this.coverage[c]=new o_(t.threshold)),this.coverage[c].del++)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}if(e.insertions){var h=!0,u=!1,d=void 0;try{for(var p,f=e.insertions[Symbol.iterator]();!(h=(p=f.next()).done);h=!0){var m=p.value.start-this.bpStart;m<0||(this.coverage[m]||(this.coverage[m]=new o_(t.threshold)),this.coverage[m].ins++)}}catch(Rx){u=!0,d=Rx}finally{try{h||null==f.return||f.return()}finally{if(u)throw d}}}function g(n){if("S"!==n.type)for(var r=e.seq,i=e.qual,s=n.seqOffset,o=n.start-t.bpStart,a=0;a<n.len;o++,a++){t.coverage[o]||(t.coverage[o]=new o_(t.threshold));var l=r.charAt(s+a),c=i&&s+a<i.length?i[s+a]:30;t.coverage[o][e.strand?"pos"+l:"neg"+l]+=1,t.coverage[o]["qual"+l]+=c,t.coverage[o].total+=1,t.coverage[o].qual+=c,t.maximum=Math.max(t.coverage[o].total,t.maximum)}}},o_.prototype.isMismatch=function(e){var t,n=this,r=this.threshold*(this.qual?this.qual:this.total);return t=0,["A","T","C","G"].forEach((function(r){r!==e&&(t+=n.qual?n["qual"+r]:n["pos"+r]+n["neg"+r])})),t>=r},a_.prototype.popupData=function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]},l_.prototype.push=function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}},l_.prototype.compute=function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}},c_.prototype.isMapped=function(){return 0==(4&this.flags)},c_.prototype.isPaired=function(){return 0!=(1&this.flags)},c_.prototype.isProperPair=function(){return 0!=(2&this.flags)},c_.prototype.isFirstOfPair=function(){return 0!=(64&this.flags)},c_.prototype.isSecondOfPair=function(){return 0!=(128&this.flags)},c_.prototype.isSecondary=function(){return 0!=(256&this.flags)},c_.prototype.isSupplementary=function(){return 0!=(2048&this.flags)},c_.prototype.isFailsVendorQualityCheck=function(){return 0!=(512&this.flags)},c_.prototype.isDuplicate=function(){return 0!=(1024&this.flags)},c_.prototype.isMateMapped=function(){return 0==(8&this.flags)},c_.prototype.isNegativeStrand=function(){return 0!=(16&this.flags)},c_.prototype.isMateNegativeStrand=function(){return 0!=(32&this.flags)},c_.prototype.tags=function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){for(var t=0,n=e.length,r={};t<n;){var i,s=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]),o=String.fromCharCode(e[t+2]);if("A"===o)i=String.fromCharCode(e[t+3]),t+=4;else if("i"===o||"I"===o)i=u_(e,t+3),t+=7;else if("c"===o||"C"===o)i=e[t+3],t+=4;else if("s"===o||"S"===o)i=d_(e,t+3),t+=5;else if("f"===o)i=p_(e,t+3),t+=7;else if("Z"===o)for(t+=3,i="";;){var a=e[t++];if(0===a)break;i+=String.fromCharCode(a)}else i="B"===o?"Arrays not currently supported":"Error unknown type: "+o;r[s]=i}return r}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict},c_.prototype.popupData=function(e){var t=[];if(e=Math.floor(e),this.insertions){var n=this.seq,r=!0,i=!1,s=void 0;try{for(var o,a=this.insertions[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=l.start;if(e===c||e===c-1)return t.push({name:"Insertion",value:n.substr(l.seqOffset,l.len)}),t.push({name:"Location",value:c}),t}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}t.push({name:"Read Name",value:this.readName}),t.push("<hr>"),t.push({name:"Alignment Start",value:nm(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:p(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:p(this.isSecondary())}),t.push({name:"Supplementary",value:p(this.isSupplementary())}),t.push({name:"Duplicate",value:p(this.isDuplicate())}),t.push({name:"Failed QC",value:p(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:p(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr>");var h=this.tags(),u=!0;for(var d in h)h.hasOwnProperty(d)&&(u?(t.push({name:d,value:h[d],borderTop:!0}),u=!1):t.push({name:d,value:h[d]}));return t.push("<hr>"),t.push({name:"Genomic Location: ",value:nm(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function p(e){return e?"Yes":"No"}},c_.prototype.readBaseAt=function(e){var t=h_(this.blocks,e);if(t){if("*"===this.seq)return"*";var n=t.seqIndexAt(e);return this.seq[n]}},c_.prototype.readBaseQualityAt=function(e){var t=h_(this.blocks,e);if(t){if("*"===this.qual)return 30;var n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}};var f_=function(e){e&&Object.assign(this,e)};function m_(e){e||(e={}),this.vendorFailed=void 0===e.vendorFailed||e.vendorFailed,this.duplicates=void 0===e.duplicates||e.duplicates,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mqThreshold=void 0===e.mqThreshold?0:e.mqThreshold,e.readgroups&&(this.readgroups=new Set(e.readgroups))}f_.prototype.seqIndexAt=function(e){return Math.floor(e)-this.start+this.seqOffset},m_.prototype.pass=function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0};var g_=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],v_=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],y_=w_(new Uint8Array([66,65,77,1]),0),b_={readHeader:function(e,t,n){return og.loadArrayBuffer(e,t).then((function(e){var t;return t=zm(e),b_.decodeBamHeader(t,n)}))},decodeBamHeader:function(e,t){var n,r,i,s,o;if((n=w_(e,0))!==y_)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=w_(e,4);for(var a=0;a<r;++a)String.fromCharCode(e[a+8]);var l=w_(e,r+8),c=r+12;for(i={},s=[],o={},a=0;a<l;++a){for(var h=w_(e,c),u="",d=0;d<h-1;++d)u+=String.fromCharCode(e[c+4+d]);w_(e,c+h+4),i[u]=a,s[a]=u,t&&(o[t.getChromosomeName(u)]=u),c=c+8+h}return{magicNumber:n,size:c,chrNames:s,chrToIndex:i,chrAliasTable:o}},bam_tag2cigar:function(e,t,n,r,i,s){function o(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==s.length||i.start<0)return!1;for(var a=n+(r+1>>1)+r;a+4<t&&"CG"!==String.fromCharCode(e[a])+String.fromCharCode(e[a+1]);){var l=String.fromCharCode(e[a+2]);if("B"===l)a+=8+o(l=String.fromCharCode(e[a+3]))*w_(e,a+4);else if("Z"===l||"H"===l)for(a+=3;0!==e[a++];);else a+=3+o(l)}if(a>=t)return!1;if("B"!==String.fromCharCode(e[a+2])||"I"!==String.fromCharCode(e[a+3]))return!1;var c=w_(e,a+4),h=a+8;if(h+4*c>t)return!1;var u="",d=0;s.length=0,a=h;for(var p=0;p<c;++p,a+=4){var f=w_(e,a),m=f>>4,g=v_[15&f];"M"!==g&&"EQ"!==g&&"X"!==g&&"D"!==g&&"N"!==g&&"="!==g||(d+=m),u=u+m+g,s.push({len:m,ltr:g})}return i.cigar=u,i.lengthOnRef=d,!0},decodeBamRecords:function(e,t,n,r,i,s,o,a){for(;t<e.length;){var l=t+w_(e,t)+4,c=new c_,h=w_(e,t+4),u=w_(e,t+8);if(l>e.length)return;if(h<0)t=l;else{if(void 0!==i&&(h>i||u>o))return!0;if(void 0!==i&&h<i)t=l;else{for(var d=w_(e,t+12),p=(65280&d)>>8,f=255&d,m=w_(e,t+16),g=(4294901760&m)>>16,v=65535&m,y=w_(e,t+20),b=w_(e,t+24),_=w_(e,t+28),w=w_(e,t+32),x=[],S=0;S<f-1;++S)x.push(String.fromCharCode(e[t+36+S]));x=x.join("");for(var k=0,C="",E=t+36+f,R=[],A=0;A<v;++A){var I=w_(e,E),T=I>>4,D=v_[15&I];"M"!==D&&"EQ"!==D&&"X"!==D&&"D"!==D&&"N"!==D&&"="!==D||(k+=T),C=C+T+D,E+=4,R.push({len:T,ltr:D})}if(c.chr=r[h],c.start=u,c.flags=g,c.strand=!(16&g),c.readName=x,c.cigar=C,c.lengthOnRef=k,c.fragmentLength=w,c.mq=p,b_.bam_tag2cigar(e,l,E,y,c,R),c.end=c.start+c.lengthOnRef,c.end<s)t=l;else{for(var O=[],M=y+1>>1,P=0;P<M;++P){var L=e[E+P];O.push(g_[(240&L)>>4]),O.push(g_[15&L])}O=O.slice(0,y).join(""),E+=M;for(var F=[],N=0;N<y;++N)F.push(e[E+N]);E+=y,b>=0&&(c.mate={chr:r[b],position:_,strand:!(32&g)}),c.seq=O,c.qual=F,c.tagBA=new Uint8Array(e.buffer.slice(E,l)),this.setPairOrientation(c),(void 0===a||a.pass(c))&&(__(c,R),n.push(c)),t=l}}}}},decodeSamRecords:function(e,t,n,r,i,s){var o,a,l,c,h,u,d,p,f,m;for(c=(o=rm(e)).length,a=0;a<c;a++)if(h=o[a].split("\t"),(f=new c_).chr=h[2],f.start=Number.parseInt(h[3])-1,f.flags=Number.parseInt(h[1]),f.readName=h[0],f.strand=!(16&f.flags),f.mq=Number.parseInt(h[4]),f.cigar=h[5],f.fragmentLength=Number.parseInt(h[8]),f.seq=h[9],"*"!==f.chr&&f.isMapped()&&f.chr===n){if(f.start>i)break;if(p=0,(m=x_(f.cigar)).forEach((function(e){var t=e.ltr;"M"!==t&&"EQ"!==t&&"X"!==t&&"D"!==t&&"N"!==t&&"="!==t||(p+=e.len)})),f.lengthOnRef=p,!(f.start+p<r)){for(u=h[10],f.qual=[],l=0;l<u.length;l++)f.qual[l]=u.charCodeAt(l)-33;f.tagDict=h.length<11?{}:S_(h.slice(11)),f.isMateMapped()&&(f.mate={chr:"="===(d=h[6])?f.chr:d,position:Number.parseInt(h[7]),strand:!(32&f.flags)}),this.setPairOrientation(f),(void 0===s||s.pass(f))&&(__(f,m),t.push(f))}}},setReaderDefaults:function(e,t){e.filter=new m_(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>1e4&&(e.samplingDepth=1e4),e.pairsSupported=!!t.viewAsPairs||void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",i=" ",s=" ";e.isFirstOfPair()?(i="1",s="2"):e.isSecondOfPair()&&(i="2",s="1");var o=[],a=e.fragmentLength,l=e.end-e.start;0===a&&(a=(e.start<n.position?n.position+l:n.position-l)-e.start),a>0?(o[0]=t,o[1]=i,o[2]=r,o[3]=s):(o[2]=t,o[3]=i,o[0]=r,o[1]=s),e.pairOrientation=o.join("")}}};function __(e,t){var n,r,i=[],s=0,o=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;var a=!0,l=!1,c=void 0;try{for(var h,u=t[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var d=h.value,p=void 0;switch(d.ltr){case"H":case"P":break;case"S":p=o,e.scLengthOnRef+=d.len,0===i.length&&(e.scStart-=d.len,p-=d.len),i.push(new f_({start:p,seqOffset:s,len:d.len,type:"S"})),s+=d.len;break;case"N":case"D":void 0===r&&(r=[]),r.push({start:o,len:d.len,type:d.ltr}),o+=d.len;break;case"I":void 0===n&&(n=[]),n.push(new f_({start:o,len:d.len,seqOffset:s,type:"I"})),s+=d.len;break;case"M":case"EQ":case"=":case"X":i.push(new f_({start:o,seqOffset:s,len:d.len,type:"M"})),s+=d.len,o+=d.len}}}catch(Rx){l=!0,c=Rx}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}e.blocks=i,e.insertions=n,e.gaps=r}function w_(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function x_(e){var t,n,r,i,s,o,a,l,c;for(t=[],n=[],s=null,i=e.length,r=0;r<i;r++)(c=(o=e.charAt(r)).charCodeAt(0))>=48&&c<=57?n.push(o):(a=o,l=Number.parseInt(n.join("")),n=[],null!==s&&s.ltr===a?s.len+=l:t.push(s={len:l,ltr:a}));return t}function S_(e){var t={};return e.forEach((function(e){var n=e.split(":");t[n[0]]=n[2]})),t}var k_=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=tm(e.url)&&e.url.startsWith("data:"),b_.setReaderDefaults(this,e)};function C_(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}k_.prototype.readAlignments=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m,g,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=function(e,t,n){var r,i,s,o;return i=(r=this.header).chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,s=this.alignmentCache.queryFeatures(i,t,n),o=new n_(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),s.forEach((function(e){o.push(e)})),o.finish(),o},v=function(e){var t=[];this.header=b_.decodeBamHeader(e),b_.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new Iy(t,i)},i=this.genome,!this.alignmentCache){e.next=31;break}for(o=(s=this.header).chrAliasTable.hasOwnProperty(t)?s.chrAliasTable[t]:t,a=this.alignmentCache.queryFeatures(o,n,r),l=new n_(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),c=!0,h=!1,u=void 0,e.prev=11,d=a[Symbol.iterator]();!(c=(p=d.next()).done);c=!0)l.push(p.value);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),h=!0,u=e.t0;case 19:e.prev=19,e.prev=20,c||null==d.return||d.return();case 22:if(e.prev=22,!h){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return l.finish(),e.abrupt("return",l);case 31:if(!this.isDataUri){e.next=38;break}return f=C_(this.bamPath),m=zm(f.buffer),v.call(this,m),e.abrupt("return",y.call(this,t,n,r));case 38:return e.next=40,og.loadArrayBuffer(this.bamPath,Sm(this.config));case 40:return g=zm(e.sent),v.call(this,g),e.abrupt("return",y.call(this,t,n,r));case 44:case"end":return e.stop()}}),e,this,[[11,15,19,27],[20,,22,26]])})));return function(t,n,r){return e.apply(this,arguments)}}();var E_=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL||function(e,t){var n;if(e instanceof File)throw new Error("Cannot infer an index path for a local File.  Please select explicitly");return e.includes("?")?(n=e.indexOf("?"),e.substring(0,n)+".bai"+e.substring(n)):e+".bai"}(this.bamPath),b_.setReaderDefaults(this,e)};function R_(){return A_.apply(this,arguments)}function A_(){return(A_=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=15;break}return t=this.genome,e.next=4,I_.call(this);case 4:return r=Sm(this.config,{range:{start:(n=e.sent).firstAlignmentBlock,size:26}}),e.next=8,og.loadArrayBuffer(this.bamPath,r);case 8:return i=Bm(e.sent),s=Sm(this.config,{range:{start:0,size:n.firstAlignmentBlock+i}}),e.next=14,b_.readHeader(this.bamPath,s,t);case 14:this.header=e.sent;case 15:return e.abrupt("return",this.header);case 16:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function I_(){return T_.apply(this,arguments)}function T_(){return(T_=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,this.index){e.next=6;break}return e.next=4,uy(this.baiPath,this.config,!1,t);case 4:return this.index=e.sent,e.abrupt("return",this.index);case 6:return e.abrupt("return",this.index);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function D_(){return O_.apply(this,arguments)}function O_(){return(O_=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=4;break}return e.abrupt("return",this.chrToIndex);case 4:return e.next=6,R_.call(this);case 6:return this.chrToIndex=(t=e.sent).chrToIndex,this.indexToChr=t.chrNames,this.chrAliasTable=t.chrAliasTable,e.abrupt("return",this.chrToIndex);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}E_.prototype.readAlignments=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D_.call(this);case 2:if(i=e.sent,s=this.chrAliasTable.hasOwnProperty(t)?this.chrAliasTable[t]:t,o=i[s],a=new n_(t,n,r,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==o){e.next=10;break}return e.abrupt("return",a);case 10:return e.next=12,I_.call(this);case 12:if((l=e.sent.blocksForRange(o,n,r))&&0!==l.length){e.next=16;break}return e.abrupt("return",a);case 16:c=!0,h=!1,u=void 0,e.prev=20,d=l[Symbol.iterator]();case 22:if(c=(p=d.next()).done){e.next=48;break}if(m=void 0,0!==(f=p.value).maxv.offset){e.next=29;break}m=0,e.next=34;break;case 29:return g=Sm(this.config,{range:{start:f.maxv.block,size:26}}),e.next=32,og.loadArrayBuffer(this.bamPath,g);case 32:m=Bm(e.sent);case 34:return y={start:v=f.minv.block,size:f.maxv.block+m-v+1},e.next=39,og.loadArrayBuffer(this.bamPath,Sm(this.config,{range:y}));case 39:if(b=zm(e.sent),!b_.decodeBamRecords(b,f.minv.offset,a,this.indexToChr,o,n,r,this.filter)){e.next=44;break}return e.abrupt("break",48);case 44:case 45:c=!0,e.next=22;break;case 48:e.next=54;break;case 50:e.prev=50,e.t0=e.catch(20),h=!0,u=e.t0;case 54:e.prev=54,e.prev=55,c||null==d.return||d.return();case 57:if(e.prev=57,!h){e.next=60;break}throw u;case 60:return e.finish(57);case 61:return e.finish(54);case 62:return a.finish(),e.abrupt("return",a);case 64:case"end":return e.stop()}}),e,this,[[20,50,54,62],[55,,57,61]])})));return function(t,n,r){return e.apply(this,arguments)}}();var M_=function(e,t){this.config=e,this.genome=t;var n={},r={};e.sources.sequences.forEach((function(e){if(n[e]=null,t){var i=t.getChromosomeName(e);r[i]=e}})),this.chrAliasTable=r,this.bamReaders=n,b_.setReaderDefaults(this,e)};M_.prototype.readAlignments=function(e,t,n){var r=this,i=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e;if(this.bamReaders.hasOwnProperty(i)&&"none"!==this.bamReaders[i]){var s,o=r.bamReaders[i];if(!o){s={url:r.config.sources.url.replace("$CHR",i)},r.config.sources.indexURL&&(s.indexURL=r.config.sources.indexURL.replace("$CHR",i));var a=Object.assign(r.config,s);o=new E_(a),r.bamReaders[i]=o}return o.readAlignments(i,t,n).catch((function(o){return console.error(o),Jm.presentAlert(s.url),r.bamReaders[i]="none",new n_(e,t,n)}))}return Promise.resolve(new n_(e,t,n))};var P_=function(e,t){this.config=e,this.genome=t,b_.setReaderDefaults(this,e)};function L_(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=Sm(this.config);return b_.readHeader(n,r,t).then((function(t){return e.header=t,t}))}P_.prototype.readAlignments=function(e,t,n){var r=this;return L_.call(r).then((function(i){var s;return s=i.chrAliasTable.hasOwnProperty(e)?i.chrAliasTable[e]:e,og.loadString(r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+s+":"+t+"-"+n,Sm(r.config)).then((function(i){var o;return o=new n_(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),b_.decodeSamRecords(i,o,s,t,n,r.filter),o}))}))};var F_=function(e,t){this.config=e,this.genome=t,b_.setReaderDefaults(this,e)};function N_(e){var t=[];return e.forEach((function(e){if(e.url.startsWith("data:"))t.push(Promise.resolve(function(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}(e.url)));else{var n={};e.headers&&(n.headers=e.headers,n.headers.hasOwnProperty("referer")&&delete n.headers.referer),t.push(new Promise((function(t,r){og.loadArrayBuffer(e.url,n).then((function(e){t(new Uint8Array(e))}))})))}})),Promise.all(t)}function z_(e){var t=0;e.forEach((function(e){t+=e.length}));var n=0,r=new Uint8Array(t);return e.forEach((function(e){r.set(e,n),n+=e.length})),r}F_.prototype.readAlignments=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.format||"BAM"===this.config.format.toUpperCase()){e.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:return s=this.genome,o=this.header&&this.header.chrAliasTable.hasOwnProperty(t)?this.header.chrAliasTable[t]:t,a=(this.config.url?this.config.url+this.config.endpoint:this.config.endpoint+"/reads/")+this.config.id+"?format=BAM&referenceName="+o+"&start="+n+"&end="+r,e.next=8,og.loadJson(a,this.config);case 8:return l=e.sent,e.next=11,N_(l.htsget.urls);case 11:if(c=z_(e.sent),h=zm(c.buffer),this.header=b_.decodeBamHeader(u=h,s),d=this.header.chrToIndex[t],p=new n_(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),b_.decodeBamRecords(u,this.header.size,p,this.header.chrNames,d,n,r),p.finish(),0!==p.alignments.length){e.next=29;break}if(void 0!==d||!this.header.chrAliasTable.hasOwnProperty(t)||i){e.next=26;break}return e.abrupt("return",this.readAlignments(o=this.header.chrAliasTable[t],n,r,1));case 26:return e.abrupt("return",p);case 27:e.next=30;break;case 29:return e.abrupt("return",p);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),ud("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),gd),ur("hasInstance"),ur("species"),ur("toStringTag");var B_=qe.some,j_=ot("some"),V_=nt("some");Te({target:"Array",proto:!0,forced:!j_||!V_},{some:function(e){return B_(this,e,arguments.length>1?arguments[1]:void 0)}}),ns("Array");var $_=Bp.ArrayBuffer;Te({global:!0,forced:r.ArrayBuffer!==$_},{ArrayBuffer:$_}),ns("ArrayBuffer");var U_=je("hasInstance"),H_=Function.prototype;U_ in H_||A.f(H_,U_,{value:function(e){if("function"!=typeof this||!g(e))return!1;if(!g(this.prototype))return e instanceof this;for(;e=gi(e);)if(this.prototype===e)return!0;return!1}}),fr(r.JSON,"JSON",!0),fr(Math,"Math",!0),Te({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var q_=hd.onFreeze,G_=Object.freeze,W_=i((function(){G_(1)}));Te({target:"Object",stat:!0,forced:W_,sham:!cd},{freeze:function(e){return G_&&g(e)?G_(q_(e)):e}});var Y_=C.f,Z_=i((function(){Y_(1)}));Te({target:"Object",stat:!0,forced:!s||Z_,sham:!s},{getOwnPropertyDescriptor:function(e,t){return Y_(m(e),t)}}),Te({target:"String",proto:!0,forced:i((function(){var e="".sub('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{sub:function(){return"<sub>"+String(f(this))+"</sub>"}}),Up("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Up("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Up("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Te({global:!0,bind:!0,enumerable:!0,forced:!r.setImmediate||!r.clearImmediate},{setImmediate:jl.set,clearImmediate:jl.clear});var X_=eval,K_=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==Vn(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t){var n=function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(Qn(Error)),r=function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n);e.exports={CramBufferOverrunError:function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(r),CramMalformedError:r,CramUnimplementedError:function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(Qn(Error)),CramSizeLimitError:function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n),CramArgumentError:function(e){function t(){return Hn(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n)}},function(e,t,n){(function(e){var r=n(37),i=n(38),s=n(19);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var h=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var u=!0,d=0;d<l;d++)if(c(e,s+d)!==c(t,d)){u=!1;break}if(u)return s}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function b(e,t,n,r){return $(j(t,e.length-n),e,n,r)}function _(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function x(e,t,n,r){return $(V(t),e,n,r)}function S(e,t,n,r){return $(function(e,t){for(var n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,l,c=e[i],h=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u<=n)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(s=e[i+1]))&&(l=(31&c)<<6|63&s)>127&&(h=l);break;case 3:o=e[i+2],128==(192&(s=e[i+1]))&&128==(192&o)&&(l=(15&c)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[i+2],a=e[i+3],128==(192&(s=e[i+1]))&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(r.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=u}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),c=this.slice(r,i),h=e.slice(t,n),u=0;u<a;++u)if(c[u]!==h[u]){s=c[u],o=h[u];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=B(e[s]);return i}function T(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,s){return s||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,s){return s||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=l.isBuffer(e)?e:j(new l(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Vn(window))&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&p())}function p(){if(!h){var e=a(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||h||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(9),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var s=n(7);s.inherits=n(4);var o=n(21),a=n(16);s.inherits(u,o);for(var l=i(a.prototype),c=0;c<l.length;c++){var h=l[c];u.prototype[h]||(u.prototype[h]=a.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(0).CramBufferOverrunError,i={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0};e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(Hn(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!i[n])throw new TypeError("invalid data type ".concat(n))}return Gn(e,[{key:"_getBits",value:function(e,t,n){var i=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new r("read error during decoding. the file seems to be truncated.");for(var s=n;s;s-=1)i<<=1,i|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return i}}]),e}()},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==Vn(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==Vn(e)&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Vn(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(1).Buffer)},function(e,t,n){var r=n(72),i=n(0).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,s=e[r];if(s<128?(n=s,r+=1):s<192?(n=16383&(s<<8|e[r+1]),r+=2):s<224?(n=2097151&(s<<16|e[r+1]<<8|e[r+2]),r+=3):s<240?(n=268435455&(s<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&s)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new i("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.parse(e),s=i.offset,o=i.result;return o._endPosition=s+r,o._size=s-n,o},tinyMemoize:function(e,t){var n=e.prototype[t],r="_memo_".concat(t);e.prototype[t]=function(){return r in this||(this[r]=n.call(this)),this[r]}},sequenceMD5:function(e){return r(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){(function(t){e.exports=!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick((function(){e.apply(null,s)}))}}}:t}).call(this,n(3))},function(e,t,n){var r=n(1),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=Vn(n))throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o.set(s=e[t],i),i+=s.length;return o}},o={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),s=function e(){Hn(this,e),this.F=void 0,this.C=void 0};function o(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var a={FC:s,AriDecoder:function e(){Hn(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new s;this.R=null},Symbol:function e(){Hn(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new r("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new r("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:o,advanceSymbolStep:function(e,t,n){return o(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,s){if((e=r*(e>>s)+(e&(1<<s)-1)-n)<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}};e.exports=a},function(e,t){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==Vn(e)&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(s(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,l=0;l<o;l++)c[l].apply(this,a);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,s,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(21)).Stream=t,t.Readable=t,t.Writable=n(16),t.Duplex=n(5),t.Transform=n(25),t.PassThrough=n(46)},function(e,t,n){(function(t,r,i){var s=n(9);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var a,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:s.nextTick;y.WritableState=v;var c=n(7);c.inherits=n(4);var h,u={deprecate:n(45)},d=n(22),p=n(10).Buffer,f=i.Uint8Array||function(){},m=n(23);function g(){}function v(e,t){a=a||n(5);var r=t instanceof a;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(s.nextTick(i,r),s.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),k(e,t))}(e,n,r,t,i);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(_,e,n,o,i):_(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(a=a||n(5),!(h.call(y,this)||this instanceof a))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var s=0,a=!0;n;)r[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,b(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk;if(b(e,t,!1,t.objectMode?1:l.length,l,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var n=x(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===y&&e&&e._writableState instanceof v}})):h=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(p.isBuffer(r=e)||r instanceof f);return a&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),s.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,r,i,s);return l}(this,i,a,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(3),n(43).setImmediate,n(2))},function(e,t){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){var r=n(36);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(1).Buffer,i=n(39).Transform,s=n(51),o=n(27),a=n(26).ok,l=n(1).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(s),u=0;u<h.length;u++){var d=h[u];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:s[d],writable:!1})}for(var p={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},f=Object.keys(p),m=0;m<f.length;m++){var g=f[m];p[p[g]]=g}function v(e,t,n){var i=[],s=0;function o(){for(var t;null!==(t=e.read());)i.push(t),s+=t.length;e.once("readable",o)}function a(){var t,o=null;s>=l?o=new RangeError(c):t=r.concat(i,s),i=[],e.close(),n(o,t)}e.on("error",(function(t){e.removeListener("end",a),e.removeListener("readable",o),n(t)})),e.on("end",a),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");return e._processChunk(t,e._finishFlushFlag)}function b(e){if(!(this instanceof b))return new b(e);R.call(this,e,s.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);R.call(this,e,s.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,s.GZIP)}function x(e){if(!(this instanceof x))return new x(e);R.call(this,e,s.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);R.call(this,e,s.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);R.call(this,e,s.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);R.call(this,e,s.UNZIP)}function E(e){return e===s.Z_NO_FLUSH||e===s.Z_PARTIAL_FLUSH||e===s.Z_SYNC_FLUSH||e===s.Z_FULL_FLUSH||e===s.Z_FINISH||e===s.Z_BLOCK}function R(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!E(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!E(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||s.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:s.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(n);var a=this;this._hadError=!1,this._handle.onerror=function(e,n){A(a),a._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],a.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function I(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=b,t.Inflate=_,t.Gzip=w,t.Gunzip=x,t.DeflateRaw=S,t.InflateRaw=k,t.Unzip=C,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new _(e)},t.createDeflateRaw=function(e){return new S(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new x(e)},t.createUnzip=function(e){return new C(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.gzipSync=function(e,t){return y(new w(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.deflateRawSync=function(e,t){return y(new S(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new C(t),e,n)},t.unzipSync=function(e,t){return y(new C(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.inflateSync=function(e,t){return y(new _(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gunzipSync=function(e,t){return y(new x(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new k(t),e,n)},t.inflateRawSync=function(e,t){return y(new k(t),e)},o.inherits(R,i),R.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(s.Z_SYNC_FLUSH,(function(){a(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())}))}else e.nextTick(i)},R.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},R.prototype.flush=function(t,n){var i=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=s.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},R.prototype.close=function(t){A(this,t),e.nextTick(I,this)},R.prototype._transform=function(e,t,n){var i,o=this._writableState,a=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},R.prototype._processChunk=function(e,t,n){var i=e&&e.length,s=this._chunkSize-this._offset,o=0,h=this,u="function"==typeof n;if(!u){var d,p=[],f=0;this.on("error",(function(e){d=e})),a(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,s)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw d;if(f>=l)throw A(this),new RangeError(c);var g=r.concat(p,f);return A(this),g}a(this._handle,"zlib binding closed");var v=this._handle.write(t,e,o,i,this._buffer,this._offset,s);function y(l,c){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var d=s-c;if(a(d>=0,"have should not go down"),d>0){var m=h._buffer.slice(h._offset,h._offset+d);h._offset+=d,u?h.push(m):(p.push(m),f+=m.length)}if((0===c||h._offset>=h._chunkSize)&&(s=h._chunkSize,h._offset=0,h._buffer=r.allocUnsafe(h._chunkSize)),0===c){if(o+=i-l,i=l,!u)return!0;var g=h._handle.write(t,e,o,i,h._buffer,h._offset,h._chunkSize);return g.callback=y,void(g.buffer=e)}if(!u)return!1;n()}}v.buffer=e,v.callback=y},o.inherits(b,R),o.inherits(_,R),o.inherits(w,R),o.inherits(x,R),o.inherits(S,R),o.inherits(k,R),o.inherits(C,R)}).call(this,n(3))},function(e,t,n){(function(t,r){var i=n(9);e.exports=b;var s,o=n(19);b.ReadableState=y,n(14);var a=function(e,t){return e.listeners(t).length},l=n(22),c=n(10).Buffer,h=t.Uint8Array||function(){},u=n(7);u.inherits=n(4);var d=n(40),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,m=n(41),g=n(23);u.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(s=s||n(5));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(24).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function b(e){if(s=s||n(5),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var s,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}}(e,o)):(i||(s=function(e,t){var n,r;return c.isBuffer(r=t)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):E(e,o)):w(e,o,t,!1))):r||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return f||(f=n(24).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var x=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){p("emit readable"),e.emit("readable"),T(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){p("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(i+=o===s.length?s:s.slice(0,e),0==(e-=o)){o===s.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0==(e-=o)){o===s.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):k(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&O(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,p("pipe count=%d opts=%j",s.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?y:c;function c(){p("onend"),e.end()}s.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",(function t(r,i){p("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",f),u=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}));var h=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",h);var u=!1,d=!1;function f(t){p("ondata"),d=!1,!1!==e.write(t)||d||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==P(s.pipes,e))&&!u&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(t){p("onerror",t),y(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){p("onfinish"),e.removeListener("close",g),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),s.flowing||(p("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=P(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(A,this))}return n},b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=D}).call(this,n(2),n(3))},function(e,t,n){e.exports=n(14).EventEmitter},function(e,t,n){var r=n(9);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(10).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var r=n(5),i=n(7);function s(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(27),o=Object.prototype.hasOwnProperty,a=Array.prototype.slice,l="foo"===(function(){}).name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var u=e.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(s.isFunction(e)){if(l)return e.name;var t=e.toString().match(d);return t&&t[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!s.isFunction(e))return s.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new u.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||g(e,!0,t,"==",u.ok)}function y(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==Vn(e)||null!==t&&"object"==Vn(t)){if(h(e)&&h(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var l=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),o=b(t);if(i&&!o||!i&&o)return!1;if(i)return y(e=a.call(e),t=a.call(t),n);var l,c,h=x(e),u=x(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;c>=0;c--)if(h[c]!==u[c])return!1;for(c=h.length-1;c>=0;c--)if(!y(e[l=h[c]],t[l],n,r))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&_(i,n)||a)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}u.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=f(m(this.actual),128)+" "+this.operator+" "+f(m(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),s=r.indexOf("\n"+i);if(s>=0){var o=r.indexOf("\n",s+1);r=r.substring(o+1)}this.stack=r}}},s.inherits(u.AssertionError,Error),u.fail=g,u.ok=v,u.equal=function(e,t,n){e!=t&&g(e,t,n,"==",u.equal)},u.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",u.notEqual)},u.deepEqual=function(e,t,n){y(e,t,!1)||g(e,t,n,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,n){y(e,t,!0)||g(e,t,n,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,n){y(e,t,!1)&&g(e,t,n,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",u.strictEqual)},u.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",u.notStrictEqual)},u.throws=function(e,t,n){w(!0,e,t,n)},u.doesNotThrow=function(e,t,n){w(!1,e,t,n)},u.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n(2))},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,s=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<s;l=r[++n])m(l)||!_(l)?o+=" "+l:o+=" "+a(l);return o},t.deprecate=function(n,i){if(y(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return function(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}};var s,o={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=h(e,i,r)),i}var s=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(s)return s;var o=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),x(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(n);if(0===o.length){if(S(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return u(n)}var l,c="",_=!1,k=["{","}"];return p(n)&&(_=!0,k=["[","]"]),S(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(c=" "+RegExp.prototype.toString.call(n)),w(n)&&(c=" "+Date.prototype.toUTCString.call(n)),x(n)&&(c=" "+u(n)),0!==o.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=_?function(e,t,n,r,i){for(var s=[],o=0,a=t.length;o<a;++o)C(t,String(o))?s.push(d(e,t,n,r,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(d(e,t,n,r,i,!0))})),s}(e,n,r,a,o):o.map((function(t){return d(e,n,r,a,t,_)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(l,c,k)):k[0]+c+k[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=e.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),C(r,i)||(o="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==Vn(e)&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function x(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.debuglog=function(e){if(y(s)&&(s=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var n=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else o[e]=function(){};return o[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==Vn(e)},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=x,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Vn(e)||void 0===e},t.isBuffer=n(52),t.log=function(){},t.inherits=n(4),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(2),n(3))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{s=s+(i=i+t[r++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var s=r,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},function(e,t,n){e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Hn(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=er(s.value,1),a=o[0],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=er(s.value,2),a=o[1],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this.cache[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=s.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a=!0,l=!1,c=void 0,e.prev=29,h=this.oldCache[Symbol.iterator]();case 31:if(a=(u=h.next()).done){e.next=41;break}if(p=er(d=u.value,1),e.t1=this.cache.has(p[0]),e.t1){e.next=38;break}return e.next=38,d;case 38:a=!0,e.next=31;break;case 41:e.next=47;break;case 43:e.prev=43,e.t2=e.catch(29),l=!0,c=e.t2;case 47:e.prev=47,e.prev=48,a||null==h.return||h.return();case 50:if(e.prev=50,!l){e.next=53;break}throw c;case 53:return e.finish(50);case 54:return e.finish(47);case 55:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25],[29,43,47,55],[48,,50,54]])}))},{key:"size",get:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,s=this.oldCache.keys()[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)this.cache.has(i.value)||e++}catch(Rx){n=!0,r=Rx}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}return this._size+e}}]),e}()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var s={},o={};function a(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=c(e,e<0?-1:0,!1),i&&(s[e]=n),n)}function l(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=f)return S}else{if(e<=-m)return k;if(e+1>=m)return x}return e<0?l(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=l,r.fromBits=c;var h=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=l(h(n,8)),s=v,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),n);if(a<8){var d=l(h(n,a));s=s.mul(d).add(l(c))}else s=(s=s.mul(i)).add(l(c))}return s.unsigned=t,s}function d(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=d;var p=4294967296,f=p*p,m=f/2,g=a(1<<24),v=a(0);r.ZERO=v;var y=a(0,!0);r.UZERO=y;var b=a(1);r.ONE=b;var _=a(1,!0);r.UONE=_;var w=a(-1);r.NEG_ONE=w;var x=c(-1,2147483647,!1);r.MAX_VALUE=x;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var k=c(0,-2147483648,!1);r.MIN_VALUE=k;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=l(h(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return i(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(i(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},C.neg=C.negate,C.add=function(e){i(e)||(e=d(e));var t=0,n=0,r=0,s=0;return r+=(s+=(65535&this.low)+(65535&e.low))>>>16,n+=(r+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),c((r&=65535)<<16|(s&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},C.subtract=function(e){return i(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=d(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(k))return e.isOdd()?k:v;if(e.eq(k))return this.isOdd()?k:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,r=this.low>>>16,s=65535&this.low,o=65535&e.high,a=e.low>>>16,h=65535&e.low,u=0,p=0,f=0,m=0;return f+=(m+=s*h)>>>16,p+=(f+=r*h)>>>16,f&=65535,p+=(f+=s*a)>>>16,u+=(p+=t*h)>>>16,p&=65535,u+=(p+=r*a)>>>16,p&=65535,u+=(p+=s*o)>>>16,u+=(this.high>>>16)*h+t*a+r*o+s*(e.high>>>16),c((f&=65535)<<16|(m&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(i(e)||(e=d(e)),e.isZero())throw Error("division by zero");var t,r,s;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;s=y}else{if(this.eq(k))return e.eq(b)||e.eq(w)?k:e.eq(k)?b:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:w:(r=this.sub(e.mul(t)),s=t.add(r.div(e)));if(e.eq(k))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:h(2,o-48),u=l(t),p=u.mul(e);p.isNegative()||p.gt(r);)p=(u=l(t-=a,this.unsigned)).mul(e);u.isZero()&&(u=b),s=s.add(u),r=r.sub(p)}return s},C.div=C.divide,C.modulo=function(e){return i(e)||(e=d(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return i(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return i(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return i(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(87),i=n(94),s=n(97);function o(e){var t=r.parse(e);return"file:"===t.protocol?new s(unescape(t.pathname)):new i(e)}e.exports={LocalFile:s,RemoteFile:i,fromUrl:o,open:function(e,t,n){if(n)return n;if(e)return o(e);if(t)return new s(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=i.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return new n((function(n,i){s.push((function(e){if(e)return i(e);for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(1===s.length||!t)return n(s[0]);var a={};s.forEach((function(e,n){var r=t[n];r&&(a[r]=e)})),n(a)})),e.call.apply(e,[r].concat(s))}))}}i.argumentNames=r,i.Promise=void 0,t.promisify=i},function(e,t,n){var r=n(18),i=n(99),s=n(100);e.exports={CramFile:r,IndexedCramFile:i,CraiIndex:s}},function(e,t,n){(function(t){var r=n(20),i=n(61),s=n(30),o=n(0),a=o.CramUnimplementedError,l=o.CramMalformedError,c=n(62),h=n(66),u=h.cramFileDefinition,d=h.getSectionParsers,p=n(71),f=n(33).open,m=n(8),g=m.parseItem,v=m.tinyMemoize,y=n(98).parseHeaderText,b=function(){function e(t){Hn(this,e),this.file=f(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new s({maxSize:this.options.cacheSize})}var n,o,h,m,v,b,_,w,x;return Gn(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(x=Un(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(u.maxLength),e.next=3,this.file.read(n,0,u.maxLength,0);case 3:if(2===(r=u.parser.parse(n).result).majorVersion||3===r.majorVersion){e.next=6;break}throw new a("CRAM version ".concat(r.majorVersion," not supported"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getSamHeader",value:(w=Un(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new l("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return r=(n=e.sent.content).readInt32LE(0),i=n.toString("utf8",4,4+r),e.abrupt("return",y(i));case 12:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"getSectionParsers",value:(_=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return e.abrupt("return",d(e.sent.majorVersion));case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"getContainerById",value:(b=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,c,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=(n=e.sent).cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent.size,s=n.cramContainerHeader1,a=0;case 10:if(!(a<=t)){e.next=35;break}if(!(r+s.maxLength+8>=i)){e.next=13;break}return e.abrupt("return");case 13:return o=this.getContainerAtPosition(r),e.next=16,o.getHeader();case 16:if(c=e.sent){e.next=19;break}throw new l("container ".concat(t," not found in file"));case 19:if(0!==a){e.next=31;break}r=c._endPosition,h=0;case 22:if(!(h<c.numBlocks)){e.next=29;break}return e.next=25,this.readBlock(r);case 25:r=e.sent._endPosition;case 26:h+=1,e.next=22;break;case 29:e.next=32;break;case 31:r+=c._size+c.length;case 32:a+=1,e.next=10;break;case 35:return e.abrupt("return",o);case 36:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"checkCrc32",value:(v=Un(regeneratorRuntime.mark((function e(n,r,s,o){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.allocUnsafe(r),e.next=3,this.file.read(a,0,r,n);case 3:if((c=i.unsigned(a))===s){e.next=6;break}throw new l("crc mismatch in ".concat(o,": recorded CRC32 = ").concat(s,", but calculated CRC32 = ").concat(c));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return v.apply(this,arguments)})},{key:"containerCount",value:(m=Un(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent.size,r=t.cramContainerHeader1,i=0,s=t.cramFileDefinition.maxLength;case 9:if(!(s+r.maxLength+8<n)){e.next=31;break}return e.next=12,this.getContainerAtPosition(s).getHeader();case 12:if(o=e.sent){e.next=15;break}return e.abrupt("break",31);case 15:if(0!==i){e.next=27;break}s=o._endPosition,a=0;case 18:if(!(a<o.numBlocks)){e.next=25;break}return e.next=21,this.readBlock(s);case 21:s=e.sent._endPosition;case 22:a+=1,e.next=18;break;case 25:e.next=28;break;case 27:s+=o._size+o.length;case 28:i+=1;case 29:e.next=9;break;case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new p(this,e)}},{key:"readBlockHeader",value:(h=Un(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent.cramBlockHeader,e.next=6,this.file.stat();case 6:if(!(n+r.maxLength>=e.sent.size)){e.next=10;break}return e.abrupt("return");case 10:return i=t.allocUnsafe(r.maxLength),e.next=13,this.file.read(i,0,r.maxLength,n);case 13:return e.abrupt("return",g(i,r.parser,0,n));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"_parseSection",value:(o=Un(regeneratorRuntime.mark((function e(n,r){var i,s,o,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.length>2&&void 0!==c[2]?c[2]:n.maxLength,!(s=c.length>3?c[3]:void 0)){e.next=6;break}o=s,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(!(r+i>=e.sent.size)){e.next=12;break}return e.abrupt("return");case 12:return o=t.allocUnsafe(i),e.next=15,this.file.read(o,0,i,r);case 15:if((a=g(o,n.parser,0,r))._size===i){e.next=18;break}throw new l("section read error: requested size ".concat(i," does not equal parsed size ").concat(a._size));case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)r.gunzipSync(t).copy(n);else{if("rans"!==e)throw new a("".concat(e," decompression not yet implemented"));c.uncompress(t,n)}}},{key:"readBlock",value:(n=Un(regeneratorRuntime.mark((function e(n){var r,i,s,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return r=e.sent.majorVersion,e.next=6,this.getSectionParsers();case 6:return i=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(o=(s=e.sent)._endPosition,s.contentPosition=s._endPosition,a=t.allocUnsafe(s.uncompressedSize),"raw"===s.compressionMethod){e.next=20;break}return l=t.allocUnsafe(s.compressedSize),e.next=17,this.read(l,0,s.compressedSize,o);case 17:this._uncompress(s.compressionMethod,l,a),e.next=22;break;case 20:return e.next=22,this.read(a,0,s.uncompressedSize,o);case 22:if(s.content=a,!(r>=3)){e.next=35;break}return e.next=25,this._parseSection(i.cramBlockCrc32,o+s.compressedSize);case 25:if(s.crc32=(c=e.sent).crc32,e.t0=this.validateChecksums,!e.t0){e.next=31;break}return e.next=31,this.checkCrc32(n,s._size+s.compressedSize,s.crc32,"block data");case 31:s._endPosition=c._endPosition,s._size=s.compressedSize+i.cramBlockCrc32.maxLength,e.next=36;break;case 35:s._endPosition=o+s.compressedSize,s._size=s.compressedSize;case 36:return e.abrupt("return",s);case 37:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();"getDefinition getSectionParsers getSamHeader".split(" ").forEach((function(e){return v(b,e)})),e.exports=b}).call(this,n(1).Buffer)},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],o=n[1],a=new s(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),l=0,h=o>0?r-4:r,u=0;u<h;u+=4)t=i[e.charCodeAt(u)]<<18|i[e.charCodeAt(u+1)]<<12|i[e.charCodeAt(u+2)]<<6|i[e.charCodeAt(u+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===o&&(t=i[e.charCodeAt(u)]<<2|i[e.charCodeAt(u+1)]>>4,a[l++]=255&t),1===o&&(t=i[e.charCodeAt(u)]<<10|i[e.charCodeAt(u+1)]<<4|i[e.charCodeAt(u+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(h(e,o,o+16383>a?a:o+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var i,s=[],o=t;o<n;o+=3)s.push(r[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?i-1:0,d=n?-1:1,p=e[t+u];for(u+=d,s=p&(1<<-h)-1,p>>=-h,h+=a;h>0;s=256*s+e[t+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=256*o+e[t+u],u+=d,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=c}return(p?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,c=8*s-i-1,h=(1<<c)-1,u=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(t*l-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+p]=255&o,p+=f,o/=256,c-=8);e[n+p-f]|=128*m}},function(e,t,n){e.exports=i;var r=n(14).EventEmitter;function i(){r.call(this)}n(4)(i,r),i.Readable=n(15),i.Writable=n(47),i.Duplex=n(48),i.Transform=n(49),i.PassThrough=n(50),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var o=!1;function a(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(h(),0===r.listenerCount(this,"error"))throw e}function h(){n.removeListener("data",i),e.removeListener("drain",s),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return n.on("error",c),e.on("error",c),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(10).Buffer,i=n(42);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,s,o,a,l=1,c={},h=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){s.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},d.clearImmediate=p}function p(e){delete c[e]}function f(e){if(h)setTimeout(f,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(3))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=s;var r=n(25),i=n(7);function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}i.inherits=n(4),i.inherits(s,r),s.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(16)},function(e,t,n){e.exports=n(5)},function(e,t,n){e.exports=n(15).Transform},function(e,t,n){e.exports=n(15).PassThrough},function(e,t,n){(function(e,r){var i=n(26),s=n(53),o=n(54),a=n(57),l=n(60);for(var c in l)t[c]=l[c];function h(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||a.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,n,r,i,s,o){return this._write(!0,e,t,n,r,i,s,o)},h.prototype.writeSync=function(e,t,n,r,i,s,o){return this._write(!1,e,t,n,r,i,s,o)},h.prototype._write=function(n,s,o,a,l,c,h,u){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===s,"must provide flush value"),this.write_in_progress=!0,s!==t.Z_NO_FLUSH&&s!==t.Z_PARTIAL_FLUSH&&s!==t.Z_SYNC_FLUSH&&s!==t.Z_FULL_FLUSH&&s!==t.Z_FINISH&&s!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),l=0,a=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=a,this.strm.avail_out=u,this.strm.output=c,this.strm.next_out=h,this.flush=s,!n)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return r.nextTick((function(){d._process(),d._after()})),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,n,r,s,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(s===t.Z_FILTERED||s===t.Z_HUFFMAN_ONLY||s===t.Z_RLE||s===t.Z_FIXED||s===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,s,o),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,n,r,i,l){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h}).call(this,n(1).Buffer,n(3))},function(e,t){e.exports=function(e){return e&&"object"==Vn(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(11),s=n(55),o=n(28),a=n(29),l=n(56),c=-2,h=258,u=262,d=103,p=113,f=666;function m(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,c=e.window,d=e.w_mask,p=e.prev,f=e.strstart+h,m=c[s+o-1],g=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+o]===g&&c[n+o-1]===m&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<f);if(r=h-(f-s),s=f-h,r>o){if(e.match_start=t,o=r,r>=a)break;m=c[s+o-1],g=c[s+o]}}}while((t=p[t&d])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function S(e){var t,n,r,s,l,c,h,d,p,f,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-u)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);s+=m}if(0===e.strm.avail_in)break;if(h=e.window,d=e.strstart+e.lookahead,f=void 0,(f=(c=e.strm).avail_in)>(p=s)&&(f=p),n=0===f?0:(c.avail_in-=f,i.arraySet(h,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=o(c.adler,h,f,d):2===c.state.wrap&&(c.adler=a(c.adler,h,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function k(e,t){for(var n,r;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-u&&(e.match_length=x(e,n)),e.match_length>=3)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-u&&(e.match_length=x(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):m(e,c)}function I(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,s,o){if(!e)return c;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),s<1||s>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return m(e,c);8===r&&(r=9);var l=new R;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,I(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&b(e,!1),1)})),new E(4,4,8,4,k),new E(4,5,16,8,k),new E(4,6,32,32,k),new E(4,4,16,16,C),new E(8,16,32,32,C),new E(8,16,128,128,C),new E(8,32,128,256,C),new E(32,128,258,1024,C),new E(32,258,258,4096,C)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=I,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||t>5||t<0)return e?m(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===f&&4!==t)return m(e,0===e.avail_out?-5:c);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,_(i,31),_(i,139),_(i,8),i.gzhead?(_(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),_(i,255&i.gzhead.time),_(i,i.gzhead.time>>8&255),_(i,i.gzhead.time>>16&255),_(i,i.gzhead.time>>24&255),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(_(i,255&i.gzhead.extra.length),_(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(_(i,0),_(i,0),_(i,0),_(i,0),_(i,0),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,3),i.status=p);else{var u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=p,w(i,u),0!==i.strstart&&(w(i,e.adler>>>16),w(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending!==i.pending_buf_size));)_(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,_(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,_(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(_(i,255&e.adler),_(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(i.status===f&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==f){var x=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=h){if(S(e),e.lookahead<=h&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+h;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=h-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==x&&4!==x||(i.status=f),1===x||3===x)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===x&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(_(i,255&e.adler),_(i,e.adler>>8&255),_(i,e.adler>>16&255),_(i,e.adler>>24&255),_(i,255&e.total_in),_(i,e.total_in>>8&255),_(i,e.total_in>>16&255),_(i,e.total_in>>24&255)):(w(i,e.adler>>>16),w(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==p&&t!==f?m(e,c):(e.state=null,t===p?m(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,r,s,a,l,h,u,d,p=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),l=e.avail_in,h=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,s=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--s);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=h,e.input=u,e.avail_in=l,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(11);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var h=new Array(60);i(h);var u=new Array(512);i(u);var d=new Array(256);i(d);var p=new Array(29);i(p);var f,m,g,v=new Array(30);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?u[e]:u[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){x(e,n[2*t],n[2*t+1])}function k(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var r,i,s=new Array(16),o=0;for(r=1;r<=15;r++)s[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=k(s[a]++,a))}}function E(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function I(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function T(e,t,n){var r,i,a,l,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?S(e,i,t):(S(e,(a=d[i])+256+1,t),0!==(l=s[a])&&x(e,i-=p[a],l),S(e,a=_(--r),n),0!==(l=o[a])&&x(e,r-=v[a],l))}while(c<e.last_lit);S(e,256,t)}function D(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)I(e,s,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,I(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,o,a,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(s=l[2*l[2*(r=e.heap[n])+1]+1]+1)>f&&(s=f,m++),l[2*r+1]=s,r>c||(e.bl_count[s]++,o=0,r>=p&&(o=d[r-p]),e.opt_len+=(a=l[2*r])*(s+o),u&&(e.static_len+=a*(h[2*r+1]+o)));if(0!==m){do{for(s=f-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(s=f;0!==s;s--)for(r=e.bl_count[s];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}(e,t),C(s,c,e.bl_count)}function O(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<l&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))}function M(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<l&&i===o)){if(a<c)do{S(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(S(e,i,e.bl_tree),a--),S(e,16,e.bl_tree),x(e,a-3,2)):a<=10?(S(e,17,e.bl_tree),x(e,a-3,3)):(S(e,18,e.bl_tree),x(e,a-11,7));a=0,s=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}}i(v);var P=!1;function L(e,t,n,i){x(e,0+(i?1:0),3),function(e,t,n,i){R(e),w(e,n),w(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){P||(function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<s[r];e++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,e=0;e<1<<o[r];e++)u[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,e=0;e<1<<o[r]-7;e++)u[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(C(c,287,l),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=k(e,5);f=new y(c,s,257,286,15),m=new y(h,o,0,30,15),g=new y(new Array(0),a,0,19,7)}(),P=!0),e.l_desc=new b(e.dyn_ltree,f),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,E(e)},t._tr_stored_block=L,t._tr_flush_block=function(e,t,n,r){var i,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),o=function(e){var t;for(O(e,e.dyn_ltree,e.l_desc.max_code),O(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(s=e.static_len+3+7>>>3)<=(i=e.opt_len+3+7>>>3)&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?L(e,t,n,r):4===e.strategy||s===i?(x(e,2+(r?1:0),3),T(e,c,h)):(x(e,4+(r?1:0),3),function(e,t,n,r){var i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*l[i]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),T(e,e.dyn_ltree,e.dyn_dtree)),E(e),r&&R(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),S(e,256,c),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(11),i=n(28),s=n(29),o=n(58),a=n(59),l=-2,c=12,h=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):l}function g(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):l}var v,y,b=!0;function _(e){if(b){var t;for(v=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function w(e,t,n,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),r.arraySet(o.window,t,n-i,s,o.wnext),(i-=s)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=f,t.inflateReset2=m,t.inflateResetKeep=p,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,d,p,f,m,g,v,y,b,x,S,k,C,E,R,A,I,T,D,O,M,P,L,F,N=0,z=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===c&&(n.mode=13),m=e.next_out,p=e.output,f=e.next_in,d=e.input,y=n.hold,b=n.bits,x=g=e.avail_in,S=v=e.avail_out,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,z[0]=255&y,z[1]=y>>>8&255,n.check=s(n.check,z,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=h;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=h;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=h;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:c,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=h;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=h;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=s(n.check,z,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,z[2]=y>>>16&255,z[3]=y>>>24&255,n.check=s(n.check,z,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=s(n.check,z,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=s(n.check,z,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>g&&(k=g),k&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,f,k,M)),512&n.flags&&(n.check=s(n.check,d,k,f)),g-=k,f+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;k=0;do{M=d[f+k++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&k<g);if(512&n.flags&&(n.check=s(n.check,d,k,f)),g-=k,f+=k,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;k=0;do{M=d[f+k++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&k<g);if(512&n.flags&&(n.check=s(n.check,d,k,f)),g-=k,f+=k,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=h;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}e.adler=n.check=u(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=h}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=h;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>g&&(k=g),k>v&&(k=v),0===k)break e;r.arraySet(p,d,f,k,m),g-=k,f+=k,v-=k,m+=k,n.length-=k;break}n.mode=c;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(n.nlen=257+(31&y),b-=5,n.ndist=1+(31&(y>>>=5)),b-=5,n.ncode=4+(15&(y>>>=5)),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=h;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.lens[B[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P=a(0,n.lens,0,19,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=h;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,I=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(I<16)y>>>=R,b-=R,n.lens[n.have++]=I;else{if(16===I){for(F=R+2;b<F;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(y>>>=R,b-=R,0===n.have){e.msg="invalid bit length repeat",n.mode=h;break}M=n.lens[n.have-1],k=3+(3&y),y>>>=2,b-=2}else if(17===I){for(F=R+3;b<F;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}b-=R,M=0,k=3+(7&(y>>>=R)),y>>>=3,b-=3}else{for(F=R+7;b<F;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}b-=R,M=0,k=11+(127&(y>>>=R)),y>>>=7,b-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=h;break}for(;k--;)n.lens[n.have++]=M}}if(n.mode===h)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=h;break}if(n.lenbits=9,P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=h;break}if(n.distbits=6,n.distcode=n.distdyn,P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L={bits:n.distbits}),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=h;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&v>=258){e.next_out=m,e.avail_out=v,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=b,o(e,S),m=e.next_out,p=e.output,v=e.avail_out,f=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,I=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(A&&0==(240&A)){for(T=R,D=A,O=I;A=(N=n.lencode[O+((y&(1<<T+D)-1)>>T)])>>>16&255,I=65535&N,!(T+(R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}y>>>=T,b-=T,n.back+=T}if(y>>>=R,b-=R,n.back+=R,n.length=I,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=c;break}if(64&A){e.msg="invalid literal/length code",n.mode=h;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(N=n.distcode[y&(1<<n.distbits)-1])>>>16&255,I=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(0==(240&A)){for(T=R,D=A,O=I;A=(N=n.distcode[O+((y&(1<<T+D)-1)>>T)])>>>16&255,I=65535&N,!(T+(R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}y>>>=T,b-=T,n.back+=T}if(y>>>=R,b-=R,n.back+=R,64&A){e.msg="invalid distance code",n.mode=h;break}n.offset=I,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=h;break}n.mode=25;case 25:if(0===v)break e;if(n.offset>(k=S-v)){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=h;break}C=k>n.wnext?n.wsize-(k-=n.wnext):n.wnext-k,k>n.length&&(k=n.length),E=n.window}else E=p,C=m-n.offset,k=n.length;k>v&&(k=v),v-=k,n.length-=k;do{p[m++]=E[C++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;p[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=d[f++]<<b,b+=8}if(e.total_out+=S-=v,n.total+=S,S&&(e.adler=n.check=n.flags?s(n.check,p,S,m-S):i(n.check,p,S,m-S)),S=v,(n.flags?y:u(y))!==n.check){e.msg="incorrect data check",n.mode=h;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=d[f++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=h;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case h:P=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=m,e.avail_out=v,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||S!==e.avail_out&&n.mode<h&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(S-=e.avail_out,e.total_in+=x-=e.avail_in,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?s(n.check,p,S,e.next_out-S):i(n.check,p,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===S||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:w(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C,E;C=e.input,i=(r=e.next_in)+(e.avail_in-5),E=e.output,o=(s=e.next_out)-(t-e.avail_out),a=s+(e.avail_out-257),l=(n=e.state).dmax,c=n.wsize,h=n.whave,u=n.wnext,d=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=C[r++]<<f,p+=C[r++]<<(f+=8),f+=8),b=m[p&v];t:for(;;){if(p>>>=_=b>>>24,f-=_,0==(_=b>>>16&255))E[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(p&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(f<_&&(p+=C[r++]<<f,f+=8),w+=p&(1<<_)-1,p>>>=_,f-=_),f<15&&(p+=C[r++]<<f,p+=C[r++]<<(f+=8),f+=8),b=g[p&y];n:for(;;){if(p>>>=_=b>>>24,f-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(p&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,f<(_&=15)&&(p+=C[r++]<<f,(f+=8)<_&&(p+=C[r++]<<f,f+=8)),(x+=p&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=_,f-=_,x>(_=s-o)){if((_=x-_)>h&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,k=d,0===u){if(S+=c-_,_<w){w-=_;do{E[s++]=d[S++]}while(--_);S=s-x,k=E}}else if(u<_){if(S+=c+u-_,(_-=u)<w){w-=_;do{E[s++]=d[S++]}while(--_);if(S=0,u<w){w-=_=u;do{E[s++]=d[S++]}while(--_);S=s-x,k=E}}}else if(S+=u-_,_<w){w-=_;do{E[s++]=d[S++]}while(--_);S=s-x,k=E}for(;w>2;)E[s++]=k[S++],E[s++]=k[S++],E[s++]=k[S++],w-=3;w&&(E[s++]=k[S++],w>1&&(E[s++]=k[S++]))}else{S=s-x;do{E[s++]=E[S++],E[s++]=E[S++],E[s++]=E[S++],w-=3}while(w>2);w&&(E[s++]=E[S++],w>1&&(E[s++]=E[S++]))}break}}break}}while(r<i&&s<a);r-=w=f>>3,p&=(1<<(f-=w<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),n.hold=p,n.bits=f}},function(e,t,n){var r=n(11),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,h,u,d){var p,f,m,g,v,y,b,_,w,x=d.bits,S=0,k=0,C=0,E=0,R=0,A=0,I=0,T=0,D=0,O=0,M=null,P=0,L=new r.Buf16(16),F=new r.Buf16(16),N=null,z=0;for(S=0;S<=15;S++)L[S]=0;for(k=0;k<l;k++)L[t[n+k]]++;for(R=x,E=15;E>=1&&0===L[E];E--);if(R>E&&(R=E),0===E)return c[h++]=20971520,c[h++]=20971520,d.bits=1,0;for(C=1;C<E&&0===L[C];C++);for(R<C&&(R=C),T=1,S=1;S<=15;S++)if(T<<=1,(T-=L[S])<0)return-1;if(T>0&&(0===e||1!==E))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+L[S];for(k=0;k<l;k++)0!==t[n+k]&&(u[F[t[n+k]]++]=k);if(0===e?(M=N=u,y=19):1===e?(M=i,P-=257,N=s,z-=257,y=256):(M=o,N=a,y=-1),O=0,k=0,S=C,v=h,A=R,I=0,m=-1,g=(D=1<<R)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=S-I,u[k]<y?(_=0,w=u[k]):u[k]>y?(_=N[z+u[k]],w=M[P+u[k]]):(_=96,w=0),p=1<<S-I,C=f=1<<A;do{c[v+(O>>I)+(f-=p)]=b<<24|_<<16|w|0}while(0!==f);for(p=1<<S-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,k++,0==--L[S]){if(S===E)break;S=t[n+u[k]]}if(S>R&&(O&g)!==m){for(0===I&&(I=R),v+=C,T=1<<(A=S-I);A+I<E&&!((T-=L[A+I])<=0);)A++,T<<=1;if(D+=1<<A,1===e&&D>852||2===e&&D>592)return 1;c[m=O&g]=R<<24|A<<16|v-h|0}}return 0!==O&&(c[v+O]=S-I<<24|64<<16|0),d.bits=R,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(1).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function s(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+Vn(e))}function o(e,t){e=s(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,o=0;o<e.length;o++)n=i[255&(n^e[o])]^n>>>8;return-1^n}function a(){return e=o.apply(null,arguments),(t=s(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),a.signed=function(){return o.apply(null,arguments)},a.unsigned=function(){return o.apply(null,arguments)>>>0},e.exports=a},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(12),s=n(63),o=n(64),a=n(65),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Hn(this,e),this._buffer=t,this._position=n,this.length=t.length}return Gn(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return n.fill(0),n;var h=new l(e,c),u=h.get();if(0!==u&&1!==u)throw new r("Invalid rANS order ".concat(u));if(h.getInt()!==h.remaining()-4)throw new r("Incorrect input length.");var d=h.getInt(),p=new l(n||t.allocUnsafe(d));if(p.length<d)throw new r("Output buffer too small to fit ".concat(d," bytes."));switch(u){case 0:return function(e,t){for(var n=new i.AriDecoder,r=new Array(256),a=0;a<r.length;a+=1)r[a]=new i.Symbol;return s.readStatsO0(e,n,r),o.uncompress(e,n,r,t),t}(h,p);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new i.AriDecoder;for(var o=new Array(256),l=0;l<o.length;l+=1){o[l]=new Array(256);for(var c=0;c<o[l].length;c+=1)o[l][c]=new i.Symbol}return s.readStatsO1(e,n,o),a.uncompress(e,t,n,o),t}(h,p);default:throw new r("Invalid rANS order: ".concat(u))}}}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),s=n(12);function o(e){if(!e)throw new r("assertion failed")}e.exports={readStatsO0:function(e,t,n){var r=0,a=0,l=255&e.get();do{null==t.fc[l]&&(t.fc[l]=new s.FC),t.fc[l].F=255&e.get(),t.fc[l].F>=128&&(t.fc[l].F&=-129,t.fc[l].F=(127&t.fc[l].F)<<8|255&e.get()),t.fc[l].C=a,s.symbolInit(n[l],t.fc[l].C,t.fc[l].F),t.R||(t.R=new Array(i.TOTFREQ)),t.R.fill(l,a,a+t.fc[l].F),a+=t.fc[l].F,0===r&&l+1===(255&e.getByteAt(e.position()))?(l=255&e.get(),r=255&e.get()):0!==r?(r-=1,l+=1):l=255&e.get()}while(0!==l);o(a<i.TOTFREQ)},readStatsO1:function(e,t,n){var r=0,a=255&e.get();do{var l=0,c=0,h=255&e.get();null==t[a]&&(t[a]=new s.AriDecoder);do{null==t[a].fc[h]&&(t[a].fc[h]=new s.FC),t[a].fc[h].F=255&e.get(),t[a].fc[h].F>=128&&(t[a].fc[h].F&=-129,t[a].fc[h].F=(127&t[a].fc[h].F)<<8|255&e.get()),t[a].fc[h].C=c,0===t[a].fc[h].F&&(t[a].fc[h].F=i.TOTFREQ),null==n[a][h]&&(n[a][h]=new s.RansDecSymbol),s.symbolInit(n[a][h],t[a].fc[h].C,t[a].fc[h].F),null==t[a].R&&(t[a].R=new Array(i.TOTFREQ)),t[a].R.fill(h,c,c+t[a].fc[h].F),o((c+=t[a].fc[h].F)<=i.TOTFREQ),0===l&&h+1===(255&e.getByteAt(e.position()))?(h=255&e.get(),l=255&e.get()):0!==l?(l-=1,h+=1):h=255&e.get()}while(0!==h);0===r&&a+1===(255&e.getByteAt(e.position()))?(a=255&e.get(),r=255&e.get()):0!==r?(r-=1,a+=1):a=255&e.get()}while(0!==a)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),s=n(12);e.exports={uncompress:function(e,t,n,o){for(var a,l=e.getInt(),c=e.getInt(),h=e.getInt(),u=e.getInt(),d=o.remaining(),p=-4&d,f=0;f<p;f+=4){var m=t.R[s.get(l,i.TF_SHIFT)],g=t.R[s.get(c,i.TF_SHIFT)],v=t.R[s.get(h,i.TF_SHIFT)],y=t.R[s.get(u,i.TF_SHIFT)];o.putAt(f,m),o.putAt(f+1,g),o.putAt(f+2,v),o.putAt(f+3,y),l=s.advanceSymbolStep(l,n[255&m],i.TF_SHIFT),c=s.advanceSymbolStep(c,n[255&g],i.TF_SHIFT),h=s.advanceSymbolStep(h,n[255&v],i.TF_SHIFT),u=s.advanceSymbolStep(u,n[255&y],i.TF_SHIFT),l=s.renormalize(l,e),c=s.renormalize(c,e),h=s.renormalize(h,e),u=s.renormalize(u,e)}switch(o.setPosition(p),3&d){case 0:break;case 1:a=t.R[s.get(l,i.TF_SHIFT)],s.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),o.put(a);break;case 2:a=t.R[s.get(l,i.TF_SHIFT)],s.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),o.put(a),a=t.R[s.get(c,i.TF_SHIFT)],s.advanceSymbol(c,e,n[255&a],i.TF_SHIFT),o.put(a);break;case 3:a=t.R[s.get(l,i.TF_SHIFT)],s.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),o.put(a),a=t.R[s.get(c,i.TF_SHIFT)],s.advanceSymbol(c,e,n[255&a],i.TF_SHIFT),o.put(a),a=t.R[s.get(h,i.TF_SHIFT)],s.advanceSymbol(h,e,n[255&a],i.TF_SHIFT),o.put(a);break;default:throw new r("invalid output size encountered during rANS decoding")}o.setPosition(0)}}},function(e,t,n){var r=n(13),i=n(12);e.exports={uncompress:function(e,t,n,s){for(var o=t.remaining(),a=e.getInt(),l=e.getInt(),c=e.getInt(),h=e.getInt(),u=o>>2,d=0,p=u,f=2*u,m=3*u,g=0,v=0,y=0,b=0;d<u;d+=1,p+=1,f+=1,m+=1){var _=255&n[g].R[i.get(a,r.TF_SHIFT)],w=255&n[v].R[i.get(l,r.TF_SHIFT)],x=255&n[y].R[i.get(c,r.TF_SHIFT)],S=255&n[b].R[i.get(h,r.TF_SHIFT)];t.putAt(d,_),t.putAt(p,w),t.putAt(f,x),t.putAt(m,S),a=i.advanceSymbolStep(a,s[g][_],r.TF_SHIFT),l=i.advanceSymbolStep(l,s[v][w],r.TF_SHIFT),c=i.advanceSymbolStep(c,s[y][x],r.TF_SHIFT),h=i.advanceSymbolStep(h,s[b][S],r.TF_SHIFT),a=i.renormalize(a,e),l=i.renormalize(l,e),c=i.renormalize(c,e),h=i.renormalize(h,e),g=_,v=w,y=x,b=S}for(;m<o;m+=1){var k=255&n[b].R[i.get(h,r.TF_SHIFT)];t.putAt(m,k),h=i.advanceSymbol(h,e,s[b][k],r.TF_SHIFT),b=k}}}},function(e,t,n){var r=n(67).Parser,i=(new r).itf8(),s={parser:(new r).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},o={parser:(new r).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},a={parser:(new r).uint32("crc32"),maxLength:4},l=(new r).itf8("size").buffer("entries",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),i=[],s=0;s<r.length;s+=3)i.push(r.substr(s,3));return i}var n,r=[],i=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(i,n)),i=n+1);return n>i&&r.push(t(i,n)),r}}),c=(new r).uint8(null,{formatter:function(e){return!!e}}),h=(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:c,UI:c,PI:c,RN:c,AP:c,RR:c,SM:(new r).array(null,{type:"uint8",length:5}),TD:(new r).nest(null,{type:l,formatter:function(e){return e.entries}})}})});function u(e){var t={};return e.entries.forEach((function(e){var n=e.key,r=e.value;t[n]&&console.warn("duplicate key ".concat(n," in map")),t[n]=r})),t}var d={cramFileDefinition:s,cramBlockHeader:o,cramBlockCrc32:a},p={cramUnmappedSliceHeader:function(e){var t=0,n=(new r).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new r).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new r).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new r,1:(new r).itf8("blockContentId"),2:(new r).itf8("offset").itf8("M"),3:r.start().itf8("numCodes").array("symbols",{length:"numCodes",type:i}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:i}),4:r.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new r).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new r).itf8("offset").itf8("length"),7:(new r).itf8("offset").itf8("K"),8:(new r).itf8("offset").itf8("log2m"),9:(new r).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new r;return{parser:t=t.nest("preservation",{type:h,formatter:u}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:u}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:u})}},cramContainerHeader1:function(e){var t=(new r).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new r).itf8("numLandmarks").array("landmarks",{type:(new r).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:s,getSectionParsers:function(e){var t=Object.assign({},d);return Object.keys(p).forEach((function(n){t[n]=p[n](e)})),t}}},function(e,t,n){(function(e){var r=n(68),i=n(70).Context,s=n(31);"undefined"!=typeof window&&(window.Buffer=e);var o={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8},a={},l=[];!function(){var e;for(e=1;e<=32;e++)l.push(e)}();var c={};Object.keys(o).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(e){c[e.toLowerCase()]=e}));var h=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};h.start=function(){return new h},Object.keys(o).forEach((function(e){h.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in h.prototype||(h.prototype[t]=function(e,n){return this[t+this.endian](e,n)})})),l.forEach((function(e){h.prototype["bit"+e.toString()]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}})),h.prototype.namely=function(e){return a[e]=this,this.alias=e,this},h.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},h.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},h.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},h.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!a[t.type]&&Object.keys(o).indexOf(c[t.type])<0)throw new Error('Specified primitive type "'+t.type+'" is not supported.');return this.setNextParser("array",e,t)},h.prototype.choice=function(e,t){if(1==arguments.length&&"object"==Vn(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach((function(n){if(!t.choices[n])throw new Error("Choice Case "+n+" of "+e+" is not valid.");if("string"==typeof t.choices[n]&&!a[t.choices[n]]&&Object.keys(o).indexOf(c[t.choices[n]])<0)throw new Error('Specified primitive type "'+t.choices[n]+'" is not supported.')}),this),this.setNextParser("choice",e,t)},h.prototype.nest=function(e,t){if(1==arguments.length&&"object"==Vn(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof h||a[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof h||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},h.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: "+e)}return this},h.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},h.prototype.getCode=function(){var e=new i;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},h.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},h.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},h.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((function(t){a[t].addAliasedCode(e)}))},h.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { "+this.getCode()+" })";this.compiled=r.runInThisContext(e)},h.prototype.sizeOf=function(){var e=NaN;if(Object.keys(o).indexOf(this.type)>=0)e=o[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=o[c[this.options.type]]:this.options.type instanceof h&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},h.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,s)},h.prototype.setNextParser=function(e,t,n){var r=new h;return r.type=c[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},h.prototype.generate=function(e){this.type&&(this["generate"+this.type](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},h.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(Vn(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},h.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(o).forEach((function(e){h.prototype["generate"+e]=function(t){t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",o[e])}})),h.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach((function(e){n+=e.options.length}));var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),s=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",s),e.pushCode("var {2} = ({0} << 8) | {1};",i,s,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var o=0,a="be"===this.endian;e.bitFields.forEach((function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,a?n-o-t.options.length:o,(1<<t.options.length)-1),o+=t.options.length})),e.bitFields=[]}},h.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},h.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},h.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},h.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),s=e.generateVariable(this.varName),l=e.generateTmpVariable(),u=this.options.key,d="string"==typeof u;if(e.pushCode(d?"{0} = {};":"{0} = [];",s),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(a[r]){var p=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",p,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",l,p),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",l,c[r]),e.pushCode("offset += {0};",o[c[r]]);else r instanceof h&&(e.pushCode("var {0} = {};",l),e.pushScope(l),r.generate(e),e.popScope());d?e.pushCode("{0}[{2}.{1}] = {2};",s,u,l):e.pushCode("{0}.push({1});",s,l),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,l)},h.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(a[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),c[n]),e.pushCode("offset += {0};",o[c[n]]);else n instanceof h&&(e.pushPath(t),n.generate(e),e.popPath(t))},h.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach((function(t){var n=this.options.choices[t];isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")}),this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},h.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof h)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(a[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},h.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},h.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},h.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},h.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},h.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},h.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=h}).call(this,n(1).Buffer)},function(e,t,n){var r=n(69),i=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},s=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},o=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),a=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval2","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function l(){}l.prototype={};var c=t.Script=function(e){if(!(this instanceof c))return new c(e);this.code=e};c.prototype.runInContext=function(e){if(!(e instanceof l))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,c=n.eval2,h=n.execScript;!c&&h&&(h.call(n,"null"),c=n.eval2),s(i(e),(function(t){n[t]=e[t]})),s(a,(function(t){e[t]&&(n[t]=e[t])}));var u=i(n),d=c.call(n,this.code);return s(i(n),(function(t){(t in e||-1===r(u,t))&&(e[t]=n[t])})),s(a,(function(t){t in e||o(e,t,n[t])})),document.body.removeChild(t),d},c.prototype.runInThisContext=function(){return X_(this.code)},c.prototype.runInNewContext=function(e){var t=c.createContext(e),n=this.runInContext(t);return s(i(t),(function(n){e[n]=t[n]})),n},s(i(c.prototype),(function(e){t[e]=c[e]=function(t){var n=c(t);return n[e].apply(n,[].slice.call(arguments,1))}})),t.createScript=function(e){return t.Script(e)},t.createContext=c.createContext=function(e){var t=new l;return"object"==Vn(e)&&s(i(e),(function(n){t[n]=e[n]})),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){var n=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};n.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},n.prototype.generateOption=function(e){switch(Vn(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"("+e+").call("+this.generateVariable()+", vars)"}},n.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=n.interpolate.apply(this,e);this.pushCode(this.isAsync?"return process.nextTick(function() { callback(new Error("+t+"), vars); });":"throw new Error("+t+");")},n.prototype.generateTmpVariable=function(){return"$tmp"+this.tmpVariableCount++},n.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+=n.interpolate.apply(this,e)+"\n"},n.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},n.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},n.prototype.pushScope=function(e){this.scopes.push([e])},n.prototype.popScope=function(){this.scopes.pop()},n.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},n.prototype.markResolved=function(e){this.references[e].resolved=!0},n.prototype.markRequested=function(e){e.forEach((function(e){this.references[e].requested=!0}).bind(this))},n.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter((function(t){return!e[t].resolved&&!e[t].requested}))},n.interpolate=function(e){var t=e.match(/{\d+}/g),n=Array.prototype.slice.call(arguments,1);return t&&t.forEach((function(t){var r=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,n[r].toString())})),e},t.Context=n},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(8),s=i.itf8Size,o=i.parseItem,a=i.tinyMemoize,l=n(75),c=n(78),h=function(){function e(t,n){Hn(this,e),this.file=t,this.filePosition=n}var n,i,a,h;return Gn(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(h=Un(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.file.getSectionParsers();case 6:return t=e.sent,e.next=9,this.getFirstBlock();case 9:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=12;break}throw new r("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 12:return i=o(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),e.abrupt("return",(n.content=i,n));case 14:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getFirstBlock",value:(a=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return e.abrupt("return",this.file.readBlock(e.sent._endPosition));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",new c(t.content));case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new l(this,e,t)}},{key:"_readContainerHeader",value:(n=Un(regeneratorRuntime.mark((function e(n){var r,i,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return i=(r=e.sent).cramContainerHeader1,a=r.cramContainerHeader2,e.next=7,this.file.stat();case 7:if(!(n>=(l=e.sent.size))){e.next=11;break}return e.abrupt("return");case 11:return c=t.allocUnsafe(i.maxLength),e.next=14,this.file.read(c,0,i.maxLength,n);case 14:if(h=o(c,i.parser),u=s(h.numLandmarks),!(n+h.length>=l)){e.next=17;break}return e.abrupt("return",void console.warn("".concat(this.file,": container header at ").concat(n," indicates that the container has length ").concat(h.length,", which extends beyond the length of the file. Skipping this container.")));case 17:return d=t.allocUnsafe(a.maxLength(h.numLandmarks)),e.next=20,this.file.read(d,0,a.maxLength(h.numLandmarks),n+h._size-u);case 20:if(p=o(d,a.parser),e.t0=this.file.validateChecksums&&void 0!==p.crc32,!e.t0){e.next=25;break}return e.next=25,this.file.checkCrc32(n,h._size+p._size-u-4,p.crc32,"container header beginning at position ".concat(n));case 25:return e.abrupt("return",Object.assign(h,p,{_size:h._size+p._size-u,_endPosition:h._size+p._size-u+n}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach((function(e){return a(h,e)})),e.exports=h}).call(this,n(1).Buffer)},function(e,t,n){var r,i,s,o,a;r=n(73),i=n(32).utf8,s=n(74),o=n(32).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,c=1732584193,h=-271733879,u=-1732584194,d=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=a._ff,m=a._gg,g=a._hh,v=a._ii;for(p=0;p<n.length;p+=16){var y=c,b=h,_=u,w=d;c=f(c,h,u,d,n[p+0],7,-680876936),d=f(d,c,h,u,n[p+1],12,-389564586),u=f(u,d,c,h,n[p+2],17,606105819),h=f(h,u,d,c,n[p+3],22,-1044525330),c=f(c,h,u,d,n[p+4],7,-176418897),d=f(d,c,h,u,n[p+5],12,1200080426),u=f(u,d,c,h,n[p+6],17,-1473231341),h=f(h,u,d,c,n[p+7],22,-45705983),c=f(c,h,u,d,n[p+8],7,1770035416),d=f(d,c,h,u,n[p+9],12,-1958414417),u=f(u,d,c,h,n[p+10],17,-42063),h=f(h,u,d,c,n[p+11],22,-1990404162),c=f(c,h,u,d,n[p+12],7,1804603682),d=f(d,c,h,u,n[p+13],12,-40341101),u=f(u,d,c,h,n[p+14],17,-1502002290),c=m(c,h=f(h,u,d,c,n[p+15],22,1236535329),u,d,n[p+1],5,-165796510),d=m(d,c,h,u,n[p+6],9,-1069501632),u=m(u,d,c,h,n[p+11],14,643717713),h=m(h,u,d,c,n[p+0],20,-373897302),c=m(c,h,u,d,n[p+5],5,-701558691),d=m(d,c,h,u,n[p+10],9,38016083),u=m(u,d,c,h,n[p+15],14,-660478335),h=m(h,u,d,c,n[p+4],20,-405537848),c=m(c,h,u,d,n[p+9],5,568446438),d=m(d,c,h,u,n[p+14],9,-1019803690),u=m(u,d,c,h,n[p+3],14,-187363961),h=m(h,u,d,c,n[p+8],20,1163531501),c=m(c,h,u,d,n[p+13],5,-1444681467),d=m(d,c,h,u,n[p+2],9,-51403784),u=m(u,d,c,h,n[p+7],14,1735328473),c=g(c,h=m(h,u,d,c,n[p+12],20,-1926607734),u,d,n[p+5],4,-378558),d=g(d,c,h,u,n[p+8],11,-2022574463),u=g(u,d,c,h,n[p+11],16,1839030562),h=g(h,u,d,c,n[p+14],23,-35309556),c=g(c,h,u,d,n[p+1],4,-1530992060),d=g(d,c,h,u,n[p+4],11,1272893353),u=g(u,d,c,h,n[p+7],16,-155497632),h=g(h,u,d,c,n[p+10],23,-1094730640),c=g(c,h,u,d,n[p+13],4,681279174),d=g(d,c,h,u,n[p+0],11,-358537222),u=g(u,d,c,h,n[p+3],16,-722521979),h=g(h,u,d,c,n[p+6],23,76029189),c=g(c,h,u,d,n[p+9],4,-640364487),d=g(d,c,h,u,n[p+12],11,-421815835),u=g(u,d,c,h,n[p+15],16,530742520),c=v(c,h=g(h,u,d,c,n[p+2],23,-995338651),u,d,n[p+0],6,-198630844),d=v(d,c,h,u,n[p+7],10,1126891415),u=v(u,d,c,h,n[p+14],15,-1416354905),h=v(h,u,d,c,n[p+5],21,-57434055),c=v(c,h,u,d,n[p+12],6,1700485571),d=v(d,c,h,u,n[p+3],10,-1894986606),u=v(u,d,c,h,n[p+10],15,-1051523),h=v(h,u,d,c,n[p+1],21,-2054922799),c=v(c,h,u,d,n[p+8],6,1873313359),d=v(d,c,h,u,n[p+15],10,-30611744),u=v(u,d,c,h,n[p+6],15,-1560198380),h=v(h,u,d,c,n[p+13],21,1309151649),c=v(c,h,u,d,n[p+4],6,-145523070),d=v(d,c,h,u,n[p+11],10,-1120210379),u=v(u,d,c,h,n[p+2],15,718787259),h=v(h,u,d,c,n[p+9],21,-343485551),c=c+y>>>0,h=h+b>>>0,u=u+_>>>0,d=d+w>>>0}return r.endian([c,h,u,d])})._ff=function(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,n,r,i,s,o){var a=e+(t^n^r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)t.push(8*r+6*s<=8*e.length?n.charAt(i>>>6*(3-s)&63):"=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var r=n(0),i=r.CramMalformedError,s=r.CramBufferOverrunError,o=r.CramArgumentError,a=n(8),l=a.parseItem,c=a.tinyMemoize,h=a.sequenceMD5,u=n(17),d=n(76);function p(e,t,n,r){if(!r)throw new i("could not resolve intra-slice mate pairs, file seems truncated or malformed");var s=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=u.BAM_FPAIRED,r.flags&u.BAM_FUNMAP&&(n.flags|=u.BAM_FMUNMAP),n.flags&u.BAM_FUNMAP&&(r.flags|=u.BAM_FMUNMAP),r.flags&u.BAM_FREVERSE&&(n.flags|=u.BAM_FMREVERSE),n.flags&u.BAM_FREVERSE&&(r.flags|=u.BAM_FMREVERSE),void 0===n.templateLength&&(s?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var s=e[n.mateRecordNumber];if(!s)throw new i("intra-slice mate record not found, this file seems malformed");r.push.apply(r,tr(t(s)))}return r}(n),s=r.map((function(e){return e.alignmentStart})),o=r.map((function(e){return e.alignmentStart+e.readLength-1})),a=Math.max.apply(Math,tr(o))-Math.min.apply(Math,tr(s))+1;a>=0&&r.forEach((function(e){if(void 0!==e.templateLength)throw new i("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=a}))}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var f=function(){function e(t,n){Hn(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,r,a,c,u,f;return Gn(e,[{key:"getHeader",value:function(){var e=Un(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(r=e.sent).contentType){e.next=13;break}r.content=l(r.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=16;break;case 13:if("UNMAPPED_SLICE_HEADER"===r.contentType){e.next=15;break}throw new i("error reading slice header block, invalid content type ".concat(r._contentType));case 15:r.content=l(r.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlocks",value:(f=Un(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:n=(t=e.sent)._endPosition,r=new Array(t.content.numBlocks),i=0;case 6:if(!(i<r.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:r[i]=e.sent,n=r[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getCoreDataBlock",value:(u=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(c=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t={},e.abrupt("return",(e.sent.forEach((function(e){"EXTERNAL_DATA"===e.contentType&&(t[e.contentId]=e)})),t));case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getBlockByContentId",value:(a=Un(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return e.t0=t,e.abrupt("return",e.sent[e.t0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getReferenceRegion",value:(r=Un(regeneratorRuntime.mark((function e(){var t,n,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(r=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new i("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>r.uncompressedSize)){e.next=14;break}throw new i("Embedded reference is too small");case 14:return e.abrupt("return",{seq:r.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((s=e.sent).length===t.refSeqSpan){e.next=23;break}throw new o("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:s,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords((function(){return!0}))}},{key:"_fetchRecords",value:(n=Un(regeneratorRuntime.mark((function e(){var t,n,r,o,a,l,c,u,f,m,g,v,y,b,_,w,x=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return n=e.sent,e.next=9,this.getHeader();case 9:return r=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(o=e.sent,!(t>1&&this.file.options.checkSequenceMD5&&r.content.refSeqId>=0&&"0000000000000000"!==r.content.md5.join(""))){e.next=21;break}return e.next=16,this.getReferenceRegion();case 16:if(!(a=e.sent)){e.next=21;break}if(l=a.start,c=a.end,u=h(a.seq),f=r.content.md5.map((function(e){return(e<16?"0":"")+e.toString(16)})).join(""),u===f){e.next=21;break}throw new i("MD5 checksum reference mismatch for ref ".concat(r.content.refSeqId," pos ").concat(l,"..").concat(c,". recorded MD5: ").concat(f,", calculated MD5: ").concat(u));case 21:return e.next=23,this.getCoreDataBlock();case 23:m=e.sent,g={lastAlignmentStart:r.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},v=function(e){var t=n.getCodecForDataSeries(e);if(!t)throw new i("no codec defined for ".concat(e," data series"));return t.decode(x,m,o,g)},y=new Array(r.content.numRecords),b=0;case 28:if(!(b<y.length)){e.next=42;break}e.prev=29,y[b]=d(this,v,n,r,m,o,g,t,b),y[b].uniqueId=r.contentPosition+r.content.recordCounter+b+1,e.next=39;break;case 33:if(e.prev=33,e.t0=e.catch(29),!(e.t0 instanceof s)){e.next=38;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),y=y.filter((function(e){return!!e})),e.abrupt("break",42);case 38:throw e.t0;case 39:b+=1,e.next=28;break;case 42:for(_=0;_<y.length;_+=1)(w=y[_].mateRecordNumber)>=0&&p(y,_,y[_],y[w]);return e.abrupt("return",y);case 44:case"end":return e.stop()}}),e,this,[[29,33]])}))),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c,h,u,d,p,f,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.file.featureCache.get(n=this.container.filePosition+this.containerPosition))||(r=this._fetchRecords(),this.file.featureCache.set(n,r)),e.next=5,r;case 5:if(e.t0=t,!(i=e.sent.filter(e.t0)).length||!this.file.fetchReferenceSequenceCallback){e.next=21;break}return e.next=10,this.getHeader();case 10:if(!((s=e.sent).content.refSeqId>=0||-2===s.content.refSeqId)){e.next=21;break}return o=s.content.refSeqId>=0?s.content.refSeqId:void 0,e.next=15,this.container.getCompressionScheme();case 15:for(a=e.sent,l={},c=0;c<i.length;c+=1)(u=l[h=void 0!==o?o:i[c].sequenceId])||(l[h]=u={id:h,start:i[c].alignmentStart,end:-1/0}),(d=i[c].alignmentStart+(i[c].lengthOnRef||i[c].readLength)-1)>u.end&&(u.end=d),i[c].alignmentStart<u.start&&(u.start=i[c].alignmentStart);return e.next=20,Promise.all(Object.values(l).map(function(){var e=Un(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=-1!==t.id&&t.start<=t.end,!e.t0){e.next=5;break}return e.next=4,m.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 4:t.seq=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:for(p=0;p<i.length;p+=1)(f=l[void 0!==o?o:i[p].sequenceId])&&f.seq&&i[p].addReferenceSequence(f,a);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach((function(e){return c(f,e)})),e.exports=f},function(e,t,n){(function(t){var r=n(0),i=r.CramMalformedError,s=r.CramUnimplementedError,o=n(31),a=n(77),l=n(17);function c(e){var t=e.indexOf(0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function h(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return c(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=o.fromBytesLE(n);if(r.greaterThan(Number.MAX_SAFE_INTEGER)||r.lessThan(Number.MIN_SAFE_INTEGER))throw new s("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var a=c(n);return Number.parseInt(a.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new i("invalid tag value array type '".concat(t,"'"));for(var s=er(r,2),o=s[0],a=s[1],l=new Array(n),c=5,h=0;h<n;h+=1)l[h]=e[o](c),c+=a;return l}(n);throw new i("Unrecognized tag type ".concat(e))}function u(e){if(e instanceof t)return c(e);if(e.length&&e.indexOf){if(!e[e.length-1]){var n=e.indexOf(0);return String.fromCharCode.apply(String,tr(e.slice(0,n)))}return String.fromCharCode.apply(String,tr(e))}return String(e)}e.exports=function(e,t,n,r,s,o,c,d,p){var f=new a;if(f.flags=t("BF"),f.cramFlags=t("CF"),f.sequenceId=d>1&&-2===r.content.refSeqId?t("RI"):r.content.refSeqId,f.readLength=t("RL"),f.alignmentStart=t("AP"),n.APdelta&&(f.alignmentStart+=c.lastAlignmentStart),c.lastAlignmentStart=f.alignmentStart,f.readGroupId=t("RG"),n.readNamesIncluded&&(f.readName=u(t("RN"))),f.isDetached()){var m={};m.flags=t("MF"),n.readNamesIncluded||(m.readName=u(t("RN")),f.readName=m.readName),m.sequenceId=t("NS"),m.alignmentStart=t("NP"),(m.flags||m.sequenceId>-1)&&(f.mate=m),f.templateSize=t("TS"),m.flags&l.CRAM_M_UNMAP&&(f.flags|=l.BAM_FMUNMAP),m.flags&l.CRAM_M_REVERSE&&(f.flags|=l.BAM_FMREVERSE)}else f.hasMateDownStream()&&(f.mateRecordNumber=t("NF")+p+1);var g=t("TL");if(g<0)throw new i("invalid TL index");for(var v=n.getTagNames(g),y=v.length,b=0;b<y;b+=1){var _=v[b],w=_.substr(0,2),x=_.substr(2,1),S=n.getCodecForTag(_);if(!S)throw new i("no codec defined for auxiliary tag ".concat(_));var k=S.decode(e,s,o,c);f.tags[w]=h(x,k)}if(f.isSegmentUnmapped())if(f.isUnknownBases())f.readBases=null,f.qualityScores=null;else{for(var C=new Array(f.readLength),E=0;E<C.length;E+=1)C[E]=t("BA");if(f.readBases=String.fromCharCode.apply(String,C),f.isPreservingQualityScores()){for(var R=0;R<C.length;R+=1)C[R]=t("QS");f.qualityScores=C}}else{var A=t("FN");A&&(f.readFeatures=function(e,t,n,r,s){var o=0,a=e.alignmentStart-1,l=new Array(t);function c(e){var t=er(e,2),r=t[0],i=n(t[1]);return"character"===r?String.fromCharCode(i):"string"===r?i.toString("utf8"):"numArray"===r?i.toArray():i}for(var h=0;h<t;h+=1){var u=String.fromCharCode(n("FC")),d=n("FP"),p={code:u},f={B:["character","BA"],S:["string",s>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[u];if(!f)throw new i('invalid read feature code "'.concat(u,'"'));p.data=c(f);var m={B:["number","QS"]}[u];m&&(p.data=[p.data,c(m)]),p.pos=o+=d,p.refPos=a+=d,"D"===u||"N"===u?a+=p.data:"H"===u?a-=p.data:"I"===u||"S"===u?a-=p.data.length:"i"===u&&(a-=1),l[h]=p}return l}(f,A,t,0,d));var I=f.readLength;if(f.readFeatures&&f.readFeatures.forEach((function(e){var t=e.code,n=e.data;"D"===t||"N"===t?I+=n:"I"===t||"S"===t?I-=n.length:"i"===t&&(I-=1)})),Number.isNaN(I)&&(console.warn("".concat(f.readName||"".concat(f.sequenceId,":").concat(f.alignmentStart)," record has invalid read features")),I=f.readLength),f.lengthOnRef=I,f.mappingQuality=t("MQ"),f.isPreservingQualityScores()){for(var T=new Array(f.readLength),D=0;D<T.length;D+=1)T[D]=t("QS");f.qualityScores=T}}return f}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(17),i={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};e.exports=function(){function e(){Hn(this,e),this.tags={}}return Gn(e,[{key:"isPaired",value:function(){return!!(this.flags&r.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!(this.flags&r.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!(this.flags&r.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!(this.flags&r.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!(this.flags&r.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!(this.flags&r.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!(this.flags&r.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!(this.flags&r.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!(this.flags&r.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!(this.flags&r.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!(this.flags&r.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!(this.flags&r.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",i=n,s=0;r.length<e.readLength;)if(s<e.readFeatures.length&&e.readFeatures[s].pos===r.length+1){var o=e.readFeatures[s];s+=1,"b"===o.code?(r+=o.data,i+=1):"B"===o.code?(r+=o.data[0],i+=1):"X"===o.code?(r+=o.sub,i+=1):"I"===o.code?r+=o.data:"D"===o.code?i+=o.data:"i"===o.code?r+=o.data:"N"===o.code?i+=o.data:"S"===o.code&&(r+=o.data)}else if(s<e.readFeatures.length){var a=t.seq.substr(i,e.readFeatures[s].pos-r.length-1);r+=a,i+=a.length}else{var l=t.seq.substr(i,e.readLength-r.length);r+=l,i+=l.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var i=[],s=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&s>0&&(s=-s),s>0?(i[0]=e,i[1]=n,i[2]=t,i[3]=r):(i[2]=e,i[3]=n,i[0]=t,i[1]=r),i.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){this.readFeatures&&this.readFeatures.forEach((function(n){"X"===n.code&&function(e,t,n,r){if(t){var s=t.seq.charAt(r.refPos-t.start);s&&(r.ref=s);var o=i[s];void 0===o&&(o=4);var a=n.substitutionMatrix[o][r.data];a&&(r.sub=a)}}(0,e,t,n)})),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){"_"!==n.charAt(0)&&(t[n]=e[n])})),t.readBases=this.getReadBases(),t}}]),e}()},function(e,t,n){var r=n(0).CramMalformedError,i=n(79).instantiateCodec,s={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"};e.exports=function(){function e(t){Hn(this,e),Object.assign(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return Gn(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=i(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=s[e];if(!n)throw new r("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=i(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){/Cache$/.test(n)||(t[n]=e[n])})),t}}]),e}()},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(80),s=n(81),o=n(82),a=n(83),l=n(84),c=n(85),h={1:s,3:i,4:a,5:o,6:l,7:n(86),9:c};function u(e){return h[e]}e.exports={getCodecClassWithId:u,instantiateCodec:function e(t,n){var i=u("ignore"===n?0:t.codecId);if(!i)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new i(t.parameters,n,e)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),e=Jn(this,Yn(t).call(this,n,r)),!["byte","int"].includes(e.dataType))throw new TypeError("".concat(e.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return e.buildCodeBook(),e.buildCodes(),e.buildCaches(),0===e.sortedCodes[0].bitLength&&(e._decode=e._decodeZeroLengthCode),Jn(e)}return Wn(t,e),Gn(t,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=t.sort((function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol})),this.codeBook={},t.forEach((function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)}))}},{key:"buildCodes",value:function(){var e=this;this.codes={};var t=0,n=-1;Object.entries(this.codeBook).forEach((function(i){var s=er(i,2),o=s[0],a=s[1];o=parseInt(o,10),a.forEach((function(i){var s={bitLength:o,value:i};n+=1;var a=o-t;if(s.bitCode=n<<=a,t+=a,function(e){var t=e-(e>>1)&1431655765;return 16843009*((t=(858993459&t)+(t>>2&858993459))+(t>>4)&252645135)>>24}(n)>o)throw new r("Symbol out of range");e.codes[i]=s}))}))}},{key:"buildCaches",value:function(){this.sortedCodes=Object.values(this.codes).sort((function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode})),this.sortedByValue=Object.values(this.codes).sort((function(e,t){return e.value-t.value})),this.sortedValuesByBitCode=this.sortedCodes.map((function(e){return e.value})),this.sortedBitCodes=this.sortedCodes.map((function(e){return e.bitCode})),this.sortedBitLengthsByBitCode=this.sortedCodes.map((function(e){return e.bitLength}));var e=Math.max.apply(Math,tr(this.sortedBitCodes));this.bitCodeToValue=new Array(e+1).fill(-1);for(var t=0;t<this.sortedBitCodes.length;t+=1)this.bitCodeToValue[this.sortedCodes[t].bitCode]=t}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var i=t.content,s=0,o=0,a=0;a<this.sortedCodes.length;a+=1){var l=this.sortedCodes[a].bitLength;o<<=l-s,o|=this._getBits(i,n,l-s),s=l;var c=this.bitCodeToValue[o];if(c>-1&&this.sortedBitLengthsByBitCode[c]===l)return this.sortedValuesByBitCode[c];for(var h=a;this.sortedCodes[h+1].bitLength===l&&h<this.sortedCodes.length;h+=1)a+=1}throw new r("Huffman symbol not found.")}}]),t}(i)},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,s=r.CramMalformedError,o=r.CramBufferOverrunError,a=n(6),l=n(8).parseItf8;e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),"int"===(e=Jn(this,Yn(t).call(this,n,r))).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new i("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new s("no block found with content ID ".concat(i));var a=r.externalBlocks.getCursor(i);return this._decodeData(o,a)}},{key:"_decodeInt",value:function(e,t){var n=er(l(e.content,t.bytePosition),2),r=n[0];return t.bytePosition+=n[1],r}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new o("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),t}(a)},function(e,t,n){var r=n(0),i=r.CramBufferOverrunError,s=r.CramMalformedError,o=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),e=Jn(this,Yn(t).call(this,n,r)),"byteArray"!==r)throw new TypeError("byteArrayStop codec does not support data type ".concat(r));return e._decode=e._decodeByteArray,Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new s("no block found with content ID ".concat(i));var a=r.externalBlocks.getCursor(i);return this._decode(o,a)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,s=t.bytePosition,o=t.bytePosition;n[o]!==r&&o<n.length;){if(o===n.length)throw new i("byteArrayStop reading beyond length of data buffer?");o+=1}return t.bytePosition=o+1,n.slice(s,o)}}]),t}(o)},function(e,t,n){var r=n(8).tinyMemoize,i=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(Hn(this,t),(e=Jn(this,Yn(t).call(this,n,r))).instantiateCodec=i,"byteArray"!==r)throw new TypeError("byteArrayLength does not support data type ".concat(r));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i=this._getLengthCodec().decode(e,t,n,r),s=this._getDataCodec(),o=new Array(i),a=0;a<i;a+=1)o[a]=s.decode(e,t,n,r);return o}},{key:"_getLengthCodec",value:function(){return this.instantiateCodec(this.parameters.lengthsEncoding,"int")}},{key:"_getDataCodec",value:function(){return this.instantiateCodec(this.parameters.valuesEncoding,"byte")}}]),t}(n(6));"_getLengthCodec _getDataCodec".split(" ").forEach((function(e){return r(i,e)})),e.exports=i},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by BETA codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i=1;0===this._getBits(t.content,r.coreBlock,1);)i+=1;return(this._getBits(t.content,r.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Hn(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i,s=0;this._getBits(t.content,r.coreBlock,1);)s+=1;return(0===s?this._getBits(t.content,r.coreBlock,i=this.parameters.K):1<<(i=s+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,i))-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(88),i=n(90);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),u=["%","/","?",";","#"].concat(h),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(91);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof s)return e;var r=new s;return r.parse(e,t,n),r}s.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+Vn(e));var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!v[w])){for(var k,C,E=-1,R=0;R<d.length;R++)-1!==(A=b.indexOf(d[R]))&&(-1===E||A<E)&&(E=A);for(-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),E=-1,R=0;R<u.length;R++){var A;-1!==(A=b.indexOf(u[R]))&&(-1===E||A<E)&&(E=A)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var T=this.hostname.split(/\./),D=(R=0,T.length);R<D;R++){var O=T[R];if(O&&!O.match(p)){for(var M="",P=0,L=O.length;P<L;P++)O.charCodeAt(P)>127?M+="x":M+=O[P];if(!M.match(p)){var F=T.slice(0,R),N=T.slice(R+1),z=O.match(f);z&&(F.push(z[1]),N.unshift(z[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=F.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"";this.host=(this.hostname||"")+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[x])for(R=0,D=h.length;R<D;R++){var j=h[R];if(-1!==b.indexOf(j)){var V=encodeURIComponent(j);V===j&&(V=escape(j)),b=b.split(j).join(V)}}var $=b.indexOf("#");-1!==$&&(this.hash=b.substr($),b=b.slice(0,$));var U=b.indexOf("?");return-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(B=this.pathname||"")+(this.search||"")),this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(i.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(n[h]=e[h])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var p=u[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||m||n.host&&e.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],x=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===w[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return x&&(n.hostname=n.host=w.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=w.slice(-1)[0],k=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,E=w.length;E>=0;E--)"."===(S=w[E])?w.splice(E,1):".."===S?(w.splice(E,1),C++):C&&(w.splice(E,1),C--);if(!b&&!_)for(;C--;C)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),k&&"/"!==w.join("/").substr(-1)&&w.push("");var R,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return x&&(n.hostname=n.host=A?"":w.length?w.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),(b=b||n.host&&w.length)&&!A&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;!function(s){Vn(r);var o,a=2147483647,l=36,c=/^xn--/,h=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=l)e=p(e/35);return p(r+36*e/(e+38))}function x(e){var t,n,r,i,s,o,c,h,u,d,f,g=[],v=e.length,y=0,_=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(s=y,o=1,c=l;i>=v&&m("invalid-input"),((h=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||h>p((a-y)/o))&&m("overflow"),y+=h*o,!(h<(u=c<=x?1:c>=x+26?26:c-x));c+=l)o>p(a/(d=l-u))&&m("overflow"),o*=d;x=w(y-s,t=g.length+1,0==s),p(y/t)>a-_&&m("overflow"),_+=p(y/t),y%=t,g.splice(y++,0,_)}return b(g)}function S(e){var t,n,r,i,s,o,c,h,u,d,g,v,b,x,S,k=[];for(v=(e=y(e)).length,t=128,n=0,s=72,o=0;o<v;++o)(g=e[o])<128&&k.push(f(g));for(r=i=k.length,i&&k.push("-");r<v;){for(c=a,o=0;o<v;++o)(g=e[o])>=t&&g<c&&(c=g);for(c-t>p((a-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,o=0;o<v;++o)if((g=e[o])<t&&++n>a&&m("overflow"),g==t){for(h=n,u=l;!(h<(d=u<=s?1:u>=s+26?26:u-s));u+=l)k.push(f(_(d+(S=h-d)%(x=l-d),0))),h=p(S/x);k.push(f(_(h,0))),s=w(n,b,r==i),n=0,++r}++n,++t}return k.join("")}o={version:"1.4.1",ucs2:{decode:y,encode:b},decode:x,encode:S,toASCII:function(e){return v(e,(function(e){return h.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(i=(function(){return o}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n(89)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==Vn(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(92),t.encode=t.stringify=n(93)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t=t||"&");var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var u,d,p,f,m=e[h].replace(a,"%20"),g=m.indexOf(n);g>=0?(u=m.substr(0,g),d=m.substr(g+1)):(u=m,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),r(o,p)?i(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(Vn(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==Vn(e)?s(o(e),(function(o){var a=encodeURIComponent(r(o))+n;return i(e[o])?s(e[o],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[o]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var r=n(95),i=n(96);e.exports=function(){function e(t){var n=this;Hn(this,e),this.position=0,this.url=t,this.cache=new i({fetch:function(e,t){return n._fetch(e,t)}})}var n,s,o;return Gn(e,[{key:"_fetch",value:(o=Un(regeneratorRuntime.mark((function e(n,i){var s,o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},i<1/0?s.range="bytes=".concat(n,"-").concat(n+i):i===1/0&&0!==n&&(s.range="bytes=".concat(n,"-")),e.next=4,r(this.url,{method:"GET",headers:s,redirect:"follow",mode:"cors"});case 4:if((200!==(o=e.sent).status||0!==n)&&206!==o.status){e.next=13;break}return e.t0=t,e.next=9,o.arrayBuffer();case 9:return e.t1=e.sent,a=e.t0.from.call(e.t0,e.t1),l=/\/(\d+)$/.exec(o.headers.get("content-range")),e.abrupt("return",(this._stat=l&&l[1]?{size:parseInt(l[1],10)}:{size:void 0},a));case 13:throw new Error("HTTP ".concat(o.status," fetching ").concat(this.url));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null===r&&(this.position+=n),this.cache.get(e,t,n,r)}},{key:"readFile",value:(s=Un(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"stat",value:(n=Un(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),e}()}).call(this,n(1).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=h(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,s){var o=new b(e,n);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new w("response"in a?a.response:a.responseText,n))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",l)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=b,e.Response=w),t.Headers=d,t.Request=b,t.Response=w,t.fetch=S}({})}(n),delete n.fetch.polyfill,e.exports=t=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,t.default=n.fetch},function(e,t,n){var r=n(30);e.exports=function(){function e(t){var n=t.fetch,i=t.size,s=void 0===i?1e7:i,o=t.chunkSize,a=void 0===o?32768:o;if(Hn(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=a,this.lruCache=new r({maxSize:Math.floor(s/a)})}var t;return Gn(e,[{key:"get",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(s=Math.floor(i/this.chunkSize),o=Math.floor((i+r)/this.chunkSize),a=new Array(o-s+1),l=function(e){a[e-s]=d._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},c=s;c<=o;c+=1)l(c);return e.next=7,Promise.all(a);case 7:u=i-(h=e.sent)[0].chunkNumber*this.chunkSize,h.forEach((function(e){var a=e.chunkNumber,l=0,c=d.chunkSize,h=n+(a-s)*d.chunkSize-u;a===s&&(h=n,l=u),a===o&&(c=i+r-a*d.chunkSize),e.data.copy(t,h,l,c)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}()},function(e,t,n){n(34);e.exports=function(){function e(t){Hn(this,e),this.position=0,this.filename=t,this.fd=null(this.filename,"r")}var t,n,r;return Gn(e,[{key:"read",value:(r=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,r=s.length>2?s[2]:void 0,null===(i=s.length>3?s[3]:void 0)&&(this.position+=r),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r,e.t5=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._stat,e.t0){e.next=9;break}return e.t1=null,e.next=5,this.fd;case 5:return e.t2=e.sent,e.next=8,(0,e.t1)(e.t2);case 8:this._stat=e.sent;case 9:return e.abrupt("return",this._stat);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},function(e,t){e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return t.forEach((function(e){var t=function(e){return nr(e)||rr(e)||ir()}(e.split(/\t/)),r=t[0],i=t.slice(1).map((function(e){var t=er(e.split(":",2),2);return{tag:t[0],value:t[1]}}));r&&n.push({tag:r.substr(1),data:i})})),n}}},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,s=r.CramSizeLimitError,o=n(18);e.exports=function(){function e(t){if(Hn(this,e),this.cram=t.cram?t.cram:new o({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof o))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return Gn(e,[{key:"getRecordsForRange",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r){var o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C,E,R,A,I,T,D,O=this,M=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=M.length>3&&void 0!==M[3]?M[3]:{}).viewAsPairs=a.viewAsPairs||!1,a.pairAcrossChr=a.pairAcrossChr||!1,a.maxInsertSize=a.maxInsertSize||2e5,"string"!=typeof t){e.next=3;break}throw new i("string sequence names not yet supported");case 3:return l=t,e.next=6,this.index.getEntriesForRange(l,n,r);case 6:if(!((h=(c=e.sent).map((function(e){return e.sliceBytes})).reduce((function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=10;break}throw new s("data size of ".concat(h.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 10:return u=function(e){return e.sequenceId===t&&e.alignmentStart<=r&&e.alignmentStart+e.lengthOnRef>=n},e.next=13,Promise.all(c.map((function(e){return O.getRecordsInSlice(e,u)})));case 13:if(d=e.sent,p=(o=Array.prototype).concat.apply(o,tr(d)),!a.viewAsPairs){e.next=36;break}for(f={},m={},g=0;g<p.length;g+=1)y=p[g].uniqueId,f[v=p[g].readName]||(f[v]=0),f[v]+=1,m[y]=1;for(b={},Object.entries(f).forEach((function(e){var t=er(e,2);1===t[1]&&(b[t[0]]=!0)})),_=[],w=0;w<p.length;w+=1)b[p[w].readName]&&p[w].mate&&(p[w].mate.sequenceId===l||a.pairAcrossChr)&&Math.abs(p[w].alignmentStart-p[w].mate.alignmentStart)<a.maxInsertSize&&(x=this.index.getEntriesForRange(p[w].mate.sequenceId,p[w].mate.alignmentStart,p[w].mate.alignmentStart+1),_.push(x));return e.next=24,Promise.all(_);case 24:for(S=e.sent,k=[],C=0;C<S.length;C+=1)(E=k).push.apply(E,tr(S[C]));if(k=k.sort((function(e,t){return e.toString().localeCompare(t.toString())})).filter((function(e,t,n){return!t||e.toString()!==n[t-1].toString()})),R=[],A=[],!((I=k.map((function(e){return e.sliceBytes})).reduce((function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=31;break}throw new Error("mate data size of ".concat(I.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 31:return k.forEach((function(e){var t=O.cram.featureCache.get(e.toString());t||(t=O.getRecordsInSlice(e,(function(){return!0})),O.cram.featureCache.set(e.toString(),t)),R.push(t);var n=t.then((function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];b[r.readName]&&!m[r.uniqueId]&&t.push(r)}return t}));A.push(n)})),e.next=34,Promise.all(A);case 34:(T=e.sent).length&&(D=T.reduce((function(e,t){return e.concat(t)})),p=p.concat(D));case 36:return e.abrupt("return",p);case 37:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.sliceStart,r=e.sliceBytes;return this.cram.getContainerAtPosition(e.containerStart).getSlice(n,r).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}()},function(e,t,n){var r=(0,n(34).promisify)(n(20).gunzip),i=n(33).open,s=n(0).CramMalformedError,o=function(){function e(t){Hn(this,e),Object.assign(this,t)}return Gn(e,[{key:"toString",value:function(){return"".concat(this.start,":").concat(this.span,":").concat(this.containerStart,":").concat(this.sliceStart,":").concat(this.sliceBytes)}}]),e}();function a(e,t){if(t.some((function(e){return void 0===e})))throw new s("invalid .crai index file");var n=er(t,6),r=n[0],i=n[1],a=n[2],l=n[3],c=n[4],h=n[5];e[r]||(e[r]=[]),e[r].push(new o({start:i,span:a,containerStart:l,sliceStart:c,sliceBytes:h}))}e.exports=function(){function e(t){Hn(this,e);var n=i(t.url,t.path,t.filehandle);this.readFile=n.readFile.bind(n),this.index=this.parseIndex()}var t,n;return Gn(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then((function(e){return 31===e[0]&&139===e[1]?r(e):e})).then((function(t){for(var n=[],r="",i=0;i<t.length;i+=1){var o=t[i];if(o>=48&&o<=57||!r&&45===o)r+=String.fromCharCode(o);else if(9===o)n.push(Number.parseInt(r,10)),r="";else if(10===o)n.push(Number.parseInt(r,10)),r="",a(e,n),n=[];else if(13!==o&&32!==o)throw new s("invalid .crai index file")}return r&&n.push(Number.parseInt(r,10)),6===n.length&&a(e,n),Object.entries(e).forEach((function(t){var n=er(t,2);e[n[0]]=n[1].sort((function(e,t){return e.start-t.start||e.span-t.span}))})),e}))}},{key:"getIndex",value:function(){return this.index}},{key:"hasDataForReferenceSequence",value:(n=Un(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:if(e.t0=t,i=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:o=function(e){return e.start>=r?-1:e.start+e.span<=n?1:0},l=0,c=(s=i.length)-1;case 8:if(!(l<=c)){e.next=19;break}if(!((h=o(i[a=Math.round((c+l)/2)]))>0)){e.next=14;break}l=a+1,e.next=17;break;case 14:if(h<0){e.next=16;break}return e.abrupt("break",19);case 16:c=a-1;case 17:e.next=8;break;case 19:for(u=a;u&&!o(i[u-1]);)u-=1;for(d=a;d<s-1&&!o(i[d+1]);)d+=1;return p=i[u].start,e.abrupt("return",i[d].start+i[d].span>=n&&r>=p?i.slice(u,d+1):[]);case 25:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()}]),Q_=function(e,t,n){this.config=e,this.browser=n,this.genome=t,this.cramFile=new K_.CramFile({filehandle:new ew(e.url,e),seqFetch:e.seqFetch||J_.bind(this),checkSequenceMD5:void 0===e.checkSequenceMD5||e.checkSequenceMD5});var r=new ew(e.indexURL,e);this.indexedCramFile=new K_.IndexedCramFile({cram:this.cramFile,index:new K_.CraiIndex({filehandle:r}),fetchSizeLimit:3e7}),b_.setReaderDefaults(this,e)};function J_(e,t,n){var r=this.genome.sequence,i=this.genome;return this.getHeader().then((function(s){var o=i.getChromosomeName(s.chrNames[e]);return r.getSequence(o,t-1,n)}))}Q_.prototype.getHeader=function(){if(this.header)return Promise.resolve(this.header);var e=this,t=this.genome;return this.cramFile.getSamHeader().then((function(n){var r={},i=[],s={},o=[],a=!0,l=!1,c=void 0;try{for(var h,u=n[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var d=h.value;if("SQ"===d.tag){var p=!0,f=!1,m=void 0;try{for(var g,v=d.data[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var y=g.value;if("SN"===y.tag){var b=y.value;r[b]=i.length,i.push(b),t&&(s[t.getChromosomeName(b)]=b);break}}}catch(Rx){f=!0,m=Rx}finally{try{p||null==v.return||v.return()}finally{if(f)throw m}}}else"RG"===d.tag&&o.push(d.data)}}catch(Rx){l=!0,c=Rx}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}return e.header={chrNames:i,chrToIndex:r,chrAliasTable:s,readGroups:o},e.header}))},Q_.prototype.readAlignments=function(e,t,n){var r=this,i=this.browser;return this.getHeader().then((function(s){var o=s.chrAliasTable.hasOwnProperty(e)?s.chrAliasTable[e]:e,a=s.chrToIndex[o],l=new n_(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold);return void 0===a?Promise.resolve(l):r.indexedCramFile.getRecordsForRange(a,t,n).then((function(e){var r=!0,i=!1,o=void 0;try{for(var h,u=e[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var d=h.value,p=d.sequenceId,f=d.alignmentStart;if(!(p<0)){if(p>a||f>n)return;if(!(p<a||f+d.lengthOnRef<t)){var m=c(d,s.chrNames);l.push(m)}}}}catch(Rx){i=!0,o=Rx}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return l.finish(),l})).catch((function(e){var t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),i.presentAlert(t),e}));function c(e,t){var n=new c_;return n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId&&(n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags)}),n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,function(e,t){var n,r,i=[],s=0,o="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures){var a=!0,l=!1,c=void 0;try{for(var h,u=e.readFeatures[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var d=h.value,p=d.code,f=d.data,m=d.pos-1,g=d.refPos-1;switch(p){case"S":case"I":case"i":case"N":case"D":if(m>s){var v=m-s;i.push(new f_({start:g-v,seqOffset:s,len:v,type:"M"})),s+=v,o+=v+"M"}if("S"===p){var y=g;t.scLengthOnRef+=f.length,0===m&&(t.scStart-=f.length,y-=f.length);var b=f.length;i.push(new f_({start:y,seqOffset:s,len:b,type:"S"})),s+=b,o+=b+p}else if("I"===p||"i"===p){void 0===n&&(n=[]);var _="i"===p?1:f.length;n.push(new f_({start:g-1,len:_,seqOffset:s,type:"I"})),s+=_,o+=_+p}else"D"!==p&&"N"!==p||(r||(r=[]),r.push({start:g,len:f,type:p}),o+=f+p);break;case"H":case"P":o+=f+p}}}catch(Rx){l=!0,c=Rx}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}}var w=e.readLength-s;w>0&&(i.push(new f_({start:e.alignmentStart+e.lengthOnRef-w-1,seqOffset:s,len:w,type:"M"})),o+=w+"M"),t.blocks=i,t.insertions=n,t.gaps=r,t.cigar=o}(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),b_.setPairOrientation(n),n}}))};var ew=function(){function e(t,n){var r=this;Hn(this,e),this.position=0,this.url=t,this.config=n,this.cache=new tw({fetch:function(e,t){return r._fetch(e,t)}})}var t,n,r,i;return Gn(e,[{key:"_fetch",value:(i=Un(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={start:t,size:n},this._stat={size:void 0},e.next=4,og.loadArrayBuffer(this.url,Sm(this.config,{range:r}));case 4:return e.abrupt("return",Buffer.from(e.sent));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"read",value:(r=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,r=s.length>2&&void 0!==s[2]?s[2]:1/0,null===(i=s.length>3&&void 0!==s[3]?s[3]:0)&&(this.position+=r),e.abrupt("return",this.cache.get(t,n,r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,og.loadArrayBuffer(this.url,Sm(this.config));case 2:return e.abrupt("return",Buffer.from(e.sent));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=Buffer.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),tw=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,s=t.chunkSize,o=void 0===s?32768:s;Hn(this,e),this.fetch=n,this.chunkSize=o,this.lruCache=new nw({maxSize:Math.floor(i/o)})}var t;return Gn(e,[{key:"get",value:(t=Un(regeneratorRuntime.mark((function e(t,n,r,i){var s,o,a,l,c,h,u,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(s=Math.floor(i/this.chunkSize),o=Math.floor((i+r)/this.chunkSize),a=new Array(o-s+1),l=function(e){a[e-s]=d._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},c=s;c<=o;c+=1)l(c);return e.next=9,Promise.all(a);case 9:u=i-(h=e.sent)[0].chunkNumber*this.chunkSize,h.forEach((function(e){var a=e.chunkNumber,l=0,c=d.chunkSize,h=n+(a-s)*d.chunkSize-u;a===s&&(h=n,l=u),a===o&&(c=i+r-a*d.chunkSize),e.data.copy(t,h,l,c)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),nw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Hn(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=er(s.value,1),a=o[0],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=er(s.value,2),a=o[1],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,a,l,c,h,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this.cache[Symbol.iterator]();case 5:if(t=(s=i.next()).done){e.next=12;break}return o=s.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a=!0,l=!1,c=void 0,e.prev=29,h=this.oldCache[Symbol.iterator]();case 31:if(a=(u=h.next()).done){e.next=40;break}if(p=er(d=u.value,1),this.cache.has(p[0])){e.next=37;break}return e.next=37,d;case 37:a=!0,e.next=31;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(29),l=!0,c=e.t1;case 46:e.prev=46,e.prev=47,a||null==h.return||h.return();case 49:if(e.prev=49,!l){e.next=52;break}throw c;case 52:return e.finish(49);case 53:return e.finish(46);case 54:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25],[29,42,46,54],[47,,49,53]])}))},{key:"size",get:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,s=this.oldCache.keys()[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)this.cache.has(i.value)||e++}catch(Rx){n=!0,r=Rx}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}return this._size+e}}]),e}(),rw={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},iw=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new m_(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,this.pairsSupported=!!e.viewAsPairs||void 0===e.pairsSupported||e.pairsSupported};iw.prototype.readAlignments=function(e,t,n){var r=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then((function(e){if(i.chrAliasTable={},r&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?Jy({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then((function(e){return e.forEach((function(e){var t=e.name,n=r.getChromosomeName(t);i.chrAliasTable[n]=t})),i.chrAliasTable})):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable}))).then((function(r){var o=r.hasOwnProperty(e)?r[e]:e;return Jy({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:o,start:t,end:n,pageSize:"10000"},decode:s,results:new n_(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})}));function s(e){var t,n,s,o,a,l=e.alignments,c=l.length,h=[];for(t=0;t<c;t++){var u=l[t];(n=new c_).readName=u.fragmentName,n.properPlacement=u.properPlacement,n.duplicateFragment=u.duplicateFragment,n.numberReads=u.numberReads,n.fragmentLength=u.fragmentLength,n.readNumber=u.readNumber,n.failedVendorQualityChecks=u.failedVendorQualityChecks,n.secondaryAlignment=u.secondaryAlignment,n.supplementaryAlignment=u.supplementaryAlignment,n.seq=u.alignedSequence,n.qual=u.alignedQuality,n.matePos=u.nextMatePosition,n.tagDict=u.info,n.flags=0,u.alignment?(n.mapped=!0,n.chr=u.alignment.position.referenceName,r&&(n.chr=r.getChromosomeName(n.chr)),n.start=parseInt(u.alignment.position.position),n.strand=!u.alignment.position.reverseStrand,n.mq=u.alignment.mappingQuality,n.cigar=d(u.alignment.cigar),s=p(u.alignment.cigar),n.lengthOnRef=s.lengthOnRef,a=f(n,s.array),n.blocks=a.blocks,n.insertions=a.insertions):n.mapped=!1,(o=u.nextMatePosition)&&(n.mate={chr:o.referenceFrame,position:parseInt(o.position),strand:!o.reverseStrand}),i.filter.pass(n)&&h.push(n)}return h;function d(e){var t="";return e.forEach((function(e){t+=e.operationLength+rw[e.operation]})),t}function p(e){var t,n,r,i,s=0,o=[];for(i=0;i<e.length;i++)r=rw[(t=e[i]).operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(s+=n),o.push({len:n,ltr:r});return{lengthOnRef:s,array:o}}function f(e,t){for(var n,r,i,s=[],o=0,a=e.start,l=t.length,c=0;c<l;c++){var h=t[c];switch(h.ltr){case"H":case"P":break;case"S":o+=h.len,i="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:a,len:h.len,type:h.ltr}),a+=h.len;break;case"I":void 0===r&&(r=[]),r.push(new f_({start:a,len:h.len,seqOffset:o})),o+=h.len;break;case"M":case"EQ":case"=":case"X":s.push(new f_({start:a,len:h.len,seqOffset:o,gapType:i})),o+=h.len,a+=h.len}}return{blocks:s,insertions:r,gaps:n}}}},iw.prototype.readMetadata=function(){return Qy({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var sw=function(){this.alignments=[],this.score=void 0};sw.prototype.findAlignment=function(e){var t,n,r;for(r=0;r<this.alignments.length;r++)if(i(n=this.alignments[r],e)){n.paired?n.firstAlignment&&i(n.firstAlignment,e)?t=n.firstAlignment:n.secondAlignment&&i(n.secondAlignment,e)&&(t=n.secondAlignment):t=n;break}return t;function i(e,t){return t>=e.start&&t<e.start+e.lengthOnRef}},sw.prototype.updateScore=function(e,t){this.score=this.calculateScore(e,t)},sw.prototype.calculateScore=function(e,t){var n,r=Math.floor(e.position),i=e.sortOption,s=e.direction,o=this.findAlignment(r);if(void 0===o)return s?Number.MAX_VALUE:-Number.MAX_VALUE;switch(i){case"NUCLEOTIDE":var a=o.readBaseAt(r),l=o.readBaseQualityAt(r);return a?function(e,t,n,r){var i,s,o;if((i=Math.floor(r)-n.start)<n.sequence.length&&(s=n.sequence.charAt(i)),s)return void 0===e?Number.MAX_VALUE:"N"===e?2:s===e||"="===e?4-t/1e3:"X"===e||s!==e?(i=Math.floor(r)-n.coverageMap.bpStart)>0&&i<n.coverageMap.coverage.length?-((o=n.coverageMap.coverage[i])["pos"+e]+o["neg"+e]+t/1e3):-(1+t/1e3):0}(a,l,t,r):s?Number.MAX_VALUE:-Number.MAX_VALUE;case"STRAND":return o.strand?1:-1;case"START":return o.start;case"TAG":var c=e.tag,h=o.tags()[c];return void 0!==h?tm(h)?sm(h):h:Number.MAX_VALUE;case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"MATE_CHR":return(n=o.mate)?n.chr===o.chr?Number.MAX_VALUE-1:sm(n.chr):Number.MAX_VALUE;case"MQ":return void 0===o.mq?Number.MAX_VALUE:-o.mq;default:return Number.MAX_VALUE}};var ow=function(e,t){var n=t.genome;if(this.config=e,this.genome=n,this.alignmentContainer=void 0,tm(e.url)&&e.url.startsWith("data:")){if("cram"===e.format)throw"CRAM data uris are not supported";this.config.indexed=!1}this.bamReader="ga4gh"===e.sourceType?new iw(e,n):"pysam"===e.sourceType?new P_(e,n):"htsget"===e.sourceType?new F_(e,n):"shardedBam"===e.sourceType?new M_(e,n):"cram"===e.format?new Q_(e,n,t):!1===this.config.indexed?new k_(e,n):new E_(e,n),this.viewAsPairs=e.viewAsPairs,this.showSoftClips=e.showSoftClips};function aw(e){var t=[],n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=!0,c=!1,h=void 0;try{for(var u,d=a.alignments[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;p instanceof e_?(p.firstAlignment&&t.push(p.firstAlignment),p.secondAlignment&&t.push(p.secondAlignment)):t.push(p)}}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function lw(e){return e.isPaired()&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function cw(e,t,n,r){if(e){if(0===e.length)return[];e.sort((function(e,t){return r?e.scStart-t.scStart:e.start-t.start}));var i=e[0],s=Math.max(t,r?i.scStart:i.start),o=s,a=[],l=!0,c=!1,h=void 0;try{for(var u,d=e[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value,f=Math.max(0,(r?p.scStart:p.start)-s);void 0===a[f]&&(a[f]=[]),a[f].push(p)}}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}var m=0,g=0,v=[];try{for(;m<e.length;){for(var y=new sw;o<=n;){for(var b=void 0,_=void 0;!b&&o<=n;)void 0===a[_=o-s]?++o:b=a[_];if(!b)break;var w=b.pop();0===b.length&&(a[_]=void 0),y.alignments.push(w),o=r?w.scStart+w.scLengthOnRef+2:w.start+w.lengthOnRef+2,++m}if(y.alignments.length>0&&v.push(y),o=s,m===g)break;g=m}}catch(x){throw console.error(x),x}return v}}ow.prototype.setViewAsPairs=function(e){if(this.viewAsPairs!==e&&(this.viewAsPairs=e,this.alignmentContainer)){var t,n=this.alignmentContainer;t=e?function(e){var t={},n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=!0,h=!1,u=void 0;try{for(var d,p=l.alignments[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;if(lw(f)){var m=t[f.readName];m?(m.setSecondAlignment(f),t[f.readName]=void 0):(m=new e_(f),t[f.readName]=m,n.push(m))}else n.push(f)}}catch(Rx){h=!0,u=Rx}finally{try{c||null==p.return||p.return()}finally{if(h)throw u}}}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(n.packedAlignmentRows):aw(n.packedAlignmentRows),n.packedAlignmentRows=cw(t,n.start,n.end)}},ow.prototype.setShowSoftClips=function(e){if(this.showSoftClips!==e&&(this.showSoftClips=e,this.alignmentContainer)){var t=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=!0,c=!1,h=void 0;try{for(var u,d=a.alignments[Symbol.iterator]();!(l=(u=d.next()).done);l=!0)t.push(u.value)}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}(this.alignmentContainer.packedAlignmentRows),n=this.alignmentContainer;n.packedAlignmentRows=cw(t,n.start,n.end,e)}},ow.prototype.getAlignments=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=this.genome,s=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(t,n,r)){e.next=7;break}return e.abrupt("return",this.alignmentContainer);case 7:return e.next=9,this.bamReader.readAlignments(t,n,r);case 9:if(a=(o=e.sent).alignments,this.viewAsPairs||(a=aw([{alignments:a}])),l=a.length>0,o.packedAlignmentRows=cw(a,o.start,o.end,s),o.alignments=void 0,this.alignmentContainer=o,l){e.next=20;break}return e.abrupt("return",o);case 20:return e.next=22,i.sequence.getSequence(t,o.start,o.end);case 22:if(!(c=e.sent)){e.next=29;break}return o.coverageMap.refSeq=c,o.sequence=c,e.abrupt("return",o);case 29:console.error("No sequence for: "+t+":"+o.start+"-"+o.end);case 30:e.next=36;break;case 32:throw e.prev=32,e.t0=e.catch(0),console.error(e.t0),e.t0;case 36:case"end":return e.stop()}}),e,this,[[0,32]])})));return function(t,n,r){return e.apply(this,arguments)}}();var hw=wm(Qv,(function(e,t){if(this.type="alignment",void 0===e.height&&(e.height=300),Qv.call(this,e,t),void 0===e.coverageTrackHeight&&(e.coverageTrackHeight=50),void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new ow(e,t),this.coverageTrack=new dw(e,this),this.alignmentTrack=new pw(e,this),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=void 0===e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.color=e.color||"rgb(185, 185, 185)",this.coverageColor=e.coverageColor||"rgb(150, 150, 150)",this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,this.sortObjects={},e.sort){if(Array.isArray(e.sort)){var n=!0,r=!1,i=void 0;try{for(var s,o=e.sort[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)a(this.sortObjects,s.value)}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}else a(this.sortObjects,e.sort);e.sort=void 0}function a(e,n){var r=function(e){var t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return r.end=n.length>1?Number.parseInt(n[1].replace(/,/g,"")):r.start+1,r}(n.locus);t&&t.genome&&(r.chr=t.genome.getChromosomeName(r.chr));var i=!0,s=!1,o=void 0;try{for(var a,l=t.genomicStateList[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;if(c.chromosome.name===r.chr&&r.start>=c.start&&r.start<=c.end){e[c.id]={chr:r.chr,position:r.start,sortOption:n.option||"NUCLEOTIDE",direction:void 0===n.direction||"ASC"===n.direction,tag:n.tag?n.tag.toUpperCase():void 0};break}}}catch(Rx){s=!0,o=Rx}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}}));function uw(e,t){var n,r;if(n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),(n=Math.round(10*n)/10)>=1)r=Id[t];else{var i=Ad[t];if(!i)return;r="rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"}return r}hw.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i,s){var o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,e.next=3,this.featureSource.getAlignments(t,n,r);case 3:return(a=e.sent).alignments&&a.alignments.length>99&&(void 0===o.minFragmentLength&&(o.minFragmentLength=a.pairedEndStats.lowerFragmentLength),void 0===o.maxFragmentLength&&(o.maxFragmentLength=a.pairedEndStats.upperFragmentLength)),(l=o.sortObjects[s.genomicState.id])&&(l.chr===t&&l.position>=n&&l.position<=r?(o.alignmentTrack.sortAlignmentRows(l,a),o.trackView.repaintViews()):delete o.sortObjects[s.genomicState.id]),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,s){return e.apply(this,arguments)}}(),hw.filters={noop:function(){return function(e){return!1}},strand:function(e){return function(t){return t.strand===e}},mappingQuality:function(e,t){return function(n){return!!(e&&n.mq<e)||!!(t&&n.mq>t)}}},hw.prototype.computePixelHeight=function(e){return this.coverageTrack.computePixelHeight(e)+this.alignmentTrack.computePixelHeight(e)+15},hw.prototype.draw=function(e){Qg.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.coverageTrack.height>0&&this.coverageTrack.draw(e),this.alignmentTrack.draw(e)},hw.prototype.paintAxis=function(e,t,n){this.browser.isMultiLocusMode()?e.clearRect(0,0,t,n):this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)},hw.prototype.contextMenuItemList=function(e){return this.alignmentTrack.contextMenuItemList(e)},hw.prototype.popupData=function(e){return e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)},hw.prototype.menuItemList=function(){var e=this,t=[],n=Ya('<div class="igv-track-menu-category igv-track-menu-border-top">');n.text("Color by"),t.push({name:void 0,object:n,click:void 0,init:void 0});var r=[{key:"strand",label:"read strand"}];return e.alignmentTrack.hasPairs&&(r.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),r.push({key:"pairOrientation",label:"pair orientation"}),r.push({key:"fragmentLength",label:"insert size (TLEN)"})),r.push({key:"tag",label:"tag"+(e.alignmentTrack.colorByTag?" ("+e.alignmentTrack.colorByTag+")":"")}),r.forEach((function(n){var r;t.push({name:void 0,object:Sd((r=n).label,e.alignmentTrack.colorBy===n.key),click:function(){r.key===e.alignmentTrack.colorBy?(e.alignmentTrack.colorBy="none",e.config.colorBy="none",e.trackView.repaintViews()):"tag"===r.key?(e.browser.inputDialog.configure({label:"Tag Name",input:e.alignmentTrack.colorByTag?e.alignmentTrack.colorByTag:"",click:function(){e.alignmentTrack.colorBy="tag",e.config.colorBy="tag";var t=e.browser.inputDialog.$input.val().trim();t!==e.alignmentTrack.colorByTag&&(e.alignmentTrack.colorByTag=t,e.config.colorByTag=t,e.alignmentTrack.tagColors=new Dd("Set1"),Ya("#color-by-tag").text(e.alignmentTrack.colorByTag)),e.trackView.repaintViews()}}),e.browser.inputDialog.present(Ya(e.trackView.trackDiv))):(e.alignmentTrack.colorBy=r.key,e.config.colorBy=r.key,e.trackView.repaintViews())},init:void 0})})),t.push({object:Ya('<div class="igv-track-menu-border-top">')}),t.push({object:Sd("Show all bases",e.showAllBases),click:function(){e.showAllBases=!e.showAllBases,e.config.showAllBases=e.showAllBases,e.trackView.updateViews(!0)}}),t.push({object:Ya('<div class="igv-track-menu-border-top">')}),e.pairsSupported&&e.alignmentTrack.hasPairs&&t.push({object:Sd("View as pairs",e.viewAsPairs),click:function(){e.viewAsPairs=!e.viewAsPairs,e.config.viewAsPairs=e.viewAsPairs,e.featureSource.setViewAsPairs(e.viewAsPairs),e.trackView.updateViews(!0)}}),t.push({object:Sd("Show soft clips",e.showSoftClips),click:function(){e.showSoftClips=!e.showSoftClips,e.config.showSoftClips=e.showSoftClips,e.featureSource.setShowSoftClips(e.showSoftClips),e.trackView.updateViews(!0)}}),t},hw.prototype.dispose=function(){this.trackView=void 0},hw.prototype.getState=function(){var e=Object.assign({},this.config);e.sort=void 0;var t=!0,n=!1,r=void 0;try{for(var i,s=this.browser.genomicStateList[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=this.sortObjects[i.value.id];o&&(e.sort=e.sort||[],e.sort.push({locus:o.chr+":"+(o.position+1),option:o.sortOption,direction:o.direction?"ASC":"DESC",tag:o.tag}))}}catch(Rx){n=!0,r=Rx}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}return e};var dw=function(e,t){this.parent=t,this.featureSource=t.featureSource,this.top=0,this.height=e.coverageTrackHeight,this.dataRange={min:0},this.paintAxis=Gb};dw.prototype.computePixelHeight=function(e){return this.height},dw.prototype.draw=function(e){var t=e.context;this.top&&t.translate(0,top);var n,r=e.features.coverageMap;this.dataRange.max=r.maximum,r.refSeq&&(n=r.refSeq.toUpperCase());var i=e.bpPerPixel,s=e.bpStart,o=s+e.pixelWidth*i+1,a=this.parent.coverageColor;"rgb(185, 185, 185)"!==this.parent.color&&(a=om.darkenLighten(this.parent.color,-35)),Qg.setProperties(t,{fillStyle:a,strokeStyle:a});for(var l=Math.max(1,Math.ceil(1/i)),c=0,h=r.coverage.length;c<h;c++){var u=r.bpStart+c;if(!(u<s)){if(u>o)break;var d=r.coverage[c];if(d){var p=Math.round(d.total/this.dataRange.max*this.height),f=this.height-p,m=Math.floor((u-s)/i);Qg.fillRect(t,m,f,l,p)}}}if(n)for(var g=0,v=r.coverage.length;g<v;g++){var y=r.bpStart+g;if(!(y<s)){if(y>o)break;var b=r.coverage[g];if(b){var _=b.total/this.dataRange.max*this.height,w=this.height-_,x=Math.floor((y-s)/i),S=n[g];if(b.isMismatch(S)){Qg.setProperties(t,{fillStyle:Id[S]}),Qg.fillRect(t,x,w,l,_);for(var k=0,C=0,E=["A","C","T","G"];C<E.length;C++){var R=E[C],A=(b["pos"+R]+b["neg"+R])/this.dataRange.max*this.height;w=this.height-A-k,k+=A,Qg.setProperties(t,{fillStyle:Id[R]}),Qg.fillRect(t,x,w,l,A)}}}}}},dw.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),r=e.viewport.genomicState.referenceFrame,i=t.coverageMap,s=[],o=Math.floor(n-i.bpStart),a=i.coverage[o];if(a){s.push(r.chrName+":"+nm(1+n)),s.push({name:"Total Count",value:a.total});var l=a.posA+a.negA;l>0&&(l=l.toString()+" ("+Math.round(l/a.total*100)+"%, "+a.posA+"+, "+a.negA+"- )"),s.push({name:"A",value:l}),(l=a.posC+a.negC)>0&&(l=l.toString()+" ("+Math.round(l/a.total*100)+"%, "+a.posC+"+, "+a.negC+"- )"),s.push({name:"C",value:l}),(l=a.posG+a.negG)>0&&(l=l.toString()+" ("+Math.round(l/a.total*100)+"%, "+a.posG+"+, "+a.negG+"- )"),s.push({name:"G",value:l}),(l=a.posT+a.negT)>0&&(l=l.toString()+" ("+Math.round(l/a.total*100)+"%, "+a.posT+"+, "+a.negT+"- )"),s.push({name:"T",value:l}),(l=a.posN+a.negN)>0&&(l=l.toString()+" ("+Math.round(l/a.total*100)+"%, "+a.posN+"+, "+a.negN+"- )"),s.push({name:"N",value:l}),s.push("<HR/>"),s.push({name:"DEL",value:a.del.toString()}),s.push({name:"INS",value:a.ins.toString()})}return s}};var pw=function(e,t){this.parent=t,this.browser=t.browser,this.featureSource=t.featureSource,this.top=0===e.coverageTrackHeight?0:e.coverageTrackHeight+5,this.alignmentRowHeight=e.alignmentRowHeight||14,this.negStrandColor=e.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=e.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=e.insertionColor||"rgb(138, 94, 161)",this.deletionColor=e.deletionColor||"black",this.skippedColor=e.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=e.pairConnectorColor,this.smallFragmentLengthColor=e.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=e.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=e.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=e.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=e.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=e.llColor||"rgb(0, 150, 150)",this.colorBy=e.colorBy||"pairOrientation",this.colorByTag=e.colorByTag?e.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===e.bamColorTag?"YC":e.bamColorTag,this.hideSmallIndels=e.hideSmallIndels,this.indelSizeThreshold=e.indelSizeThreshold||1,this.hasPairs=!1};pw.prototype.computePixelHeight=function(e){if(e.packedAlignmentRows){var t=0;return e.hasDownsampledIntervals()&&(t+=10),t+this.alignmentRowHeight*e.packedAlignmentRows.length+5}return this.height},pw.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,s=i+e.pixelWidth*r+1,o=t.packedAlignmentRows,a=this.parent.showSoftClips,l=this.parent.showAllBases,c=t.sequence;c&&(c=c.toUpperCase());var h=0;if(n.save(),this.top&&n.translate(0,this.top),t.hasDownsampledIntervals()?(h=10,t.downsampledIntervals.forEach((function(e){var t=(e.start-i)/r,s=(e.end-i)/r;s-t>5&&(t+=1,s-=1),Qg.fillRect(n,t,2,s-t,3,{fillStyle:"black"})}))):h=0,this.alignmentsYOffset=h,o)for(var u=o.length,d=0;d<u;d++){var p=o[d],f=h+this.alignmentRowHeight*d,m=this.alignmentRowHeight<=4?this.alignmentRowHeight:this.alignmentRowHeight-2,g=!0,v=!1,y=void 0;try{for(var b,_=p.alignments[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var w=b.value;if(this.hasPairs=this.hasPairs||w.isPaired(),!(w.start+w.lengthOnRef<i)){if(w.start>s)break;!0!==w.hidden&&(w instanceof e_?(x.call(this,w,f,m),S.call(this,w.firstAlignment,f,m),w.secondAlignment&&S.call(this,w.secondAlignment,f,m)):S.call(this,w,f,m))}}}catch(Rx){v=!0,y=Rx}finally{try{g||null==_.return||_.return()}finally{if(v)throw y}}}function x(e,t,o){var a=this.getConnectorColor(e.firstAlignment),l=(e.connectingStart-i)/r,c=(e.connectingEnd-i)/r,h=t+o/2;e.connectingEnd<i||e.connectingStart>s||(e.mq<=0&&(a=om.addAlpha(a,.15)),Qg.setProperties(n,{fillStyle:a,strokeStyle:a}),Qg.strokeLine(n,l,h,c,h))}function S(e,o,h){if(!(e.start+e.lengthOnRef<i||e.start>s)){var u=a?e.blocks:e.blocks.filter((function(e){return"S"!==e.type})),d=this.getAlignmentColor(e),p=d;e.mq<=0&&(d=om.addAlpha(d,.15)),Qg.setProperties(n,{fillStyle:d,strokeStyle:p});for(var f=0;f<u.length;f++){var m=u[f];if(!(f!==u.length-1&&u[f+1].start<i)&&(D.call(this,m,f),m.start+m.len>s))break}if(e.insertions){var g=-1,v=!0,y=!1,b=void 0;try{for(var _,w=e.insertions[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var x=_.value;if(!(this.hideSmallIndels&&x.len<=this.indelSizeThreshold||x.start<i)){if(x.start>s)break;var S=(x.start-i)/r-1;S-g>2&&(Qg.fillRect(n,S,o-1,3,h+2,{fillStyle:this.insertionColor}),g=S)}}}catch(Rx){y=!0,b=Rx}finally{try{v||null==w.return||w.return()}finally{if(y)throw b}}}if(e.gaps){var k=o+h/2,C=!0,E=!1,R=void 0;try{for(var A,I=e.gaps[Symbol.iterator]();!(C=(A=I.next()).done);C=!0){var T=A.value;Qg.strokeLine(n,(T.start-i)/r,k,(T.start+T.len-i)/r,k,{strokeStyle:"D"===T.type?this.deletionColor:this.skippedColor})}}catch(Rx){E=!0,R=Rx}finally{try{C||null==I.return||I.return()}finally{if(E)throw R}}}}function D(s,a){var f=s.start-t.start,m=(s.start-i)/r,g=(s.start+s.len-i)/r,v=Math.max(1,g-m),y=this.alignmentRowHeight/2,b="S"===s.type,_=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||b,w=p;this.highlightedAlignmentReadNamed===e.readName?w="red":b&&(w="rgb(50,50,50)");var x,S,k=!0===e.strand&&a===u.length-1,C=!1===e.strand&&0===a;if(k|C?(k?(x=[m,g,g+y,g,m,m],S=[o,o,o+h/2,o+h,o+h,o]):C&&(x=[g,m,m-y,m,g,g],S=[o,o,o+h/2,o+h,o+h,o]),Qg.fillPolygon(n,x,S,{fillStyle:d}),_&&Qg.strokePolygon(n,x,S,{strokeStyle:w})):(Qg.fillRect(n,m,o,v,h,{fillStyle:d}),_&&(n.save(),n.strokeStyle=w,n.strokeRect(m,o,v,h),n.restore())),b||l||c&&e.seq&&"*"!==e.seq){for(var E=e.seq?e.seq.toUpperCase():void 0,R=e.qual,A=s.seqOffset,I=0,T=s.len;I<T;I++)if(!(f+I<0)){var D,M=E?E.charAt(A+I):"",P=c.charAt(f+I);if("="===M&&(M=P),"X"===M||P!==M||b||l)if(D=!b&&void 0!==R&&R.length>A+I?uw(R[A+I],M):Id[M]){var L=(s.start+I-i)/r,F=Math.max(1,1/r);O(n,r,{x:L,y:o,width:F,height:h},D,M)}}if(e.tags().NM){var N=e.tags().NM,z=2*y+(s.start+s.len-i)/r,B=Math.min(10,h);n.font=B+"px sans-serif";var j=om.greyScale(68);1==N.indexOf("i")&&(function(e){throw new Error('"fillStyle" is read-only')}(),j="black"),Qg.fillText(n,N,z,B-1+o,{fillStyle:j})}}}function O(e,t,n,r,i){if(t<=.1&&n.height>=8){var s=Math.min(10,n.height);e.font=s+"px sans-serif",Qg.strokeText(e,i,n.x+n.width/2-e.measureText(i).width/2,s-1+n.y,{strokeStyle:r})}else Qg.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}n.restore()},pw.prototype.sortAlignmentRows=function(e,t){var n=e.direction;null===t&&(t=this.featureSource.alignmentContainer);var r=!0,i=!1,s=void 0;try{for(var o,a=t.packedAlignmentRows[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)o.value.updateScore(e,t)}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}t.packedAlignmentRows.sort((function(e,t){var r=e.score>t.score?1:e.score<t.score?-1:0;return!0===n?r:-r}))},pw.prototype.popupData=function(e){var t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0},pw.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport,r=e.viewport.genomicState,i=this.getClickedObject(e.viewport,e.y,e.genomicLocation),s=i&&!i.paired&&"function"==typeof i.isPaired,o=[];return o.push("<b>Sort by...</b>"),o.push({label:"&nbsp; base",click:function(){return a("NUCLEOTIDE")}}),o.push({label:"&nbsp; read strand",click:function(){return a("STRAND")}}),o.push({label:"&nbsp; insert size",click:function(){return a("INSERT_SIZE")}}),o.push({label:"&nbsp; chromosome of mate",click:function(){return a("MATE_CHR")}}),o.push({label:"&nbsp; mapping quality",click:function(){return a("MQ")}}),o.push({label:"&nbsp; tag",click:function(){var n={label:"Tag Name",input:t.sortByTag?t.sortByTag:"",click:function(){var n=t.browser.inputDialog.$input.val().trim();t.sortByTag=n,l({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:"TAG",tag:n})}};t.browser.inputDialog.configure(n),t.browser.inputDialog.present(Ya(t.parent.trackView.trackDiv))}}),o.push("<hr/>"),s&&i.isMateMapped()&&o.push({label:"View mate in split screen",click:function(){i.mate&&(t.highlightedAlignmentReadNamed=i.readName,t.browser.presentSplitScreenMultiLocusPanel(i,e.viewport.genomicState))},init:void 0}),o.push({label:"View read sequence",click:function(){if(i){var e=i.seq;t.browser.presentAlert(e&&"*"!==e?e:"Read sequence: *")}}}),o.push("<hr/>"),o;function a(t){l({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:t})}function l(r){if(e.viewport.tile){var i=t.parent.sortObjects,s=i[n.genomicState.id];r.direction=!s||!s.direction,t.sortAlignmentRows(r,e.viewport.getCachedFeatures()),t.parent.trackView.repaintViews(),i[n.genomicState.id]=r}}},pw.prototype.getClickedObject=function(e,t,n){var r=this.parent.showSoftClips,i=e.getCachedFeatures();if(i&&0!==i.length){var s=i.packedAlignmentRows,o=i.downsampledIntervals,a=Math.floor((t-this.top-this.alignmentsYOffset)/this.alignmentRowHeight);if(a<0){for(var l=0;l<o.length;l++)if(o[l].start<=n&&o[l].end>=n)return o[l]}else if(a<s.length){var c=s[a].alignments.filter((function(e){var t=r?e.scStart:e.start;return n>=t&&n<=t+(r?e.scLengthOnRef:e.lengthOnRef)}));if(c.length>0)return c[0]}}},pw.prototype.getConnectorColor=function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}},pw.prototype.getAlignmentColor=function(e){var t,n=this.parent.color;switch(this.colorBy){case"strand":n=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof e_?n=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?n=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?n=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)n=mw(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var r=fw[this.pairOrientation];if(r){var i=this.pairColors[r[e.pairOrientation]];i&&(n=i)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?n=mw(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?n=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(n=this.largeFragmentLengthColor);break;case"tag":void 0!==(t=e.tags()[this.colorByTag])&&(this.bamColorTag===this.colorByTag?n="rgb("+t+")":(this.tagColors||(this.tagColors=new Dd("Set1")),n=this.tagColors.getColor(t)));break;default:n=this.parent.color}return n};var fw={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function mw(e){if(gw[e])return gw[e];if(gw["chr"+e]){var t=gw["chr"+e];return gw[e]=t,t}var n=om.randomRGB();return gw[e]=n,n}var gw={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},vw=wm(Qv,(function(e,t){Qv.call(this,e,t),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.thickness=e.thickness||2,this.color=e.color||"rgb(180,25,137)",this.visibilityWindow=-1,this.colorAlphaCache={}}));function yw(e,t){var n=this.colorAlphaCache[e];return n||(n=om.addAlpha(e,t),this.colorAlphaCache[e]=n),n}vw.prototype.supportsWholeGenome=function(){return!0},vw.prototype.getState=function(){var e=this.config||{};return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},vw.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.browser.genome,this.featureCache){e.next=11;break}return s=Sm(this.config),e.next=5,og.loadString(this.config.url,s);case 5:o=e.sent,(a=new Av("bedpe")).parseHeader(o),l=a.parseFeatures(o),this.wgFeatures=this.getWGFeatures(l),this.featureCache=new Iy(l,i);case 11:return e.abrupt("return","all"===t.toLowerCase()?this.wgFeatures:this.featureCache.queryFeatures(t,n,r));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),vw.prototype.draw=function(e){var t=this,n=e.context,r=e.pixelWidth,i=e.pixelHeight,s=e.viewportWidth,o=e.bpStart,a=e.bpPerPixel;Qg.fillRect(n,0,e.pixelTop,r,i,{fillStyle:"rgb(255, 255, 255)"});var l=e.features;l&&(function(){var e=0;l.forEach((function(t){var n=(t.start-o)/a,i=(t.end-o)/a;i>=0&&n<=r&&(e=Math.max(e,i-n))}));var n=Math.min(s,e)/2;e>0&&(t.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var i=0===t?0:n[t-1],s=0===t?0:r[t-1],o=t<r.length?r[t]:Math.PI/2;return s+(e-i)/((t<n.length?n[t]:1)-i)*(o-s)}(i/n),t.sinTheta=Math.sin(t.theta),t.cosTheta=Math.cos(t.theta))}(),l.forEach((function(e){var r=Math.round((e.m1-o)/a),i=Math.round((e.m2-o)/a)-r;i<3&&(i=3,r--);var l,c,h,u=i/2,d=u/t.sinTheta,p=t.cosTheta*d,f=r+u;t.arcOrientation?(l=t.height+p,c=Math.PI+Math.PI/2-t.theta,h=Math.PI+Math.PI/2+t.theta):(l=-p,c=Math.PI/2-t.theta,h=Math.PI/2+t.theta);var m=e.color||t.color;m&&i>s&&(m=yw.call(t,m,"0.1")),n.strokeStyle=m,n.lineWidth=e.thickness||t.thicknewss||1,n.beginPath(),n.arc(f,l,d,c,h,!1),n.stroke()})))},vw.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}},{name:"Set track color",click:function(){e.trackView.presentColorPicker()}}]},vw.prototype.getWGFeatures=function(e){var t=this.browser.genome,n=new Set(t.wgChromosomeNames),r=[],i=t.getGenomeLength()/1e3,s=!0,o=!1,a=void 0;try{for(var l=t.wgChromosomeNames[Symbol.iterator]();!(s=l.next().done);s=!0){var c=!0,h=!1,u=void 0;try{for(var d,p=e[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value,m=t.getChromosomeName(f.chr);if(n.has(m)){var g=t.getGenomeCoordinate(f.chr1,f.m1),v=t.getGenomeCoordinate(f.chr2,f.m2);if(Math.abs(v-g)<i)continue;var y=Object.create(Object.getPrototypeOf(f));Object.assign(y,f),y.chr="all",y.m1=g,y.m2=v,r.push(y)}}}catch(Rx){h=!0,u=Rx}finally{try{c||null==p.return||p.return()}finally{if(h)throw u}}}}catch(Rx){o=!0,a=Rx}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}return r.sort((function(e,t){return e.m1-t.m2})),r};var bw=wm(Qv,(function(e,t){this.type="variant",this.visibilityWindow=e.visibilityWindow,Qv.call(this,e,t),this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.variantHeight=e.variantHeight||10,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=new sb(e,t.genome),this.noCallColor=e.noCallColor||"rgb(245, 245, 245)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.nRows=1}));function _w(e,t,n,r){var i="",s=t.alternateBases.split(","),o=!0,a=!1,l=void 0;try{for(var c,h=e.genotype[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value;if("."===u){i+="No Call";break}i+=0===u?t.referenceBases:s[u-1].replace("<","&lt;")}}catch(Rx){a=!0,l=Rx}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}var d=[];if(void 0!==e.callSetName&&d.push({name:"Name",value:e.callSetName}),d.push({name:"Genotype",value:i}),void 0!==e.phaseset&&d.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&d.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),r){var p=r.getAttributes(e.callSetName);p&&Object.keys(p).forEach((function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),d.push({name:t,value:p[e]})}))}var f=Object.keys(e.info);f.length&&d.push("<hr>"),f.forEach((function(t){d.push({name:t,value:e.info[t]})}));var m=[];return m.length>0&&(d.push("<HR/>"),d=d.concat(m)),d}bw.prototype.postInit=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:return void 0===this.visibilityWindow&&(t=this.config.url instanceof File?this.config.url.name:this.config.url,this.visibilityWindow=tm(t)&&t.toLowerCase().includes("gnomad")?1e3:this.callSets?Math.max(1e3,1e6-1e4*this.callSets.length):1e6),e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)}))),bw.prototype.getFileHeader=Un(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=4;break}return e.abrupt("return",this.header);case 4:if("function"!=typeof this.featureSource.getFileHeader){e.next=13;break}return e.next=7,this.featureSource.getFileHeader();case 7:return(t=e.sent)&&(t.name&&!this.config.name&&(this.name=t.name),t.color&&!this.config.color&&(this.color="rgb("+t.color+")"),this.callSets=t.callSets||[]),this.header=t,e.abrupt("return",t);case 13:return this.callSets=[],e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,this)}))),bw.prototype.getCallsetsLength=function(){return this.callSets.length},bw.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.header){e.next=4;break}return e.next=3,this.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),bw.prototype.computePixelHeight=function(e){if("COLLAPSED"===this.displayMode)return this.nRows=1,10+this.variantHeight;var t=0;if(e){var n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;a.row&&a.row>t&&(t=a.row)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var l="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;this.nRows=t+1;var c=10+this.nRows*(this.variantHeight+l);this.variantBandHeight=c;var h="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight;return c+l+(this.getCallsetsLength()*this.nRows+1)*(h+l)},bw.prototype.draw=function(e){var t=e.context,n=this.callSets,r=this.getCallsetsLength(),i=e.pixelWidth,s="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight,o=e.bpPerPixel,a=e.bpStart,l=a+i*o+1;Qg.fillRect(t,0,e.pixelTop,i,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var c="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;n&&r>0&&"COLLAPSED"!==this.displayMode&&Qg.strokeLine(t,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "});var h=e.features;if(h){var u=!0,d=!1,p=void 0;try{for(var f,m=h[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var g=f.value;if(!(g.end<a)){if(g.start>l)break;var v=10+("COLLAPSED"===this.displayMode?0:g.row*(this.variantHeight+c)),y=this.variantHeight,b=Math.round((g.start-a)/o),_=Math.round((g.end-a)/o),w=Math.max(1,_-b);if(w<3?(w=3,b-=1):w>5&&(b+=1,w-=2),t.fillStyle="NONVARIANT"===g.type?this.nonRefColor:"MIXED"===g.type?this.mixedColor:this.color,t.fillRect(b,v,w,y),r>0&&g.calls&&"COLLAPSED"!==this.displayMode){var x=0,S=!0,k=!1,C=void 0;try{for(var E,R=n[Symbol.iterator]();!(S=(E=R.next()).done);S=!0){var A=g.calls[E.value.id];if(A){var I=this.variantBandHeight+c+(x+g.row)*(s+c),T=!0,D=!0,O=!1,M=!0,P=!1,L=void 0;try{for(var F,N=A.genotype[Symbol.iterator]();!(M=(F=N.next()).done);M=!0){var z=F.value;if("."===z){O=!0;break}0!==z&&(D=!1),0===z&&(T=!1)}}catch(Rx){P=!0,L=Rx}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}t.fillStyle=O?this.noCallColor:D?this.homrefColor:T?this.homvarColor:this.hetvarColor,t.fillRect(b,I,w,s)}x++}}catch(Rx){k=!0,C=Rx}finally{try{S||null==R.return||R.return()}finally{if(k)throw C}}}}}}catch(Rx){d=!0,p=Rx}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}}},bw.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=e.genomicLocation,r=this.browser.genome.id,i=[],s=this.browser.sampleInformation,o=!0,a=!1,l=void 0;try{for(var c,h=t[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value;if(i.length>0&&i.push("<HR>"),"COLLAPSED"===this.displayMode)Array.prototype.push.apply(i,u.popupData(n,this.type));else{var d=e.y,p="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;if(d<=this.variantBandHeight){var f=Math.floor((d-10)/(this.variantHeight+p));u.row===f&&Array.prototype.push.apply(i,u.popupData(n,r),this.type)}else{var m=this.callSets;if(m&&u.calls){var g=Math.floor((d-this.variantBandHeight)/(this.nRows*("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight)+p));g>=0&&g<m.length&&Array.prototype.push.apply(i,_w(u.calls[m[g].id],u,0,s))}}}}}catch(Rx){a=!0,l=Rx}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}return i},bw.prototype.menuItemList=function(){var e=this,t=[];return t.push({object:Ya('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(n){t.push({object:Sd({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t};var ww=vd.dataRangeMenuItem,xw=wm(Qv,(function(e,t){var n=e.url,r=e.name;this.config=e,this.url=n,this.name=r,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";var i=e.maxLogP||e.max;this.dataRange={min:e.minLogP||e.min||3.5,max:i||25},this.autoscale=!i||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=new sb(e,t.genome),wb.gtexLoaded=!0}));xw.prototype.paintAxis=function(e,t,n){var r=(this.dataRange.max-this.dataRange.min)/n,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};Qg.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var s=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),o=4;o<=this.dataRange.max;o+=s){var a,l,c,h,u;a=(u=.85*t)-5,l=u,c=h=n-Math.round((o-this.dataRange.min)/r),Qg.strokeLine(e,a,c,l,h,i),c>8&&Qg.fillText(e,o,a-1,c+2,i)}i.textAlign="center",Qg.fillText(e,"-log10(pvalue)",t/4,n/2,i,{rotate:{angle:-90}})},xw.prototype.getFeatures=function(e,t,n){var r=this.pValueField;return this.featureSource.getFeatures(e,t,n).then((function(e){return e.forEach((function(e){e.value=e[r]})),e}))},xw.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,s=e.bpStart,o=e.pixelWidth,a=e.pixelHeight,l=(t.dataRange.max-t.dataRange.min)/a,c=e.genomicState.selection;if(this.background&&Qg.fillRect(r,0,0,o,a,{fillStyle:this.background}),Qg.strokeLine(r,0,a-1,o,a-1,{strokeStyle:this.divider}),r){var h=n.length;r.save(),u(!1),u(!0),r.restore()}function u(e){var u,d,p,f,m,g,v,y,b=e?2*t.dotSize:t.dotSize;for(d=0;d<h;d++)if(u=n[d],!((p=Math.round(u.position-s+.5)/i)<0)){if(p>o)break;if(g=u.snp.toUpperCase(),v=u[t.geneField].toUpperCase(),!e||c&&(c.snp===g||c.gene===v)){c&&c.snp===g&&c.addGene(v);var _=-Math.log(u[t.pValueField])/Math.LN10;_>=t.dataRange.min&&(_>t.dataRange.max?(_=t.dataRange.max,y=!0):y=!1,f=Math.max(0+b,a-Math.round((_-t.dataRange.min)/l)),u.px=p,u.py=f,e&&c?(m=c.colorForGene(v),Qg.setProperties(r,{fillStyle:m,strokeStyle:"black"})):Qg.setProperties(r,{fillStyle:m=y?"rgb(150, 150, 150)":"rgb(180, 180, 180)",strokeStyle:m}),Qg.fillCircle(r,p,f,b),Qg.strokeCircle(r,p,f,b))}}}},xw.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.y,i=2*this.dotSize*e.viewport.genomicState.referenceFrame.bpPerPixel,s=this.dotSize,o=this.name,a=[];return t.forEach((function(e){e.end>=n-i&&e.start<=n+i&&e.py-r<2*s&&(a.length>0&&a.push("<hr>"),a.push({name:"snp id",value:e.snp},{name:"gene id",value:e.geneId},{name:"gene name",value:e.geneName},{name:"p value",value:e.pValue},{name:"tissue",value:o}))})),a},xw.prototype.menuItemList=function(){var e=this,t=[];return t.push(ww(this.trackView)),t.push({object:Sd("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},xw.prototype.doAutoscale=function(e){if(e.length>0){var t=e.map((function(e){return-Math.log(e.value)/Math.LN10}));this.dataRange.max=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort((function(e,t){return t-e})),e[n]):function(e,t){var n,r=new zd;for(n=0;n<e.length;n++){var i=e[n];(r.content.length<t||i>r.content[0])&&(r.content.length===t&&r.pop(),r.push(i))}return r.content[0]}(e,n)}}(t,this.autoscalePercentile)}else this.dataRange.max=this.config.maxLogP||this.config.max||25;return this.dataRange};for(var Sw={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"},kw=0,Cw=Object.keys(Sw);kw<Cw.length;kw++){var Ew=Cw[kw];Sw["chr"+Ew]=Sw[Ew]}var Rw=wm(Qv,(function(e,t){Qv.call(this,e,t),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.height=e.height||100,e.autoscale||(this.dataRange=e.posteriorProbability?{min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:{min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new Kb(e.color):{"*":new Zb(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=new sb(e,t.genome)}));Rw.prototype.supportsWholeGenome=function(){return!0},Rw.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Rw.prototype.draw=function(e){var t=e.features,n=e.context,r=e.pixelWidth,i=e.pixelHeight;if(this.background&&Qg.fillRect(n,0,0,r,i,{fillStyle:this.background}),Qg.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider}),t){var s=e.bpPerPixel,o=e.bpStart,a=o+r*s+1,l=!0,c=!1,h=void 0;try{for(var u,d=t[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value,f=p.start;if(!(f<o)){if(f>a)break;var m=this.getColorScale(p.realChr||p.chr),g=void 0,v=void 0;if(this.posteriorProbability)g=m.getColor(v=p.value);else{var y=p.value||p.score;if(!y)continue;v=-Math.log10(y),g=m.getColor(v)}var b=(this.dataRange.max-this.dataRange.min)/i,_=Math.round((f-o)/s),w=Math.max(this.dotSize,i-Math.round((v-this.dataRange.min)/b));g&&Qg.setProperties(n,{fillStyle:g,strokeStyle:"black"}),Qg.fillCircle(n,_,w,this.dotSize),p.px=_,p.py=w}}}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}},Rw.prototype.getColorScale=function(e){if(this.useChrColors){var t=this.colorScales[e];if(!t){var n=Sw[e]||Md.get();t=new Kb(n),this.colorScales[e]=t}return t}return this.colorScales("*")},Rw.prototype.paintAxis=function(e,t,n){Qg.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"},i=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability)for(var s=this.dataRange.min;s<this.dataRange.max;s+=.1){var o=n-Math.round((s-this.dataRange.min)/i);Qg.strokeLine(e,45,o-2,50,o-2,r),Qg.fillText(e,s.toFixed(1),44,o+2,r)}else for(var a=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),l=this.dataRange.min;l<this.dataRange.max;l+=a){var c=n-Math.round((l-this.dataRange.min)/i);Qg.strokeLine(e,45,c-2,50,c-2,r),Qg.fillText(e,Math.floor(l),44,c+2,r)}r.textAlign="center",Qg.fillText(e,this.posteriorProbability?"PPA":"-log10(pvalue)",t/2,n/2,r,{rotate:{angle:-90}})},Rw.prototype.popupData=function(e){var t=[],n=e.viewport.trackView.track,r=e.viewport.getCachedFeatures();if(r){var i=0,s=!0,o=!1,a=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var h=l.value,u=Math.abs(e.canvasX-h.px),d=Math.abs(e.canvasY-h.py),p=h.value||h.score;if(u<this.dotSize&&d<this.dotSize){if(i>0&&t.push("<HR/>"),5==i){t.push("...");break}if("function"==typeof h.popupData)t=t.concat(h.popupData());else{var f=(h.realStart||h.start)+1;t.push({name:"chromosome",value:h.realChr||h.chr}),t.push({name:"position",value:f}),t.push({name:"name",value:h.name}),t.push(n.posteriorProbability?{name:"posterior probability",value:p}:{name:"pValue",value:p})}i++}}}catch(Rx){o=!0,a=Rx}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}}return t},Rw.prototype.menuItemList=function(){var e=this,t=[];return t.push((0,vd.dataRangeMenuItem)(this.trackView)),t.push({object:Sd("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Rw.prototype.doAutoscale=function(e){if(e.length>0){var t=this.posteriorProbability?e:e.map((function(e){return{value:-Math.log(void 0!==e.value?e.value:e.score)/Math.LN10}})),n=Cm(t);this.dataRange.max=n.max,this.dataRange.min=n.min!==n.max?n.min:0}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange};var Aw=vd.dataRangeMenuItem,Iw=wm(Qv,(function(e,t){Qv.call(this,e,t),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=Gb,this.graphType=e.graphType||"bar",this.featureSource=new sb(this.config,t.genome)}));Iw.prototype.postInit=Un(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFileHeader();case 2:this.header=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),Iw.prototype.menuItemList=function(){var e=this,t=[];return t.push(Aw(this.trackView)),t.push({object:Sd("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Iw.prototype.getFeatures=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,0,Number.MAX_VALUE);case 2:i=e.sent,s=void 0,o=void 0,a=1;case 6:if(!(a<i.length-1)){e.next=14;break}if(void 0===s&&i[a].end>n&&(s=a-1),!(void 0===o&&i[a].start>r)){e.next=11;break}return o=a+1,e.abrupt("break",14);case 11:a++,e.next=6;break;case 14:return void 0===s&&(s=0),void 0===o&&(o=i.length),e.abrupt("return",i.slice(s,o));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Iw.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,s=e.bpStart,o=e.pixelHeight,a=function(e){return(t.dataRange.max-e)/(t.dataRange.max-t.dataRange.min)*o},l=function(e){var t=Math.floor((e-s)/i);return isNaN(t)&&console.warn("isNaN(x). feature start "+nm(e)+" bp start "+nm(s)),t};if(n&&n.length>0&&(void 0===t.dataRange.min&&(t.dataRange.min=0),t.dataRange.max>t.dataRange.min)){var c=this.config.highlightSamples,h=this.config.onlyHandleClicksForHighlightedSamples,u=-1,d={},p=[],f=[];this.clickDetectorCache={};var m=!0,g=!1,v=void 0;try{for(var y,b=n[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var _=y.value,w=l(_.start),x=l(_.end),S=u>=0?l(u):w;if(!(isNaN(w)||isNaN(x)||w-S<1&&x-w<1)){this.clickDetectorCache[w]=[],this.clickDetectorCache[x]=[];for(var k=0;k<_.values.length;k++){var C=t.header[k],E=_.values[k],R=a(E);if(w-S>=1){var A=a(d[C]),I=c&&c[C];I?p.push([S,A,w,R,I]):Qg.strokeLine(r,S,A,w,R,{strokeStyle:"#D9D9D9"}),h&&!(C in c)||this.clickDetectorCache[w].push([S,A,w,R,C,I||"gray"])}if(x-w>=1){var T=c&&c[C];T?f.push([w,R,x,R,T]):Qg.strokeLine(r,w,R,x,R,{strokeStyle:"gray"}),h&&!(C in c)||this.clickDetectorCache[x].push([w,R,x,R,C,T||"gray"])}d[C]=E}u=_.end}}}catch(Rx){g=!0,v=Rx}finally{try{m||null==b.return||b.return()}finally{if(g)throw v}}for(var D=0,O=p;D<O.length;D++){var M=O[D];Qg.strokeLine(r,M[0],M[1],M[2],M[3],{strokeStyle:M[4],lineWidth:1.3})}for(var P=0,L=f;P<L.length;P++){var F=L[P];Qg.strokeLine(r,F[0],F[1],F[2],F[3],{strokeStyle:F[4],lineWidth:2})}}!function(e){if(t.config.hasOwnProperty("guideLines")){var n=!0,r=!1,i=void 0;try{for(var s,o=t.config.guideLines[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;if(l.hasOwnProperty("color")&&l.hasOwnProperty("y")&&l.hasOwnProperty("dotted")){var c=a(l.y),h={strokeStyle:l.color,strokeWidth:2};l.dotted?Qg.dashedLine(e.context,0,c,e.pixelWidth,c,5,h):Qg.strokeLine(e.context,0,c,e.pixelWidth,c,h)}}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}(e)},Iw.prototype.doAutoscale=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){t=Math.min.apply(Math,[t].concat(tr(e.values))),n=Math.max.apply(Math,[n].concat(tr(e.values)))})),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}},Iw.prototype.clickedFeatures=function(e){for(var t,n,r,i,s,o,a=e.canvasX,l=e.canvasY,c=null,h=0,u=Object.keys(this.clickDetectorCache);h<u.length&&(c=u[h],!((c=parseInt(c))>=a));h++);if(c){var d=Number.MAX_VALUE,p=[],f=this.clickDetectorCache[c],m=!0,g=!1,v=void 0;try{for(var y,b=f[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var _=y.value,w=_[0],x=_[2];if(a<w||a>x)return[];var S=_[1],k=_[3];if(!(l<Math.min(S,k)-10||l>Math.max(S,k)+10)){var C=(r=x-(t=w),i=k-(n=S),s=Math.abs(r*(n-l)-(t-a)*i),(o=Math.sqrt(r*r+i*i))>0?s/o:0);C<d&&(p=[{name:_[4],color:_[5]}],d=C)}}}catch(Rx){g=!0,v=Rx}finally{try{m||null==b.return||b.return()}finally{if(g)throw v}}if(d<5)return p}return[]},Iw.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=[];return t.forEach((function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];xm(e[i])&&n.push({name:i,value:e[i]})}})),n},Iw.prototype.contextMenuItemList=function(e){return[]},Iw.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},Iw.prototype.supportsWholeGenome=function(){return!1};var Tw=wm(Qv,(function(e,t){Qv.call(this,e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,this.featureSource=new Ow(e,t.genome)}));function Dw(e,t){e.sort((function(e,n){return(void 0===t?1:t)*((void 0===e.score?-Number.MAX_VALUE:e.score)-(void 0===n.score?-Number.MAX_VALUE:n.score))}))}function Ow(e,t){this.config=e,this.genome=t}Tw.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Tw.prototype.draw=function(e){var t=this,n=Math.PI/2,r=e.context,i=e.bpStart,s=e.bpPerPixel,o=t.arcOrientation;Qg.fillRect(r,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var a=e.features;a&&(Dw(a,1),a.forEach((function(e){if(e.startLeft){var a=Math.round((e.startLeft-i)/s),l=Math.round((e.startRight-i)/s),c=Math.round((e.endLeft-i)/s),h=Math.round((e.endRight-i)/s);r.fillStyle=e.color,r.strokeStyle=e.color,r.beginPath();var u=(a+h)/2,d=(h-a)/2,p=t.height,f=Math.PI+(Math.PI/2-n),m=2*Math.PI-(Math.PI/2-n);o?(r.arc(u,p=0,d,m,f),r.lineTo(h,p)):(r.arc(u,p,d,f,m),r.lineTo(c,p));var g=(l+c)/2,v=(c-l)/2,y=p;o?(r.arc(g,y,v,f,m,!0),r.lineTo(c,y)):(r.arc(g,y,v,m,f,!0),r.lineTo(a,y)),r.stroke(),r.fill(),e.drawState={x1:u,y1:p,r1:d,x2:g,y2:y,r2:v,sa:f,ea:m}}else{var b=Math.round((e.start-i)/s),_=Math.round((e.end-i)/s);r.strokeStyle=e.color,r.beginPath();var w=(b+_)/2,x=(_-b)/2,S=t.height,k=Math.PI+(Math.PI/2-n),C=2*Math.PI-(Math.PI/2-n);o?r.arc(w,S=0,x,C,k):r.arc(w,S,x,k,C),r.stroke(),e.drawState={x1:w,y1:S,r1:x,sa:k,ea:C}}})))},Tw.prototype.clickedFeatures=function(e){var t=Qv.prototype.clickedFeatures.call(this,e),n=[];Dw(t,-1);var r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,c=l.drawState,h=e.canvasX-c.x1,u=e.canvasY-c.y1,d=Math.sqrt(h*h+u*u),p=c.r1+3,f=void 0,m=void 0;if(void 0===c.x2)f=d,m=c.r1-3;else{var g=e.canvasX-c.x2,v=e.canvasY-c.y2;f=Math.sqrt(g*g+v*v),m=c.r2-3}if(d<p&&f>m){n.push(l);break}}}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n},Tw.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0)return Qv.extractPopupData(t[0],this.getGenomeId())},Tw.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]},Tw.prototype.getState=function(){var e=this._super.getState.call(this);return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},Ow.prototype.getFeatures=function(e,t,n){var r=this,i=this.genome;if(this.featureCache)return Promise.resolve(r.featureCache.queryFeatures(e,t,n));var s=Sm(this.config);return og.loadString(r.config.url,s).then((function(s){return r.featureCache=new Iy(function(e){if(!e)return null;for(var t,n=bv(e),r=!0,i=[],s=[],o=[];t=n.nextLine();){var a=t.split("\t");if(r&&t.startsWith("color:"))i.push("rgb("+a[1]+","+a[2]+","+a[3]+")"),a.length>4&&s.push(a[4]);else{r=!1;var l=a[0],c=Number.parseInt(a[1])-1,h=Number.parseInt(a[2])-1,u=Number.parseInt(a[3]),d=Number.parseInt(a[4]),p=Number.parseInt(a[5]),f=i[p],m=void 0;(m=c<=d?{chr:l,startLeft:Math.min(c,h),startRight:Math.max(c,h),endLeft:Math.min(u,d),endRight:Math.max(u,d),color:f,score:p}:{chr:l,startLeft:Math.min(u,d),startRight:Math.max(u,d),endLeft:Math.min(c,h),endRight:Math.max(c,h),color:f,score:p}).start=m.startLeft,m.end=m.endRight,s.length>p&&(m.description=s[p]),o.push(m)}}return o}(s),i),r.featureCache.queryFeatures(e,t,n)}))};var Mw={sequence:function(e,t){return new Pb(e,t)},feature:function(e,t){return new Sb(e,t)},seg:function(e,t){return new Qb(e,t)},wig:function(e,t){return new Yb(e,t)},merged:function(e,t){return new Jb(e,t)},alignment:function(e,t){return new hw(e,t)},interaction:function(e,t){return new vw(e,t)},variant:function(e,t){return new bw(e,t)},eqtl:function(e,t){return new xw(e,t)},gwas:function(e,t){return new Rw(e,t)},arc:function(e,t){return new Tw(e,t)},gcnv:function(e,t){return new Iw(e,t)}},Pw=function(e,t){this.config=e,this.name=e.name,this.roiSource=new sb(e,t),this.color=e.color||"rgba(68, 134, 247, 0.25)"};function Lw(e,t,n){var r,i;return r=Math.round((e.start-t)/n),(i=Math.round((e.end-t)/n)-r)<3&&(i=3,r-=1),{x:r,width:i}}Pw.prototype.getFeatures=function(e,t,n){return this.roiSource.getFeatures(e,t,n)},Pw.prototype.draw=function(e){var t,n,r,i;if(i=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var s=0,o=i.length;s<o;s++)if(!((n=i[s]).end<e.bpStart)){if(n.start>t)break;r=Lw(n,e.bpStart,e.bpPerPixel),Qg.fillRect(e.context,r.x,0,r.width,e.pixelHeight,{fillStyle:this.color})}}};var Fw=function(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=Nw[this.genesCount++]),t&&(this.snp=t.toUpperCase())};Fw.prototype.addGene=function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=Nw[this.genesCount++])},Fw.prototype.colorForGene=function(e){return this.geneColors[e.toUpperCase()]};var Nw=new Array;Nw.push("rgb(228,26,28)"),Nw.push("rgb(55,126,184)"),Nw.push("rgb(77,175,74)"),Nw.push("rgb(166,86,40)"),Nw.push("rgb(152,78,163)"),Nw.push("rgb(255,127,0)"),Nw.push("rgb(247,129,191)"),Nw.push("rgb(153,153,153)"),Nw.push("rgb(255,255,51)"),Nw.push("rgb(102, 194, 165"),Nw.push("rgb(252, 141, 98"),Nw.push("rgb(141, 160, 203"),Nw.push("rgb(231, 138, 195"),Nw.push("rgb(166, 216, 84"),Nw.push("rgb(255, 217, 47"),Nw.push("rgb(229, 196, 148"),Nw.push("rgb(179, 179, 179"),Nw.push("rgb( 141, 211, 199"),Nw.push("rgb(255, 255, 179"),Nw.push("rgb(190, 186, 218"),Nw.push("rgb(251, 128, 114"),Nw.push("rgb(128, 177, 211"),Nw.push("rgb(253, 180, 98"),Nw.push("rgb(179, 222, 105"),Nw.push("rgb(252, 205, 229"),Nw.push("rgb(217, 217, 217"),Nw.push("rgb(188, 128, 189"),Nw.push("rgb(204, 235, 197"),Nw.push("rgb(255, 237, 111");var zw=!yl((function(e){Array.from(e)}));Te({target:"Array",stat:!0,forced:zw},{from:zc});var Bw=function(e,t){var n,r,i,s,o,a,l=this;s=(i=(n=(new DOMParser).parseFromString(e,"text/xml")).getElementsByTagName("Session").item(0)).getAttribute("genome"),o=i.getAttribute("locus"),a=i.getAttribute("ucscID"),t&&t.hasOwnProperty(s)?l.genome=s:(l.reference={fastaURL:s},a&&(l.reference.id=a)),o&&(l.locus=o),r=n.getElementsByTagName("Resource"),l.tracks=[];var c={};function h(e,t){var n,r,i,s,o,a,l,c,h,u;t.name=e.getAttribute("name"),(n=e.getAttribute("color"))&&(t.color="rgb("+n+")"),s=e.getAttribute("altColor"),n&&(t.altColor="rgb("+s+")"),(r=e.getAttribute("height"))&&(t.height=parseInt(r)),(i=e.getAttribute("autoScale"))&&(t.autoScale="true"===i),(u=e.getAttribute("autoscaleGroup"))&&(t.autoscaleGroup=u),(l=e.getAttribute("windowFunction"))&&(t.windowFunction=l),(c=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow"))&&(t.visibilityWindow=c),(h=e.getAttribute("indexed"))&&(t.indexed="true"===h),(a=e.getElementsByTagName("DataRange")).length>0&&(o=a.item(0),i||(t.min=parseInt(o.getAttribute("minimum")),t.max=parseInt(o.getAttribute("maximum"))),t.logScale="LOG"===o.getAttribute("type"))}Array.from(r).forEach((function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};l.tracks.push(n),c[n.url]=n})),(r=n.getElementsByTagName("Track"))&&r.length>0&&(l.tracks=[],Array.from(r).forEach((function(e){var t,n,r,i;(r=e.getElementsByTagName("Track"))&&r.length>0?(h(e,i={type:"merged",tracks:[]}),l.tracks.push(i),Array.from(r).forEach((function(e){var t,n;e.processed=!0,t=e.getAttribute("id"),(n=c[t])&&(i.tracks.push(n),h(e,n),n.autoscale=!1,i.height=n.height)}))):e.processed||(t=e.getAttribute("id"),(n=c[t])&&(l.tracks.push(n),h(e,n)))})))},jw=function(){this.attributes={},this.plinkLoaded=!1};function Vw(e,t){return(new jw).loadPlinkFile(e,t)}jw.prototype.loadPlinkFile=function(){var e=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a,l,c,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),r=Sm(n),e.next=4,og.loadString(t,r);case 4:for(i=rm(e.sent),s=!0,o=!1,a=void 0,e.prev=9,l=i[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)h=c.value.split(" "),this.attributes[h[1]]={familyId:h[0],fatherId:h[2],motherId:h[3],sex:h[4],phenotype:h[5]};e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),o=!0,a=e.t0;case 17:e.prev=17,e.prev=18,s||null==l.return||l.return();case 20:if(e.prev=20,!o){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return this.plinkLoaded=!0,e.abrupt("return",this);case 27:case"end":return e.stop()}}),e,this,[[9,13,17,25],[18,,20,24]])})));return function(t,n){return e.apply(this,arguments)}}(),jw.prototype.getAttributes=function(e){return this.attributes[e]},jw.prototype.getAttributeNames=function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]},jw.prototype.hasAttributes=function(){return Object.keys(this.attributes).length>0};var $w=function(e,t,n){this.browser=n,this.$parent=e,this.buildPanels(e,t)};function Uw(e,t,n){var r,i=this.browser;return(r={}).genomicState=t,r.$ideogram=Ya('<div class="igv-ideogram-content"></div>'),e.append(r.$ideogram),function(e,t,n){t<n&&1+t!==n?e.addClass("igv-ideogram-content-border-right"):e.removeClass("igv-ideogram-content-border-right")}(r.$ideogram,i.genomicStateList.indexOf(t),i.genomicStateList.length),r.$ideogram.outerWidth(n),r.$canvas=Ya("<canvas>"),r.$ideogram.append(r.$canvas),Ww(r),r.ideograms={},r.$ideogram.on("click",(function(e){!function(e,t,n){var r=hm(n,t.$ideogram.get(0)),i=t.genomicState.referenceFrame,s=i.bpPerPixel*t.$ideogram.width(),o=e.genome.getChromosome(i.chrName),a=s/o.bpLength,l=r.x/t.$ideogram.width();l-a/2<0&&(l=a/2),l+a/2>1&&(l=1-a/2);var c=Math.round((l-a/2)*o.bpLength),h=Math.round((l+a/2)*o.bpLength);i.start=Math.round((l-a/2)*o.bpLength),i.bpPerPixel=(h-c)/t.$ideogram.width(),e.updateLocusSearchWidget(t.genomicState),e.updateViews()}(i,r,e)})),r}function Hw(e){e.forEach((function(t,n){1===e.length||1+n===e.length?t.$ideogram.removeClass("igv-ideogram-content-border-right"):t.$ideogram.addClass("igv-ideogram-content-border-right")}))}function qw(e){var t=e.ctx,n=e.width,r=e.height,i=e.genome,s=e.referenceFrame,o=e.ideogramWidth;if(n>0&&r>0&&i&&s&&i.getChromosome(s.chrName)&&r>0&&(Qg.fillRect(t,0,0,n,r,{fillStyle:om.greyScale(255)}),"all"!==s.chrName.toLowerCase())){!function(e){var t,n,r,i,s,o,a,l,c,h=e.ctx,u=e.referenceFrame,d=e.genome,p=e.width,f=e.height,m=e.stainColors;if(.5,void 0!==d){if(Qg.fillRect(h,0,0,p,f,{fillStyle:om.greyScale(255)}),t=d.getCytobands(u.chrName)){if(r=0+f/2,i=[],s=[],0===t.length)return;for(o=p/t[t.length-1].end,h.beginPath(),Qg.roundRect(h,.5,.5,p-1,f-1,(f-1)/2,0,1),h.clip(),c=0;c<t.length;c++)a=o*(n=t[c]).start,l=o*n.end,"c"===n.type?("p"===n.name.charAt(0)?(i[0]=a,s[0]=f+0,i[1]=a,s[1]=0,i[2]=l,s[2]=r):(i[0]=l,s[0]=f+0,i[1]=l,s[1]=0,i[2]=a,s[2]=r),h.fillStyle="rgb(150, 0, 0)",h.strokeStyle="rgb(150, 0, 0)",Qg.polygon(h,i,s,1,0)):(h.fillStyle=Gw(m,n),Qg.fillRect(h,a,1,l-a,f-2))}h.strokeStyle=om.greyScale(41),Qg.roundRect(h,.5,.5,p-1,f-1,(f-1)/2,0,1)}}({ctx:t,referenceFrame:s,genome:i,width:n,height:r,stainColors:[]});var a=i.getChromosome(s.chrName),l=Math.round(s.bpPerPixel*o),c=s.start,h=a.bpLength,u=i.getCytobands(s.chrName);if(u&&u.length>0&&(h=Math.max(h,u[u.length-1].end)),l<h){var d=l/h,p=Math.floor(c/h*n),f=Math.floor(d*n);p=Math.max(0,p),p=Math.min(n-f,p),t.save(),t.strokeStyle="red",t.lineWidth=f<2?1:2,t.strokeRect(p+t.lineWidth/2,t.lineWidth/2,f=f<2?1:f-t.lineWidth,r-t.lineWidth),t.restore()}}}function Gw(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=230;"p"===t.type&&(n=Math.floor(230-t.stain/100*230));var r=e[n];return r||(e[n]=r="rgb("+n+","+n+","+n+")"),r}function Ww(e){var t=e.$canvas.get(0),n=+e.$ideogram.width(),r=+e.$ideogram.height();t.style.width=n+"px",t.style.height=r+"px",t.width=window.devicePixelRatio*n,t.height=window.devicePixelRatio*r,e.ctx=t.getContext("2d"),e.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}$w.prototype.renderSVGContext=function(e,t){var n=this;this.panels.forEach((function(r,i){var s=r.$ideogram.get(0).getBoundingClientRect(),o=t.deltaX+i*(r.$canvas.width()+e.multiLocusGap);e.addTrackGroupWithTranslationAndClipRect("ideogram",o,t.deltaY,s.width,s.height,0),e.save(),qw({ctx:e,width:r.$canvas.width(),height:r.$canvas.height(),genome:n.browser.genome,referenceFrame:r.genomicState.referenceFrame,ideogramWidth:r.$ideogram.width()}),e.restore()}))},$w.prototype.buildPanels=function(e,t){var n=this;e.append(Ya('<div class="igv-ideogram-shim"></div>')),this.panels=this.browser.genomicStateList.map((function(r){return Uw.call(n,e,r,t)}))},$w.prototype.setWidth=function(e,t){this.panels.forEach((function(t){t.$ideogram.outerWidth(e),Ww(t),t.ideograms={}})),!0===t&&this.repaint()},$w.prototype.resize=function(){this.setWidth(this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,!0)},$w.prototype.repaint=function(){var e=this;this.panels.forEach((function(t){qw({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:e.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})}))},$w.prototype.discardPanels=function(){this.panels.forEach((function(e){e.$ideogram.remove()})),this.panels=void 0},$w.prototype.addPanelWithGenomicStateAtIndex=function(e,t,n){var r;r=Uw.call(this,this.$parent,e,n),t===this.panels.length?this.panels.push(r):(this.panels.splice(t,0,r),r.$ideogram.detach().insertAfter(this.panels[t-1].$ideogram)),Hw(this.panels)},$w.prototype.removePanelWithLocusIndex=function(e){this.panels[e].$ideogram.remove(),this.panels.splice(e,1),Hw(this.panels)},$w.prototype.repaintPanelWithGenomicState=function(e){var t=this.panels[this.browser.genomicStateList.indexOf(e)];qw({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:this.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})};var Yw=function(e,t,n,r,i){this.genome=e,this.chrName=t,this.start=n,this.initialEnd=r,this.bpPerPixel=i};Yw.prototype.calculateEnd=function(e){return this.start+this.bpPerPixel*e},Yw.prototype.calculateBPP=function(e,t){return(e-this.start)/t},Yw.prototype.set=function(e){this.chrName=e.chrName,this.start=e.start,this.bpPerPixel=e.bpPerPixel},Yw.prototype.toPixels=function(e){return e/this.bpPerPixel},Yw.prototype.toBP=function(e){return this.bpPerPixel*e},Yw.prototype.shiftPixels=function(e,t){var n=this.start;return this.start+=e*this.bpPerPixel,this.clamp(t),n!==this.start},Yw.prototype.clamp=function(e){var t=this.genome.getChromosome(this.chrName).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chrName).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}},Yw.prototype.getChromosome=function(){return this.genome.getChromosome(this.chrName)},Yw.prototype.showLocus=function(e){if("all"===this.chrName.toLowerCase())return this.chrName.toLowerCase();var t=nm(Math.floor(this.start)+1),n=nm(Math.round(this.start+this.bpPerPixel*e));return this.chrName+":"+t+"-"+n},Yw.prototype.description=function(){return"ReferenceFrame "+this.chrName+" "+nm(Math.floor(this.start))+" bpp "+this.bpPerPixel};var Zw=function(e,t){this.guid=um(),this.namespace=".browser_"+this.guid,this.config=e,this.parent=t,this.$root=Ya('<div class="igv-root-div">'),Ya(t).append(this.$root),this.$content=Ya('<div class="igv-content-div">'),this.$root.append(this.$content),this.$contentHeader=Ya("<div>",{class:"igv-content-header"}),this.$content.append(this.$contentHeader);var n=Ya('<div class="igv-track-container-div">');this.$content.append(n),this.trackContainerDiv=n.get(0),Xw.call(this,e),this.trackViews=[],this.trackLabelsVisible=!0,this.isCenterGuideVisible=!1,this.cursorGuideVisible=!1,this.featureDB={},this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.$spinner=Ya('<div class="igv-track-container-spinner">'),n.append(this.$spinner),this.$spinner.append(kd("spinner")),this.stopSpinner(),Qw.call(this)};function Xw(e){e.gtex&&(wb.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.searchConfig=e.search?{type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField}:{type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"}}function Kw(e,t){var n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=!0,c=!1,h=void 0;try{for(var u,d=a.viewports[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;p.$trackLabel&&(0===a.viewports.indexOf(p)&&!0===t?p.$trackLabel.show():p.$trackLabel.hide())}}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function Qw(){var e=this;function t(t){var n,r,i,s;if(t.preventDefault(),!e.loadInProgress()&&(n=cm(t),e.vpMouseDown)){var o=Math.abs(n.x-e.vpMouseDown.mouseDownX)>Math.abs(n.y-e.vpMouseDown.mouseDownY);if(i=(r=e.vpMouseDown.viewport).$viewport.width(),s=r.genomicState.referenceFrame,!e.dragObject&&!e.isScrolling)if(o)e.vpMouseDown.mouseDownX&&Math.abs(n.x-e.vpMouseDown.mouseDownX)>e.constants.dragThreshold&&(e.dragObject={viewport:r,start:s.start});else if(e.vpMouseDown.mouseDownY&&Math.abs(n.y-e.vpMouseDown.mouseDownY)>e.constants.scrollThreshold){e.isScrolling=!0;var a=r.trackView,l=a.$viewportContainer.height(),c=a.maxContentHeight();e.vpMouseDown.r=l/c}e.dragObject&&(s.shiftPixels(e.vpMouseDown.lastMouseX-n.x,i)&&(e.updateLocusSearchWidget(e.vpMouseDown.genomicState),e.updateViews()),e.fireEvent("trackdrag")),e.isScrolling&&e.vpMouseDown.viewport.trackView.scrollBy(e.vpMouseDown.r*(e.vpMouseDown.lastMouseY-n.y)),e.vpMouseDown.lastMouseX=n.x,e.vpMouseDown.lastMouseY=n.y}}function n(t){e.cancelTrackPan(),e.endTrackDrag()}Ya(window).on("resize"+this.namespace,(function(){e.resize()})),Ya(this.root).on("mouseup",n),Ya(this.root).on("mouseleave",n),Ya(this.trackContainerDiv).on("mousemove",t),Ya(this.trackContainerDiv).on("touchmove",t),Ya(this.trackContainerDiv).on("mouseleave",n),Ya(this.trackContainerDiv).on("mouseup",n),Ya(this.trackContainerDiv).on("touchend",n)}Zw.prototype.startSpinner=function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())},Zw.prototype.stopSpinner=function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))},Zw.prototype.isMultiLocusMode=function(){return this.genomicStateList&&this.genomicStateList.length>1},Zw.prototype.isMultiLocusWholeGenomeView=function(){if(void 0===this.genomicStateList||1===this.genomicStateList.length)return!1;var e=!0,t=!1,n=void 0;try{for(var r,i=this.genomicStateList[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)if("all"===r.value.referenceFrame.chrName.toLowerCase())return!0}catch(Rx){t=!0,n=Rx}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1},Zw.prototype.toSVG=function(){var e=this.trackContainerDiv.getBoundingClientRect(),t=this.trackViews[0].$viewportContainer.get(0).getBoundingClientRect(),n=this.ideoPanel?this.ideoPanel.panels[0].$ideogram.get(0).getBoundingClientRect():{height:0,width:0},r=e.width+8*(this.genomicStateList.length-1),i=e.height+n.height,s=new ed({width:r,height:8e3,backdropColor:"white",multiLocusGap:8,viewbox:{x:0,y:0,width:r,height:8e3}}),o=t.x-e.x;this.ideoPanel&&this.ideoPanel.renderSVGContext(s,{deltaX:o,deltaY:0});var a=!0,l=!1,c=void 0;try{for(var h,u=this.trackViews[Symbol.iterator]();!(a=(h=u.next()).done);a=!0)h.value.renderSVGContext(s,{deltaX:o,deltaY:n.height-e.y})}catch(Rx){l=!0,c=Rx}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}return s.setHeight(i),s.getSerializedSvg(!0)},Zw.prototype.renderSVG=function(e){var t=this.toSVG();if(e.$container){var n=this.trackContainerDiv.getBoundingClientRect();e.$container.empty(),e.$container.width(n.width),e.$container.append(t)}km(e.filename||"igv.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))},Zw.prototype.loadSession=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return(s=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url||t.file,!t.url||!t.url.startsWith("blob:")&&!t.url.startsWith("data:")){e.next=6;break}return r=Zw.uncompressSession(t.url),e.abrupt("return",JSON.parse(r));case 6:if((i=t.filename)||(i=t.url?Um(t.url):t.file.name),!i.endsWith(".xml")){e.next=18;break}return e.next=11,Rg.getKnownGenomes();case 11:return s=e.sent,e.next=14,og.loadString(n);case 14:return e.abrupt("return",new Bw(e.sent,s));case 18:if(!i.endsWith(".json")){e.next=22;break}return e.abrupt("return",og.loadJson(n));case 22:return e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},n=this,!t.url&&!t.file){e.next=9;break}return e.next=6,i(t);case 6:r=e.sent,e.next=10;break;case 9:r=t;case 10:return e.abrupt("return",n.loadSessionObject(r));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.loadSessionObject=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeAllTracks(!0),e.next=3,this.loadGenome(t.reference||t.genome,t.locus);case 3:if(n=e.sent,!t.gtexSelections){e.next=44;break}for(r={},i=!0,s=!1,o=void 0,e.prev=9,a=this.genomicStateList[Symbol.iterator]();!(i=(l=a.next()).done);i=!0)r[(c=l.value).locusSearchString]=c;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),s=!0,o=e.t0;case 17:e.prev=17,e.prev=18,i||null==a.return||a.return();case 20:if(e.prev=20,!s){e.next=23;break}throw o;case 23:return e.finish(20);case 24:return e.finish(17);case 25:for(h=!0,u=!1,d=void 0,e.prev=28,p=Object.getOwnPropertyNames(t.gtexSelections)[Symbol.iterator]();!(h=(f=p.next()).done);h=!0)(g=r[m=f.value])&&(g.selection=new Fw(t.gtexSelections[m].gene,t.gtexSelections[m].snp));e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),u=!0,d=e.t1;case 36:e.prev=36,e.prev=37,h||null==p.return||p.return();case 39:if(e.prev=39,!u){e.next=42;break}throw d;case 42:return e.finish(39);case 43:return e.finish(36);case 44:if(!t.roi){e.next=65;break}for(this.roi=[],v=!0,y=!1,b=void 0,e.prev=49,_=t.roi[Symbol.iterator]();!(v=(w=_.next()).done);v=!0)this.roi.push(new Pw(w.value,n));e.next=57;break;case 53:e.prev=53,e.t2=e.catch(49),y=!0,b=e.t2;case 57:e.prev=57,e.prev=58,v||null==_.return||_.return();case 60:if(e.prev=60,!y){e.next=63;break}throw b;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return t.tracks||(t.tracks=[]),0===t.tracks.filter((function(e){return"sequence"===e.type})).length&&t.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER}),e.next=69,this.loadTrackList(t.tracks);case 69:!1===t.showIdeogram||this.ideoPanel||(x=this.viewportContainerWidth()/this.genomicStateList.length,this.ideoPanel=new $w(this.$contentHeader,x,this),this.ideoPanel.repaint()),this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0]),this.resize();case 73:case"end":return e.stop()}}),e,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[49,53,57,65],[58,,60,64]])})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.loadGenome=function(){var e=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()},l=function(){return(l=Un(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tm(t)?n=t:t.genome?n=t.genome:void 0!==t.id&&void 0===t.fastaURL&&(n=t.id),!n){e.next=10;break}return e.next=4,Rg.getKnownGenomes();case 4:return(r=e.sent[n])||this.presentAlert("Uknown genome id: "+n,void 0),e.abrupt("return",r);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},a=function(e){return l.apply(this,arguments)},tm(t)&&t.startsWith("{"))try{t=JSON.parse(t)}catch(h){}return e.next=6,a.call(this,t);case 6:return r=e.sent,e.next=9,Rg.loadGenome(r);case 9:return i=e.sent,s=this.genome&&this.genome.id!==i.id,this.genome=i,this.$current_genome.text(i.id||""),this.$current_genome.attr("title",i.id||""),this.chromosomeSelectWidget.update(i),s&&this.removeAllTracks(),this.genome=i,e.prev=17,e.next=20,this.search(c(n,i),!0);case 20:o=e.sent,e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(17),console.error(e.t0),e.next=28,this.search(this.genome.getHomeChromosomeName());case 28:o=e.sent;case 29:if(this.genomicStateList=o,this.genomicStateList.length>0?this.rulerTrack||!1===this.config.showRuler||(this.rulerTrack=new ev(this),this.addTrack(this.rulerTrack)):this.presentAlert("Unrecognized locus "+this.config.locus,void 0),!r.tracks){e.next=34;break}return e.next=34,this.loadTrackList(r.tracks);case 34:return this.resize(),e.abrupt("return",this.genome);case 36:case"end":return e.stop()}}),e,this,[[17,23]])})));return function(t,n){return e.apply(this,arguments)}}(),Zw.prototype.updateUIWithGenomicStateListChange=function(e){var t=this.isMultiLocusWholeGenomeView()||Rg.isWholeGenomeView(e[0].referenceFrame);t||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),t),Kw(this.trackViews,this.trackLabelsVisible)},Zw.prototype.setTrackLabelName=function(e,t){e.viewports.forEach((function(e){e.setTrackLabel(t)}))},Zw.prototype.hideTrackLabels=function(){this.trackLabelsVisible=!1,Kw(this.trackViews,this.trackLabelsVisible)},Zw.prototype.showTrackLabels=function(){this.trackLabelsVisible=!0,Kw(this.trackViews,this.trackLabelsVisible)},Zw.prototype.hideCursorGuide=function(){this.cursorGuide.$guide.hide(),this.cursorGuideVisible=!1},Zw.prototype.showCursorGuide=function(){this.cursorGuide.$guide.show(),this.cursorGuideVisible=!0},Zw.prototype.setCustomCursorGuideMouseHandler=function(e){this.cursorGuide.customMouseHandler=e},Zw.prototype.hideCenterGuide=function(){this.centerGuide.$container.hide(),this.isCenterGuideVisible=!1},Zw.prototype.showCenterGuide=function(){this.centerGuide.$container.show(),this.centerGuide.resize(),this.isCenterGuideVisible=!0},Zw.prototype.loadTrackList=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.prev=1,this.startSpinner(),r=[],t.forEach((function(e){e.noSpinner=!0,r.push(n.loadTrack(e))})),e.next=7,Promise.all(r);case 7:return i=e.sent,(s=n.trackViews.filter((function(e){return e.track.autoscaleGroup}))).length>0&&n.updateViews(n.genomicStateList[0],s),e.abrupt("return",i);case 11:return e.prev=11,this.stopSpinner(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,,11,14]])})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.loadROI=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roi||(this.roi=[]),!Array.isArray(t)){e.next=23;break}for(n=!0,r=!1,i=void 0,e.prev=5,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)this.roi.push(new Pw(o.value,this.genome));e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),r=!0,i=e.t0;case 13:e.prev=13,e.prev=14,n||null==s.return||s.return();case 16:if(e.prev=16,!r){e.next=19;break}throw i;case 19:return e.finish(16);case 20:return e.finish(13);case 21:e.next=24;break;case 23:this.roi.push(new Pw(t,this.genome));case 24:return e.next=26,this.updateViews(void 0,void 0,!0);case 26:case"end":return e.stop()}}),e,this,[[5,9,13,21],[14,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.removeROI=function(e){for(var t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}var n=!0,r=!1,i=void 0;try{for(var s,o=this.trackViews[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)s.value.updateViews(!0)}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},Zw.prototype.loadTrack=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tm(t)&&(t=JSON.parse(t)),e.next=3,Ym(t.url);case 3:if(tm(n=e.sent)&&(n=n.trim()),!tm(n)||!n.startsWith("https://drive.google.com")){e.next=14;break}return e.next=8,Pm.getDriveFileInfo(n);case 8:n="https://www.googleapis.com/drive/v3/files/"+(r=e.sent).id+"?alt=media",t.filename||(t.filename=r.originalFileName||r.name),t.format||(t.format=Cv(t.filename)),e.next=15;break;case 14:n&&!t.filename&&(t.filename=Um(n));case 15:if(kv(t),this.trackDefaults&&t.type&&(i=this.trackDefaults[t.type]))for(s in i)i.hasOwnProperty(s)&&void 0===t[s]&&(t[s]=i[s]);if(e.prev=17,t.noSpinner||this.startSpinner(),void 0!==(o=this.createTrack(t))){e.next=23;break}return this.presentAlert("Unknown file type: "+n,void 0),e.abrupt("return",o);case 23:if(void 0===o.order&&(o.order=this.trackViews.length),"function"!=typeof o.postInit){e.next=27;break}return e.next=27,o.postInit();case 27:if(!t.sync){e.next=32;break}return e.next=30,this.addTrack(o);case 30:e.next=33;break;case 32:this.addTrack(o);case 33:return e.abrupt("return",o);case 36:e.prev=36,e.t0=e.catch(17),a={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(e.t0),l=e.t0.message||e.t0.toString(),a.hasOwnProperty(l)&&(l=a[l]+": "+t.url),this.presentAlert(l,void 0);case 43:return e.prev=43,t.noSpinner||this.stopSpinner(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[17,36,43,46]])})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.createTrack=function(e){e.format&&(e.format=e.format.toLowerCase());var t=void 0===e.type?"unknown_type":e.type.toLowerCase();"data"===t&&(t="wig");var n,r=Object.assign({},e);switch(r.browser=this,t){case"annotation":case"genes":case"fusionjuncspan":case"junctions":case"splicejunctions":case"snp":n=Mw.feature(r,this);break;default:n=Mw.hasOwnProperty(t)?Mw[t](r,this):void 0}if(e.roi&&n){n.roi=[];var i=!0,s=!1,o=void 0;try{for(var a,l=e.roi[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)n.roi.push(new Pw(a.value,this.genome))}catch(Rx){s=!0,o=Rx}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}return n},Zw.prototype.addTrack=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new av(this,Ya(this.trackContainerDiv),t),this.trackViews.push(n),Kw(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),t.autoscaleGroup){e.next=6;break}return e.abrupt("return",n.updateViews());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.reorderTracks=function(){var e=this;this.trackViews.sort((function(e,t){return(e.track.order||0)-(t.track.order||0)})),Ya(this.trackContainerDiv).children("igv-track-div").detach(),this.trackViews.forEach((function(t){e.trackContainerDiv.appendChild(t.trackDiv)}))},Zw.prototype.removeTrackByName=function(e){var t=this.trackViews.slice(),n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;e===a.track.name&&this.removeTrack(a.track)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},Zw.prototype.removeTrack=function(e){for(var t,n=0;n<this.trackViews.length;n++)if(e===this.trackViews[n].track){t=this.trackViews[n];break}t&&(this.trackViews.splice(n,1),Ya(t.trackDiv).remove(),this.fireEvent("trackremoved",[t.track]),t.dispose())},Zw.prototype.removeAllTracks=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var s,o=this.trackViews[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;!e&&"sequence"===a.track.id||"ruler"===a.track.id?t.push(a):(this.trackContainerDiv.removeChild(a.trackDiv),this.fireEvent("trackremoved",[a.track]),a.dispose())}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this.trackViews=t},Zw.prototype.findTracks=function(e,t){var n=[];return this.trackViews.forEach((function(r){t===r.track[e]&&n.push(r.track)})),n},Zw.prototype.setTrackHeight=function(e){this.trackHeight=e,this.trackViews.forEach((function(t){t.setTrackHeight(e)}))},Zw.prototype.visibilityChange=function(){this.resize()},Zw.prototype.resize=Un(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e){return t.viewportContainerWidth()*e.referenceFrame.bpPerPixel>e.chromosome.bpLength},t=this,0!==(n=this.viewportWidth())){e.next=5;break}return e.abrupt("return");case 5:return this.genomicStateList&&n>0&&((r=this.isMultiLocusWholeGenomeView()||Rg.isWholeGenomeView(this.genomicStateList[0].referenceFrame))||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),r),this.genomicStateList.forEach((function(e){var t=e.referenceFrame;isFinite(t.bpPerPixel)||void 0===t.initialEnd||(t.bpPerPixel=(t.initialEnd-t.start)/n)}))),this.genomicStateList&&1===this.genomicStateList.length&&i(this.genomicStateList[0])?this.search(this.genomicStateList[0].chromosome.name):(this.ideoPanel&&this.ideoPanel.resize(),this.centerGuide&&this.centerGuide.resize(),this.trackViews.forEach((function(e){e.resize()}))),this.genomicStateList&&this.genomicStateList.length>0&&(this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0])),e.next=10,this.updateViews();case 10:case"end":return e.stop()}}),e,this)}))),Zw.prototype.updateViews=function(){var e=Un(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,S,k,C,E,R,A,I,T,D,O,M,P,L,F,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,n||(n=this.trackViews),!t&&this.genomicStateList&&1==this.genomicStateList.length&&(t=this.genomicStateList[0]),t&&(this.updateLocusSearchWidget(t),this.windowSizePanel.updateWithGenomicState(t)),this.ideoPanel&&this.ideoPanel.repaint(),this.centerGuide&&this.centerGuide.repaint(),!i.dragObject){e.next=35;break}a=!0,l=!1,c=void 0,e.prev=10,h=n[Symbol.iterator]();case 12:if(a=(u=h.next()).done){e.next=19;break}return d=u.value,e.next=16,d.updateViews();case 16:a=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),l=!0,c=e.t0;case 25:e.prev=25,e.prev=26,a||null==h.return||h.return();case 28:if(e.prev=28,!l){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=126;break;case 35:s={},o=[],n.forEach((function(e){var t=e.track.autoscaleGroup;if(t){var n=s[t];n||(s[t]=n=[]),n.push(e)}else o.push(e)})),p=Object.keys(s),f=0,m=p;case 40:if(!(f<m.length)){e.next=100;break}return v=[],(g=s[m[f]]).forEach((function(e){v.push(e.getInViewFeatures())})),e.next=47,Promise.all(v);case 47:for(y=e.sent,b=[],w=!0,x=!1,S=void 0,e.prev=52,k=y[Symbol.iterator]();!(w=(C=k.next()).done);w=!0)b=b.concat(C.value);e.next=60;break;case 56:e.prev=56,e.t1=e.catch(52),x=!0,S=e.t1;case 60:e.prev=60,e.prev=61,w||null==k.return||k.return();case 63:if(e.prev=63,!x){e.next=66;break}throw S;case 66:return e.finish(63);case 67:return e.finish(60);case 68:_=Cm(b),E=!0,R=!1,A=void 0,e.prev=72,I=g[Symbol.iterator]();case 74:if(E=(T=I.next()).done){e.next=83;break}return(D=T.value).track.dataRange=_,D.track.autoscale=!1,e.next=80,D.updateViews();case 80:E=!0,e.next=74;break;case 83:e.next=89;break;case 85:e.prev=85,e.t2=e.catch(72),R=!0,A=e.t2;case 89:e.prev=89,e.prev=90,E||null==I.return||I.return();case 92:if(e.prev=92,!R){e.next=95;break}throw A;case 95:return e.finish(92);case 96:return e.finish(89);case 97:f++,e.next=40;break;case 100:O=!0,M=!1,P=void 0,e.prev=103,L=o[Symbol.iterator]();case 105:if(O=(F=L.next()).done){e.next=112;break}return N=F.value,e.next=109,N.updateViews(r);case 109:O=!0,e.next=105;break;case 112:e.next=118;break;case 114:e.prev=114,e.t3=e.catch(103),M=!0,P=e.t3;case 118:e.prev=118,e.prev=119,O||null==L.return||L.return();case 121:if(e.prev=121,!M){e.next=124;break}throw P;case 124:return e.finish(121);case 125:return e.finish(118);case 126:case"end":return e.stop()}}),e,this,[[10,21,25,33],[26,,28,32],[52,56,60,68],[61,,63,67],[72,85,89,97],[90,,92,96],[103,114,118,126],[119,,121,125]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Zw.prototype.loadInProgress=function(){var e;for(e=0;e<this.trackViews.length;e++)if(this.trackViews[e].isLoading())return!0;return!1},Zw.prototype.updateLocusSearchWidget=function(e){var t,n,r,i,s,o;this.rulerTrack&&this.rulerTrack.updateLocusLabel(),0===this.genomicStateList.indexOf(e)&&1===this.genomicStateList.length?e.locusSearchString&&"all"===e.locusSearchString.toLowerCase()?(this.$searchInput.val(e.locusSearchString),this.chromosomeSelectWidget.$select.val("all")):(this.chromosomeSelectWidget.$select.val((t=e.referenceFrame).chrName),this.$searchInput&&(s=t.start+t.bpPerPixel*(this.viewportContainerWidth()/this.genomicStateList.length),this.genome&&(o=this.genome.getChromosome(t.chrName))&&(s=Math.min(s,o.bpLength)),n=nm(Math.floor(t.start+1)),r=nm(Math.floor(s)),this.$searchInput.val(i=t.chrName+":"+n+"-"+r)),this.fireEvent("locuschange",[{chr:t.chrName,start:n,end:r,label:i}])):(this.$searchInput.val(""),this.chromosomeSelectWidget.$select.val(""))},Zw.prototype.viewportContainerWidth=function(){return this.trackViews&&this.trackViews.length>0?this.trackViews[0].$viewportContainer.width():(function(){var e,t,n;return e=Ya('<div class="igv-track-div">'),Ya(this.trackContainerDiv).append(e),t=Ya('<div class="igv-viewport-container">'),e.append(t),n=t.width(),e.remove(),n}).call(this)},Zw.prototype.viewportWidth=function(){var e;return e=this.viewportContainerWidth(),void 0===this.genomicStateList||1===this.genomicStateList.length?e:Math.round(e/this.genomicStateList.length)},Zw.prototype.minimumBases=function(){return this.config.minimumBases},Zw.prototype.updateZoomSlider=function(e){var t=this.trackViews[0].viewports[0],n=t.genomicState.referenceFrame,r=t.$viewport.width()*n.bpPerPixel,i=n.getChromosome().bpLength,s=this.minimumBases(),o=Math.round((i-r)/(i-s)*100);e.val(o)},Zw.prototype.zoom=function(e){this.zoomWithScaleFactor(e)},Zw.prototype.zoomIn=function(){this.zoomWithScaleFactor(.5)},Zw.prototype.zoomOut=function(){this.zoomWithScaleFactor(2)},Zw.prototype.zoomWithRangePercentage=function(e){if(!this.loadInProgress()){var t=this.trackViews[0].viewports,n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=a.genomicState.referenceFrame,c=l.start+l.toBP(a.$viewport.width()/2),h=l.getChromosome(),u=(p=(h.bpLength-h.bpStart)/a.$viewport.width(),f=this.minimumBases()/a.$viewport.width(),(1-(m=e))*p+m*f),d=u*a.$viewport.width();l.start=c-d/2,l.bpPerPixel=u,l.clamp(a.$viewport.width()),this.updateViews(a.genomicState)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var p,f,m},Zw.prototype.zoomWithScaleFactor=function(e,t,n){var r=n?[n]:this.trackViews[0].viewports,i=!0,s=!1,o=void 0;try{for(var a,l=r[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c,h=a.value,u=h.genomicState.referenceFrame,d=u.getChromosome(),p=u.start,f=u.bpPerPixel,m=d.bpLength-d.bpStart,g=e<1?this.minimumBases()/h.$viewport.width():m/h.$viewport.width(),v=void 0===t?u.start+u.toBP(h.$viewport.width()/2):t,y=(c=e<1?Math.max(u.bpPerPixel*e,g):Math.min(u.bpPerPixel*e,g))*h.$viewport.width();u.start=v-y/2,u.bpPerPixel=c,u.clamp(h.$viewport.width()),(p!==u.start||f!==u.bpPerPixel)&&this.updateViews(h.genomicState)}}catch(Rx){s=!0,o=Rx}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}},Zw.prototype.presentSplitScreenMultiLocusPanel=function(e,t){var n,r,i,s,o=this.genome;r=this.viewportContainerWidth()/(1+this.genomicStateList.length),n=(i=t).referenceFrame;var a=o.getChromosomeName(e.chr);i.referenceFrame=c(a,n.bpPerPixel,r,e.start,e.lengthOnRef);var l=o.getChromosomeName(e.mate.chr);function c(e,t,n,r,i){var s;return new Yw(o,e,s=(r+(r+i))/2-t*(n/2),s+t*n,t)}(s={}).chromosome=i.chromosome,s.referenceFrame=c(l,n.bpPerPixel,r,e.mate.position,e.lengthOnRef),this.addMultiLocusPanelWithGenomicStateAtIndex(s,1+this.genomicStateList.indexOf(i),r)},Zw.prototype.selectMultiLocusPanelWithGenomicState=function(e){var t=this;this.genomicStateList.filter((function(t){return e!==t})).forEach((function(e){t.removeMultiLocusPanelWithGenomicState(e,!1)})),this.resize()},Zw.prototype.removeMultiLocusPanelWithGenomicState=function(e,t){var n,r,i,s=this.genome,o=this;n=this.genomicStateList.indexOf(e),this.ideoPanel&&this.ideoPanel.removePanelWithLocusIndex(n),this.trackViews.forEach((function(e){e.removeViewportWithLocusIndex(n)})),r=this.viewportContainerWidth(),i=this.genomicStateList.length,this.genomicStateList.splice(n,1),this.genomicStateList.forEach((function(e,t){var n=e.referenceFrame.calculateEnd(r/i),a=e.referenceFrame.calculateBPP(n,r/o.genomicStateList.length);o.genomicStateList[t].referenceFrame=new Yw(s,e.chromosome.name,e.referenceFrame.start,n,a)})),this.updateUIWithGenomicStateListChange(this.genomicStateList),!0===t&&this.resize()},Zw.prototype.addMultiLocusPanelWithGenomicStateAtIndex=function(e,t,n){t===this.genomicStateList.length?(this.genomicStateList.push(e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach((function(t){var r;r=new Og(t,t.$viewportContainer,e,n),t.viewports.push(r),t.decorateViewports(),t.configureViewportContainer(t.$viewportContainer,t.viewports)}))):(this.genomicStateList.splice(t,0,e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach((function(r){var i;i=new Og(r,r.$viewportContainer,e,n),r.viewports.splice(t,0,i),i.$viewport.detach().insertAfter(r.viewports[t-1].$viewport),r.decorateViewports(),r.configureViewportContainer(r.$viewportContainer,r.viewports)}))),this.rulerTrack&&this.rulerTrack.updateLocusLabel(),this.updateUIWithGenomicStateListChange(this.genomicStateList),this.resize()},Zw.prototype.emptyViewportContainers=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.trackViews[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var s=r.value;s.$outerScroll&&s.$outerScroll.remove();var o=!0,a=!1,l=void 0;try{for(var c,h=s.viewports[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value;u.rulerSweeper&&u.rulerSweeper.$rulerSweeper.remove(),u.popover&&(u.popover.$popover.off(),u.popover.$popover.empty(),u.popover.$popover.remove()),u.$viewport.remove()}}catch(Rx){a=!0,l=Rx}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}delete s.viewports,s.viewports=[],delete s.scrollbar}}catch(Rx){t=!0,n=Rx}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.$contentHeader.empty()},Zw.prototype.buildViewportsWithGenomicStateList=function(e){var t;t=this.viewportContainerWidth()/this.genomicStateList.length,this.trackViews.forEach((function(n){e.forEach((function(e){var r;r=new Og(n,n.$viewportContainer,e,t),n.viewports.push(r)})),n.decorateViewports(),n.configureViewportContainer(n.$viewportContainer,n.viewports)}))},Zw.prototype.getViewportWithGUID=function(e){var t=void 0,n=!0,r=!1,i=void 0;try{for(var s,o=this.trackViews[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,l=!0,c=!1,h=void 0;try{for(var u,d=a.viewports[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;e===p.guid&&(t=p)}}catch(Rx){c=!0,h=Rx}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},Zw.prototype.goto=function(e,t,n){return this.search(e+":"+t+"-"+n)},Zw.prototype.search=function(){var e=Un(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,a,l,c,h,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=Un(regeneratorRuntime.mark((function e(t){var n,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w=function(e,t){var n,i,s,o,a;if(a={},n=e.split(":"),o=t.getChromosome(n[0])){if(a.chromosome=o,a.start=0,a.end=o.bpLength,1===n.length)return a;if(!((i=n[1].split("-")).length>2||(a.start=a.end=void 0,s=i[0].replace(/,/g,""),isNaN(s)||(a.start=parseInt(s,10)-1,isNaN(a.start))))){if(2===i.length){if(s=i[1].replace(/,/g,""),isNaN(s))return!1;a.end=parseInt(s,10)}return Em(a.chromosome.bpLength,a,r.minimumBases()),a}}},_=function(e,t){var i;if(i="plain"===n.type?function(e){var t=[],n=[];return rm(e).forEach((function(e){""===e||t.push(e)})),t.forEach((function(e){var t,i,s,o,a=e.split("\t");a.length>=3&&(s=(i=a[1].split(":"))[1].split("-"),t=a[2].trim(),o={gene:a[0],chromosome:r.genome.getChromosomeName(i[0].trim()),start:parseInt(s[0].replace(/,/g,"")),end:parseInt(s[1].replace(/,/g,"")),type:"gtex"===t?"snp":"gene"},n.push(o))})),n}(e):JSON.parse(e),n.resultsField&&(i=i[n.resultsField]),i&&0!==i.length){var s=i[0];if(!s.hasOwnProperty(n.chromosomeField)||!s.hasOwnProperty(n.startField))return;var o=s[n.chromosomeField],a=s[n.startField]-n.coords,l=s[n.endField];void 0===l&&(l=a+1),r.flanking&&(a=Math.max(0,a-r.flanking),l+=r.flanking);var c=Object.assign({},s);return c.chromosome=r.genome.getChromosome(o),c.start=a,c.end=l,c.locusSearchString=t,c.selection=new Fw(s[n.geneField],s[n.snpField]),c}},b=function(){return(b=Un(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n.url.replace("$FEATURE$",t.toUpperCase())).indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",r.genome.id?r.genome.id:"hg19")),e.next=4,og.loadString(i);case 4:return e.abrupt("return",{result:e.sent,locusSearchString:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},y=function(e){return b.apply(this,arguments)},v=function(e){var t=r.viewportContainerWidth()/e.length;return e.forEach((function(e){e.referenceFrame=new Yw(i,e.chromosome.name,e.start,e.end,(e.end-e.start)/t)})),e},n=r.searchConfig,s=[],o=!0,a=!1,l=void 0,e.prev=10,c=t[Symbol.iterator]();case 12:if(o=(h=c.next()).done){e.next=35;break}if(!(d=w(u=h.value,r.genome))){e.next=20;break}d.locusSearchString=u,s.push(d),e.next=31;break;case 20:if(!(p=r.featureDB[u.toUpperCase()])){e.next=26;break}(f=r.genome.getChromosome(p.chr))&&(Em((d={chromosome:f,start:p.start,end:p.end,locusSearchString:u}).chromosome.bpLength,d,r.minimumBases()),s.push(d)),e.next=31;break;case 26:return e.next=28,y(u);case 28:(g=_((m=e.sent).result,m.locusSearchString))&&s.push(g);case 31:v(s);case 32:o=!0,e.next=12;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(10),a=!0,l=e.t0;case 41:e.prev=41,e.prev=42,o||null==c.return||c.return();case 44:if(e.prev=44,!a){e.next=47;break}throw l;case 47:return e.finish(44);case 48:return e.finish(41);case 49:return e.abrupt("return",s);case 50:case"end":return e.stop()}}),e,null,[[10,37,41,49],[42,,44,48]])})))).apply(this,arguments)},p=function(e){return f.apply(this,arguments)},r=this,i=this.genome,(t&&"all"===t.trim().toLowerCase()||"*"===t)&&(t="all"),s=t.split(" "),e.next=8,p(s);case 8:if((o=e.sent)&&0!==o.length){e.next=13;break}return e.next=12,p([t]);case 12:o=e.sent;case 13:if(!(o.length>0)){e.next=38;break}for(this.emptyViewportContainers(),this.genomicStateList=o,this.buildViewportsWithGenomicStateList(o),a=!0,l=!1,c=void 0,e.prev=20,h=o[Symbol.iterator]();!(a=(u=h.next()).done);a=!0)u.value.id=um();e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),l=!0,c=e.t0;case 28:e.prev=28,e.prev=29,a||null==h.return||h.return();case 31:if(e.prev=31,!l){e.next=34;break}throw c;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=39;break;case 38:throw new Error("Unrecognized locus "+t);case 39:return this.ideoPanel&&(this.ideoPanel.discardPanels(),d=r.viewportContainerWidth()/o.length,this.ideoPanel.buildPanels(this.$contentHeader,d)),this.updateUIWithGenomicStateListChange(o),n||this.updateViews(),e.abrupt("return",o);case 43:case"end":return e.stop()}}),e,this,[[20,24,28,36],[29,,31,35]])})));return function(t,n){return e.apply(this,arguments)}}(),Zw.prototype.loadSampleInformation=function(){var e=Un(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,t instanceof File&&(n=t.name),"fam"!==n.substr(n.lastIndexOf(".")+1)){e.next=7;break}return e.next=6,Vw(t);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Zw.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},Zw.prototype.un=function(e,t){if(this.eventHandlers[e]){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}},Zw.prototype.off=function(e,t){if(e)if(t){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}else this.eventHandlers[e]=[];else this.eventHandlers={}},Zw.prototype.fireEvent=function(e,t,n){var r,i=this.eventHandlers[e];if(void 0!==i&&0!==i.length)return r=n||window,i.map((function(e){return e.apply(r,t)}))[0]},Zw.prototype.dispose=function(){Ya(window).off(this.namespace),Ya(document).off(this.namespace),this.eventHandlers=void 0,this.trackViews.forEach((function(e){e.dispose()}))},Zw.prototype.toJSON=function(){var e,t;e={reference:this.genome.toJSON()};var n=[],r={};return this.trackViews[0].viewports.forEach((function(e){var t=e.genomicState,i=t.referenceFrame.showLocus(e.$viewport[0].clientWidth);n.push(i),t.selection&&(r[i]={gene:t.selection.gene,snp:t.selection.snp})})),e.locus=n,Object.getOwnPropertyNames(r).length>0&&(e.gtexSelections=r),t=[],this.trackViews.forEach((function(e){var n,r;(r="function"==typeof(n=e.track).getState?n.getState():n.config)&&(r.browser&&delete r.browser,r.order=n.order,t.push(r))})),e.tracks=t,e},Zw.prototype.compressedSession=function(){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));var r=new Qf.RawDeflate(t).compress(),i=String.fromCharCode.apply(null,r);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))},Zw.uncompressSession=function(e){var t;if(e.indexOf("/gzip;base64")>0){t=qm(e);var n="",r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)n+=String.fromCharCode(o.value)}catch(Rx){i=!0,s=Rx}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var t=atob(e),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var i=new Qf.RawInflate(n).decompress(),s="",o=!0,a=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(o=(c=h.next()).done);o=!0)s+=String.fromCharCode(c.value)}catch(Rx){a=!0,l=Rx}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}return s}(e.substring(5))},Zw.prototype.sessionURL=function(){var e,t;return((t=(e=window.location.href.slice()).indexOf("?"))>0?e.substring(0,t):e)+"?sessionURL=data:"+this.compressedSession()},Zw.prototype.presentAlert=function(e){this.alertDialog.present(e)},Zw.prototype.mouseDownOnViewport=function(e,t){var n;n=cm(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,genomicState:t.genomicState,referenceFrame:t.genomicState.referenceFrame}},Zw.prototype.cancelTrackPan=function(){var e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.genomicState.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))},Zw.prototype.startTrackDrag=function(e){this.dragTrack=e},Zw.prototype.updateTrackDrag=function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),i=this.trackViews;i[n]=t,i[r]=e;var s=this.trackViews[n].track.order;this.trackViews[r].track.order=s;var o=i.length,a=s;if(n<r)for(var l=n+1;l<o;l++){var c=i[l].track;if(!(c.order<=a))break;c.order=Math.min(Number.MAX_SAFE_INTEGER,a+1),a=c.order}else for(var h=n-1;h>0;h--){var u=i[h].track;if(!(u.order>=a))break;u.order=Math.max(-Number.MAX_SAFE_INTEGER,a-1),a=u.order}this.reorderTracks()}},Zw.prototype.endTrackDrag=function(){this.dragTrack&&this.dragTrack.$trackDragScrim.hide(),this.dragTrack=void 0};var Jw=function(e,t){this.$content=Ya('<div class="igv-windowsizepanel-content-div">'),e.append(this.$content),this.browser=t};Jw.prototype.show=function(){this.$content.show()},Jw.prototype.hide=function(){this.$content.hide()},Jw.prototype.updateWithGenomicState=function(e){var t,n,r;this.$content.text((t=Math.round(this.browser.viewportWidth()*e.referenceFrame.bpPerPixel))>1e7?(n=" mb",r=t/1e6,Math.floor(r).toString()+n):t>1e4?(n=" kb",r=t/1e3,nm(Math.floor(r))+n):nm(t)+" bp")};var ex=function(e){var t,n,r=this;this.$container=Ya("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=Ya("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),am(t,(function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),this.$label=Ya("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Unlabeled"),this.$input_container=Ya("<div>",{class:"igv-generic-dialog-input"}),this.$container.append(this.$input_container),this.$input=Ya("<input>"),this.$input_container.append(this.$input),n=Ya("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=Ya("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ya("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),td(this.$container.get(0),t.get(0)),this.$container.hide()};ex.prototype.configure=function(e){var t=this;this.$label.text(e.label),this.$input.val(e.input),this.$input.unbind(),this.$input.on("keyup",(function(n){13===n.keyCode&&(e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide())})),this.$ok.unbind(),this.$ok.on("click",(function(){e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()}))},ex.prototype.present=function(e){var t,n;t=e.offset().top,n=Ya("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var tx=function(e,t){var n,r,i,s=this;this.browser=t,this.$container=Ya("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),n=Ya("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(n),am(n,(function(){s.$minimum_input.val(void 0),s.$maximum_input.val(void 0),s.$container.offset({left:0,top:0}),s.$container.hide()})),this.$minimum=Ya("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum),(i=Ya("<div>")).text("Minimum"),this.$minimum.append(i),this.$minimum_input=Ya("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=Ya("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum),(i=Ya("<div>")).text("Maximum"),this.$maximum.append(i),this.$maximum_input=Ya("<input>"),this.$maximum.append(this.$maximum_input),r=Ya("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=Ya("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ya("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){s.$minimum_input.val(void 0),s.$maximum_input.val(void 0),s.$container.offset({left:0,top:0}),s.$container.hide()})),td(this.$container.get(0),n.get(0)),this.$container.hide()};function nx(e){var t,n;t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val()),isNaN(t)||isNaN(n)?this.browser.presentAlert("Must input numeric values",void 0):(!0===e.trackView.track.autoscale&&Ya("#datarange-autoscale").trigger("click"),e.trackView.setDataRange(t,n,!1)),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}tx.prototype.configure=function(e){var t,n,r,i=this;(t=e.trackView.dataRange())?(n=t.min,r=t.max):(n=0,r=100),this.$minimum_input.val(n),this.$maximum_input.val(r),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",(function(t){13===t.keyCode&&nx.call(i,e)})),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",(function(t){13===t.keyCode&&nx.call(i,e)})),this.$ok.unbind(),this.$ok.on("click",(function(){nx.call(i,e)}))},tx.prototype.present=function(e){var t,n;t=e.offset().top,n=Ya("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var rx=function(e){var t,n,r=this;this.$container=Ya("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=Ya("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),am(t,(function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),this.$label=Ya("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Remove track:"),this.$track_name=Ya("<div>",{class:"igv-generic-dialog-one-liner igv-ellipsis"}),this.$container.append(this.$track_name),n=Ya("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=Ya("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ya("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),td(this.$container.get(0),t.get(0)),this.$container.hide()};rx.prototype.configure=function(e){var t=this;this.$track_name.text(e.name||"unnamed"),this.$ok.unbind(),this.$ok.on("click",(function(){e.click(),t.$track_name.text(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()}))},rx.prototype.present=function(e){var t,n;t=e.offset().top,n=Ya("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var ix=function(e){this.$container=Ya('<div class="igv-user-feedback">'),e.append(this.$container);var t=Ya("<div>");this.$container.append(t);var n=Ya("<div>");t.append(n);var r=kd("exclamation-triangle","red");n.append(r);var i=Ya("<div>");t.append(i);var s=kd("times-circle","grey");i.append(s);var o=Ya("<div>");this.$container.append(o);var a=Ya("<div>");o.append(a),a.text("i am user feedback"),i.click((function(){a.html(""),(void 0).$container.hide()}))};ix.prototype.show=function(){this.$container.show()},ix.prototype.hide=function(){this.$container.hide()};var sx=function(e,t){var n=Ya('<div class="igv-nav-bar-button">');e.append(n),n.text("Save SVG"),n.on("click.svg-save-control",(function(){t.renderSVG({})}))},ox=function(e,t){var n;this.$zoomContainer=Ya('<div class="igv-zoom-widget">'),t.append(this.$zoomContainer),n=Ya("<div>"),this.$zoomContainer.append(n),n.append(kd("minus-circle")),n.on("click",(function(){e.zoomOut()})),n=Ya("<div>"),this.$zoomContainer.append(n),this.$slider=Ya('<input type="range"/>'),n.append(this.$slider),this.$slider.on("change",(function(t){e.zoomWithRangePercentage(t.target.value/100)})),n=Ya("<div>"),this.$zoomContainer.append(n),n.append(kd("plus-circle")),n.on("click",(function(){e.zoomIn()})),this.currentChr=void 0;var r=this;e.on("locuschange",(function(){e.updateZoomSlider(r.$slider)}))};ox.prototype.hide=function(){this.$zoomContainer.hide()},ox.prototype.show=function(){this.$zoomContainer.show()},ox.prototype.hideSlider=function(){this.$slider.hide()},ox.prototype.showSlider=function(){this.$slider.show()};var ax=function(e,t){this.showAllChromosomes=e.config.showAllChromosomes,this.$container=Ya("<div>",{class:"igv-chromosome-select-widget-container"}),t.append(this.$container),this.$select=Ya("<select>",{name:"chromosome-select-widget"}),this.$container.append(this.$select),this.$select.on("change",(function(){""!==Ya(this).val()&&(e.search(Ya(this).val()),Ya(this).blur())}))};ax.prototype.update=function(e){this.$select.empty();var t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift(""));var n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a,l=s.value;a=Ya("<option>",{value:l}),this.$select.append(a),a.text(l)}}catch(Rx){r=!0,i=Rx}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}};var lx=function(e,t){var n=this;this.browser=t,this.$button=Ya('<div class="igv-nav-bar-button">'),e.append(this.$button),this.$button.text("track labels"),this.$button.on("click",(function(){!0===t.trackLabelsVisible?n.doHide():n.doShow()}))};lx.prototype.doHide=function(){this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideTrackLabels()},lx.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showTrackLabels()},lx.prototype.setState=function(e){!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked")},lx.prototype.disable=function(){this.doHide(),this.$button.hide()},lx.prototype.enable=function(){this.$button.show()};var cx=function(e,t,n,r){var i=this;this.browser=r,this.$container=Ya('<div class="igv-center-guide igv-center-guide-thin">'),e.append(this.$container),!0===n.showCenterGuideButton&&(this.$centerGuideToggle=Ya('<div class="igv-nav-bar-button">'),t.append(this.$centerGuideToggle),this.$centerGuideToggle.text("center line"),this.$centerGuideToggle.on("click",(function(){!0===r.isCenterGuideVisible?i.doHide():i.doShow()})))};cx.prototype.doHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCenterGuide()},cx.prototype.doShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"),this.browser.showCenterGuide()},cx.prototype.setState=function(e){this.$centerGuideToggle&&(!0===e?this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"):this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"))},cx.prototype.forcedHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.hide(),!0===this.browser.isCenterGuideVisible&&this.$container.hide()},cx.prototype.forcedShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.show(),!0===this.browser.isCenterGuideVisible&&this.$container.show()},cx.prototype.repaint=function(){var e,t,n,r,i,s,o;this.browser.genomicStateList&&(1/(o=this.browser.genomicStateList[0].referenceFrame).bpPerPixel>1?(e=this.browser.trackViews[0].$viewportContainer.position(),t=Math.round(this.browser.trackViews[0].$viewportContainer.width()/2),s=e.left+t,n=o.toPixels(1),r=Math.round(s-.5*n).toString()+"px",i=Math.round(n).toString()+"px",this.$container.css({left:r,width:i}),this.$container.removeClass("igv-center-guide-thin"),this.$container.addClass("igv-center-guide-wide")):(this.$container.css({left:"50%",width:"1px"}),this.$container.removeClass("igv-center-guide-wide"),this.$container.addClass("igv-center-guide-thin")))},cx.prototype.resize=function(){this.repaint()};var hx=function(e,t,n,r){var i=this,s=this;this.browser=r,this.$guide=Ya('<div class="igv-cursor-tracking-guide">'),e.append(this.$guide),e.on("mousemove.cursor-guide",(function(t){t.preventDefault();var n=Ya(document.elementFromPoint(t.clientX,t.clientY)),s=n.parent(),o=void 0;if(s.hasClass("igv-viewport-content-div")?o=s.parent():s.hasClass("igv-viewport-div")&&n.hasClass("igv-viewport-content-div")?o=s:s.hasClass("igv-viewport-container")&&n.hasClass("igv-viewport-div")&&(o=n),n.attr("class"),s.attr("class"),o){var a=ux(t,o,i.$guide,e,r);a&&i.customMouseHandler&&i.customMouseHandler({bp:a.bp,start:a.start,end:a.end,interpolant:a.interpolant})}})),!0===n.showCursorTrackingGuideButton&&(this.$button=Ya('<div class="igv-nav-bar-button">'),t.append(this.$button),this.$button.text("cursor guide"),this.$button.on("click",(function(){!0===r.cursorGuideVisible?s.doHide():s.doShow()})))},ux=function(e,t,n,r,i){var s=dx(r.get(0),e),o="".concat(s.x,"px");n.css({left:o});var a=dx(t.get(0),e),l=t.data("viewportGUID"),c=i.getViewportWithGUID(l);if(void 0!==c){var h=c.genomicState.referenceFrame,u=h.start,d=1+h.start+a.width*h.bpPerPixel,p=Math.round(u+a.x*h.bpPerPixel),f=t.closest(".igv-track-container-div");return dx(f.get(0),e),{$host:f,host_css_left:o,bp:p,start:u,end:d,interpolant:a.xNormalized}}};function dx(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top,xNormalized:(t.clientX-n.left)/n.width,yNormalized:(t.clientY-n.top)/n.height,width:n.width,height:n.height}}hx.prototype.doHide=function(){this.$button&&this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCursorGuide()},hx.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showCursorGuide()},hx.prototype.setState=function(e){this.$button&&(!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked"))},hx.prototype.disable=function(){this.doHide(),this.$guide.hide()},hx.prototype.enable=function(){this.$button&&this.$button.show()};var px=function(e){this.browser=e};function fx(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),this.browser.zoomWidget.$zoomContainer.removeClass(),this.browser.zoomWidget.$zoomContainer.addClass(e.$zoomContainer)}function mx(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.$zoomContainer="igv-zoom-widget-hidden"),n}px.prototype.navbarDidResize=function(e,t){fx.call(this,mx.call(this,e,t))};var gx=[];function vx(){return(vx=Un(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){return e.sessionURL?r.loadSession({url:e.sessionURL}):r.loadSessionObject(e)},Jm.init(Ya(t)),void 0===n&&(n={}),Rg.genomeList=n.genomeList||"https://s3.amazonaws.com/igv.org.genomes/genomes.json",_x(n),!1!==n.queryParametersSupported&&wx(n),yx(n),bx(r=new Zw(n,t),n),r.userFeedback=new ix(r.$content),r.userFeedback.hide(),r.alertDialog=new Qm(r.$content),r.inputDialog=new ex(r.$root),r.trackRemovalDialog=new rx(r.$root),r.dataRangeDialog=new tx(r.$root,r),n.apiKey&&Pm.setApiKey(n.apiKey),n.oauthToken&&Fm.setToken(n.oauthToken),e.abrupt("return",i(n).then((function(e){!1===n.showTrackLabels?r.hideTrackLabels():(r.showTrackLabels(),r.trackLabelControl&&r.trackLabelControl.setState(r.trackLabelsVisible)),!1===n.showCursorTrackingGuide?r.cursorGuide.doHide():r.cursorGuide.doShow(),!1===n.showCenterGuide?r.centerGuide.doHide():r.centerGuide.doShow();var t=r.isMultiLocusWholeGenomeView()||Rg.isWholeGenomeView(r.genomicStateList[0].referenceFrame);return r.isMultiLocusMode()||t?r.centerGuide.forcedHide():r.centerGuide.forcedShow(),og.startup(),r.navbarManager.navbarDidResize(r.$navigation.width(),t),r})).then((function(e){return gx.push(e),e})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yx(e){var t=1;e.tracks&&e.tracks.forEach((function(e){void 0===e.order&&(e.order=t++)}))}function bx(e,t){var n;n=t.createControls?t.createControls(e,t):function(e,t){var n,r,i,s,o,a,l,c,h,u,d;return h=Ya("<div>",{class:"igvControlDiv"}),u=Ya("<div>",{class:"igv-navbar"}),h.append(u),e.$navigation=u,e.navbarManager=new px(e),r=Ya("<div>",{class:"igv-nav-bar-left-container"}),u.append(r),l=Ya("<div>",{class:"igv-logo"}),(c=Ya('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')).css("width","34px"),c.css("height","32px"),l.append(c),r.append(l),e.$current_genome=Ya("<div>",{class:"igv-current-genome"}),r.append(e.$current_genome),e.$current_genome.text(""),s=Ya("<div>",{class:"igv-nav-bar-genomic-location"}),r.append(s),e.chromosomeSelectWidget=new ax(e,s),void 0===t.showChromosomeWidget&&(t.showChromosomeWidget=!0),!0===t.showChromosomeWidget?e.chromosomeSelectWidget.$container.show():e.chromosomeSelectWidget.$container.hide(),o=Ya("<div>",{class:"igv-locus-size-group"}),s.append(o),d=Ya("<div>",{class:"igv-search-container"}),o.append(d),e.$searchInput=Ya('<input type="text" placeholder="Locus Search">'),d.append(e.$searchInput),e.$searchInput.change((function(t){e.search(Ya(this).val()).catch((function(t){e.presentAlert(t)}))})),n=Ya("<div>"),d.append(n),n.append(kd("search")),n.click((function(){e.search(e.$searchInput.val())})),e.windowSizePanel=new Jw(o,e),i=Ya('<div class="igv-nav-bar-right-container">'),u.append(i),a=Ya('<div class="igv-nav-bar-toggle-button-container">'),i.append(a),e.$toggle_button_container=a,e.cursorGuide=new hx(e.$content,a,t,e),e.centerGuide=new cx(Ya(e.trackContainerDiv),a,t,e),!0===t.showTrackLabelButton&&(e.trackLabelControl=new lx(a,e)),t.showSVGButton&&(e.svgSaveControl=new sx(a,e)),e.zoomWidget=new ox(e,i),!1===t.showNavigation&&e.$navigation.hide(),h.get(0)}(e,t),Ya(n).insertBefore(e.$content),!1===t.showControls&&Ya(n).hide()}function _x(e){void 0===e.promisified&&(e.promisified=!1),void 0===e.minimumBases&&(e.minimumBases=40),void 0===e.showIdeogram&&(e.showIdeogram=!0),void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0),void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0),void 0===e.showSVGButton&&(e.showSVGButton=!0),void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0),void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1),void 0===e.showCenterGuide&&(e.showCenterGuide=!1),void 0===e.showTrackLabels&&(e.showTrackLabels=!0),void 0===e.showControls&&(e.showControls=!0),void 0===e.showNavigation&&(e.showNavigation=!0),void 0===e.showRuler&&(e.showRuler=!0),void 0===e.showSequence&&(e.showSequence=!0),void 0===e.flanking&&(e.flanking=1e3),void 0===e.pairsSupported&&(e.pairsSupported=!0),e.tracks||(e.tracks=[]),e.showSequence&&e.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER})}function wx(e){var t,n,r,i,s,o,a,l,c,h,u;if(s={},t=(a=window.location.href).indexOf("?"),n=a.lastIndexOf("#"),t>=0)for(n<0&&(n=a.length),r=t+1;r<n;)(i=a.indexOf("&",r))<0&&(i=n),2===(o=a.substring(r,i).split("=",2)).length&&(l=o[0],c=decodeURIComponent(o[1]),"file"===l?h=c.split(","):"index"===l?u=c.split(","):e[l]=c,r=i+1);if(h){e.tracks||(e.tracks=[]);for(var d=0;d<h.length;d++){if(h[d].endsWith(".xml")||h[d].endsWith(".json")){e.sessionURL=h[d];break}var p={url:h[d]};u&&u.length>d&&(p.indexURL=u[d]),e.tracks.push(p)}}return s}var xx,Sx=og,kx=om,Cx=Qg;return(xx=document.createElement("style")).setAttribute("type","text/css"),xx.innerHTML='.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-color-swatch {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-colorpicker-menu-close-button i.fa:hover,\n  .igv-colorpicker-menu-close-button i.fa:focus,\n  .igv-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-alert-dialog-container {\n  position: absolute;\n  z-index: 2048;\n  top: 30%;\n  left: 50%;\n  margin: -150px 0 0 -150px;\n  width: 300px;\n  height: 256px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-alert-dialog-container div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-alert-dialog-container div:first-child div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-alert-dialog-container div:first-child div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-alert-dialog-container #igv-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-alert-dialog-container #igv-alert-dialog-body #igv-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-alert-dialog-container div:last-child {\n    width: 100%;\n    height: 64px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-alert-dialog-container div:last-child div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-alert-dialog-container div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 128px;\n  z-index: 4096;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: none; }\n\n.igv-popover-header {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee; }\n  .igv-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-popover-track-popup-content {\n  position: relative;\n  top: 0;\n  left: 0;\n  max-height: 384px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: white; }\n  .igv-popover-track-popup-content div {\n    margin-left: 4px;\n    background-color: white; }\n  .igv-popover-track-popup-content div:hover {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-popover-name-value {\n  cursor: default;\n  text-wrap: none;\n  white-space: nowrap;\n  max-width: 384px; }\n\n.igv-popover-name {\n  font-weight: bold;\n  padding-right: 4px;\n  float: left; }\n\n.igv-popover-value {\n  padding-left: 4px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 256px;\n  display: inline-block; }\n\n.igv-trackgear-container {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-left: 4px;\n  color: #7F7F7F; }\n\n.igv-trackgear-container:hover {\n  cursor: pointer;\n  color: #444; }\n\n.igv-trackgear-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-trackgear-popover > div:not(:first-child) {\n    width: 100%; }\n    .igv-trackgear-popover > div:not(:first-child) > div {\n      background: white; }\n    .igv-trackgear-popover > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-trackgear-popover > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-trackgear-popover-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-trackgear-popover-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-trackgear-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-trackgear-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-trackgear-popover-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-trackgear-popover-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-trackgear-popover-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-trackgear-popover-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igvControlDiv {\n  position: relative; }\n\n.igv-content-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 10px;\n  height: 16px;\n  width: 100%; }\n  .igv-content-header .igv-ideogram-shim {\n    height: 100%;\n    width: 50px;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content {\n    height: 100%;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content-border-right {\n    border-right-color: #292929;\n    border-right-style: solid;\n    border-right-width: 1px; }\n\n.igv-multi-locus-panel-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 1px;\n  background-color: green;\n  border-right-color: #ff0000;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-navbar {\n  position: relative;\n  padding-left: 8px;\n  padding-right: 8px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  margin-top: 2px;\n  margin-bottom: 4px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n\n.igv-nav-bar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-left-container .igv-logo {\n    width: 34px;\n    height: 32px;\n    margin-top: 6px;\n    margin-right: 8px; }\n  .igv-nav-bar-left-container .igv-current-genome {\n    height: 32px;\n    width: 40px;\n    margin-left: 4px;\n    margin-right: 4px;\n    user-select: none;\n    line-height: 32px;\n    vertical-align: middle;\n    text-align: center; }\n\n.igv-nav-bar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%; }\n\n.igv-chromosome-select-widget-container {\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center; }\n  .igv-chromosome-select-widget-container select {\n    display: block;\n    cursor: pointer;\n    width: 100px;\n    height: 75%;\n    outline: none;\n    font-size: 12px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400; }\n\n.igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: calc(32px - 10px); }\n  .igv-locus-size-group .igv-search-container {\n    width: 200px;\n    height: calc(32px - 10px);\n    line-height: calc(32px - 10px);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-locus-size-group .igv-search-container input {\n      cursor: text;\n      width: 85%;\n      height: calc(32px - 10px);\n      line-height: calc(32px - 10px);\n      font-size: 12px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      text-align: left;\n      padding-left: 8px;\n      margin-right: 8px;\n      outline: none;\n      border-style: solid;\n      border-radius: 3px;\n      border-width: thin;\n      border-color: #bfbfbf;\n      background-color: white; }\n    .igv-locus-size-group .igv-search-container div {\n      cursor: pointer;\n      height: 16px;\n      width: 16px; }\n  .igv-locus-size-group .igv-windowsizepanel-content-div {\n    margin-left: 4px;\n    user-select: none; }\n\n.igv-nav-bar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div {\n      margin-left: 0;\n      margin-right: 4px; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div:last-child {\n      margin-left: 0;\n      margin-right: 0; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container-750 {\n    display: none; }\n  .igv-nav-bar-right-container .igv-zoom-widget {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:nth-child(even) {\n      display: block;\n      height: fit-content; }\n    .igv-nav-bar-right-container .igv-zoom-widget input {\n      display: block;\n      width: 125px; }\n    .igv-nav-bar-right-container .igv-zoom-widget svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-900 {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 input {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-hidden {\n    display: none; }\n\n.igv-nav-bar-button {\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-nav-bar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-nav-bar-button:hover {\n  cursor: pointer; }\n\n.igv-logo-nonav {\n  margin-left: 4px;\n  margin-top: 12px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 34px;\n  height: 16px; }\n\n.igv-search-results {\n  position: absolute;\n  top: 32px;\n  left: 2px;\n  height: 320px;\n  width: 213px;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  overflow-x: hidden;\n  overflow-y: auto;\n  z-index: 9999; }\n  .igv-search-results tr {\n    font-family: "Open Sans", sans-serif;\n    font-size: small;\n    font-weight: 400;\n    color: #444; }\n  .igv-search-results tr:hover,\n  .igv-search-results tr:focus,\n  .igv-search-results tr:active {\n    cursor: pointer;\n    font-weight: 700;\n    color: #141414; }\n\n.igv-root-div {\n  position: relative;\n  left: 0;\n  right: 0;\n  height: auto;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 4px; }\n\n.igv-content-div {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.igv-track-container-div {\n  user-select: none;\n  position: relative;\n  clear: both; }\n\n.igv-track-div {\n  position: relative;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.igv-viewport-container {\n  position: absolute;\n  left: 50px;\n  right: 50px;\n  height: 100%;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-div {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content-div {\n  position: absolute;\n  width: 100%; }\n\n.igv-viewport-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgba(0, 0, 0, 0.15);\n  font-family: "Open Sans", sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  user-select: none; }\n\n.igv-whole-genome-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  background-color: white; }\n  .igv-whole-genome-container div {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    font-weight: 400;\n    color: #444;\n    height: 100%;\n    text-align: center;\n    border-right-color: #bfbfbf;\n    border-right-style: solid;\n    border-right-width: thin; }\n    .igv-whole-genome-container div span {\n      display: block;\n      padding-top: 6px;\n      text-overflow: ellipsis; }\n  .igv-whole-genome-container div:last-child {\n    border-right-color: transparent; }\n  .igv-whole-genome-container div:hover,\n  .igv-whole-genome-container div:focus,\n  .igv-whole-genome-container div:active {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-viewport-div-border-right {\n  border-right-color: #292929;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-multi-locus-panel-close-container {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  color: #666666;\n  z-index: 1000; }\n\n.igv-multi-locus-panel-close-container:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-panel-label-div {\n  position: absolute;\n  left: 50%;\n  top: 25%;\n  transform: translate(-50%, -25%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  min-width: 16px;\n  z-index: 64;\n  color: #373737;\n  background-color: white;\n  padding: 1px; }\n\n.igv-multi-locus-panel-label-div:hover {\n  cursor: pointer; }\n\n.igv-viewport-ruler {\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: 10px;\n  font-weight: 200;\n  text-align: center; }\n  .igv-viewport-ruler > div {\n    height: 100%; }\n\n.igv-viewport-sequence {\n  font-family: "Open Sans", sans-serif;\n  font-size: 8px;\n  font-weight: 200;\n  text-align: center; }\n\n.igv-viewport-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-track-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-ruler-sweeper-div {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-right-hand-gutter {\n  position: absolute;\n  right: 0;\n  width: 36px;\n  height: 100%;\n  background: white; }\n\n.igv-left-hand-gutter {\n  position: absolute;\n  left: 0;\n  width: 50px;\n  height: 100%; }\n  .igv-left-hand-gutter canvas {\n    position: absolute; }\n\n.igv-track-menu-border-top {\n  border-top-color: #a2a2a2;\n  border-top-style: solid;\n  border-top-width: thin; }\n\n.igv-track-menu-category {\n  padding-left: 4px;\n  font-weight: 400; }\n\n.igv-track-drag-scrim {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 256;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-track-manipulation-handle {\n  cursor: pointer;\n  position: absolute;\n  right: 36px;\n  width: 12px;\n  margin-left: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  font-size: medium;\n  border-color: #c4c4c4;\n  border-style: solid;\n  border-width: thin;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  z-index: 512;\n  background-color: #c4c4c4; }\n\n.igv-track-manipulation-handle:hover,\n.igv-track-manipulation-handle:focus,\n.igv-track-manipulation-handle:active {\n  border-color: #7e7e7e;\n  background-color: #7e7e7e; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 4px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: rgba(0, 0, 0, 0.05); }\n\n.igv-scrollbar-outer-div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 100%;\n  background-color: white; }\n  .igv-scrollbar-outer-div div {\n    position: absolute;\n    top: 0;\n    left: 3px;\n    width: 8px;\n    border-style: solid;\n    border-width: thin;\n    border-color: #c4c4c4;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white; }\n  .igv-scrollbar-outer-div div:hover,\n  .igv-scrollbar-outer-div div:focus,\n  .igv-scrollbar-outer-div div:active {\n    cursor: pointer;\n    background-color: #c4c4c4; }\n\n.zoom-in-notice-container {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .zoom-in-notice-container div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-center-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 8px;\n  z-index: 8;\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-guide-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-guide-thin {\n  left: 50%;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n  /*background-color: rgba(127, 127, 127, 0.51);*/\n  /*border-left-color: rgba(0,0,0,0);*/\n  /*border-right-color: rgba(0,0,0,0);*/ }\n\n.igv-cursor-tracking-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none; }\n\n.igv-clickable {\n  cursor: pointer;\n  background-color: white; }\n\n#color-by-tag {\n  color: #444; }\n\n#color-by-tag:hover,\n#color-by-tag:focus,\n#color-by-tag:active {\n  cursor: pointer;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: white;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: #7f7f7f; }\n\n.igv-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.igv-spinner-container {\n  color: #3f3f3f;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding-top: 8px;\n  font-size: 24px;\n  z-index: 512; }\n\n.igv-fa-check-visible {\n  color: inherit;\n  padding-right: 2px; }\n\n.igv-fa-check-hidden {\n  color: transparent;\n  padding-right: 2px; }\n\n.validateTips {\n  border: 1px solid transparent;\n  padding: 0.3em; }\n  .validateTips fieldset {\n    border: 0; }\n\n.igv-spacer-10 {\n  height: 10px;\n  width: 100%;\n  font-size: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  display: block; }\n\n.igv-fa5-spin {\n  -webkit-animation: igv-fa5-spin 2s infinite linear;\n  animation: igv-fa5-spin 2s infinite linear; }\n\n@-webkit-keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*# sourceMappingURL=igv.css.map */\n',document.head.insertBefore(xx,document.head.childNodes[document.head.childNodes.length-1]),{createBrowser:function(e,t){return vx.apply(this,arguments)},removeBrowser:function(e){e.dispose(),e.$root.remove(),gx=gx.filter((function(t){return t!==e})),"undefined"!=typeof igv&&e===igv.browser&&(igv.browser=void 0)},visibilityChange:function(){gx.forEach((function(e){e.visibilityChange()}))},setGoogleOauthToken:function(e){return Fm.setToken(e)},oauth:Fm,version:function(){return"2.5.2"},download:km,getBrowser:function(){return gx[0]},doAutoscale:Cm,graphics:Cx,createTrack:function(e,t){return Zw.prototype.createTrack.call(t,e)},getFilename:Um,getExtension:function(e){if(void 0!==e.url){var t=(Hm(e.url)?e.url.name:e.url).toLowerCase(),n=t.indexOf("?");return n>0&&(t=t.substr(0,n)),t.endsWith(".gz")?t=t.substr(0,t.length-3):(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),(n=t.lastIndexOf("."))<0?t:t.substr(1+n)}},isFilePath:Hm,inferFileFormat:Cv,inferTrackTypes:kv,knownFileExtensions:Sv,appendRightHandGutter:function(e){av.prototype.appendRightHandGutter.call(this,e)},attachDialogCloseHandlerWithParent:am,guid:um,pageCoordinates:cm,translateMouseCoordinates:hm,createIcon:kd,GtexUtils:wb,xhr:Sx,Color:kx,splitLines:rm,isString:tm,numberFormatter:nm,getDataWrapper:bv,setApiKey:function(e){return Pm.setApiKey(e)},createColorSwatchSelector:lm,makeDraggable:td,GenericContainer:ov,Popover:pm,AlertDialog:Qm,InputDialog:ex,TrackRemovalDialog:rx,DataRangeDialog:tx,MenuUtils:vd,Alert:Jm,google:Pm}},e.exports=r()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let u=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(r(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof h?d(a.errors):[a]}}if(l(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(c(n))try{n.unsubscribe()}catch(a){t=t||[],a instanceof h?t=t.concat(d(a.errors)):t.push(a)}}}if(t)throw new h(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends u{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new f(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends f{constructor(e,t,n,i){let s;super(),this._parentSubscriber=e;let o=this;r(t)?s=t:t&&(s=t.next,n=t.error,i=t.complete,t!==a&&(o=Object.create(t),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}let y=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?v:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=b(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends u{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class x extends f{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(e){const t=new k(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new y;return e.source=this,e}}return e.create=(e,t)=>new k(e,t),e})();class k extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):u.EMPTY}}function C(e){return e&&"function"==typeof e.schedule}function E(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new R(e,t))}}class R{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new A(e,this.project,this.thisArg))}}class A extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const I=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=T(),O=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function M(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const P=e=>{if(e&&"function"==typeof e[g])return r=e,e=>{const t=r[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(O(e))return I(e);if(M(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[D])return t=e,e=>{const n=t[D]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,r};function L(e,t){return new y(n=>{const r=new u;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function F(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new y(n=>{const r=new u;return r.add(t.schedule(()=>{const i=e[g]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(M(e))return function(e,t){return new y(n=>{const r=new u;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(O(e))return L(e,t);if(function(e){return e&&"function"==typeof e[D]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new y(n=>{const r=new u;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[D](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof y?e:new y(P(e))}class N extends f{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends f{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function B(e,t){if(!t.closed)return e instanceof y?e.subscribe(t):P(e)(t)}function j(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(j((n,r)=>F(e(n,r)).pipe(E((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new V(e,n)))}class V{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new U(e,this.project,this.concurrent))}}class U extends z{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new N(this),n=this.destination;n.add(t);const r=B(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(e=Number.POSITIVE_INFINITY){return j(v,e)}function q(e,t){return t?L(e,t):new y(I(e))}function G(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return C(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof y?e[0]:H(t)(q(e,n))}function W(){return function(e){return e.lift(new Y(e))}}class Y{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new Z(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new u,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=u.EMPTY)),e}refCount(){return W()(this)}}const K=(()=>{const e=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends x{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function J(){return new S}function ee(){return e=>{return W()((t=J,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,K);return r.source=e,r.subjectFactory=n,r})(e));var t}}function te(e){return{toString:e}.toString()}function ne(e,t,n){return te(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const re=ne("Inject",e=>({token:e})),ie=ne("Optional"),se=ne("Self"),oe=ne("SkipSelf");var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ue(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[me])||pe(e,e[ye])}function pe(e,t){return t&&t.token===e?t:null}function fe(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(be))?e[ge]:null}const me=le({\u0275prov:le}),ge=le({\u0275inj:le}),ve=le({\u0275provFallback:le}),ye=le({ngInjectableDef:le}),be=le({ngInjectorDef:le});function _e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function we(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const xe=le({__forward_ref__:le});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return _e(this())},e}function ke(e){return Ce(e)?e():e}function Ce(e){return"function"==typeof e&&e.hasOwnProperty(xe)&&e.__forward_ref__===Se}const Ee="undefined"!=typeof globalThis&&globalThis,Re="undefined"!=typeof window&&window,Ae="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Te=Ee||Ie||Re||Ae,De=le({\u0275cmp:le}),Oe=le({\u0275dir:le}),Me=le({\u0275pipe:le}),Pe=le({\u0275mod:le}),Le=le({\u0275loc:le}),Fe=le({\u0275fac:le}),Ne=le({__NG_ELEMENT_ID__:le});class ze{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Be=new ze("INJECTOR",-1),je={},Ve=/\n/gm,$e=le({provide:String,useValue:le});let Ue,He=void 0;function qe(e){const t=He;return He=e,t}function Ge(e){const t=Ue;return Ue=e,t}function We(e,t=ae.Default){if(void 0===He)throw new Error("inject() must be called from an injection context");return null===He?Xe(e,void 0,t):He.get(e,t&ae.Optional?null:void 0,t)}function Ye(e,t=ae.Default){return(Ue||We)(ke(e),t)}const Ze=Ye;function Xe(e,t,n){const r=de(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${_e(e)}]`)}function Ke(e){const t=[];for(let n=0;n<e.length;n++){const r=ke(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ae.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof ie||"Optional"===i.ngMetadataName||i===ie?n|=ae.Optional:i instanceof oe||"SkipSelf"===i.ngMetadataName||i===oe?n|=ae.SkipSelf:i instanceof se||"Self"===i.ngMetadataName||i===se?n|=ae.Self:e=i instanceof re||i===re?i.token:i}t.push(Ye(e,n))}else t.push(Ye(r))}return t}class Qe{get(e,t=je){if(t===je){const t=new Error(`NullInjectorError: No provider for ${_e(e)}!`);throw t.name="NullInjectorError",t}return t}}class Je{}class et{}function tt(e,t){e.forEach(e=>Array.isArray(e)?tt(e,t):t(e))}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function st(e,t,n){let r=at(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ot(e,t){const n=at(e,t);if(n>=0)return e[1|n]}function at(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}var lt=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ct=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const ht={},ut=[];let dt=0;function pt(e){return te(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ut,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=dt++,n.inputs=yt(e.inputs,t),n.outputs=yt(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ft):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(mt):null,n})}function ft(e){return wt(e)||function(e){return e[Oe]||null}(e)}function mt(e){return function(e){return e[Me]||null}(e)}const gt={};function vt(e){const t={type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&te(()=>{gt[e.id]=e.type}),t}function yt(e,t){if(null==e)return ht;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const bt=pt;function _t(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function wt(e){return e[De]||null}function xt(e,t){return e.hasOwnProperty(Fe)?e[Fe]:null}function St(e,t){const n=e[Pe]||null;if(!n&&!0===t)throw new Error(`Type ${_e(e)} does not have '\u0275mod' property.`);return n}function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ct(e){return Array.isArray(e)&&!0===e[1]}function Et(e){return 0!=(8&e.flags)}function Rt(e){return 2==(2&e.flags)}function At(e){return 1==(1&e.flags)}function It(e){return null!==e.template}function Tt(e){return 0!=(512&e[2])}class Dt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ot(){return Mt}function Mt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Lt),Pt}function Pt(){const e=Ft(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ht)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Lt(e,t,n,r){const i=Ft(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ht,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new Dt(l&&l.currentValue,t,o===ht),e[r]=t}function Ft(e){return e.__ngSimpleChanges__||null}Ot.ngInherit=!0;let Nt=void 0;function zt(){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}function Bt(e){return!!e.listen}const jt={createRenderer:(e,t)=>zt()};function Vt(e){for(;Array.isArray(e);)e=e[0];return e}function $t(e,t){return Vt(t[e+20])}function Ut(e,t){return Vt(t[e.index])}function Ht(e,t){return e.data[t+20]}function qt(e,t){return e[t+20]}function Gt(e,t){const n=t[e];return kt(n)?n:n[0]}function Wt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Yt(e){return 4==(4&e[2])}function Zt(e){return 128==(128&e[2])}function Xt(e,t){return null===e||null==t?null:e[t]}function Kt(e){e[18]=0}function Qt(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Jt={lFrame:Sn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function en(){return Jt.bindingsEnabled}function tn(){return Jt.lFrame.lView}function nn(){return Jt.lFrame.tView}function rn(e){Jt.lFrame.contextLView=e}function sn(){return Jt.lFrame.currentTNode}function on(e,t){Jt.lFrame.currentTNode=e,Jt.lFrame.isParent=t}function an(){return Jt.lFrame.isParent}function ln(){Jt.lFrame.isParent=!1}function cn(){return Jt.checkNoChangesMode}function hn(e){Jt.checkNoChangesMode=e}function un(){const e=Jt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dn(){return Jt.lFrame.bindingIndex}function pn(){return Jt.lFrame.bindingIndex++}function fn(e){const t=Jt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function mn(e,t){const n=Jt.lFrame;n.bindingIndex=n.bindingRootIndex=e,gn(t)}function gn(e){Jt.lFrame.currentDirectiveIndex=e}function vn(e){const t=Jt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function yn(){return Jt.lFrame.currentQueryIndex}function bn(e){Jt.lFrame.currentQueryIndex=e}function _n(e,t){const n=xn();Jt.lFrame=n,n.currentTNode=t,n.lView=e}function wn(e){const t=xn(),n=e[1];Jt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex}function xn(){const e=Jt.lFrame,t=null===e?null:e.child;return null===t?Sn(e):t}function Sn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function kn(){const e=Jt.lFrame;return Jt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Cn=kn;function En(){const e=kn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Rn(){return Jt.lFrame.selectedIndex}function An(e){Jt.lFrame.selectedIndex=e}function In(){const e=Jt.lFrame;return Ht(e.tView,e.selectedIndex)}function Tn(){Jt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Dn(){Jt.lFrame.currentNamespace=null}function On(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Mn(e,t,n){Fn(e,t,3,n)}function Pn(e,t,n,r){(3&e[2])===n&&Fn(e,t,n,r)}function Ln(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Fn(e,t,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(s=t[o],null!=r&&s>=r)break}else t[o]<0&&(e[18]+=65536),(s<i||-1==i)&&(Nn(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Nn(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}class zn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Bn(e,t,n){const r=Bt(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Vn(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function jn(e){return 3===e||4===e||6===e}function Vn(e){return 64===e.charCodeAt(0)}function $n(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Un(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Un(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Hn(e){return-1!==e}function qn(e){return 32767&e}function Gn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}function Wn(e){return"string"==typeof e?e:null==e?"":""+e}function Yn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wn(e)}const Zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te))();function Xn(e){return{name:"document",target:e.ownerDocument}}function Kn(e){return{name:"body",target:e.ownerDocument.body}}function Qn(e){return e instanceof Function?e():e}let Jn=!0;function er(e){const t=Jn;return Jn=e,t}let tr=0;function nr(e,t){const n=ir(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,rr(r.data,e),rr(t,null),rr(r.blueprint,null));const i=sr(e,t),s=e.injectorIndex;if(Hn(i)){const e=qn(i),n=Gn(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function rr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ir(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function or(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ne)&&(r=n[Ne]),null==r&&(r=n[Ne]=tr++);const i=255&r,s=1<<i,o=64&i,a=32&i,l=t.data;128&i?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t,n)}function ar(e,t,n,r=ae.Default,i){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ne)?e[Ne]:void 0;return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof i){_n(t,e);try{const e=i();if(null!=e||r&ae.Optional)return e;throw new Error(`No provider for ${Yn(n)}!`)}finally{Cn()}}else if("number"==typeof i){if(-1===i)return new fr(e,t);let s=null,o=ir(e,t),a=-1,l=r&ae.Host?t[16][6]:null;for((-1===o||r&ae.SkipSelf)&&(a=-1===o?sr(e,t):t[o+8],-1!==a&&pr(r,!1)?(s=t[1],o=qn(a),t=Gn(a,t)):o=-1);-1!==o;){const e=t[1];if(dr(i,o,e.data)){const e=cr(o,t,n,s,r,l);if(e!==lr)return e}a=t[o+8],-1!==a&&pr(r,t[1].data[o+8]===l)&&dr(i,o,t)?(s=e,o=qn(a),t=Gn(a,t)):o=-1}}}if(r&ae.Optional&&void 0===i&&(i=null),0==(r&(ae.Self|ae.Host))){const e=t[9],s=Ge(void 0);try{return e?e.get(n,i,r&ae.Optional):Xe(n,i,r&ae.Optional)}finally{Ge(s)}}if(r&ae.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Yn(n)}]`)}const lr={};function cr(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=hr(a,o,n,null==r?Rt(a)&&Jn:r!=o&&2===a.type,i&ae.Host&&s===a);return null!==l?ur(t,o,l,a):lr}function hr(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,h=i?a+c:e.directiveEnd;for(let u=r?a:a+c;u<h;u++){const e=o[u];if(u<l&&n===e||u>=l&&e.type===n)return u}if(i){const e=o[l];if(e&&It(e)&&e.type===n)return l}return null}function ur(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof zn){const o=i;if(o.resolving)throw new Error("Circular dep for "+Yn(s[n]));const a=er(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ge(o.injectImpl):null;_n(e,r);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Mt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&Ge(l),er(a),o.resolving=!1,Cn()}}return i}function dr(e,t,n){const r=64&e,i=32&e;let s;return s=128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t],!!(s&1<<e)}function pr(e,t){return!(e&ae.Self||e&ae.Host&&t)}class fr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return ar(this._tNode,this._lView,e,void 0,t)}}function mr(e){const t=e;if(Ce(e))return()=>{const e=mr(ke(t));return e?e():null};let n=xt(t);if(null===n){const e=fe(t);n=e&&e.factory}return n||null}function gr(e){return te(()=>{const t=e.prototype.constructor,n=t[Fe]||mr(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Fe]||mr(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function vr(e){return e.ngDebugContext}function yr(e){return e.ngOriginalError}function br(e,...t){e.error(...t)}class _r{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||br}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?vr(e)?vr(e):this._findContext(yr(e)):null}_findOriginalError(e){let t=yr(e);for(;t&&yr(t);)t=yr(t);return t}}class wr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class xr extends wr{getTypeName(){return"HTML"}}class Sr extends wr{getTypeName(){return"Style"}}class kr extends wr{getTypeName(){return"Script"}}class Cr extends wr{getTypeName(){return"URL"}}class Er extends wr{getTypeName(){return"ResourceURL"}}function Rr(e){return e instanceof wr?e.changingThisBreaksApplicationSecurity:e}function Ar(e,t){const n=Ir(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function Ir(e){return e instanceof wr&&e.getTypeName()||null}let Tr=!0,Dr=!1;function Or(){return Dr=!0,Tr}class Mr{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Pr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Lr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nr(e){return(e=String(e)).match(Lr)||e.match(Fr)?e:(Or()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function zr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Br(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const jr=zr("area,br,col,hr,img,wbr"),Vr=zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$r=zr("rp,rt"),Ur=Br($r,Vr),Hr=Br(jr,Br(Vr,zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Br($r,zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ur),qr=zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=zr("srcset"),Wr=Br(qr,Gr,zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yr=zr("script,style,template");class Zr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Hr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Yr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!Wr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;qr[s]&&(o=Nr(o)),Gr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Nr(e.trim())).join(", ")),this.buf.push(" ",t,'="',Qr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Hr.hasOwnProperty(t)&&!jr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kr=/([^\#-~ |!])/g;function Qr(e){return e.replace(/&/g,"&amp;").replace(Xr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Kr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function ei(e,t){let n=null;try{Jr=Jr||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new Mr:new Pr(e)}(e);let r=t?String(t):"";n=Jr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==s);const o=new Zr,a=o.sanitizeChildren(ti(n)||n);return Or()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=ti(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ti(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ni=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ri(e){const t=si();return t?t.sanitize(ni.HTML,e)||"":Ar(e,"HTML")?Rr(e):ei(zt(),Wn(e))}function ii(e){const t=si();return t?t.sanitize(ni.URL,e)||"":Ar(e,"URL")?Rr(e):Nr(Wn(e))}function si(){const e=tn();return e&&e[12]}function oi(e,t){e.__ngContext__=t}function ai(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}function li(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==ai(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ci(e){return 0===e.type&&"ng-template"!==e.tagName}function hi(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function ui(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(jn(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!hi(e,l,n)||""===l&&1===t.length){if(di(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!li(e.attrs,c,n)){if(di(r))return!1;o=!0}continue}const h=pi(8&r?"class":l,i,ci(e),n);if(-1===h){if(di(r))return!1;o=!0;continue}if(""!==c){let e;e=h>s?"":i[h+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==ai(t,c,0)||2&r&&c!==e){if(di(r))return!1;o=!0}}}}else{if(!o&&!di(r)&&!di(l))return!1;if(o&&di(l))continue;o=!1,r=l|1&r}}return di(r)||o}function di(e){return 0==(1&e)}function pi(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fi(e,t,n=!1){for(let r=0;r<t.length;r++)if(ui(e,t[r],n))return!0;return!1}function mi(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function gi(e,t){return e?":not("+t.trim()+")":t}function vi(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||di(o)||(t+=gi(s,i),i=""),r=o,s=s||!di(r);n++}return""!==i&&(t+=gi(s,i)),t}const yi={};function bi(e){const t=e[3];return Ct(t)?t[3]:t}function _i(e){return xi(e[13])}function wi(e){return xi(e[4])}function xi(e){for(;null!==e&&!Ct(e);)e=e[4];return e}function Si(e){ki(nn(),tn(),Rn()+e,cn())}function ki(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Mn(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Pn(t,r,0,n)}An(n)}function Ci(e,t){return e<<17|t<<2}function Ei(e){return e>>17&32767}function Ri(e){return 2|e}function Ai(e){return(131068&e)>>2}function Ii(e,t){return-131069&e|t<<2}function Ti(e){return 1|e}function Di(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];bn(i),n.contentQueries(2,t[s],s)}}}function Oi(e,t,n){return Bt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mi(e,t,n,r,i,s,o,a,l,c){const h=t.blueprint.slice();return h[0]=i,h[2]=140|r,Kt(h),h[3]=h[15]=e,h[8]=n,h[10]=o||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=s,h[16]=2==t.type?e[16]:h,h}function Pi(e,t,n,r,i){const s=t+20,o=e.data[s]||function(e,t,n,r,i){const s=sn(),o=an(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(e,s,n,r,i);return on(o,!0),o}function Li(e,t,n){wn(t);try{const r=e.viewQuery;null!==r&&ds(1,r,n);const i=e.template;null!==i&&zi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Di(e,t),e.staticViewQueries&&ds(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)as(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,En()}}function Fi(e,t,n,r){const i=t[2];if(256==(256&i))return;wn(t);const s=cn();try{Kt(t),Jt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&zi(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Mn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Pn(t,n,0,null),Ln(t,0)}if(function(e){for(let t=_i(e);null!==t;t=wi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Qt(r,1),n[2]|=1024}}}(t),function(e){for(let t=_i(e);null!==t;t=wi(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Zt(n)&&Fi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Di(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Mn(t,n)}else{const n=e.contentHooks;null!==n&&Pn(t,n,1),Ln(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let r=e.expandoStartIndex,i=-1,s=-1;for(let e=0;e<n.length;e++){const o=n[e];"number"==typeof o?o<=0?(s=0-o,An(s),r+=9+n[++e],i=r):r+=o:(null!==o&&(mn(r,i),o(2,t[i])),i++)}}}finally{An(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)os(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&ds(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Mn(t,n)}else{const n=e.viewHooks;null!==n&&Pn(t,n,2),Ln(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qt(t[3],-1))}finally{En()}}function Ni(e,t,n,r){const i=t[10],s=!cn(),o=Yt(t);try{s&&!o&&i.begin&&i.begin(),o&&Li(e,t,r),Fi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function zi(e,t,n,r,i){const s=Rn();try{An(-1),2&r&&t.length>20&&ki(e,t,0,cn()),n(r,i)}finally{An(s)}}function Bi(e,t,n){if(Et(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function ji(e,t,n){en()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||nr(n,t),oi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=It(r);s&&ns(t,n,r);const l=ur(t,e,a,n);oi(l,t),null!==o&&rs(0,a-i,l,r,0,o),s&&(Gt(n.index,t)[8]=l)}}(e,t,n,Ut(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=e.expandoInstructions,o=e.firstCreatePass,a=n.index-20,l=Jt.lFrame.currentDirectiveIndex;try{An(a);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];gn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Xi(r,i):o&&s.push(null)}}finally{An(-1),gn(l)}}(e,t,n))}function Vi(e,t,n=Ut){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function $i(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ui(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ui(e,t,n,r,i,s,o,a,l,c){const h=20+r,u=h+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:yi);return n}(h,u),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Hi(e,t,n,r){const i=fs(t);i.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)}function qi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Gi(e,t,n,r,i,s,o,a){const l=Ut(t,n);let c,h=t.inputs;!a&&null!=h&&(c=h[r])?(vs(e,n,c,r,i),Rt(t)&&function(e,t){const n=Gt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):2===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.tagName||"",r):i,Bt(s)?s.setProperty(l,r,i):Vn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Wi(e,t,n,r){let i=!1;if(en()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fi(n,o.selectors,!1)&&(i||(i=[]),or(nr(n,t),e,o.type),It(o)?(Qi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,es(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}Ki(e,n,s.length);let a=!1,l=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=$n(n.mergedAttrs,c.hostAttrs),ts(e,t,c),Ji(e.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const h=c.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),a=!0),l||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),l=!0),Yi(e,c),r+=c.hostVars}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||ci(t)?null:is(n,i);s.push(c),o=qi(n,l,o),a=qi(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n),Zi(e,t,r)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=$n(n.mergedAttrs,n.attrs),i}function Yi(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Zi(e,t,n){for(let r=0;r<n;r++)t.push(yi),e.blueprint.push(yi),e.data.push(null)}function Xi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ki(e,t,n){const r=20-t.index,i=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function Qi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ji(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;It(t)&&(n[""]=e)}}function es(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ts(e,t,n){e.data.push(n);const r=n.factory||(n.factory=xt(n.type)),i=new zn(r,It(n),null);e.blueprint.push(i),t.push(i)}function ns(e,t,n){const r=Ut(t,e),i=$i(n),s=e[10],o=ls(e,Mi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function rs(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function is(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ss(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function os(e,t){const n=Gt(t,e);if(Zt(n)){const e=n[1];80&n[2]?Fi(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let r=_i(t);null!==r;r=wi(r))for(let t=10;t<r.length;t++){const n=r[t];if(1024&n[2]){const e=n[1];Fi(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gt(n[r],t);Zt(i)&&i[5]>0&&e(i)}}(n)}}function as(e,t){const n=Gt(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Li(r,n,n[8])}function ls(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function cs(e){for(;e;){e[2]|=64;const t=bi(e);if(Tt(e)&&!t)return e;e=t}return null}function hs(e,t,n){const r=t[10];r.begin&&r.begin();try{Fi(e,t,e.template,n)}catch(i){throw gs(t,i),i}finally{r.end&&r.end()}}function us(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Wt(n),i=r[1];Ni(i,r,i.template,n)}}(e[8])}function ds(e,t,n){bn(0),t(e,n)}const ps=(()=>Promise.resolve(null))();function fs(e){return e[7]||(e[7]=[])}function ms(e,t,n){return(null===e||It(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function gs(e,t){const n=e[9],r=n?n.get(_r,null):null;r&&r.handleError(t)}function vs(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ys(e,t,n){const r=$t(t,e),i=e[11];Bt(i)?i.setValue(r,n):r.textContent=n}function bs(e,t,n,r,i){if(null!=r){let s,o=!1;Ct(r)?s=r:kt(r)&&(o=!0,r=r[0]);const a=Vt(r);0===e&&null!==n?null==i?Es(t,n,a):Cs(t,n,a,i||null):1===e&&null!==n?Cs(t,n,a,i||null):2===e?function(e,t,n){const r=As(e,t);r&&function(e,t,n,r){Bt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Vt(n)&&bs(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Os(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function _s(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Qt(i,-1)),n.splice(r,1)}function ws(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&_s(s,r),t>0&&(e[n-1][4]=r[4]);const o=rt(e,10+t);Os(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xs(e,t){if(!(256&t[2])){const n=t[11];Bt(n)&&n.destroyNode&&Os(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ss(e[1],e);for(;t;){let n=null;if(kt(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)kt(t)&&Ss(t[1],t),t=t[3];null===t&&(t=e),kt(t)&&Ss(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ss(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof zn)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(t):Vt(t[i]),o=e[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?e[a]():e[-a].unsubscribe(),r+=2}else n[r].call(e[n[r+1]]);t[7]=null}}(e,t),1===t[1].type&&Bt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ct(t[3])){n!==t[3]&&_s(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ks(e,t,n){let r=t.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(t=r).parent;if(null===r)return n[0];if(t&&4===t.type&&4&t.flags)return Ut(t,n).parentNode;if(2&r.flags){const t=e.data,n=t[t[r.index].directiveStart].encapsulation;if(n!==ct.ShadowDom&&n!==ct.Native)return null}return Ut(r,n)}function Cs(e,t,n,r){Bt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Es(e,t,n){Bt(e)?e.appendChild(t,n):t.appendChild(n)}function Rs(e,t,n,r){null!==r?Cs(e,t,n,r):Es(e,t,n)}function As(e,t){return Bt(e)?e.parentNode(t):t.parentNode}function Is(e,t){return 3===e.type||4===e.type?Ut(e,t):null}function Ts(e,t,n,r){const i=ks(e,r,t);if(null!=i){const e=t[11],s=Is(r.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Rs(e,i,n[t],s);else Rs(e,i,n,s)}}function Ds(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;o&&0===t&&(a&&oi(Vt(a),r),n.flags|=4),64!=(64&n.flags)&&(3===l||4===l?(Ds(e,t,n.child,r,i,s,!1),bs(t,e,i,a,s)):1===l?Ms(e,t,r,n,i,s):bs(t,e,i,a,s)),n=o?n.projectionNext:n.next}}function Os(e,t,n,r,i,s){Ds(n,r,e.firstChild,t,i,s,!1)}function Ms(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)bs(t,e,i,a[l],s);else Ds(e,t,a,o[3],i,s,!0)}function Ps(e,t,n){Bt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ls(e,t,n){Bt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class Fs{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return function e(t,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Vt(o)),Ct(o))for(let t=10;t<o.length;t++){const n=o[t],r=n[1].firstChild;null!==r&&e(n[1],n,r,i)}const a=r.type;if(3===a||4===a)e(t,n,r.child,i);else if(1===a){const t=n[16],s=t[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=bi(t);e(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}xs(this._lView[1],this._lView)}onDestroy(e){Hi(this._lView[1],this._lView,null,e)}markForCheck(){cs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){hn(!0);try{hs(e,t,n)}finally{hn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Os(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Ns extends Fs{constructor(e){super(e),this._view=e}detectChanges(){us(this._view)}checkNoChanges(){!function(e){hn(!0);try{us(e)}finally{hn(!1)}}(this._view)}get context(){return null}}let zs,Bs,js;function Vs(e,t,n){return zs||(zs=class extends e{}),new zs(Ut(t,n))}function $s(e,t,n,r){return Bs||(Bs=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Mi(this._declarationView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Li(t,n,e),new Fs(n)}}),0===n.type?new Bs(r,n,Vs(t,n,r)):null}function Us(e,t,n,r){let i;js||(js=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return Vs(t,this._hostTNode,this._hostView)}get injector(){return new fr(this._hostTNode,this._hostView)}get parentInjector(){const e=sr(this._hostTNode,this._hostView);if(Hn(e)){const t=Gn(e,this._hostView),n=qn(e);return new fr(t[1].data[n+8],t)}return new fr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Je,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ct(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new js(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],nt(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=function e(t,n){const r=10+t+1;if(r<n.length){const t=n[r],i=t[1].firstChild;if(null!==i)return function t(n,r){if(null!==r){const i=r.type;if(2===i)return Ut(r,n);if(0===i)return e(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return t(n,i);{const t=n[r.index];return Ct(t)?e(-1,t):Vt(t)}}{const e=n[16],i=e[6],s=bi(e),o=i.projection[r.projection];return null!=o?t(s,o):t(n,r.next)}}return null}(t,i)}return n[7]}(i,s),a=n[11],l=As(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Os(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(this),nt(s[8],i,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=ws(this._lContainer,t);n&&(rt(this._lContainer[8],t),xs(n[1],n))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=ws(this._lContainer,t);return n&&null!=rt(this._lContainer[8],t)?new Fs(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ct(s))i=s;else{let e;if(3===n.type)e=Vt(s);else if(e=r[11].createComment(""),Tt(r)){const t=r[11],i=Ut(n,r);Cs(t,As(t,i),e,function(e,t){return Bt(e)?e.nextSibling(t):t.nextSibling}(t,i))}else Ts(r[1],r,e,n);r[n.index]=i=ss(s,r,e,n),ls(r,i)}return new js(i,n,r)}function Hs(e=!1){return function(e,t,n){if(!n&&Rt(e)){const n=Gt(e.index,t);return new Fs(n,n)}return 2===e.type||0===e.type||3===e.type||4===e.type?new Fs(t[16],t):null}(sn(),tn(),e)}let qs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Gs(),e})();const Gs=Hs,Ws=Function,Ys=new ze("Set Injector scope."),Zs={},Xs={},Ks=[];let Qs=void 0;function Js(){return void 0===Qs&&(Qs=new Qe),Qs}function eo(e,t=null,n=null,r){return new to(e,n,t||Js(),r)}class to{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&tt(t,n=>this.processProvider(n,e,t)),tt([e],e=>this.processInjectorType(e,[],i)),this.records.set(Be,io(void 0,this));const s=this.records.get(Ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:_e(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=je,n=ae.Default){this.assertNotDestroyed();const r=qe(this);try{if(!(n&ae.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof ze)&&de(e);t=n&&this.injectableDefInScope(n)?io(no(e),Zs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ae.Self?Js():this.parent).get(e,t=n&ae.Optional&&t===je?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(_e(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=_e(t);if(Array.isArray(t))i=t.map(_e).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):_e(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ve,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{qe(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(_e(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ke(e)))return!1;let r=fe(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=fe(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{tt(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];tt(r,e=>this.processProvider(e,n,r||Ks))}}this.injectorDefTypes.add(s),this.records.set(s,io(r.factory,Zs));const a=r.providers;if(null!=a&&!o){const t=e;tt(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=oo(e=ke(e))?e:ke(e&&e.provide);const i=function(e,t,n){return so(e)?io(void 0,e.useValue):io(ro(e),Zs)}(e);if(oo(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=io(void 0,Zs,!0),t.factory=()=>Ke(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Zs&&(t.value=Xs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function no(e){const t=de(e),n=null!==t?t.factory:xt(e);if(null!==n)return n;const r=fe(e);if(null!==r)return r.factory;if(e instanceof ze)throw new Error(`Token ${_e(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=it(t,"?");throw new Error(`Can't resolve all parameters for ${_e(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[ye]||e[ve]&&e[ve]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ro(e,t,n){let r=void 0;if(oo(e)){const t=ke(e);return xt(t)||no(t)}if(so(e))r=()=>ke(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Ke(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Ye(ke(e.useExisting));else{const t=ke(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return xt(t)||no(t);r=()=>new t(...Ke(e.deps))}var i;return r}function io(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function so(e){return null!==e&&"object"==typeof e&&$e in e}function oo(e){return"function"==typeof e}const ao=function(e,t,n){return function(e,t=null,n=null,r){const i=eo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let lo=(()=>{class e{static create(e,t){return Array.isArray(e)?ao(e,t,""):ao(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=je,e.NULL=new Qe,e.\u0275prov=he({token:e,providedIn:"any",factory:()=>Ye(Be)}),e.__NG_ELEMENT_ID__=-1,e})();const co=new ze("AnalyzeForEntryComponents");function ho(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=we(i,e):2==s&&(r=we(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function uo(e,t){const n=Wt(e)[1],r=n.data.length-1;On(n,{directiveStart:r,directiveEnd:r+1})}function po(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i=void 0;if(It(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=fo(e.inputs),t.declaredInputs=fo(e.declaredInputs),t.outputs=fo(e.outputs);const n=i.hostBindings;n&&vo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&mo(e,s),o&&go(e,o),ce(e.inputs,i.inputs),ce(e.declaredInputs,i.declaredInputs),ce(e.outputs,i.outputs),It(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===po&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$n(i.hostAttrs,n=$n(n,i.hostAttrs))}}(r)}function fo(e){return e===ht?{}:e===ut?[]:e}function mo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function go(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function vo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let yo=null;function bo(){if(!yo){const e=Te.Symbol;if(e&&e.iterator)yo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}}return yo}class _o{constructor(e){this.wrapped=e}static wrap(e){return new _o(e)}static unwrap(e){return _o.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof _o}}function wo(e){return!!xo(e)&&(Array.isArray(e)||!(e instanceof Map)&&bo()in e)}function xo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function So(e,t,n){return e[t]=n}function ko(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Co(e,t,n,r){const i=ko(e,t,n);return ko(e,t+1,r)||i}function Eo(e,t,n,r){const i=tn();return ko(i,pn(),t)&&(nn(),function(e,t,n,r,i,s){const o=Ut(e,t),a=t[11];if(null==r)Bt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const t=null==i?Wn(r):i(r,e.tagName||"",n);Bt(a)?a.setAttribute(o,n,t,s):s?o.setAttributeNS(s,n,t):o.setAttribute(n,t)}}(In(),i,e,t,n,r)),Eo}function Ro(e,t,n,r){return ko(e,pn(),n)?t+Wn(n)+r:yi}function Ao(e,t,n,r,i,s,o,a){const l=tn(),c=nn(),h=e+20,u=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,h=Pi(t,e,0,o||null,Xt(c,a));Wi(t,n,h,Xt(c,l)),On(t,h);const u=h.tViews=Ui(2,h,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,h),u.queries=t.queries.embeddedTView(h)),h}(e,c,l,t,n,r,i,s,o):c.data[h];on(u,!1);const d=l[11].createComment("");Ts(c,l,d,u),oi(d,l),ls(l,l[h]=ss(d,l,d,u)),At(u)&&ji(c,l,u),null!=o&&Vi(l,u,a)}function Io(e){return qt(Jt.lFrame.contextLView,e)}function To(e,t=ae.Default){const n=tn();return null===n?Ye(e,t):ar(sn(),n,ke(e),t)}function Do(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(jn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(sn(),e)}function Oo(e,t,n){const r=tn();return ko(r,pn(),t)&&Gi(nn(),In(),r,e,t,r[11],n,!1),Oo}function Mo(e,t,n,r,i){const s=i?"class":"style";vs(e,n,t.inputs[s],s,r)}function Po(e,t,n,r){const i=tn(),s=nn(),o=20+e,a=i[11],l=i[o]=Oi(t,a,Jt.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=Pi(t,e,2,i,Xt(a,s));return Wi(t,n,l,Xt(a,o)),null!==l.attrs&&ho(l,l.attrs,!1),null!==l.mergedAttrs&&ho(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,s,i,0,t,n,r):s.data[o];on(c,!0);const h=c.mergedAttrs;null!==h&&Bn(a,l,h);const u=c.classes;null!==u&&Ls(a,l,u);const d=c.styles;null!==d&&Ps(a,l,d),Ts(s,i,l,c),0===Jt.lFrame.elementDepthCount&&oi(l,i),Jt.lFrame.elementDepthCount++,At(c)&&(ji(s,i,c),Bi(s,c,i)),null!==r&&Vi(i,c)}function Lo(){let e=sn();an()?ln():(e=e.parent,on(e,!1));const t=e;Jt.lFrame.elementDepthCount--;const n=nn();n.firstCreatePass&&(On(n,e),Et(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Mo(n,t,tn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Mo(n,t,tn(),t.stylesWithoutHost,!1)}function Fo(e,t,n,r){Po(e,t,n,r),Lo()}function No(e,t,n){const r=tn(),i=nn(),s=e+20,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Xt(s,r),a=Pi(t,e,3,"ng-container",o);return null!==o&&ho(a,o,!0),Wi(t,n,a,Xt(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,r,t,n):i.data[s];on(o,!0);const a=r[s]=r[11].createComment("");Ts(i,r,a,o),oi(a,r),At(o)&&(ji(i,r,o),Bi(i,o,r)),null!=n&&Vi(r,o)}function zo(){let e=sn();const t=nn();an()?ln():(e=e.parent,on(e,!1)),t.firstCreatePass&&(On(t,e),Et(e)&&t.queries.elementEnd(e))}function Bo(e,t,n){No(e,t,n),zo()}function jo(){return tn()}function Vo(e){return!!e&&"function"==typeof e.then}function $o(e){return!!e&&"function"==typeof e.subscribe}function Uo(e,t,n=!1,r){const i=tn(),s=nn(),o=sn();return qo(s,i,i[11],o,e,t,n,r),Uo}function Ho(e,t,n=!1,r){const i=sn(),s=tn(),o=nn();return qo(o,s,ms(vn(o.data),i,s),i,e,t,n,r),Ho}function qo(e,t,n,r,i,s,o=!1,a){const l=At(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=fs(t);let u=!0;if(2===r.type){const d=Ut(r,t),p=a?a(d):ht,f=p.target||d,m=h.length,g=a?e=>a(Vt(e[r.index])).target:r.index;if(Bt(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=Wo(r,t,s,!1);const e=n.listen(p.name||f,i,s);h.push(s,e),c&&c.push(i,g,m,m+1)}}else s=Wo(r,t,s,!0),f.addEventListener(i,s,o),h.push(s),c&&c.push(i,g,m,o)}const d=r.outputs;let p;if(u&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Go(e,t,n){try{return!1!==t(n)}catch(r){return gs(e,r),!1}}function Wo(e,t,n,r){return function i(s){if(s===Function)return n;const o=2&e.flags?Gt(e.index,t):t;0==(32&t[2])&&cs(o);let a=Go(t,n,s),l=i.__ngNextListenerFn__;for(;l;)a=Go(t,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Yo(e=1){return function(e){return(Jt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Jt.lFrame.contextLView))[8]}(e)}function Zo(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?fi(e,s,!0):mi(r,s))return i}else n=i}return n}function Xo(e){const t=tn()[16][6];if(!t.projection){const n=t.projection=it(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Zo(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Ko(e,t=0,n){const r=tn(),i=nn(),s=Pi(i,e,1,null,n||null);null===s.projection&&(s.projection=t),ln(),function(e,t,n){Ms(t[11],0,t,n,ks(e,n,t),Is(n.parent||t[6],t))}(i,r,s)}function Qo(e,t,n){return Jo(e,"",t,"",n),Qo}function Jo(e,t,n,r,i){const s=tn(),o=Ro(s,t,n,r);return o!==yi&&Gi(nn(),In(),s,e,o,s[11],i,!1),Jo}const ea=[];function ta(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Ei(s):Ai(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];na(e[a],t)&&(l=!0,e[a+1]=r?Ti(n):Ri(n)),a=r?Ei(n):Ai(n)}l&&(e[n+1]=r?Ri(s):Ti(s))}function na(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}const ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ia(e){return e.substring(ra.key,ra.keyEnd)}function sa(e,t){const n=ra.textEnd;return n===t?-1:(t=ra.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ra.key=t,n),oa(e,t,n))}function oa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function aa(e,t,n){return ua(e,t,n,!1),aa}function la(e,t){return ua(e,t,null,!0),la}function ca(e){da(st,ha,e,!0)}function ha(e,t){for(let n=function(e){return function(e){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=e.length}(e),sa(e,oa(e,0,ra.textEnd))}(t);n>=0;n=sa(t,n))st(e,ia(t),!0)}function ua(e,t,n,r){const i=tn(),s=nn(),o=fn(2);s.firstUpdatePass&&fa(s,e,o,r),t!==yi&&ko(i,o,t)&&va(s,s.data[Rn()+20],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=_e(Rr(e)))),e}(t,n),r,o)}function da(e,t,n,r){const i=nn(),s=fn(2);i.firstUpdatePass&&fa(i,null,s,r);const o=tn();if(n!==yi&&ko(o,s,n)){const a=i.data[Rn()+20];if(_a(a,r)&&!pa(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=we(e,n||"")),Mo(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===yi&&(i=ea);let l=0,c=0,h=0<i.length?i[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f=null,m=void 0;h===u?(l+=2,c+=2,d!==p&&(f=u,m=p)):null===u||null!==h&&h<u?(l+=2,f=h):(c+=2,f=u,m=p),null!==f&&va(e,t,n,r,f,m,o,a),h=l<i.length?i[l]:null,u=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return ea;const r=[],i=Rr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function pa(e,t){return t>=e.expandoStartIndex}function fa(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Rn()+20],o=pa(e,n);_a(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=vn(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ga(n=ma(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=ma(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ai(r))return e[Ei(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=ma(null,e,t,n[1],r),n=ga(n,t.attrs,r),function(e,t,n,r){e[Ei(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r=void 0;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=ga(r,e[s].hostAttrs,n);return ga(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ei(o),l=Ai(o);e[r]=n;let c,h=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||at(e,c)>0)&&(h=!0)}else c=n;if(i)if(0!==l){const t=Ei(e[a+1]);e[r+1]=Ci(t,a),0!==t&&(e[t+1]=Ii(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Ci(a,0),0!==a&&(e[a+1]=Ii(e[a+1],r)),a=r;else e[r+1]=Ci(l,0),0===a?a=r:e[l+1]=Ii(e[l+1],r),l=r;h&&(e[r+1]=Ri(e[r+1])),ta(e,c,r,!0),ta(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&at(s,t)>=0&&(n[r+1]=Ti(n[r+1]))}(t,c,e,r,s),o=Ci(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function ma(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=ga(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ga(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),st(e,o,!!n||t[++s]))}return void 0===e?null:e}function va(e,t,n,r,i,s,o,a){if(2!==t.type)return;const l=e.data,c=l[a+1];ba(1==(1&c)?ya(l,t,n,i,Ai(c),o):void 0)||(ba(s)||2==(2&c)&&(s=ya(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Bt(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{const t=-1==r.indexOf("-")?void 0:2;null==i?s?e.removeStyle(n,r,t):n.style.removeProperty(r):s?e.setStyle(n,r,i,t):n.style.setProperty(r,i)}}(r,o,$t(Rn(),n),i,s))}function ya(e,t,n,r,i,s){const o=null===t;let a=void 0;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let h=n[i+1];h===yi&&(h=c?ea:void 0);let u=c?ot(h,r):l===r?h:void 0;if(s&&!ba(u)&&(u=ot(t,r)),ba(u)&&(a=u,o))return a;const d=e[i+1];i=o?Ei(d):Ai(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=ot(e,r))}return a}function ba(e){return void 0!==e}function _a(e,t){return 0!=(e.flags&(t?16:32))}function wa(e,t=""){const n=tn(),r=nn(),i=e+20,s=r.firstCreatePass?Pi(r,e,2,null,null):r.data[i],o=n[i]=function(e,t){return Bt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Ts(r,n,o,s),on(s,!1)}function xa(e){return Sa("",e,""),xa}function Sa(e,t,n){const r=tn(),i=Ro(r,e,t,n);return i!==yi&&ys(r,Rn(),i),Sa}function ka(e,t,n,r,i){const s=tn(),o=function(e,t,n,r,i,s){const o=Co(e,dn(),n,i);return fn(2),o?t+Wn(n)+r+Wn(i)+s:yi}(s,e,t,n,r,i);return o!==yi&&ys(s,Rn(),o),ka}function Ca(e,t,n,r,i,s,o){const a=tn(),l=function(e,t,n,r,i,s,o,a){const l=function(e,t,n,r,i){const s=Co(e,t,n,r);return ko(e,t+2,i)||s}(e,dn(),n,i,o);return fn(3),l?t+Wn(n)+r+Wn(i)+s+Wn(o)+a:yi}(a,e,t,n,r,i,s,o);return l!==yi&&ys(a,Rn(),l),Ca}function Ea(e,t,n){const r=tn();return ko(r,pn(),t)&&Gi(nn(),In(),r,e,t,r[11],n,!0),Ea}function Ra(e,t,n){const r=tn();if(ko(r,pn(),t)){const i=nn(),s=In();Gi(i,s,r,e,t,ms(vn(i.data),s,r),n,!0)}return Ra}function Aa(e,t,n,r,i){if(e=ke(e),Array.isArray(e))for(let s=0;s<e.length;s++)Aa(e[s],t,n,r,i);else{const s=nn(),o=tn();let a=oo(e)?e:ke(e.provide),l=ro(e);const c=sn(),h=1048575&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>20;if(oo(e)||!e.multi){const r=new zn(l,i,To),p=Da(a,t,i?h:h+d,u);-1===p?(or(nr(c,o),s,a),Ia(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Da(a,t,h+d,u),f=Da(a,t,h,h+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){or(nr(c,o),s,a);const h=function(e,t,n,r,i){const s=new zn(e,n,To);return s.multi=[],s.index=t,s.componentProviders=0,Ta(s,i,r&&!n),s}(i?Ma:Oa,n.length,i,r,l);!i&&g&&(n[f].providerFactory=h),Ia(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),o.push(h)}else Ia(s,e,p>-1?p:f,Ta(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function Ia(e,t,n,r){const i=oo(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Ta(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Da(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Oa(e,t,n,r){return Pa(this.multi,[])}function Ma(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=ur(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Pa(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Pa(i,s);return s}function Pa(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function La(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=nn();if(r.firstCreatePass){const i=It(e);Aa(n,r.data,r.blueprint,i,!0),Aa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Fa{}class Na{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${_e(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let za=(()=>{class e{}return e.NULL=new Na,e})(),Ba=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>ja(e),e})();const ja=function(e){return Vs(e,sn(),tn())};class Va{}var $a=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ha(),e})();const Ha=function(){const e=tn(),t=Gt(sn().index,e);return function(e){const t=e[11];if(Bt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kt(t)?t:e)};let qa=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>null}),e})();class Ga{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Wa=new Ga("11.0.0-next.4");class Ya{constructor(){}supports(e){return wo(e)}create(e){return new Xa(e)}}const Za=(e,t)=>t;class Xa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Za}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<el(n,r,i)?t:n,o=el(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wo(e))throw new Error(`Error trying to diff '${_e(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[bo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ka(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ja),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ka{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ja{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Qa,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function el(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class tl{constructor(){}supports(e){return e instanceof Map||xo(e)}create(){return new nl}}class nl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||xo(e)))throw new Error(`Error trying to diff '${_e(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rl(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class rl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let il=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new Ya])}),e})(),sl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new tl])}),e})();const ol=[new tl],al=new il([new Ya]),ll=new sl(ol);let cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hl(e,Ba),e})();const hl=function(e,t){return $s(e,t,sn(),tn())};let ul=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>dl(e,Ba),e})();const dl=function(e,t){return Us(e,t,sn(),tn())},pl={};class fl extends za{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=wt(e);return new vl(t,this.ngModule)}}function ml(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const gl=new ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zn});class vl extends Fa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(vi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ml(this.componentDef.inputs)}get outputs(){return ml(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,pl,i);return s!==pl||r===pl?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Va,jt),o=i.get(qa,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Bt(e))return e.selectRootElement(t,n===ct.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Oi(l,s.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:Zn,clean:ps,playerHandler:null,flags:0},d=Ui(0,null,null,1,0,null,null,null,null,null),p=Mi(null,d,u,h,null,null,s,a,o,i);let f,m;wn(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Pi(o,0,2,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ho(a,l,!0),null!==e&&(Bn(i,e,l),null!==a.classes&&Ls(i,e,a.classes),null!==a.styles&&Ps(i,e,a.styles)));const c=r.createRenderer(e,t),h=Mi(n,$i(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(or(nr(a,n),o,t.type),Qi(o,a),es(a,n.length,1)),ls(n,h),n[20]=h}(c,this.componentDef,p,s,a);if(c)if(n)Bn(a,c,["ng-version",Wa.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!di(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Bn(a,c,e),t&&t.length>0&&Ls(a,c,t.join(" "))}if(m=Ht(d,0),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=sn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(e,r,1),ts(e,t,n));const i=ur(t,e,t.length-1,r);oi(i,t);const s=Ut(r,t);return s&&oi(s,t),i}(s,n,t);r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=sn();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){An(a.index-20);const e=n[1];Yi(e,t),Zi(e,n,t.hostVars),Xi(t,o)}return o}(e,this.componentDef,p,u,[uo]),Li(d,p,null)}finally{En()}return new yl(this.componentType,f,Vs(Ba,m,p),p,m)}}class yl extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Ns(r),this.componentType=e}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const bl=void 0;var _l=["en",[["a","p"],["AM","PM"],bl],[["AM","PM"],bl,bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bl,"{1} 'at' {0}",bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let wl={};function xl(e){return e in wl||(wl[e]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[e]),wl[e]}var Sl=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let kl="en-US";function Cl(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(kl=e.toLowerCase().replace(/_/g,"-"))}const El=new Map;class Rl extends Je{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fl(this);const n=St(e),r=e[Le]||null;r&&Cl(r),this._bootstrapComponents=Qn(n.bootstrap),this._r3Injector=eo(e,t,[{provide:Je,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],_e(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=lo.THROW_IF_NOT_FOUND,n=ae.Default){return e===lo||e===Je||e===Be?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Al extends et{constructor(e){super(),this.moduleType=e,null!==St(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${_e(t)} vs ${_e(t.name)}`)})(e,El.get(e),t),El.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new Rl(this.moduleType,e)}}function Il(e,t,n){const r=un()+e,i=tn();return i[r]===yi?So(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Tl(e,t,n,r){return Ml(tn(),un(),e,t,n,r)}function Dl(e,t,n,r,i){return Pl(tn(),un(),e,t,n,r,i)}function Ol(e,t){const n=e[t];return n===yi?void 0:n}function Ml(e,t,n,r,i,s){const o=t+n;return ko(e,o,i)?So(e,o+1,s?r.call(s,i):r(i)):Ol(e,o+1)}function Pl(e,t,n,r,i,s,o){const a=t+n;return Co(e,a,i,s)?So(e,a+2,o?r.call(o,i,s):r(i,s)):Ol(e,a+2)}function Ll(e,t){const n=nn();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xt(r.type)),o=Ge(To);try{const t=er(!1),r=s();return er(t),function(e,t,n,r){const i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(n,tn(),e,r),r}finally{Ge(o)}}function Fl(e,t,n){const r=tn(),i=qt(r,e);return Bl(r,zl(r,e)?Ml(r,un(),t,i.transform,n,i):i.transform(n))}function Nl(e,t,n,r){const i=tn(),s=qt(i,e);return Bl(i,zl(i,e)?Pl(i,un(),t,s.transform,n,r,s):s.transform(n,r))}function zl(e,t){return e[1].data[t+20].pure}function Bl(e,t){return _o.isWrapped(t)&&(t=_o.unwrap(t),e[dn()]=yi),t}const jl=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return e instanceof u&&e.add(o),o}};function Vl(){return this._results[bo()]()}class $l{constructor(){this.dirty=!0,this._results=[],this.changes=new jl,this.length=0;const e=bo(),t=$l.prototype;t[e]||(t[e]=Vl)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ul{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ul(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Hl(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ac(e,t).matches&&this.queries[t].setDirty()}}class ql{constructor(e,t,n,r=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}}class Gl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Gl(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&3===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Yl(t,i)),this.matchTNodeWithReadOption(e,t,hr(t,e,i,!1,!1))}else n===cl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hr(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ba||r===ul||r===cl&&0===t.type)this.addMatch(t.index,-2);else{const n=hr(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Yl(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Zl(e,t,n,r){return-1===n?function(e,t){return 2===e.type||3===e.type?Vs(Ba,e,t):0===e.type?$s(cl,Ba,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ba?Vs(Ba,t,e):n===cl?$s(cl,Ba,t,e):n===ul?Us(ul,Ba,t,e):void 0}(e,t,r):ur(e,e[1],n,t)}function Xl(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Zl(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Kl(e){const t=tn(),n=nn(),r=yn();bn(r+1);const i=ac(n,r);if(e.dirty&&Yt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?function e(t,n,r,i){const s=t.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Xl(t,n,s,r);for(let t=0;t<o.length;t+=2){const r=o[t];if(r>0)i.push(a[t/2]);else{const s=o[t+1],a=n[-r];for(let t=10;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,s,i)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const r=t[n];e(r[1],r,s,i)}}}}}return i}(n,t,r,[]):Xl(n,t,i,r);e.reset(s),e.notifyOnChanges()}return!0}return!1}function Ql(e,t,n){ec(nn(),tn(),e,t,n,!0)}function Jl(e,t,n){ec(nn(),tn(),e,t,n,!1)}function ec(e,t,n,r,i,s){e.firstCreatePass&&(oc(e,new ql(n,r,s,i),-1),s&&(e.staticViewQueries=!0)),sc(e,t)}function tc(e,t,n,r){rc(nn(),tn(),t,n,r,!1,sn(),e)}function nc(e,t,n,r){rc(nn(),tn(),t,n,r,!0,sn(),e)}function rc(e,t,n,r,i,s,o,a){e.firstCreatePass&&(oc(e,new ql(n,r,s,i),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),s&&(e.staticContentQueries=!0)),sc(e,t)}function ic(){return e=tn(),t=yn(),e[19].queries[t].queryList;var e,t}function sc(e,t){const n=new $l;Hi(e,t,n,n.destroy),null===t[19]&&(t[19]=new Hl),t[19].queries.push(new Ul(n))}function oc(e,t,n){null===e.queries&&(e.queries=new Gl),e.queries.track(new Wl(t,n))}function ac(e,t){return e.queries.getByIndex(t)}const lc=new ze("Application Initializer");let cc=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Vo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ye(lc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const hc=new ze("AppId"),uc={provide:hc,useFactory:function(){return`${dc()}${dc()}${dc()}`},deps:[]};function dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pc=new ze("Platform Initializer"),fc=new ze("Platform ID"),mc=new ze("appBootstrapListener");let gc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const vc=new ze("LocaleId"),yc=new ze("DefaultCurrencyCode");class bc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const _c=function(e){return new Al(e)},wc=_c,xc=function(e){return Promise.resolve(_c(e))},Sc=function(e){const t=_c(e),n=Qn(St(e).declarations).reduce((e,t)=>{const n=wt(t);return n&&e.push(new vl(n)),e},[]);return new bc(t,n)},kc=Sc,Cc=function(e){return Promise.resolve(Sc(e))};let Ec=(()=>{class e{constructor(){this.compileModuleSync=wc,this.compileModuleAsync=xc,this.compileModuleAndAllComponentsSync=kc,this.compileModuleAndAllComponentsAsync=Cc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Rc=(()=>Promise.resolve(0))();function Ac(e){"undefined"==typeof Zone?Rc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ic{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Te.requestAnimationFrame,t=Te.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Te,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Mc(e),Oc(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Mc(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,r,i,s,o,a)=>{try{return Pc(e),n.invokeTask(i,s,o,a)}finally{t&&"eventTask"===s.type&&t(),Lc(e)}},onInvoke:(t,n,r,i,s,o,a)=>{try{return Pc(e),t.invoke(r,i,s,o,a)}finally{Lc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Mc(e),Oc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ic.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ic.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Dc,Tc,Tc);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Tc(){}const Dc={};function Oc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Mc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Pc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lc(e){e._nesting--,Oc(e)}class Fc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Nc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ac(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),zc=(()=>{class e{constructor(){this._applications=new Map,Vc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Bc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let jc,Vc=new Bc;const $c=new ze("AllowMultipleToken");class Uc{constructor(e,t){this.name=e,this.token=t}}function Hc(e,t,n=[]){const r="Platform: "+t,i=new ze(r);return(t=[])=>{let s=qc();if(!s||s.injector.get($c,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:Ys,useValue:"platform"});!function(e){if(jc&&!jc.destroyed&&!jc.injector.get($c,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jc=e.get(Gc);const t=e.get(pc,null);t&&t.forEach(e=>e())}(lo.create({providers:e,name:r}))}return function(e){const t=qc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function qc(){return jc&&!jc.destroyed?jc:null}let Gc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Fc:("zone.js"===e?void 0:e)||new Ic({enableLongStackTrace:Or(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),r=[{provide:Ic,useValue:n}];return n.run(()=>{const t=lo.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(_r,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Zc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const r=n();return Vo(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(cc);return e.runInitializers(),e.donePromise.then(()=>(Cl(i.injector.get(vc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Wc({},t);return function(e,t,n){const r=new Al(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${_e(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ye(lo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Wc(e,t){return Array.isArray(t)?t.reduce(Wc,e):Object.assign(Object.assign({},e),t)}let Yc=(()=>{class e{constructor(e,t,n,r,i,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Or(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ic.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,a.pipe(ee()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Fa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Je),i=n.create(lo.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Nc,null);return s&&i.injector.get(zc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Or()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Zc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(mc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Zc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic),Ye(gc),Ye(lo),Ye(_r),Ye(za),Ye(cc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Zc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xc{}class Kc{}const Qc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Jc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Qc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>eh(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>eh(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ec),Ye(Kc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function eh(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const th=Hc(null,"core",[{provide:fc,useValue:"unknown"},{provide:Gc,deps:[lo]},{provide:zc,deps:[]},{provide:gc,deps:[]}]),nh=[{provide:Yc,useClass:Yc,deps:[Ic,gc,lo,_r,za,cc]},{provide:gl,deps:[Ic],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:cc,useClass:cc,deps:[[new ie,lc]]},{provide:Ec,useClass:Ec,deps:[]},uc,{provide:il,useFactory:function(){return al},deps:[]},{provide:sl,useFactory:function(){return ll},deps:[]},{provide:vc,useFactory:function(e){return Cl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new re(vc),new ie,new oe]]},{provide:yc,useValue:"USD"}];let rh=(()=>{class e{constructor(e){}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(Yc))},providers:nh}),e})();const ih={production:!0,apiBasePath:location.protocol+"//"+location.hostname+"/admin/api",igvBasePath:location.protocol+"//"+location.hostname+"/static/gff"};let sh=null;function oh(){return sh}const ah=new ze("DocumentToken");let lh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:ch,token:e,providedIn:"platform"}),e})();function ch(){return Ye(uh)}const hh=new ze("Location Initialized");let uh=(()=>{class e extends lh{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=oh().getLocation(),this._history=oh().getHistory()}getBaseHrefFromDOM(){return oh().getBaseHref(this._doc)}onPopState(e){oh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){oh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){dh()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){dh()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({factory:ph,token:e,providedIn:"platform"}),e})();function dh(){return!!window.history.pushState}function ph(){return new uh(Ye(ah))}function fh(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function mh(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function gh(e){return e&&"?"!==e[0]?"?"+e:e}let vh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:yh,token:e,providedIn:"root"}),e})();function yh(e){const t=Ye(ah).location;return new _h(Ye(lh),t&&t.origin||"")}const bh=new ze("appBaseHref");let _h=(()=>{class e extends vh{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return fh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+gh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+gh(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+gh(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ye(lh),Ye(bh,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),wh=(()=>{class e extends vh{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=fh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+gh(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+gh(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ye(lh),Ye(bh,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),xh=(()=>{class e{constructor(e,t){this._subject=new jl,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=mh(kh(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+gh(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,kh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gh(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gh(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(Ye(vh),Ye(lh))},e.normalizeQueryParams=gh,e.joinWithSlash=fh,e.stripTrailingSlash=mh,e.\u0275prov=he({factory:Sh,token:e,providedIn:"root"}),e})();function Sh(){return new xh(Ye(vh),Ye(lh))}function kh(e){return e.replace(/\/index.html$/,"")}var Ch=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Eh{}let Rh=(()=>{class e extends Eh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=xl(t);if(n)return n;const r=t.split("-")[0];if(n=xl(r),n)return n;if("en"===r)return _l;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Sl.PluralCase]}(t||this.locale)(e)){case Ch.Zero:return"zero";case Ch.One:return"one";case Ch.Two:return"two";case Ch.Few:return"few";case Ch.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Ye(vc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Ah(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let Ih=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(wo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+_e(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(To(il),To(sl),To(Ba),To(Ua))},e.\u0275dir=bt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Th=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(Je);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(za)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(To(ul))},e.\u0275dir=bt({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[Ot]}),e})();class Dh{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Or()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Dh(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Mh(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Mh(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(cl),To(il))},e.\u0275dir=bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Mh{constructor(e,t){this.record=e,this.view=t}}let Ph=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Lh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(cl))},e.\u0275dir=bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Lh{constructor(){this.$implicit=null,this.ngIf=null}}function Fh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${_e(t)}'.`)}class Nh{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let zh=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Bh=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Nh(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(cl),To(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),jh=(()=>{class e{constructor(e,t,n){n._addDefault(new Nh(e,t))}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(cl),To(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})();class Vh{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class $h{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Uh=new $h,Hh=new Vh;let qh=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Vo(t))return Uh;if($o(t))return Hh;throw Error(`InvalidPipeArgument: '${t}' for pipe '${_e(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=ae.Default){const t=Hs(!0);if(null!=t||e&ae.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},e.\u0275pipe=_t({name:"async",type:e,pure:!1}),e})(),Gh=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=Wh){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(To(sl))},e.\u0275pipe=_t({name:"keyvalue",type:e,pure:!1}),e})();function Wh(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Yh=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:Eh,useClass:Rh}]}),e})();function Zh(e){return"browser"===e}let Xh=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new Kh(Ye(ah),window,Ye(_r))}),e})();class Kh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=Qh(this.window.history)||Qh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function Qh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Jh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Jh,sh||(sh=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=tu||(tu=document.querySelector("base"),tu)?tu.getAttribute("href"):null;return null==t?null:(n=t,eu||(eu=document.createElement("a")),eu.setAttribute("href",n),"/"===eu.pathname.charAt(0)?eu.pathname:"/"+eu.pathname);var n}resetBaseElement(){tu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Ah(document.cookie,e)}}let eu,tu=null;const nu=new ze("TRANSITION_ID"),ru=[{provide:lc,useFactory:function(e,t,n){return()=>{n.get(cc).donePromise.then(()=>{const n=oh();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[nu,ah,lo],multi:!0}];class iu{static init(){var e;e=new iu,Vc=e}addToWindow(e){Te.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(e=>{const t=Te.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?oh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const su=new ze("EventManagerPlugins");let ou=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Ye(su),Ye(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class au{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=oh().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let lu=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),cu=(()=>{class e extends lu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>oh().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},uu=/%COMP%/g;function du(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?du(e,i,n):(i=i.replace(uu,e),n.push(i))}return n}function pu(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let fu=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mu(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new gu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case ct.Native:case ct.ShadowDom:return new vu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=du(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ye(ou),Ye(cu),Ye(hc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class mu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(hu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=hu[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=hu[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&$a.DashCase?e.style.setProperty(t,n,r&$a.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&$a.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pu(n)):this.eventManager.addEventListener(e,t,pu(n))}}class gu extends mu{constructor(e,t,n,r){super(e),this.component=n;const i=du(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(uu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(uu,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class vu extends mu{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ct.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=du(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yu=(()=>{class e extends au{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const bu=["alt","control","meta","shift"],_u={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xu={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Su=(()=>{class e extends au{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),s=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oh().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(bu.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&wu.hasOwnProperty(t)&&(t=wu[t]))}return _u[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),bu.forEach(r=>{r!=n&&(0,xu[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),ku=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return Ye(Cu)},token:e,providedIn:"root"}),e})(),Cu=(()=>{class e extends ku{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case ni.NONE:return t;case ni.HTML:return Ar(t,"HTML")?Rr(t):ei(this._doc,String(t));case ni.STYLE:return Ar(t,"Style")?Rr(t):t;case ni.SCRIPT:if(Ar(t,"Script"))return Rr(t);throw new Error("unsafe value used in a script context");case ni.URL:return Ir(t),Ar(t,"URL")?Rr(t):Nr(String(t));case ni.RESOURCE_URL:if(Ar(t,"ResourceURL"))return Rr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new xr(e)}bypassSecurityTrustStyle(e){return new Sr(e)}bypassSecurityTrustScript(e){return new kr(e)}bypassSecurityTrustUrl(e){return new Cr(e)}bypassSecurityTrustResourceUrl(e){return new Er(e)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({factory:function(){return e=Ye(Be),new Cu(e.get(ah));var e},token:e,providedIn:"root"}),e})();const Eu=Hc(th,"browser",[{provide:fc,useValue:"browser"},{provide:pc,useValue:function(){Jh.makeCurrent(),iu.init()},multi:!0},{provide:ah,useFactory:function(){return function(e){Nt=e}(document),document},deps:[]}]),Ru=[[],{provide:Ys,useValue:"root"},{provide:_r,useFactory:function(){return new _r},deps:[]},{provide:su,useClass:yu,multi:!0,deps:[ah,Ic,fc]},{provide:su,useClass:Su,multi:!0,deps:[ah]},[],{provide:fu,useClass:fu,deps:[ou,cu,hc]},{provide:Va,useExisting:fu},{provide:lu,useExisting:cu},{provide:cu,useClass:cu,deps:[ah]},{provide:Nc,useClass:Nc,deps:[Ic]},{provide:ou,useClass:ou,deps:[su,Ic]},[]];let Au=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:hc,useValue:t.appId},{provide:nu,useExisting:hc},ru]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(e,12))},providers:Ru,imports:[Yh,rh]}),e})();"undefined"!=typeof window&&window;class Iu{}function Tu(e,t){return{type:7,name:e,definitions:t,options:{}}}function Du(e,t=null){return{type:4,styles:t,timings:e}}function Ou(e,t=null){return{type:3,steps:e,options:t}}function Mu(e,t=null){return{type:2,steps:e,options:t}}function Pu(e){return{type:6,styles:e,offset:null}}function Lu(e,t,n){return{type:0,name:e,styles:t,options:n}}function Fu(e){return{type:5,steps:e}}function Nu(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function zu(e=null){return{type:9,options:e}}function Bu(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function ju(e){Promise.resolve(null).then(e)}class Vu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ju(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class $u{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?ju(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Uu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hu(e){switch(e.length){case 0:return new Vu;case 1:return e[0];default:return new $u(e)}}function qu(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==l,h=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}h[r]=a}),r||a.push(h),c=h,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Gu(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&Wu(n,"start",e)));break;case"done":e.onDone(()=>r(n&&Wu(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&Wu(n,"destroy",e)))}}function Wu(e,t,n){const r=n.totalTime,i=Yu(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function Yu(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zu(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Xu(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Ku=(e,t)=>!1,Qu=(e,t)=>!1,Ju=(e,t,n)=>[];const ed=Uu();(ed||"undefined"!=typeof Element)&&(Ku=(e,t)=>e.contains(t),Qu=(()=>{if(ed||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Qu}})(),Ju=(e,t,n)=>{let r=[];if(n)r.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&r.push(n)}return r});let td=null,nd=!1;function rd(e){td||(td=("undefined"!=typeof document?document.body:null)||{},nd=!!td.style&&"WebkitAppearance"in td.style);let t=!0;return td.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in td.style,!t&&nd)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in td.style),t}const id=Qu,sd=Ku,od=Ju;function ad(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let ld=(()=>{class e{validateStyleProperty(e){return rd(e)}matchesElement(e,t){return id(e,t)}containsElement(e,t){return sd(e,t)}query(e,t,n){return od(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new Vu(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),cd=(()=>{class e{}return e.NOOP=new ld,e})();function hd(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ud(parseFloat(t[1]),t[2])}function ud(e,t){switch(t){case"s":return 1e3*e;default:return e}}function dd(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=ud(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=ud(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function pd(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function fd(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else pd(e,n);return n}function md(e,t,n){return n?t+":"+n+";":""}function gd(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=md(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=md(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function vd(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Cd(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Uu()&&gd(e))}function yd(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Cd(t);e.style[n]=""}),Uu()&&gd(e))}function bd(e){return Array.isArray(e)?1==e.length?e[0]:Mu(e):e}const _d=new RegExp("{{\\s*(.+?)\\s*}}","g");function wd(e){let t=[];if("string"==typeof e){let n;for(;n=_d.exec(e);)t.push(n[1]);_d.lastIndex=0}return t}function xd(e,t,n){const r=e.toString(),i=r.replace(_d,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?e:i}function Sd(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const kd=/-+([a-z0-9])/g;function Cd(e){return e.replace(kd,(...e)=>e[1].toUpperCase())}function Ed(e,t){return 0===e||0===t}function Rd(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach((function(t){n[t]=Id(e,t)}))}}return t}function Ad(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Id(e,t){return window.getComputedStyle(e)[t]}function Td(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(Md(i,o)),"<"!=s[0]||"*"==i&&"*"==o||t.push(Md(o,i))}(e,n,t)):n.push(e),n}const Dd=new Set(["true","1"]),Od=new Set(["false","0"]);function Md(e,t){const n=Dd.has(e)||Od.has(e),r=Dd.has(t)||Od.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Dd.has(e):Od.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Dd.has(t):Od.has(t)),o&&a}}const Pd=new RegExp("s*:selfs*,?","g");function Ld(e,t,n){return new Fd(e).build(t,n)}class Fd{constructor(e){this._driver=e}build(e,t){const n=new Nd(t);return this._resetContextStyleTimingState(n),Ad(this,bd(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(zd(e)){const t=e;Object.keys(t).forEach(e=>{wd(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=Sd(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Ad(this,bd(e.animation),t);return{type:1,matchers:Td(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Bd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Ad(this,e,t)),options:Bd(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=Ad(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:Bd(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return jd(dd(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=jd(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||dd(r,t),jd(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:Pu({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=Pu(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(zd(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=wd(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(zd(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(zd(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));const u=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,r)=>{const s=h>0?r==u?1:h*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Ad(this,bd(e.animation),t),options:Bd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bd(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Pd,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,Zu(t.collectedStyles,t.currentQuerySelector,{});const o=Ad(this,bd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Bd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:dd(e.timings,t.errors,!0);return{type:12,animation:Ad(this,bd(e.animation),t),timings:n,options:null}}}class Nd{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function zd(e){return!Array.isArray(e)&&"object"==typeof e}function Bd(e){var t;return e?(e=pd(e)).params&&(e.params=(t=e.params)?pd(t):null):e={},e}function jd(e,t,n){return{duration:e,delay:t,easing:n}}function Vd(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class $d{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Ud=new RegExp(":enter","g"),Hd=new RegExp(":leave","g");function qd(e,t,n,r,i,s={},o={},a,l,c=[]){return(new Gd).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class Gd{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new $d;const h=new Yd(e,t,l,r,i,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),Ad(this,n,h);const u=h.timelines.filter(e=>e.containsAnimation());if(u.length&&Object.keys(o).length){const e=u[u.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,h.errors,a)}return u.length?u.map(e=>e.buildKeyframes()):[Vd(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?hd(n.duration):null,s=null!=n.delay?hd(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Ad(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wd);const e=hd(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Ad(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?hd(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),Ad(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return dd(t.params?xd(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?hd(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wd);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),Ad(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Ad(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Wd={};class Yd{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Zd(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=hd(n.duration)),null!=n.delay&&(r.delay=hd(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=xd(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new Yd(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Wd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Xd(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Ud,"."+this._enterClassName)).replace(Hd,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Zd{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]="*"})):fd(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=xd(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=fd(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):"*"==r&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?Sd(e.values()):[],s=t.size?Sd(t.values()):[];if(n){const e=r[0],t=pd(e);e.offset=0,t.offset=1,r=[e,t]}return Vd(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Xd extends Zd{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=fd(e[0],!1);a.offset=0,i.push(a);const l=fd(e[0],!1);l.offset=Kd(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=fd(e[r],!1);o.offset=Kd((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return Vd(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Kd(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Qd{}class Jd extends Qd{normalizePropertyName(e,t){return Cd(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(ep[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const ep=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tp(e,t,n,r,i,s,o,a,l,c,h,u,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const np={};class rp{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||np,d=this.buildStyles(n,o&&o.params||np,h),p=a&&a.params||np,f=this.buildStyles(r,p,h),m=new Set,g=new Map,v=new Map,y="void"===r,b={params:Object.assign(Object.assign({},u),p)},_=c?[]:qd(e,t,this.ast.animation,i,s,d,f,b,l,h);let w=0;if(_.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),h.length)return tp(t,this._triggerName,n,r,y,d,f,[],[],g,v,w,h);_.forEach(e=>{const n=e.element,r=Zu(g,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=Zu(v,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const x=Sd(m.values());return tp(t,this._triggerName,n,r,y,d,f,_,x,g,v,w)}}class ip{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=pd(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=xd(s,r,t)),n[e]=s})}}),n}}class sp{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new ip(e.style,e.options&&e.options.params||{})}),op(this.states,"true","1"),op(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new rp(e,t,this.states))}),this.fallbackTransition=new rp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function op(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const ap=new $d;class lp{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=Ld(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=qu(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=qd(this._driver,t,i,"ng-enter","ng-leave",{},{},n,ap,r),s.forEach(e=>{const t=Zu(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=Hu(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,r){const i=Yu(t,"","","");return Gu(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const cp=[],hp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},up={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class dp{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=pd(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const pp=new dp("void");class fp{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wp(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=Zu(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=Zu(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(wp(e,"ng-trigger"),wp(e,"ng-trigger-"+t),a[t]=pp),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new gp(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(wp(e,"ng-trigger"),wp(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new dp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=pp),"void"!==l.value&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{yd(e,n),vd(e,r)})}return}const c=Zu(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=i.matchTransition(a.value,l.value,e,l.params),u=!1;if(!h){if(!r)return;h=i.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(wp(e,"ng-animate-queued"),s.onStart(()=>{xp(e,"ng-animate-queued")})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Hu(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const r=t.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(e)[r]||pp,o=new dp("void"),a=new gp(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==hp||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){wp(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=Yu(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,Gu(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class mp{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new fp(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(vp(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!vp(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wp(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xp(e,"ng-animate-disabled"))}removeNode(e,t,n,r){if(vp(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return vp(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=hp,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wp(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Hu(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new $d,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=_p(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n="ng-enter"+f++;p.set(t,n),e.forEach(e=>wp(e,n))});const m=[],g=new Set,v=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const e=this.collectedLeaveElements[T],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):v.add(e))}const y=new Map,b=_p(u,Array.from(g));b.forEach((e,t)=>{const n="ng-leave"+f++;y.set(t,n),e.forEach(e=>wp(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>xp(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>xp(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const _=[],w=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(_.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,i),u=y.get(i),d=p.get(i),f=this._buildInstruction(e,n,d,u,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return t.onStart(()=>yd(i,f.fromStyles)),t.onDestroy(()=>vd(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>yd(i,f.fromStyles)),t.onDestroy(()=>vd(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>Zu(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),_.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,S=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Zu(x,t,[]).push(e),e.destroy()})});const k=m.filter(e=>kp(e,a,l)),C=new Map;bp(C,this.driver,v,l,"*").forEach(e=>{kp(e,a,l)&&k.push(e)});const E=new Map;d.forEach((e,t)=>{bp(E,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=C.get(e),n=E.get(e);C.set(e,Object.assign(Object.assign({},t),n))});const R=[],A=[],I={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>vd(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=I;if(S.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>S.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,x,i,E,C);if(s.setRealPlayer(n),e===I)R.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Hu(t)),r.push(s)}}else yd(t,o.fromStyles),s.onDestroy(()=>vd(t,o.toStyles)),A.push(s),c.has(t)&&r.push(s)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=Hu(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let T=0;T<m.length;T++){const e=m[T],t=e.__ng_removed;if(xp(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,".ng-animating",!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Sp(this,e,r):this.processLeaveNode(e)}return m.length=0,R.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),R}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||"void"==i;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=Zu(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}yd(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,u=t.timelines.map(t=>{const u=t.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new Vu(t.duration,t.delay);const p=u!==a,f=function(e){const t=[];return function e(t,n){for(let r=0;r<t.length;r++){const i=t[r];i instanceof $u?e(i.players,n):n.push(i)}}(e,t),t}((n.get(u)||cp).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===u),m=i.get(u),g=s.get(u),v=qu(0,this._normalizer,0,t.keyframes,m,g),y=this._buildPlayer(t,v,f);if(t.subTimeline&&r&&h.add(u),p){const t=new gp(e,o,u);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{Zu(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>wp(e,"ng-animating"));const d=Hu(u);return d.onDestroy(()=>{c.forEach(e=>xp(e,"ng-animating")),vd(a,t.toStyles)}),h.forEach(e=>{Zu(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Vu(e.duration,e.delay)}}class gp{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Vu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Gu(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zu(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vp(e){return e&&1===e.nodeType}function yp(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function bp(e,t,n,r,i){const s=[];n.forEach(e=>s.push(yp(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=up,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>yp(e,s[a++])),o}function _p(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=i.get(t);if(s)return s;const o=t.parentNode;return s=n.has(o)?o:r.has(o)?1:e(o),i.set(t,s),s}(e);1!==t&&n.get(t).push(e)}),n}function wp(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function xp(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Sp(e,t,n){Hu(n).onDone(()=>e.processLeaveNode(t))}function kp(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class Cp{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new mp(e,t,n),this._timelineEngine=new lp(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=Ld(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new sp(e,t)}(r,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=Xu(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=Xu(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ep(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=Ap(t[0]),t.length>1&&(r=Ap(t[t.length-1]))):t&&(n=Ap(t)),n||r?new Rp(e,n,r):null}let Rp=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&vd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vd(this._element,this._initialStyles),this._endStyles&&(vd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(yd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yd(this._element,this._endStyles),this._endStyles=null),vd(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Ap(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];Ip(i)&&(t=t||{},t[i]=e[i])}return t}function Ip(e){return"display"===e||"position"===e}class Tp{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Fp(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),Lp(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Pp(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Dp(this._element,this._name,"paused")}resume(){Dp(this._element,this._name,"running")}setPosition(e){const t=Op(this._element,this._name);this._position=e*this._duration,Lp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Pp(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Fp(e,"").split(","),r=Mp(n,t);r>=0&&(n.splice(r,1),Lp(e,"",n.join(",")))}(this._element,this._name))}}function Dp(e,t,n){Lp(e,"PlayState",n,Op(e,t))}function Op(e,t){const n=Fp(e,"");return n.indexOf(",")>0?Mp(n.split(","),t):Mp([n],t)}function Mp(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Pp(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Lp(e,t,n,r){const i="animation"+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function Fp(e,t){return e.style["animation"+t]}class Np{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Id(this.element,n))})}this.currentSnapshot=e}}class zp extends Vu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ad(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Bp{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return rd(e)}matchesElement(e,t){return id(e,t)}containsElement(e,t){return sd(e,t)}query(e,t,n){return od(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>ad(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(e,t,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof Np),l={};Ed(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Rd(e,t,l));if(0==n)return new zp(e,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,h,t);document.querySelector("head").appendChild(u);const d=Ep(e,t),p=new Np(e,t,h,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=u).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class jp{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Id(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Vp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($p().toString()),this._cssKeyframesDriver=new Bp}validateStyleProperty(e){return rd(e)}matchesElement(e,t){return id(e,t)}containsElement(e,t){return sd(e,t)}query(e,t,n){return od(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof jp);Ed(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=Ep(e,t=Rd(e,t=t.map(e=>fd(e,!1)),l));return new jp(e,t,a,h)}}function $p(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Up=(()=>{class e extends Iu{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Mu(e):e;return Gp(this._renderer,null,t,"register",[n]),new Hp(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Va),Ye(ah))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Hp extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qp(this._id,e,t||{},this._renderer)}}class qp{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Gp(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Gp(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}let Wp=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Yp("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Zp(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Ye(Va),Ye(Cp),Ye(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Yp{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Zp extends Yp{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Xp=(()=>{class e extends Cp{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(cd),Ye(Qd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Kp=new ze("AnimationModuleType"),Qp=[{provide:cd,useFactory:function(){return"function"==typeof $p()?new Vp:new Bp}},{provide:Kp,useValue:"BrowserAnimations"},{provide:Iu,useClass:Up},{provide:Qd,useFactory:function(){return new Jd}},{provide:Cp,useClass:Xp},{provide:Va,useFactory:function(e,t,n){return new Wp(e,t,n)},deps:[fu,Cp,Ic]}];let Jp=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:Qp,imports:[Au]}),e})();function ef(...e){let t=e[e.length-1];return C(t)?(e.pop(),L(e,t)):q(e)}function tf(e,t){return j(e,t,1)}function nf(e,t){return function(n){return n.lift(new rf(e,t))}}class rf{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new sf(e,this.predicate,this.thisArg))}}class sf extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class of{}class af{}class lf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cf{encodeKey(e){return hf(e)}encodeValue(e){return hf(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function hf(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class uf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new uf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function df(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function pf(e){return"undefined"!=typeof Blob&&e instanceof Blob}function ff(e){return"undefined"!=typeof FormData&&e instanceof FormData}class mf{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new lf),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new uf,this.urlWithParams=t}serializeBody(){return null===this.body?null:df(this.body)||pf(this.body)||ff(this.body)||"string"==typeof this.body?this.body:this.body instanceof uf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ff(this.body)?null:pf(this.body)?this.body.type||null:df(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new mf(t,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var gf=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class vf{constructor(e,t=200,n="OK"){this.headers=e.headers||new lf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class yf extends vf{constructor(e={}){super(e),this.type=gf.ResponseHeader}clone(e={}){return new yf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bf extends vf{constructor(e={}){super(e),this.type=gf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _f extends vf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wf(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let xf=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof mf)r=e;else{let i=void 0;i=n.headers instanceof lf?n.headers:new lf(n.headers);let s=void 0;n.params&&(s=n.params instanceof uf?n.params:new uf({fromObject:n.params})),r=new mf(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ef(r).pipe(tf(e=>this.handler.handle(e)));if(e instanceof mf||"events"===n.observe)return i;const s=i.pipe(nf(e=>e instanceof bf));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(E(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(E(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(E(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(E(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new uf).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,wf(n,t))}post(e,t,n={}){return this.request("POST",e,wf(n,t))}put(e,t,n={}){return this.request("PUT",e,wf(n,t))}}return e.\u0275fac=function(t){return new(t||e)(Ye(of))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Sf{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const kf=new ze("HTTP_INTERCEPTORS");let Cf=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Ef=/^\)\]\}',?\n/;class Rf{}let Af=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),If=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new lf(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new yf({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Ef,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new bf({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new _f({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new _f({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:gf.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},h=e=>{let n={type:gf.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",h)),n.send(r),t.next({type:gf.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Ye(Rf))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Tf=new ze("XSRF_COOKIE_NAME"),Df=new ze("XSRF_HEADER_NAME");class Of{}let Mf=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ah(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(fc),Ye(Tf))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Pf=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Of),Ye(Df))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Lf=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(kf,[]);this.chain=e.reduceRight((e,t)=>new Sf(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ye(af),Ye(lo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ff=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Pf,useClass:Cf}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Tf,useValue:t.cookieName}:[],t.headerName?{provide:Df,useValue:t.headerName}:[]]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[Pf,{provide:kf,useExisting:Pf,multi:!0},{provide:Of,useClass:Mf},{provide:Tf,useValue:"XSRF-TOKEN"},{provide:Df,useValue:"X-XSRF-TOKEN"}]}),e})(),Nf=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[xf,{provide:of,useClass:Lf},If,{provide:af,useExisting:If},Af,{provide:Rf,useExisting:Af}],imports:[[Ff.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();function zf(...e){if(1===e.length){const t=e[0];if(l(t))return Bf(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Bf(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Bf(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(E(e=>t(...e)))}return Bf(e,null)}function Bf(e,t){return new y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=F(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}const jf=new ze("NgValueAccessor"),Vf={provide:jf,useExisting:Se(()=>$f),multi:!0};let $f=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[La([Vf])]}),e})();const Uf={provide:jf,useExisting:Se(()=>qf),multi:!0},Hf=new ze("CompositionEventMode");let qf=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=oh()?oh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba),To(Hf,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Uo("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[La([Uf])]}),e})(),Gf=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})(),Wf=(()=>{class e extends Gf{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Yf(t||e)},e.\u0275dir=bt({type:e,features:[po]}),e})();const Yf=gr(Wf);class Zf extends Gf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Xf{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Kf=(()=>{class e extends Xf{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(To(Zf,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&la("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[po]}),e})(),Qf=(()=>{class e extends Xf{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(To(Wf,2))},e.\u0275dir=bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&la("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[po]}),e})();function Jf(e){return null==e||0===e.length}function em(e){return null!=e&&"number"==typeof e.length}const tm=new ze("NgValidators"),nm=new ze("NgAsyncValidators"),rm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class im{static min(e){return t=>{if(Jf(t.value)||Jf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Jf(t.value)||Jf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Jf(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Jf(e.value)||rm.test(e.value)?null:{email:!0}}static minLength(e){return t=>Jf(t.value)||!em(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>em(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return im.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Jf(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(sm);return 0==t.length?null:function(e){return am(lm(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(sm);return 0==t.length?null:function(e){return zf(lm(e,t).map(om)).pipe(E(am))}}}function sm(e){return null!=e}function om(e){const t=Vo(e)?F(e):e;return $o(t),t}function am(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function lm(e,t){return t.map(t=>t(e))}function cm(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}const hm={provide:jf,useExisting:Se(()=>um),multi:!0};let um=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[La([hm])]}),e})();const dm={provide:jf,useExisting:Se(()=>fm),multi:!0};let pm=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),fm=(()=>{class e{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Zf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba),To(pm),To(lo))},e.\u0275dir=bt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[La([dm])]}),e})();const mm={provide:jf,useExisting:Se(()=>gm),multi:!0};let gm=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[La([mm])]}),e})();const vm={provide:jf,useExisting:Se(()=>bm),multi:!0};function ym(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let bm=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ym(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[La([vm])]}),e})(),_m=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ym(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ua),To(bm,9))},e.\u0275dir=bt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const wm={provide:jf,useExisting:Se(()=>Sm),multi:!0};function xm(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Sm=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[La([wm])]}),e})(),km=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(xm(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ua),To(Sm,9))},e.\u0275dir=bt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Cm(e,t){return[...t.path,e]}function Em(e,t){e.validator=im.compose([e.validator,t.validator]),e.asyncValidator=im.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Rm(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Rm(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Rm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Am(e,t){e.validator=im.compose([e.validator,t.validator]),e.asyncValidator=im.composeAsync([e.asyncValidator,t.asyncValidator])}function Im(e){return null!=e?im.compose(cm(e)):null}function Tm(e){return null!=e?im.composeAsync(cm(e)):null}function Dm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}const Om=[$f,gm,um,bm,Sm,fm];function Mm(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Pm(e,t){if(!t)return null;Array.isArray(t);let n=void 0,r=void 0,i=void 0;return t.forEach(e=>{var t;e.constructor===qf?n=e:(t=e,Om.some(e=>t.constructor===e)?r=e:i=e)}),i||r||n||null}function Lm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Fm(e){return(jm(e)?e.validators:e)||null}function Nm(e){return Array.isArray(e)?Im(e):e||null}function zm(e,t){return(jm(t)?t.asyncValidators:e)||null}function Bm(e){return Array.isArray(e)?Tm(e):e||null}function jm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Vm{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Nm(this._rawValidators),this._composedAsyncValidatorFn=Bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Nm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bm(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const t=om(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof Um?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Hm&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new jl,this.statusChanges=new jl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class $m extends Vm{constructor(e=null,t,n){super(Fm(t),zm(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Um extends Vm{constructor(e,t,n){super(Fm(t),zm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof $m?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Hm extends Vm{constructor(e,t,n){super(Fm(t),zm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof $m?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const qm={provide:Wf,useExisting:Se(()=>Wm)},Gm=(()=>Promise.resolve(null))();let Wm=(()=>{class e extends Wf{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new jl,this.form=new Um({},Im(e),Tm(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gm.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Em(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gm.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Lm(this._directives,e)})}addFormGroup(e){Gm.then(()=>{const t=this._findContainer(e.path),n=new Um({});Am(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gm.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Gm.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Mm(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(To(tm,10),To(nm,10))},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Uo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[La([qm]),po]}),e})();const Ym={provide:Zf,useExisting:Se(()=>Xm)},Zm=(()=>Promise.resolve(null))();let Xm=(()=>{class e extends Zf{constructor(e,t,n,r){super(),this.control=new $m,this._registered=!1,this.update=new jl,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=Pm(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Dm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Cm(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Im(this._rawValidators)}get asyncValidator(){return Tm(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Em(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Zm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Zm.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(To(Wf,9),To(tm,10),To(nm,10),To(jf,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[La([Ym]),po,Ot]}),e})(),Km=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Qm=new ze("NgModelWithFormControlWarning"),Jm={provide:Wf,useExisting:Se(()=>eg)};let eg=(()=>{class e extends Wf{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new jl}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Em(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Lm(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Am(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Am(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Mm(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){const n=()=>{};t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Em(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=Im(this._validators);this.form.validator=im.compose([this.form.validator,e]);const t=Tm(this._asyncValidators);this.form.asyncValidator=im.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(To(tm,10),To(nm,10))},e.\u0275dir=bt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Uo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[La([Jm]),po,Ot]}),e})();const tg={provide:Zf,useExisting:Se(()=>ng)};let ng=(()=>{class e extends Zf{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new jl,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=Pm(0,r)}set isDisabled(e){}ngOnChanges(t){var n,r;this._added||this._setUpControl(),Dm(t,this.viewModel)&&(n=e,this,r=this._ngModelWarningConfig,Or()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Cm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Im(this._rawValidators)}get asyncValidator(){return Tm(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(To(Wf,13),To(tm,10),To(nm,10),To(jf,10),To(Qm,8))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[La([tg]),po,Ot]}),e._ngModelWarningSentOnce=!1,e})(),rg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),ig=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Um(n,{asyncValidators:i,updateOn:s,validators:r})}control(e,t,n){return new $m(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new Hm(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof $m||e instanceof Um||e instanceof Hm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),sg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[pm],imports:[rg]}),e})(),og=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Qm,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[ig,pm],imports:[rg]}),e})();class ag extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}class lg extends f{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class cg extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function hg(e,t,n,r,i=new cg(e,n,r)){if(!i.closed)return t instanceof y?t.subscribe(i):P(t)(i)}const ug={};function dg(...e){let t=void 0,n=void 0;return C(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),q(e,n).lift(new pg(t))}class pg{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new fg(e,this.resultSelector))}}class fg extends lg{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ug),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(hg(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===ug?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class mg extends u{constructor(e,t){super()}schedule(e,t=0){return this}}class gg extends mg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let vg=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class yg extends vg{constructor(e,t=vg.now){super(e,()=>yg.delegate&&yg.delegate!==this?yg.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return yg.delegate&&yg.delegate!==this?yg.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const bg=new yg(gg);function _g(e){return!l(e)&&e-parseFloat(e)+1>=0}function wg(e=0,t,n){let r=-1;return _g(t)?r=Number(t)<1?1:Number(t):C(t)&&(n=t),C(n)||(n=bg),new y(t=>{const i=_g(e)?e:+e-n.now();return n.schedule(xg,i,{index:0,period:r,subscriber:t})})}function xg(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Sg(){}function kg(e,t,n,i){return r(n)&&(i=n,n=void 0),i?kg(e,t,n).pipe(E(e=>l(e)?i(...e):i(e))):new y(r=>{!function e(t,n,r,i,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,s),o=()=>e.removeEventListener(n,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,r,i,s)}i.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)})}class Cg{call(e,t){return t.subscribe(new Eg(e))}}class Eg extends lg{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){const t=hg(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(t),this.add(t)}this.observables=null}}notifyNext(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}function Rg(){return H(1)}function Ag(...e){return Rg()(ef(...e))}function Ig(...e){const t=e[e.length-1];return C(t)?(e.pop(),n=>Ag(e,n,t)):t=>Ag(e,t)}class Tg{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Dg(e,this.compare,this.keySelector))}}class Dg extends f{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Og(e,t){return"function"==typeof t?n=>n.pipe(Og((n,r)=>F(e(n,r)).pipe(E((e,i)=>t(n,e,r,i))))):t=>t.lift(new Mg(e))}class Mg{constructor(e){this.project=e}call(e,t){return t.subscribe(new Pg(e,this.project))}}class Pg extends z{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new N(this),r=this.destination;r.add(n),this.innerSubscription=B(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function Lg(e){return t=>t.lift(new Fg(e))}class Fg{constructor(e){this.notifier=e}call(e,t){const n=new Ng(e),r=B(this.notifier,new N(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Ng extends z{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const zg=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),Bg=new y(e=>e.complete());function jg(e){return e?function(e){return new y(t=>e.schedule(()=>t.complete()))}(e):Bg}function Vg(e){return t=>0===e?jg():t.lift(new $g(e))}class $g{constructor(e){if(this.total=e,this.total<0)throw new zg}call(e,t){return t.subscribe(new Ug(e,this.total))}}class Ug extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Hg(e,t,n){return function(r){return r.lift(new qg(e,t,n))}}class qg{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Gg(e,this.nextOrObserver,this.error,this.complete))}}class Gg extends f{constructor(e,t,n,i){super(e),this._tapNext=Sg,this._tapError=Sg,this._tapComplete=Sg,this._tapError=n||Sg,this._tapComplete=i||Sg,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Sg,this._tapError=t.error||Sg,this._tapComplete=t.complete||Sg)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function Wg(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Yg(e,n))}}class Yg{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Zg(e,this.observables,this.project))}}class Zg extends lg{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(hg(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Xg(e,t){return new y(t?n=>t.schedule(Kg,0,{error:e,subscriber:n}):t=>t.error(e))}function Kg({error:e,subscriber:t}){t.error(e)}let Qg=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return ef(this.value);case"E":return Xg(this.error);case"C":return jg()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function Jg(e,t=bg){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new ev(r,t))}class ev{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new tv(e,this.delay,this.scheduler))}}class tv extends f{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(tv.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new nv(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Qg.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Qg.createComplete()),this.unsubscribe()}}class nv{constructor(e,t){this.time=e,this.notification=t}}const rv=["*"],iv=["dialog"];function sv(e){return null!=e}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let ov=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),av=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),lv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),cv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),hv=(()=>{class e{constructor(){this.collapsed=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(e,t){2&e&&la("collapse",!0)("show",!t.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),e})(),uv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const dv=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}(),pv=(e,t)=>!!t&&t.some(t=>t.contains(e)),fv=(e,t)=>!t||null!=function(e,t){return t?e.closest(t):null}(e,t),mv=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))(),gv=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vv(e){const t=Array.from(e.querySelectorAll(gv)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}class yv{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(r=this.offset(t,!1)),r.top+=t.clientTop,r.left+=t.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(e,!1):this.position(e,!1),a=this.getAllStyles(t),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),h=parseFloat(a.marginLeft),u=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=o.top-(t.offsetHeight+l+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(t.offsetWidth+h+u);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-t.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-t.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=o.left+o.width/2-t.offsetWidth/2:d=o.top+o.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=t.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,v=window.innerWidth||m.clientWidth;return f.left>=0&&f.top>=0&&f.right<=v&&f.bottom<=g}}const bv=/\s+/,_v=new yv;let wv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,sg]]}),e})(),xv=(()=>{class e{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Sv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["",8,"navbar"]]}),e})(),kv=(()=>{class e{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return e.\u0275fac=function(t){return new(t||e)(To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,t){2&e&&la("disabled",t.disabled)},inputs:{disabled:"disabled"}}),e})(),Cv=(()=>{class e{constructor(e){this.dropdown=e,this.placement="bottom",this.isOpen=!1}}return e.\u0275fac=function(t){return new(t||e)(To(Se(()=>Av)))},e.\u0275dir=bt({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,n){if(1&e&&tc(n,kv,!1),2&e){let e;Kl(e=ic())&&(t.menuItems=e)}},hostVars:5,hostBindings:function(e,t){1&e&&Uo("keydown.ArrowUp",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.ArrowDown",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Home",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.End",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Enter",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Space",(function(e){return t.dropdown.onKeyDown(e)})),2&e&&(Eo("x-placement",t.placement),la("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),e})(),Ev=(()=>{class e{constructor(e,t){this.dropdown=e,this._elementRef=t,this.anchorEl=t.nativeElement}getNativeElement(){return this._elementRef.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(To(Se(()=>Av)),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&Eo("aria-expanded",t.dropdown.isOpen())}}),e})(),Rv=(()=>{class e extends Ev{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(To(Se(()=>Av)),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&Uo("click",(function(){return t.dropdown.toggle()}))("keydown.ArrowUp",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.ArrowDown",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Home",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.End",(function(e){return t.dropdown.onKeyDown(e)})),2&e&&Eo("aria-expanded",t.dropdown.isOpen())},features:[La([{provide:Ev,useExisting:Se(()=>e)}]),po]}),e})(),Av=(()=>{class e{constructor(e,t,n,r,i,s,o){this._changeDetector=e,this._document=n,this._ngZone=r,this._elementRef=i,this._renderer=s,this._closed$=new S,this._open=!1,this.openChange=new jl,this.placement=t.placement,this.container=t.container,this.autoClose=t.autoClose,this.display=o?"static":"dynamic",this._zoneSubscription=r.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())}_setCloseHandlers(){const e=this._anchor;!function(e,t,n,r,i,s,o,a){var c;n&&e.runOutsideAngular((c=()=>{const a=kg(t,"keydown").pipe(Lg(i),nf(e=>e.which===dv.Escape),Hg(e=>e.preventDefault())),c=kg(t,"mousedown").pipe(E(e=>{const t=e.target;return 2!==e.button&&!pv(t,o)&&("inside"===n?pv(t,s)&&fv(t,".dropdown-item,.dropdown-divider"):"outside"===n?!pv(t,s):fv(t,".dropdown-item,.dropdown-divider")||!pv(t,s))}),Lg(i));(function(...e){if(1===e.length){if(!l(e[0]))return e[0];e=e[0]}return q(e,void 0).lift(new Cg)})([a,kg(t,"mouseup").pipe(Wg(c),nf(([e,t])=>t),Jg(0),Lg(i))]).subscribe(()=>e.run(r))},mv?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this._closed$,this._menu?[this._menuElement.nativeElement]:[],e?[e.getNativeElement()]:[])}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const t=e.which,n=this._getMenuElements();let r=-1,i=!1,s=null;const o=this._isEventFromToggle(e);if(!o&&n.length&&n.forEach((t,n)=>{t.contains(e.target)&&(i=!0,s=t),t===this._document.activeElement&&(r=n)}),t!==dv.Space&&t!==dv.Enter){if(o||i){if(this.open(),n.length){switch(t){case dv.ArrowDown:r=Math.min(r+1,n.length-1);break;case dv.ArrowUp:if(this._isDropup()&&-1===r){r=n.length-1;break}r=Math.max(r-1,0);break;case dv.Home:r=0;break;case dv.End:r=n.length-1}n[r].focus()}e.preventDefault()}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||kg(s,"click").pipe(Vg(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.getNativeElement().contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(e=>!e.disabled).map(e=>e.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function(e,t,n,r,i){let s=Array.isArray(n)?n:n.split(bv);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e=>{const[t,n]=e.split("-"),r=[];return r};let l=s.findIndex(e=>"auto"===e);l>=0&&o.forEach((function(e){null==s.find(t=>-1!==t.search("^"+e))&&s.splice(l++,1,e)}));const c=t.style;let h;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let u=!1;for(h of s){a(h);if(_v.positionElements(e,t,h,r)){u=!0;break}}return u||(h=s[0],a(h),_v.positionElements(e,t,h,r)),h}(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer,t=this._menuElement;if(t){const n=t.nativeElement;e.appendChild(this._elementRef.nativeElement,n),e.removeStyle(n,"position"),e.removeStyle(n,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const e=this._renderer,t=this._menuElement.nativeElement,n=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(n,"position","absolute"),e.setStyle(t,"position","static"),e.setStyle(n,"z-index","1050"),e.appendChild(n,t),e.appendChild(this._document.body,n)}}_applyPlacementClasses(e){const t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));const n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),t.placement="static"===this.display?null:e;const i=-1!==e.search("^top")?"dropup":"dropdown";n.addClass(r,i);const s=this._bodyContainer;s&&(n.removeClass(s,"dropup"),n.removeClass(s,"dropdown"),n.addClass(s,i))}}}return e.\u0275fac=function(t){return new(t||e)(To(qs),To(xv),To(ah),To(Ic),To(Ba),To(Ua),To(Sv,8))},e.\u0275dir=bt({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,n){if(1&e&&(tc(n,Cv,!0),tc(n,Cv,!0,Ba),tc(n,Ev,!0)),2&e){let e;Kl(e=ic())&&(t._menu=e.first),Kl(e=ic())&&(t._menuElement=e.first),Kl(e=ic())&&(t._anchor=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&la("show",t.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Ot]}),e})(),Iv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),Tv=(()=>{class e{constructor(){this.backdrop=!0,this.keyboard=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Dv{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const Ov=()=>{};let Mv=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Ov}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=r+e+"px",()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e(Ye(ah))},token:e,providedIn:"root"}),e})(),Pv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,t){2&e&&ca("modal-backdrop fade show"+(t.backdropClass?" "+t.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class Lv{close(e){}dismiss(e){}}class Fv{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const Nv=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}();let zv=(()=>{class e{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new S,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new jl}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{kg(e,"keydown").pipe(Lg(this._closed$),nf(e=>e.which===dv.Escape&&this.keyboard)).subscribe(e=>requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(Nv.ESC))}));let t=!1;kg(this._dialogEl.nativeElement,"mousedown").pipe(Lg(this._closed$),Hg(()=>t=!1),Og(()=>kg(e,"mouseup").pipe(Lg(this._closed$),Vg(1))),nf(({target:t})=>e===t)).subscribe(()=>{t=!0}),kg(e,"click").pipe(Lg(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||e!==n||t||this._zone.run(()=>this.dismiss(Nv.BACKDROP_CLICK)),t=!1})}),!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=vv(e)[0];(t||n||e).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}}return e.\u0275fac=function(t){return new(t||e)(To(ah),To(Ba),To(Ic))},e.\u0275cmp=pt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){if(1&e&&Ql(iv,!0),2&e){let e;Kl(e=ic())&&(t._dialogEl=e.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(e,t){2&e&&(Eo("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy),ca("modal fade show d-block"+(t.windowClass?" "+t.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(Xo(),Po(0,"div",0,1),Po(2,"div",2),Ko(3),Lo(),Lo()),2&e&&ca("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),Bv=(()=>{class e{constructor(e,t,n,r,i,s){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=s,this._activeWindowCmptHasChanged=new S,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=kg(t,"focusin").pipe(Lg(n),E(e=>e.target));kg(t,"keydown").pipe(Lg(n),nf(e=>e.which===dv.Tab),Wg(e)).subscribe(([e,n])=>{const[r,i]=vv(t);n!==r&&n!==t||!e.shiftKey||(i.focus(),e.preventDefault()),n!==i||e.shiftKey||(r.focus(),e.preventDefault())}),r&&kg(t,"click").pipe(Lg(n),Wg(e),E(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const i=r.container instanceof HTMLElement?r.container:sv(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const l=new Lv,c=this._getContentRef(e,r.injector||t,n,l,r);let h=!1!==r.backdrop?this._attachBackdrop(e,i):null,u=this._attachWindowComponent(e,i,c),d=new Fv(u,c,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.result.then(o,o),d.result.then(a,a),l.close=e=>{d.close(e)},l.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(u.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(Pv).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(zv).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{sv(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{sv(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,r,i){return n?n instanceof cl?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new Dv([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Dv([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(""+e);return new Dv([[t]])}_createFromComponent(e,t,n,r,i){const s=e.resolveComponentFactory(n),o=lo.create({providers:[{provide:Lv,useValue:r}],parent:t}),a=s.create(o),l=a.location.nativeElement;return i.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Dv([[l]],a.hostView,a)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(Ye(Yc),Ye(lo),Ye(ah),Ye(Mv),Ye(Va),Ye(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e(Ye(Yc),Ye(Be),Ye(ah),Ye(Mv),Ye(Va),Ye(Ic))},token:e,providedIn:"root"}),e})(),jv=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(Ye(za),Ye(lo),Ye(Bv),Ye(Tv))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e(Ye(za),Ye(Be),Ye(Bv),Ye(Tv))},token:e,providedIn:"root"}),e})(),Vv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[jv]}),e})(),$v=(()=>{class e{constructor(){this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Uv=e=>sv(e)&&""!==e;let Hv=0,qv=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["ng-template","ngbNavContent",""]]}),e})(),Gv=(()=>{class e{constructor(e,t){this.elementRef=t,this.disabled=!1,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){sv(this.domId)||(this.domId="ngb-nav-"+Hv++)}get active(){return this._nav.activeId===this.id}get id(){return Uv(this._id)?this._id:this.domId}get panelDomId(){return this.domId+"-panel"}isPanelInDom(){return(sv(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return e.\u0275fac=function(t){return new(t||e)(To(Se(()=>Wv)),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(e,t,n){if(1&e&&tc(n,qv,!1),2&e){let e;Kl(e=ic())&&(t.contentTpls=e)}},hostVars:2,hostBindings:function(e,t){2&e&&la("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},exportAs:["ngbNavItem"]}),e})(),Wv=(()=>{class e{constructor(e,t,n){this.role=e,this._cd=n,this.activeIdChange=new jl,this.navChange=new jl,this.destroyOnHide=t.destroyOnHide,this.orientation=t.orientation,this.roles=t.roles}click(e){e.disabled||this._updateActiveId(e.id)}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!sv(this.activeId)){const e=this.items.first?this.items.first.id:null;Uv(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}}_updateActiveId(e,t=!0){if(this.activeId!==e){let n=!1;t&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{n=!0}}),n||(this.activeId=e,this.activeIdChange.emit(e))}}}return e.\u0275fac=function(t){return new(t||e)(Do("role"),To($v),To(qs))},e.\u0275dir=bt({type:e,selectors:[["","ngbNav",""]],contentQueries:function(e,t,n){if(1&e&&tc(n,Gv,!1),2&e){let e;Kl(e=ic())&&(t.items=e)}},hostVars:6,hostBindings:function(e,t){2&e&&(Eo("aria-orientation","vertical"===t.orientation&&"tablist"===t.roles?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),la("nav",!0)("flex-column","vertical"===t.orientation))},inputs:{destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",navChange:"navChange"},exportAs:["ngbNav"]}),e})(),Yv=(()=>{class e{constructor(e,t,n){this.role=e,this.navItem=t,this.nav=n}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(Do("role"),To(Gv),To(Wv))},e.\u0275dir=bt({type:e,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.nav.click(t.navItem),e.preventDefault()})),2&e&&(Ea("id",t.navItem.domId),Eo("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.navItem.disabled?-1:void 0)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),la("nav-link",!0)("nav-item",t.hasNavItemClass())("active",t.navItem.active)("disabled",t.navItem.disabled))}}),e})(),Zv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),Xv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),Kv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),Qv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),Jv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),ey=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,Zv]]}),e})(),ty=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),ny=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),ry=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),iy=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})();const sy=[ov,av,lv,cv,uv,wv,Iv,Vv,Zv,Xv,Kv,Qv,Jv,ey,ty,ny,ry,iy];let oy=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[sy,ov,av,lv,cv,uv,wv,Iv,Vv,Zv,Xv,Kv,Qv,Jv,ey,ty,ny,ry,iy]}),e})();const ay=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function ly(e){return new y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?F(n):jg()).subscribe(t)})}function cy(e){return function(t){return 0===e?jg():t.lift(new hy(e))}}class hy{constructor(e){if(this.total=e,this.total<0)throw new zg}call(e,t){return t.subscribe(new uy(e,this.total))}}class uy extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function dy(e=my){return t=>t.lift(new py(e))}class py{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new fy(e,this.errorFactory))}}class fy extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function my(){return new ay}function gy(e=null){return t=>t.lift(new vy(e))}class vy{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new yy(e,this.defaultValue))}}class yy extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function by(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _y(e,t,n))}}class _y{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new wy(e,this.accumulator,this.seed,this.hasSeed))}}class wy extends f{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function xy(e){return function(t){const n=new Sy(e),r=t.lift(n);return n.caught=r}}class Sy{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ky(e,this.selector,this.caught))}}class ky extends z{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new N(this);this.add(r);const i=B(n,r);i!==r&&this.add(i)}}}function Cy(e,t){const n=arguments.length>=2;return r=>r.pipe(e?nf((t,n)=>e(t,n,r)):v,Vg(1),n?gy(t):dy(()=>new ay))}function Ey(e){return t=>t.lift(new Ry(e))}class Ry{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ay(e,this.callback))}}class Ay extends f{constructor(e,t){super(e),this.add(new u(t))}}class Iy{constructor(e,t){this.id=e,this.url=t}}class Ty extends Iy{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dy extends Iy{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oy extends Iy{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class My extends Iy{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Py extends Iy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ly extends Iy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fy extends Iy{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ny extends Iy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zy extends Iy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class By{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vy{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hy{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qy{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wy(e){return new Gy(e)}function Yy(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Zy(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Xy(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ky(e[i],t[i]))return!1;return!0}function Ky(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Qy(e){return Array.prototype.concat.apply([],e)}function Jy(e){return e.length>0?e[e.length-1]:null}function eb(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function tb(e){return $o(e)?e:Vo(e)?F(Promise.resolve(e)):ef(e)}function nb(e,t,n){return n?function(e,t){return Xy(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!ob(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ky(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!ob(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ob(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!ob(n.segments,e)&&!!n.children.primary&&t(n.children.primary,r,s)}}(t,n,n.segments)}(e.root,t.root)}class rb{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wy(this.queryParams)),this._queryParamMap}toString(){return hb.serialize(this)}}class ib{constructor(e,t){this.segments=e,this.children=t,this.parent=null,eb(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ub(this)}}class sb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wy(this.parameters)),this._parameterMap}toString(){return vb(this)}}function ob(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function ab(e,t){let n=[];return eb(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),eb(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class lb{}class cb{parse(e){const t=new xb(e);return new rb(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return ub(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return eb(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ab(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ub(t)}/${n[0]}`:`${ub(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${pb(t)}=${pb(e)}`).join("&"):`${pb(t)}=${pb(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const hb=new cb;function ub(e){return e.segments.map(e=>vb(e)).join("/")}function db(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pb(e){return db(e).replace(/%3B/gi,";")}function fb(e){return db(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mb(e){return decodeURIComponent(e)}function gb(e){return mb(e.replace(/\+/g,"%20"))}function vb(e){return`${fb(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${fb(e)}=${fb(t[e])}`).join("")}`;var t}const yb=/^[^\/()?;=#]+/;function bb(e){const t=e.match(yb);return t?t[0]:""}const _b=/^[^=?&#]+/,wb=/^[^?&#]+/;class xb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ib([],{}):new ib([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new ib(e,t)),n}parseSegment(){const e=bb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new sb(mb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bb(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=bb(this.remaining);e&&(n=e,this.capture(n))}e[mb(t)]=mb(n)}parseQueryParam(e){const t=function(e){const t=e.match(_b);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(wb);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=gb(t),i=gb(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bb(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new ib([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Sb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kb(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=kb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Cb(e,this._root).map(e=>e.value)}}function kb(e,t){if(e===t.value)return t;for(const n of t.children){const t=kb(e,n);if(t)return t}return null}function Cb(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Cb(e,n);if(r.length)return r.unshift(t),r}return[]}class Eb{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rb(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ab extends Sb{constructor(e,t){super(e),this.snapshot=t,Pb(this,e)}toString(){return this.snapshot.toString()}}function Ib(e,t){const n=function(e,t){const n=new Ob([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Mb("",new Eb(n,[]))}(e,t),r=new ag([new sb("",{})]),i=new ag({}),s=new ag({}),o=new ag({}),a=new ag(""),l=new Tb(r,i,o,a,s,"primary",t,n.root);return l.snapshot=n.root,new Ab(new Eb(l,[]),n)}class Tb{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(e=>Wy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(e=>Wy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Db(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ob{constructor(e,t,n,r,i,s,o,a,l,c,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mb extends Sb{constructor(e,t){super(t),this.url=e,Pb(this,t)}toString(){return Lb(this._root)}}function Pb(e,t){t.value._routerState=e,t.children.forEach(t=>Pb(e,t))}function Lb(e){const t=e.children.length>0?` { ${e.children.map(Lb).join(", ")} } `:"";return`${e.value}${t}`}function Fb(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Xy(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Xy(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Xy(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Xy(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Nb(e,t){var n,r;return Xy(e.params,t.params)&&ob(n=e.url,r=t.url)&&n.every((e,t)=>Xy(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Nb(e.parent,t.parent))}function zb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Bb(e,t,n,r,i){let s={};return r&&eb(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new rb(n.root===e?t:function e(t,n,r){const i={};return eb(t.children,(t,s)=>{i[s]=t===n?r:e(t,n,r)}),new ib(t.segments,i)}(n.root,e,t),s,i)}class jb{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&zb(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Jy(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vb{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function $b(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Ub(e,t,n){if(e||(e=new ib([],{})),0===e.segments.length&&e.hasChildren())return Hb(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=$b(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Yb(o,a,t))return s;r+=2}else{if(!Yb(o,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new ib(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new ib(e.segments.slice(r.pathIndex),e.children),Hb(t,0,i)}return r.match&&0===i.length?new ib(e.segments,{}):r.match&&!e.hasChildren()?qb(e,t,n):r.match?Hb(e,0,i):qb(e,t,n)}function Hb(e,t,n){if(0===n.length)return new ib(e.segments,{});{const r=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(n),i={};return eb(r,(n,r)=>{null!==n&&(i[r]=Ub(e.children[r],t,n))}),eb(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new ib(e.segments,i)}}function qb(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const e=Gb(n[i].outlets);return new ib(r,e)}if(0===i&&zb(n[0])){r.push(new sb(e.segments[t].path,n[0])),i++;continue}const s=$b(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&zb(o)?(r.push(new sb(s,Wb(o))),i+=2):(r.push(new sb(s,{})),i++)}return new ib(r,{})}function Gb(e){const t={};return eb(e,(e,n)=>{null!==e&&(t[n]=qb(new ib([],{}),0,e))}),t}function Wb(e){const t={};return eb(e,(e,n)=>t[n]=""+e),t}function Yb(e,t,n){return e==n.path&&Xy(t,n.parameters)}class Zb{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Fb(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Rb(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),eb(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=Rb(e),i=e.value.component?n.children:t;eb(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=Rb(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Hy(e.value.snapshot))}),e.children.length&&this.forwardEvent(new $y(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Fb(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Xb(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Xb(e){Fb(e.value),e.children.forEach(Xb)}class Kb{constructor(e,t){this.routes=e,this.module=t}}function Qb(e){return"function"==typeof e}function Jb(e){return e instanceof rb}const e_=Symbol("INITIAL_VALUE");function t_(){return Og(e=>dg(...e.map(e=>e.pipe(Vg(1),Ig(e_)))).pipe(by((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==e_)return e;if(r===e_&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Jb(r))return r}return e},e)},e_),nf(e=>e!==e_),E(e=>Jb(e)?e:!0===e),Vg(1)))}let n_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Fo(0,"router-outlet")},directives:function(){return[K_]},encapsulation:2}),e})();function r_(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];i_(r,s_(t,r))}}function i_(e,t){e.children&&r_(e.children,t)}function s_(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function o_(e){const t=e.children&&e.children.map(o_),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=n_),n}function a_(e){return e.outlet||"primary"}class l_{constructor(e){this.segmentGroup=e||null}}class c_{constructor(e){this.urlTree=e}}function h_(e){return new y(t=>t.error(new l_(e)))}function u_(e){return new y(t=>t.error(new c_(e)))}function d_(e){return new y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class p_{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(E(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(xy(e=>{if(e instanceof c_)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof l_)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(E(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(xy(e=>{if(e instanceof l_)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new ib([],{primary:e}):e;return new rb(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(E(e=>new ib([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return ef({});const n=[],r=[],i={};return eb(e,(e,s)=>{const o=t(s,e).pipe(E(e=>i[s]=e));"primary"===s?n.push(o):r.push(o)}),ef.apply(null,n.concat(r)).pipe(Rg(),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?nf((t,n)=>e(t,n,r)):v,cy(1),n?gy(t):dy(()=>new ay))}(),E(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,s){const o=function(e){return e.reduce((e,t)=>{const n=a_(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>F(n).pipe(tf(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(xy(e=>{if(e instanceof l_)return ef(null);throw e}))),Cy(e=>null!==e),xy(e=>{if(e instanceof ay||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return ef(new ib([],{}));throw new l_(t)}throw e}));return F(Array.from(o.entries()).map(([e,t])=>{const n=a(t);return e===i?n:n.pipe(E(()=>null),xy(()=>ef(null)))})).pipe(e=>e.lift(new pg(void 0)),Cy(),E(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return a_(r)!==s&&""!==r.path?h_(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):h_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?u_(i):this.lineralizeSegments(n,i).pipe(j(n=>{const i=new ib(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=f_(t,r,i);if(!o)return h_(t);const h=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?u_(h):this.lineralizeSegments(r,h).pipe(j(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(E(e=>(n._loadedConfig=e,new ib(r,{})))):ef(new ib(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=f_(t,n,r);if(!i)return h_(t);const a=r.slice(o);return this.getChildConfig(e,n,r).pipe(j(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:o}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>g_(e,t,n)&&"primary"!==a_(n))}(e,n,r)?{segmentGroup:m_(new ib(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==a_(r)&&(n[a_(r)]=new ib([],{}));return n}(r,new ib(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>g_(e,t,n))}(e,n,r)?{segmentGroup:m_(new ib(e.segments,function(e,t,n,r){const i={};for(const s of n)g_(e,t,s)&&!r[a_(s)]&&(i[a_(s)]=new ib([],{}));return Object.assign(Object.assign({},r),i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(E(e=>new ib(s,e))):0===r.length&&0===o.length?ef(new ib(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(E(e=>new ib(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?ef(new Kb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ef(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(j(n=>n?this.configLoader.load(e.injector,t).pipe(E(e=>(t._loadedConfig=e,e))):function(e){return new y(t=>t.error(Yy(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):ef(new Kb([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?ef(r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Qb(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Qb(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return tb(s)})).pipe(t_(),Hg(e=>{if(!Jb(e))return;const t=Yy(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),E(e=>!0===e)):ef(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ef(n);if(r.numberOfChildren>1||!r.children.primary)return d_(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new rb(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return eb(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return eb(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new ib(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function f_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Zy)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function m_(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new ib(e.segments.concat(t.segments),t.children)}return e}function g_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class v_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class y_{constructor(e,t){this.component=e,this.route=t}}function b_(e,t,n){const r=e._root;return function e(t,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rb(n);return t.children.forEach(t=>{!function(t,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ob(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ob(e.url,t.url)||!Xy(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nb(e,t)||!Xy(e.queryParams,t.queryParams);case"paramsChange":default:return!Nb(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new v_(i)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?l?l.children:null:r,i,s),c&&s.canDeactivateChecks.push(new y_(l&&l.outlet&&l.outlet.component||null,a))}else a&&w_(n,l,s),s.canActivateChecks.push(new v_(i)),e(t,null,o.component?l?l.children:null:r,i,s)}(t,o[t.value.outlet],r,i.concat([t.value]),s),delete o[t.value.outlet]}),eb(o,(e,t)=>w_(e,r.getContext(t),s)),s}(r,t?t._root:null,n,[r.value])}function __(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function w_(e,t,n){const r=Rb(e),i=e.value;eb(r,(e,r)=>{w_(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new y_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function x_(e,t){return null!==e&&t&&t(new Uy(e)),ef(!0)}function S_(e,t){return null!==e&&t&&t(new Vy(e)),ef(!0)}function k_(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?ef(r.map(r=>ly(()=>{const i=__(r,t,n);let s;if(function(e){return e&&Qb(e.canActivate)}(i))s=tb(i.canActivate(t,e));else{if(!Qb(i))throw new Error("Invalid CanActivate guard");s=tb(i(t,e))}return s.pipe(Cy())}))).pipe(t_()):ef(!0)}function C_(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>ly(()=>ef(t.guards.map(i=>{const s=__(i,t.node,n);let o;if(function(e){return e&&Qb(e.canActivateChild)}(s))o=tb(s.canActivateChild(r,e));else{if(!Qb(s))throw new Error("Invalid CanActivateChild guard");o=tb(s(r,e))}return o.pipe(Cy())})).pipe(t_())));return ef(i).pipe(t_())}class E_{}class R_{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=T_(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Ob([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Eb(n,t),i=new Mb(this.url,r);return this.inheritParamsAndData(i._root),ef(i)}catch(e){return new y(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Db(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=ab(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(i){if(!(i instanceof E_))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new E_}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new E_;if((e.outlet||"primary")!==r)throw new E_;let i,s=[],o=[];if("**"===e.path){const s=n.length>0?Jy(n).parameters:{};i=new Ob(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M_(e),r,e.component,e,A_(t),I_(t)+n.length,P_(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new E_;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Zy)(n,e,t);if(!r)throw new E_;const i={};eb(r.posParams,(e,t)=>{i[t]=e.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ob(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M_(e),r,e.component,e,A_(t),I_(t)+s.length,P_(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=T_(t,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Eb(i,e)]}if(0===a.length&&0===c.length)return[new Eb(i,[])];const h=this.processSegment(a,l,c,"primary");return[new Eb(i,h)]}}function A_(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function I_(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function T_(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>D_(e,t,n)&&"primary"!==O_(n))}(e,n,r)){const i=new ib(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&"primary"!==O_(s)){const n=new ib([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[O_(s)]=n}return i}(e,t,r,new ib(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>D_(e,t,n))}(e,n,r)){const s=new ib(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(D_(e,n,a)&&!i[O_(a)]){const n=new ib([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[O_(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new ib(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function D_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function O_(e){return e.outlet||"primary"}function M_(e){return e.data||{}}function P_(e){return e.resolve||{}}function L_(e){return function(t){return t.pipe(Og(t=>{const n=e(t);return n?F(n).pipe(E(()=>t)):F([t])}))}}class F_{}class N_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const z_=new ze("ROUTES");class B_{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Kb(Qy(r.injector.get(z_)).map(o_),r)}))}loadModuleFactory(e){return"string"==typeof e?F(this.loader.load(e)):tb(e()).pipe(j(e=>e instanceof et?ef(e):F(this.compiler.compileModuleAsync(e))))}}class j_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new V_,this.attachRef=null}}class V_{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new j_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class $_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function U_(e){throw e}function H_(e,t,n){return t.parse("/")}function q_(e,t){return ef(null)}let G_=(()=>{class e{constructor(e,t,n,r,i,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=U_,this.malformedUriErrorHandler=H_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:q_,afterPreactivation:q_},this.urlHandlingStrategy=new $_,this.routeReuseStrategy=new N_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(Je),this.console=i.get(gc);const l=i.get(Ic);this.isNgZoneEnabled=l instanceof Ic,this.resetConfig(a),this.currentUrlTree=new rb(new ib([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new B_(s,o,e=>this.triggerEvent(new By(e)),e=>this.triggerEvent(new jy(e))),this.routerState=Ib(this.currentUrlTree,this.rootComponentType),this.transitions=new ag({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(nf(e=>0!==e.id),E(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Og(e=>{let n=!1,r=!1;return ef(e).pipe(Hg(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Og(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ef(e).pipe(Og(e=>{const n=this.transitions.getValue();return t.next(new Ty(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Bg:[e]}),Og(e=>Promise.resolve(e)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(e){return e.pipe(Og(e=>function(e,t,n,r,i){return new p_(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe(E(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Hg(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(s){return s.pipe(j(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){return new R_(e,t,n,r,i,s).recognize()}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(E(e=>Object.assign(Object.assign({},s),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Hg(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Hg(e=>{const n=new Py(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Ty(n,this.serializeUrl(r),i,s);t.next(a);const l=Ib(r,this.rootComponentType).snapshot;return ef(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Bg}),L_(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Hg(e=>{const t=new Ly(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),E(e=>Object.assign(Object.assign({},e),{guards:b_(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(j(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ef(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return F(e).pipe(j(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ef(s.map(s=>{const o=__(s,t,i);let a;if(function(e){return e&&Qb(e.canDeactivate)}(o))a=tb(o.canDeactivate(e,t,n,r));else{if(!Qb(o))throw new Error("Invalid CanDeactivate guard");a=tb(o(e,t,n,r))}return a.pipe(Cy())})).pipe(t_()):ef(!0)}(e.component,e.route,n,t,r)),Cy(e=>!0!==e,!0))}(o,r,i,e).pipe(j(n=>n&&"boolean"==typeof n?function(e,t,n,r){return F(t).pipe(tf(t=>F([S_(t.route.parent,r),x_(t.route,r),C_(e,t.path,n),k_(e,t.route,n)]).pipe(Rg(),Cy(e=>!0!==e,!0))),Cy(e=>!0!==e,!0))}(r,s,e,t):ef(n)),E(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Hg(e=>{if(Jb(e.guardsResult)){const t=Yy(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Hg(e=>{const t=new Fy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),nf(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),L_(e=>{if(e.guards.canActivateChecks.length)return ef(e).pipe(Hg(e=>{const t=new Ny(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Og(e=>{let n=!1;return ef(e).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(e){return e.pipe(j(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return ef(e);let s=0;return F(n).pipe(tf(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return ef({});const s={};return F(i).pipe(j(i=>function(e,t,n,r){const i=__(e,t,r);return tb(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(Hg(e=>{s[i]=e}))),cy(1),j(()=>Object.keys(s).length===i.length?ef(s):Bg))}(e._resolve,e,t,r).pipe(E(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Db(e,n).resolve),null)))}(e.route,t,r,i)),Hg(()=>s++),cy(1),j(t=>s===n.length?ef(e):Bg))}))}),Hg({next:()=>n=!0,complete:()=>{if(!n){const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var r,i}),Hg(e=>{const t=new zy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),L_(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),E(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return e(t,n,i);return e(t,n)})}(t,n,r);return new Eb(i,s)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Tb(new ag((i=n.value).url),new ag(i.params),new ag(i.queryParams),new ag(i.fragment),new ag(i.data),i.outlet,i.component,i),s=n.children.map(n=>e(t,n));return new Eb(r,s)}}var i}(e,t._root,n?n._root:void 0);return new Ab(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Hg(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),E(e=>(new Zb(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),Hg({next(){n=!0},complete(){n=!0}}),Ey(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),xy(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jb(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Oy(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new My(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return Bg}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){r_(e),this.config=e.map(o_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t,l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Bb(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new jb(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return eb(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new jb(n,t,r)}(n);if(s.toRoot())return Bb(t.root,new ib([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Vb(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Vb(e,e===t.root,0)}const r=zb(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vb(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Hb(o.segmentGroup,o.index,s.commands):Ub(o.segmentGroup,o.index,s.commands);return Bb(o.segmentGroup,a,t,r,i)}(l,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Jb(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Jb(e))return nb(this.currentUrlTree,e,t);const n=this.parseUrl(e);return nb(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Dy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let l,c,h;i?(l=i.resolve,c=i.reject,h=i.promise):h=new Promise((e,t)=>{l=e,c=t});const u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ws),Ye(lb),Ye(V_),Ye(xh),Ye(lo),Ye(Xc),Ye(Ec),Ye(void 0))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),W_=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new S,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){this.preserve=e}onClick(){const e={skipLocationChange:Z_(this.skipLocationChange),replaceUrl:Z_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Z_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Z_(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(To(G_),To(Tb),Do("tabindex"),To(Ua),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Uo("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ot]}),e})(),Y_=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new S,this.subscription=e.events.subscribe(e=>{e instanceof Dy&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Z_(this.skipLocationChange),replaceUrl:Z_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Z_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Z_(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(To(G_),To(Tb),To(vh))},e.\u0275dir=bt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)})),2&e&&(Ea("href",t.href,ii),Eo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ot]}),e})();function Z_(e){return""===e||!!e}let X_=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof Dy&&this.update()})}ngAfterContentInit(){F([this.links.changes,this.linksWithHrefs.changes,ef(null)]).pipe(H()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=F(t).pipe(H()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(To(G_),To(Ba),To(Ua),To(qs),To(W_,8),To(Y_,8))},e.\u0275dir=bt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(tc(n,W_,!0),tc(n,Y_,!0)),2&e){let e;Kl(e=ic())&&(t.links=e),Kl(e=ic())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ot]}),e})(),K_=(()=>{class e{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new jl,this.deactivateEvents=new jl,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Q_(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(To(V_),To(ul),To(za),Do("name"),To(qs))},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Q_{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Tb?this.route:e===V_?this.childContexts:this.parent.get(e,t)}}class J_{}class ew{preload(e,t){return ef(null)}}let tw=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new B_(t,n,t=>e.triggerEvent(new By(t)),t=>e.triggerEvent(new jy(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(nf(e=>e instanceof Dy),tf(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return F(n).pipe(H(),E(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(Ye(G_),Ye(Xc),Ye(Ec),Ye(lo),Ye(J_))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),nw=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ty?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dy&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new qy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ye(G_),Ye(Xh),Ye(void 0))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const rw=new ze("ROUTER_CONFIGURATION"),iw=new ze("ROUTER_FORROOT_GUARD"),sw=[xh,{provide:lb,useClass:cb},{provide:G_,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const h=new G_(null,e,t,n,r,i,s,Qy(o));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=oh();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[lb,V_,xh,lo,Xc,Ec,z_,rw,[class{},new ie],[F_,new ie]]},V_,{provide:Tb,useFactory:function(e){return e.routerState.root},deps:[G_]},{provide:Xc,useClass:Jc},tw,ew,class{preload(e,t){return t().pipe(xy(()=>ef(null)))}},{provide:rw,useValue:{enableTracing:!1}}];function ow(){return new Uc("Router",G_)}let aw=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[sw,uw(t),{provide:iw,useFactory:hw,deps:[[G_,new ie,new oe]]},{provide:rw,useValue:n||{}},{provide:vh,useFactory:cw,deps:[lh,[new re(bh),new ie],rw]},{provide:nw,useFactory:lw,deps:[G_,Xh,rw]},{provide:J_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ew},{provide:Uc,multi:!0,useFactory:ow},[dw,{provide:lc,multi:!0,useFactory:pw,deps:[dw]},{provide:mw,useFactory:fw,deps:[dw]},{provide:mc,multi:!0,useExisting:mw}]]}}static forChild(t){return{ngModule:e,providers:[uw(t)]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(iw,8),Ye(G_,8))}}),e})();function lw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new nw(e,t,n)}function cw(e,t,n={}){return n.useHash?new wh(e,t):new _h(e,t)}function hw(e){return"guarded"}function uw(e){return[{provide:co,multi:!0,useValue:e},{provide:z_,multi:!0,useValue:e}]}let dw=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(hh,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(G_),r=this.injector.get(rw);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?ef(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(rw),n=this.injector.get(tw),r=this.injector.get(nw),i=this.injector.get(G_),s=this.injector.get(Yc);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(Ye(lo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function pw(e){return e.appInitializer.bind(e)}function fw(e){return e.bootstrapListener.bind(e)}const mw=new ze("Router Initializer"),gw=function(){return{exact:!0}},vw=function(){return["./genebrowser","Human","Human_IGH"]};let yw=(()=>{class e{constructor(){this.isMenuCollapsed=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-header"]],decls:45,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent"],["type","button","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],["ngbNav","",1,"navbar-nav","mr-auto"],["ngbNavItem","","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions","click"],["ngbNavLink","","routerLink","/",1,"nav-link",2,"padding","0"],["src","./assets/img/logo_white_2.png","alt","VDJlogo","height","40",1,"navbar-brand",2,"padding","0"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","id","navbarAIRRSeq","role","button",1,"nav-link"],["ngbDropdownMenu","","aria-labelledby","navbarHelpAbout",1,"dropdown-menu"],["ngbDropdownItem","","routerLink","./datarep",1,"dropdown-item",3,"click"],["ngbDropdownItem","","routerLink","./samplerep",1,"dropdown-item",3,"click"],["ngbDropdownItem","","routerLink","./generep",1,"dropdown-item",3,"click"],["ngbDropdownToggle","","id","navbarGenomic","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","routerLink","./genesample",1,"dropdown-item",3,"click"],["ngbDropdownItem","","routerLink","./genetable",1,"dropdown-item",3,"click"],["ngbDropdownItem","",1,"dropdown-item",3,"routerLink","click"],["ngbNavItem","","routerLinkActive","active",1,"nav-item"],["ngbNavLink","","routerLink","/reports",1,"nav-link",3,"click"],["ngbDropdownToggle","","id","navbarHelpAbout","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","href","./user-guide",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./quick-ref",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/report_documentation.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/glossary.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./licensing",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(Po(0,"nav",0),Po(1,"button",1),Uo("click",(function(){return t.isMenuCollapsed=!t.isMenuCollapsed})),Fo(2,"span",2),Lo(),Po(3,"div",3),Po(4,"ul",4),Po(5,"li",5),Uo("click",(function(){return t.isMenuCollapsed=!0})),Po(6,"a",6),Fo(7,"img",7),Lo(),Lo(),Po(8,"li",8),Po(9,"a",9),wa(10," AIRR-Seq Data "),Lo(),Po(11,"div",10),Po(12,"a",11),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(13,"Explore AIRR-Seq Data"),Lo(),Po(14,"a",12),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(15,"AIRR-seq Samples"),Lo(),Po(16,"a",13),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(17,"AIRR-seq Genes"),Lo(),Lo(),Lo(),Po(18,"li",8),Po(19,"a",14),wa(20," Genomic Data "),Lo(),Po(21,"div",10),Po(22,"a",15),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(23,"Genomic Samples"),Lo(),Po(24,"a",16),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(25,"Genomic Genes"),Lo(),Po(26,"a",17),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(27,"Genomic Gene Browser"),Lo(),Lo(),Lo(),Po(28,"li",18),Po(29,"a",19),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(30,"Reports"),Lo(),Lo(),Po(31,"li",8),Po(32,"a",20),wa(33," Help / About "),Lo(),Po(34,"div",10),Po(35,"a",21),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(36,"User Guide"),Lo(),Po(37,"a",22),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(38,"Quick Reference"),Lo(),Po(39,"a",23),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(40,"Guide to Reports (pdf)"),Lo(),Po(41,"a",24),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(42,"Glossary (pdf)"),Lo(),Po(43,"a",25),Uo("click",(function(){return t.isMenuCollapsed=!0})),wa(44,"Licensing"),Lo(),Lo(),Lo(),Lo(),Lo(),Lo()),2&e&&(Si(3),Oo("ngbCollapse",t.isMenuCollapsed),Si(2),Oo("routerLinkActiveOptions",Il(3,gw)),Si(21),Oo("routerLink",Il(4,vw)))},directives:[Sv,hv,Wv,Gv,X_,Yv,Y_,Av,Rv,Cv,kv],styles:[".nav-item[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{font-size:16px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}),e})(),bw=(()=>{class e{constructor(){this.title="digby"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"div",1),Po(2,"div",2),Fo(3,"app-header"),Lo(),Lo(),Po(4,"div",1),Po(5,"div",2),Fo(6,"router-outlet"),Lo(),Lo(),Lo())},directives:[yw,K_],styles:[""]}),e})();class _w{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new ww(e,this.notifier,this.source))}}class ww extends z{constructor(e,t,n){super(e),this.notifier=t,this.source=n}error(e){if(!this.isStopped){let n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new S;try{const{notifier:e}=this;r=e(n)}catch(t){return super.error(t)}i=B(r,new N(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:e}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}function xw(e=500,t=3,n=1e3){let r=t;return i=>{return i.pipe((s=i=>i.pipe(j(i=>{if(r-- >0){const s=e+(t-r)*n;return ef(i).pipe(Jg(s))}return Xg(i.message)})),e=>e.lift(new _w(s,e))));var s}}class Sw extends cf{encodeKey(e){return(e=super.encodeKey(e)).replace(/\+/gi,"%2B")}encodeValue(e){return(e=super.encodeValue(e)).replace(/\+/gi,"%2B")}}const kw=new ze("basePath");class Cw{constructor(e={}){this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials}selectHeaderContentType(e){if(0==e.length)return;let t=e.find(e=>this.isJsonMime(e));return void 0===t?e[0]:t}selectHeaderAccept(e){if(0==e.length)return;let t=e.find(e=>this.isJsonMime(e));return void 0===t?e[0]:t}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!=e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}let Ew=(()=>{class e{constructor(e,t,n){this.httpClient=e,this.basePath="https://localhost/api",this.defaultHeaders=new lf,this.configuration=new Cw,t&&(this.basePath=t),n&&(this.configuration=n,this.basePath=t||n.basePath||this.basePath)}canConsumeForm(e){for(const t of e)if("multipart/form-data"===t)return!0;return!1}getFeaturePosApi(e,t,n,r="body",i=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getFeaturePosApi.");if(null==t)throw new Error("Required parameter refSeqName was null or undefined when calling getFeaturePosApi.");if(null==n)throw new Error("Required parameter featureString was null or undefined when calling getFeaturePosApi.");let s=this.defaultHeaders;const o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(s=s.set("Accept",o)),this.httpClient.get(`${this.basePath}/genomic/feature_pos/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}/${encodeURIComponent(String(n))}`,{withCredentials:this.configuration.withCredentials,headers:s,observe:r,reportProgress:i})}getRefSeqApi(e,t="body",n=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getRefSeqApi.");let r=this.defaultHeaders;const i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get(`${this.basePath}/genomic/ref_seqs/${encodeURIComponent(String(e))}`,{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}getSampleInfoApi(e,t,n,r="body",i=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSampleInfoApi.");if(null==t)throw new Error("Required parameter studyName was null or undefined when calling getSampleInfoApi.");if(null==n)throw new Error("Required parameter sample was null or undefined when calling getSampleInfoApi.");let s=this.defaultHeaders;const o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(s=s.set("Accept",o)),this.httpClient.get(`${this.basePath}/genomic/sample_info/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}/${encodeURIComponent(String(n))}`,{withCredentials:this.configuration.withCredentials,headers:s,observe:r,reportProgress:i})}getSamplesApi(e,t,n,r,i,s,o,a="body",l=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSamplesApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSamplesApi.");let c=new uf({encoder:new Sw});null!=n&&(c=c.set("page_number",n)),null!=r&&(c=c.set("page_size",r)),null!=i&&(c=c.set("filter",i)),null!=s&&(c=c.set("sort_by",s)),null!=o&&(c=c.set("cols",o));let h=this.defaultHeaders;const u=this.configuration.selectHeaderAccept(["application/json"]);return null!=u&&(h=h.set("Accept",u)),this.httpClient.get(`${this.basePath}/genomic/samples/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}`,{params:c,withCredentials:this.configuration.withCredentials,headers:h,observe:a,reportProgress:l})}getSequencesApi(e,t,n,r,i,s,o,a="body",l=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSequencesApi.");let c=new uf({encoder:new Sw});null!=n&&(c=c.set("page_number",n)),null!=r&&(c=c.set("page_size",r)),null!=i&&(c=c.set("filter",i)),null!=s&&(c=c.set("sort_by",s)),null!=o&&(c=c.set("cols",o));let h=this.defaultHeaders;const u=this.configuration.selectHeaderAccept(["application/json"]);return null!=u&&(h=h.set("Accept",u)),this.httpClient.get(`${this.basePath}/genomic/sequences/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}`,{params:c,withCredentials:this.configuration.withCredentials,headers:h,observe:a,reportProgress:l})}getSpeciesApi(e="body",t=!1){let n=this.defaultHeaders;const r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(n=n.set("Accept",r)),this.httpClient.get(this.basePath+"/genomic/species",{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}return e.\u0275fac=function(t){return new(t||e)(Ye(xf),Ye(kw,8),Ye(Cw,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Rw=(()=>{class e{constructor(e,t,n){this.httpClient=e,this.basePath="https://localhost/api",this.defaultHeaders=new lf,this.configuration=new Cw,t&&(this.basePath=t),n&&(this.configuration=n,this.basePath=t||n.basePath||this.basePath)}canConsumeForm(e){for(const t of e)if("multipart/form-data"===t)return!0;return!1}getReportsApi(e,t,n,r="body",i=!1){let s=new uf({encoder:new Sw});null!=e&&(s=s.set("species",e)),null!=t&&(s=s.set("genomic_datasets",t)),null!=n&&(s=s.set("rep_datasets",n));let o=this.defaultHeaders;const a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(o=o.set("Accept",a)),this.httpClient.get(this.basePath+"/reports/reports/list",{params:s,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getReportsRunApi(e,t,n,r,i,s,o,a,l="body",c=!1){if(null==e)throw new Error("Required parameter reportName was null or undefined when calling getReportsRunApi.");let h=new uf({encoder:new Sw});null!=t&&(h=h.set("format",t)),null!=n&&(h=h.set("species",n)),null!=r&&(h=h.set("genomic_datasets",r)),null!=i&&(h=h.set("genomic_filters",i)),null!=s&&(h=h.set("rep_datasets",s)),null!=o&&(h=h.set("rep_filters",o)),null!=a&&(h=h.set("params",a));let u=this.defaultHeaders;const d=this.configuration.selectHeaderAccept(["application/json"]);return null!=d&&(u=u.set("Accept",d)),this.httpClient.get(`${this.basePath}/reports/reports/run/${encodeURIComponent(String(e))}`,{params:h,withCredentials:this.configuration.withCredentials,headers:u,observe:l,reportProgress:c})}getReportsStatus(e,t="body",n=!1){if(null==e)throw new Error("Required parameter jobId was null or undefined when calling getReportsStatus.");let r=this.defaultHeaders;const i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get(`${this.basePath}/reports/reports/status/${encodeURIComponent(String(e))}`,{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}}return e.\u0275fac=function(t){return new(t||e)(Ye(xf),Ye(kw,8),Ye(Cw,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Aw=(()=>{class e{constructor(e,t,n){this.httpClient=e,this.basePath="https://localhost/api",this.defaultHeaders=new lf,this.configuration=new Cw,t&&(this.basePath=t),n&&(this.configuration=n,this.basePath=t||n.basePath||this.basePath)}canConsumeForm(e){for(const t of e)if("multipart/form-data"===t)return!0;return!1}getDataSetApi(e,t="body",n=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetApi.");let r=this.defaultHeaders;const i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get(`${this.basePath}/repseq/ref_seqs/${encodeURIComponent(String(e))}`,{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}getDataSetInfoApi(e,t,n="body",r=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getDataSetInfoApi.");let i=this.defaultHeaders;const s=this.configuration.selectHeaderAccept(["application/json"]);return null!=s&&(i=i.set("Accept",s)),this.httpClient.get(`${this.basePath}/repseq/dataset_info/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}`,{withCredentials:this.configuration.withCredentials,headers:i,observe:n,reportProgress:r})}getSampleInfoApi(e,t,n,r="body",i=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSampleInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSampleInfoApi.");if(null==n)throw new Error("Required parameter sample was null or undefined when calling getSampleInfoApi.");let s=this.defaultHeaders;const o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(s=s.set("Accept",o)),this.httpClient.get(`${this.basePath}/repseq/sample_info/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}/${encodeURIComponent(String(n))}`,{withCredentials:this.configuration.withCredentials,headers:s,observe:r,reportProgress:i})}getSamplesApi(e,t,n,r,i,s,o,a="body",l=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSamplesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSamplesApi.");let c=new uf({encoder:new Sw});null!=n&&(c=c.set("page_number",n)),null!=r&&(c=c.set("page_size",r)),null!=i&&(c=c.set("filter",i)),null!=s&&(c=c.set("sort_by",s)),null!=o&&(c=c.set("cols",o));let h=this.defaultHeaders;const u=this.configuration.selectHeaderAccept(["application/json"]);return null!=u&&(h=h.set("Accept",u)),this.httpClient.get(`${this.basePath}/repseq/samples/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}`,{params:c,withCredentials:this.configuration.withCredentials,headers:h,observe:a,reportProgress:l})}getSequencesApi(e,t,n,r,i,s,o,a="body",l=!1){if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSequencesApi.");let c=new uf({encoder:new Sw});null!=n&&(c=c.set("page_number",n)),null!=r&&(c=c.set("page_size",r)),null!=i&&(c=c.set("filter",i)),null!=s&&(c=c.set("sort_by",s)),null!=o&&(c=c.set("cols",o));let h=this.defaultHeaders;const u=this.configuration.selectHeaderAccept(["application/json"]);return null!=u&&(h=h.set("Accept",u)),this.httpClient.get(`${this.basePath}/repseq/sequences/${encodeURIComponent(String(e))}/${encodeURIComponent(String(t))}`,{params:c,withCredentials:this.configuration.withCredentials,headers:h,observe:a,reportProgress:l})}getSpeciesApi(e="body",t=!1){let n=this.defaultHeaders;const r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(n=n.set("Accept",r)),this.httpClient.get(this.basePath+"/repseq/species",{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}return e.\u0275fac=function(t){return new(t||e)(Ye(xf),Ye(kw,8),Ye(Cw,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Iw=(()=>{class e{constructor(e,t){if(e)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!t)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:e,providers:[{provide:Cw,useFactory:t}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(e,12),Ye(xf,8))},providers:[Ew,Rw,Aw],imports:[[]]}),e})(),Tw=(()=>{class e{constructor(){this.selection=new ag({species:"Human",refSeqs:["Human_IGH"],repSeqs:["Human_IGH"],repDatasetDescriptions:[{dataset:"Human_IGH",description:""}]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dw(e,t){if(1&e&&(Po(0,"span"),wa(1),Lo()),2&e){const e=Yo();Si(1),xa(e._placeholder)}}function Ow(e,t){if(1&e){const e=jo();Po(0,"span",14),wa(1),Po(2,"a",15),Uo("click",(function(n){rn(e);const r=t.$implicit;return Yo().onItemClick(n,r)})),wa(3,"x"),Lo(),Lo()}if(2&e){const e=t.$implicit;Oo("hidden",t.index>Yo()._settings.itemsShowLimit-1),Si(1),Sa(" ",e.text," ")}}function Mw(e,t){if(1&e&&(Po(0,"span",16),wa(1),Lo()),2&e){const e=Yo();Si(1),Sa("+",e.itemShowRemaining(),"")}}function Pw(e,t){if(1&e){const e=jo();Po(0,"li",17),Uo("click",(function(){return rn(e),Yo().toggleSelectAll()})),Fo(1,"input",18),Po(2,"div"),wa(3),Lo(),Lo()}if(2&e){const e=Yo();Si(1),Oo("checked",e.isAllItemsSelected())("disabled",e.disabled||e.isLimitSelectionReached()),Si(2),xa(e.isAllItemsSelected()?e._settings.unSelectAllText:e._settings.selectAllText)}}function Lw(e,t){if(1&e){const e=jo();Po(0,"li",19),Po(1,"input",20),Uo("ngModelChange",(function(t){return rn(e),Yo().filter.text=t}))("ngModelChange",(function(t){return rn(e),Yo().onFilterTextChange(t)})),Lo(),Lo()}if(2&e){const e=Yo();Si(1),Oo("readOnly",e.disabled)("placeholder",e._settings.searchPlaceholderText)("ngModel",e.filter.text)}}function Fw(e,t){if(1&e){const e=jo();Po(0,"li",21),Uo("click",(function(n){rn(e);const r=t.$implicit;return Yo().onItemClick(n,r)})),Fo(1,"input",22),Po(2,"div"),wa(3),Lo(),Lo()}if(2&e){const e=t.$implicit,n=Yo();Si(1),Oo("checked",n.isSelected(e))("disabled",n.disabled||n.isLimitSelectionReached()&&!n.isSelected(e)||e.isDisabled),Si(2),xa(e.text)}}function Nw(e,t){if(1&e&&(Po(0,"li",23),Po(1,"h5"),wa(2),Lo(),Lo()),2&e){const e=Yo();Si(2),xa(e._settings.noDataAvailablePlaceholderText)}}class zw{constructor(e){"string"!=typeof e&&"number"!=typeof e||(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)}}const Bw={provide:jf,useExisting:Se(()=>Vw),multi:!0},jw=()=>{};let Vw=(()=>{let e=class{constructor(e){this.cdr=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new zw(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new jl,this.onDropDownClose=new jl,this.onSelect=new jl,this.onDeSelect=new jl,this.onSelectAll=new jl,this.onDeSelectAll=new jl,this.onTouchedCallback=jw,this.onChangeCallback=jw}set placeholder(e){this._placeholder=e||"Select"}set settings(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}set data(e){if(e){const t=e[0];this._sourceDataType=typeof t,this._sourceDataFields=this.getFields(t),this._data=e.map(e=>new zw("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(e){this.onFilterChange.emit(e)}onItemClick(e,t){if(this.disabled||t.isDisabled)return!1;const n=this.isSelected(t),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(t):r&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(e){if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){const t=e[0];this.selectedItems=[new zw("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]})]}}catch(t){}else{const t=e.map(e=>new zw("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?t.splice(0,this._settings.limitSelection):t}else this.selectedItems=[];this.onChangeCallback(e)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(e,t){return t.id}isSelected(e){let t=!1;return this.selectedItems.forEach(n=>{e.id===n.id&&(t=!0)}),t}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){const e=this._data.filter(e=>e.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&this._data.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}removeSelected(e){this.selectedItems.forEach(t=>{e.id===t.id&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}emittedValue(e){const t=[];if(Array.isArray(e))e.map(e=>{t.push(this.objectify(e))});else if(e)return this.objectify(e);return t}objectify(e){if("object"===this._sourceDataType){const t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}toggleDropdown(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(e=>!e.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(e){const t=[];if("object"!=typeof e)return t;for(const n in e)t.push(n);return t}};return e.\u0275fac=function(t){return new(t||e)(To(qs))},e.\u0275cmp=pt({type:e,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&Uo("blur",(function(){return t.onTouched()}))},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[La([Bw])],decls:16,vars:17,consts:[["tabindex","=0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px"],["style","padding-right: 6px;",4,"ngIf"],[3,"ngClass"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox","aria-label","multiselect-item",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(Po(0,"div",0),Uo("blur",(function(){return t.onTouched()}))("clickOutside",(function(){return t.closeDropdown()})),Po(1,"div"),Po(2,"span",1),Uo("click",(function(e){return t.toggleDropdown(e)})),Ao(3,Dw,2,1,"span",2),Ao(4,Ow,4,2,"span",3),Po(5,"span",4),Ao(6,Mw,2,1,"span",5),Fo(7,"span",6),Lo(),Lo(),Lo(),Po(8,"div",7),Po(9,"ul",8),Ao(10,Pw,4,3,"li",9),Ao(11,Lw,2,3,"li",10),Lo(),Po(12,"ul",11),Ao(13,Fw,4,3,"li",12),Ll(14,"multiSelectFilter"),Ao(15,Nw,3,1,"li",13),Lo(),Lo(),Lo()),2&e&&(Si(1),la("disabled",t.disabled),Si(2),Oo("ngIf",0==t.selectedItems.length),Si(1),Oo("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),Si(2),Oo("ngIf",t.itemShowRemaining()>0),Si(1),Oo("ngClass",t._settings.defaultOpen?"dropdown-up":"dropdown-down"),Si(1),Oo("hidden",!t._settings.defaultOpen),Si(2),Oo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),Si(1),Oo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),Si(1),aa("max-height",t._settings.maxHeight+"px"),Si(1),Oo("ngForOf",Nl(14,14,t._data,t.filter)),Si(2),Oo("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[$w,Ph,Oh,Ih,qf,Kf,Xm]},pipes:function(){return[Uw]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),e})(),$w=(()=>{let e=class{constructor(e){this._elementRef=e,this.clickOutside=new jl}onClick(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}};return e.\u0275fac=function(t){return new(t||e)(To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e,e.target)}),!1,Xn)},outputs:{clickOutside:"clickOutside"}}),e})(),Uw=(()=>{let e=class{transform(e,t){return e&&t?e.filter(e=>this.applyFilter(e,t)):e}applyFilter(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=_t({name:"multiSelectFilter",type:e,pure:!1}),e})();var Hw;let qw=(()=>{let e=Hw=class{static forRoot(){return{ngModule:Hw}}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,sg]]}),e})();function Gw(e,t){if(1&e&&(Po(0,"option",10),wa(1),Lo()),2&e){const e=t.$implicit;Oo("ngValue",e),Si(1),xa(e.name)}}function Ww(e,t){if(1&e){const e=jo();Po(0,"div",1),Po(1,"div",2),Po(2,"div",3),Po(3,"label",11),wa(4,"Genomic Sets"),Lo(),Lo(),Po(5,"ng-multiselect-dropdown",12),Uo("ngModelChange",(function(t){return rn(e),Yo().selectedGen=t}))("ngModelChange",(function(){return rn(e),Yo().refSeqChange()})),Lo(),Lo(),Lo()}if(2&e){const e=Yo();Si(5),ca("selector-dropdown"),Oo("settings",e.genDropdownSettings)("data",e.refSeqs)("ngModel",e.selectedGen)("placeholder","Select Datasets")}}function Yw(e,t){if(1&e){const e=jo();Po(0,"div",1),Po(1,"div",2),Po(2,"div",3),Po(3,"label",13),wa(4,"AIRR-seq Sets"),Lo(),Lo(),Po(5,"ng-multiselect-dropdown",14),Uo("ngModelChange",(function(t){return rn(e),Yo().selectedRep=t}))("ngModelChange",(function(){return rn(e),Yo().repSeqChange()})),Lo(),Lo(),Lo()}if(2&e){const e=Yo();Si(5),ca("selector-dropdown"),Oo("settings",e.repDropdownSettings)("data",e.repSeqs)("ngModel",e.selectedRep)("placeholder","Select Datasets")}}function Zw(e,t){1&e&&(Po(0,"div",15),Po(1,"span",16),wa(2,"Loading..."),Lo(),Lo())}function Xw(e,t){if(1&e&&(Po(0,"div",17),Po(1,"div",18),Po(2,"h4"),wa(3),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(3),Sa("Error loading data: ",e.error,"")}}let Kw=(()=>{class e{constructor(e,t,n){this.genomicService=e,this.repseqService=t,this.geneTableService=n,this.species=null,this.selectedSpecies=null,this.refSeqs=[],this.repSeqs=[],this.selectedGen=[],this.selectedRep=[],this.repDatasetDescriptions=[],this.initializing=!1,this.error=null,this.geneTableServiceSubscription=null,this.genDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}ngOnInit(){this.isFetching=!0}ngAfterViewInit(){setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.species?!e.species||this.selectedSpecies&&e.species===this.selectedSpecies.name?(e.repSeqs&&Qw(new Set(e.repSeqs),new Set(this.selectedRep.map(e=>e.text))).size&&(this.selectedRep=this.repSeqs.filter(t=>e.repSeqs.indexOf(t.text)>=0)),e.refSeqs&&Qw(new Set(e.refSeqs),new Set(this.selectedGen.map(e=>e.text))).size&&(this.selectedGen=this.refSeqs.filter(t=>e.refSeqs.indexOf(t.text)>=0))):(this.selectedSpecies=this.species.filter(t=>t.name===e.species)[0],this.updateRefs(e.refSeqs),this.updateReps(e.repSeqs)):(this.initializing=!0,this.updateSpecies(e))})})}updateSpecies(e){this.genomicService.getSpeciesApi().pipe(xw(),xy(e=>(this.isFetching=!1,this.error=e,Bg))).subscribe(t=>{this.isFetching=!1;let n=1;this.species=[];for(const r of t){const t={id:n,name:r};this.species.push(t),r===e.species&&(this.selectedSpecies=t),n+=1}this.updateRefs(e.refSeqs),this.updateReps(e.repSeqs)},e=>{this.isFetching=!1,this.error=e.message})}updateRefs(e){this.genomicService.getRefSeqApi(this.selectedSpecies.name).pipe(xw(),xy(e=>(this.isFetching=!1,this.error=e,Bg))).subscribe(t=>{this.isFetching=!1,this.refSeqs=[],this.selectedGen=[];let n=1;for(const r of t)this.refSeqs.push({id:n,text:r.ref_seq}),e&&e.indexOf(r.ref_seq)>=0&&this.selectedGen.push({id:n,text:r.ref_seq}),n+=1;0===this.selectedGen.length&&this.refSeqs.length>0&&this.selectedGen.push(this.refSeqs[0])},e=>{this.isFetching=!1,this.error=e.message})}updateReps(e){this.repseqService.getDataSetApi(this.selectedSpecies.name).pipe(xw(),xy(e=>(this.isFetching=!1,this.error=e,Bg))).subscribe(t=>{this.isFetching=!1,this.repSeqs=[],this.selectedRep=[],this.repDatasetDescriptions=t;let n=1;for(const r of t){const t=r.dataset;this.repSeqs.push({id:n,text:t}),e.indexOf(t)>=0&&this.selectedRep.push({id:n,text:t}),n+=1}0===this.selectedRep.length&&this.repSeqs.length>0&&this.selectedRep.push(this.repSeqs[0])},e=>{this.isFetching=!1,this.error=e.message})}handleError(e){this.isFetching=!1,this.error=e.message}speciesChange(){"None"!==this.selectedSpecies.name&&(this.geneTableService.selection.value.species===this.selectedSpecies.name?(this.updateRefs(this.geneTableService.selection.value.refSeqs),this.updateReps(this.geneTableService.selection.value.repSeqs)):(this.updateRefs([]),this.updateReps([])))}repSeqChange(){(Qw(new Set(this.geneTableService.selection.value.repSeqs),new Set(this.selectedRep.map(e=>e.text))).size||this.initializing)&&this.onSelectionChange(),this.initializing=!1}refSeqChange(){Qw(new Set(this.geneTableService.selection.value.refSeqs),new Set(this.selectedGen.map(e=>e.text))).size&&this.onSelectionChange()}onSelectionChange(){this.selectedSpecies&&this.geneTableService.selection.next({species:this.selectedSpecies.name,refSeqs:this.selectedGen.map(e=>e.text),repSeqs:this.selectedRep.map(e=>e.text),repDatasetDescriptions:this.repDatasetDescriptions})}}return e.\u0275fac=function(t){return new(t||e)(To(Ew),To(Aw),To(Tw))},e.\u0275cmp=pt({type:e,selectors:[["app-gene-table-selector"]],inputs:{showGenomic:"showGenomic",showRepseq:"showRepseq"},decls:12,vars:6,consts:[[1,"form-row","align-items-center"],[1,"col-auto","my-1"],[1,"input-group"],[1,"input-group-prepend"],["for","selectSpecies",1,"input-group-text"],["id","selectSpecies",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-auto my-1",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngValue"],["for","selectGenomic",1,"input-group-text",2,"height","38px"],["id","selectGenomic",3,"settings","data","ngModel","placeholder","ngModelChange"],["for","selectAIRR",1,"input-group-text",2,"height","38px"],["id","selectAIRR",3,"settings","data","ngModel","placeholder","ngModelChange"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"div",1),Po(2,"div",2),Po(3,"div",3),Po(4,"label",4),wa(5,"Species"),Lo(),Lo(),Po(6,"select",5),Uo("ngModelChange",(function(e){return t.selectedSpecies=e}))("ngModelChange",(function(){return t.speciesChange()})),Ao(7,Gw,2,2,"option",6),Lo(),Lo(),Lo(),Ao(8,Ww,6,6,"div",7),Ao(9,Yw,6,6,"div",7),Lo(),Ao(10,Zw,3,0,"div",8),Ao(11,Xw,4,1,"div",9)),2&e&&(Si(6),Oo("ngModel",t.selectedSpecies),Si(1),Oo("ngForOf",t.species),Si(1),Oo("ngIf",t.showGenomic),Si(1),Oo("ngIf",t.showRepseq),Si(1),Oo("ngIf",t.isFetching),Si(1),Oo("ngIf",t.error))},directives:[bm,Kf,Xm,Oh,Ph,_m,km,Vw],styles:[".selector-dropdown .dropdown-btn{line-height:24px!important;height:38px!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-color:#ced4da!important}"],encapsulation:2}),e})();function Qw(e,t){const n=new Set(e);for(const r of t)n.has(r)?n.delete(r):n.add(r);return n}var Jw=n("LvDl");let ex,tx=(()=>{class e{constructor(e){this.activeModal=e,this.width=50,this.gapped=!1}ngOnInit(){this.format_nuc_sequence()}format_nuc_sequence(){let e=1;if(this.displayContent="",this.content)for(const t of this.chunkSubstr(this.content,this.width))this.displayContent+=Jw.padEnd(e.toString(),5),t.length>10&&(this.displayContent+=Jw.repeat(" ",t.length-10)+Jw.padStart((e+t.length-1).toString(),5)+"<br>"+t+"<br><br>",e+=t.length)}chunkSubstr(e,t){const n=Math.ceil(e.length/t),r=new Array(n);for(let i=0,s=0;i<n;++i,s+=t)r[i]=e.substr(s,t);return r}}return e.\u0275fac=function(t){return new(t||e)(To(Lv))},e.\u0275cmp=pt({type:e,selectors:[["app-seq-modal"]],inputs:{name:"name",content:"content"},decls:14,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"lead"],[2,"width","600px","margin-left","auto","margin-right","auto",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"h4",1),wa(2),Lo(),Po(3,"button",2),Uo("click",(function(){return t.activeModal.dismiss("Cross click")})),Po(4,"span",3),wa(5,"\xd7"),Lo(),Lo(),Lo(),Po(6,"div",4),Po(7,"pre",5),wa(8,"    "),Fo(9,"div",6),wa(10,"\n  "),Lo(),Lo(),Po(11,"div",7),Po(12,"button",8),Uo("click",(function(){return t.activeModal.close("Close click")})),wa(13,"Close"),Lo(),Lo()),2&e&&(Si(2),xa(t.name),Si(7),Oo("innerHTML",t.displayContent,ri))},styles:[""]}),e})();class nx{constructor(e){this.genomicService=e,this.geneSequenceSubject=new ag([]),this.choicesSubject=new ag({}),this.loadingSubject=new ag(!1),this.errorSubject=new ag(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}loadGeneSequences(e,t,n,r,i,s,o){t="Test"===t?"Human_IGH":t,this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSequencesApi(e,t,n,r,i,s,o).pipe(xw(),xy(e=>(this.errorSubject.next(e),[])),Ey(()=>{this.loadingSubject.next(!1)})).subscribe(e=>{this.totalItems=e.total_items,this.choicesSubject.next(e.uniques),this.geneSequenceSubject.next(e.sequences)}):(this.loadingSubject.next(!1),this.totalItems=0,this.geneSequenceSubject.next([]))}connect(e){return this.geneSequenceSubject.asObservable()}disconnect(e){this.geneSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}try{ex="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(NB){ex=!1}let rx,ix=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Zh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ex)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Ye(fc))},e.\u0275prov=he({factory:function(){return new e(Ye(fc))},token:e,providedIn:"root"}),e})(),sx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const ox=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ax(){if(rx)return rx;if("object"!=typeof document||!document)return rx=new Set(ox),rx;let e=document.createElement("input");return rx=new Set(ox.filter(t=>(e.setAttribute("type",t),e.type===t))),rx}let lx,cx;function hx(e){return function(){if(null==lx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lx=!0}))}finally{lx=lx||!1}return lx}()?e:!!e.capture}function ux(e){if(function(){if(null==cx){const e="undefined"!=typeof document?document.head:null;cx=!(!e||!e.createShadowRoot&&!e.attachShadow)}return cx}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function dx(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function px(e,t=bg){return n=>n.lift(new fx(e,t))}class fx{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new mx(e,this.dueTime,this.scheduler))}}class mx extends f{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(gx,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function gx(e){e.debouncedNext()}function vx(e){return null!=e&&""+e!="false"}function yx(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function bx(e){return Array.isArray(e)?e:[e]}function _x(e){return null==e?"":"string"==typeof e?e:e+"px"}function wx(e){return e instanceof Ba?e.nativeElement:e}let xx=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Sx=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=wx(e);return new y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new S,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(Ye(xx))},e.\u0275prov=he({factory:function(){return new e(Ye(xx))},token:e,providedIn:"root"}),e})(),kx=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new jl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=vx(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=yx(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(px(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(To(Sx),To(Ba),To(Ic))},e.\u0275dir=bt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),Cx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[xx]}),e})();function Ex(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}let Rx=0;const Ax=new Map;let Ix=null,Tx=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}describe(e,t){this._canBeDescribed(e,t)&&("string"!=typeof t?(this._setMessageId(t),Ax.set(t,{messageElement:t,referenceCount:0})):Ax.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}removeDescription(e,t){if(t&&this._isElementNode(e)){if(this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t),"string"==typeof t){const e=Ax.get(t);e&&0===e.referenceCount&&this._deleteMessageElement(t)}Ix&&0===Ix.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");Ix&&this._deleteMessagesContainer(),Ax.clear()}_createMessageElement(e){const t=this._document.createElement("div");this._setMessageId(t),t.textContent=e,this._createMessagesContainer(),Ix.appendChild(t),Ax.set(e,{messageElement:t,referenceCount:0})}_setMessageId(e){e.id||(e.id="cdk-describedby-message-"+Rx++)}_deleteMessageElement(e){const t=Ax.get(e),n=t&&t.messageElement;Ix&&n&&Ix.removeChild(n),Ax.delete(e)}_createMessagesContainer(){if(!Ix){const e=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode&&t.parentNode.removeChild(t),Ix=this._document.createElement("div"),Ix.id="cdk-describedby-message-container",Ix.classList.add("cdk-visually-hidden"),Ix.setAttribute("aria-hidden",e+""),this._document.body.appendChild(Ix)}}_deleteMessagesContainer(){Ix&&Ix.parentNode&&(Ix.parentNode.removeChild(Ix),Ix=null)}_removeCdkDescribedByReferenceIds(e){const t=Ex(e,"aria-describedby").filter(e=>0!=e.indexOf("cdk-describedby-message"));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=Ax.get(t);!function(e,t,n){const r=Ex(e,t);r.some(e=>e.trim()==n.trim())||(r.push(n.trim()),e.setAttribute(t,r.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(e,t){const n=Ax.get(t);n.referenceCount--,function(e,t,n){const r=Ex(e,t).filter(e=>e!=n.trim());r.length?e.setAttribute(t,r.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(e,t){const n=Ex(e,"aria-describedby"),r=Ax.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":(""+t).trim(),r=e.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(ix))},e.\u0275prov=he({factory:function(){return new e(Ye(ah),Ye(ix))},token:e,providedIn:"root"}),e})();class Dx{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,e instanceof $l&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Hg(e=>this._pressedLetters.push(e)),px(e),nf(()=>this._pressedLetters.length>0),E(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||dx(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof $l?this._items.toArray():this._items}}class Ox extends Dx{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Mx extends Dx{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Px=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(NB){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===Fx(t))return!1;if(!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=Fx(e);return e.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Lx(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(Ye(ix))},e.\u0275prov=he({factory:function(){return new e(Ye(ix))},token:e,providedIn:"root"}),e})();function Lx(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Fx(e){if(!Lx(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Nx{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Vg(1)).subscribe(e)}}let zx=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new Nx(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Px),Ye(Ic),Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(Px),Ye(Ic),Ye(ah))},token:e,providedIn:"root"}),e})(),Bx=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=vx(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=vx(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(zx),To(ah))},e.\u0275dir=bt({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Ot]}),e})();"undefined"!=typeof Element&&Element;const jx=new ze("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Vx=new ze("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $x=(()=>{class e{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.\u0275fac=function(t){return new(t||e)(Ye(jx,8),Ye(Ic),Ye(ah),Ye(Vx,8))},e.\u0275prov=he({factory:function(){return new e(Ye(jx,8),Ye(Ic),Ye(ah),Ye(Vx,8))},token:e,providedIn:"root"}),e})(),Ux=(()=>{class e{constructor(e,t,n,r){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=r,this._politeness="off"}get politeness(){return this._politeness}set politeness(e){this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To($x),To(Sx),To(Ic))},e.\u0275dir=bt({type:e,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),e})();function Hx(e){return 0===e.buttons}const qx=new ze("cdk-focus-monitor-default-options"),Gx=hx({passive:!0,capture:!0});let Wx=(()=>{class e{constructor(e,t,n,r){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=Hx(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Yx(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Yx(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){if(!this._platform.isBrowser)return ef(null);const n=wx(e),r=ux(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new S,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=wx(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=wx(e);this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Yx(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==Yx(e))return;const r=this._getFocusOrigin(e);this._setClasses(t,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gx),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gx)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,Gx),e.addEventListener("mousedown",this._documentMousedownListener,Gx),e.addEventListener("touchstart",this._documentTouchstartListener,Gx),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gx),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gx),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,Gx),e.removeEventListener("mousedown",this._documentMousedownListener,Gx),e.removeEventListener("touchstart",this._documentTouchstartListener,Gx),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic),Ye(ix),Ye(ah,8),Ye(qx,8))},e.\u0275prov=he({factory:function(){return new e(Ye(Ic),Ye(ix),Ye(ah,8),Ye(qx,8))},token:e,providedIn:"root"}),e})();function Yx(e){return e.composedPath?e.composedPath()[0]:e.target}let Zx=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new jl}ngAfterViewInit(){this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Wx))},e.\u0275dir=bt({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})(),Xx=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(Ye(ix),Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(ix),Ye(ah))},token:e,providedIn:"root"}),e})(),Kx=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(Xx))},imports:[[sx,Cx]]}),e})();const Qx=new ze("cdk-dir-doc",{providedIn:"root",factory:function(){return Ze(ah)}});let Jx=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new jl,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ye(Qx,8))},e.\u0275prov=he({factory:function(){return new e(Ye(Qx,8))},token:e,providedIn:"root"}),e})(),eS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const tS=new Ga("10.2.3");function nS(e,t){if(1&e&&Fo(0,"mat-pseudo-checkbox",3),2&e){const e=Yo();Oo("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const rS=["*"],iS=new Ga("10.2.3"),sS=new ze("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let oS=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Or()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&iS.full!==tS.full&&console.warn("The Angular Material version ("+iS.full+") does not match the Angular CDK version ("+tS.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ye(Xx),Ye(sS,8),Ye(ah,8))},imports:[[eS],eS]}),e})();function aS(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=vx(e)}}}function lS(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-"+t),this._color=t)}}}function cS(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=vx(e)}}}function hS(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?yx(e):this.defaultTabIndex}}}function uS(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}function dS(e){return class extends e{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}const pS=new ze("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Ze(vc)}});class fS{constructor(){this._localeChanges=new S,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const mS=new ze("mat-date-formats");let gS;try{gS="undefined"!=typeof Intl}catch(NB){gS=!1}const vS={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},yS=wS(31,e=>String(e+1)),bS={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},_S=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function wS(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}let xS=(()=>{class e extends fS{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(gS){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return wS(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return vS[e]}getDateNames(){if(gS){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return wS(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return yS}getDayOfWeekNames(e){if(gS){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return wS(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return bS[e]}getYearName(e){if(gS){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(gS){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(_S.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date(e,t,n);return e>=0&&e<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(Ye(pS,8),Ye(ix))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),SS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:fS,useClass:xS}],imports:[[sx]]}),e})();const kS={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let CS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:mS,useValue:kS}],imports:[[SS]]}),e})(),ES=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();class RS{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const AS={enterDuration:450,exitDuration:400},IS=hx({passive:!0}),TS=["mousedown","touchstart"],DS=["mouseup","mouseleave","touchend","touchcancel"];class OS{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wx(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},AS),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new RS(this,c,n);return h.state=0,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const e=h===this._mostRecentTransientRipple;h.state=1,n.persistent||e&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},AS),e.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=wx(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(TS))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(DS),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Hx(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,IS)})})}_removeTriggerEvents(){this._triggerElement&&(TS.forEach(e=>{this._triggerElement.removeEventListener(e,this,IS)}),this._pointerUpEventsRegistered&&DS.forEach(e=>{this._triggerElement.removeEventListener(e,this,IS)}))}}const MS=new ze("mat-ripple-global-options");let PS=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new OS(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ic),To(ix),To(MS,8),To(Kp,8))},e.\u0275dir=bt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&la("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),LS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[oS,sx],oS]}),e})(),FS=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(To(Kp,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&la("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),NS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();class zS{}const BS=aS(zS);let jS=0,VS=(()=>{class e extends BS{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+jS++}}return e.\u0275fac=function(t){return $S(t||e)},e.\u0275dir=bt({type:e,inputs:{label:"label"},features:[po]}),e})();const $S=gr(VS),US=new ze("MatOptgroup");let HS=0;class qS{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const GS=new ze("MAT_OPTION_PARENT_COMPONENT");let WS=(()=>{class e{constructor(e,t,n,r){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+HS++,this.onSelectionChange=new jl,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=vx(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||dx(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new qS(this,e))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(qs),To(void 0),To(VS))},e.\u0275dir=bt({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),YS=(()=>{class e extends WS{constructor(e,t,n,r){super(e,t,n,r)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(qs),To(GS,8),To(US,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&Uo("click",(function(){return t._selectViaInteraction()}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&(Ea("id",t.id),Eo("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),la("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[po],ngContentSelectors:rS,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(e,t){1&e&&(Xo(),Ao(0,nS,1,2,"mat-pseudo-checkbox",0),Po(1,"span",1),Ko(2),Lo(),Fo(3,"div",2)),2&e&&(Oo("ngIf",t.multiple),Si(3),Oo("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[Ph,PS,FS],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function ZS(e,t,n){if(n.length){let r=t.toArray(),i=n.toArray(),s=0;for(let t=0;t<e+1;t++)r[t].group&&r[t].group===i[s]&&s++;return s}return 0}let XS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[LS,Yh,NS]]}),e})();const KS=new ze("mat-label-global-options"),QS=["mat-button",""],JS=["*"],ek=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class tk{constructor(e){this._elementRef=e}}const nk=lS(aS(cS(tk)));let rk=(()=>{class e extends nk{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of ek)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Wx),To(Kp,8))},e.\u0275cmp=pt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&Jl(PS,!0),2&e){let e;Kl(e=ic())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(Eo("disabled",t.disabled||null),la("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[po],attrs:QS,ngContentSelectors:JS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(Xo(),Po(0,"span",0),Ko(1),Lo(),Fo(2,"span",1),Fo(3,"span",2)),2&e&&(Si(2),la("mat-button-ripple-round",t.isRoundButton||t.isIconButton),Oo("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[PS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e})(),ik=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[LS,oS],oS]}),e})();class sk extends gg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class ok extends yg{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const ak=new ok(sk);let lk=1;const ck=(()=>Promise.resolve())(),hk={};function uk(e){return e in hk&&(delete hk[e],!0)}const dk={setImmediate(e){const t=lk++;return hk[t]=!0,ck.then(()=>uk(t)&&e()),t},clearImmediate(e){uk(e)}};class pk extends gg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=dk.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(dk.clearImmediate(t),e.scheduled=void 0)}}class fk extends yg{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const mk=new fk(pk);class gk{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new vk(e,this.durationSelector))}}class vk extends z{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=B(n,new N(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function yk(e,t=bg){return n=()=>wg(e,t),function(e){return e.lift(new gk(n))};var n}class bk{call(e,t){return t.subscribe(new _k(e))}}class _k extends f{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class wk extends gg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class xk extends yg{}const Sk=new xk(wk);class kk extends f{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(kk.dispatch,this.delay,new Ck(e,this.destination)))}_next(e){this.scheduleMessage(Qg.createNext(e))}_error(e){this.scheduleMessage(Qg.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Qg.createComplete()),this.unsubscribe()}}class Ck{constructor(e,t){this.notification=e,this.destination=t}}class Ek extends S{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Rk(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new _;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(e),s=new w(this,e)),r&&e.add(e=new kk(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Sk).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class Rk{constructor(e,t){this.time=e,this.value=t}}function Ak(e){return e&&"function"==typeof e.connect}class Ik{applyChanges(e,t,n,r,i){e.forEachOperation((e,r,s)=>{let o,a;if(null==e.previousIndex){const i=n(e,r,s);o=t.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(t.remove(r),a=3):(o=t.get(r),t.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class Tk{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Dk=new ze("_ViewRepeater");let Ok=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(yk(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ef()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(nf(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let n=t.nativeElement,r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic),Ye(ix),Ye(ah,8))},e.\u0275prov=he({factory:function(){return new e(Ye(Ic),Ye(ix),Ye(ah,8))},token:e,providedIn:"root"}),e})(),Mk=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new S,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yk(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(Ye(ix),Ye(Ic),Ye(ah,8))},e.\u0275prov=he({factory:function(){return new e(Ye(ix),Ye(Ic),Ye(ah,8))},token:e,providedIn:"root"}),e})(),Pk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),Lk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[eS,sx,Pk],eS,Pk]}),e})();class Fk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Nk extends Fk{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class zk extends Fk{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Bk extends Fk{constructor(e){super(),this.element=e instanceof Ba?e.nativeElement:e}}class jk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Nk?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zk?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Bk?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vk extends jk{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $k=(()=>{class e extends jk{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new jl,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(To(za),To(ul),To(ah))},e.\u0275dir=bt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[po]}),e})(),Uk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();class Hk{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new qk(e,this.predicate,this.inclusive))}}class qk extends f{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}class Gk{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=_x(-this._previousScrollPosition.left),e.style.top=_x(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class Wk{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Yk{enable(){}disable(){}attach(){}}function Zk(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function Xk(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class Kk{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();Zk(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qk=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new Yk,this.close=e=>new Wk(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new Gk(this._viewportRuler,this._document),this.reposition=e=>new Kk(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ok),Ye(Mk),Ye(Ic),Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(Ok),Ye(Mk),Ye(Ic),Ye(ah))},token:e,providedIn:"root"}),e})();class Jk{constructor(e){if(this.scrollStrategy=new Yk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class eC{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class tC{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let nC=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(ah))},token:e,providedIn:"root"}),e})(),rC=(()=>{class e extends nC{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(ah))},token:e,providedIn:"root"}),e})(),iC=(()=>{class e extends nC{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(t))break;i._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(ix))},e.\u0275prov=he({factory:function(){return new e(Ye(ah),Ye(ix))},token:e,providedIn:"root"}),e})();const sC=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let oC=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||sC){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),sC?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(ix))},e.\u0275prov=he({factory:function(){return new e(Ye(ah),Ye(ix))},token:e,providedIn:"root"}),e})();class aC{constructor(e,t,n,r,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=u.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new S,this._outsidePointerEvents=new S,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=_x(this._config.width),e.height=_x(this._config.height),e.minWidth=_x(this._config.minWidth),e.minHeight=_x(this._config.minHeight),e.maxWidth=_x(this._config.maxWidth),e.maxHeight=_x(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;bx(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Lg(G(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const lC=/([A-Za-z%]+)$/;class cC{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){let{x:i,y:s}=e,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let l=0-s,c=s+t.height-n.height,h=this._subtractOverflows(t.width,0-i,i+t.width-n.width),u=this._subtractOverflows(t.height,l,c),d=h*u;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:u===t.height,fitsInViewportHorizontally:h==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=uC(this._overlayRef.getConfig().minHeight),o=uC(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(e.x+t.width-r.width,0),s=Math.max(e.y+t.height-r.height,0),o=Math.max(r.top-n.top-e.y,0),a=Math.max(r.left-n.left-e.x,0);let l=0,c=0;return l=t.width<=r.width?a||-i:e.x<this._viewportMargin?r.left-n.left-e.x:0,c=t.height<=r.height?o||-s:e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:l,y:c},{x:e.x+l,y:e.y+c}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new tC(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=_x(n.height),r.top=_x(n.top),r.bottom=_x(n.bottom),r.width=_x(n.width),r.left=_x(n.left),r.right=_x(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=_x(e)),i&&(r.maxWidth=_x(i))}this._lastBoundingBoxSize=n,hC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();hC(n,this._getExactOverlayY(t,e,r)),hC(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=_x(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=_x(s.maxWidth):i&&(n.maxWidth="")),hC(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=_x(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=_x(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Xk(e,n),isOriginOutsideView:Zk(e,n),isOverlayClipped:Xk(t,n),isOverlayOutsideView:Zk(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bx(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ba)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function hC(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function uC(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(lC);return n&&"px"!==n?null:parseFloat(t)}return e||null}class dC{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new cC(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new eC(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class pC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let fC=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new pC}connectedTo(e,t,n){return new dC(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new cC(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Mk),Ye(ah),Ye(ix),Ye(oC))},e.\u0275prov=he({factory:function(){return new e(Ye(Mk),Ye(ah),Ye(ix),Ye(oC))},token:e,providedIn:"root"}),e})(),mC=0,gC=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=h}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new Jk(e);return i.direction=i.direction||this._directionality.value,new aC(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+mC++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Yc)),new Vk(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(Ye(Qk),Ye(oC),Ye(za),Ye(fC),Ye(rC),Ye(lo),Ye(Ic),Ye(ah),Ye(Jx),Ye(xh),Ye(iC))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const vC=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yC=new ze("cdk-connected-overlay-scroll-strategy");let bC=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),_C=(()=>{class e{constructor(e,t,n,r,i){this._overlay=e,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=u.EMPTY,this._attachSubscription=u.EMPTY,this._detachSubscription=u.EMPTY,this._positionSubscription=u.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new jl,this.positionChange=new jl,this.attach=new jl,this.detach=new jl,this.overlayKeydown=new jl,this.overlayOutsideClick=new jl,this._templatePortal=new zk(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=vx(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=vx(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=vx(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=vx(e)}get push(){return this._push}set push(e){this._push=vx(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=vC);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||dx(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new Jk({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new Hk(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(To(gC),To(cl),To(ul),To(yC),To(Jx,8))},e.\u0275dir=bt({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ot]}),e})();const wC={provide:yC,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let xC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[gC,wC],imports:[[eS,Uk,Lk],Lk]}),e})();const SC=["underline"],kC=["connectionContainer"],CC=["inputContainer"],EC=["label"];function RC(e,t){1&e&&(No(0),Po(1,"div",14),Fo(2,"div",15),Fo(3,"div",16),Fo(4,"div",17),Lo(),Po(5,"div",18),Fo(6,"div",15),Fo(7,"div",16),Fo(8,"div",17),Lo(),zo())}function AC(e,t){1&e&&(Po(0,"div",19),Ko(1,1),Lo())}function IC(e,t){if(1&e&&(No(0),Ko(1,2),Po(2,"span"),wa(3),Lo(),zo()),2&e){const e=Yo(2);Si(3),xa(e._control.placeholder)}}function TC(e,t){1&e&&Ko(0,3,["*ngSwitchCase","true"])}function DC(e,t){1&e&&(Po(0,"span",23),wa(1," *"),Lo())}function OC(e,t){if(1&e){const e=jo();Po(0,"label",20,21),Uo("cdkObserveContent",(function(){return rn(e),Yo().updateOutlineGap()})),Ao(2,IC,4,1,"ng-container",12),Ao(3,TC,1,0,"ng-content",12),Ao(4,DC,2,0,"span",22),Lo()}if(2&e){const e=Yo();la("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Oo("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Eo("for",e._control.id)("aria-owns",e._control.id),Si(2),Oo("ngSwitchCase",!1),Si(1),Oo("ngSwitchCase",!0),Si(1),Oo("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function MC(e,t){1&e&&(Po(0,"div",24),Ko(1,4),Lo())}function PC(e,t){if(1&e&&(Po(0,"div",25,26),Fo(2,"span",27),Lo()),2&e){const e=Yo();Si(2),la("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function LC(e,t){1&e&&(Po(0,"div"),Ko(1,5),Lo()),2&e&&Oo("@transitionMessages",Yo()._subscriptAnimationState)}function FC(e,t){if(1&e&&(Po(0,"div",31),wa(1),Lo()),2&e){const e=Yo(2);Oo("id",e._hintLabelId),Si(1),xa(e.hintLabel)}}function NC(e,t){if(1&e&&(Po(0,"div",28),Ao(1,FC,2,2,"div",29),Ko(2,6),Fo(3,"div",30),Ko(4,7),Lo()),2&e){const e=Yo();Oo("@transitionMessages",e._subscriptAnimationState),Si(1),Oo("ngIf",e.hintLabel)}}const zC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],jC=new ze("MatError"),VC={transitionMessages:Tu("transitionMessages",[Lu("enter",Pu({opacity:1,transform:"translateY(0%)"})),Nu("void => enter",[Pu({opacity:0,transform:"translateY(-100%)"}),Du("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})();const UC=new ze("MatHint");let HC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-label"]]}),e})(),qC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-placeholder"]]}),e})();const GC=new ze("MatPrefix"),WC=new ze("MatSuffix");let YC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matSuffix",""]],features:[La([{provide:WC,useExisting:e}])]}),e})(),ZC=0;class XC{constructor(e){this._elementRef=e}}const KC=lS(XC,"primary"),QC=new ze("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JC=new ze("MatFormField");let eE=(()=>{class e extends KC{constructor(e,t,n,r,i,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZC++,this._labelId="mat-form-field-label-"+ZC++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=vx(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Ig(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Lg(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Lg(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),G(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ig(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ig(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lg(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,kg(this._label.nativeElement,"transitionend").pipe(Vg(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=t+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(qs),To(KS,8),To(Jx,8),To(QC,8),To(ix),To(Ic),To(Kp,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(tc(n,$C,!0),nc(n,$C,!0),tc(n,HC,!0),nc(n,HC,!0),tc(n,qC,!0),tc(n,jC,!0),tc(n,UC,!0),tc(n,GC,!0),tc(n,WC,!0)),2&e){let e;Kl(e=ic())&&(t._controlNonStatic=e.first),Kl(e=ic())&&(t._controlStatic=e.first),Kl(e=ic())&&(t._labelChildNonStatic=e.first),Kl(e=ic())&&(t._labelChildStatic=e.first),Kl(e=ic())&&(t._placeholderChild=e.first),Kl(e=ic())&&(t._errorChildren=e),Kl(e=ic())&&(t._hintChildren=e),Kl(e=ic())&&(t._prefixChildren=e),Kl(e=ic())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(Jl(SC,!0),Ql(kC,!0),Jl(CC,!0),Jl(EC,!0)),2&e){let e;Kl(e=ic())&&(t.underlineRef=e.first),Kl(e=ic())&&(t._connectionContainerRef=e.first),Kl(e=ic())&&(t._inputContainerRef=e.first),Kl(e=ic())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&la("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[La([{provide:JC,useExisting:e}]),po],ngContentSelectors:BC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(Xo(zC),Po(0,"div",0),Po(1,"div",1,2),Uo("click",(function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)})),Ao(3,RC,9,0,"ng-container",3),Ao(4,AC,2,0,"div",4),Po(5,"div",5,6),Ko(7),Po(8,"span",7),Ao(9,OC,5,16,"label",8),Lo(),Lo(),Ao(10,MC,2,0,"div",9),Lo(),Ao(11,PC,3,4,"div",10),Po(12,"div",11),Ao(13,LC,2,1,"div",12),Ao(14,NC,5,2,"div",13),Lo(),Lo()),2&e&&(Si(3),Oo("ngIf","outline"==t.appearance),Si(1),Oo("ngIf",t._prefixChildren.length),Si(5),Oo("ngIf",t._hasFloatingLabel()),Si(1),Oo("ngIf",t._suffixChildren.length),Si(1),Oo("ngIf","outline"!=t.appearance),Si(1),Oo("ngSwitch",t._getDisplayedMessages()),Si(1),Oo("ngSwitchCase","error"),Si(1),Oo("ngSwitchCase","hint"))},directives:[Ph,zh,Bh,kx],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[VC.transitionMessages]},changeDetection:0}),e})(),tE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,oS,Cx],oS]}),e})();const nE=["trigger"],rE=["panel"];function iE(e,t){if(1&e&&(Po(0,"span",8),wa(1),Lo()),2&e){const e=Yo();Si(1),xa(e.placeholder||"\xa0")}}function sE(e,t){if(1&e&&(Po(0,"span"),wa(1),Lo()),2&e){const e=Yo(2);Si(1),xa(e.triggerValue||"\xa0")}}function oE(e,t){1&e&&Ko(0,0,["*ngSwitchCase","true"])}function aE(e,t){1&e&&(Po(0,"span",9),Ao(1,sE,2,1,"span",10),Ao(2,oE,1,0,"ng-content",11),Lo()),2&e&&(Oo("ngSwitch",!!Yo().customTrigger),Si(2),Oo("ngSwitchCase",!0))}function lE(e,t){if(1&e){const e=jo();Po(0,"div",12),Po(1,"div",13,14),Uo("@transformPanel.done",(function(t){return rn(e),Yo()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return rn(e),Yo()._handleKeydown(t)})),Ko(3,1),Lo(),Lo()}if(2&e){const e=Yo();Oo("@transformPanelWrap",void 0),Si(1),"mat-select-panel ",n=e._getPanelTheme(),"",da(st,ha,Ro(tn(),"mat-select-panel ",n,""),!0),aa("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Oo("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Eo("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}var n}const cE=[[["mat-select-trigger"]],"*"],hE=["mat-select-trigger","*"],uE={transformPanelWrap:Tu("transformPanelWrap",[Nu("* => void",Bu("@transformPanel",[zu()],{optional:!0}))]),transformPanel:Tu("transformPanel",[Lu("void",Pu({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Lu("showing",Pu({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Lu("showing-multiple",Pu({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Nu("void => *",Du("120ms cubic-bezier(0, 0, 0.2, 1)")),Nu("* => void",Du("100ms 25ms linear",Pu({opacity:0})))])};let dE=0;const pE=new ze("mat-select-scroll-strategy"),fE=new ze("MAT_SELECT_CONFIG"),mE={provide:pE,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class gE{constructor(e,t){this.source=e,this.value=t}}class vE{constructor(e,t,n,r,i){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const yE=cS(hS(aS(uS(vE)))),bE=new ze("MatSelectTrigger");let _E=(()=>{class e extends yE{constructor(e,t,n,r,i,s,o,a,l,c,h,u,d,p){super(i,r,o,a,c),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+dE++,this._triggerAriaLabelledBy=null,this._destroy=new S,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+dE++,this._transformOrigin="top",this._panelDoneAnimatingStream=new S,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=ly(()=>{const e=this.options;return e?e.changes.pipe(Ig(e),Og(()=>G(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Vg(1),Og(()=>this.optionSelectionChanges))}),this.openedChange=new jl,this._openedStream=this.openedChange.pipe(nf(e=>e),E(()=>{})),this._closedStream=this.openedChange.pipe(nf(e=>!e),E(()=>{})),this.selectionChange=new jl,this.valueChange=new jl,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=vx(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=vx(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=vx(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=yx(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Tk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(e=>e.lift(new Tg(void 0,void 0)),Lg(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Lg(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Lg(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Ig(null),Lg(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=40===t||38===t||37===t||39===t,r=13===t||32===t,i=this._keyManager;if(!i.isTyping()&&r&&!dx(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;i.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,r=40===n||38===n,i=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(i||13!==n&&32!==n||!t.activeItem||dx(e))if(!i&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Vg(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.multiple&&e)Array.isArray(e),this._selectionModel.clear(),e.forEach(e=>this._selectValue(e)),this._sortValues();else{this._selectionModel.clear();const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new Ox(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Lg(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Lg(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=G(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Lg(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),G(...this.options.map(e=>e._stateChanges)).pipe(Lg(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new gE(this,t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const e=this._keyManager.activeItemIndex||0,t=ZS(e,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(e+t)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}focus(e){this._elementRef.nativeElement.focus(e)}_getOptionIndex(e){return this.options.reduce((t,n,r)=>void 0!==t?t:e===n?r:void 0,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,256),r=t*e-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=ZS(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(e,t,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._getLabelId();return this.ariaLabelledby?e+" "+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var e;return(null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId())||""}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let e=this._selectionModel.selected[0]||this.options.first;i=e&&e.group?32:16}n||(i*=-1);const s=0-(e.left+i-(n?r:0)),o=e.right+i-t.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(256/r);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?e*r:this._scrollTop===n?(e-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-256)%r):t-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,256)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(To(Mk),To(qs),To(Ic),To(ES),To(Ba),To(Jx,8),To(Wm,8),To(eg,8),To(JC,8),To(Zf,10),Do("tabindex"),To(pE),To($x),To(fE,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(tc(n,bE,!0),tc(n,YS,!0),tc(n,US,!0)),2&e){let e;Kl(e=ic())&&(t.customTrigger=e.first),Kl(e=ic())&&(t.options=e),Kl(e=ic())&&(t.optionGroups=e)}},viewQuery:function(e,t){if(1&e&&(Jl(nE,!0),Jl(rE,!0),Jl(_C,!0)),2&e){let e;Kl(e=ic())&&(t.trigger=e.first),Kl(e=ic())&&(t.panel=e.first),Kl(e=ic())&&(t.overlayDir=e.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&Uo("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(Eo("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),la("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[La([{provide:$C,useExisting:e},{provide:GS,useExisting:e}]),po,Ot],ngContentSelectors:hE,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(Xo(cE),Po(0,"div",0,1),Uo("click",(function(){return t.toggle()})),Po(3,"div",2),Ao(4,iE,2,1,"span",3),Ao(5,aE,3,2,"span",4),Lo(),Po(6,"div",5),Fo(7,"div",6),Lo(),Lo(),Ao(8,lE,4,14,"ng-template",7),Uo("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){const e=Io(1);Si(3),Oo("ngSwitch",t.empty),Eo("id",t._valueId),Si(1),Oo("ngSwitchCase",!0),Si(1),Oo("ngSwitchCase",!1),Si(3),Oo("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[bC,zh,Bh,_C,jh,Ih],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[uE.transformPanelWrap,uE.transformPanel]},changeDetection:0}),e})(),wE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[mE],imports:[[Yh,xC,XS,oS],Pk,tE,XS,oS]}),e})();class xE{constructor(e){this.total=e}call(e,t){return t.subscribe(new SE(e,this.total))}}class SE extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}const kE=new Set;let CE,EE=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RE}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!kE.has(e))try{CE||(CE=document.createElement("style"),CE.setAttribute("type","text/css"),document.head.appendChild(CE)),CE.sheet&&(CE.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),kE.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ix))},e.\u0275prov=he({factory:function(){return new e(Ye(ix))},token:e,providedIn:"root"}),e})();function RE(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let AE=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new S}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return IE(bx(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=dg(IE(bx(e)).map(e=>this._registerQuery(e).observable));return t=Ag(t.pipe(Vg(1)),t.pipe(e=>e.lift(new xE(1)),px(0))),t.pipe(E(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe(Ig(t),E(({matches:t})=>({query:e,matches:t})),Lg(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(Ye(EE),Ye(Ic))},e.\u0275prov=he({factory:function(){return new e(Ye(EE),Ye(Ic))},token:e,providedIn:"root"}),e})();function IE(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const TE={tooltipState:Tu("state",[Lu("initial, void, hidden",Pu({opacity:0,transform:"scale(0)"})),Lu("visible",Pu({transform:"scale(1)"})),Nu("* => visible",Du("200ms cubic-bezier(0, 0, 0.2, 1)",Fu([Pu({opacity:0,transform:"scale(0)",offset:0}),Pu({opacity:.5,transform:"scale(0.99)",offset:.5}),Pu({opacity:1,transform:"scale(1)",offset:1})]))),Nu("* => hidden",Du("100ms cubic-bezier(0, 0, 0.2, 1)",Pu({opacity:0})))])},DE=hx({passive:!0}),OE=new ze("mat-tooltip-scroll-strategy"),ME={provide:OE,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},PE=new ze("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let LE=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,h){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new S,this._handleKeydown=e=>{this._isTooltipVisible()&&27===e.keyCode&&!dx(e)&&(e.preventDefault(),e.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),i.runOutsideAngular(()=>{t.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=vx(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?(""+e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Lg(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,DE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new Nk(FE,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Lg(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return t.positionChanges.pipe(Lg(this._destroyed)).subscribe(e=>{this._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Lg(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t||"below"==t?n={originX:"center",originY:"above"==t?"top":"bottom"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={originX:"start",originY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t?n={overlayX:"center",overlayY:"bottom"}:"below"==t?n={overlayX:"center",overlayY:"top"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={overlayX:"end",overlayY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Vg(1),Lg(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,DE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return e.\u0275fac=function(t){return new(t||e)(To(gC),To(Ba),To(Ok),To(ul),To(Ic),To(ix),To(Tx),To(Wx),To(OE),To(Jx,8),To(PE,8))},e.\u0275dir=bt({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),e})(),FE=(()=>{class e{constructor(e,t){this._changeDetectorRef=e,this._breakpointObserver=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new S,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(To(qs),To(AE))},e.\u0275cmp=pt({type:e,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&Uo("click",(function(){return t._handleBodyInteraction()}),!1,Kn),2&e&&aa("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(Po(0,"div",0),Uo("@state.start",(function(){return t._animationStart()}))("@state.done",(function(e){return t._animationDone(e)})),Ll(1,"async"),wa(2),Lo()),2&e){let e=null;la("mat-tooltip-handset",null==(e=Fl(1,5,t._isHandset))?null:e.matches),Oo("ngClass",t.tooltipClass)("@state",t._visibility),Si(2),xa(t.message)}},directives:[Ih],pipes:[qh],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[TE.tooltipState]},changeDetection:0}),e})(),NE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[ME],imports:[[Kx,Yh,xC,oS],oS,Pk]}),e})();function zE(e,t){if(1&e&&(Po(0,"mat-option",19),wa(1),Lo()),2&e){const e=t.$implicit;Oo("value",e),Si(1),Sa(" ",e," ")}}function BE(e,t){if(1&e){const e=jo();Po(0,"mat-form-field",16),Po(1,"mat-select",17),Uo("selectionChange",(function(t){return rn(e),Yo(2)._changePageSize(t.value)})),Ao(2,zE,2,2,"mat-option",18),Lo(),Lo()}if(2&e){const e=Yo(2);Oo("appearance",e._formFieldAppearance)("color",e.color),Si(1),Oo("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),Si(1),Oo("ngForOf",e._displayedPageSizeOptions)}}function jE(e,t){if(1&e&&(Po(0,"div",20),wa(1),Lo()),2&e){const e=Yo(2);Si(1),xa(e.pageSize)}}function VE(e,t){if(1&e&&(Po(0,"div",12),Po(1,"div",13),wa(2),Lo(),Ao(3,BE,3,6,"mat-form-field",14),Ao(4,jE,2,1,"div",15),Lo()),2&e){const e=Yo();Si(2),Sa(" ",e._intl.itemsPerPageLabel," "),Si(1),Oo("ngIf",e._displayedPageSizeOptions.length>1),Si(1),Oo("ngIf",e._displayedPageSizeOptions.length<=1)}}function $E(e,t){if(1&e){const e=jo();Po(0,"button",21),Uo("click",(function(){return rn(e),Yo().firstPage()})),Tn(),Po(1,"svg",7),Fo(2,"path",22),Lo(),Lo()}if(2&e){const e=Yo();Oo("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Eo("aria-label",e._intl.firstPageLabel)}}function UE(e,t){if(1&e){const e=jo();Tn(),Dn(),Po(0,"button",23),Uo("click",(function(){return rn(e),Yo().lastPage()})),Tn(),Po(1,"svg",7),Fo(2,"path",24),Lo(),Lo()}if(2&e){const e=Yo();Oo("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Eo("aria-label",e._intl.lastPageLabel)}}let HE=(()=>{class e{constructor(){this.changes=new S,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return"0 of "+n;const r=e*t;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+t,n):r+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();const qE={provide:HE,deps:[[new ie,new oe,HE]],useFactory:function(e){return e||new HE}},GE=new ze("MAT_PAGINATOR_DEFAULT_OPTIONS");class WE{}const YE=aS(dS(WE));let ZE=(()=>{class e extends YE{constructor(e,t,n){if(super(),this._intl=e,this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new jl,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:e,pageSizeOptions:t,hidePageSize:r,showFirstLastButtons:i,formFieldAppearance:s}=n;null!=e&&(this._pageSize=e),null!=t&&(this._pageSizeOptions=t),null!=r&&(this._hidePageSize=r),null!=i&&(this._showFirstLastButtons=i),null!=s&&(this._formFieldAppearance=s)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(yx(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=yx(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(yx(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(e=>yx(e)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=vx(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=vx(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(t)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return e.\u0275fac=function(t){return new(t||e)(To(HE),To(qs),To(GE,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[po],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"div",1),Ao(2,VE,5,3,"div",2),Po(3,"div",3),Po(4,"div",4),wa(5),Lo(),Ao(6,$E,3,5,"button",5),Po(7,"button",6),Uo("click",(function(){return t.previousPage()})),Tn(),Po(8,"svg",7),Fo(9,"path",8),Lo(),Lo(),Dn(),Po(10,"button",9),Uo("click",(function(){return t.nextPage()})),Tn(),Po(11,"svg",7),Fo(12,"path",10),Lo(),Lo(),Ao(13,UE,3,5,"button",11),Lo(),Lo(),Lo()),2&e&&(Si(2),Oo("ngIf",!t.hidePageSize),Si(3),Sa(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),Si(1),Oo("ngIf",t.showFirstLastButtons),Si(1),Oo("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Eo("aria-label",t._intl.previousPageLabel),Si(3),Oo("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Eo("aria-label",t._intl.nextPageLabel),Si(3),Oo("ngIf",t.showFirstLastButtons))},directives:[Ph,rk,LE,eE,_E,Oh,YS],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),e})(),XE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[qE],imports:[[Yh,ik,wE,NE]]}),e})();const KE=[[["caption"]],[["colgroup"],["col"]]],QE=["caption","colgroup, col"];function JE(e){return class extends e{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=vx(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const eR=new ze("CDK_TABLE");let tR=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["","cdkCellDef",""]]}),e})(),nR=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["","cdkHeaderCellDef",""]]}),e})(),rR=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["","cdkFooterCellDef",""]]}),e})();class iR{}const sR=JE(iR);let oR=(()=>{class e extends sR{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=vx(e),this._hasStickyChanged=t!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return e.\u0275fac=function(t){return new(t||e)(To(eR,8))},e.\u0275dir=bt({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){if(1&e&&(tc(n,tR,!0),tc(n,nR,!0),tc(n,rR,!0)),2&e){let e;Kl(e=ic())&&(t.cell=e.first),Kl(e=ic())&&(t.headerCell=e.first),Kl(e=ic())&&(t.footerCell=e.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[La([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),po]}),e})();class aR{constructor(e,t){const n=t.nativeElement.classList;for(const r of e._columnCssClassName)n.add(r)}}let lR=(()=>{class e extends aR{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(To(oR),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[po]}),e})(),cR=(()=>{class e extends aR{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(To(oR),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[po]}),e})();class hR{constructor(){this.tasks=[],this.endTasks=[]}}const uR=new ze("_COALESCED_STYLE_SCHEDULER");let dR=(()=>{class e{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new S}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hR,this._getScheduleObservable().pipe(Lg(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new hR;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?F(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Vg(1))}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),pR=(()=>{class e{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof gR?e.headerCell.template:this instanceof bR?e.footerCell.template:e.cell.template}}return e.\u0275fac=function(t){return new(t||e)(To(cl),To(il))},e.\u0275dir=bt({type:e,features:[Ot]}),e})();class fR extends pR{}const mR=JE(fR);let gR=(()=>{class e extends mR{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(To(cl),To(il),To(eR,8))},e.\u0275dir=bt({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[po,Ot]}),e})();class vR extends pR{}const yR=JE(vR);let bR=(()=>{class e extends yR{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(To(cl),To(il),To(eR,8))},e.\u0275dir=bt({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[po,Ot]}),e})(),_R=(()=>{class e extends pR{constructor(e,t,n){super(e,t),this._table=n}}return e.\u0275fac=function(t){return new(t||e)(To(cl),To(il),To(eR,8))},e.\u0275dir=bt({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[po]}),e})(),wR=(()=>{class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return e.\u0275fac=function(t){return new(t||e)(To(ul))},e.\u0275dir=bt({type:e,selectors:[["","cdkCellOutlet",""]]}),e.mostRecentCellOutlet=null,e})(),xR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Bo(0,0)},directives:[wR],encapsulation:2}),e})(),SR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Bo(0,0)},directives:[wR],encapsulation:2}),e})(),kR=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const CR=["top","bottom","left","right"];class ER{constructor(e,t,n,r,i=!0,s=!0){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s}clearStickyPositioning(e,t){const n=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let e=0;e<r.children.length;e++)n.push(r.children[e])}this._scheduleStyleChanges(()=>{for(const e of n)this._removeStickyStyle(e,t)})}updateStickyColumns(e,t,n){if(!e.length||!this._isBrowser||!t.some(e=>e)&&!n.some(e=>e))return;const r=e[0],i=r.children.length,s=this._getCellWidths(r),o=this._getStickyStartColumnPositions(s,t),a=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,s=r?"right":"left",l=r?"left":"right";for(const c of e)for(let e=0;e<i;e++){const r=c.children[e];t[e]&&this._addStickyStyle(r,s,o[e]),n[e]&&this._addStickyStyle(r,l,a[e])}})}stickRows(e,t,n){if(!this._isBrowser)return;const r="bottom"===n?e.slice().reverse():e,i="bottom"===n?t.slice().reverse():t,s=[],o=[];for(let a=0,l=0;a<r.length;a++){if(s[a]=l,!i[a])continue;const e=r[a];o[a]=this._isNativeHtmlTable?Array.from(e.children):[e],a!==r.length-1&&(l+=e.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let e=0;e<r.length;e++){if(!i[e])continue;const t=s[e];for(const r of o[e])this._addStickyStyle(r,n,t)}})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const n=e.querySelector("tfoot");this._scheduleStyleChanges(()=>{t.some(e=>!e)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(e,t){for(const n of t)e.style[n]="";CR.some(n=>-1===t.indexOf(n)&&e.style[n])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,n){e.classList.add(this._stickCellCss),e.style[t]=n+"px",e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of CR)e.style[r]&&(n+=t[r]);return n?""+n:""}_getCellWidths(e){const t=[],n=e.children;for(let r=0;r<n.length;r++)t.push(n[r].getBoundingClientRect().width);return t}_getStickyStartColumnPositions(e,t){const n=[];let r=0;for(let i=0;i<e.length;i++)t[i]&&(n[i]=r,r+=e[i]);return n}_getStickyEndColumnPositions(e,t){const n=[];let r=0;for(let i=e.length;i>0;i--)t[i]&&(n[i]=r,r+=e[i]);return n}_scheduleStyleChanges(e){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(e):e()}}let RR=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","rowOutlet",""]]}),e})(),AR=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","headerRowOutlet",""]]}),e})(),IR=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","footerRowOutlet",""]]}),e})(),TR=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(Ba))},e.\u0275dir=bt({type:e,selectors:[["","noDataRowOutlet",""]]}),e})(),DR=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=l,this._onDestroy=new S,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new ag({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=vx(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():e&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Ak(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const t=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,t,(e,t,n)=>this._getEmbeddedViewArgs(e.item,n),e=>e.item.data,e=>{1===e.operation&&e.context&&this._renderCellTemplateForItem(e.record.item.rowDef,e.context)}):e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const t=e.item;this._renderRow(this._rowOutlet,t.rowDef,r,{$implicit:t.data})}else if(null==r)t.remove(n);else{const e=t.get(n);t.move(e,r)}}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");const n=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");const n=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),e.forEach((e,t)=>{this._addStickyColumnStyles([e],this._headerRowDefs[t])}),this._rowDefs.forEach(e=>{const n=[];for(let r=0;r<t.length;r++)this._renderRows[r].rowDef===e&&n.push(t[r]);this._addStickyColumnStyles(n,e)}),n.forEach((e,t)=>{this._addStickyColumnStyles([e],this._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(e=>e.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,t.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let t=0;t<i.length;t++){let n=i[t];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),e.push(n)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const e=i.shift();return e.dataIndex=t,e}return{data:e,rowDef:r,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),OR(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{this._columnDefsByName.has(e.name),this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=OR(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=OR(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=OR(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(e=>!e.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(e,t)=>e||!!t.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),t||n||r}_switchDataSource(e){this._data=[],Ak(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;var t;Ak(this.dataSource)?e=this.dataSource.connect(this):(t=this.dataSource)&&(t instanceof y||"function"==typeof t.lift&&"function"==typeof t.subscribe)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ef(this.dataSource)),this._renderChangeSubscription=e.pipe(Lg(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const n=Array.from(t.columns||[]).map(e=>this._columnDefsByName.get(e)),r=n.map(e=>e.sticky),i=n.map(e=>e.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,i)}_getRenderedRows(e){const t=[];for(let n=0;n<e.viewContainer.length;n++){const r=e.viewContainer.get(n);t.push(r.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(t,e));else{let r=this._rowDefs.find(n=>n.when&&n.when(t,e))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}_renderRow(e,t,n,r={}){const i=e.viewContainer.createEmbeddedView(t.template,r,n);return this._renderCellTemplateForItem(t,r),i}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))wR.mostRecentCellOutlet&&wR.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){const r=e.get(t).context;r.count=n,r.first=0===t,r.last=t===n-1,r.even=t%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[t].dataIndex,r.renderIndex=t):r.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of t){const t=this._document.createElement(n.tag);t.setAttribute("role","rowgroup");for(const e of n.outlets)t.appendChild(e.elementRef.nativeElement);e.appendChild(t)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(e,t)=>e||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new ER(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:ef()).pipe(Lg(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){if(this._noDataRow){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const t=this._noDataRowOutlet.viewContainer;e?t.createEmbeddedView(this._noDataRow.templateRef):t.clear(),this._isShowingNoDataRow=e}}}}return e.\u0275fac=function(t){return new(t||e)(To(il),To(qs),To(Ba),Do("role"),To(Jx,8),To(ah),To(ix),To(Dk,8),To(uR,8))},e.\u0275cmp=pt({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){if(1&e&&(tc(n,kR,!0),tc(n,oR,!0),tc(n,_R,!0),tc(n,gR,!0),tc(n,bR,!0)),2&e){let e;Kl(e=ic())&&(t._noDataRow=e.first),Kl(e=ic())&&(t._contentColumnDefs=e),Kl(e=ic())&&(t._contentRowDefs=e),Kl(e=ic())&&(t._contentHeaderRowDefs=e),Kl(e=ic())&&(t._contentFooterRowDefs=e)}},viewQuery:function(e,t){if(1&e&&(Ql(RR,!0),Ql(AR,!0),Ql(IR,!0),Ql(TR,!0)),2&e){let e;Kl(e=ic())&&(t._rowOutlet=e.first),Kl(e=ic())&&(t._headerRowOutlet=e.first),Kl(e=ic())&&(t._footerRowOutlet=e.first),Kl(e=ic())&&(t._noDataRowOutlet=e.first)}},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[La([{provide:eR,useExisting:e},{provide:Dk,useClass:Ik},{provide:uR,useClass:dR}])],ngContentSelectors:QE,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Xo(KE),Ko(0),Ko(1,1),Bo(2,0),Bo(3,1),Bo(4,2),Bo(5,3))},directives:[AR,RR,TR,IR],encapsulation:2}),e})();function OR(e,t){return e.concat(Array.from(t))}let MR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Lk]]}),e})();const PR=[[["caption"]],[["colgroup"],["col"]]],LR=["caption","colgroup, col"];let FR=(()=>{class e extends DR{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return e.\u0275fac=function(t){return NR(t||e)},e.\u0275cmp=pt({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[La([{provide:Dk,useClass:Ik},{provide:DR,useExisting:e},{provide:eR,useExisting:e},{provide:uR,useClass:dR}]),po],ngContentSelectors:LR,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Xo(PR),Ko(0),Ko(1,1),Bo(2,0),Bo(3,1),Bo(4,2),Bo(5,3))},directives:[AR,RR,TR,IR],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),e})();const NR=gr(FR);let zR=(()=>{class e extends tR{}return e.\u0275fac=function(t){return BR(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matCellDef",""]],features:[La([{provide:tR,useExisting:e}]),po]}),e})();const BR=gr(zR);let jR=(()=>{class e extends nR{}return e.\u0275fac=function(t){return VR(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matHeaderCellDef",""]],features:[La([{provide:nR,useExisting:e}]),po]}),e})();const VR=gr(jR);let $R=(()=>{class e extends oR{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return e.\u0275fac=function(t){return UR(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[La([{provide:oR,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),po]}),e})();const UR=gr($R);let HR=(()=>{class e extends lR{}return e.\u0275fac=function(t){return qR(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[po]}),e})();const qR=gr(HR);let GR=(()=>{class e extends cR{}return e.\u0275fac=function(t){return WR(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[po]}),e})();const WR=gr(GR);let YR=(()=>{class e extends gR{}return e.\u0275fac=function(t){return ZR(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[La([{provide:gR,useExisting:e}]),po]}),e})();const ZR=gr(YR);let XR=(()=>{class e extends _R{}return e.\u0275fac=function(t){return KR(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[La([{provide:_R,useExisting:e}]),po]}),e})();const KR=gr(XR);let QR=(()=>{class e extends xR{}return e.\u0275fac=function(t){return JR(t||e)},e.\u0275cmp=pt({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[La([{provide:xR,useExisting:e}]),po],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Bo(0,0)},directives:[wR],encapsulation:2}),e})();const JR=gr(QR);let eA=(()=>{class e extends SR{}return e.\u0275fac=function(t){return tA(t||e)},e.\u0275cmp=pt({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[La([{provide:SR,useExisting:e}]),po],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Bo(0,0)},directives:[wR],encapsulation:2}),e})();const tA=gr(eA);let nA=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[MR,oS],oS]}),e})();const rA=[{id:"name",name:"Name",hidden:!1},{id:"imgt_name",name:"IMGT Name",hidden:!1},{id:"type",name:"Type",hidden:!1},{id:"novel",name:"Novel",hidden:!1},{id:"deleted",name:"Deleted",hidden:!1},{id:"sequence",name:"Sequence",hidden:!1},{id:"gapped_sequence",name:"Gapped",hidden:!1},{id:"feature",name:"Feature",hidden:!1},{id:"start",name:"Start",hidden:!1},{id:"end",name:"End",hidden:!1},{id:"score",name:"Score",hidden:!1},{id:"strand",name:"Strand",hidden:!1},{id:"frame",name:"Frame",hidden:!1},{id:"refseq_name",name:"Reference",hidden:!1},{id:"sample_count",name:"Samples",hidden:!1},{id:"appearances",name:"Appearances",hidden:!1}];var iA=function(e){return e[e.TEXT_MODE=0]="TEXT_MODE",e[e.NUMBER_MODE=1]="NUMBER_MODE",e[e.DATE_MODE=2]="DATE_MODE",e[e.BOOL_MODE=3]="BOOL_MODE",e}({});let sA=(()=>{class e{loadSavedInfo(e,t){if(t){if(!localStorage)return;let n=localStorage.getItem("table-params-"+t);if(n&&"{}"!==n)try{let e=JSON.parse(n);return e=new Map(e),e}catch(NB){n=null}return!n&&t&&this.saveInfo(e,t),e}}saveInfo(e,t){if(t){if(!localStorage)return;const n=Array.from(e),r=JSON.stringify(n);localStorage.setItem("table-params-"+t,r)}}mapToObj(e){return Array.from(e).reduce((e,[t,n])=>(e[t]=n,e),{})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),oA=(()=>{class e{constructor(){this.selection=new ag({names:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aA=(()=>{class e{constructor(){this.selection=new ag({ids:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lA(e){const{subscriber:t,counter:n,period:r}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function cA(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function hA(e,t){const n=t?"":"none";cA(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function uA(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function dA(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function pA(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function fA(e,t,n){const{top:r,bottom:i,left:s,right:o}=e;return n>=r&&n<=i&&t>=s&&t<=o}function mA(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function gA(e,t,n,r){const{top:i,right:s,bottom:o,left:a,width:l,height:c}=e,h=l*t,u=c*t;return r>i-u&&r<o+u&&n>a-h&&n<s+h}class vA{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:pA(e)})})}handleScroll(e){const t=e.target,n=this.positions.get(t);if(!n)return null;const r=t===this._document?t.documentElement:t,i=n.scrollPosition;let s,o;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();s=e.top,o=e.left}else s=t.scrollTop,o=t.scrollLeft;const a=i.top-s,l=i.left-o;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&r.contains(n)&&mA(e.clientRect,a,l)}),i.top=s,i.left=o,{top:a,left:l}}}function yA(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?xA(e,t):"input"!==r&&"select"!==r&&"textarea"!==r||wA(e,t),bA("canvas",e,t,xA),bA("input, textarea, select",e,t,wA),t}function bA(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const t=n.querySelectorAll(e);for(let e=0;e<i.length;e++)r(i[e],t[e])}}let _A=0;function wA(e,t){t.value=e.value,"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${_A++}`)}function xA(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(NB){}}const SA=hx({passive:!0}),kA=hx({passive:!1});class CA{constructor(e,t,n,r,i,s){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new S,this._pointerMoveSubscription=u.EMPTY,this._pointerUpSubscription=u.EMPTY,this._scrollSubscription=u.EMPTY,this._resizeSubscription=u.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new S,this.started=new S,this.released=new S,this.ended=new S,this.entered=new S,this.exited=new S,this.dropped=new S,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{e.preventDefault();const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(e)))return void this._endDragSequence(e);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),this._parentPositions=new vA(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=vx(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){return this._handles=e.map(e=>wx(e)),this._handles.forEach(e=>hA(e,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=wx(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,kA),t.addEventListener("touchstart",this._pointerDown,SA)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?wx(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&AA(this._rootElement),AA(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){this._handles.indexOf(e)>-1&&this._disabledHandles.add(e)}enableHandle(e){this._disabledHandles.delete(e)}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&AA(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&AA(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){IA(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,r=e.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,e),e.style.display="none",this._document.body.appendChild(r.replaceChild(s,e)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){t.stopPropagation();const n=this.isDragging(),r=IA(t),i=!r&&0!==t.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=pA(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),i=this._getDragDistance(this._getPointerPositionOnPage(e)),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),t.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,e,t,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=EA(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let r;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,i=e.viewContainer.createEmbeddedView(n,e.context);i.detectChanges(),r=TA(i,this._document),this._previewRef=i,e.matchSize?DA(r,t):r.style.transform=EA(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;r=yA(e),DA(r,e.getBoundingClientRect())}return cA(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),hA(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>r.classList.add(e)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=EA(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=dA(t,"transition-property"),r=n.find(e=>"transform"===e||"all"===e);if(!r)return 0;const i=n.indexOf(r),s=dA(t,"transition-duration"),o=dA(t,"transition-delay");return uA(s[i])+uA(o[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(r))},r=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=TA(this._placeholderRef,this._document)):n=yA(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,i=r?r.getBoundingClientRect():n,s=IA(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=IA(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,i=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=r,t.y=i,t.matrixTransform(e.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+t,a=i.bottom-(s.height-t);n=RA(n,i.left+e,i.right-(s.width-e)),r=RA(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>i.x?1:-1,i.x=t),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,hA(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,kA),e.removeEventListener("touchstart",this._pointerDown,SA)}_applyRootElementTransform(e,t){const n=EA(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(e+=i),s>0&&(e-=s)):e=0,n.height>r.height?(o>0&&(t+=o),a>0&&(t-=a)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:IA(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&mA(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function EA(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function RA(e,t,n){return Math.max(t,Math.min(n,e))}function AA(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function IA(e){return"t"===e.type[0]}function TA(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach(e=>r.appendChild(e)),r}function DA(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transform=EA(t.left,t.top)}function OA(e,t,n){const r=MA(t,e.length-1),i=MA(n,e.length-1);if(r===i)return;const s=e[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)e[a]=e[a+o];e[i]=s}function MA(e,t){return Math.max(0,Math.min(t,e))}class PA{constructor(e,t,n,r,i){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new S,this.entered=new S,this.exited=new S,this.dropped=new S,this.sorted=new S,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=u.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new S,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=bg){return(!_g(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=bg),new y(n=>(n.add(t.schedule(lA,e,{subscriber:n,counter:0,period:e})),n))}(0,ak).pipe(Lg(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?FA(e,-2):2===this._verticalScrollDirection&&FA(e,2),1===this._horizontalScrollDirection?NA(e,-2):2===this._horizontalScrollDirection&&NA(e,2)})},this.element=wx(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new vA(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=wx(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(e,t,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(e,t,n))):i=r;const s=this._activeDraggables,o=s.indexOf(e),a=e.getPlaceholderElement();let l=s[i];if(l===e&&(l=s[i+1]),o>-1&&s.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(a,t),s.splice(i,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=s[0].getRootElement();t.parentNode.insertBefore(a,t),s.unshift(e)}else wx(this.element).appendChild(a),s.push(e);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(e)),this.dropped.next({item:e,currentIndex:t,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=wx(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?LA("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,r){if(this.sortingDisabled||!gA(this._clientRect,.05,t,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=LA(i,t=>t.drag===e),l=i[s],c=l.clientRect,h=a>s?1:-1,u=this._getItemOffsetPx(i[a].clientRect,c,h),d=this._getSiblingOffsetPx(a,i,h),p=i.slice();OA(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:e}),i.forEach((t,n)=>{if(p[n]===t)return;const r=t.drag===e,i=r?u:d,s=r?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,o?(s.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,mA(t.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,mA(t.clientRect,i,0))}),this._previousSwap.overlaps=fA(c,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&gA(s.clientRect,.05,e,t)&&([r,i]=function(e,t,n,r){const i=zA(t,r),s=BA(t,n);let o=0,a=0;if(i){const t=e.scrollTop;1===i?t>0&&(o=1):e.scrollHeight-t>e.clientHeight&&(o=2)}if(s){const t=e.scrollLeft;1===s?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,e,t),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=zA(a,t),i=BA(a,e),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const e=wx(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,clientRect:pA(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=wx(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const r="horizontal"===this._orientation,i=t[e].clientRect,s=t[e+-1*n];let o=i[r?"width":"height"]*n;if(s){const e=r?"left":"top",t=r?"right":"bottom";-1===n?o-=s.clientRect[e]-i[t]:o+=i[e]-s.clientRect[t]}return o}_getItemOffsetPx(e,t,n){const r="horizontal"===this._orientation;let i=r?t.left-e.left:t.top-e.top;return-1===n&&(i+=r?t.width-e.width:t.height-e.height),i}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?e>=i.right:t>=i.bottom}{const i=n[0].clientRect;return r?e<=i.left:t<=i.top}}_getItemIndexFromPointerPosition(e,t,n,r){const i="horizontal"===this._orientation;return LA(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===e)return l.length<2;if(r){const e=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return i?t>=Math.floor(o.left)&&t<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return fA(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(r=>r._canReceive(e,t,n))}_canReceive(e,t,n){if(!fA(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const i=wx(this.element);return r===i||i.contains(r)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{mA(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=ux(wx(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}}function LA(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function FA(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function NA(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function zA(e,t){const{top:n,bottom:r,height:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}function BA(e,t){const{left:n,right:r,width:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}const jA=hx({passive:!1,capture:!0});let VA=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new S,this.pointerUp=new S,this.scroll=new S,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.size&&(e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,jA)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jA)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jA}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:jA}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic),Ye(ah))},e.\u0275prov=he({factory:function(){return new e(Ye(Ic),Ye(ah))},token:e,providedIn:"root"}),e})();const $A={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let UA=(()=>{class e{constructor(e,t,n,r){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(e,t=$A){return new CA(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new PA(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(Ye(ah),Ye(Ic),Ye(Mk),Ye(VA))},e.\u0275prov=he({factory:function(){return new e(Ye(ah),Ye(Ic),Ye(Mk),Ye(VA))},token:e,providedIn:"root"}),e})();const HA=new ze("CDK_DRAG_PARENT"),qA=new ze("CdkDropListGroup"),GA=new ze("CDK_DRAG_CONFIG");let WA=0;const YA=new ze("CdkDropList");let ZA=(()=>{class e{constructor(t,n,r,i,s,o,a){this.element=t,this._changeDetectorRef=r,this._dir=i,this._group=s,this._scrollDispatcher=o,this._destroyed=new S,this.connectedTo=[],this.id="cdk-drop-list-"+WA++,this.enterPredicate=()=>!0,this.dropped=new jl,this.entered=new jl,this.exited=new jl,this.sorted=new jl,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,a&&this._assignDefaults(a),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=vx(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ig(this._dir.value),Lg(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const n=bx(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);if(this._group&&this._group._items.forEach(e=>{-1===n.indexOf(e)&&n.push(e)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=vx(this.sortingDisabled),t.autoScrollDisabled=vx(this.autoScrollDisabled),t.connectedTo(n.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:s}=e;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=s||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(UA),To(qs),To(Jx,8),To(qA,12),To(Ok),To(GA,8))},e.\u0275dir=bt({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(Ea("id",t.id),la("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[La([{provide:qA,useValue:void 0},{provide:YA,useExisting:e}])]}),e._dropLists=[],e})();const XA=new ze("CdkDragHandle");let KA=(()=>{class e{constructor(e,t){this.element=e,this._stateChanges=new S,this._disabled=!1,this._parentDrag=t}get disabled(){return this._disabled}set disabled(e){this._disabled=vx(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(HA,12))},e.\u0275dir=bt({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[La([{provide:XA,useExisting:e}])]}),e})();const QA=new ze("CdkDragPlaceholder"),JA=new ze("CdkDragPreview");let eI=(()=>{class e{constructor(e){this.templateRef=e,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=vx(e)}}return e.\u0275fac=function(t){return new(t||e)(To(cl))},e.\u0275dir=bt({type:e,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[La([{provide:JA,useExisting:e}])]}),e})(),tI=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c){this.element=e,this.dropContainer=t,this._document=n,this._ngZone=r,this._viewContainerRef=i,this._dir=o,this._changeDetectorRef=l,this._selfHandle=c,this._destroyed=new S,this.started=new jl,this.released=new jl,this.ended=new jl,this.entered=new jl,this.exited=new jl,this.dropped=new jl,this.moved=new y(e=>{const t=this._dragRef.moved.pipe(E(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=a.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=vx(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Vg(1),Lg(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Ig(this._handles),Hg(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Og(e=>G(...e.map(e=>e._stateChanges.pipe(Ig(e))))),Lg(this._destroyed)).subscribe(e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(e){const t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?nI(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?nI(this.element.nativeElement,e):wx(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:yx(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),t&&e.withDirection(t.value)}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=e;this.disabled=null!=o&&o,this.dragStartDelay=n||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(YA,12),To(ah),To(Ic),To(ul),To(GA,8),To(Jx,8),To(UA),To(qs),To(XA,10))},e.\u0275dir=bt({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){if(1&e&&(tc(n,JA,!0),tc(n,QA,!0),tc(n,XA,!0)),2&e){let e;Kl(e=ic())&&(t._previewTemplate=e.first),Kl(e=ic())&&(t._placeholderTemplate=e.first),Kl(e=ic())&&(t._handles=e)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&la("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[La([{provide:HA,useExisting:e}]),Ot]}),e})();function nI(e,t){let n=e.parentElement;for(;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}let rI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[UA],imports:[Pk]}),e})(),iI=(()=>{class e{loadSavedColumnInfo(e,t){if(t){if(!localStorage)return;const n=localStorage.getItem(t+"-columns");return n?JSON.parse(n):(t&&this.saveColumnInfo(e,t),this.saveColumnInfo(e),e)}}saveColumnInfo(e,t){if(t){if(!localStorage)return;localStorage.setItem(t+"-columns",JSON.stringify(e))}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const sI=["mat-menu-item",""],oI=["*"];function aI(e,t){if(1&e){const e=jo();Po(0,"div",0),Uo("keydown",(function(t){return rn(e),Yo()._handleKeydown(t)}))("click",(function(){return rn(e),Yo().closed.emit("click")}))("@transformMenu.start",(function(t){return rn(e),Yo()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return rn(e),Yo()._onAnimationDone(t)})),Po(1,"div",1),Ko(2),Lo(),Lo()}if(2&e){const e=Yo();Oo("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Eo("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const lI={transformMenu:Tu("transformMenu",[Lu("void",Pu({opacity:0,transform:"scale(0.8)"})),Nu("void => enter",Ou([Bu(".mat-menu-content, .mat-mdc-menu-content",Du("100ms linear",Pu({opacity:1}))),Du("120ms cubic-bezier(0, 0, 0.2, 1)",Pu({transform:"scale(1)"}))])),Nu("* => void",Du("100ms 25ms linear",Pu({opacity:0})))]),fadeInItems:Tu("fadeInItems",[Lu("showing",Pu({opacity:1})),Nu("void => *",[Pu({opacity:0}),Du("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},cI=new ze("MatMenuContent");let hI=(()=>{class e{constructor(e,t,n,r,i,s,o){this._template=e,this._componentFactoryResolver=t,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=s,this._changeDetectorRef=o,this._attached=new S}attach(e={}){this._portal||(this._portal=new zk(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Vk(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const t=this._template.elementRef.nativeElement;t.parentNode.insertBefore(this._outlet.outletElement,t),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return e.\u0275fac=function(t){return new(t||e)(To(cl),To(za),To(Yc),To(lo),To(ul),To(ah),To(qs))},e.\u0275dir=bt({type:e,selectors:[["ng-template","matMenuContent",""]],features:[La([{provide:cI,useExisting:e}])]}),e})();const uI=new ze("MAT_MENU_PANEL");class dI{}const pI=cS(aS(dI));let fI=(()=>{class e extends pI{constructor(e,t,n,r){super(),this._elementRef=e,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new S,this._focused=new S,this._highlighted=!1,this._triggersSubmenu=!1,r&&r.addItem&&r.addItem(this),this._document=t}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement,t=this._document?this._document.TEXT_NODE:3;let n="";if(e.childNodes){const r=e.childNodes.length;for(let i=0;i<r;i++)e.childNodes[i].nodeType===t&&(n+=e.childNodes[i].textContent)}return n.trim()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(ah),To(Wx),To(uI,8))},e.\u0275cmp=pt({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t._checkDisabled(e)}))("mouseenter",(function(){return t._handleMouseEnter()})),2&e&&(Eo("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),la("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[po],attrs:sI,ngContentSelectors:oI,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(Xo(),Ko(0),Fo(1,"div",0)),2&e&&(Si(1),Oo("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[PS],encapsulation:2,changeDetection:0}),e})();const mI=new ze("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let gI=0,vI=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._ngZone=t,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new $l,this._tabSubscription=u.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new S,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new jl,this.close=this.closed,this.panelId="mat-menu-panel-"+gI++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=vx(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=vx(e)}set panelClass(e){const t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(e=>{this._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(e=>{this._classList[e]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Mx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ig(this._directDescendantItems),Og(e=>G(...e.map(e=>e._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ig(this._directDescendantItems),Og(e=>G(...e.map(e=>e._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const t=e.keyCode,n=this._keyManager;switch(t){case 27:dx(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==t&&40!==t||n.setFocusOrigin("keyboard"),n.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length){let e=this._directDescendantItems.first._getHostElement().parentElement;for(;e;){if("menu"===e.getAttribute("role")){e.focus();break}e=e.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const t="mat-elevation-z"+Math.min(4+e,24),n=Object.keys(this._classList).find(e=>e.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}setPositionClasses(e=this.xPosition,t=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===t,n["mat-menu-below"]="below"===t}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ig(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ic),To(mI))},e.\u0275dir=bt({type:e,contentQueries:function(e,t,n){if(1&e&&(tc(n,cI,!0),tc(n,fI,!0),tc(n,fI,!1)),2&e){let e;Kl(e=ic())&&(t.lazyContent=e.first),Kl(e=ic())&&(t._allItems=e),Kl(e=ic())&&(t.items=e)}},viewQuery:function(e,t){if(1&e&&Jl(cl,!0),2&e){let e;Kl(e=ic())&&(t.templateRef=e.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),e})(),yI=(()=>{class e extends vI{}return e.\u0275fac=function(t){return bI(t||e)},e.\u0275dir=bt({type:e,features:[po]}),e})();const bI=gr(yI);let _I=(()=>{class e extends yI{constructor(e,t,n){super(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ic),To(mI))},e.\u0275cmp=pt({type:e,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[La([{provide:uI,useExisting:yI},{provide:yI,useExisting:e}]),po],ngContentSelectors:oI,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(Xo(),Ao(0,aI,3,6,"ng-template"))},directives:[Ih],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[lI.transformMenu,lI.fadeInItems]},changeDetection:0}),e})();const wI=new ze("mat-menu-scroll-strategy"),xI={provide:wI,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},SI=hx({passive:!0});let kI=(()=>{class e{constructor(e,t,n,r,i,s,o,a){this._overlay=e,this._element=t,this._viewContainerRef=n,this._parentMenu=i,this._menuItemInstance=s,this._dir=o,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=u.EMPTY,this._hoverSubscription=u.EMPTY,this._menuCloseSubscription=u.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new jl,this.onMenuOpen=this.menuOpened,this.menuClosed=new jl,this.onMenuClose=this.menuClosed,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,SI),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(e=>{this._destroyMenu(),"click"!==e&&"tab"!==e||!this._parentMenu||this._parentMenu.closed.emit(e)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,SI),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),t.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof yI&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof yI?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(nf(e=>"void"===e.toState),Vg(1),Lg(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let e=0,t=this.menu.parentMenu;for(;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Jk({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(e=>{this.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[t,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,l]=[t,n],c=0;this.triggersSubmenu()?(l=t="before"===this.menu.xPosition?"start":"end",n=a="end"===t?"start":"end",c="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),e.withPositions([{originX:t,originY:s,overlayX:a,overlayY:r,offsetY:c},{originX:n,originY:s,overlayX:l,overlayY:r,offsetY:c},{originX:t,originY:o,overlayX:a,overlayY:i,offsetY:-c},{originX:n,originY:o,overlayX:l,overlayY:i,offsetY:-c}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments();return G(e,this._parentMenu?this._parentMenu.closed:ef(),this._parentMenu?this._parentMenu._hovered().pipe(nf(e=>e!==this._menuItemInstance),nf(()=>this._menuOpen)):ef(),t)}_handleMousedown(e){Hx(e)||(this._openedBy=0===e.button?"mouse":null,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;this.triggersSubmenu()&&(39===t&&"ltr"===this.dir||37===t&&"rtl"===this.dir)&&this.openMenu()}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(nf(e=>e===this._menuItemInstance&&!e.disabled),Jg(0,mk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof yI&&this.menu._isAnimating?this.menu._animationDone.pipe(Vg(1),Jg(0,mk),Lg(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new zk(this.menu.templateRef,this._viewContainerRef)),this._portal}}return e.\u0275fac=function(t){return new(t||e)(To(gC),To(Ba),To(ul),To(wI),To(yI,8),To(fI,10),To(Jx,8),To(Wx))},e.\u0275dir=bt({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&Uo("mousedown",(function(e){return t._handleMousedown(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("click",(function(e){return t._handleClick(e)})),2&e&&Eo("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),e})(),CI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[xI],imports:[oS]}),e})(),EI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[xI],imports:[[Yh,oS,LS,xC,CI],Pk,oS,CI]}),e})();const RI=["*"];function AI(e){return Error(`Unable to find icon with the name "${e}"`)}function II(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function TI(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class DI{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let OI=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new DI(n,null,r))}addSvgIconLiteralInNamespace(e,t,n,r){const i=this._sanitizer.sanitize(ni.HTML,n);if(!i)throw TI(n);return this._addSvgIconConfig(e,t,new DI("",i,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new DI(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const r=this._sanitizer.sanitize(ni.HTML,t);if(!r)throw TI(t);return this._addSvgIconSetConfig(e,new DI("",r,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(ni.RESOURCE_URL,e);if(!t)throw II(e);const n=this._cachedIconsByUrl.get(t);return n?ef(MI(n)):this._loadSvgIconFromConfig(new DI(e,null)).pipe(Hg(e=>this._cachedIconsByUrl.set(t,e)),E(e=>MI(e)))}getNamedSvgIcon(e,t=""){const n=PI(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):Xg(AI(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ef(MI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(E(e=>MI(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?ef(n):zf(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(xy(t=>{const n=this._sanitizer.sanitize(ni.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),ef(null)})))).pipe(E(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw AI(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Hg(t=>e.svgText=t),E(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ef(null):this._fetchIcon(e).pipe(Hg(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:r}=e,i=null!==(t=null==r?void 0:r.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(ni.RESOURCE_URL,n);if(!s)throw II(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:i}).pipe(Ey(()=>this._inProgressUrlFetches.delete(s)),ee());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(PI(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}}return e.\u0275fac=function(t){return new(t||e)(Ye(xf,8),Ye(ku),Ye(ah,8),Ye(_r))},e.\u0275prov=he({factory:function(){return new e(Ye(xf,8),Ye(ku),Ye(ah,8),Ye(_r))},token:e,providedIn:"root"}),e})();function MI(e){return e.cloneNode(!0)}function PI(e,t){return e+":"+t}class LI{constructor(e){this._elementRef=e}}const FI=lS(LI),NI=new ze("mat-icon-location",{providedIn:"root",factory:function(){const e=Ze(ah),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),zI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BI=zI.map(e=>`[${e}]`).join(", "),jI=/^url\(['"]?#(.*?)['"]?\)$/;let VI=(()=>{class e extends FI{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=u.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=vx(e)}get fontSet(){return this._fontSet}set fontSet(e){this._fontSet=this._cleanupFontValue(e)}get fontIcon(){return this._fontIcon}set fontIcon(e){this._fontIcon=this._cleanupFontValue(e)}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnChanges(e){const t=e.svgIcon;if(this._svgNamespace=null,this._svgName=null,t)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[e,t]=this._splitIconName(this.svgIcon);e&&(this._svgNamespace=e),t&&(this._svgName=t),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(t,e).pipe(Vg(1)).subscribe(e=>this._setSvgElement(e),n=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${t}! ${n.message}`))})}else t.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(BI),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)zI.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(jI):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(OI),Do("aria-hidden"),To(NI),To(_r))},e.\u0275cmp=pt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(Eo("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),la("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[po,Ot],ngContentSelectors:RI,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Ko(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),$I=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[oS],oS]}),e})();const UI=["input"],HI=function(){return{enterDuration:150}},qI=["*"],GI=new ze("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),WI=new ze("mat-checkbox-click-action");let YI=0;const ZI={provide:jf,useExisting:Se(()=>JI),multi:!0};class XI{}class KI{constructor(e){this._elementRef=e}}const QI=hS(lS(cS(aS(KI))));let JI=(()=>{class e extends QI{constructor(e,t,n,r,i,s,o,a){super(e),this._changeDetectorRef=t,this._focusMonitor=n,this._ngZone=r,this._clickAction=s,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++YI,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new jl,this.indeterminateChange=new jl,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(i)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(e){this._required=vx(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=vx(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=vx(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,n=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new XI;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e="keyboard",t){this._focusMonitor.focusVia(this._inputElement,e,t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let n="";switch(e){case 0:if(1===t)n="unchecked-checked";else{if(3!=t)return"";n="unchecked-indeterminate"}break;case 2:n=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(qs),To(Wx),To(Ic),Do("tabindex"),To(WI,8),To(Kp,8),To(GI,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){if(1&e&&(Jl(UI,!0),Jl(PS,!0)),2&e){let e;Kl(e=ic())&&(t._inputElement=e.first),Kl(e=ic())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(Ea("id",t.id),Eo("tabindex",null),la("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[La([ZI]),po],ngContentSelectors:qI,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(Xo(),Po(0,"label",0,1),Po(2,"div",2),Po(3,"input",3,4),Uo("change",(function(e){return t._onInteractionEvent(e)}))("click",(function(e){return t._onInputClick(e)})),Lo(),Po(5,"div",5),Fo(6,"div",6),Lo(),Fo(7,"div",7),Po(8,"div",8),Tn(),Po(9,"svg",9),Fo(10,"path",10),Lo(),Dn(),Fo(11,"div",11),Lo(),Lo(),Po(12,"span",12,13),Uo("cdkObserveContent",(function(){return t._onLabelTextChange()})),Po(14,"span",14),wa(15,"\xa0"),Lo(),Ko(16),Lo(),Lo()),2&e){const e=Io(1),n=Io(13);Eo("for",t.inputId),Si(2),la("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),Si(1),Oo("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),Eo("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),Si(2),Oo("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Il(19,HI))}},directives:[PS,kx],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})(),eT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),tT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[LS,oS,Cx,eT],oS,eT]}),e})();const nT=["*",[["mat-card-footer"]]],rT=["*","mat-card-footer"];let iT=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(To(Kp,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&la("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:rT,decls:2,vars:0,template:function(e,t){1&e&&(Xo(nT),Ko(0),Ko(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),sT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[oS],oS]}),e})();function oT(e,t){if(1&e&&(Po(0,"mat-card",11),Po(1,"mat-icon"),wa(2,"drag_handle"),Lo(),Po(3,"mat-checkbox",12),wa(4),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(3),Oo("checked",!e.hidden),Si(1),Sa(" ",e.name," ")}}const aT=function(e,t){return{columnIndex:e,columnTitle:t}};function lT(e,t){if(1&e){const e=jo();Po(0,"div",7),Uo("cdkDragDropped",(function(t){return rn(e),Yo().columnMenuDropped(t)})),Po(1,"mat-icon",8),wa(2,"drag_handle"),Lo(),Po(3,"mat-checkbox",9),Uo("click",(function(t){return rn(e),t.stopPropagation()}))("change",(function(){rn(e);const n=t.$implicit;return Yo().toggleSelectedColumn(n.id)})),wa(4),Lo(),Ao(5,oT,5,2,"mat-card",10),Lo()}if(2&e){const e=t.$implicit;Oo("cdkDragData",Dl(4,aT,t.index,e.id)),Si(3),Oo("disabled",e.preventBeingHidden)("checked",!e.hidden),Si(1),Sa(" ",e.name," ")}}const cT=["*"];let hT=(()=>{class e{constructor(e,t){this.elementRef=e,this.columnSorterService=t,this.columnsChange=new jl}ngOnInit(){const e=this.columnSorterService.loadSavedColumnInfo(this.columnInfo,this.saveName),t=new Set(this.columnInfo.map(e=>e.name)),n=new Set(e.map(e=>e.name));this.initialColumnInfo=this.columnInfo,function(e,t){const n=new Set(e);for(const r of t)n.has(r)?n.delete(r):n.add(r);return n}(t,n).size||(this.columnInfo=e),this.emitColumns(!1)}ngAfterViewInit(){this.elementRef.nativeElement.classList+="va-mat-button-no-input"}columnMenuDropped(e){OA(this.columnInfo,e.item.data.columnIndex,e.currentIndex),this.emitColumns(!0)}toggleSelectedColumn(e){const t=this.columnInfo.find(t=>t.id===e);t.hidden=!t.hidden,this.emitColumns(!0)}onResetColumns(){this.columnInfo=this.initialColumnInfo,this.emitColumns(!0)}emitColumns(e){window.requestAnimationFrame(()=>{this.columnInfo.filter(e=>!e.hidden).map(e=>e.id),this.columnsChange.emit(this.columnInfo.filter(e=>!e.hidden).map(e=>e.id)),e&&this.columnSorterService.saveColumnInfo(this.columnInfo,this.saveName)})}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(iI))},e.\u0275cmp=pt({type:e,selectors:[["digby-table-column-sorter"],["button","digby-table-column-sorter",""]],inputs:{columns:"columns",saveName:"saveName",columnInfo:"columnInfo"},outputs:{columnsChange:"columnsChange"},features:[La([iI])],ngContentSelectors:cT,decls:11,vars:2,consts:[[2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["columnMenu","matMenu"],["cdkDropList","","dkDropListLockAxis","y","cdkDropListOrientation","vertical",1,"digby-table-dragable-container"],["digby-table-column-clear","","id","col-clear-button",2,"border-width","0px !important",3,"click"],[1,"primary-icon",2,"padding-left","0px !important"],["for","col-clear-button",1,"form-check-label"],["class","dragable-row","cdkDrag","",3,"cdkDragData","cdkDragDropped",4,"ngFor","ngForOf"],["cdkDrag","",1,"dragable-row",3,"cdkDragData","cdkDragDropped"],["cdkDragHandle",""],[3,"disabled","checked","click","change"],["class","digby-table-drag-preview",4,"cdkDragPreview"],[1,"digby-table-drag-preview"],[3,"checked"]],template:function(e,t){1&e&&(Xo(),Po(0,"button",0),Ko(1),Lo(),Po(2,"mat-menu",null,1),Po(4,"div",2),Po(5,"button",3),Uo("click",(function(){return t.onResetColumns()})),Po(6,"mat-icon",4),wa(7,"clear"),Lo(),Lo(),Po(8,"label",5),wa(9,"Reset Columns"),Lo(),Ao(10,lT,6,7,"div",6),Lo(),Lo()),2&e&&(Oo("matMenuTriggerFor",Io(3)),Si(10),Oo("ngForOf",t.columnInfo))},directives:[kI,_I,ZA,VI,Oh,tI,KA,JI,eI,iT],styles:[".va-mat-button-no-input{border:none;background:transparent;outline:none}.digby-table-dragable-container{min-width:200px}.digby-table-dragable-container .dragable-row{width:100%;line-height:14px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.digby-table-dragable-container .dragable-row mat-checkbox,.digby-table-dragable-container .dragable-row mat-icon{vertical-align:top}.digby-table-dragable-container .dragable-row mat-icon{opacity:.15;transition:opacity .5s;margin-right:8px;padding-left:4px;color:#616161;cursor:-webkit-grab;cursor:grab}.digby-table-dragable-container .dragable-row:hover mat-icon{opacity:1}.digby-table-drag-preview{padding:4px 8px 4px 4px!important;cursor:-webkit-grabbing!important;cursor:grabbing!important;margin-top:-4px;margin-left:-4px;font-size:14px}.digby-table-drag-preview mat-checkbox,.digby-table-drag-preview mat-icon{vertical-align:top}.digby-table-drag-preview mat-icon{margin-right:8px;padding-left:4px;color:#616161}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .3s cubic-bezier(0,0,.2,1)}"],encapsulation:2,changeDetection:0}),e})();function uT(e,t,n=3){return Math.abs(e-t)<n}function dT(e,t,n,r){const i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(i.top+=r),t.bottom&&(i.bottom+=r),t.left&&(i.left+=n),t.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function pT({clientY:e,rect:t}){return e>=t.top&&e<=t.bottom}function fT({clientX:e,rect:t}){return e>=t.left&&e<=t.right}function mT({clientX:e,clientY:t,elm:n,allowedEdges:r,cursorPrecision:i}){const s=n.nativeElement.getBoundingClientRect(),o={};return r.left&&uT(e,s.left,i)&&pT({clientY:t,rect:s})&&(o.left=!0),r.right&&uT(e,s.right,i)&&pT({clientY:t,rect:s})&&(o.right=!0),r.top&&uT(t,s.top,i)&&fT({clientX:e,rect:s})&&(o.top=!0),r.bottom&&uT(t,s.bottom,i)&&fT({clientX:e,rect:s})&&(o.bottom=!0),o}const gT=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function vT(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function yT({edges:e,initialRectangle:t,newRectangle:n}){const r={};return Object.keys(e).forEach(e=>{r[e]=(n[e]||0)-(t[e]||0)}),r}let bT=(()=>{class e{constructor(e,t,n,r){this.platformId=e,this.renderer=t,this.elm=n,this.zone=r,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=gT,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new jl,this.resizing=new jl,this.resizeEnd=new jl,this.mouseup=new S,this.mousedown=new S,this.mousemove=new S,this.destroy$=new S,this.resizeEdges$=new S,this.pointerEventListeners=_T.getInstance(t,r)}ngOnInit(){const e=G(this.pointerEventListeners.pointerDown,this.mousedown),t=G(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Hg(({event:e})=>{r&&e.preventDefault()}),ee()),n=G(this.pointerEventListeners.pointerUp,this.mouseup);let r;const i=()=>{r&&r.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(r.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},s=()=>Object.assign({},gT,this.resizeCursors);this.resizeEdges$.pipe(Ig(this.resizeEdges),E(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(e=>!!this.resizeEdges[e])),Og(e=>e?t:Bg),yk(this.mouseMoveThrottleMS),Lg(this.destroy$)).subscribe(({clientX:e,clientY:t})=>{const n=mT({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),i=s();if(!r){const e=vT(n,i);this.renderer.setStyle(this.elm.nativeElement,"cursor",e)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),e.pipe(j(i=>{function s(e){return{clientX:e.clientX-i.clientX,clientY:e.clientY-i.clientY}}const o=()=>{const e={x:1,y:1};return r&&(this.resizeSnapGrid.left&&r.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&r.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&r.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&r.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function a(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return G(t.pipe(Vg(1)).pipe(E(e=>[,e])),t.pipe(e=>e.lift(new bk))).pipe(E(([e,t])=>[e?s(e):e,s(t)])).pipe(nf(([e,t])=>{if(!e)return!0;const n=o(),r=a(e,n),i=a(t,n);return r.x!==i.x||r.y!==i.y})).pipe(E(([,e])=>{const t=o();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe(Lg(G(n,e)))})).pipe(nf(()=>!!r)).pipe(E(({clientX:e,clientY:t})=>dT(r.startingRect,r.edges,e,t))).pipe(nf(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe(nf(e=>!this.validateResize||this.validateResize({rectangle:e,edges:yT({edges:r.edges,initialRectangle:r.startingRect,newRectangle:e})})),Lg(this.destroy$)).subscribe(e=>{r&&r.clonedNode&&(this.renderer.setStyle(r.clonedNode,"height",e.height+"px"),this.renderer.setStyle(r.clonedNode,"width",e.width+"px"),this.renderer.setStyle(r.clonedNode,"top",e.top+"px"),this.renderer.setStyle(r.clonedNode,"left",e.left+"px")),this.zone.run(()=>{this.resizing.emit({edges:yT({edges:r.edges,initialRectangle:r.startingRect,newRectangle:e}),rectangle:e})}),r.currentRect=e}),e.pipe(E(({clientX:e,clientY:t,edges:n})=>n||mT({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe(nf(e=>Object.keys(e).length>0),Lg(this.destroy$)).subscribe(e=>{r&&i();const t=function(e,t){let n=0,r=0;const i=e.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>i[e]).find(e=>!!e);if(s&&s.includes("translate")&&(n=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-r,bottom:t.bottom-r,left:t.left-n,right:t.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);r={edges:e,startingRect:t,currentRect:t};const n=s(),o=vT(r.edges,n);this.renderer.setStyle(document.body,"cursor",o),this.setElementClass(this.elm,"resize-active",!0),this.enableGhostResize&&(r.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(r.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(r.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(r.clonedNode,"left",r.startingRect.left+"px"),this.renderer.setStyle(r.clonedNode,"top",r.startingRect.top+"px"),this.renderer.setStyle(r.clonedNode,"height",r.startingRect.height+"px"),this.renderer.setStyle(r.clonedNode,"width",r.startingRect.width+"px"),this.renderer.setStyle(r.clonedNode,"cursor",vT(r.edges,n)),this.renderer.addClass(r.clonedNode,"resize-ghost-element"),r.clonedNode.scrollTop=r.startingRect.scrollTop,r.clonedNode.scrollLeft=r.startingRect.scrollLeft),this.zone.run(()=>{this.resizeStart.emit({edges:yT({edges:e,initialRectangle:t,newRectangle:t}),rectangle:dT(t,{},0,0)})})}),n.pipe(Lg(this.destroy$)).subscribe(()=>{r&&(this.renderer.removeClass(this.elm.nativeElement,"resize-active"),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.zone.run(()=>{this.resizeEnd.emit({edges:yT({edges:r.edges,initialRectangle:r.startingRect,newRectangle:r.currentRect}),rectangle:r.currentRect})}),i(),r=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){Zh(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(To(fc),To(Ua),To(Ba),To(Ic))},e.\u0275dir=bt({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[Ot]}),e})();class _T{static getInstance(e,t){return _T.instance||(_T.instance=new _T(e,t)),_T.instance}constructor(e,t){this.pointerDown=new y(n=>{let r,i;return t.runOutsideAngular(()=>{r=e.listen("document","mousedown",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),i=e.listen("document","touchstart",e=>{n.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})})}),()=>{r(),i()}}).pipe(ee()),this.pointerMove=new y(n=>{let r,i;return t.runOutsideAngular(()=>{r=e.listen("document","mousemove",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),i=e.listen("document","touchmove",e=>{n.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})})}),()=>{r(),i()}}).pipe(ee()),this.pointerUp=new y(n=>{let r,i,s;return t.runOutsideAngular(()=>{r=e.listen("document","mouseup",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),i=e.listen("document","touchend",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),s=e.listen("document","touchcancel",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})})}),()=>{r(),i(),s()}}).pipe(ee())}}let wT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const xT=hx({passive:!0});let ST=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Bg;const t=wx(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new S,i="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,xT),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,xT)}}),r}stopMonitoring(e){const t=wx(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(Ye(ix),Ye(Ic))},e.\u0275prov=he({factory:function(){return new e(Ye(ix),Ye(Ic))},token:e,providedIn:"root"}),e})(),kT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[sx]]}),e})();const CT=new ze("MAT_INPUT_VALUE_ACCESSOR"),ET=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let RT=0;class AT{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}}const IT=uS(AT);let TT=(()=>{class e extends IT{constructor(e,t,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+RT++,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>ax().has(e));const h=this._elementRef.nativeElement,u=h.nodeName.toLowerCase();this._inputValueAccessor=o||h,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=vx(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=vx(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ax().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=vx(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){ET.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(ix),To(Zf,10),To(Wm,8),To(eg,8),To(ES),To(CT,10),To(ST),To(Ic),To(JC,8))},e.\u0275dir=bt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&Uo("focus",(function(){return t._focusChanged(!0)}))("blur",(function(){return t._focusChanged(!1)}))("input",(function(){return t._onInput()})),2&e&&(Ea("disabled",t.disabled)("required",t.required),Eo("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),la("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[La([{provide:$C,useExisting:e}]),po,Ot]}),e})(),DT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[ES],imports:[[kT,tE],kT,tE]}),e})();const OT=["filterMenu"];function MT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"filter_list"),Lo())}function PT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_downward"),Lo())}function LT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_upward"),Lo())}function FT(e,t){if(1&e){const e=jo();Po(0,"div"),Po(1,"div",9),Po(2,"button",10),Uo("click",(function(){return rn(e),Yo().onSortAsc()})),wa(3,"Sort Ascending"),Lo(),Lo(),Lo()}}function NT(e,t){if(1&e){const e=jo();Po(0,"div"),Po(1,"div",5),Po(2,"div",11),Po(3,"button",10),Uo("click",(function(){return rn(e),Yo().onSortDesc()})),wa(4,"Sort Descending"),Lo(),Lo(),Lo(),Lo()}}function zT(e,t){if(1&e){const e=jo();Po(0,"div"),Po(1,"div",5),Po(2,"button",10),Uo("click",(function(){return rn(e),Yo().onSortClear()})),wa(3,"Clear Sort"),Lo(),Lo(),Lo()}}function BT(e,t){if(1&e&&(Po(0,"mat-option",16),wa(1),Lo()),2&e){const e=t.$implicit;Oo("value",e),Si(1),Sa(" ",e.name," ")}}function jT(e,t){if(1&e){const e=jo();No(0),Po(1,"div",5),Po(2,"span",13),wa(3,"and"),Lo(),Lo(),Po(4,"div",5),Po(5,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(6,"input",19),Uo("ngModelChange",(function(t){return rn(e),Yo(3).operand2Input=t})),Lo(),Lo(),Lo(),zo()}if(2&e){const e=Yo(3);Si(6),Oo("ngModel",e.operand2Input)}}function VT(e,t){if(1&e){const e=jo();No(0),Po(1,"div",5),Po(2,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(3,"input",18),Uo("ngModelChange",(function(t){return rn(e),Yo(2).operand1Input=t})),Lo(),Lo(),Lo(),Ao(4,jT,7,1,"ng-container",1),Po(5,"div",5),Po(6,"button",10),Uo("click",(function(){return rn(e),Yo(2).onClearFilter()})),wa(7,"Clear Filter"),Lo(),Lo(),Fo(8,"div",12),zo()}if(2&e){const e=Yo(2);Si(3),Oo("ngModel",e.operand1Input),Si(1),Oo("ngIf",3===e.selectedOperator.operands)}}function $T(e,t){if(1&e){const e=jo();Po(0,"div"),Po(1,"div",5),Fo(2,"div",12),Po(3,"mat-form-field",13),Po(4,"mat-select",14),Uo("valueChange",(function(t){return rn(e),Yo().selectedOperator=t})),Ao(5,BT,2,2,"mat-option",15),Lo(),Lo(),Lo(),Ao(6,VT,9,2,"ng-container",1),Lo()}if(2&e){const e=Yo();Si(4),Oo("value",e.selectedOperator),Si(1),Oo("ngForOf",e.operatorList),Si(1),Oo("ngIf",e.selectedOperator)}}let UT=(()=>{class e{constructor(){this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new jl,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Begins with",operands:2,operator:"like",postfix:"%"},{name:"Ends with",operands:2,operator:"like",prefix:"%"},{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},{name:"Matches",operands:2,operator:"like"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}ngOnInit(){this.choices$&&this.choices$.subscribe(e=>{if(e[this.columnName]){this.choices=[];for(let t=0;t<e[this.columnName].length;t++)this.choices.push({id:t,text:e[this.columnName][t]})}})}onValidation(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onClearFilter(){this.selectedOperator=null,this.filterCleared=!0}onSortAsc(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortDesc(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortClear(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}generatePredicate(){const e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands&&e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:(this.selectedOperator.prefix?this.selectedOperator.prefix:"")+this.operand1Input+(this.selectedOperator.postfix?this.selectedOperator.postfix:"")}),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(e=>e.text)}),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-text-filter"]],viewQuery:function(e,t){if(1&e&&Jl(OT,!0),2&e){let e;Kl(e=ic())&&(t.matMenuTrigger=e.first)}},inputs:{columnName:"columnName",choices$:"choices$",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},decls:21,vars:14,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"container","content-centered",3,"click"],[1,"row"],[1,"col-4","ml-auto"],["mat-flat-button","","color","primary",2,"min-width","0px",3,"click"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[1,"col-8",2,"padding-left","0px","padding-right","16px"],["mat-button","",3,"click"],[1,"col-6",2,"padding-left","0px"],[1,"dropdown-divider"],[1,"col-12"],["placeholder","Select Filter",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Filter value","name","operand1Input",3,"ngModel","ngModelChange"],["matInput","","placeholder","Filter value 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Po(0,"button",0),Po(1,"span"),Ao(2,MT,2,0,"mat-icon",1),Ao(3,PT,2,0,"mat-icon",1),Ao(4,LT,2,0,"mat-icon",1),Po(5,"mat-icon"),wa(6,"arrow_drop_down"),Lo(),Lo(),Lo(),Po(7,"mat-menu",2,3),Po(9,"div",4),Uo("click",(function(e){return e.stopPropagation()})),Po(10,"form"),Po(11,"div",5),Ao(12,FT,4,0,"div",1),Po(13,"div",6),Po(14,"button",7),Uo("click",(function(){return t.onValidation()})),wa(15," OK "),Lo(),Lo(),Lo(),Ao(16,NT,5,0,"div",1),Ao(17,zT,4,0,"div",1),Ao(18,$T,7,3,"div",1),Po(19,"div"),Po(20,"ng-multiselect-dropdown",8),Uo("ngModelChange",(function(e){return t.selectedItems=e})),Lo(),Lo(),Lo(),Lo(),Lo()),2&e&&(Oo("matMenuTriggerFor",Io(8)),Si(2),Oo("ngIf",t.selectedOperator||t.selectedItems.length>0),Si(1),Oo("ngIf","desc"===t.selectedSort),Si(1),Oo("ngIf","asc"===t.selectedSort),Si(8),Oo("ngIf",t.showSort),Si(4),Oo("ngIf",t.showSort),Si(1),Oo("ngIf",t.selectedSort),Si(1),Oo("ngIf",t.showTextFilter),Si(2),ca("filter-dropdown"),Oo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[rk,kI,Ph,VI,_I,Km,Qf,Wm,Vw,Kf,Xm,eE,_E,Oh,YS,TT,qf],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important;min-width:240px!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),e})();const HT=["filterMenu"];function qT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"filter_list"),Lo())}function GT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_upward"),Lo())}function WT(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_downward"),Lo())}function YT(e,t){if(1&e){const e=jo();Po(0,"div",6),Po(1,"button",8),Uo("click",(function(){return rn(e),Yo().onSortClear()})),wa(2,"Clear Sort"),Lo(),Lo()}}function ZT(e,t){if(1&e&&(Po(0,"mat-option",16),wa(1),Lo()),2&e){const e=t.$implicit;Oo("value",e),Si(1),Sa(" ",e.name," ")}}function XT(e,t){if(1&e){const e=jo();No(0),Po(1,"div",6),Po(2,"span",5),wa(3,"and"),Lo(),Lo(),Po(4,"div",6),Po(5,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(6,"input",19),Uo("ngModelChange",(function(t){return rn(e),Yo(2).operand2Input=t})),Lo(),Lo(),Lo(),zo()}if(2&e){const e=Yo(2);Si(6),Oo("ngModel",e.operand2Input)}}function KT(e,t){if(1&e){const e=jo();No(0),Po(1,"div",6),Po(2,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(3,"input",18),Uo("ngModelChange",(function(t){return rn(e),Yo().operand1Input=t})),Lo(),Lo(),Lo(),Ao(4,XT,7,1,"ng-container",1),Po(5,"div",6),Po(6,"button",8),Uo("click",(function(){return rn(e),Yo().onClearFilter()})),wa(7,"Clear Filter"),Lo(),Lo(),Fo(8,"div",12),zo()}if(2&e){const e=Yo();Si(3),Oo("ngModel",e.operand1Input),Si(1),Oo("ngIf",3===e.selectedOperator.operands)}}let QT=(()=>{class e{constructor(){this.predicateEmitter=new jl,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}ngOnInit(){this.choices$&&this.choices$.subscribe(e=>{if(e[this.columnName]){this.choices=[];for(let t=0;t<e[this.columnName].length;t++)this.choices.push({id:t,text:e[this.columnName][t]})}})}onValidation(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onClearFilter(){this.selectedOperator=null,this.filterCleared=!0}onSortAsc(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortDesc(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortClear(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}generatePredicate(){const e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(e=>e.text)}),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-number-filter"]],viewQuery:function(e,t){if(1&e&&Jl(HT,!0),2&e){let e;Kl(e=ic())&&(t.matMenuTrigger=e.first)}},inputs:{columnName:"columnName",choices$:"choices$"},outputs:{predicateEmitter:"predicateEmitter"},decls:30,vars:14,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Numeric operand 1","name","operand1Input",3,"ngModel","ngModelChange"],["matInput","","placeholder","Numeric operand 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Po(0,"button",0),Po(1,"span"),Ao(2,qT,2,0,"mat-icon",1),Ao(3,GT,2,0,"mat-icon",1),Ao(4,WT,2,0,"mat-icon",1),Po(5,"mat-icon"),wa(6,"arrow_drop_down"),Lo(),Lo(),Lo(),Po(7,"mat-menu",2,3),Po(9,"div",4),Uo("click",(function(e){return e.stopPropagation()})),Po(10,"form",5),Po(11,"div",6),Po(12,"div",7),Po(13,"button",8),Uo("click",(function(){return t.onSortAsc()})),wa(14,"Sort Ascending"),Lo(),Lo(),Po(15,"div",9),Po(16,"button",10),Uo("click",(function(){return t.onValidation()})),wa(17," OK "),Lo(),Lo(),Lo(),Po(18,"div",6),Po(19,"button",8),Uo("click",(function(){return t.onSortDesc()})),wa(20,"Sort Descending"),Lo(),Lo(),Ao(21,YT,3,0,"div",11),Po(22,"div",6),Fo(23,"div",12),Po(24,"mat-form-field",5),Po(25,"mat-select",13),Uo("valueChange",(function(e){return t.selectedOperator=e})),Ao(26,ZT,2,2,"mat-option",14),Lo(),Lo(),Lo(),Ao(27,KT,9,2,"ng-container",1),Po(28,"div"),Po(29,"ng-multiselect-dropdown",15),Uo("ngModelChange",(function(e){return t.selectedItems=e})),Lo(),Lo(),Lo(),Lo(),Lo()),2&e&&(Oo("matMenuTriggerFor",Io(8)),Si(2),Oo("ngIf",t.selectedOperator||t.selectedItems.length>0),Si(1),Oo("ngIf","desc"===t.selectedSort),Si(1),Oo("ngIf","asc"===t.selectedSort),Si(17),Oo("ngIf",t.selectedSort),Si(4),Oo("value",t.selectedOperator),Si(1),Oo("ngForOf",t.operatorList),Si(1),Oo("ngIf",t.selectedOperator),Si(2),ca("filter-dropdown"),Oo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[rk,kI,Ph,VI,_I,Km,Qf,Wm,eE,_E,Oh,Vw,Kf,Xm,YS,TT,qf],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),e})();function JT(e,t){}class eD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const tD={dialogContainer:Tu("dialogContainer",[Lu("void, exit",Pu({opacity:0,transform:"scale(0.7)"})),Lu("enter",Pu({transform:"none"})),Nu("* => enter",Du("150ms cubic-bezier(0, 0, 0.2, 1)",Pu({transform:"none",opacity:1}))),Nu("* => void, * => exit",Du("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Pu({opacity:0})))])};let nD=(()=>{class e extends jk{constructor(e,t,n,r,i,s){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=i,this._focusMonitor=s,this._animationStateChanged=new jl,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(zx),To(qs),To(ah,8),To(eD),To(Wx))},e.\u0275dir=bt({type:e,viewQuery:function(e,t){if(1&e&&Ql($k,!0),2&e){let e;Kl(e=ic())&&(t._portalOutlet=e.first)}},features:[po]}),e})(),rD=(()=>{class e extends nD{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return iD(t||e)},e.\u0275cmp=pt({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&Ho("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(Ea("id",t._id),Eo("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),Ra("@dialogContainer",t._state))},features:[po],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&Ao(0,JT,0,0,"ng-template",0)},directives:[$k],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tD.dialogContainer]}}),e})();const iD=gr(rD);let sD=0;class oD{constructor(e,t,n="mat-dialog-"+sD++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new S,this._afterClosed=new S,this._beforeClosed=new S,this._state=0,t._id=n,t._animationStateChanged.pipe(nf(e=>"opened"===e.state),Vg(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(nf(e=>"closed"===e.state),Vg(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(nf(e=>27===e.keyCode&&!this.disableClose&&!dx(e))).subscribe(e=>{e.preventDefault(),aD(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():aD(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(nf(e=>"closing"===e.state),Vg(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function aD(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const lD=new ze("MatDialogData"),cD=new ze("mat-dialog-default-options"),hD=new ze("mat-dialog-scroll-strategy"),uD={provide:hD,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.block()}};let dD=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S,this._afterOpenedAtThisLevel=new S,this._ariaHiddenElements=new Map,this.afterAllClosed=ly(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ig(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new eD)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new Jk({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=lo.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:eD,useValue:t}]}),r=new Nk(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(r).instance}_attachDialogContent(e,t,n,r){const i=new this._dialogRefConstructor(n,t,r.id);if(e instanceof cl)t.attachTemplatePortal(new zk(e,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,t),s=t.attachComponentPortal(new Nk(e,r.viewContainerRef,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(e,t,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||r&&r.get(Jx,null)||i.push({provide:Jx,useValue:{value:e.direction,change:ef()}}),lo.create({parent:r||this._injector,providers:i})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(To(gC),To(lo),To(void 0),To(void 0),To(oC),To(void 0),To(Ws),To(Ws),To(ze))},e.\u0275dir=bt({type:e}),e})(),pD=(()=>{class e extends dD{constructor(e,t,n,r,i,s,o){super(e,t,r,s,o,i,oD,rD,lD)}}return e.\u0275fac=function(t){return new(t||e)(Ye(gC),Ye(lo),Ye(xh,8),Ye(cD,8),Ye(hD),Ye(e,12),Ye(oC))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),fD=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[pD,uD],imports:[[xC,Uk,oS],oS]}),e})();const mD=["mat-calendar-body",""];function gD(e,t){if(1&e&&(Po(0,"tr",2),Po(1,"td",3),wa(2),Lo(),Lo()),2&e){const e=Yo();Si(1),aa("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Eo("colspan",e.numCols),Si(1),Sa(" ",e.label," ")}}function vD(e,t){if(1&e&&(Po(0,"td",7),wa(1),Lo()),2&e){const e=Yo(2);aa("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Eo("colspan",e._firstRowOffset),Si(1),Sa(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function yD(e,t){if(1&e){const e=jo();Po(0,"td",8),Uo("click",(function(n){rn(e);const r=t.$implicit;return Yo(2)._cellClicked(r,n)})),Po(1,"div",9),wa(2),Lo(),Fo(3,"div",10),Lo()}if(2&e){const e=t.$implicit,n=t.index,r=Yo().index,i=Yo();aa("width",i._cellWidth)("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),la("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",i._isActiveCell(r,n))("mat-calendar-body-range-start",i._isRangeStart(e.compareValue))("mat-calendar-body-range-end",i._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",i._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",i._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",i._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",i._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",i._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",i._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",i._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",i._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",i._isInPreview(e.compareValue)),Oo("ngClass",e.cssClasses)("tabindex",i._isActiveCell(r,n)?0:-1),Eo("data-mat-row",r)("data-mat-col",n)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",i._isSelected(e.compareValue)),Si(1),la("mat-calendar-body-selected",i._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",i._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",i.todayValue===e.compareValue),Si(1),Sa(" ",e.displayValue," ")}}function bD(e,t){if(1&e&&(Po(0,"tr",4),Ao(1,vD,2,6,"td",5),Ao(2,yD,4,46,"td",6),Lo()),2&e){const e=t.$implicit,n=t.index,r=Yo();Si(1),Oo("ngIf",0===n&&r._firstRowOffset),Si(1),Oo("ngForOf",e)}}function _D(e,t){if(1&e&&(Po(0,"th",5),wa(1),Lo()),2&e){const e=t.$implicit;Eo("aria-label",e.long),Si(1),xa(e.narrow)}}const wD=["*"];function xD(e,t){}function SD(e,t){if(1&e){const e=jo();Po(0,"mat-month-view",5),Uo("activeDateChange",(function(t){return rn(e),Yo().activeDate=t}))("_userSelection",(function(t){return rn(e),Yo()._dateSelected(t)})),Lo()}if(2&e){const e=Yo();Oo("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function kD(e,t){if(1&e){const e=jo();Po(0,"mat-year-view",6),Uo("activeDateChange",(function(t){return rn(e),Yo().activeDate=t}))("monthSelected",(function(t){return rn(e),Yo()._monthSelectedInYearView(t)}))("selectedChange",(function(t){return rn(e),Yo()._goToDateInView(t,"month")})),Lo()}if(2&e){const e=Yo();Oo("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function CD(e,t){if(1&e){const e=jo();Po(0,"mat-multi-year-view",7),Uo("activeDateChange",(function(t){return rn(e),Yo().activeDate=t}))("yearSelected",(function(t){return rn(e),Yo()._yearSelectedInMultiYearView(t)}))("selectedChange",(function(t){return rn(e),Yo()._goToDateInView(t,"year")})),Lo()}if(2&e){const e=Yo();Oo("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}const ED=["button"];function RD(e,t){1&e&&(Tn(),Po(0,"svg",3),Fo(1,"path",4),Lo())}const AD=[[["","matDatepickerToggleIcon",""]]],ID=["[matDatepickerToggleIcon]"];let TD=(()=>{class e{constructor(){this.changes=new S,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();class DD{constructor(e,t,n,r,i={},s=e,o){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=r,this.cssClasses=i,this.compareValue=s,this.rawValue=o}}let OD=(()=>{class e{constructor(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new jl,this.previewChange=new jl,this._enterHandler=e=>{if(this._skipNextFocus&&"focus"===e.type)this._skipNextFocus=!1;else if(e.target&&this.isRange){const t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}},this._leaveHandler=e=>{null!==this.previewEnd&&this.isRange&&e.target&&MD(e.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e}))},t.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mouseenter",this._enterHandler,!0),t.addEventListener("focus",this._enterHandler,!0),t.addEventListener("mouseleave",this._leaveHandler,!0),t.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const t=e.numCols,{rows:n,numCols:r}=this;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),!t&&this._cellWidth||(this._cellWidth=100/r+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})}_isRangeStart(e){return PD(e,this.startValue,this.endValue)}_isRangeEnd(e){return LD(e,this.startValue,this.endValue)}_isInRange(e){return FD(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return PD(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[t][n-1];if(!r){const e=this.rows[t-1];r=e&&e[e.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[t][n+1];if(!r){const e=this.rows[t+1];r=e&&e[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return LD(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return FD(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return PD(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return LD(e,this.previewStart,this.previewEnd)}_isInPreview(e){return FD(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let t;if(MD(e)?t=e:MD(e.parentNode)&&(t=e.parentNode),t){const e=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(e&&n)return this.rows[parseInt(e)][parseInt(n)]}return null}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Ic))},e.\u0275cmp=pt({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Ot],attrs:mD,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(Ao(0,gD,3,6,"tr",0),Ao(1,bD,3,2,"tr",1)),2&e&&(Oo("ngIf",t._firstRowOffset<t.labelMinRequiredCells),Si(1),Oo("ngForOf",t.rows))},directives:[Ph,Oh,Ih],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),e})();function MD(e){return"TD"===e.nodeName}function PD(e,t,n){return null!==n&&t!==n&&e<n&&e===t}function LD(e,t,n){return null!==t&&t!==n&&e>=t&&e===n}function FD(e,t,n,r){return r&&null!==t&&null!==n&&t!==n&&e>=t&&e<=n}class ND{constructor(e,t){this.start=e,this.end=t}}let zD=(()=>{class e{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new S,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){this.selection=e,this._selectionChanged.next({selection:e,source:t})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return e.\u0275fac=function(t){return new(t||e)(To(void 0),To(fS))},e.\u0275dir=bt({type:e}),e})(),BD=(()=>{class e extends zD{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}}return e.\u0275fac=function(t){return new(t||e)(Ye(fS))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const jD={provide:zD,deps:[[new ie,new oe,zD],fS],useFactory:function(e,t){return e||new BD(t)}},VD=new ze("MAT_DATE_RANGE_SELECTION_STRATEGY");let $D=(()=>{class e{constructor(e,t,n,r,i){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=r,this._rangeStrategy=i,this._rerenderSubscription=u.EMPTY,this.selectedChange=new jl,this._userSelection=new jl,this.activeDateChange=new jl,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ND?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ig(null)).subscribe(()=>this._init())}ngOnChanges(e){const t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const t=e.value,n=this._dateAdapter.getYear(this.activeDate),r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(n,r,t);let s,o;this._selected instanceof ND?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),s===t&&o===t||this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event})}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),e.preventDefault()));case 27:return void(null!=this._previewEnd&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:t}){if(this._rangeStrategy){const n=this._rangeStrategy.createPreview(t?t.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((e,n)=>({long:e,narrow:t[n]}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,r=this._firstWeekOffset;n<e;n++,r++){7==r&&(this._weeks.push([]),r=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),i=this._shouldEnableDate(e),s=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(e,"month"):void 0;this._weeks[this._weeks.length-1].push(new DD(n+1,t[n],s,i,o,this._getCellCompareValue(e),e))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){const t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(t,n,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof ND?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}return e.\u0275fac=function(t){return new(t||e)(To(qs),To(mS,8),To(fS,8),To(Jx,8),To(VD,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-month-view"]],viewQuery:function(e,t){if(1&e&&Jl(OD,!0),2&e){let e;Kl(e=ic())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Ot],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(Po(0,"table",0),Po(1,"thead",1),Po(2,"tr"),Ao(3,_D,2,2,"th",2),Lo(),Po(4,"tr"),Fo(5,"th",3),Lo(),Lo(),Po(6,"tbody",4),Uo("selectedValueChange",(function(e){return t._dateSelected(e)}))("previewChange",(function(e){return t._previewChanged(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),Lo(),Lo()),2&e&&(Si(3),Oo("ngForOf",t._weekdays),Si(3),Oo("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[Oh,OD],encapsulation:2,changeDetection:0}),e})(),UD=(()=>{class e{constructor(e,t,n){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=n,this._rerenderSubscription=u.EMPTY,this.selectedChange=new jl,this.yearSelected=new jl,this.activeDateChange=new jl,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),HD(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ND?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ig(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const e=this._dateAdapter.getYear(this._activeDate)-qD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,n=[];t<24;t++)n.push(e+t),4==n.length&&(this._years.push(n.map(e=>this._createCellForYear(e))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));this.selectedChange.emit(this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-qD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_getActiveCell(){return qD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),r=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new DD(e,n,n,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ND){const t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return e.\u0275fac=function(t){return new(t||e)(To(qs),To(fS,8),To(Jx,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){if(1&e&&Jl(OD,!0),2&e){let e;Kl(e=ic())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Po(0,"table",0),Po(1,"thead",1),Po(2,"tr"),Fo(3,"th",2),Lo(),Lo(),Po(4,"tbody",3),Uo("selectedValueChange",(function(e){return t._yearSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),Lo(),Lo()),2&e&&(Si(4),Oo("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[OD],encapsulation:2,changeDetection:0}),e})();function HD(e,t,n,r,i){const s=e.getYear(t),o=e.getYear(n),a=GD(e,r,i);return Math.floor((s-a)/24)===Math.floor((o-a)/24)}function qD(e,t,n,r){return((e.getYear(t)-GD(e,n,r))%24+24)%24}function GD(e,t,n){let r=0;return n?r=e.getYear(n)-24+1:t&&(r=e.getYear(t)),r}let WD=(()=>{class e{constructor(e,t,n,r){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=u.EMPTY,this.selectedChange=new jl,this.monthSelected=new jl,this.activeDateChange=new jl,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ND?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ig(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);const r=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),i=this.dateClass?this.dateClass(n,"year"):void 0;return new DD(e,t.toLocaleUpperCase(),r,this._shouldEnableMonth(e),i)}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>r}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof ND?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return e.\u0275fac=function(t){return new(t||e)(To(qs),To(mS,8),To(fS,8),To(Jx,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-year-view"]],viewQuery:function(e,t){if(1&e&&Jl(OD,!0),2&e){let e;Kl(e=ic())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Po(0,"table",0),Po(1,"thead",1),Po(2,"tr"),Fo(3,"th",2),Lo(),Lo(),Po(4,"tbody",3),Uo("selectedValueChange",(function(e){return t._monthSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),Lo(),Lo()),2&e&&(Si(4),Oo("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[OD],encapsulation:2,changeDetection:0}),e})(),YD=(()=>{class e{constructor(e,t,n,r,i){this._intl=e,this.calendar=t,this._dateAdapter=n,this._dateFormats=r,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const e=this._dateAdapter.getYear(this.calendar.activeDate)-qD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,r)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):HD(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}return e.\u0275fac=function(t){return new(t||e)(To(TD),To(Se(()=>ZD)),To(fS,8),To(mS,8),To(qs))},e.\u0275cmp=pt({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:wD,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(Xo(),Po(0,"div",0),Po(1,"div",1),Po(2,"button",2),Uo("click",(function(){return t.currentPeriodClicked()})),wa(3),Fo(4,"div",3),Lo(),Fo(5,"div",4),Ko(6),Po(7,"button",5),Uo("click",(function(){return t.previousClicked()})),Lo(),Po(8,"button",6),Uo("click",(function(){return t.nextClicked()})),Lo(),Lo(),Lo()),2&e&&(Si(2),Eo("aria-label",t.periodButtonLabel),Si(1),Sa(" ",t.periodButtonText," "),Si(1),la("mat-calendar-invert","month"!=t.calendar.currentView),Si(3),Oo("disabled",!t.previousEnabled()),Eo("aria-label",t.prevButtonLabel),Si(1),Oo("disabled",!t.nextEnabled()),Eo("aria-label",t.nextButtonLabel))},directives:[rk,Ux],encapsulation:2,changeDetection:0}),e})(),ZD=(()=>{class e{constructor(e,t,n,r){this._dateAdapter=t,this._dateFormats=n,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new jl,this.yearSelected=new jl,this.monthSelected=new jl,this._userSelection=new jl,this.stateChanges=new S,this._intlChanges=e.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof ND?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new Nk(this.headerComponent||YD),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this._getCurrentViewComponent();e&&(this._changeDetectorRef.detectChanges(),e._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){const e=this.currentView;let t;t="month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView,t._init()}_dateSelected(e){const t=e.value;(this.selected instanceof ND||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return e.\u0275fac=function(t){return new(t||e)(To(TD),To(fS,8),To(mS,8),To(qs))},e.\u0275cmp=pt({type:e,selectors:[["mat-calendar"]],viewQuery:function(e,t){if(1&e&&(Jl($D,!0),Jl(WD,!0),Jl(UD,!0)),2&e){let e;Kl(e=ic())&&(t.monthView=e.first),Kl(e=ic())&&(t.yearView=e.first),Kl(e=ic())&&(t.multiYearView=e.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[La([jD]),Ot],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(Ao(0,xD,0,0,"ng-template",0),Po(1,"div",1),Ao(2,SD,1,8,"mat-month-view",2),Ao(3,kD,1,6,"mat-year-view",3),Ao(4,CD,1,6,"mat-multi-year-view",4),Lo()),2&e&&(Oo("cdkPortalOutlet",t._calendarHeaderPortal),Si(1),Oo("ngSwitch",t.currentView),Si(1),Oo("ngSwitchCase","month"),Si(1),Oo("ngSwitchCase","year"),Si(1),Oo("ngSwitchCase","multi-year"))},directives:[$k,Zx,zh,Bh,$D,WD,UD],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),e})();const XD={transformPanel:Tu("transformPanel",[Lu("void",Pu({opacity:0,transform:"scale(1, 0.8)"})),Nu("void => enter",Du("120ms cubic-bezier(0, 0, 0.2, 1)",Pu({opacity:1,transform:"scale(1, 1)"}))),Nu("* => void",Du("100ms linear",Pu({opacity:0})))]),fadeInCalendar:Tu("fadeInCalendar",[Lu("void",Pu({opacity:0})),Lu("enter",Pu({opacity:1})),Nu("void => *",Du("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let KD=0;const QD=new ze("mat-datepicker-scroll-strategy"),JD={provide:QD,deps:[gC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class eO{constructor(e){this._elementRef=e}}const tO=lS(eO);let nO=(()=>{class e extends tO{constructor(e,t,n,r,i){super(e),this._changeDetectorRef=t,this._model=n,this._dateAdapter=r,this._rangeSelectionStrategy=i,this._subscriptions=new u,this._animationState="enter",this._animationDone=new S}ngAfterViewInit(){this._changeDetectorRef&&this._subscriptions.add(this.datepicker._stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){if(this._model&&this._dateAdapter){const t=this._model.selection,n=e.value,r=t instanceof ND;if(r&&this._rangeSelectionStrategy){const r=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(r,this)}else!n||!r&&this._dateAdapter.sameDate(n,t)||this._model.add(n)}this._model&&!this._model.isComplete()||this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}_getSelected(){return this._model?this._model.selection:null}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(qs),To(zD),To(fS),To(VD,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){if(1&e&&Jl(ZD,!0),2&e){let e;Kl(e=ic())&&(t._calendar=e.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&Ho("@transformPanel.done",(function(){return t._animationDone.next()})),2&e&&(Ra("@transformPanel",t._animationState),la("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[po],decls:1,vars:13,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","_userSelection"]],template:function(e,t){1&e&&(Po(0,"mat-calendar",0),Uo("yearSelected",(function(e){return t.datepicker._selectYear(e)}))("monthSelected",(function(e){return t.datepicker._selectMonth(e)}))("_userSelection",(function(e){return t._handleUserSelection(e)})),Lo()),2&e&&Oo("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter")},directives:[ZD,Bx,Ih],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[XD.transformPanel,XD.fadeInCalendar]},changeDetection:0}),e})(),rO=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this._dialog=e,this._overlay=t,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=s,this._dir=o,this._document=a,this._model=l,this._inputStateChanges=u.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this.yearSelected=new jl,this.monthSelected=new jl,this.openedStream=new jl,this.closedStream=new jl,this._opened=!1,this.id="mat-datepicker-"+KD++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=this.id+"-backdrop",this._stateChanges=new S,this._scrollStrategy=i}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this._datepickerInput?this._datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=vx(e)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(e){const t=vx(e);t!==this._disabled&&(this._disabled=t,this._stateChanges.next(void 0))}get opened(){return this._opened}set opened(e){vx(e)?this.open():this.close()}_getMinDate(){return this._datepickerInput&&this._datepickerInput.min}_getMaxDate(){return this._datepickerInput&&this._datepickerInput.max}_getDateFilter(){return this._datepickerInput&&this._datepickerInput.dateFilter}ngOnChanges(e){const t=e.xPosition||e.yPosition;t&&!t.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this._stateChanges.next(void 0)}ngOnDestroy(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this._stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_registerInput(e){return this._inputStateChanges.unsubscribe(),this._datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this._stateChanges.next(void 0)),this._model}open(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const e=this._popupComponentRef.instance;e._startExitAnimation(),e._animationDone.pipe(Vg(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(nO,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._forwardContentValues(this._dialogRef.componentInstance)}_openAsPopup(){const e=new Nk(nO,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(e),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(Vg(1)).subscribe(()=>{this._popupRef.updatePosition()})}_forwardContentValues(e){e.datepicker=this,e.color=this.color}_createPopup(){const e=this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),t=new Jk({positionStrategy:this._setConnectedPositions(e),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),G(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(nf(e=>27===e.keyCode||this._datepickerInput&&e.altKey&&38===e.keyCode))).subscribe(e=>{e&&e.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_setConnectedPositions(e){const t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",r="above"===this.yPosition?"bottom":"top",i="top"===r?"bottom":"top";return e.withPositions([{originX:t,originY:i,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i}])}}return e.\u0275fac=function(t){return new(t||e)(To(pD),To(gC),To(Ic),To(ul),To(QD),To(fS,8),To(Jx,8),To(ah,8),To(zD))},e.\u0275dir=bt({type:e,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},features:[Ot]}),e})(),iO=(()=>{class e extends rO{}return e.\u0275fac=function(t){return sO(t||e)},e.\u0275cmp=pt({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[La([jD]),po],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();const sO=gr(iO);class oO{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let aO=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this.dateChange=new jl,this.dateInput=new jl,this._valueChange=new jl,this.stateChanges=new S,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=u.EMPTY,this._localeSubscription=u.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getDateFilter();return n&&t&&!n(t)?{matDatepickerFilter:!0}:null},this._minValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMinDate();return!n||!t||this._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}},this._maxValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMaxDate();return!n||!t||this._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e);const t=this.value;this._assignValue(e),this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const t=vx(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(e=>{if(e.source!==this){const t=this._getValueFromModel(e.selection);this._lastValueValid=this._isValidValue(t),this._cvaOnChange(t),this._onTouched(),this._formatValue(t),this._canEmitChangeEvent(e)&&(this.dateInput.emit(new oO(this,this._elementRef.nativeElement)),this.dateChange.emit(new oO(this,this._elementRef.nativeElement))),this._outsideValueChanged&&this._outsideValueChanged()}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(e,t){const n=Object.keys(e);for(let r of n){const{previousValue:n,currentValue:i}=e[r];if(!t.isDateInstance(n)||!t.isDateInstance(i))return!0;if(!t.sameDate(n,i))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new oO(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new oO(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(fS,8),To(mS,8))},e.\u0275dir=bt({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ot]}),e})();const lO={provide:jf,useExisting:Se(()=>hO),multi:!0},cO={provide:tm,useExisting:Se(()=>hO),multi:!0};let hO=(()=>{class e extends aO{constructor(e,t,n,r){super(e,t,n),this._formField=r,this._validator=im.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._registerModel(e._registerInput(this)))}get min(){return this._min}set min(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}get max(){return this._max}set max(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_canEmitChangeEvent(){return!0}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(fS,8),To(mS,8),To(JC,8))},e.\u0275dir=bt({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&Uo("input",(function(e){return t._onInput(e.target.value)}))("change",(function(){return t._onChange()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)})),2&e&&(Ea("disabled",t.disabled),Eo("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[La([lO,cO,{provide:CT,useExisting:e}]),po]}),e})(),uO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e})(),dO=(()=>{class e{constructor(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=u.EMPTY;const r=Number(n);this.tabIndex=r||0===r?r:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=vx(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker._stateChanges:ef(),t=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput.stateChanges:ef(),n=this.datepicker?G(this.datepicker.openedStream,this.datepicker.closedStream):ef();this._stateChanges.unsubscribe(),this._stateChanges=G(this._intl.changes,e,t,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(To(TD),To(qs),Do("tabindex"))},e.\u0275cmp=pt({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){if(1&e&&tc(n,uO,!0),2&e){let e;Kl(e=ic())&&(t._customIcon=e.first)}},viewQuery:function(e,t){if(1&e&&Jl(ED,!0),2&e){let e;Kl(e=ic())&&(t._button=e.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&Uo("focus",(function(){return t._button.focus()})),2&e&&(Eo("tabindex",t.disabled?null:-1)("data-mat-calendar",t.datepicker?t.datepicker.id:null),la("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Ot],ngContentSelectors:ID,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(Xo(AD),Po(0,"button",0,1),Uo("click",(function(e){return t._open(e)})),Ao(2,RD,2,0,"svg",2),Ko(3),Lo()),2&e&&(Oo("disabled",t.disabled)("disableRipple",t.disableRipple),Eo("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),Si(2),Oo("ngIf",!t._customIcon))},directives:[rk,Ph],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),pO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[TD,JD],imports:[[Yh,ik,fD,xC,Kx,Uk],Pk]}),e})();const fO=["filterMenu"];function mO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"filter_list"),Lo())}function gO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_upward"),Lo())}function vO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_downward"),Lo())}function yO(e,t){if(1&e){const e=jo();Po(0,"div",6),Po(1,"button",8),Uo("click",(function(){return rn(e),Yo().onSortClear()})),wa(2,"Clear Sort"),Lo(),Lo()}}function bO(e,t){if(1&e&&(Po(0,"mat-option",16),wa(1),Lo()),2&e){const e=t.$implicit;Oo("value",e),Si(1),Sa(" ",e.name," ")}}function _O(e,t){if(1&e){const e=jo();No(0),Po(1,"div",6),Po(2,"span",5),wa(3,"and"),Lo(),Lo(),Po(4,"div",6),Po(5,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(6,"input",21),Uo("ngModelChange",(function(t){return rn(e),Yo(2).operand2Input=t})),Lo(),Fo(7,"mat-datepicker-toggle",19),Fo(8,"mat-datepicker",null,20),Lo(),Lo(),zo()}if(2&e){const e=Io(9),t=Yo(2);Si(6),Oo("matDatepicker",e)("ngModel",t.operand2Input),Si(1),Oo("for",e)}}function wO(e,t){if(1&e){const e=jo();No(0),Po(1,"div",6),Po(2,"mat-form-field",17),Uo("click",(function(t){return rn(e),t.stopPropagation()})),Po(3,"input",18),Uo("ngModelChange",(function(t){return rn(e),Yo().operand1Input=t})),Lo(),Fo(4,"mat-datepicker-toggle",19),Fo(5,"mat-datepicker",null,20),Lo(),Lo(),Ao(7,_O,10,3,"ng-container",1),Po(8,"div",6),Po(9,"button",8),Uo("click",(function(){return rn(e),Yo().onClearFilter()})),wa(10,"Clear Filter"),Lo(),Lo(),Fo(11,"div",12),zo()}if(2&e){const e=Io(6),t=Yo();Si(3),Oo("matDatepicker",e)("ngModel",t.operand1Input),Si(1),Oo("for",e),Si(3),Oo("ngIf",3===t.selectedOperator.operands)}}let xO=(()=>{class e{constructor(){this.predicateEmitter=new jl,this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}ngOnInit(){this.choices$&&this.choices$.subscribe(e=>{if(e[this.columnName]){this.choices=[];for(let t=0;t<e[this.columnName].length;t++)this.choices.push({id:t,text:e[this.columnName][t]})}})}onValidation(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortAsc(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortDesc(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortClear(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onClearFilter(){this.selectedOperator=null,this.filterCleared=!0}generatePredicate(){const e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(e=>e.text)}),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-date-filter"]],viewQuery:function(e,t){if(1&e&&Jl(fO,!0),2&e){let e;Kl(e=ic())&&(t.matMenuTrigger=e.first)}},inputs:{columnName:"columnName",choices$:"choices$"},outputs:{predicateEmitter:"predicateEmitter"},decls:30,vars:14,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Choose a date","name","operand1Input",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Choose a date","name","operand2Input",3,"matDatepicker","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Po(0,"button",0),Po(1,"span"),Ao(2,mO,2,0,"mat-icon",1),Ao(3,gO,2,0,"mat-icon",1),Ao(4,vO,2,0,"mat-icon",1),Po(5,"mat-icon"),wa(6,"arrow_drop_down"),Lo(),Lo(),Lo(),Po(7,"mat-menu",2,3),Po(9,"div",4),Uo("click",(function(e){return e.stopPropagation()})),Po(10,"form",5),Po(11,"div",6),Po(12,"div",7),Po(13,"button",8),Uo("click",(function(){return t.onSortAsc()})),wa(14,"Sort Ascending"),Lo(),Lo(),Po(15,"div",9),Po(16,"button",10),Uo("click",(function(){return t.onValidation()})),wa(17," OK "),Lo(),Lo(),Lo(),Po(18,"div",6),Po(19,"button",8),Uo("click",(function(){return t.onSortDesc()})),wa(20,"Sort Descending"),Lo(),Lo(),Ao(21,yO,3,0,"div",11),Po(22,"div",6),Fo(23,"div",12),Po(24,"mat-form-field",5),Po(25,"mat-select",13),Uo("valueChange",(function(e){return t.selectedOperator=e})),Ao(26,bO,2,2,"mat-option",14),Lo(),Lo(),Lo(),Ao(27,wO,12,4,"ng-container",1),Po(28,"div"),Po(29,"ng-multiselect-dropdown",15),Uo("ngModelChange",(function(e){return t.selectedItems=e})),Lo(),Lo(),Lo(),Lo(),Lo()),2&e&&(Oo("matMenuTriggerFor",Io(8)),Si(2),Oo("ngIf",t.selectedOperator||t.selectedItems.length>0),Si(1),Oo("ngIf","desc"===t.selectedSort),Si(1),Oo("ngIf","asc"===t.selectedSort),Si(17),Oo("ngIf",t.selectedSort),Si(4),Oo("value",t.selectedOperator),Si(1),Oo("ngForOf",t.operatorList),Si(1),Oo("ngIf",t.selectedOperator),Si(2),ca("filter-dropdown"),Oo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[rk,kI,Ph,VI,_I,Km,Qf,Wm,eE,_E,Oh,Vw,Kf,Xm,YS,TT,hO,qf,dO,YC,iO],styles:["button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}li,p{font-size:.9rem!important}"],encapsulation:2}),e})();const SO=["filterMenu"];function kO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"filter_list"),Lo())}function CO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_downward"),Lo())}function EO(e,t){1&e&&(Po(0,"mat-icon"),wa(1,"arrow_upward"),Lo())}function RO(e,t){if(1&e){const e=jo();Po(0,"div",6),Po(1,"button",8),Uo("click",(function(){return rn(e),Yo().onSortClear()})),wa(2,"Clear Sort"),Lo(),Lo()}}let AO=(()=>{class e{constructor(){this.predicateEmitter=new jl,this.filterCleared=!1,this.selectedSort=null,this.dropdownSettings={itemsShowLimit:2,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}ngOnInit(){this.choices$&&this.choices$.subscribe(e=>{if(e[this.columnName]){this.choices=[];for(let t=0;t<e[this.columnName].length;t++)this.choices.push({id:t,text:e[this.columnName][t]})}})}onValidation(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortAsc(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortDesc(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}onSortClear(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger.closed.emit()}generatePredicate(){const e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(e=>e.text?"1":"0")}),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-bool-filter"]],viewQuery:function(e,t){if(1&e&&Jl(SO,!0),2&e){let e;Kl(e=ic())&&(t.matMenuTrigger=e.first)}},inputs:{columnName:"columnName",choices$:"choices$"},outputs:{predicateEmitter:"predicateEmitter"},decls:24,vars:11,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",3,"click"],["class","row",4,"ngIf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Po(0,"button",0),Po(1,"span"),Ao(2,kO,2,0,"mat-icon",1),Ao(3,CO,2,0,"mat-icon",1),Ao(4,EO,2,0,"mat-icon",1),Po(5,"mat-icon"),wa(6,"arrow_drop_down"),Lo(),Lo(),Lo(),Po(7,"mat-menu",2,3),Po(9,"div",4),Uo("click",(function(e){return e.stopPropagation()})),Po(10,"form",5),Po(11,"div",6),Po(12,"div",7),Po(13,"button",8),Uo("click",(function(){return t.onSortAsc()})),wa(14,"Sort Ascending"),Lo(),Lo(),Po(15,"div",9),Po(16,"button",10),Uo("click",(function(){return t.onValidation()})),wa(17," OK "),Lo(),Lo(),Lo(),Po(18,"div",6),Po(19,"button",8),Uo("click",(function(){return t.onSortDesc()})),wa(20,"Sort Descending"),Lo(),Lo(),Ao(21,RO,3,0,"div",11),Po(22,"div",6),Po(23,"ng-multiselect-dropdown",12),Uo("ngModelChange",(function(e){return t.selectedItems=e})),Lo(),Lo(),Lo(),Lo(),Lo()),2&e&&(Oo("matMenuTriggerFor",Io(8)),Si(2),Oo("ngIf",t.selectedItems.length>0),Si(1),Oo("ngIf","desc"===t.selectedSort),Si(1),Oo("ngIf","asc"===t.selectedSort),Si(17),Oo("ngIf",t.selectedSort),Si(2),ca("filter-dropdown"),Oo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[rk,kI,Ph,VI,_I,Km,Qf,Wm,Vw,Kf,Xm],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),e})();const IO=new ze("EventArgument",{providedIn:"root",factory:function(){return"$event"}}),TO=new ze("DynamicComponentInjector");let DO=(()=>{class e{constructor(e){this.componentOutlet=e}get componentRef(){return this.componentOutlet._componentRef}}return e.\u0275fac=function(t){return new(t||e)(To(Th,1))},e.\u0275dir=bt({type:e,selectors:[["","ngComponentOutlet",""]],exportAs:["ndcComponentOutletInjector"],features:[La([{provide:TO,useExisting:e}])]}),e})(),OO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),MO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})();function PO(e){return new Dt(void 0,e,!0)}function LO(e,t){return n=>t(n,function(e,t=!1){return t?PO(e.currentValue):new Dt(e.previousValue,e.currentValue,!1)}(n,e))}const FO={isFirstChanges:!1,onlyNewChanges:!1};function NO(e=FO){return e.onlyNewChanges?(t=e.isFirstChanges,e=>LO(t,(t,n)=>{e[t.key]||(e[t.key]=n)})):function(e){return t=>LO(e,(e,n)=>t[e.key]=n)}(e.isFirstChanges);var t}function zO(){}const BO=NO({isFirstChanges:!0}),jO=NO({onlyNewChanges:!0});let VO=(()=>{class e{constructor(e,t,n){this.differs=e,this.cfr=t,this.eventArgument=n,this.checkInit=this.failInit,this.lastComponentInst=null,this.inputsDiffer=this.differs.find({}).create(),this.compFactory=null,this.outputsShouldDisconnect$=new S,this.outputsChanged=()=>!1}get compRef(){return this.compInjector.componentRef}get componentInst(){return this.compRef?this.compRef.instance:null}get componentInstChanged(){return this.lastComponentInst!==this.componentInst&&(this.lastComponentInst=this.componentInst,!0)}get compCdr(){return this.compRef?this.compRef.injector.get(qs):null}ngOnDestroy(){this._disconnectOutputs()}init(e,t={}){if(this.checkInit=e?zO:this.failInit,this.compInjector=e,t.trackOutputChanges){const e=this.differs.find({}).create();this.outputsChanged=t=>!!e.diff(t)}}update(e,t,n,r){this.checkInit(),this.updateIO(e,t);const i=this.componentInstChanged;if(i||n){const e=this._getInputsChanges();e&&this._updateInputChanges(e),this.updateInputs(i||!this.lastInputChanges)}(i||r)&&this.bindOutputs()}maybeUpdate(){if(this.checkInit(),this.componentInstChanged)return this.updateInputs(!0),void this.bindOutputs();if(this.outputsChanged(this.outputs)&&this.bindOutputs(),!this.inputs)return;const e=this._getInputsChanges();if(e){const t=!!this.lastInputChanges;this._updateInputChanges(e),t&&this.updateInputs()}}updateIO(e,t){this.inputs=e,this.outputs=t}updateInputs(e=!1){e&&this._updateCompFactory();const t=this.componentInst;let n=this.inputs;n&&t&&(n=this._resolveInputs(n),Object.keys(n).forEach(e=>t[e]=n[e]),this.compCdr&&this.compCdr.markForCheck(),this.notifyOnInputChanges(this.lastInputChanges,e))}bindOutputs(){this._disconnectOutputs();const e=this.componentInst;let t=this.outputs;t&&e&&(t=this._resolveOutputs(t),Object.keys(t).filter(t=>e[t]).forEach(n=>e[n].pipe(Lg(this.outputsShouldDisconnect$)).subscribe(e=>t[n](e))))}notifyOnInputChanges(e={},t){this.componentInst.ngOnChanges&&(t&&(e=this._collectFirstChanges()),this.componentInst.ngOnChanges(e))}_disconnectOutputs(){this.outputsShouldDisconnect$.next()}_getInputsChanges(){return this.inputsDiffer.diff(this.inputs)}_updateInputChanges(e){this.lastInputChanges=this._collectChangesFromDiffer(e)}_collectFirstChanges(){const e={},t=this.inputs;return Object.keys(t).forEach(n=>e[n]=PO(t[n])),this._resolveChanges(e)}_collectChangesFromDiffer(e){const t={};return e.forEachAddedItem(BO(t)),e.forEachItem(jO(t)),this._resolveChanges(t)}_resolveCompFactory(){try{try{return this.cfr.resolveComponentFactory(this.compRef.componentType)}catch(e){return this.cfr.resolveComponentFactory(this.compRef.instance.constructor)}}catch(e){return null}}_updateCompFactory(){this.compFactory=this._resolveCompFactory()}_resolveInputs(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}_resolveOutputs(e){return e=this._processOutputs(e),this.compFactory?this._remapIO(e,this.compFactory.outputs):e}_processOutputs(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]="function"==typeof r?r:r&&this._processOutputArgs(r)}),t}_processOutputArgs(e){const{handler:t}=e,n="args"in e?e.args||[]:[this.eventArgument];return e=>t(...n.map(t=>t===this.eventArgument?e:t))}_resolveChanges(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}_remapIO(e,t){const n={};return Object.keys(e).forEach(r=>{const i=this._findPropByTplInMapping(r,t)||r;n[i]=e[r]}),n}_findPropByTplInMapping(e,t){for(const n of t)if(n.templateName===e)return n.propName;return null}failInit(){throw Error("IoService: ComponentInjector was not set! Please call init() method!")}}return e.\u0275fac=function(t){return new(t||e)(Ye(sl),Ye(za),Ye(IO))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),$O=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh]]}),e})(),UO=(()=>{class e{constructor(e,t,n){this.ioService=e,this.componentInjector=t,this.componentOutletInjector=n,this.ioService.init(this.compInjector)}get inputs(){return this.ndcDynamicInputs||this.ngComponentOutletNdcDynamicInputs}get outputs(){return this.ndcDynamicOutputs||this.ngComponentOutletNdcDynamicOutputs}get compInjector(){return this.componentOutletInjector||this.componentInjector}ngOnChanges(e){this.ioService.update(this.inputs,this.outputs,this.inputsChanged(e),this.outputsChanged(e))}ngDoCheck(){this.ioService.maybeUpdate()}inputsChanged(e){return"ngComponentOutletNdcDynamicInputs"in e||"ndcDynamicInputs"in e}outputsChanged(e){return"ngComponentOutletNdcDynamicOutputs"in e||"ndcDynamicOutputs"in e}}return e.\u0275fac=function(t){return new(t||e)(To(VO),To(TO,8),To(DO,9))},e.\u0275dir=bt({type:e,selectors:[["","ndcDynamicInputs",""],["","ndcDynamicOutputs",""],["","ngComponentOutletNdcDynamicInputs",""],["","ngComponentOutletNdcDynamicOutputs",""]],inputs:{ndcDynamicInputs:"ndcDynamicInputs",ngComponentOutletNdcDynamicInputs:"ngComponentOutletNdcDynamicInputs",ndcDynamicOutputs:"ndcDynamicOutputs",ngComponentOutletNdcDynamicOutputs:"ngComponentOutletNdcDynamicOutputs"},features:[La([VO]),Ot]}),e})(),HO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,OO],OO]}),e})(),qO=(()=>{class e{constructor(e,t){this.vcr=e,this.cfr=t,this.ndcDynamicCreated=new jl}ngOnChanges(e){e.ndcDynamicComponent&&this.createDynamicComponent()}createDynamicComponent(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.cfr.resolveComponentFactory(this.ndcDynamicComponent),0,this._resolveInjector(),this.ndcDynamicContent),this.ndcDynamicCreated.emit(this.componentRef))}_resolveInjector(){let e=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(e=lo.create({providers:this.ndcDynamicProviders,parent:e})),e}}return e.\u0275fac=function(t){return new(t||e)(To(ul),To(za))},e.\u0275cmp=pt({type:e,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},features:[La([{provide:TO,useExisting:e}]),Ot],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),GO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Yh,HO],HO]}),e})(),WO=(()=>{class e{static forRoot(t=qO){return{ngModule:e,providers:[{provide:TO,useExisting:t}]}}static withComponents(t,n){return e.forRoot(n)}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[OO,HO,GO,MO,$O]}),e})(),YO=(()=>{class e{constructor(){this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new jl,this.inputs=null,this.outputs={predicateEmitter:e=>this.predicateEmitter.emit(e)}}ngOnInit(){switch(this.inputs={columnName:this.columnName,choices$:this.choices$,showTextFilter:this.showTextFilter,showSort:this.showSort},this.filterMode){case iA.TEXT_MODE:this.filterImplementationComponent=UT;break;case iA.NUMBER_MODE:this.filterImplementationComponent=QT;break;case iA.DATE_MODE:this.filterImplementationComponent=xO;break;case iA.BOOL_MODE:this.filterImplementationComponent=AO}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-filter"]],inputs:{columnName:"columnName",choices$:"choices$",filterMode:"filterMode",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},exportAs:["menuInOtherComponent"],decls:1,vars:3,consts:[[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicOutputs"]],template:function(e,t){1&e&&Fo(0,"ndc-dynamic",0),2&e&&Oo("ndcDynamicComponent",t.filterImplementationComponent)("ndcDynamicInputs",t.inputs)("ndcDynamicOutputs",t.outputs)},directives:[qO,UO],styles:[""]}),e})();function ZO(e,t){1&e&&(Po(0,"div",39),Po(1,"span",40),wa(2,"Loading..."),Lo(),Lo())}function XO(e,t){if(1&e&&(Po(0,"div",41),Po(1,"div",3),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Ll(6,"async"),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(Fl(6,1,e.dataSource.error$))}}const KO=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function QO(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"name")})),wa(1," Name "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function JO(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.name)}}function eM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"imgt_name")})),wa(1," IMGT Name "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","imgt_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function tM(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.imgt_name)}}function nM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"type")})),wa(1," Type "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","type")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function rM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.type)}}function iM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"novel")})),wa(1," Novel "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","novel")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function sM(e,t){1&e&&Fo(0,"i",49)}function oM(e,t){1&e&&Fo(0,"i",50)}function aM(e,t){if(1&e&&(Po(0,"mat-cell",46),Ao(1,sM,1,0,"i",47),Ao(2,oM,1,0,"i",48),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.novel),Si(1),Oo("ngIf",!e.novel)}}function lM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"deleted")})),wa(1," Deleted "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","deleted")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function cM(e,t){1&e&&Fo(0,"i",49)}function hM(e,t){1&e&&Fo(0,"i",50)}function uM(e,t){if(1&e&&(Po(0,"mat-cell",46),Ao(1,cM,1,0,"i",47),Ao(2,hM,1,0,"i",48),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.deleted),Si(1),Oo("ngIf",!e.deleted)}}function dM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sequence")})),wa(1," Sequence "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","sequence")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function pM(e,t){if(1&e){const e=jo();Po(0,"mat-cell",51),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().onCellClick(n,"seq")})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.sequence)}}function fM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"gapped_sequence")})),wa(1," Gapped "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","gapped_sequence")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function mM(e,t){if(1&e){const e=jo();Po(0,"mat-cell",51),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().onCellClick(n,"gapped")})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.gapped_sequence)}}function gM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"feature")})),wa(1," Feature "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","feature")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function vM(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.feature)}}function yM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"start")})),wa(1," Start "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","start")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function bM(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.start)}}function _M(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"end")})),wa(1," End "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","end")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function wM(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.end)}}function xM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"score")})),wa(1," Score "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","score")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function SM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.score)}}function kM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"strand")})),wa(1," Strand "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","strand")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function CM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.strand)}}function EM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"frame")})),wa(1," Frame "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","frame")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function RM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.frame)}}function AM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",42),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"refseq_name")})),wa(1," Reference "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","refseq_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function IM(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.refseq_name)}}function TM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sample_count")})),wa(1," Samples "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","sample_count")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function DM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.sample_count)}}function OM(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",45),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"appearances")})),wa(1," Appearances "),Po(2,"app-filter",43,44),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,KO)),Si(2),Oo("columnName","appearances")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function MM(e,t){if(1&e&&(Po(0,"mat-cell",46),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.appearances)}}function PM(e,t){1&e&&Fo(0,"mat-header-row")}function LM(e,t){1&e&&Fo(0,"mat-row")}const FM=function(){return[25,50,100,250]};let NM=(()=>{class e{constructor(e,t,n,r,i,s){this.genomicService=e,this.geneTableService=t,this.modalService=n,this.genGeneSelectedService=r,this.tableParamsStorageService=i,this.genSampleSelectedService=s,this.displayedColumns=[],this.allColumns=rA,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=iA,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.genSampleSelectedServiceSubscription=null,this.selectedSampleIds=[],this.isSelectedGenesChecked=!1,this.resizeEvents=new Map}ngOnInit(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-gene-table-widths"),this.dataSource=new nx(this.genomicService)}ngOnDestroy(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.genSampleSelectedServiceSubscription.unsubscribe()}ngAfterViewInit(){this.paginatorSubscription=this.paginator.page.subscribe(()=>this.loadSequencesPage()),setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{e.species&&e.refSeqs&&(this.selection=e,this.paginator.firstPage(),this.table.renderRows(),this.loadSequencesPage())}),this.loading$Subscription=this.dataSource.loading$.subscribe(e=>{e||this.applyResizes()}),this.choices$Subscription=this.dataSource.choices$.subscribe(e=>{this.genGeneSelectedService.selection.next(this.filters.length>0&&!this.isSelectedGenesChecked?{names:e.name}:{names:[]})}),this.loading$Subscription=this.dataSource.loading$.subscribe(e=>{e||this.applyResizes()}),this.genSampleSelectedServiceSubscription=this.genSampleSelectedService.source.subscribe(e=>{this.selectedSampleIds=e.ids,this.isSelectedGenesChecked&&this.onSelectedIdsChange(null)})})}onSelectedIdsChange(e){this.applyFilter(this.isSelectedGenesChecked&&this.selectedSampleIds.length?{field:"sample_id",predicates:[{field:"sample_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"sample_id",predicates:[],sort:{order:""}})}applyFilter(e){for(let t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1);for(const t of e.predicates)t.op&&this.filters.push(t);for(let t=this.sorts.length-1;t>=0;t--)this.sorts[t].field===e.field&&this.sorts.splice(t,1);e.sort.order&&this.sorts.push(e.sort),this.loadSequencesPage()}updateColumnData(e){const t=function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(e=>!t.has(e.field)),this.sorts=this.sorts.filter(e=>!t.has(e.field)),this.loadSequencesPage()}loadSequencesPage(){this.selection&&this.dataSource.loadGeneSequences(this.selection.species,this.selection.refSeqs.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns))}onCellClick(e,t){const n=this.modalService.open(tx,{size:"lg"});n.componentInstance.name=e.name,n.componentInstance.content="seq"===t?e.sequence:e.gapped_sequence}onResizeEnd(e,t){if(e.edges.right){const n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"gen-gene-table-widths")}}applyResizes(){for(const[e,t]of this.resizeEvents)this.updateColumnWidth(e,t)}updateColumnWidth(e,t){const n=document.getElementsByClassName("mat-column-"+e);for(let r=0;r<n.length;r++)n[r].style.width=t}}return e.\u0275fac=function(t){return new(t||e)(To(Ew),To(Tw),To(jv),To(oA),To(sA),To(aA))},e.\u0275cmp=pt({type:e,selectors:[["app-gene-table-panel"]],viewQuery:function(e,t){if(1&e&&(Jl(ZE,!0),Jl(FR,!0)),2&e){let e;Kl(e=ic())&&(t.paginator=e.first),Kl(e=ic())&&(t.table=e.first)}},inputs:{selection:"selection"},features:[La([sA])],decls:72,vars:19,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-md-3",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"disabled","ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[1,"col-md-2",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon"],[1,"header-text"],[1,"col-md-7"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","imgt_name"],["matColumnDef","type"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","novel"],["matColumnDef","deleted"],["matColumnDef","sequence"],["class","small-col mat-ellipsis",3,"click",4,"matCellDef"],["matColumnDef","gapped_sequence"],["matColumnDef","feature"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","score"],["matColumnDef","strand"],["matColumnDef","frame"],["matColumnDef","refseq_name"],["matColumnDef","sample_count"],["matColumnDef","appearances"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],["class","fa fa-times","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"fa","fa-times",2,"line-height","inherit"],[1,"small-col","mat-ellipsis",3,"click"]],template:function(e,t){1&e&&(Po(0,"div",0),Ao(1,ZO,3,0,"div",1),Ll(2,"async"),Ao(3,XO,7,3,"div",2),Ll(4,"async"),Po(5,"div",3),Po(6,"div",4),Po(7,"div",5),Po(8,"input",6),Uo("ngModelChange",(function(e){return t.isSelectedGenesChecked=e}))("change",(function(){return t.onSelectedIdsChange(t.isSelectedGenesChecked)})),Lo(),Po(9,"label",7),wa(10," Only alleles present in selected samples "),Lo(),Lo(),Lo(),Po(11,"div",8),Po(12,"button",9),Uo("columnsChange",(function(e){return t.displayedColumns=e}))("columnsChange",(function(e){return t.updateColumnData(e)})),Po(13,"mat-icon",10),wa(14,"view_column"),Lo(),Po(15,"span",11),wa(16,"Arrange Columns"),Lo(),Lo(),Lo(),Po(17,"div",12),Fo(18,"mat-paginator",13),Lo(),Lo(),Po(19,"div",3),Po(20,"div",14),Po(21,"mat-table",15),No(22,16),Ao(23,QO,4,6,"mat-header-cell",17),Ao(24,JO,2,1,"mat-cell",18),zo(),No(25,19),Ao(26,eM,4,6,"mat-header-cell",17),Ao(27,tM,2,1,"mat-cell",18),zo(),No(28,20),Ao(29,nM,4,6,"mat-header-cell",21),Ao(30,rM,2,1,"mat-cell",22),zo(),No(31,23),Ao(32,iM,4,6,"mat-header-cell",21),Ao(33,aM,3,2,"mat-cell",22),zo(),No(34,24),Ao(35,lM,4,6,"mat-header-cell",21),Ao(36,uM,3,2,"mat-cell",22),zo(),No(37,25),Ao(38,dM,4,6,"mat-header-cell",21),Ao(39,pM,2,1,"mat-cell",26),zo(),No(40,27),Ao(41,fM,4,6,"mat-header-cell",21),Ao(42,mM,2,1,"mat-cell",26),zo(),No(43,28),Ao(44,gM,4,6,"mat-header-cell",17),Ao(45,vM,2,1,"mat-cell",18),zo(),No(46,29),Ao(47,yM,4,6,"mat-header-cell",17),Ao(48,bM,2,1,"mat-cell",18),zo(),No(49,30),Ao(50,_M,4,6,"mat-header-cell",17),Ao(51,wM,2,1,"mat-cell",18),zo(),No(52,31),Ao(53,xM,4,6,"mat-header-cell",21),Ao(54,SM,2,1,"mat-cell",22),zo(),No(55,32),Ao(56,kM,4,6,"mat-header-cell",21),Ao(57,CM,2,1,"mat-cell",22),zo(),No(58,33),Ao(59,EM,4,6,"mat-header-cell",21),Ao(60,RM,2,1,"mat-cell",22),zo(),No(61,34),Ao(62,AM,4,6,"mat-header-cell",17),Ao(63,IM,2,1,"mat-cell",18),zo(),No(64,35),Ao(65,TM,4,6,"mat-header-cell",21),Ao(66,DM,2,1,"mat-cell",22),zo(),No(67,36),Ao(68,OM,4,6,"mat-header-cell",21),Ao(69,MM,2,1,"mat-cell",22),zo(),Ao(70,PM,1,0,"mat-header-row",37),Ao(71,LM,1,0,"mat-row",38),Lo(),Lo(),Lo(),Lo()),2&e&&(Si(1),Oo("ngIf",Fl(2,14,t.dataSource.loading$)),Si(2),Oo("ngIf",Fl(4,16,t.dataSource.error$)),Si(5),Oo("disabled",!t.selectedSampleIds.length)("ngModel",t.isSelectedGenesChecked),Si(4),Oo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","gen-gene-table"),Si(6),Oo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Il(18,FM)),Si(3),Oo("dataSource",t.dataSource),Si(49),Oo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",t.displayedColumns))},directives:[Ph,$f,Kf,Xm,hT,VI,ZE,FR,$R,jR,zR,YR,XR,HR,bT,YO,GR,QR,eA],pipes:[qh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),e})(),zM=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-genetable"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-gene-table-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!0)("showRepseq",!1))},directives:[Kw,NM],styles:[""]}),e})(),BM=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-home"]],decls:91,vars:0,consts:[[1,"container-fluid"],[1,"text-center","py-1","bg-primary","shadow-none",2,"background-image","url(./assets/img/virions.png)","background-position","center","background-size","100%","background-repeat","repeat"],[1,"container-fluid",2,"padding-top","2vw","padding-bottom","5vw"],[1,"row","mt-1","mb-5","ml-1","mr-1"],[1,"col-lg-2","col-md-3","col-sm-4","bg-light",2,"border-radius","2vw"],["src","./assets/img/logo_white_2.png",1,"img-fluid","mt-2"],[2,"font-size","0.75rem"],[1,"pl-1","pr-5","pt-5",2,"background-color","#f5f5f5","color","#000000"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"mat-display-1"],["href","https://doi.org/10.1093/nar/gkz872"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1038/sj.icb.7100144"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1111/imcb.12288"],["href","https://academic.oup.com/nar/article/48/D1/D1051/5585549#"],["routerLink","./datarep"],["routerLink","./user-guide"],["href","./assets/doc/report_documentation.pdf"],["routerLink","./samplerep"],["routerLink","./generep"],["routerLink","./genesample"],["routerLink","./genetable"],["routerLink","./genebrowser/Human/Human_IGH"],["href","http://yaarilab.com/"],["href","http://shepherd-group.ismb.lon.ac.uk/research.html"],["href","http://yaarilab.com/contact"],["href","mailto:william@lees.org.uk"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"div",1),Po(2,"div",2),Po(3,"div",3),Po(4,"div",4),Fo(5,"img",5),Po(6,"p",6),wa(7,"Immune Receptor Genotypes and Haplotypes"),Lo(),Lo(),Lo(),Lo(),Lo(),Po(8,"div",7),Po(9,"div",8),Po(10,"div",9),Po(11,"div",10),Po(12,"h1",11),wa(13,"Welcome to VDJbase"),Lo(),Lo(),Lo(),Po(14,"div",9),Po(15,"div",10),Po(16,"p"),wa(17," VDJbase is a database of adaptive immune receptor genes, genotypes and haplotypes. Our core collection is inferred from immune receptor repertoire sequences, as recently described in "),Po(18,"a",12),wa(19,"Nucleic Acids Research"),Lo(),wa(20,". We are also beginning to add genomically derived material. "),Lo(),Po(21,"p"),wa(22," Detailed knowledge of these genes, in humans and key research species, is vital to the understanding of the immune response. Current reference sets, widely used in immune repertoire research, are often incomplete. Problems in the "),Po(23,"a",13),wa(24,"human"),Lo(),wa(25," and "),Po(26,"a",14),wa(27,"mouse"),Lo(),wa(28," sets are long-standing. VDJbase allows researchers to consult inferences from many hundreds of samples, allowing a population-level understanding of genes and alleles to be developed, and hitherto unidentified alleles to be described. "),Lo(),Po(29,"p"),wa(30," VDJbase provides customisable reports, which allow users to study gene and allele usage in various ways. Reports, and the data underlying them, are provided under open-source licence. If you use VDJbase in your research, please "),Po(31,"a",15),wa(32,"cite our paper"),Lo(),wa(33,". "),Lo(),Po(34,"p"),wa(35," From here you can: "),Lo(),Lo(),Po(36,"div",9),Po(37,"div",10),Po(38,"ul"),Po(39,"li"),Po(40,"a",16),wa(41,"Explore the data"),Lo(),wa(42," available in VDJbase today"),Lo(),Po(43,"li"),wa(44,"Read our "),Po(45,"a",17),wa(46,"user guide"),Lo(),wa(47," or find more information on "),Po(48,"a",18),wa(49,"reports"),Lo(),Lo(),Fo(50,"br"),Po(51,"li"),wa(52,"Browse the "),Po(53,"a",19),wa(54,"adaptive immune receptor repertore (AIRR) datasets"),Lo(),Lo(),Po(55,"li"),wa(56,"Browse "),Po(57,"a",20),wa(58,"alleles"),Lo(),wa(59," identified from the AIRR datasets"),Lo(),Fo(60,"br"),Po(61,"li"),wa(62,"Browse the "),Po(63,"a",21),wa(64,"genomically-derived datasets"),Lo(),Lo(),Po(65,"li"),wa(66,"Browse "),Po(67,"a",22),wa(68,"alleles"),Lo(),wa(69," identified from the genomically-derived datasets"),Lo(),Po(70,"li"),wa(71,"View "),Po(72,"a",23),wa(73,"alignments"),Lo(),wa(74," in a genome browser."),Lo(),Lo(),Po(75,"p"),wa(76,"All options are also available from the menu at the top of each page."),Lo(),Po(77,"p"),wa(78," VDJbase is jointly developed and maintained by members of the "),Po(79,"a",24),wa(80,"Yaari Lab"),Lo(),wa(81," at the Faculty of Engineering at Bar Ilan University, Israel, and the "),Po(82,"a",25),wa(83,"Shepherd Group"),Lo(),wa(84," at the Institute of Structural and Molecular Biology, Birkbeck College, London. It is hosted at Birkbeck. For further information, please contact "),Po(85,"a",26),wa(86,"Gur Yaari"),Lo(),wa(87," or "),Po(88,"a",27),wa(89,"William Lees"),Lo(),wa(90,". "),Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo())},directives:[Y_],styles:[""]}),e})();var jM=n("WuQa"),VM=n.n(jM);const $M=["igv"];let UM=(()=>{class e{constructor(e,t){this.geneTableService=e,this.route=t,this.browser=null,this.geneTableServiceSubscription=null,this.species=null,this.refName=null}ngOnInit(){this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.selection=e,this.reconfigureBrowser()})}ngOnDestroy(){this.geneTableServiceSubscription.unsubscribe()}reconfigureBrowser(){this.species=this.selection.species?this.selection.species.replace(" ","_"):null,this.refName=this.selection.refSeqs.length>0?this.selection.refSeqs[0].replace(" ","_"):null,this.browser&&(VM.a.removeBrowser(this.browser),this.browser=null),this.species&&this.refName&&this.buildBrowser()}buildBrowser(){Jg(0),VM.a.createBrowser($("#igvdiv"),{reference:{id:this.species,fastaURL:ih.igvBasePath+"/"+this.species+"_"+this.refName+".fasta",indexURL:ih.igvBasePath+"/"+this.species+"_"+this.refName+".fasta.fai"},search:{url:ih.apiBasePath+"/genomic/feature_pos/"+this.species+"/"+this.refName+"/$FEATURE$"}}).then(e=>{Jg(0),this.browser=e,this.browser.loadTrack({name:"Genes",type:"annotation",url:ih.igvBasePath+"/"+this.species+"_"+this.refName+".gff3"}).then(()=>{this.browser.loadTrack({name:"Samples",type:"alignment",format:"bam",url:ih.igvBasePath+"/"+this.species+"_"+this.refName+".bam",indexURL:ih.igvBasePath+"/"+this.species+"_"+this.refName+".bam.bai"}).then(()=>{this.browser.loadTrack({name:"Refs",type:"alignment",format:"bam",url:ih.igvBasePath+"/"+this.species+"_"+this.refName+"_imgt.bam",indexURL:ih.igvBasePath+"/"+this.species+"_"+this.refName+"_imgt.bam.bai"})})})})}}return e.\u0275fac=function(t){return new(t||e)(To(Tw),To(Tb))},e.\u0275cmp=pt({type:e,selectors:[["app-gene-browser-panel"]],viewQuery:function(e,t){if(1&e&&Ql($M,!0),2&e){let e;Kl(e=ic())&&(t.igvdiv=e.first)}},inputs:{selection:"selection"},decls:3,vars:0,consts:[["id","igvdiv"],["igv",""]],template:function(e,t){1&e&&(Po(0,"div"),Fo(1,"div",0,1),Lo())},styles:[""]}),e})(),HM=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-gene-browser"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-gene-browser-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!0)("showRepseq",!1))},directives:[Kw,UM],styles:[""]}),e})(),qM=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[oS,Yh],oS]}),e})(),GM=(()=>{class e{constructor(){this.changes=new S,this.sortButtonLabel=e=>"Change sorting for "+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();const WM={provide:GM,deps:[[new ie,new oe,GM]],useFactory:function(e){return e||new GM}};let YM=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[WM],imports:[[Yh]]}),e})(),ZM=(()=>{class e{constructor(){this.cache=new Map}get(e){this.cache.get(e.urlWithParams)}put(e,t){const n=e.url,r={url:n,response:t,lastRead:Date.now()};this.cache.set(n,r);const i=Date.now()-36e5;this.cache.forEach(e=>{e.lastRead<i&&this.cache.delete(e.url)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),XM=(()=>{class e{constructor(e){this.cache=e}intercept(e,t){const n=this.cache.get(e);return n?ef(n):this.sendRequest(e,t,this.cache)}sendRequest(e,t,n){return t.handle(e).pipe(Hg(t=>{t instanceof bf&&n.put(e,t)}))}}return e.\u0275fac=function(t){return new(t||e)(Ye(ZM))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class KM{constructor(e){this.repseqService=e,this.repSampleSubject=new ag([]),this.choicesSubject=new ag({}),this.loadingSubject=new ag(!1),this.errorSubject=new ag(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}loadRepSamples(e,t,n,r,i,s,o){t=t.split(",").map(e=>"Test"===e?"Human_IGH":e).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSamplesApi(e,t,n,r,i,s,o).pipe(xw(),xy(e=>(this.errorSubject.next(e),[])),Ey(()=>{this.loadingSubject.next(!1)})).subscribe(e=>{this.totalItems=e.total_items,this.choicesSubject.next(e.uniques),this.repSampleSubject.next(e.samples)}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSampleSubject.next([]))}connect(e){return this.repSampleSubject.asObservable()}disconnect(e){this.repSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}const QM=[{id:"name",name:"Name",hidden:!1},{id:"chain",name:"Chain",hidden:!0},{id:"row_reads",name:"Reads",hidden:!1},{id:"date",name:"Date",hidden:!0},{id:"samples_group",name:"Sample Group",hidden:!0},{id:"patient_name",name:"Patient",hidden:!0},{id:"sex",name:"Sex",hidden:!0},{id:"ethnic",name:"Ethnicity",hidden:!0},{id:"status",name:"Condition",hidden:!0},{id:"cohort",name:"Cohort",hidden:!0},{id:"age",name:"Age",hidden:!0},{id:"name_in_paper",name:"Name in Study",hidden:!0},{id:"country",name:"Country",hidden:!0},{id:"study_name",name:"Study",hidden:!0},{id:"institute",name:"Institute",hidden:!0},{id:"researcher",name:"Researcher",hidden:!0},{id:"num_subjects",name:"# Subjects",hidden:!0},{id:"num_samples",name:"# Samples",hidden:!0},{id:"study_reference",name:"Study Ref",hidden:!0},{id:"study_contact",name:"Study Contact",hidden:!0},{id:"study_acc_id",name:"Study Acc ID",hidden:!0},{id:"study_acc_ref",name:"Study Acc Ref",hidden:!0},{id:"tissue_name",name:"Tissue Name",hidden:!0},{id:"species",name:"Species",hidden:!0},{id:"tissue",name:"Tissue",hidden:!1},{id:"combined_cell_type",name:"Cell",hidden:!1},{id:"cell_type",name:"Cell Type",hidden:!0},{id:"sub_cell_type",name:"Cell Subtype",hidden:!0},{id:"isotype",name:"Isotype",hidden:!0},{id:"sequencing_protocol",name:"Protocol",hidden:!0},{id:"umi",name:"UMI",hidden:!1},{id:"sequencing_length",name:"Read Length",hidden:!1},{id:"primer_3_loc",name:"3' Primer",hidden:!0},{id:"primer_5_loc",name:"5' Primer",hidden:!0},{id:"seq_platform",name:"Platform",hidden:!0},{id:"helix",name:"Helix",hidden:!0},{id:"genotypes",name:"Genotype",hidden:!1},{id:"haplotypes",name:"Haplotypes",hidden:!1},{id:"dataset",name:"Dataset",hidden:!1}];function JM(e,t){1&e&&(Po(0,"div",3),Po(1,"span",4),wa(2,"Loading..."),Lo(),Lo())}function eP(e,t){if(1&e&&(Po(0,"div",5),Po(1,"div",6),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(e.error)}}function tP(e,t){if(1&e){const e=jo();No(0),Po(1,"div",7),Po(2,"h3",8),wa(3),Lo(),Po(4,"button",9),Uo("click",(function(){return rn(e),Yo().activeModal.dismiss("Cross click")})),Po(5,"span",10),wa(6,"\xd7"),Lo(),Lo(),Lo(),Po(7,"div",11),Po(8,"div",12),Po(9,"div",6),Po(10,"div",13),Po(11,"h4"),wa(12,"Study"),Lo(),Po(13,"ul"),wa(14),Lo(),Po(15,"ul"),wa(16),Lo(),Po(17,"ul"),wa(18),Lo(),Po(19,"ul"),wa(20),Lo(),Po(21,"ul"),wa(22,"Publication: "),Po(23,"a",14),Fo(24,"i",15),Lo(),Lo(),Po(25,"ul"),wa(26,"Contact Info: "),Po(27,"a",14),Fo(28,"i",15),Lo(),Lo(),Po(29,"ul"),wa(30),Lo(),Lo(),Po(31,"div",13),Po(32,"h4"),wa(33,"Subject"),Lo(),Po(34,"ul"),wa(35),Lo(),Po(36,"ul"),wa(37),Lo(),Po(38,"ul"),wa(39),Lo(),Po(40,"ul"),wa(41),Lo(),Po(42,"ul"),wa(43),Lo(),Po(44,"ul"),wa(45),Lo(),Po(46,"ul"),wa(47),Lo(),Lo(),Po(48,"div",13),Po(49,"h4"),wa(50,"Tissue Processing"),Lo(),Po(51,"ul"),wa(52),Lo(),Po(53,"ul"),wa(54),Lo(),Po(55,"ul"),wa(56),Lo(),Po(57,"ul"),wa(58),Lo(),Po(59,"ul"),wa(60),Lo(),Po(61,"ul"),wa(62,"Number of cells:"),Lo(),Lo(),Lo(),Po(63,"div",6),Po(64,"div",13),Po(65,"h4"),wa(66,"Sequence Protocols"),Lo(),Po(67,"ul"),wa(68),Lo(),Po(69,"ul"),wa(70),Lo(),Po(71,"ul"),wa(72),Lo(),Po(73,"ul"),wa(74),Lo(),Po(75,"ul"),wa(76),Lo(),Po(77,"ul"),wa(78),Lo(),Lo(),Po(79,"div",13),Po(80,"h4"),wa(81,"Inference Pipeline"),Lo(),Po(82,"ul"),wa(83),Lo(),Po(84,"ul"),wa(85),Lo(),Po(86,"ul"),wa(87),Lo(),Po(88,"ul"),wa(89),Lo(),Po(90,"ul"),wa(91),Lo(),Lo(),Fo(92,"div",13),Lo(),Lo(),Lo(),Po(93,"div",16),Po(94,"button",17),Uo("click",(function(){return rn(e),Yo().activeModal.close("Close click")})),wa(95,"Close"),Lo(),Lo(),zo()}if(2&e){const e=Yo();Si(3),Sa("Sample Details - ",e.sampleName,""),Si(11),Sa("Lab Address: ",e.sampleInfo.institute,""),Si(2),Sa("Researcher: ",e.sampleInfo.researcher,""),Si(2),Sa("Number of subjects: ",e.sampleInfo.num_subjects,""),Si(2),Sa("Number of samples: ",e.sampleInfo.num_samples,""),Si(3),Qo("href",e.sampleInfo.study_reference,ii),Si(4),Qo("href",e.sampleInfo.study_contact,ii),Si(3),Sa("Accession ID: ",e.sampleInfo.study_acc_id,""),Si(5),Sa("ID here: ",e.sampleInfo.name,""),Si(2),Sa("ID in study: ",e.sampleInfo.name_in_paper,""),Si(2),Sa("Sex: ",e.sampleInfo.sex,""),Si(2),Sa("Age: ",e.sampleInfo.age,""),Si(2),Sa("Ethnicity: ",e.sampleInfo.ethnic,""),Si(2),Sa("Study cohort: ",e.sampleInfo.cohort,""),Si(2),Sa("Condition: ",e.sampleInfo.status,""),Si(5),Sa("Species: ",e.sampleInfo.species,""),Si(2),Sa("Tissue: ",e.sampleInfo.tissue,""),Si(2),Sa("Cell type: ",e.sampleInfo.cell_type,""),Si(2),Sa("Cell subset: ",e.sampleInfo.sub_cell_type,""),Si(2),Sa("Isotype: ",e.sampleInfo.isotype,""),Si(8),Sa("UMI barcode: ",e.sampleInfo.umi,""),Si(2),Sa("Target substrate: ",e.sampleInfo.helix,""),Si(2),Sa("Platform: ",e.sampleInfo.seq_platform,""),Si(2),Sa("Read length: ",e.sampleInfo.sequencing_length,""),Si(2),Sa("Reverse PCR primer loc: ",e.sampleInfo.primer_3_loc,""),Si(2),Sa("Forward PCR primer loc: ",e.sampleInfo.primer_5_loc,""),Si(5),Sa("Version: ",e.sampleInfo.pipeline_name,""),Si(2),ka("Aligner: ",e.sampleInfo.aligner_tool," v. ",e.sampleInfo.aligner_ver,""),Si(2),Sa("Germline Set: ",e.sampleInfo.aligner_reference,""),Si(2),ka("Genotyping tool: ",e.sampleInfo.geno_tool," v. ",e.sampleInfo.geno_ver,""),Si(2),ka("Haplotyping tool: ",e.sampleInfo.haplotype_tool," v. ",e.sampleInfo.haplotype_ver,"")}}let nP=(()=>{class e{constructor(e,t,n){this.activeModal=e,this.modalService=t,this.repseqService=n,this.loading=!1,this.error=null,this.sampleInfo=null}ngOnInit(){this.loading=!0,this.error=null,this.repseqService.getSampleInfoApi(this.species,this.dataset,this.sampleName).pipe(xw(),xy(e=>(this.error.next(e),[])),Ey(()=>{this.loading=!1})).subscribe(e=>{this.sampleInfo=e})}}return e.\u0275fac=function(t){return new(t||e)(To(Lv),To(jv),To(Aw))},e.\u0275cmp=pt({type:e,selectors:[["app-sample-rep-info"]],inputs:{sampleName:"sampleName",species:"species",dataset:"dataset"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"col-sm"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Ao(0,JM,3,0,"div",0),Ao(1,eP,6,1,"div",1),Ao(2,tP,96,34,"ng-container",2)),2&e&&(Oo("ngIf",t.loading),Si(1),Oo("ngIf",t.error),Si(1),Oo("ngIf",!t.loading&&!t.error))},directives:[Ph],styles:["h4,ul{margin-bottom:.2rem!important}h4{margin-top:1rem!important}"],encapsulation:2}),e})(),rP=(()=>{class e{constructor(e){this.activeModal=e}}return e.\u0275fac=function(t){return new(t||e)(To(Lv))},e.\u0275cmp=pt({type:e,selectors:[["app-report-error-dialog"]],inputs:{report:"report",errorMessage:"errorMessage"},decls:11,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"h4",1),wa(2),Lo(),Po(3,"button",2),Uo("click",(function(){return t.activeModal.close("Cancel")})),Po(4,"span",3),wa(5,"\xd7"),Lo(),Lo(),Lo(),Po(6,"div",4),wa(7),Lo(),Po(8,"div",5),Po(9,"button",6),Uo("click",(function(){return t.activeModal.close("OK")})),wa(10,"OK"),Lo(),Lo()),2&e&&(Si(2),xa(t.report),Si(5),Sa(" ",t.errorMessage," "))},styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),e})();function iP(e,t,n){return r=>{return wg(0,e).pipe(by(e=>++e,0),Hg(function(e){return t=>{if(t>e)throw new Error("Error: max attempts")}}(t)),(i=r,Og(()=>i)),Cy(n));var i}}let sP=(()=>{class e{constructor(){this.selection=new ag({names:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),oP=(()=>{class e{constructor(){this.selection=new ag({ids:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aP=(()=>{class e{constructor(){this.selection=new ag({filters:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lP(e,t){1&e&&(Po(0,"div",66),Po(1,"span",67),wa(2,"Loading..."),Lo(),Lo())}function cP(e,t){if(1&e&&(Po(0,"div",68),Po(1,"div",3),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Ll(6,"async"),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(Fl(6,1,e.dataSource.error$))}}const hP=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function uP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"name")})),wa(1," Name "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function dP(e,t){if(1&e){const e=jo();Po(0,"mat-cell",72),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.name)}}function pP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"chain")})),wa(1," Chain "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","chain")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function fP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.chain)}}function mP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"row_reads")})),wa(1," Reads "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","row_reads")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function gP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.row_reads)}}function vP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"date")})),wa(1," Date "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","date")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function yP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.date)}}function bP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"samples_group")})),wa(1," Sample Group "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","samples_group")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function _P(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.samples_group)}}function wP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"patient_name")})),wa(1," Patient "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","patient_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function xP(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.patient_name)}}function SP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sex")})),wa(1," Sex "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","sex")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function kP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.sex)}}function CP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"ethnic")})),wa(1," Ethnicity "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","ethnic")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function EP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.ethnic)}}function RP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"status")})),wa(1," Condition "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","status")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function AP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.status)}}function IP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"cohort")})),wa(1," Cohort "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","cohort")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function TP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.cohort)}}function DP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"age")})),wa(1," Age "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","age")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function OP(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.age)}}function MP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"name_in_paper")})),wa(1," Name In Study "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","name_in_paper")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function PP(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.name_in_paper)}}function LP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"country")})),wa(1," Country "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","country")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function FP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.country)}}function NP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_name")})),wa(1," Study "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","study_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function zP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.study_name)}}function BP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"institute")})),wa(1," Institute "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","institute")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function jP(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.institute)}}function VP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"researcher")})),wa(1," Researcher "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","researcher")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function $P(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.researcher)}}function UP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"num_subjects")})),wa(1," # Subjects "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","num_subjects")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function HP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.num_subjects)}}function qP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"num_samples")})),wa(1," # Samples "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","num_samples")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function GP(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.num_samples)}}function WP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_reference")})),wa(1," Study Ref "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","study_reference")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function YP(e,t){if(1&e&&(No(0),Po(1,"a",76),Fo(2,"i",77),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.study_reference,ii)}}function ZP(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.study_reference," ")}}function XP(e,t){if(1&e&&(Po(0,"mat-cell",74),Ao(1,YP,3,1,"ng-container",75),Ao(2,ZP,2,1,"ng-container",75),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.study_reference.startsWith("http")),Si(1),Oo("ngIf",!e.study_reference.startsWith("http"))}}function KP(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_contact")})),wa(1," Study Contact "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","study_contact")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function QP(e,t){if(1&e&&(No(0),Po(1,"a",76),Fo(2,"i",77),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.study_contact,ii)}}function JP(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.study_contact," ")}}function eL(e,t){if(1&e&&(Po(0,"mat-cell",74),Ao(1,QP,3,1,"ng-container",75),Ao(2,JP,2,1,"ng-container",75),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.study_contact.startsWith("http")),Si(1),Oo("ngIf",!e.study_contact.startsWith("http"))}}function tL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_acc_id")})),wa(1," Study Acc ID "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","study_acc_id")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function nL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.study_acc_id)}}function rL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_acc_ref")})),wa(1," Study Acc Ref "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","study_acc_ref")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function iL(e,t){if(1&e&&(No(0),Po(1,"a",76),Fo(2,"i",77),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.study_acc_ref,ii)}}function sL(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.study_acc_ref," ")}}function oL(e,t){if(1&e&&(Po(0,"mat-cell",74),Ao(1,iL,3,1,"ng-container",75),Ao(2,sL,2,1,"ng-container",75),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.study_acc_ref.startsWith("http")),Si(1),Oo("ngIf",!e.study_acc_ref.startsWith("http"))}}function aL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"tissue_name")})),wa(1," Tissue Name "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","tissue_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function lL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.tissue_name)}}function cL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"species")})),wa(1," Species "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","species")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function hL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.species)}}function uL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"tissue")})),wa(1," Tissue "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","tissue")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function dL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.tissue)}}function pL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"combined_cell_type")})),wa(1," Cell "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","combined_cell_type")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function fL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.combined_cell_type)}}function mL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"cell_type")})),wa(1," Cell Type "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","cell_type")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function gL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.cell_type)}}function vL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sub_cell_type")})),wa(1," Cell Subtype "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","sub_cell_type")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function yL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.sub_cell_type)}}function bL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"isotype")})),wa(1," Isotype "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","isotype")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function _L(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.isotype)}}function wL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sequencing_protocol")})),wa(1," Protocol "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","sequencing_protocol")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function xL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.sequencing_protocol)}}function SL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"umi")})),wa(1," UMI "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","umi")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function kL(e,t){1&e&&Fo(0,"i",80)}function CL(e,t){1&e&&Fo(0,"i",81)}function EL(e,t){if(1&e&&(Po(0,"mat-cell",74),Ao(1,kL,1,0,"i",78),Ao(2,CL,1,0,"i",79),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.umi),Si(1),Oo("ngIf",!e.umi)}}function RL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"sequencing_length")})),wa(1," Read Length "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","sequencing_length")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function AL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.sequencing_length)}}function IL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"primer_3_loc")})),wa(1," 3' Primer "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","primer_3_loc")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function TL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.primer_3_loc)}}function DL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"primer_5_loc")})),wa(1," 5' Primer "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","primer_5_loc")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function OL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.primer_5_loc)}}function ML(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"seq_platform")})),wa(1," Platform "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","seq_platform")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function PL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.seq_platform)}}function LL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"helix")})),wa(1," Helix "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","helix")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function FL(e,t){if(1&e&&(Po(0,"mat-cell",74),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.helix)}}function NL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",73),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"genotypes")})),wa(1," Genotype "),Lo()}2&e&&Oo("enableGhostResize",!0)("resizeEdges",Il(2,hP))}const zL=function(e){return{sample:e}};function BL(e,t){if(1&e&&(Po(0,"mat-cell",74),Po(1,"button",82),Fo(2,"i",83),Lo(),Lo()),2&e){const e=t.$implicit;Yo();const n=Io(149);Si(1),Oo("matMenuTriggerFor",n)("matMenuTriggerData",Tl(2,zL,e))}}function jL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"haplotypes")})),wa(1," Haplotype "),Po(2,"app-filter",84,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(7,hP)),Si(2),Oo("columnName","haplotypes")("filterMode",e.filterModeEnum.TEXT_MODE)("showTextFilter",!1)("showSort",!1)("choices$",e.dataSource.choices$)}}const VL=function(e,t){return{sample:e,haplo:t}};function $L(e,t){if(1&e&&(No(0),Po(1,"div",87),Po(2,"button",88),wa(3),Lo(),Lo(),zo()),2&e){const e=Yo().$implicit,t=Yo(2).$implicit;Yo();const n=Io(146);Si(2),Oo("matMenuTriggerFor",n)("matMenuTriggerData",Dl(3,VL,t,e.key)),Si(1),Sa(" ",e.key," ")}}function UL(e,t){if(1&e&&(Po(0,"div"),Ao(1,$L,4,6,"ng-container",75),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf","path"!==e.key)}}function HL(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",85),Po(2,"div",3),Ao(3,UL,2,1,"div",86),Ll(4,"keyvalue"),Lo(),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(3),Oo("ngForOf",Fl(4,1,e.haplotypes))}}function qL(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,HL,5,3,"div",75),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.haplotypes)}}function GL(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",69),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"dataset")})),wa(1," Dataset "),Po(2,"app-filter",70,71),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,hP)),Si(2),Oo("columnName","dataset")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function WL(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.dataset)}}function YL(e,t){1&e&&Fo(0,"mat-header-row")}function ZL(e,t){1&e&&Fo(0,"mat-row")}function XL(e,t){if(1&e){const e=jo();No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),Po(3,"button",95),Uo("click",(function(){rn(e);const t=Yo(),n=t.sample,r=t.haplo;return Yo().sendReportRequest("rep_single_haplotype","pdf",n.haplotypes[r].analysis)})),Fo(4,"i",96),Lo(),Po(5,"span"),wa(6,"\xa0\xa0"),Lo(),Po(7,"button",95),Uo("click",(function(){rn(e);const t=Yo(),n=t.sample,r=t.haplo;return Yo().sendReportRequest("rep_single_haplotype","html",n.haplotypes[r].analysis)})),Fo(8,"i",94),Lo(),zo()}}function KL(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function QL(e,t){if(1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),Po(3,"a",97),Fo(4,"i",98),Lo(),zo()),2&e){const e=Yo(),t=e.sample,n=e.haplo;Si(3),Qo("href",t.haplotypes.path+t.haplotypes[n].rabhit,ii),Qo("download",t.name+"_rabhit.tab")}}function JL(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function eF(e,t){if(1&e&&(Po(0,"div",85),Po(1,"div",89),Po(2,"b"),wa(3),Lo(),Lo(),Po(4,"div",90),wa(5),Lo(),Po(6,"div",91),wa(7," Haplotype Analysis "),Ao(8,XL,9,0,"ng-container",75),Ao(9,KL,4,0,"ng-container",75),Lo(),Po(10,"div",92),wa(11," RabHIT report "),Ao(12,QL,5,2,"ng-container",75),Ao(13,JL,4,0,"ng-container",75),Lo(),Po(14,"div",90),wa(15," RAbHIT documentation "),Po(16,"span"),wa(17,"\xa0\xa0"),Lo(),Po(18,"a",93),Fo(19,"i",94),Lo(),Lo(),Lo()),2&e){const e=t.sample,n=t.haplo;Si(3),xa(e.name),Si(2),Sa(" Inferred haplotype using ",n," as anchor "),Si(3),Oo("ngIf",e.haplotypes[n].analysis.length>0),Si(1),Oo("ngIf",0===e.haplotypes[n].analysis.length),Si(3),Oo("ngIf",e.haplotypes[n].rabhit.length>0),Si(1),Oo("ngIf",0===e.haplotypes[n].rabhit.length)}}function tF(e,t){if(1&e){const e=jo();No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),Po(3,"button",95),Uo("click",(function(){rn(e);const t=Yo().sample;return Yo().sendReportRequest("rep_single_genotype","pdf",t.genotypes.analysis)})),Fo(4,"i",96),Lo(),Po(5,"span"),wa(6,"\xa0\xa0"),Lo(),Po(7,"button",95),Uo("click",(function(){rn(e);const t=Yo().sample;return Yo().sendReportRequest("rep_single_genotype","html",t.genotypes.analysis)})),Fo(8,"i",94),Lo(),zo()}}function nF(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function rF(e,t){if(1&e&&(No(0),Po(1,"a",97),Fo(2,"i",98),Lo(),zo()),2&e){const e=Yo().sample;Si(1),Qo("href",e.genotypes.path+e.genotypes.tigger,ii),Qo("download",e.name+"_tigger.tab")}}function iF(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function sF(e,t){if(1&e&&(No(0),Po(1,"a",97),Fo(2,"i",98),Lo(),zo()),2&e){const e=Yo().sample;Si(1),Qo("href",e.genotypes.path+e.genotypes.ogrdbstats,ii),Qo("download",e.name+"_ogrdbstats.csv")}}function oF(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function aF(e,t){if(1&e&&(No(0),Po(1,"a",97),Fo(2,"i",96),Lo(),zo()),2&e){const e=Yo().sample;Si(1),Qo("href",e.genotypes.path+e.genotypes.ogrdbplot,ii),Qo("download",e.name+"_ogrdbplot.pdf")}}function lF(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function cF(e,t){if(1&e&&(No(0),Po(1,"a",97),Fo(2,"i",98),Lo(),zo()),2&e){const e=Yo().sample;Si(1),Qo("href",e.genotypes.path+e.genotypes.igsnper,ii),Qo("download",e.name+"_igsnper.tsv")}}function hF(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function uF(e,t){if(1&e&&(Po(0,"div",85),Po(1,"div",89),Po(2,"b"),wa(3),Lo(),Lo(),Po(4,"div",90),wa(5," Inferred genotype "),Lo(),Po(6,"div",99),wa(7," Genotype Analysis "),Ao(8,tF,9,0,"ng-container",75),Ao(9,nF,4,0,"ng-container",75),Lo(),Po(10,"div",99),wa(11," TIgGER report "),Po(12,"span"),wa(13,"\xa0\xa0"),Lo(),Ao(14,rF,3,2,"ng-container",75),Ao(15,iF,4,0,"ng-container",75),Lo(),Po(16,"div",99),wa(17," OGRDBStats report "),Po(18,"span"),wa(19,"\xa0\xa0"),Lo(),Ao(20,sF,3,2,"ng-container",75),Ao(21,oF,4,0,"ng-container",75),Lo(),Po(22,"div",99),wa(23," OGRDBStats plots "),Po(24,"span"),wa(25,"\xa0\xa0"),Lo(),Ao(26,aF,3,2,"ng-container",75),Ao(27,lF,4,0,"ng-container",75),Lo(),Po(28,"div",92),wa(29," IgSNPer report (for sample S1) "),Po(30,"span"),wa(31,"\xa0\xa0"),Lo(),Ao(32,cF,3,2,"ng-container",75),Ao(33,hF,4,0,"ng-container",75),Lo(),Po(34,"div",90),wa(35," TIgGER documentation "),Po(36,"span"),wa(37,"\xa0\xa0"),Lo(),Po(38,"a",100),Fo(39,"i",94),Lo(),Lo(),Po(40,"div",90),wa(41," OGRDBstats documentation "),Po(42,"span"),wa(43,"\xa0\xa0"),Lo(),Po(44,"a",101),Fo(45,"i",94),Lo(),Lo(),Po(46,"div",90),wa(47," IgSNPer documentation "),Po(48,"span"),wa(49,"\xa0\xa0"),Lo(),Po(50,"a",102),Fo(51,"i",94),Lo(),Lo(),Lo()),2&e){const e=t.sample;Si(3),xa(e.name),Si(5),Oo("ngIf",e.genotypes.analysis.length>0),Si(1),Oo("ngIf",0===e.genotypes.analysis.length),Si(5),Oo("ngIf",e.genotypes.tigger.length>0),Si(1),Oo("ngIf",0===e.genotypes.tigger.length),Si(5),Oo("ngIf",e.genotypes.ogrdbstats.length>0),Si(1),Oo("ngIf",0===e.genotypes.ogrdbstats.length),Si(5),Oo("ngIf",e.genotypes.ogrdbplot.length>0),Si(1),Oo("ngIf",0===e.genotypes.ogrdbplot.length),Si(5),Oo("ngIf",e.genotypes.igsnper.length>0),Si(1),Oo("ngIf",0===e.genotypes.igsnper.length)}}const dF=function(){return[25,50,100,250]};let pF=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this.repseqService=e,this.geneTableService=t,this.modalService=n,this.repGeneSelectedService=r,this.repSampleSelectedService=i,this.repSampleFilterService=s,this.tableParamsStorageService=o,this.reportsService=a,this.httpClient=l,this.displayedColumns=["name","status","tissue","combined_cell_type","row_reads","sequencing_length","umi","genotypes","haplotypes"],this.allColumns=QM,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.repGeneSelectedServiceSubscription=null,this.filterModeEnum=iA,this.filters=[],this.sorts=[],this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.choices$Subscription=null,this.loading$Subscription=null,this.resizeEvents=new Map}ngOnInit(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-sample-table-widths"),this.dataSource=new KM(this.repseqService)}ngOnDestroy(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}ngAfterViewInit(){this.paginatorSubscription=this.paginator.page.subscribe(()=>this.loadSequencesPage()),setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.selection=e,this.paginator.firstPage(),this.table.renderRows(),this.loadSequencesPage()}),this.choices$Subscription=this.dataSource.choices$.subscribe(e=>{this.repSampleSelectedService.selection.next(this.filters.length>0&&!this.isSelectedSamplesChecked?{ids:e.names_by_dataset}:{ids:[]})}),this.loading$Subscription=this.dataSource.loading$.subscribe(e=>{e||this.applyResizes()}),this.repGeneSelectedServiceSubscription=this.repGeneSelectedService.source.subscribe(e=>{this.selectedSequenceNames=e.names,this.isSelectedSamplesChecked&&this.onSelectedSamplesChange(null)})})}onSelectedSamplesChange(e){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}applyFilter(e){for(let t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1);for(const t of e.predicates)t.op&&this.filters.push(t);for(let t=this.sorts.length-1;t>=0;t--)this.sorts[t].field===e.field&&this.sorts.splice(t,1);e.sort.order&&this.sorts.push(e.sort),this.repSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}updateColumnData(e){const t=function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(e=>!t.has(e.field)),this.sorts=this.sorts.filter(e=>!t.has(e.field)),this.loadSequencesPage()}loadSequencesPage(){this.selection&&this.dataSource.loadRepSamples(this.selection.species,this.selection.repSeqs.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}showInfo(e){const t=this.modalService.open(nP,{size:"xl"});t.componentInstance.sampleName=e.name,t.componentInstance.species=this.selection.species,t.componentInstance.dataset=e.dataset}onResizeEnd(e,t){if(e.edges.right){const n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}applyResizes(){for(const[e,t]of this.resizeEvents)this.updateColumnWidth(e,t)}updateColumnWidth(e,t){const n=document.getElementsByClassName("mat-column-"+e);for(let r=0;r<n.length;r++)n[r].style.width=t}sendReportRequest(e,t,n){try{n=JSON.parse(n)}catch(NB){return void console.log("Error parsing genotype report request parameters")}const r=window.open("","_blank");r.document.write('<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"><h3>Running your report...</h3><div  class="spinner-border" role="status"> <span class="sr-only">Loading...</span> </div>');let i="[]";"rep_single_haplotype"===e&&(i='{"haplo_gene":"'+n.hap_gene+'"}'),this.reportsService.getReportsRunApi(e,t,n.species,"","[]",n.repSeqs,'[{"field":"name","op":"in","value":["'+n.name+'"]}]',i).subscribe(t=>{const n=t.id;console.log("job id:"+n);let i=0;this.fetchReportStatus(n).pipe(iP(3e3,40,e=>(console.log(e.status+": "+i),i+=1,"SUCCESS"===e.status||"FAILURE"===e.status))).subscribe(t=>{console.log("status: "+t.status),"SUCCESS"===t.status?"ok"===t.results.status?this.showResult(t.results,r):this.displayError(r,e,{status:t.results.description}):this.displayError(r,e,"return code:"+t.status+" "+t.description)},t=>{console.log("error: poll count exceeded"),this.displayError(r,e,{status:"Timeout waiting for report"})})},t=>{console.log("error from run request"),this.displayError(r,e,t)})}fetchReportStatus(e){return ly(()=>this.reportsService.getReportsStatus(e)).pipe(xy(()=>Bg))}showResult(e,t){if(e.filename){t.close();const n="my JWT",r=(new lf).set("authorization","Bearer "+n);this.httpClient.get(e.url,{headers:r,responseType:"blob"}).subscribe(t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download",e.filename),document.body.appendChild(n),n.click()})}else t.location=e.url}displayError(e,t,n){e.close();const r=this.modalService.open(rP,{size:"m"});r.componentInstance.report="Error running "+t.title,r.componentInstance.errorMessage="error"in n&&"message"in n.error&&n.error.message?n.error.message:"statusText"in n&&n.statusText?n.status+". "+n.name+": "+n.statusText:n.status,r.result.then(e=>{},()=>{})}}return e.\u0275fac=function(t){return new(t||e)(To(Aw),To(Tw),To(jv),To(sP),To(oP),To(aP),To(sA),To(Rw),To(xf))},e.\u0275cmp=pt({type:e,selectors:[["app-sample-rep-panel"]],viewQuery:function(e,t){if(1&e&&(Jl(ZE,!0),Jl(FR,!0)),2&e){let e;Kl(e=ic())&&(t.paginator=e.first),Kl(e=ic())&&(t.table=e.first)}},inputs:{selection:"selection"},features:[La([sA])],decls:151,vars:19,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-md-3",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"disabled","ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[1,"col-md-2",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],[1,"col-md-7"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","chain"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","row_reads"],["matColumnDef","date"],["matColumnDef","samples_group"],["matColumnDef","patient_name"],[4,"matCellDef"],["matColumnDef","sex"],["matColumnDef","ethnic"],["matColumnDef","status"],["matColumnDef","cohort"],["matColumnDef","age"],["matColumnDef","name_in_paper"],["matColumnDef","country"],["matColumnDef","study_name"],["matColumnDef","institute"],["matColumnDef","researcher"],["matColumnDef","num_subjects"],["matColumnDef","num_samples"],["matColumnDef","study_reference"],["matColumnDef","study_contact"],["matColumnDef","study_acc_id"],["matColumnDef","study_acc_ref"],["matColumnDef","tissue_name"],["matColumnDef","species"],["matColumnDef","tissue"],["matColumnDef","combined_cell_type"],["matColumnDef","cell_type"],["matColumnDef","sub_cell_type"],["matColumnDef","isotype"],["matColumnDef","sequencing_protocol"],["matColumnDef","umi"],["matColumnDef","sequencing_length"],["matColumnDef","primer_3_loc"],["matColumnDef","primer_5_loc"],["matColumnDef","seq_platform"],["matColumnDef","helix"],["matColumnDef","genotypes"],["matColumnDef","haplotypes"],["matColumnDef","dataset"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["haploMenu","matMenu"],["matMenuContent",""],["genoMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"click"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col"],[4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],["class","fa fa-times","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"fa","fa-times",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],[3,"columnName","filterMode","showTextFilter","showSort","choices$","predicateEmitter"],[1,"container"],[4,"ngFor","ngForOf"],[1,"col-xs-6"],[1,"btn","btn-secondary","btn-sm","mr-1",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"row","ml-4","mr-2","mb-4"],["href","https://pubmed.ncbi.nlm.nih.gov/31173062","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[3,"href","download"],[1,"fa","fa-save",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],["href","https://pubmed.ncbi.nlm.nih.gov/30814994","target","_blank"],["href","https://github.com/airr-community/ogrdbstats","target","_blank"],["href","https://github.com/Immunotools/IgSNPer","target","_blank"]],template:function(e,t){1&e&&(Po(0,"div",0),Ao(1,lP,3,0,"div",1),Ll(2,"async"),Ao(3,cP,7,3,"div",2),Ll(4,"async"),Po(5,"div",3),Po(6,"div",4),Po(7,"div",5),Po(8,"input",6),Uo("ngModelChange",(function(e){return t.isSelectedSamplesChecked=e}))("change",(function(){return t.onSelectedSamplesChange(t.isSelectedSamplesChecked)})),Lo(),Po(9,"label",7),wa(10," Only samples with selected alleles "),Lo(),Lo(),Lo(),Po(11,"div",8),Po(12,"button",9),Uo("columnsChange",(function(e){return t.displayedColumns=e}))("columnsChange",(function(e){return t.updateColumnData(e)})),Po(13,"mat-icon",10),wa(14,"view_column"),Lo(),Lo(),Po(15,"label",11),wa(16,"Arrange Columns"),Lo(),Lo(),Po(17,"div",12),Fo(18,"mat-paginator",13),Lo(),Lo(),Po(19,"div",3),Po(20,"div",14),Po(21,"mat-table",15),No(22,16),Ao(23,uP,4,6,"mat-header-cell",17),Ao(24,dP,2,1,"mat-cell",18),zo(),No(25,19),Ao(26,pP,4,6,"mat-header-cell",20),Ao(27,fP,2,1,"mat-cell",21),zo(),No(28,22),Ao(29,mP,4,6,"mat-header-cell",20),Ao(30,gP,2,1,"mat-cell",21),zo(),No(31,23),Ao(32,vP,4,6,"mat-header-cell",20),Ao(33,yP,2,1,"mat-cell",21),zo(),No(34,24),Ao(35,bP,4,6,"mat-header-cell",20),Ao(36,_P,2,1,"mat-cell",21),zo(),wa(37," // Patient "),No(38,25),Ao(39,wP,4,6,"mat-header-cell",17),Ao(40,xP,2,1,"mat-cell",26),zo(),No(41,27),Ao(42,SP,4,6,"mat-header-cell",20),Ao(43,kP,2,1,"mat-cell",21),zo(),No(44,28),Ao(45,CP,4,6,"mat-header-cell",20),Ao(46,EP,2,1,"mat-cell",21),zo(),No(47,29),Ao(48,RP,4,6,"mat-header-cell",20),Ao(49,AP,2,1,"mat-cell",21),zo(),No(50,30),Ao(51,IP,4,6,"mat-header-cell",20),Ao(52,TP,2,1,"mat-cell",21),zo(),No(53,31),Ao(54,DP,4,6,"mat-header-cell",17),Ao(55,OP,2,1,"mat-cell",26),zo(),No(56,32),Ao(57,MP,4,6,"mat-header-cell",17),Ao(58,PP,2,1,"mat-cell",26),zo(),No(59,33),Ao(60,LP,4,6,"mat-header-cell",20),Ao(61,FP,2,1,"mat-cell",21),zo(),wa(62," // Study "),No(63,34),Ao(64,NP,4,6,"mat-header-cell",20),Ao(65,zP,2,1,"mat-cell",21),zo(),No(66,35),Ao(67,BP,4,6,"mat-header-cell",17),Ao(68,jP,2,1,"mat-cell",26),zo(),No(69,36),Ao(70,VP,4,6,"mat-header-cell",17),Ao(71,$P,2,1,"mat-cell",26),zo(),No(72,37),Ao(73,UP,4,6,"mat-header-cell",20),Ao(74,HP,2,1,"mat-cell",21),zo(),No(75,38),Ao(76,qP,4,6,"mat-header-cell",20),Ao(77,GP,2,1,"mat-cell",21),zo(),No(78,39),Ao(79,WP,4,6,"mat-header-cell",20),Ao(80,XP,3,2,"mat-cell",21),zo(),No(81,40),Ao(82,KP,4,6,"mat-header-cell",20),Ao(83,eL,3,2,"mat-cell",21),zo(),No(84,41),Ao(85,tL,4,6,"mat-header-cell",17),Ao(86,nL,2,1,"mat-cell",26),zo(),No(87,42),Ao(88,rL,4,6,"mat-header-cell",20),Ao(89,oL,3,2,"mat-cell",21),zo(),wa(90," // Tissue "),No(91,43),Ao(92,aL,4,6,"mat-header-cell",17),Ao(93,lL,2,1,"mat-cell",26),zo(),No(94,44),Ao(95,cL,4,6,"mat-header-cell",20),Ao(96,hL,2,1,"mat-cell",21),zo(),No(97,45),Ao(98,uL,4,6,"mat-header-cell",20),Ao(99,dL,2,1,"mat-cell",21),zo(),No(100,46),Ao(101,pL,4,6,"mat-header-cell",17),Ao(102,fL,2,1,"mat-cell",26),zo(),No(103,47),Ao(104,mL,4,6,"mat-header-cell",17),Ao(105,gL,2,1,"mat-cell",26),zo(),No(106,48),Ao(107,vL,4,6,"mat-header-cell",17),Ao(108,yL,2,1,"mat-cell",26),zo(),No(109,49),Ao(110,bL,4,6,"mat-header-cell",20),Ao(111,_L,2,1,"mat-cell",21),zo(),wa(112," // SeqProtocol "),No(113,50),Ao(114,wL,4,6,"mat-header-cell",17),Ao(115,xL,2,1,"mat-cell",26),zo(),No(116,51),Ao(117,SL,4,6,"mat-header-cell",20),Ao(118,EL,3,2,"mat-cell",21),zo(),No(119,52),Ao(120,RL,4,6,"mat-header-cell",20),Ao(121,AL,2,1,"mat-cell",21),zo(),No(122,53),Ao(123,IL,4,6,"mat-header-cell",20),Ao(124,TL,2,1,"mat-cell",21),zo(),No(125,54),Ao(126,DL,4,6,"mat-header-cell",20),Ao(127,OL,2,1,"mat-cell",21),zo(),No(128,55),Ao(129,ML,4,6,"mat-header-cell",20),Ao(130,PL,2,1,"mat-cell",21),zo(),No(131,56),Ao(132,LL,4,6,"mat-header-cell",20),Ao(133,FL,2,1,"mat-cell",21),zo(),No(134,57),Ao(135,NL,2,3,"mat-header-cell",20),Ao(136,BL,3,4,"mat-cell",21),zo(),No(137,58),Ao(138,jL,4,8,"mat-header-cell",17),Ao(139,qL,2,1,"mat-cell",26),zo(),No(140,59),Ao(141,GL,4,6,"mat-header-cell",17),Ao(142,WL,2,1,"mat-cell",26),zo(),Ao(143,YL,1,0,"mat-header-row",60),Ao(144,ZL,1,0,"mat-row",61),Lo(),Lo(),Lo(),Lo(),Po(145,"mat-menu",62,63),Ao(147,eF,20,6,"ng-template",64),Lo(),Po(148,"mat-menu",62,65),Ao(150,uF,52,11,"ng-template",64),Lo()),2&e&&(Si(1),Oo("ngIf",Fl(2,14,t.dataSource.loading$)),Si(2),Oo("ngIf",Fl(4,16,t.dataSource.error$)),Si(5),Oo("disabled",!t.selectedSequenceNames.length)("ngModel",t.isSelectedSamplesChecked),Si(4),Oo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-sample-table"),Si(6),Oo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Il(18,dF)),Si(3),Oo("dataSource",t.dataSource),Si(122),Oo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",t.displayedColumns))},directives:[Ph,$f,Kf,Xm,hT,VI,ZE,FR,$R,jR,zR,YR,XR,_I,hI,HR,bT,YO,GR,kI,Oh,QR,eA],pipes:[qh,Gh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.addr{color:#007bff!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),e})(),fF=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-sample-rep"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-sample-rep-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!1)("showRepseq",!0))},directives:[Kw,pF],styles:[""]}),e})(),mF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[oS],oS]}),e})(),gF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[CS,{provide:pS,useValue:"fr-FR"}],imports:[[Yh,sg,og,EI,nA,DT,sT,qM,$I,mF,ik,tE,wE,YM,pO,CS,qw,WO.withComponents([UT,QT,xO])]]}),e})();const vF=[{id:"name",name:"Name",hidden:!1},{id:"gene_name",name:"Gene Name",hidden:!1},{id:"pipeline_name",name:"Primer Name",hidden:!1},{id:"seq",name:"Sequence",hidden:!1},{id:"seq_len",name:"Seq Length",hidden:!1},{id:"similar",name:"Similar",hidden:!1},{id:"appears",name:"Appearances",hidden:!1},{id:"is_single_allele",name:"Single Allele",hidden:!1},{id:"low_confidence",name:"Low Confidence",hidden:!1},{id:"novel",name:"Novel",hidden:!1},{id:"max_kdiff",name:"Max kDiff",hidden:!1},{id:"dataset",name:"Dataset",hidden:!1},{id:"notes_count",name:"Notes",hidden:!1}];class yF{constructor(e){this.repseqService=e,this.repSequenceSubject=new ag([]),this.choicesSubject=new ag({}),this.loadingSubject=new ag(!1),this.errorSubject=new ag(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}loadRepSequences(e,t,n,r,i,s,o){t=t.split(",").map(e=>"Test"===e?"Human_IGH":e).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSequencesApi(e,t,i,s,n,r,o).pipe(xw(),xy(e=>(this.errorSubject.next(e),[])),Ey(()=>{this.loadingSubject.next(!1)})).subscribe(e=>{this.totalItems=e.total_items,this.choicesSubject.next(e.uniques),this.repSequenceSubject.next(e.samples)}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSequenceSubject.next([]))}connect(e){return this.repSequenceSubject.asObservable()}disconnect(e){this.repSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}let bF=(()=>{class e{constructor(e){this.sanitizer=e}transform(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}return e.\u0275fac=function(t){return new(t||e)(To(ku))},e.\u0275pipe=_t({name:"safe",type:e,pure:!0}),e})(),_F=(()=>{class e{constructor(e,t){this.activeModal=e,this.sanitizer=t}ngOnInit(){this.notes=this.notes.replace(/\n/g,"<br><br>")}}return e.\u0275fac=function(t){return new(t||e)(To(Lv),To(ku))},e.\u0275cmp=pt({type:e,selectors:[["app-rep-gene-notes"]],inputs:{notes:"notes",sequenceName:"sequenceName"},decls:13,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(No(0),Po(1,"div",0),Po(2,"h3",1),wa(3),Lo(),Po(4,"button",2),Uo("click",(function(){return t.activeModal.dismiss("Cross click")})),Po(5,"span",3),wa(6,"\xd7"),Lo(),Lo(),Lo(),Po(7,"div",4),Fo(8,"div",5),Ll(9,"safe"),Lo(),Po(10,"div",6),Po(11,"button",7),Uo("click",(function(){return t.activeModal.close("Close click")})),wa(12,"Close"),Lo(),Lo(),zo()),2&e&&(Si(3),Sa("Sequence Notes - ",t.sequenceName,""),Si(5),Oo("innerHTML",Nl(9,2,t.notes,"html"),ri))},pipes:[bF],styles:[""],encapsulation:2}),e})();function wF(e,t){1&e&&(Po(0,"div",43),Po(1,"span",44),wa(2,"Loading..."),Lo(),Lo())}function xF(e,t){if(1&e&&(Po(0,"div",45),Po(1,"div",3),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Ll(6,"async"),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(Fl(6,1,e.dataSource.error$))}}const SF=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function kF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",46),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"name")})),wa(1," Name "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function CF(e,t){if(1&e){const e=jo();Po(0,"mat-cell",49),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().onCellClick(n,"seq")})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.name)}}function EF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",50),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"gene_name")})),wa(1," Gene Name "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","gene_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}const RF=function(e){return{seq:e}};function AF(e,t){if(1&e&&(Po(0,"mat-cell",51),wa(1),Po(2,"button",52),Fo(3,"i",53),Lo(),Lo()),2&e){const e=t.$implicit;Yo();const n=Io(64);Si(1),Sa(" ",e.gene_name," "),Si(1),Oo("matMenuTriggerFor",n)("matMenuTriggerData",Tl(3,RF,e))}}function IF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",50),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"pipeline_name")})),wa(1," Primer Name "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","pipeline_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function TF(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.pipeline_name)}}function DF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"seq")})),wa(1," Sequence "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","seq")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function OF(e,t){if(1&e){const e=jo();Po(0,"mat-cell",55),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().onCellClick(n,"seq")})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.seq)}}function MF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"seq_len")})),wa(1," Seq Length "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","seq_len")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function PF(e,t){if(1&e&&(Po(0,"mat-cell",51),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.seq_len)}}function LF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",50),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"similar")})),wa(1," Similar "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","similar")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function FF(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.similar)}}function NF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"appears")})),wa(1," Appearances "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","appears")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function zF(e,t){if(1&e&&(Po(0,"mat-cell",51),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.appears)}}function BF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"is_single_allele")})),wa(1," Single Allele "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","is_single_allele")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function jF(e,t){1&e&&Fo(0,"i",58)}function VF(e,t){1&e&&Fo(0,"i",59)}function $F(e,t){if(1&e&&(Po(0,"mat-cell",51),Ao(1,jF,1,0,"i",56),Ao(2,VF,1,0,"i",57),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.is_single_allele),Si(1),Oo("ngIf",!e.is_single_allele)}}function UF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"low_confidence")})),wa(1," Low Confidence "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","low_confidence")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function HF(e,t){1&e&&Fo(0,"i",58)}function qF(e,t){1&e&&Fo(0,"i",59)}function GF(e,t){if(1&e&&(Po(0,"mat-cell",51),Ao(1,HF,1,0,"i",56),Ao(2,qF,1,0,"i",57),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.low_confidence),Si(1),Oo("ngIf",!e.low_confidence)}}function WF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"novel")})),wa(1," Novel "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","novel")("filterMode",e.filterModeEnum.BOOL_MODE)("choices$",e.dataSource.choices$)}}function YF(e,t){1&e&&Fo(0,"i",58)}function ZF(e,t){1&e&&Fo(0,"i",59)}function XF(e,t){if(1&e&&(Po(0,"mat-cell",51),Ao(1,YF,1,0,"i",56),Ao(2,ZF,1,0,"i",57),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.novel),Si(1),Oo("ngIf",!e.novel)}}function KF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"max_kdiff")})),wa(1," Max kDiff "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","max_kdiff")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function QF(e,t){if(1&e&&(Po(0,"mat-cell",51),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.max_kdiff)}}function JF(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",50),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"dataset")})),wa(1," Dataset "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","dataset")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function eN(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.dataset)}}function tN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",54),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"notes_count")})),wa(1," Notes "),Po(2,"app-filter",47,48),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,SF)),Si(2),Oo("columnName","notes_count")("filterMode",e.filterModeEnum.NUMBER_MODE)("choices$",e.dataSource.choices$)}}function nN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",60),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showNotes(n)})),Po(1,"button",61),wa(2),Lo(),Lo()}if(2&e){const e=t.$implicit;Si(2),Sa(" ",e.notes_count," ")}}function rN(e,t){1&e&&Fo(0,"mat-header-row",62)}function iN(e,t){1&e&&Fo(0,"mat-row")}function sN(e,t){if(1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),Po(3,"a",69),Fo(4,"i",68),Lo(),zo()),2&e){const e=Yo().seq;Si(3),Qo("href",e.igsnper_plot_path,ii)}}function oN(e,t){1&e&&(No(0),Po(1,"span"),wa(2,"\xa0\xa0"),Lo(),wa(3,"Not available "),zo())}function aN(e,t){if(1&e&&(Po(0,"div",63),Po(1,"div",64),Po(2,"b"),wa(3),Lo(),Lo(),Po(4,"div",65),wa(5," IgSNPer Analysis "),Ao(6,sN,5,1,"ng-container",66),Ao(7,oN,4,0,"ng-container",66),Lo(),Po(8,"div",65),wa(9," IgSNPer documentation "),Po(10,"span"),wa(11,"\xa0\xa0"),Lo(),Po(12,"a",67),Fo(13,"i",68),Lo(),Lo(),Lo()),2&e){const e=t.seq;Si(3),Sa("",e.gene_name," allelic variation"),Si(3),Oo("ngIf",e.igsnper_plot_path.length>0),Si(1),Oo("ngIf",0===e.igsnper_plot_path.length)}}const lN=function(){return[25,50,100,250]};let cN=(()=>{class e{constructor(e,t,n,r,i,s){this.repseqService=e,this.geneTableService=t,this.modalService=n,this.repGeneSelectedService=r,this.repSampleSelectedService=i,this.tableParamsStorageService=s,this.displayedColumns=["name","pipeline_name","seq","seq_len","similar","appears","is_single_allele","low_confidence","novel","max_kdiff"],this.allColumns=vF,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=iA,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSampleIds=[],this.isSelectedGenesChecked=!1,this.repSampleSelectedServiceSubscription=null,this.resizeEvents=new Map,this.samplesSelected=!1}ngOnInit(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-gene-table-widths"),this.dataSource=new yF(this.repseqService)}ngOnDestroy(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.repSampleSelectedServiceSubscription.unsubscribe()}ngAfterViewInit(){this.paginatorSubscription=this.paginator.page.subscribe(()=>this.loadSequencesPage()),setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{e.species&&e.repSeqs&&(this.selection=e,this.paginator.firstPage(),this.table.renderRows(),this.loadSequencesPage())}),this.choices$Subscription=this.dataSource.choices$.subscribe(e=>{this.repGeneSelectedService.selection.next(this.filters.length>0&&!this.isSelectedGenesChecked?{names:e.name}:{names:[]})}),this.loading$Subscription=this.dataSource.loading$.subscribe(e=>{e||this.applyResizes()}),this.repSampleSelectedServiceSubscription=this.repSampleSelectedService.source.subscribe(e=>{this.selectedSampleIds=e.ids,this.samplesSelected=Object.keys(this.selectedSampleIds).length>0,this.isSelectedGenesChecked&&this.onSelectedIdsChange()})})}onSelectedIdsChange(){this.applyFilter(this.isSelectedGenesChecked&&this.samplesSelected?{field:"sample_id",predicates:[{field:"sample_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"sample_id",predicates:[],sort:{order:""}})}applyFilter(e){for(let t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1);for(const t of e.predicates)t.op&&this.filters.push(t);for(let t=this.sorts.length-1;t>=0;t--)this.sorts[t].field===e.field&&this.sorts.splice(t,1);e.sort.order&&this.sorts.push(e.sort),this.loadSequencesPage()}updateColumnData(e){const t=function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(e=>!t.has(e.field)),this.sorts=this.sorts.filter(e=>!t.has(e.field)),this.loadSequencesPage()}loadSequencesPage(){this.selection&&this.dataSource.loadRepSequences(this.selection.species,this.selection.repSeqs.join(),JSON.stringify(this.filters),JSON.stringify(this.sorts),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}showNotes(e){const t=this.modalService.open(_F,{size:"lg"});t.componentInstance.sequenceName=e.name,t.componentInstance.notes=e.notes}onCellClick(e,t){const n=this.modalService.open(tx,{size:"lg"});n.componentInstance.name=e.name,"seq"===t&&(n.componentInstance.content=e.seq)}onResizeEnd(e,t){if(e.edges.right){const n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-gene-table-widths")}}applyResizes(){for(const[e,t]of this.resizeEvents)this.updateColumnWidth(e,t)}updateColumnWidth(e,t){const n=document.getElementsByClassName("mat-column-"+e);for(let r=0;r<n.length;r++)n[r].style.width=t}}return e.\u0275fac=function(t){return new(t||e)(To(Aw),To(Tw),To(jv),To(sP),To(oP),To(sA))},e.\u0275cmp=pt({type:e,selectors:[["app-rep-gene-table-panel"]],viewQuery:function(e,t){if(1&e&&(Jl(ZE,!0),Jl(FR,!0)),2&e){let e;Kl(e=ic())&&(t.paginator=e.first),Kl(e=ic())&&(t.table=e.first)}},inputs:{selection:"selection"},features:[La([sA])],decls:66,vars:19,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-md-3",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"disabled","ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[1,"col-md-2",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon"],[1,"header-text"],[1,"col-md-7"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["class","large-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","large-col",3,"click",4,"matCellDef"],["matColumnDef","gene_name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","pipeline_name"],[4,"matCellDef"],["matColumnDef","seq"],["class","small-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col mat-ellipsis",3,"click",4,"matCellDef"],["matColumnDef","seq_len"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["matColumnDef","similar"],["matColumnDef","appears"],["matColumnDef","is_single_allele"],["matColumnDef","low_confidence"],["matColumnDef","novel"],["matColumnDef","max_kdiff"],["matColumnDef","dataset"],["matColumnDef","notes_count"],["class","small-col",3,"click",4,"matCellDef"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["geneMenu","matMenu"],["matMenuContent",""],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],["mwlResizable","",1,"large-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[1,"large-col",3,"click"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col","mat-ellipsis",3,"click"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],["class","fa fa-times","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"fa","fa-times",2,"line-height","inherit"],[1,"small-col",3,"click"],[1,"btn","btn-sm","btn-solid-icon"],[1,"mat-elevation-z1"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[4,"ngIf"],["href","https://github.com/Immunotools/IgSNPer","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],["target","_blank",3,"href"]],template:function(e,t){1&e&&(Po(0,"div",0),Ao(1,wF,3,0,"div",1),Ll(2,"async"),Ao(3,xF,7,3,"div",2),Ll(4,"async"),Po(5,"div",3),Po(6,"div",4),Po(7,"div",5),Po(8,"input",6),Uo("ngModelChange",(function(e){return t.isSelectedGenesChecked=e}))("change",(function(){return t.onSelectedIdsChange()})),Lo(),Po(9,"label",7),wa(10," Only alleles present in selected samples "),Lo(),Lo(),Lo(),Po(11,"div",8),Po(12,"button",9),Uo("columnsChange",(function(e){return t.displayedColumns=e}))("columnsChange",(function(e){return t.updateColumnData(e)})),Po(13,"mat-icon",10),wa(14,"view_column"),Lo(),Po(15,"span",11),wa(16,"Arrange Columns"),Lo(),Lo(),Lo(),Po(17,"div",12),Fo(18,"mat-paginator",13),Lo(),Lo(),Po(19,"div",3),Po(20,"div",14),Po(21,"mat-table",15),No(22,16),Ao(23,kF,4,6,"mat-header-cell",17),Ao(24,CF,2,1,"mat-cell",18),zo(),No(25,19),Ao(26,EF,4,6,"mat-header-cell",20),Ao(27,AF,4,5,"mat-cell",21),zo(),No(28,22),Ao(29,IF,4,6,"mat-header-cell",20),Ao(30,TF,2,1,"mat-cell",23),zo(),No(31,24),Ao(32,DF,4,6,"mat-header-cell",25),Ao(33,OF,2,1,"mat-cell",26),zo(),No(34,27),Ao(35,MF,4,6,"mat-header-cell",28),Ao(36,PF,2,1,"mat-cell",21),zo(),No(37,29),Ao(38,LF,4,6,"mat-header-cell",20),Ao(39,FF,2,1,"mat-cell",23),zo(),No(40,30),Ao(41,NF,4,6,"mat-header-cell",28),Ao(42,zF,2,1,"mat-cell",21),zo(),No(43,31),Ao(44,BF,4,6,"mat-header-cell",28),Ao(45,$F,3,2,"mat-cell",21),zo(),No(46,32),Ao(47,UF,4,6,"mat-header-cell",28),Ao(48,GF,3,2,"mat-cell",21),zo(),No(49,33),Ao(50,WF,4,6,"mat-header-cell",28),Ao(51,XF,3,2,"mat-cell",21),zo(),No(52,34),Ao(53,KF,4,6,"mat-header-cell",28),Ao(54,QF,2,1,"mat-cell",21),zo(),No(55,35),Ao(56,JF,4,6,"mat-header-cell",20),Ao(57,eN,2,1,"mat-cell",23),zo(),No(58,36),Ao(59,tN,4,6,"mat-header-cell",28),Ao(60,nN,3,1,"mat-cell",37),zo(),Ao(61,rN,1,0,"mat-header-row",38),Ao(62,iN,1,0,"mat-row",39),Lo(),Lo(),Lo(),Lo(),Po(63,"mat-menu",40,41),Ao(65,aN,14,3,"ng-template",42),Lo()),2&e&&(Si(1),Oo("ngIf",Fl(2,14,t.dataSource.loading$)),Si(2),Oo("ngIf",Fl(4,16,t.dataSource.error$)),Si(5),Oo("disabled",!t.samplesSelected)("ngModel",t.isSelectedGenesChecked),Si(4),Oo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-gene-table"),Si(6),Oo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Il(18,lN)),Si(3),Oo("dataSource",t.dataSource),Si(40),Oo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",t.displayedColumns))},directives:[Ph,$f,Kf,Xm,hT,VI,ZE,FR,$R,jR,zR,YR,XR,_I,hI,HR,bT,YO,GR,kI,QR,eA],pipes:[qh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),e})(),hN=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-rep-gene-table"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-rep-gene-table-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!1)("showRepseq",!0))},directives:[Kw,cN],styles:[""]}),e})();class uN{constructor(e){this.genomicService=e,this.genSampleSubject=new ag([]),this.choicesSubject=new ag({}),this.loadingSubject=new ag(!1),this.errorSubject=new ag(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}loadGenSamples(e,t,n,r,i,s,o){t=t.split(",").map(t=>"Test"===t?"Human"===e?"Human_IGH":"GU129139":t).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSamplesApi(e,t,n,r,i,s,o).pipe(xw(),xy(e=>(this.errorSubject.next(e),[])),Ey(()=>{this.loadingSubject.next(!1)})).subscribe(e=>{this.totalItems=e.total_items,this.choicesSubject.next(e.uniques),this.genSampleSubject.next(e.samples)}):(this.loadingSubject.next(!1),this.totalItems=0,this.genSampleSubject.next([]))}connect(e){return this.genSampleSubject.asObservable()}disconnect(e){this.genSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}const dN=[{id:"name",name:"Name",hidden:!1},{id:"type",name:"Type",hidden:!1},{id:"date",name:"Date",hidden:!1},{id:"study_name",name:"Study Name",hidden:!1},{id:"institute",name:"Institute",hidden:!1},{id:"researcher",name:"Researcher",hidden:!1},{id:"reference",name:"Reference",hidden:!1},{id:"contact",name:"Contact",hidden:!1},{id:"accession_id",name:"Accession ID",hidden:!1},{id:"accession_reference",name:"Accession Ref",hidden:!1},{id:"report",name:"Report",hidden:!1}];function pN(e,t){1&e&&(Po(0,"div",3),Po(1,"span",4),wa(2,"Loading..."),Lo(),Lo())}function fN(e,t){if(1&e&&(Po(0,"div",5),Po(1,"div",6),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(e.error)}}function mN(e,t){if(1&e){const e=jo();No(0),Po(1,"div",7),Po(2,"h3",8),wa(3),Lo(),Po(4,"button",9),Uo("click",(function(){return rn(e),Yo().activeModal.dismiss("Cross click")})),Po(5,"span",10),wa(6,"\xd7"),Lo(),Lo(),Lo(),Po(7,"div",11),Po(8,"div",12),Po(9,"div",6),Po(10,"div",13),Po(11,"h4"),wa(12,"Study"),Lo(),Po(13,"ul"),wa(14),Lo(),Po(15,"ul"),wa(16),Lo(),Po(17,"ul"),wa(18,"Publication: "),Po(19,"a",14),Fo(20,"i",15),Lo(),Lo(),Po(21,"ul"),wa(22),Lo(),Po(23,"ul"),wa(24),Lo(),Po(25,"ul"),wa(26),Lo(),Lo(),Po(27,"div",13),Po(28,"h4"),wa(29,"Subject"),Lo(),Lo(),Lo(),Po(30,"div",6),Po(31,"div",13),Po(32,"h4"),wa(33,"Sample"),Lo(),Po(34,"ul"),wa(35),Lo(),Lo(),Po(36,"div",13),Po(37,"h4"),wa(38,"Processing"),Lo(),Lo(),Lo(),Lo(),Lo(),Po(39,"div",16),Po(40,"button",17),Uo("click",(function(){return rn(e),Yo().activeModal.close("Close click")})),wa(41,"Close"),Lo(),Lo(),zo()}if(2&e){const e=Yo();Si(3),Sa("Sample Details - ",e.sampleName,""),Si(11),Sa("Institute: ",e.sampleInfo.institute,""),Si(2),Sa("Researcher: ",e.sampleInfo.researcher,""),Si(3),Qo("href",e.sampleInfo.reference,ii),Si(3),Sa("Contact Info: ",e.sampleInfo.contact,""),Si(2),Sa("Accession ID: ",e.sampleInfo.accession_id,""),Si(2),Sa("Accession Ref: ",e.sampleInfo.accession_reference,""),Si(9),Sa("Sample Name: ",e.sampleInfo.name,"")}}let gN=(()=>{class e{constructor(e,t,n){this.activeModal=e,this.modalService=t,this.genSampleService=n,this.loading=!1,this.error=null,this.sampleInfo=null}ngOnInit(){this.loading=!0,this.error=null,this.genSampleService.getSampleInfoApi(this.species,this.studyName,this.sampleName).pipe(xw(),xy(e=>(this.error.next(e),[])),Ey(()=>{console.log("component finalised"),this.loading=!1})).subscribe(e=>{this.sampleInfo=e})}}return e.\u0275fac=function(t){return new(t||e)(To(Lv),To(jv),To(Ew))},e.\u0275cmp=pt({type:e,selectors:[["app-gen-sample-info"]],inputs:{sampleName:"sampleName",species:"species",studyName:"studyName"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"col-sm"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Ao(0,pN,3,0,"div",0),Ao(1,fN,6,1,"div",1),Ao(2,mN,42,8,"ng-container",2)),2&e&&(Oo("ngIf",t.loading),Si(1),Oo("ngIf",t.error),Si(1),Oo("ngIf",!t.loading&&!t.error))},directives:[Ph],styles:[""]}),e})(),vN=(()=>{class e{constructor(){this.selection=new ag({filters:[]}),this.source=this.selection.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yN(e,t){1&e&&(Po(0,"div",40),Po(1,"span",41),wa(2,"Loading..."),Lo(),Lo())}function bN(e,t){if(1&e&&(Po(0,"div",42),Po(1,"div",3),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Ll(6,"async"),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(Fl(6,1,e.dataSource.error$))}}const _N=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function wN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"name")})),wa(1," Sample Name "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function xN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",38),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),Po(1,"b"),wa(2),Lo(),Lo()}if(2&e){const e=t.$implicit;Si(2),xa(e.name)}}function SN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",46),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"type")})),wa(1," Type "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","type")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function kN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",47),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.type)}}function CN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",46),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"date")})),wa(1," Date "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","date")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function EN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",47),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.date)}}function RN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"study_name")})),wa(1," Study Name "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","study_name")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function AN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",38),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.study_name)}}function IN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"institute")})),wa(1," Institute "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","institute")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function TN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",38),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.institute)}}function DN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"researcher")})),wa(1," Researcher "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","researcher")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function ON(e,t){if(1&e){const e=jo();Po(0,"mat-cell",38),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.researcher)}}function MN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",46),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"reference")})),wa(1," Reference "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","reference")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function PN(e,t){if(1&e&&(No(0),Po(1,"a",50),Fo(2,"i",51),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.reference,ii)}}function LN(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.reference," ")}}function FN(e,t){if(1&e&&(Po(0,"mat-cell",48),Ao(1,PN,3,1,"ng-container",49),Ao(2,LN,2,1,"ng-container",49),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.reference.startsWith("http")),Si(1),Oo("ngIf",!e.reference.startsWith("http"))}}function NN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"contact")})),wa(1," Contact "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","contact")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function zN(e,t){if(1&e){const e=jo();Po(0,"mat-cell",38),Uo("click",(function(){rn(e);const n=t.$implicit;return Yo().showInfo(n)})),wa(1),Lo()}if(2&e){const e=t.$implicit;Si(1),xa(e.contact)}}function BN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"accession_id")})),wa(1," Accession ID "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","accession_id")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function jN(e,t){if(1&e&&(No(0),Po(1,"a",50),Fo(2,"i",51),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.accession_id,ii)}}function VN(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.accession_id," ")}}function $N(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,jN,3,1,"ng-container",49),Ao(2,VN,2,1,"ng-container",49),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.accession_id.startsWith("http")),Si(1),Oo("ngIf",!e.accession_id.startsWith("http"))}}function UN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",43),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"accession_reference")})),wa(1," Accession Ref "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","accession_reference")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}function HN(e,t){if(1&e&&(No(0),Po(1,"a",50),Fo(2,"i",51),Lo(),zo()),2&e){const e=Yo().$implicit;Si(1),Qo("href",e.accession_reference,ii)}}function qN(e,t){if(1&e&&(No(0),wa(1),zo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.accession_reference," ")}}function GN(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,HN,3,1,"ng-container",49),Ao(2,qN,2,1,"ng-container",49),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.accession_reference.startsWith("http")),Si(1),Oo("ngIf",!e.accession_reference.startsWith("http"))}}function WN(e,t){if(1&e){const e=jo();Po(0,"mat-header-cell",46),Uo("resizeEnd",(function(t){return rn(e),Yo().onResizeEnd(t,"report")})),wa(1," Report "),Po(2,"app-filter",44,45),Uo("predicateEmitter",(function(t){return rn(e),Yo().applyFilter(t)})),Lo(),Lo()}if(2&e){const e=Yo();Oo("enableGhostResize",!0)("resizeEdges",Il(5,_N)),Si(2),Oo("columnName","report")("filterMode",e.filterModeEnum.TEXT_MODE)("choices$",e.dataSource.choices$)}}const YN=function(e){return{sample:e}};function ZN(e,t){if(1&e&&(No(0),Po(1,"button",52),Fo(2,"i",53),Lo(),zo()),2&e){const e=Yo(2).$implicit;Yo();const t=Io(59);Si(1),Oo("matMenuTriggerFor",t)("matMenuTriggerData",Tl(2,YN,e))}}function XN(e,t){if(1&e&&(No(0),Po(1,"a",54),Fo(2,"i",53),Lo(),zo()),2&e){const e=Yo(2).$implicit;Si(1),Qo("href",e.report,ii)}}function KN(e,t){if(1&e&&(No(0),Ao(1,ZN,3,4,"ng-container",49),Ao(2,XN,3,1,"ng-container",49),zo()),2&e){const e=Yo().$implicit;Si(1),Oo("ngIf",e.report.indexOf("IGenotyper")>=0),Si(1),Oo("ngIf",e.report.indexOf("IGenotyper")<0)}}function QN(e,t){1&e&&(No(0),wa(1," NA "),zo())}function JN(e,t){if(1&e&&(Po(0,"mat-cell",48),Ao(1,KN,3,2,"ng-container",49),Ao(2,QN,2,0,"ng-container",49),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.report.length>0),Si(1),Oo("ngIf",0===e.report.length)}}function ez(e,t){1&e&&Fo(0,"mat-header-row")}function tz(e,t){1&e&&Fo(0,"mat-row")}function nz(e,t){if(1&e&&(Po(0,"div",55),Po(1,"div",56),Po(2,"b"),wa(3),Lo(),Lo(),Po(4,"div",57),wa(5," IGenotyper Report "),Lo(),Po(6,"div",58),wa(7," Genotype Analysis"),Po(8,"span"),wa(9,"\xa0\xa0"),Lo(),Po(10,"a",54),Fo(11,"i",59),Lo(),Lo(),Po(12,"div",60),wa(13," Haplotype"),Po(14,"span"),wa(15,"\xa0\xa0"),Lo(),Po(16,"a",54),Fo(17,"i",59),Lo(),Po(18,"span"),wa(19,"\xa0\xa0"),Lo(),Po(20,"a",61),Fo(21,"i",62),Lo(),Lo(),Lo()),2&e){const e=t.sample;Si(3),xa(e.name),Si(7),Qo("href",e.report,ii),Si(6),Qo("href",e.hap_report,ii),Si(4),Qo("href",e.hap_report.encodeURI,ii),Qo("download",e.name+"_haplotype.tab")}}const rz=function(){return[25,50,100,250]};let iz=(()=>{class e{constructor(e,t,n,r,i,s,o){this.genSampleService=e,this.geneTableService=t,this.modalService=n,this.genGeneSelectedService=r,this.genSampleSelectedService=i,this.genSampleFilterService=s,this.tableParamsStorageService=o,this.displayedColumns=["name","type","date","study_name","institute","researcher","reference","contact","accession_id","accession_reference"],this.allColumns=dN,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.genGeneSelectedServiceSubscription=null,this.filterModeEnum=iA,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.resizeEvents=new Map}ngOnInit(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-sample-table-widths"),this.dataSource=new uN(this.genSampleService)}ngOnDestroy(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}ngAfterViewInit(){this.paginatorSubscription=this.paginator.page.subscribe(()=>this.loadSequencesPage()),setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.selection=e,this.paginator.firstPage(),this.table.renderRows(),this.loadSequencesPage()}),this.choices$Subscription=this.dataSource.choices$.subscribe(e=>{this.genSampleSelectedService.selection.next(this.filters.length>0&&!this.isSelectedSamplesChecked?{ids:e.id}:{ids:[]})}),this.loading$Subscription=this.dataSource.loading$.subscribe(e=>{e||this.applyResizes()}),this.genGeneSelectedServiceSubscription=this.genGeneSelectedService.source.subscribe(e=>{this.selectedSequenceNames=e.names,this.isSelectedSamplesChecked&&this.onSelectedSamplesChange(null)})})}onSelectedSamplesChange(e){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}applyFilter(e){for(let t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1);for(const t of e.predicates)t.op&&this.filters.push(t);for(let t=this.sorts.length-1;t>=0;t--)this.sorts[t].field===e.field&&this.sorts.splice(t,1);e.sort.order&&this.sorts.push(e.sort),this.genSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}updateColumnData(e){const t=function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(e=>!t.has(e.field)),this.sorts=this.sorts.filter(e=>!t.has(e.field)),this.loadSequencesPage()}loadSequencesPage(){this.selection&&this.dataSource.loadGenSamples(this.selection.species,this.selection.refSeqs.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}showInfo(e){const t=this.modalService.open(gN,{size:"xl"});t.componentInstance.sampleName=e.name,t.componentInstance.species=this.selection.species,t.componentInstance.studyName=e.study_name}onResizeEnd(e,t){if(e.edges.right){const n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}applyResizes(){for(const[e,t]of this.resizeEvents)this.updateColumnWidth(e,t)}updateColumnWidth(e,t){const n=document.getElementsByClassName("mat-column-"+e);for(let r=0;r<n.length;r++)n[r].style.width=t}}return e.\u0275fac=function(t){return new(t||e)(To(Ew),To(Tw),To(jv),To(oA),To(aA),To(vN),To(sA))},e.\u0275cmp=pt({type:e,selectors:[["app-gen-sample-panel"]],viewQuery:function(e,t){if(1&e&&(Jl(ZE,!0),Jl(FR,!0)),2&e){let e;Kl(e=ic())&&(t.paginator=e.first),Kl(e=ic())&&(t.table=e.first)}},inputs:{selection:"selection"},features:[La([sA])],decls:62,vars:19,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-md-3",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"disabled","ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[1,"col-md-2",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],[1,"col-md-7"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","type"],["class","small-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",3,"click",4,"matCellDef"],["matColumnDef","date"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["matColumnDef","study_name"],["matColumnDef","institute"],["matColumnDef","researcher"],["matColumnDef","reference"],["class","small-col",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","accession_id"],[4,"matCellDef"],["matColumnDef","accession_reference"],["matColumnDef","report"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["genoMenu","matMenu"],[3,"click"],["matMenuContent",""],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col",3,"click"],[1,"small-col"],[4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],["target","_blank",3,"href"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],[3,"href","download"],[1,"fa","fa-save",2,"line-height","inherit"]],template:function(e,t){1&e&&(Po(0,"div",0),Ao(1,yN,3,0,"div",1),Ll(2,"async"),Ao(3,bN,7,3,"div",2),Ll(4,"async"),Po(5,"div",3),Po(6,"div",4),Po(7,"div",5),Po(8,"input",6),Uo("ngModelChange",(function(e){return t.isSelectedSamplesChecked=e}))("change",(function(){return t.onSelectedSamplesChange(t.isSelectedSamplesChecked)})),Lo(),Po(9,"label",7),wa(10," Only samples with selected alleles "),Lo(),Lo(),Lo(),Po(11,"div",8),Po(12,"button",9),Uo("columnsChange",(function(e){return t.displayedColumns=e}))("columnsChange",(function(e){return t.updateColumnData(e)})),Po(13,"mat-icon",10),wa(14,"view_column"),Lo(),Lo(),Po(15,"label",11),wa(16,"Arrange Columns"),Lo(),Lo(),Po(17,"div",12),Fo(18,"mat-paginator",13),Lo(),Lo(),Po(19,"div",3),Po(20,"div",14),Po(21,"mat-table",15),wa(22," // Sample "),No(23,16),Ao(24,wN,4,6,"mat-header-cell",17),Ao(25,xN,3,1,"mat-cell",18),zo(),No(26,19),Ao(27,SN,4,6,"mat-header-cell",20),Ao(28,kN,2,1,"mat-cell",21),zo(),No(29,22),Ao(30,CN,4,6,"mat-header-cell",23),Ao(31,EN,2,1,"mat-cell",21),zo(),No(32,24),Ao(33,RN,4,6,"mat-header-cell",17),Ao(34,AN,2,1,"mat-cell",18),zo(),No(35,25),Ao(36,IN,4,6,"mat-header-cell",17),Ao(37,TN,2,1,"mat-cell",18),zo(),No(38,26),Ao(39,DN,4,6,"mat-header-cell",17),Ao(40,ON,2,1,"mat-cell",18),zo(),No(41,27),Ao(42,MN,4,6,"mat-header-cell",23),Ao(43,FN,3,2,"mat-cell",28),zo(),No(44,29),Ao(45,NN,4,6,"mat-header-cell",17),Ao(46,zN,2,1,"mat-cell",18),zo(),No(47,30),Ao(48,BN,4,6,"mat-header-cell",17),Ao(49,$N,3,2,"mat-cell",31),zo(),No(50,32),Ao(51,UN,4,6,"mat-header-cell",17),Ao(52,GN,3,2,"mat-cell",31),zo(),No(53,33),Ao(54,WN,4,6,"mat-header-cell",23),Ao(55,JN,3,2,"mat-cell",28),zo(),Ao(56,ez,1,0,"mat-header-row",34),Ao(57,tz,1,0,"mat-row",35),Lo(),Lo(),Lo(),Lo(),Po(58,"mat-menu",36,37),Po(60,"div",38),Uo("click",(function(e){return e.stopPropagation()})),Ao(61,nz,22,5,"ng-template",39),Lo(),Lo()),2&e&&(Si(1),Oo("ngIf",Fl(2,14,t.dataSource.loading$)),Si(2),Oo("ngIf",Fl(4,16,t.dataSource.error$)),Si(5),Oo("disabled",!t.selectedSequenceNames.length)("ngModel",t.isSelectedSamplesChecked),Si(4),Oo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-sample-table"),Si(6),Oo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Il(18,rz)),Si(3),Oo("dataSource",t.dataSource),Si(35),Oo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",t.displayedColumns))},directives:[Ph,$f,Kf,Xm,hT,VI,ZE,FR,$R,jR,zR,YR,XR,_I,hI,HR,bT,YO,GR,kI,QR,eA],pipes:[qh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),e})(),sz=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-gen-sample"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-gen-sample-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!0)("showRepseq",!1))},directives:[Kw,iz],styles:[""]}),e})();class oz{constructor(){this.handlers={}}shouldDetach(e){return!0}store(e,t){this.handlers[e.routeConfig.path]=t}shouldAttach(e){return!!e.routeConfig&&!!this.handlers[e.routeConfig.path]}retrieve(e){return e.routeConfig?this.handlers[e.routeConfig.path]:null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}function az(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",11),Po(2,"label",12),wa(3),Lo(),Fo(4,"input",13),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(2),Qo("for",e.id),Si(1),Sa("",e.label,": "),Si(1),Qo("id",e.id),Qo("formControlName",e.id)}}function lz(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",14),Po(2,"label",12),wa(3),Lo(),Fo(4,"input",15),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(2),Qo("for",e.id),Si(1),Sa("",e.label,": \xa0\xa0\xa0"),Si(1),Qo("id",e.id),Qo("formControlName",e.id)}}function cz(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",14),Po(2,"label",12),wa(3),Lo(),Fo(4,"input",15),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(2),Qo("for",e.id),Si(1),Sa("",e.label,": \xa0\xa0\xa0"),Si(1),Qo("id",e.id),Qo("formControlName",e.id)}}function hz(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",16),Fo(2,"input",17),Po(3,"label",18),wa(4),Lo(),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(2),Qo("id",e.id),Qo("formControlName",e.id),Si(1),Qo("for",e.id),Si(1),xa(e.label)}}function uz(e,t){if(1&e&&(Po(0,"option"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),Sa(" ",e," ")}}function dz(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",11),Po(2,"label",12),wa(3),Lo(),Po(4,"select",19),Ao(5,uz,2,1,"option",6),Lo(),Lo(),Lo()),2&e){const e=Yo().$implicit;Si(2),Qo("for",e.id),Si(1),xa(e.label),Si(1),Qo("id",e.id),Qo("formControlName",e.id),Oo("value",e.options[0]),Si(1),Oo("ngForOf",e.options)}}function pz(e,t){if(1&e&&(Po(0,"div"),Fo(1,"ng-multiselect-dropdown",20),Lo()),2&e){const e=Yo().$implicit,t=Yo();Si(1),Qo("formControlName",e.id),Oo("settings",t.repDropdownSettings)("data",e.options)("placeholder",e.label)}}function fz(e,t){if(1&e&&(Po(0,"div"),Po(1,"div",9),Ao(2,az,5,4,"div",10),Ao(3,lz,5,4,"div",10),Ao(4,cz,5,4,"div",10),Ao(5,hz,5,4,"div",10),Ao(6,dz,6,6,"div",10),Ao(7,pz,2,4,"div",10),Lo(),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngSwitch",e.type),Si(1),Oo("ngSwitchCase","textBox"),Si(1),Oo("ngSwitchCase","number"),Si(1),Oo("ngSwitchCase","decimal"),Si(1),Oo("ngSwitchCase","boolean"),Si(1),Oo("ngSwitchCase","select"),Si(1),Oo("ngSwitchCase","multi_select")}}let mz=(()=>{class e{constructor(e,t){this.activeModal=e,this.modalService=t,this.params=[],this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}ngOnInit(){const e={};this.report.params.forEach(t=>{this.add_fields(t,e)}),this.report.filter_params&&this.filterParams.forEach(t=>{this.add_fields(t,e)}),this.myFormGroup=new Um(e)}add_fields(e,t){t[e.id]=new $m("select"===e.type&&e.options.length>0?e.options[0]:""),this.params.push(e)}onSubmit(){this.activeModal.close(this.myFormGroup.value)}}return e.\u0275fac=function(t){return new(t||e)(To(Lv),To(jv))},e.\u0275cmp=pt({type:e,selectors:[["app-report-params-dialog"]],inputs:{report:"report",filterParams:"filterParams"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","tabindex","-1","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"form-group",2,"margin-top","1rem !important"],["type","submit","value","Run Report",1,"btn","btn-primary"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],[3,"for"],["type","text",3,"id","formControlName"],[1,"form-group",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","number",3,"id","formControlName"],[1,"form-check",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[1,"custom-select",3,"id","formControlName","value"],[2,"padding-left","10px !important","padding-top","7px !important",3,"settings","data","formControlName","placeholder"]],template:function(e,t){1&e&&(No(0),Po(1,"div",0),Po(2,"h3",1),wa(3),Lo(),Po(4,"button",2),Uo("click",(function(){return t.activeModal.dismiss("Cross click")})),Po(5,"span",3),wa(6,"\xd7"),Lo(),Lo(),Lo(),Po(7,"div",4),Po(8,"form",5),Uo("ngSubmit",(function(){return t.onSubmit()})),Ao(9,fz,8,7,"div",6),Po(10,"div",7),Fo(11,"input",8),Lo(),Lo(),Lo(),zo()),2&e&&(Si(3),Sa("Report Parameters - ",t.report.title,""),Si(5),Oo("formGroup",t.myFormGroup),Si(1),Oo("ngForOf",t.params))},directives:[Km,Qf,eg,Oh,zh,Bh,qf,Kf,ng,um,$f,bm,_m,km,Vw],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),e})();class gz{constructor(e){this.reportsService=e,this.reportResultSubject=new ag({status:"PENDING",info:"",response:null}),this.reportResult$=this.reportResultSubject.asObservable()}requestReport(e,t,n,r,i,s,o,a){this.reportName=e,this.reportFormat=t,this.species=n,this.genSeqs=r,this.genFilters=i,this.repSeqs=s,this.repFilters=o,this.params=a,this.fetchReport()}fetchReport(){this.pollCount=0,this.reportsService.getReportsRunApi(this.reportName,this.reportFormat,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params).subscribe(e=>{this.fetchReportStatus(e.id).pipe(iP(3e3,40,e=>(console.log(e.status+": "+this.pollCount),"PENDING"===e.status&&this.reportResultSubject.next(e.info?{status:e.status,info:e.info.stage,response:e}:{status:e.status,info:e.status,response:e}),this.pollCount+=1,"SUCCESS"===e.status||"FAILURE"===e.status))).subscribe(e=>{this.reportResultSubject.next("SUCCESS"===e.status?"ok"===e.results.status?{status:e.status,info:"",response:e}:{status:"FAILURE",info:e.results.description,response:e}:{status:"FAILURE",info:"return code:"+e.status+" "+e.description,response:e})},e=>{console.log("error: poll count exceeded",e),this.reportResultSubject.next({status:"FAILURE",info:"Timeout waiting for report",response:null})})},e=>{console.log("error from run request",e),this.reportResultSubject.next({status:"FAILURE",info:"Error: "+this.formatError(e),response:null}),this.pollCount=999})}fetchReportStatus(e){return ly(()=>this.reportsService.getReportsStatus(e)).pipe(xy(e=>(console.log("error fetching report status",e),ef({status:"FAILURE",description:this.formatError(e)}))))}formatError(e){return"error"in e&&"message"in e.error&&e.error.message?e.error.message:"message"in e&&e.message?e.message:"statusText"in e&&e.statusText?e.status+". "+e.name+": "+e.statusText:e.status}}function vz(e,t){if(1&e&&(Po(0,"div"),wa(1),Lo()),2&e){const e=Yo();Si(1),xa(e.statusText)}}function yz(e,t){if(1&e&&(Po(0,"div"),wa(1),Lo()),2&e){const e=Yo();Si(1),xa(e.errorText)}}function bz(e,t){if(1&e){const e=jo();Po(0,"div"),Po(1,"button",7),Uo("click",(function(){return rn(e),Yo().requestReport()})),wa(2,"Retry"),Lo(),Lo()}}let _z=(()=>{class e{constructor(e,t){this.activeModal=e,this.reportsService=t,this.statusText="",this.lastStatusText="",this.errorText="",this.reportTitle="",this.enableRetry=!1,this.reportResult$Subscription=null}ngOnInit(){this.reportTitle=this.report.title,this.reportRequest=new gz(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(e=>{"PENDING"===e.status?(this.lastStatusText===e.info?this.statusText=this.statusText+".":(this.statusText=e.info,this.lastStatusText=e.info),this.errorText=""):"FAILURE"===e.status?(this.statusText="",this.errorText=e.info,this.enableRetry=!0):"SUCCESS"===e.status&&this.activeModal.close(e.response)}),this.requestReport()}requestReport(){this.enableRetry=!1,this.lastStatusText="",this.statusText="",this.errorText="",this.reportRequest.requestReport(this.report.name,this.format,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params)}}return e.\u0275fac=function(t){return new(t||e)(To(Lv),To(Rw))},e.\u0275cmp=pt({type:e,selectors:[["app-report-run-dialog"]],inputs:{report:"report",format:"format",params:"params",species:"species",genSeqs:"genSeqs",genFilters:"genFilters",repSeqs:"repSeqs",repFilters:"repFilters"},decls:13,vars:4,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"h4",1),wa(2),Lo(),Po(3,"button",2),Uo("click",(function(){return t.activeModal.close({status:"Cancelled"})})),Po(4,"span",3),wa(5,"\xd7"),Lo(),Lo(),Lo(),Po(6,"div",4),Ao(7,vz,2,1,"div",5),Ao(8,yz,2,1,"div",5),Lo(),Po(9,"div",6),Po(10,"button",7),Uo("click",(function(){return t.activeModal.close({status:"Cancelled"})})),wa(11,"Cancel"),Lo(),Ao(12,bz,3,0,"div",5),Lo()),2&e&&(Si(2),Sa("Preparing Report - ",t.reportTitle,""),Si(5),Oo("ngIf",""!==t.statusText),Si(1),Oo("ngIf",""!==t.errorText),Si(4),Oo("ngIf",t.enableRetry))},directives:[Ph],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),e})(),wz=(()=>{class e{constructor(e,t){this.reportsService=e,this.geneTableService=t,this.reportListSubject=new ag([]),this.globalReportFilterParamsSubject=new ag(null),this.loadingSubject=new ag(!1),this.errorSubject=new ag(null),this.globalReportFilterParams$=this.globalReportFilterParamsSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.load()}load(){this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{console.log("GeneTableSelection changed. Reloading global filters"),this.geneTableSelection=e,this.reload()})}reload(){this.loadingSubject.next(!0),this.errorSubject.next(null),this.reportsService.getReportsApi(this.geneTableSelection.species,this.geneTableSelection.refSeqs.join(","),this.geneTableSelection.repSeqs.join(",")).pipe(xw(),xy(e=>(this.errorSubject.next(e),[])),Ey(()=>{this.loadingSubject.next(!1)})).subscribe(e=>{const t=[],n=e.reports;for(const r of Object.keys(n))t.push({name:r,title:n[r].title,description:n[r].description,thumbnail:n[r].thumbnail,params:n[r].params,filter_params:n[r].filter_params,scope:n[r].scope,format:n[r].format});this.reportListSubject.next(t),this.globalReportFilterParamsSubject.next(e.filters)})}connect(){return this.reportListSubject.asObservable()}disconnect(){this.reportListSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ye(Rw),Ye(Tw))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function xz(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Name "),Lo())}function Sz(e,t){if(1&e&&(Po(0,"mat-cell"),Po(1,"b"),wa(2),Lo(),Lo()),2&e){const e=t.$implicit;Si(2),xa(e.title)}}function kz(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Thumbnail "),Lo())}function Cz(e,t){if(1&e&&(Po(0,"div"),Fo(1,"img",12),Lo()),2&e){const e=Yo().$implicit;Si(1),Qo("src",e.thumbnail,ii)}}function Ez(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,Cz,2,1,"div",11),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.thumbnail)}}function Rz(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Description "),Lo())}function Az(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),Sa(" ",e.description," ")}}function Iz(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Run "),Lo())}function Tz(e,t){if(1&e){const e=jo();No(0),Po(1,"button",13),Uo("click",(function(){rn(e);const t=Yo().$implicit;return Yo().runReport(t,"pdf")})),Fo(2,"i",14),Lo(),zo()}}function Dz(e,t){if(1&e){const e=jo();No(0),Po(1,"button",13),Uo("click",(function(){rn(e);const t=Yo().$implicit;return Yo().runReport(t,"html")})),Fo(2,"i",15),Lo(),zo()}}function Oz(e,t){if(1&e){const e=jo();No(0),Po(1,"button",13),Uo("click",(function(){rn(e);const t=Yo().$implicit;return Yo().runReport(t,"xls")})),Fo(2,"i",16),Lo(),zo()}}function Mz(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,Tz,3,0,"ng-container",11),Ao(2,Dz,3,0,"ng-container",11),Ao(3,Oz,3,0,"ng-container",11),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.format.indexOf("pdf")>=0),Si(1),Oo("ngIf",e.format.indexOf("html")>=0),Si(1),Oo("ngIf",e.format.indexOf("xls")>=0)}}function Pz(e,t){1&e&&Fo(0,"mat-header-row")}function Lz(e,t){1&e&&Fo(0,"mat-row")}let Fz=(()=>{class e{constructor(e,t,n,r,i,s,o,a){this.modalService=e,this.reportsService=t,this.geneTableService=n,this.repSampleFilterService=r,this.genSampleFilterService=i,this.repListDataSource=s,this.reportsListDataSource=o,this.httpClient=a,this.displayedColumns=["thumbnail","title","description","actions"],this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.genSampleFilterSubscription=null,this.genSampleFilters=[],this.repSampleFilterSubscription=null,this.globalReportFilterParamsSubscription=null,this.repSampleFilters=[],this.globalReportFilters=null,this.reportRequest=null,this.reportWindow=null,this.lastReportInfo=""}ngOnInit(){this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.geneTableSelection=e}),this.genSampleFilterSubscription=this.genSampleFilterService.source.subscribe(e=>{this.genSampleFilters=e.filters,console.log("genSampleFilter length: "+this.genSampleFilters.length)}),this.repSampleFilterSubscription=this.repSampleFilterService.source.subscribe(e=>{this.repSampleFilters=e.filters,console.log("repSampleFilter length: "+this.repSampleFilters.length)}),this.globalReportFilterParamsSubscription=this.reportsListDataSource.globalReportFilterParams$.subscribe(e=>{this.globalReportFilters=e}),this.reportRequest=new gz(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(e=>{this.reportWindow&&("PENDING"===e.status?e.info===this.lastReportInfo?this.reportWindow.document.getElementById("status_line").innerHTML=this.reportWindow.document.getElementById("status_line").innerHTML+".":(this.reportWindow.document.getElementById("status_line").innerHTML=e.info,this.lastReportInfo=e.info):"FAILURE"===e.status?(this.reportWindow.close(),this.reportWindow=null,this.displayError(e.info)):"SUCCESS"===e.status&&(this.reportWindow.location=e.response.results.url))})}ngOnDestroy(){this.geneTableServiceSubscription.unsubscribe(),this.genSampleFilterSubscription.unsubscribe(),this.repSampleFilterSubscription.unsubscribe()}runReport(e,t){if(e.params.length>0||e.filter_params){const n=this.modalService.open(mz,{size:"m"});n.componentInstance.report=e;let r=null;e.filter_params&&(r=e.scope.length>1?this.globalReportFilters.combined:e.scope.indexOf("rep_sample")>=0?this.globalReportFilters.rep:this.globalReportFilters.gen),n.componentInstance.filterParams=r,n.result.then(n=>{n&&this.sendReportRequest(e,t,n)},()=>{})}else this.sendReportRequest(e,t,{})}sendReportRequest(e,t,n){n=JSON.stringify(n);const r=this.geneTableSelection.species,i=this.geneTableSelection.refSeqs.join(","),s=JSON.stringify(this.genSampleFilters),o=this.geneTableSelection.repSeqs.join(","),a=JSON.stringify(this.repSampleFilters);"html"!==t?this.sendDownloadReportRequest(e,t,r,i,s,o,a,n):this.sendHtmlReportRequest(e,t,r,i,s,o,a,n)}sendDownloadReportRequest(e,t,n,r,i,s,o,a){const l=this.modalService.open(_z,{size:"m"});l.componentInstance.report=e,l.componentInstance.format=t,l.componentInstance.species=n,l.componentInstance.genSeqs=r,l.componentInstance.genFilters=i,l.componentInstance.repSeqs=s,l.componentInstance.repFilters=o,l.componentInstance.params=a,l.result.then(e=>{if("SUCCESS"===e.status){const t="my JWT",n=(new lf).set("authorization","Bearer "+t);this.httpClient.get(e.results.url,{headers:n,responseType:"blob"}).subscribe(t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download",e.results.filename),document.body.appendChild(n),n.click()})}})}sendHtmlReportRequest(e,t,n,r,i,s,o,a){this.reportWindow=window.open("","_blank"),this.reportWindow.document.write('<h3>Preparing your report...</h3><p id="status_line"></p>'),this.reportRequest.requestReport(e.name,t,n,r,i,s,o,a)}fetchReportStatus(e){return ly(()=>this.reportsService.getReportsStatus(e)).pipe(xy(e=>(console.log("error fetching report status",e),ef({status:"FAILURE"}))))}showResult(e,t){if(e.filename){t.close();const n="my JWT",r=(new lf).set("authorization","Bearer "+n);this.httpClient.get(e.url,{headers:r,responseType:"blob"}).subscribe(t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download",e.filename),document.body.appendChild(n),n.click()})}else t.focus(),t.location=e.url}displayError(e){const t=this.modalService.open(rP,{size:"m"});t.componentInstance.report="Error running report",t.componentInstance.errorMessage=e,t.result.then()}}return e.\u0275fac=function(t){return new(t||e)(To(jv),To(Rw),To(Tw),To(aP),To(vN),To(Nz),To(wz),To(xf))},e.\u0275cmp=pt({type:e,selectors:[["app-reports"]],viewQuery:function(e,t){if(1&e&&Jl(FR,!0),2&e){let e;Kl(e=ic())&&(t.table=e.first)}},decls:33,vars:5,consts:[[3,"showGenomic","showRepseq"],["href","assets/doc/report_documentation.pdf"],[3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","description"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["height","100",3,"src"],[1,"btn","btn-lg","btn-solid-icon",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"fa","fa-file-excel-o",2,"line-height","inherit"]],template:function(e,t){1&e&&(Fo(0,"app-gene-table-selector",0),Po(1,"div"),Po(2,"h2"),wa(3,"VDJbase Reports"),Lo(),Po(4,"p"),wa(5,"Currently available reports run against AIRR-Seq data sets. Reports that run against genomic datasets, or that combine data of both types, will be added in due course."),Lo(),Po(6,"p"),wa(7,"Please select above the species and datasets on which you would like to report. Multiple datasets from the same species can be selected. "),Lo(),Po(8,"p"),wa(9,"You can refine the samples against which the reports will run by using filters in the Samples windows to display just those samples that you wish to be included."),Lo(),Po(10,"p"),wa(11,"To run the report, click on an icon in the Run column corresponding to the output format that you would like (e.g. pdf, on-screen, Excel)"),Lo(),Po(12,"p"),Po(13,"a",1),wa(14,"Click here"),Lo(),wa(15," for report documentation."),Lo(),Po(16,"h2"),wa(17,"Reports using just AIRR-seq Sample Data"),Lo(),Po(18,"mat-table",2),No(19,3),Ao(20,xz,2,0,"mat-header-cell",4),Ao(21,Sz,3,1,"mat-cell",5),zo(),No(22,6),Ao(23,kz,2,0,"mat-header-cell",4),Ao(24,Ez,2,1,"mat-cell",5),zo(),No(25,7),Ao(26,Rz,2,0,"mat-header-cell",4),Ao(27,Az,2,1,"mat-cell",5),zo(),No(28,8),Ao(29,Iz,2,0,"mat-header-cell",4),Ao(30,Mz,4,3,"mat-cell",5),zo(),Ao(31,Pz,1,0,"mat-header-row",9),Ao(32,Lz,1,0,"mat-row",10),Lo(),Lo()),2&e&&(Oo("showGenomic",!0)("showRepseq",!0),Si(18),Oo("dataSource",t.repListDataSource),Si(13),Oo("matHeaderRowDef",t.displayedColumns),Si(1),Oo("matRowDefColumns",t.displayedColumns))},directives:[Kw,FR,$R,jR,zR,YR,XR,HR,GR,Ph,QR,eA],styles:[""]}),e})(),Nz=(()=>{class e extends class{}{constructor(e,t,n){super(),this.reportsService=e,this.geneTableService=t,this.reportsListDataSource=n}connect(){return this.reportsListDataSource.connect().pipe(E(e=>e.filter(e=>e.scope.indexOf("rep_sample")>=0)))}disconnect(){}}return e.\u0275fac=function(t){return new(t||e)(Ye(Rw),Ye(Tw),Ye(wz))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),zz=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-quick-ref"]],decls:3,vars:0,consts:[[1,"container"],["src","./assets/img/howto-gene-table.png","width","80%"],["src","./assets/img/howto-gene-browser.png","width","80%"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"img",1),Fo(2,"img",2),Lo())},styles:[""]}),e})(),Bz=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-user-guide"]],decls:2,vars:0,template:function(e,t){1&e&&(Po(0,"p"),wa(1,"user-guide works!"),Lo())},styles:[""]}),e})();const jz=["*"],Vz=new ze("GOOGLE_CHARTS_CONFIG"),$z={mapsApiKey:"",version:"current",safeMode:!1};let Uz=(()=>{class e{constructor(e,t,n){this.zone=e,this.localeId=t,this.config=n,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new S,this.config=Object.assign(Object.assign({},$z),n||{})}isGoogleChartsAvailable(){return"undefined"!=typeof google&&void 0!==google.charts}loadChartPackages(...e){return this.loadGoogleCharts().pipe(Og(()=>new y(t=>{google.charts.load(this.config.version,{packages:e,language:this.localeId,mapsApiKey:this.config.mapsApiKey,safeMode:this.config.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{t.next(),t.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return ef(null);if(!this.isLoadingGoogleCharts()){const e=this.createGoogleChartsScript();e.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},e.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(e=>e.src===this.scriptSource)}createGoogleChartsScript(){const e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}return e.\u0275fac=function(t){return new(t||e)(Ye(Ic),Ye(vc),Ye(Vz,8))},e.\u0275prov=he({factory:function(){return new e(Ye(Ic),Ye(vc),Ye(Vz,8))},token:e,providedIn:"root"}),e})(),Hz=(()=>{class e{constructor(e){this.loaderService=e,this.error=new jl,this.ready=new jl,this.stateChange=new jl,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new Ek(1),this.initialized=!1}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper(),this.initialized=!0})}ngOnChanges(e){this.initialized&&(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options),e.state&&this._controlWrapper.setState(this.state))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",e=>this.ready.emit(e)),google.visualization.events.addListener(this._controlWrapper,"error",e=>this.error.emit(e)),google.visualization.events.addListener(this._controlWrapper,"statechange",e=>this.stateChange.emit(e))}}return e.\u0275fac=function(t){return new(t||e)(To(Uz))},e.\u0275cmp=pt({type:e,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,t){2&e&&Ea("id",t.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[Ot],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),qz=(()=>{class e{constructor(e,t){this.element=e,this.loaderService=t,this.ready=new jl,this.error=new jl,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createDataTable(),this.createDashboard(),this.initialized=!0})}ngOnChanges(e){this.initialized&&(e.data||e.columns)&&(this.createDataTable(),this.dashboard.draw(this.dataTable))}createDashboard(){const e=this.controlWrappers.map(e=>e.wrapperReady$),t=this.controlWrappers.map(e=>e.for).map(e=>Array.isArray(e)?dg(e.map(e=>e.wrapperReady$)):e.wrapperReady$);dg([...e,...t]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.dashboard.draw(this.dataTable)})}initializeBindings(){this.controlWrappers.forEach(e=>{if(Array.isArray(e.for)){const t=e.for.map(e=>e.chartWrapper);this.dashboard.bind(e.controlWrapper,t)}else this.dashboard.bind(e.controlWrapper,e.for.chartWrapper)})}createDataTable(){if(null==this.data)return;let e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e)}getDataAsTable(){return this.columns?[this.columns,...this.data]:this.data}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Uz))},e.\u0275cmp=pt({type:e,selectors:[["dashboard"]],contentQueries:function(e,t,n){if(1&e&&tc(n,Hz,!1),2&e){let e;Kl(e=ic())&&(t.controlWrappers=e)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[Ot],ngContentSelectors:jz,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Ko(0))},encapsulation:2,changeDetection:0}),e})(),Gz=(()=>{class e{constructor(e,t,n){this.element=e,this.scriptLoaderService=t,this.dashboard=n,this.options={},this.dynamicResize=!1,this.ready=new jl,this.error=new jl,this.select=new jl,this.mouseover=new jl,this.mouseleave=new jl,this.wrapperReadySubject=new Ek(1),this.initialized=!1}get chart(){return this.wrapper?this.wrapper.getChart():null}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){return this.wrapper}set chartWrapper(e){this.wrapper=e,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages().subscribe(()=>{this.createDataTable(),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){let t=!1;(e.data||e.columns||e.formatters)&&(this.createDataTable(),this.wrapper.setDataTable(this.dataTable),t=!0),e.type&&(this.wrapper.setChartType(this.type),t=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),t=!0),t&&this.drawChart()}}createDataTable(){if(null==this.data)return;let e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e),this.applyFormatters(this.dataTable)}getDataAsTable(){return this.columns?[this.columns,...this.data]:this.data}updateResizeListener(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),this.dynamicResize&&(this.resizeSubscription=kg(window,"resize").pipe(px(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}applyFormatters(e){if(null!=this.formatters)for(const t of this.formatters)t.formatter.format(e,t.colIndex)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper);const e=(e,t,n)=>{google.visualization.events.addListener(e,t,n)};e(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),e(this.chart,"onmouseover",e=>this.mouseover.emit(e)),e(this.chart,"onmouseout",e=>this.mouseleave.emit(e)),e(this.chart,"select",()=>{const e=this.chart.getSelection();this.select.emit({selection:e})}),this.ready.emit({chart:this.chart})}),e(this.wrapper,"error",e=>this.error.emit(e))}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return e.\u0275fac=function(t){return new(t||e)(To(Ba),To(Uz),To(qz,8))},e.\u0275cmp=pt({type:e,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[Ot],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),e})(),Wz=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:Vz,useValue:t}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const Yz=["datasetInfoTable"];function Zz(e,t){1&e&&(Po(0,"div",4),Po(1,"span",5),wa(2,"Loading..."),Lo(),Lo())}function Xz(e,t){if(1&e&&(Po(0,"div",6),Po(1,"div",7),Po(2,"h4"),wa(3,"Error loading table"),Lo(),Po(4,"p"),wa(5),Lo(),Lo(),Lo()),2&e){const e=Yo();Si(5),xa(e.error)}}function Kz(e,t){1&e&&(Po(0,"mat-header-cell",21),wa(1," Name "),Lo())}function Qz(e,t){if(1&e&&(Po(0,"mat-cell",21),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.dataset)}}function Jz(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Description "),Lo())}function eB(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.description)}}function tB(e,t){1&e&&Fo(0,"mat-header-row",22)}function nB(e,t){1&e&&Fo(0,"mat-row")}const rB=function(){return["name","desc"]};function iB(e,t){if(1&e&&(No(0),Po(1,"h2",8),wa(2,"Datasets available for species "),Po(3,"span",9),wa(4),Lo(),Lo(),Po(5,"div",10),Po(6,"mat-table",11,12),No(8,13),Ao(9,Kz,2,0,"mat-header-cell",14),Ao(10,Qz,2,1,"mat-cell",15),zo(),No(11,16),Ao(12,Jz,2,0,"mat-header-cell",17),Ao(13,eB,2,1,"mat-cell",18),zo(),Ao(14,tB,1,0,"mat-header-row",19),Ao(15,nB,1,0,"mat-row",20),Lo(),Lo(),zo()),2&e){const e=Yo();Si(4),xa(e.species),Si(2),Oo("dataSource",e.datasetDescriptions),Si(8),Oo("matHeaderRowDef",Il(5,rB))("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",Il(6,rB))}}const sB=function(){return{position:"none"}},oB=function(e){return{legend:e}},aB=function(){return{left:0,width:"100%",height:"75%"}},lB=function(e){return{chartArea:e}};function cB(e,t){if(1&e&&(No(0),Po(1,"h2",8),wa(2),Lo(),Po(3,"p",9),wa(4),Lo(),Po(5,"div",7),Po(6,"div",23),Fo(7,"google-chart",24),Lo(),Po(8,"div",23),Fo(9,"google-chart",25),Lo(),Po(10,"div",23),Fo(11,"google-chart",24),Lo(),Po(12,"div",23),Fo(13,"google-chart",24),Lo(),Lo(),zo()),2&e){const e=Yo();Si(2),Ca("Summary of dataset ",e.dataset,": ",e.datasetInfo.total_samples," samples from ",e.datasetInfo.total_subjects," subjects"),Si(2),xa(e.datasetInfo.description),Si(3),Oo("type","BarChart")("title","Sex (no. of individuals)")("data",e.datasetInfo.sex_count)("options",Tl(22,oB,Il(21,sB))),Si(2),Oo("type","PieChart")("title","Condition (% individuals)")("data",e.datasetInfo.condition_count)("options",Tl(25,lB,Il(24,aB)))("width","100%"),Si(2),Oo("type","PieChart")("title","B Cell Type (% samples)")("data",e.datasetInfo.celltype_count)("options",Tl(28,lB,Il(27,aB))),Si(2),Oo("type","PieChart")("title","Tissue (% samples)")("data",e.datasetInfo.tissue_count)("options",Tl(31,lB,Il(30,aB)))}}function hB(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Project ID "),Lo())}function uB(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.name)}}function dB(e,t){1&e&&(Po(0,"mat-header-cell",35),wa(1," Accession ID "),Lo())}function pB(e,t){if(1&e&&(Po(0,"mat-cell",35),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.accession_id)}}function fB(e,t){1&e&&(Po(0,"mat-header-cell",35),wa(1," Institute "),Lo())}function mB(e,t){if(1&e&&(Po(0,"mat-cell",35),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.institute)}}function gB(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Subjects "),Lo())}function vB(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.num_subjects)}}function yB(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Samples "),Lo())}function bB(e,t){if(1&e&&(Po(0,"mat-cell"),wa(1),Lo()),2&e){const e=t.$implicit;Si(1),xa(e.num_samples)}}function _B(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Paper "),Lo())}function wB(e,t){1&e&&(Po(0,"a",37),Fo(1,"i",38),Lo()),2&e&&Qo("href",Yo().$implicit.reference,ii)}function xB(e,t){if(1&e&&(Po(0,"span"),wa(1),Lo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.reference,"")}}function SB(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,wB,2,1,"a",36),Ao(2,xB,2,1,"span",3),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.reference.includes("http")),Si(1),Oo("ngIf",!e.reference.includes("http"))}}function kB(e,t){1&e&&(Po(0,"mat-header-cell"),wa(1," Study Data "),Lo())}function CB(e,t){1&e&&(Po(0,"a",37),Fo(1,"i",38),Lo()),2&e&&Qo("href",Yo().$implicit.accession_reference,ii)}function EB(e,t){if(1&e&&(Po(0,"span"),wa(1),Lo()),2&e){const e=Yo().$implicit;Si(1),Sa(" ",e.accession_reference,"")}}function RB(e,t){if(1&e&&(Po(0,"mat-cell"),Ao(1,CB,2,1,"a",36),Ao(2,EB,2,1,"span",3),Lo()),2&e){const e=t.$implicit;Si(1),Oo("ngIf",e.accession_reference.includes("http")),Si(1),Oo("ngIf",!e.accession_reference.includes("http"))}}function AB(e,t){1&e&&Fo(0,"mat-header-row",22)}function IB(e,t){1&e&&Fo(0,"mat-row")}const TB=function(){return["name","accession_id","institute","num_subjects","num_samples","paper","study_data"]};function DB(e,t){if(1&e&&(No(0),Po(1,"div",10),Po(2,"h2",8),wa(3),Lo(),Po(4,"mat-table",11,26),No(6,13),Ao(7,hB,2,0,"mat-header-cell",17),Ao(8,uB,2,1,"mat-cell",18),zo(),No(9,27),Ao(10,dB,2,0,"mat-header-cell",28),Ao(11,pB,2,1,"mat-cell",29),zo(),No(12,30),Ao(13,fB,2,0,"mat-header-cell",28),Ao(14,mB,2,1,"mat-cell",29),zo(),No(15,31),Ao(16,gB,2,0,"mat-header-cell",17),Ao(17,vB,2,1,"mat-cell",18),zo(),No(18,32),Ao(19,yB,2,0,"mat-header-cell",17),Ao(20,bB,2,1,"mat-cell",18),zo(),No(21,33),Ao(22,_B,2,0,"mat-header-cell",17),Ao(23,SB,3,2,"mat-cell",18),zo(),No(24,34),Ao(25,kB,2,0,"mat-header-cell",17),Ao(26,RB,3,2,"mat-cell",18),zo(),Ao(27,AB,1,0,"mat-header-row",19),Ao(28,IB,1,0,"mat-row",20),Lo(),Lo(),zo()),2&e){const e=Yo();Si(3),Sa("Studies included in ",e.dataset,":"),Si(1),Oo("dataSource",e.datasetInfo.studies),Si(23),Oo("matHeaderRowDef",Il(5,TB))("matHeaderRowDefSticky",!0),Si(1),Oo("matRowDefColumns",Il(6,TB))}}function OB(e,t){1&e&&(No(0),Po(1,"div",10),Po(2,"p"),wa(3,"Please select a single dataset to see its statistics and composition"),Lo(),Lo(),zo())}let MB=(()=>{class e{constructor(e,t){this.geneTableService=e,this.repseqService=t,this.geneTableServiceSubscription=null,this.species=null,this.dataset=null,this.datasetDescriptions=null,this.datasetInfo=null,this.loading=!1,this.error=null}ngOnInit(){setTimeout(()=>{this.geneTableServiceSubscription=this.geneTableService.source.subscribe(e=>{this.species=e.species,this.dataset=e.repSeqs,this.datasetDescriptions=e.repDatasetDescriptions,this.datasetInfoTable.renderRows(),this.datasetInfo=null,1===this.dataset.length&&(this.error=null,this.loading=!0,this.repseqService.getDataSetInfoApi(this.species,this.dataset[0]).subscribe(e=>{this.loading=!1,this.datasetInfo=e}))},e=>{this.error=e})})}}return e.\u0275fac=function(t){return new(t||e)(To(Tw),To(Aw))},e.\u0275cmp=pt({type:e,selectors:[["app-rep-explore-data-panel"]],viewQuery:function(e,t){if(1&e&&Jl(Yz,!0),2&e){let e;Kl(e=ic())&&(t.datasetInfoTable=e.first)}},decls:8,vars:6,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"mt-5"],[1,"font-italic"],[1,"container"],[3,"dataSource"],["datasetInfoTable",""],["matColumnDef","name"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matHeaderCellDef"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matCellDef"],["matColumnDef","desc"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[2,"width","30% !important","flex","0 0 30% !important"],[1,"mat-elevation-z1"],[1,"col-lg-3","col-md-6","col-sm-12"],[3,"type","title","data","options"],[3,"type","title","data","options","width"],["datasetStudyTable",""],["matColumnDef","accession_id"],["class","large-col",4,"matHeaderCellDef"],["class","large-col",4,"matCellDef"],["matColumnDef","institute"],["matColumnDef","num_subjects"],["matColumnDef","num_samples"],["matColumnDef","paper"],["matColumnDef","study_data"],[1,"large-col"],[3,"href",4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"]],template:function(e,t){1&e&&(Po(0,"div",0),Ao(1,Zz,3,0,"div",1),Ao(2,Xz,6,1,"div",2),Ao(3,iB,16,7,"ng-container",3),Ao(4,cB,14,33,"ng-container",3),Ao(5,DB,29,7,"ng-container",3),wa(6,"> "),Ao(7,OB,4,0,"ng-container",3),Lo()),2&e&&(Si(1),Oo("ngIf",t.loading),Si(1),Oo("ngIf",t.error),Si(1),Oo("ngIf",!t.loading&&!t.error),Si(1),Oo("ngIf",!t.loading&&!t.error&&t.datasetInfo),Si(1),Oo("ngIf",!t.loading&&!t.error&&t.datasetInfo),Si(2),Oo("ngIf",!t.loading&&!t.error&&!t.datasetInfo))},directives:[Ph,FR,$R,jR,zR,YR,XR,HR,GR,QR,eA,Gz],styles:[".small-col{width:6%!important;flex:0 0 6%!important}.large-col{width:15%!important;flex:0 0 15%!important}"],encapsulation:2}),e})();function PB(){return new Cw({basePath:ih.apiBasePath})}const LB=[{path:"",component:BM},{path:"genesample",component:sz},{path:"genetable",component:zM},{path:"genebrowser/:speciesName/:refName",component:HM},{path:"samplerep",component:fF},{path:"generep",component:hN},{path:"datarep",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-rep-explore-data"]],decls:3,vars:2,consts:[[1,"container-fluid"],[3,"showGenomic","showRepseq"]],template:function(e,t){1&e&&(Po(0,"div",0),Fo(1,"app-gene-table-selector",1),Fo(2,"app-rep-explore-data-panel"),Lo()),2&e&&(Si(1),Oo("showGenomic",!1)("showRepseq",!0))},directives:[Kw,MB],styles:[""]}),e})()},{path:"reports",component:Fz},{path:"quick-ref",component:zz},{path:"user-guide",component:Bz},{path:"licensing",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-licensing"]],decls:25,vars:0,consts:[[1,"container"],["href","https://creativecommons.org/publicdomain/zero/1.0/legalcode"],["href","https://github.com/williamdlees/digby"],["href","https://github.com/williamdlees/digby_backend"],["href","https://bitbucket.org/yaarilab/vdjbasevis"],["href","https://bitbucket.org/yaarilab/processpipeline"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"h1"),wa(2,"Content"),Lo(),Po(3,"p"),wa(4,"Information provided on this site and any reports that are created here are published under a "),Po(5,"a",1),wa(6,"CC0 (Creative Commons 0) license"),Lo(),wa(7,"."),Lo(),Po(8,"h1"),wa(9,"Source Code"),Lo(),Po(10,"p"),wa(11,"Source Code is available at the following links:"),Lo(),Po(12,"ul"),Po(13,"li"),Po(14,"a",2),wa(15,"Website front-end"),Lo(),Lo(),Po(16,"li"),Po(17,"a",3),wa(18,"Website back-end"),Lo(),Lo(),Po(19,"li"),Po(20,"a",4),wa(21,"Reporting package"),Lo(),Lo(),Po(22,"li"),Po(23,"a",5),wa(24,"Analysis pipeline"),Lo(),Lo(),Lo(),Lo())},styles:[""]}),e})()}];let FB=(()=>{class e{}return e.\u0275mod=vt({type:e,bootstrap:[bw]}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[ZM,{provide:kf,useClass:XM,multi:!0},{provide:F_,useClass:oz}],imports:[[Au,Jp,Nf,sg,og,oy,DT,nA,XE,YM,qM,aw.forRoot(LB),Iw.forRoot(PB),qw.forRoot(),gF,$I,EI,tT,rI,sT,Cx,wT,Wz]]}),e})();ih.production&&function(){if(Dr)throw new Error("Cannot enable prod mode after platform setup.");Tr=!1}(),Eu().bootstrapModule(FB).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);