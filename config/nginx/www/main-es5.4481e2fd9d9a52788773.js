!function(){function e(n){var i="function"==typeof Map?new Map:void 0;return(e=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,r)}function r(){return t(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(n)}function t(e,n,i){return(t=c()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&o(r,n.prototype),r}).apply(null,arguments)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(l){s=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=c();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){y(a,i,r,o,s,"next",e)}function s(e){y(a,i,r,o,s,"throw",e)}o(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},LvDl:function(e,t,n){(function(e){var i;(function(){var r="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",v="[object Number]",g="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",k="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",I="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,N=RegExp(L.source),z=RegExp(F.source),V=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,B=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,G=RegExp(W.source),$=/^\s+|\s+$/g,Y=/^\s+/,Z=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",pe="["+he+"]",ve="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",me="[^\\ud800-\\udfff"+de+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ye="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xe="(?:"+ge+"|"+me+")",Se="(?:"+ke+"|"+me+")",Ce="(?:"+pe+"|"+ye+")?",Ee="[\\ufe0e\\ufe0f]?"+Ce+"(?:\\u200d(?:"+[be,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*",Re="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Ee,Ae="(?:"+[be+pe+"?",pe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",Te=RegExp("['\u2019]","g"),Ie=RegExp(pe,"g"),De=RegExp(ye+"(?="+ye+")|"+Ae+Ee,"g"),Oe=RegExp([ke+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[fe,ke,"$"].join("|")+")",Se+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[fe,ke+xe,"$"].join("|")+")",ke+"?"+xe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Re].join("|"),"g"),Pe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ne={};Ne[S]=Ne[C]=Ne[E]=Ne[R]=Ne[A]=Ne[T]=Ne["[object Uint8ClampedArray]"]=Ne[I]=Ne[D]=!0,Ne[s]=Ne[l]=Ne[k]=Ne[u]=Ne[x]=Ne[c]=Ne[h]=Ne[d]=Ne[p]=Ne[v]=Ne[g]=Ne[m]=Ne[y]=Ne[b]=Ne[w]=!1;var ze={};ze[s]=ze[l]=ze[k]=ze[x]=ze[u]=ze[c]=ze[S]=ze[C]=ze[E]=ze[R]=ze[A]=ze[p]=ze[v]=ze[g]=ze[m]=ze[y]=ze[b]=ze[_]=ze[T]=ze["[object Uint8ClampedArray]"]=ze[I]=ze[D]=!0,ze[h]=ze[d]=ze[w]=!1;var Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Be=parseInt,He="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,Ue=He||qe||Function("return this")(),We=t&&!t.nodeType&&t,Ge=We&&"object"==typeof e&&e&&!e.nodeType&&e,$e=Ge&&Ge.exports===We,Ye=$e&&He.process,Ze=function(){try{return Ge&&Ge.require&&Ge.require("util").types||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Ke=Ze&&Ze.isArrayBuffer,Xe=Ze&&Ze.isDate,Qe=Ze&&Ze.isMap,Je=Ze&&Ze.isRegExp,et=Ze&&Ze.isSet,tt=Ze&&Ze.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function it(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function rt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function st(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function lt(e,t){return!(null==e||!e.length)&&yt(e,t,0)>-1}function ut(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ct(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function ht(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function dt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function ft(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function pt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var vt=kt("length");function gt(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function mt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function yt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):mt(e,_t,n)}function bt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function _t(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function xt(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Et(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Rt(e){return function(t){return e(t)}}function At(e,t){return ct(t,function(t){return e[t]})}function Tt(e,t){return e.has(t)}function It(e,t){for(var n=-1,i=e.length;++n<i&&yt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length;n--&&yt(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Pt=xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Mt=xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+Ve[e]}function Ft(e){return Pe.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function zt(e,t){return function(n){return e(t(n))}}function Vt(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[r++]=n)}return o}function jt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Bt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Ht(e){return Ft(e)?function(e){for(var t=De.lastIndex=0;De.test(e);)++t;return t}(e):vt(e)}function qt(e){return Ft(e)?function(e){return e.match(De)||[]}(e):function(e){return e.split("")}(e)}var Ut=xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wt=function e(t){var n,i=(t=null==t?Ue:Wt.defaults(Ue.Object(),t,Wt.pick(Ue,Le))).Array,he=t.Date,de=t.Error,fe=t.Function,pe=t.Math,ve=t.Object,ge=t.RegExp,me=t.String,ye=t.TypeError,be=i.prototype,_e=ve.prototype,we=t["__core-js_shared__"],ke=fe.prototype.toString,xe=_e.hasOwnProperty,Se=0,Ce=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=_e.toString,Re=ke.call(ve),Ae=Ue._,De=ge("^"+ke.call(xe).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=$e?t.Buffer:void 0,Ve=t.Symbol,He=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,We=zt(ve.getPrototypeOf,ve),Ge=ve.create,Ye=_e.propertyIsEnumerable,Ze=be.splice,vt=Ve?Ve.isConcatSpreadable:void 0,xt=Ve?Ve.iterator:void 0,Gt=Ve?Ve.toStringTag:void 0,$t=function(){try{var e=Xr(ve,"defineProperty");return e({},"",{}),e}catch(t){}}(),Yt=t.clearTimeout!==Ue.clearTimeout&&t.clearTimeout,Zt=he&&he.now!==Ue.Date.now&&he.now,Kt=t.setTimeout!==Ue.setTimeout&&t.setTimeout,Xt=pe.ceil,Qt=pe.floor,Jt=ve.getOwnPropertySymbols,en=Pe?Pe.isBuffer:void 0,tn=t.isFinite,nn=be.join,rn=zt(ve.keys,ve),an=pe.max,on=pe.min,sn=he.now,ln=t.parseInt,un=pe.random,cn=be.reverse,hn=Xr(t,"DataView"),dn=Xr(t,"Map"),fn=Xr(t,"Promise"),pn=Xr(t,"Set"),vn=Xr(t,"WeakMap"),gn=Xr(ve,"create"),mn=vn&&new vn,yn={},bn=Ea(hn),_n=Ea(dn),wn=Ea(fn),kn=Ea(pn),xn=Ea(vn),Sn=Ve?Ve.prototype:void 0,Cn=Sn?Sn.valueOf:void 0,En=Sn?Sn.toString:void 0;function Rn(e){if(Uo(e)&&!Po(e)&&!(e instanceof Dn)){if(e instanceof In)return e;if(xe.call(e,"__wrapped__"))return Ra(e)}return new In(e)}var An=function(){function e(){}return function(t){if(!qo(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function In(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Dn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Mn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Pn(e);this.size=t.size}function Nn(e,t){var n=Po(e),i=!n&&Oo(e),r=!n&&!i&&No(e),a=!n&&!i&&!r&&Qo(e),o=n||i||r||a,s=o?Et(e.length,me):[],l=s.length;for(var u in e)!t&&!xe.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ra(u,l))||s.push(u);return s}function zn(e){var t=e.length;return t?e[Mi(0,t-1)]:void 0}function Vn(e,t){return wa(vr(e),Yn(t,0,e.length))}function jn(e){return wa(vr(e))}function Bn(e,t,n){(void 0!==n&&!To(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function Hn(e,t,n){var i=e[t];xe.call(e,t)&&To(i,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(To(e[n][0],t))return n;return-1}function Un(e,t,n,i){return Jn(e,function(e,r,a){t(i,e,n(e),a)}),i}function Wn(e,t){return e&&gr(t,_s(t),e)}function Gn(e,t,n){"__proto__"==t&&$t?$t(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $n(e,t){for(var n=-1,r=t.length,a=i(r),o=null==e;++n<r;)a[n]=o?void 0:vs(e,t[n]);return a}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,i,r,a){var o,l=1&t,h=2&t,w=4&t;if(n&&(o=r?n(e,i,r,a):n(e)),void 0!==o)return o;if(!qo(e))return e;var O=Po(e);if(O){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return vr(e,o)}else{var P=ea(e),M=P==d||P==f;if(No(e))return ur(e,l);if(P==g||P==s||M&&!r){if(o=h||M?{}:na(e),!l)return h?function(e,t){return gr(e,Jr(e),t)}(e,function(e,t){return e&&gr(t,ws(t),e)}(o,e)):function(e,t){return gr(e,Qr(e),t)}(e,Wn(o,e))}else{if(!ze[P])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case k:return cr(e);case u:case c:return new i(+e);case x:return function(e,t){var n=t?cr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case C:case E:case R:case A:case T:case"[object Uint8ClampedArray]":case I:case D:return hr(e,n);case p:return new i;case v:case b:return new i(e);case m:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new i;case _:return Cn?ve(Cn.call(e)):{}}}(e,P,l)}}a||(a=new Fn);var L=a.get(e);if(L)return L;a.set(e,o),Zo(e)?e.forEach(function(i){o.add(Zn(i,t,n,i,e,a))}):Wo(e)&&e.forEach(function(i,r){o.set(r,Zn(i,t,n,r,e,a))});var F=O?void 0:(w?h?Ur:qr:h?ws:_s)(e);return rt(F||e,function(i,r){F&&(i=e[r=i]),Hn(o,r,Zn(i,t,n,r,e,a))}),o}function Kn(e,t,n){var i=n.length;if(null==e)return!i;for(e=ve(e);i--;){var r=n[i],a=e[r];if(void 0===a&&!(r in e)||!(0,t[r])(a))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new ye(r);return ma(function(){e.apply(void 0,n)},t)}function Qn(e,t,n,i){var r=-1,a=lt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=ct(t,Rt(n))),i?(a=ut,o=!1):t.length>=200&&(a=Tt,o=!1,t=new Ln(t));e:for(;++r<s;){var c=e[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,i)||l.push(c)}return l}Rn.templateSettings={escape:V,evaluate:j,interpolate:B,variable:"",imports:{_:Rn}},(Rn.prototype=Tn.prototype).constructor=Rn,(In.prototype=An(Tn.prototype)).constructor=In,(Dn.prototype=An(Tn.prototype)).constructor=Dn,On.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:xe.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0||(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,0))},Pn.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Pn.prototype.has=function(e){return qn(this.__data__,e)>-1},Pn.prototype.set=function(e,t){var n=this.__data__,i=qn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Mn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(dn||Pn),string:new On}},Mn.prototype.delete=function(e){var t=Zr(this,e).delete(e);return this.size-=t?1:0,t},Mn.prototype.get=function(e){return Zr(this,e).get(e)},Mn.prototype.has=function(e){return Zr(this,e).has(e)},Mn.prototype.set=function(e,t){var n=Zr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Pn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pn){var i=n.__data__;if(!dn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mn(i)}return n.set(e,t),this.size=n.size,this};var Jn=br(si),ei=br(li,!0);function ti(e,t){var n=!0;return Jn(e,function(e,i,r){return n=!!t(e,i,r)}),n}function ni(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(void 0===s?o==o&&!Xo(o):n(o,s)))var s=o,l=a}return l}function ii(e,t){var n=[];return Jn(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ri(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=ia),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ri(s,t-1,n,i,r):ht(r,s):i||(r[r.length]=s)}return r}var ai=_r(),oi=_r(!0);function si(e,t){return e&&ai(e,t,_s)}function li(e,t){return e&&oi(e,t,_s)}function ui(e,t){return st(t,function(t){return jo(e[t])})}function ci(e,t){for(var n=0,i=(t=ar(t,e)).length;null!=e&&n<i;)e=e[Ca(t[n++])];return n&&n==i?e:void 0}function hi(e,t,n){var i=t(e);return Po(e)?i:ht(i,n(e))}function di(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Gt&&Gt in ve(e)?function(e){var t=xe.call(e,Gt),n=e[Gt];try{e[Gt]=void 0;var i=!0}catch(a){}var r=Ee.call(e);return i&&(t?e[Gt]=n:delete e[Gt]),r}(e):function(e){return Ee.call(e)}(e)}function fi(e,t){return e>t}function pi(e,t){return null!=e&&xe.call(e,t)}function vi(e,t){return null!=e&&t in ve(e)}function gi(e,t,n){for(var r=n?ut:lt,a=e[0].length,o=e.length,s=o,l=i(o),u=1/0,c=[];s--;){var h=e[s];s&&t&&(h=ct(h,Rt(t))),u=on(h.length,u),l[s]=!n&&(t||a>=120&&h.length>=120)?new Ln(s&&h):void 0}h=e[0];var d=-1,f=l[0];e:for(;++d<a&&c.length<u;){var p=h[d],v=t?t(p):p;if(p=n||0!==p?p:0,!(f?Tt(f,v):r(c,v,n))){for(s=o;--s;){var g=l[s];if(!(g?Tt(g,v):r(e[s],v,n)))continue e}f&&f.push(v),c.push(p)}}return c}function mi(e,t,n){var i=null==(e=fa(e,t=ar(t,e)))?e:e[Ca(za(t))];return null==i?void 0:nt(i,e,n)}function yi(e){return Uo(e)&&di(e)==s}function bi(e,t,n,i,r){return e===t||(null==e||null==t||!Uo(e)&&!Uo(t)?e!=e&&t!=t:function(e,t,n,i,r,a){var o=Po(e),d=Po(t),f=o?l:ea(e),w=d?l:ea(t),S=(f=f==s?g:f)==g,C=(w=w==s?g:w)==g,E=f==w;if(E&&No(e)){if(!No(t))return!1;o=!0,S=!1}if(E&&!S)return a||(a=new Fn),o||Qo(e)?Br(e,t,n,i,r,a):function(e,t,n,i,r,a,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case u:case c:case v:return To(+e,+t);case h:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case p:var s=Nt;case y:if(s||(s=jt),e.size!=t.size&&!(1&i))return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var d=Br(s(e),s(t),i,r,a,o);return o.delete(e),d;case _:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,f,n,i,r,a);if(!(1&n)){var R=S&&xe.call(e,"__wrapped__"),A=C&&xe.call(t,"__wrapped__");if(R||A){var T=R?e.value():e,I=A?t.value():t;return a||(a=new Fn),r(T,I,n,i,a)}}return!!E&&(a||(a=new Fn),function(e,t,n,i,r,a){var o=1&n,s=qr(e),l=s.length;if(l!=qr(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:xe.call(t,c)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var d=!0;a.set(e,t),a.set(t,e);for(var f=o;++u<l;){var p=e[c=s[u]],v=t[c];if(i)var g=o?i(v,p,c,t,e,a):i(p,v,c,e,t,a);if(!(void 0===g?p===v||r(p,v,n,i,a):g)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,i,r,a))}(e,t,n,i,bi,r))}function _i(e,t,n,i){var r=n.length,a=r,o=!i;if(null==e)return!a;for(e=ve(e);r--;){var s=n[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){var l=(s=n[r])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Fn;if(i)var d=i(u,c,l,e,t,h);if(!(void 0===d?bi(c,u,3,i,h):d))return!1}}return!0}function wi(e){return!(!qo(e)||(t=e,Ce&&Ce in t))&&(jo(e)?De:ae).test(Ea(e));var t}function ki(e){return"function"==typeof e?e:null==e?Gs:"object"==typeof e?Po(e)?Ri(e[0],e[1]):Ei(e):tl(e)}function xi(e){if(!ua(e))return rn(e);var t=[];for(var n in ve(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Si(e,t){return e<t}function Ci(e,t){var n=-1,r=Lo(e)?i(e.length):[];return Jn(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Ei(e){var t=Kr(e);return 1==t.length&&t[0][2]?ha(t[0][0],t[0][1]):function(n){return n===e||_i(n,e,t)}}function Ri(e,t){return oa(e)&&ca(t)?ha(Ca(e),t):function(n){var i=vs(n,e);return void 0===i&&i===t?gs(n,e):bi(t,i,3)}}function Ai(e,t,n,i,r){e!==t&&ai(t,function(a,o){if(r||(r=new Fn),qo(a))!function(e,t,n,i,r,a,o){var s=va(e,n),l=va(t,n),u=o.get(l);if(u)Bn(e,n,u);else{var c=a?a(s,l,n+"",e,t,o):void 0,h=void 0===c;if(h){var d=Po(l),f=!d&&No(l),p=!d&&!f&&Qo(l);c=l,d||f||p?Po(s)?c=s:Fo(s)?c=vr(s):f?(h=!1,c=ur(l,!0)):p?(h=!1,c=hr(l,!0)):c=[]:$o(l)||Oo(l)?(c=s,Oo(s)?c=os(s):qo(s)&&!jo(s)||(c=na(l))):h=!1}h&&(o.set(l,c),r(c,l,i,a,o),o.delete(l)),Bn(e,n,c)}}(e,t,o,n,Ai,i,r);else{var s=i?i(va(e,o),a,o+"",e,t,r):void 0;void 0===s&&(s=a),Bn(e,o,s)}},ws)}function Ti(e,t){var n=e.length;if(n)return ra(t+=t<0?n:0,n)?e[t]:void 0}function Ii(e,t,n){var i=-1;return t=ct(t.length?t:[Gs],Rt(Yr())),function(e,t){var i=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;++i<o;){var l=dr(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)});i--;)e[i]=e[i].value;return e}(Ci(e,function(e,n,r){return{criteria:ct(t,function(t){return t(e)}),index:++i,value:e}}))}function Di(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=ci(e,o);n(s,o)&&Vi(a,ar(o,e),s)}return a}function Oi(e,t,n,i){var r=i?bt:yt,a=-1,o=t.length,s=e;for(e===t&&(t=vr(t)),n&&(s=ct(e,Rt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&Ze.call(s,l,1),Ze.call(e,l,1);return e}function Pi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;ra(r)?Ze.call(e,r,1):Xi(e,r)}}return e}function Mi(e,t){return e+Qt(un()*(t-e+1))}function Li(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Fi(e,t){return ya(da(e,t,Gs),e+"")}function Ni(e){return zn(Ts(e))}function zi(e,t){var n=Ts(e);return wa(n,Yn(t,0,n.length))}function Vi(e,t,n,i){if(!qo(e))return e;for(var r=-1,a=(t=ar(t,e)).length,o=a-1,s=e;null!=s&&++r<a;){var l=Ca(t[r]),u=n;if(r!=o){var c=s[l];void 0===(u=i?i(c,l,s):void 0)&&(u=qo(c)?c:ra(t[r+1])?[]:{})}Hn(s,l,u),s=s[l]}return e}var ji=mn?function(e,t){return mn.set(e,t),e}:Gs,Bi=$t?function(e,t){return $t(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Gs;function Hi(e){return wa(Ts(e))}function qi(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=i(a);++r<a;)o[r]=e[r+t];return o}function Ui(e,t){var n;return Jn(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!Xo(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return Gi(e,t,Gs,n)}function Gi(e,t,n,i){t=n(t);for(var r=0,a=null==e?0:e.length,o=t!=t,s=null===t,l=Xo(t),u=void 0===t;r<a;){var c=Qt((r+a)/2),h=n(e[c]),d=void 0!==h,f=null===h,p=h==h,v=Xo(h);if(o)var g=i||p;else g=u?p&&(i||d):s?p&&d&&(i||!f):l?p&&d&&!f&&(i||!v):!f&&!v&&(i?h<=t:h<t);g?r=c+1:a=c}return on(a,4294967294)}function $i(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!To(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function Yi(e){return"number"==typeof e?e:Xo(e)?NaN:+e}function Zi(e){if("string"==typeof e)return e;if(Po(e))return ct(e,Zi)+"";if(Xo(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ki(e,t,n){var i=-1,r=lt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,r=ut;else if(a>=200){var u=t?null:Lr(e);if(u)return jt(u);o=!1,r=Tt,l=new Ln}else l=t?[]:s;e:for(;++i<a;){var c=e[i],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else r(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function Xi(e,t){return null==(e=fa(e,t=ar(t,e)))||delete e[Ca(za(t))]}function Qi(e,t,n,i){return Vi(e,t,n(ci(e,t)),i)}function Ji(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?qi(e,i?0:a,i?a+1:r):qi(e,i?a+1:0,i?r:a)}function er(e,t){var n=e;return n instanceof Dn&&(n=n.value()),dt(t,function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))},n)}function tr(e,t,n){var r=e.length;if(r<2)return r?Ki(e[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=e[a],l=-1;++l<r;)l!=a&&(o[a]=Qn(o[a]||s,e[l],t,n));return Ki(ri(o,1),t,n)}function nr(e,t,n){for(var i=-1,r=e.length,a=t.length,o={};++i<r;)n(o,e[i],i<a?t[i]:void 0);return o}function ir(e){return Fo(e)?e:[]}function rr(e){return"function"==typeof e?e:Gs}function ar(e,t){return Po(e)?e:oa(e,t)?[e]:Sa(ss(e))}var or=Fi;function sr(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:qi(e,t,n)}var lr=Yt||function(e){return Ue.clearTimeout(e)};function ur(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function cr(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function hr(e,t){var n=t?cr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function dr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,a=Xo(e),o=void 0!==t,s=null===t,l=t==t,u=Xo(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||i&&o&&l||!n&&l||!r)return 1;if(!i&&!a&&!u&&e<t||u&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!l)return-1}return 0}function fr(e,t,n,r){for(var a=-1,o=e.length,s=n.length,l=-1,u=t.length,c=an(o-s,0),h=i(u+c),d=!r;++l<u;)h[l]=t[l];for(;++a<s;)(d||a<o)&&(h[n[a]]=e[a]);for(;c--;)h[l++]=e[a++];return h}function pr(e,t,n,r){for(var a=-1,o=e.length,s=-1,l=n.length,u=-1,c=t.length,h=an(o-l,0),d=i(h+c),f=!r;++a<h;)d[a]=e[a];for(var p=a;++u<c;)d[p+u]=t[u];for(;++s<l;)(f||a<o)&&(d[p+n[s]]=e[a++]);return d}function vr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function gr(e,t,n,i){var r=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?Gn(n,s,l):Hn(n,s,l)}return n}function mr(e,t){return function(n,i){var r=Po(n)?it:Un,a=t?t():{};return r(n,e,Yr(i,2),a)}}function yr(e){return Fi(function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&aa(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=ve(t);++i<r;){var s=n[i];s&&e(t,s,i,a)}return t})}function br(e,t){return function(n,i){if(null==n)return n;if(!Lo(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=ve(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function _r(e){return function(t,n,i){for(var r=-1,a=ve(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}function wr(e){return function(t){var n=Ft(t=ss(t))?qt(t):void 0,i=n?n[0]:t.charAt(0),r=n?sr(n,1).join(""):t.slice(1);return i[e]()+r}}function kr(e){return function(t){return dt(js(Os(t).replace(Te,"")),e,"")}}function xr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),i=e.apply(n,t);return qo(i)?i:n}}function Sr(e){return function(t,n,i){var r=ve(t);if(!Lo(t)){var a=Yr(n,3);t=_s(t),n=function(e){return a(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[a?t[o]:o]:void 0}}function Cr(e){return Hr(function(t){var n=t.length,i=n,a=In.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ye(r);if(a&&!s&&"wrapper"==Gr(o))var s=new In([],!0)}for(i=s?i:n;++i<n;){var l=Gr(o=t[i]),u="wrapper"==l?Wr(o):void 0;s=u&&sa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Gr(u[0])].apply(s,u[3]):1==o.length&&sa(o)?s[l]():s.thru(o)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Po(i))return s.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}})}function Er(e,t,n,r,a,o,s,l,u,c){var h=128&t,d=1&t,f=2&t,p=24&t,v=512&t,g=f?void 0:xr(e);return function m(){for(var y=arguments.length,b=i(y),_=y;_--;)b[_]=arguments[_];if(p)var w=$r(m),k=Ot(b,w);if(r&&(b=fr(b,r,a,p)),o&&(b=pr(b,o,s,p)),y-=k,p&&y<c){var x=Vt(b,w);return Pr(e,t,Er,m.placeholder,n,b,x,l,u,c-y)}var S=d?n:this,C=f?S[e]:e;return y=b.length,l?b=pa(b,l):v&&y>1&&b.reverse(),h&&u<y&&(b.length=u),this&&this!==Ue&&this instanceof m&&(C=g||xr(C)),C.apply(S,b)}}function Rr(e,t){return function(n,i){return function(e,t,n,i){return si(e,function(e,r,a){t(i,n(e),r,a)}),i}(n,e,t(i),{})}}function Ar(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Zi(n),i=Zi(i)):(n=Yi(n),i=Yi(i)),r=e(n,i)}return r}}function Tr(e){return Hr(function(t){return t=ct(t,Rt(Yr())),Fi(function(n){var i=this;return e(t,function(e){return nt(e,i,n)})})})}function Ir(e,t){var n=(t=void 0===t?" ":Zi(t)).length;if(n<2)return n?Li(t,e):t;var i=Li(t,Xt(e/Ht(t)));return Ft(t)?sr(qt(i),0,e).join(""):i.slice(0,e)}function Dr(e){return function(t,n,r){return r&&"number"!=typeof r&&aa(t,n,r)&&(n=r=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,r){for(var a=-1,o=an(Xt((t-e)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:ns(r),e)}}function Or(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Pr(e,t,n,i,r,a,o,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var h=[e,t,r,c?a:void 0,c?o:void 0,c?void 0:a,c?void 0:o,s,l,u],d=n.apply(void 0,h);return sa(e)&&ga(d,h),d.placeholder=i,ba(d,e,t)}function Mr(e){var t=pe[e];return function(e,n){if(e=as(e),(n=null==n?0:on(is(n),292))&&tn(e)){var i=(ss(e)+"e").split("e");return+((i=(ss(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Lr=pn&&1/jt(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Xs;function Fr(e){return function(t){var n=ea(t);return n==p?Nt(t):n==y?Bt(t):function(e,t){return ct(t,function(t){return[t,e[t]]})}(t,e(t))}}function Nr(e,t,n,o,s,l,u,c){var h=2&t;if(!h&&"function"!=typeof e)throw new ye(r);var d=o?o.length:0;if(d||(t&=-97,o=s=void 0),u=void 0===u?u:an(is(u),0),c=void 0===c?c:is(c),d-=s?s.length:0,64&t){var f=o,p=s;o=s=void 0}var v=h?void 0:Wr(e),g=[e,t,n,o,s,f,p,l,u,c];if(v&&function(e,t){var n=e[1],i=t[1],r=n|i;if(!(r<131||128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n))return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var o=t[3];if(o){var s=e[3];e[3]=s?fr(s,o,t[4]):o,e[4]=s?Vt(e[3],a):t[4]}(o=t[5])&&(e[5]=(s=e[5])?pr(s,o,t[6]):o,e[6]=s?Vt(e[5],a):t[6]),(o=t[7])&&(e[7]=o),128&i&&(e[8]=null==e[8]?t[8]:on(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(g,v),e=g[0],t=g[1],n=g[2],o=g[3],s=g[4],!(c=g[9]=void 0===g[9]?h?0:e.length:an(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var r=xr(e);return function a(){for(var o=arguments.length,s=i(o),l=o,u=$r(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:Vt(s,u);return(o-=c.length)<n?Pr(e,t,Er,a.placeholder,void 0,s,c,void 0,void 0,n-o):nt(this&&this!==Ue&&this instanceof a?r:e,this,s)}}(e,t,c):32!=t&&33!=t||s.length?Er.apply(void 0,g):function(e,t,n,r){var a=1&t,o=xr(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==Ue&&this instanceof t?o:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++s];return nt(d,a?n:this,h)}}(e,t,n,o);else var m=function(e,t,n){var i=1&t,r=xr(e);return function t(){return(this&&this!==Ue&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return ba((v?ji:ga)(m,g),e,t)}function zr(e,t,n,i){return void 0===e||To(e,_e[n])&&!xe.call(i,n)?t:e}function Vr(e,t,n,i,r,a){return qo(e)&&qo(t)&&(a.set(t,e),Ai(e,t,void 0,Vr,a),a.delete(t)),e}function jr(e){return $o(e)?void 0:e}function Br(e,t,n,i,r,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,h=!0,d=2&n?new Ln:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var f=e[c],p=t[c];if(i)var v=o?i(p,f,c,t,e,a):i(f,p,c,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!pt(t,function(e,t){if(!Tt(d,t)&&(f===e||r(f,e,n,i,a)))return d.push(t)})){h=!1;break}}else if(f!==p&&!r(f,p,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Hr(e){return ya(da(e,void 0,Pa),e+"")}function qr(e){return hi(e,_s,Qr)}function Ur(e){return hi(e,ws,Jr)}var Wr=mn?function(e){return mn.get(e)}:Xs;function Gr(e){for(var t=e.name+"",n=yn[t],i=xe.call(yn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function $r(e){return(xe.call(Rn,"placeholder")?Rn:e).placeholder}function Yr(){var e=Rn.iteratee||$s;return e=e===$s?ki:e,arguments.length?e(arguments[0],arguments[1]):e}function Zr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Kr(e){for(var t=_s(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ca(r)]}return t}function Xr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wi(n)?n:void 0}var Qr=Jt?function(e){return null==e?[]:(e=ve(e),st(Jt(e),function(t){return Ye.call(e,t)}))}:rl,Jr=Jt?function(e){for(var t=[];e;)ht(t,Qr(e)),e=We(e);return t}:rl,ea=di;function ta(e,t,n){for(var i=-1,r=(t=ar(t,e)).length,a=!1;++i<r;){var o=Ca(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&Ho(r)&&ra(o,r)&&(Po(e)||Oo(e))}function na(e){return"function"!=typeof e.constructor||ua(e)?{}:An(We(e))}function ia(e){return Po(e)||Oo(e)||!!(vt&&e&&e[vt])}function ra(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function aa(e,t,n){if(!qo(n))return!1;var i=typeof t;return!!("number"==i?Lo(n)&&ra(t,n.length):"string"==i&&t in n)&&To(n[t],e)}function oa(e,t){if(Po(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xo(e))||q.test(e)||!H.test(e)||null!=t&&e in ve(t)}function sa(e){var t=Gr(e),n=Rn[t];if("function"!=typeof n||!(t in Dn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(hn&&ea(new hn(new ArrayBuffer(1)))!=x||dn&&ea(new dn)!=p||fn&&"[object Promise]"!=ea(fn.resolve())||pn&&ea(new pn)!=y||vn&&ea(new vn)!=w)&&(ea=function(e){var t=di(e),n=t==g?e.constructor:void 0,i=n?Ea(n):"";if(i)switch(i){case bn:return x;case _n:return p;case wn:return"[object Promise]";case kn:return y;case xn:return w}return t});var la=we?jo:al;function ua(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function ca(e){return e==e&&!qo(e)}function ha(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in ve(n))}}function da(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=an(r.length-t,0),s=i(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=i(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),nt(e,this,l)}}function fa(e,t){return t.length<2?e:ci(e,qi(t,0,-1))}function pa(e,t){for(var n=e.length,i=on(t.length,n),r=vr(e);i--;){var a=t[i];e[i]=ra(a,n)?r[a]:void 0}return e}function va(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ga=_a(ji),ma=Kt||function(e,t){return Ue.setTimeout(e,t)},ya=_a(Bi);function ba(e,t,n){var i=t+"";return ya(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(K,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return rt(o,function(n){var i="_."+n[0];t&n[1]&&!lt(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Q):[]}(i),n)))}function _a(e){var t=0,n=0;return function(){var i=sn(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wa(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var a=Mi(n,r),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var ka,xa,Sa=(ka=xo(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(U,function(e,n,i,r){t.push(i?r.replace(ee,"$1"):n||e)}),t},function(e){return 500===xa.size&&xa.clear(),e}),xa=ka.cache,ka);function Ca(e){if("string"==typeof e||Xo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ea(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ra(e){if(e instanceof Dn)return e.clone();var t=new In(e.__wrapped__,e.__chain__);return t.__actions__=vr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Aa=Fi(function(e,t){return Fo(e)?Qn(e,ri(t,1,Fo,!0)):[]}),Ta=Fi(function(e,t){var n=za(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ri(t,1,Fo,!0),Yr(n,2)):[]}),Ia=Fi(function(e,t){var n=za(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ri(t,1,Fo,!0),void 0,n):[]});function Da(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=an(i+r,0)),mt(e,Yr(t,3),r)}function Oa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=is(n),r=n<0?an(i+r,0):on(r,i-1)),mt(e,Yr(t,3),r,!0)}function Pa(e){return null!=e&&e.length?ri(e,1):[]}function Ma(e){return e&&e.length?e[0]:void 0}var La=Fi(function(e){var t=ct(e,ir);return t.length&&t[0]===e[0]?gi(t):[]}),Fa=Fi(function(e){var t=za(e),n=ct(e,ir);return t===za(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gi(n,Yr(t,2)):[]}),Na=Fi(function(e){var t=za(e),n=ct(e,ir);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gi(n,void 0,t):[]});function za(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Va=Fi(ja);function ja(e,t){return e&&e.length&&t&&t.length?Oi(e,t):e}var Ba=Hr(function(e,t){var n=null==e?0:e.length,i=$n(e,t);return Pi(e,ct(t,function(e){return ra(e,n)?+e:e}).sort(dr)),i});function Ha(e){return null==e?e:cn.call(e)}var qa=Fi(function(e){return Ki(ri(e,1,Fo,!0))}),Ua=Fi(function(e){var t=za(e);return Fo(t)&&(t=void 0),Ki(ri(e,1,Fo,!0),Yr(t,2))}),Wa=Fi(function(e){var t=za(e);return t="function"==typeof t?t:void 0,Ki(ri(e,1,Fo,!0),void 0,t)});function Ga(e){if(!e||!e.length)return[];var t=0;return e=st(e,function(e){if(Fo(e))return t=an(e.length,t),!0}),Et(t,function(t){return ct(e,kt(t))})}function $a(e,t){if(!e||!e.length)return[];var n=Ga(e);return null==t?n:ct(n,function(e){return nt(t,void 0,e)})}var Ya=Fi(function(e,t){return Fo(e)?Qn(e,t):[]}),Za=Fi(function(e){return tr(st(e,Fo))}),Ka=Fi(function(e){var t=za(e);return Fo(t)&&(t=void 0),tr(st(e,Fo),Yr(t,2))}),Xa=Fi(function(e){var t=za(e);return t="function"==typeof t?t:void 0,tr(st(e,Fo),void 0,t)}),Qa=Fi(Ga),Ja=Fi(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,$a(e,n)});function eo(e){var t=Rn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Hr(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return $n(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Dn&&ra(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[r],thisArg:void 0}),new In(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(r)}),io=mr(function(e,t,n){xe.call(e,n)?++e[n]:Gn(e,n,1)}),ro=Sr(Da),ao=Sr(Oa);function oo(e,t){return(Po(e)?rt:Jn)(e,Yr(t,3))}function so(e,t){return(Po(e)?at:ei)(e,Yr(t,3))}var lo=mr(function(e,t,n){xe.call(e,n)?e[n].push(t):Gn(e,n,[t])}),uo=Fi(function(e,t,n){var r=-1,a="function"==typeof t,o=Lo(e)?i(e.length):[];return Jn(e,function(e){o[++r]=a?nt(t,e,n):mi(e,t,n)}),o}),co=mr(function(e,t,n){Gn(e,n,t)});function ho(e,t){return(Po(e)?ct:Ci)(e,Yr(t,3))}var fo=mr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),po=Fi(function(e,t){if(null==e)return[];var n=t.length;return n>1&&aa(e,t[0],t[1])?t=[]:n>2&&aa(t[0],t[1],t[2])&&(t=[t[0]]),Ii(e,ri(t,1),[])}),vo=Zt||function(){return Ue.Date.now()};function go(e,t,n){return t=n?void 0:t,Nr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function mo(e,t){var n;if("function"!=typeof t)throw new ye(r);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var yo=Fi(function(e,t,n){var i=1;if(n.length){var r=Vt(n,$r(yo));i|=32}return Nr(e,i,t,n,r)}),bo=Fi(function(e,t,n){var i=3;if(n.length){var r=Vt(n,$r(bo));i|=32}return Nr(t,i,e,n,r)});function _o(e,t,n){var i,a,o,s,l,u,c=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new ye(r);function p(t){var n=i,r=a;return i=a=void 0,c=t,s=e.apply(r,n)}function v(e){return c=e,l=ma(m,t),h?p(e):s}function g(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=o}function m(){var e=vo();if(g(e))return y(e);l=ma(m,function(e){var n=t-(e-u);return d?on(n,o-(e-c)):n}(e))}function y(e){return l=void 0,f&&i?p(e):(i=a=void 0,s)}function b(){var e=vo(),n=g(e);if(i=arguments,a=this,u=e,n){if(void 0===l)return v(u);if(d)return lr(l),l=ma(m,t),p(u)}return void 0===l&&(l=ma(m,t)),s}return t=as(t)||0,qo(n)&&(h=!!n.leading,o=(d="maxWait"in n)?an(as(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&lr(l),c=0,i=u=a=l=void 0},b.flush=function(){return void 0===l?s:y(vo())},b}var wo=Fi(function(e,t){return Xn(e,1,t)}),ko=Fi(function(e,t,n){return Xn(e,as(t)||0,n)});function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(r);var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(xo.Cache||Mn),n}function So(e){if("function"!=typeof e)throw new ye(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=Mn;var Co=or(function(e,t){var n=(t=1==t.length&&Po(t[0])?ct(t[0],Rt(Yr())):ct(ri(t,1),Rt(Yr()))).length;return Fi(function(i){for(var r=-1,a=on(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return nt(e,this,i)})}),Eo=Fi(function(e,t){return Nr(e,32,void 0,t,Vt(t,$r(Eo)))}),Ro=Fi(function(e,t){return Nr(e,64,void 0,t,Vt(t,$r(Ro)))}),Ao=Hr(function(e,t){return Nr(e,256,void 0,void 0,void 0,t)});function To(e,t){return e===t||e!=e&&t!=t}var Io=Or(fi),Do=Or(function(e,t){return e>=t}),Oo=yi(function(){return arguments}())?yi:function(e){return Uo(e)&&xe.call(e,"callee")&&!Ye.call(e,"callee")},Po=i.isArray,Mo=Ke?Rt(Ke):function(e){return Uo(e)&&di(e)==k};function Lo(e){return null!=e&&Ho(e.length)&&!jo(e)}function Fo(e){return Uo(e)&&Lo(e)}var No=en||al,zo=Xe?Rt(Xe):function(e){return Uo(e)&&di(e)==c};function Vo(e){if(!Uo(e))return!1;var t=di(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$o(e)}function jo(e){if(!qo(e))return!1;var t=di(e);return t==d||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Bo(e){return"number"==typeof e&&e==is(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Uo(e){return null!=e&&"object"==typeof e}var Wo=Qe?Rt(Qe):function(e){return Uo(e)&&ea(e)==p};function Go(e){return"number"==typeof e||Uo(e)&&di(e)==v}function $o(e){if(!Uo(e)||di(e)!=g)return!1;var t=We(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Re}var Yo=Je?Rt(Je):function(e){return Uo(e)&&di(e)==m},Zo=et?Rt(et):function(e){return Uo(e)&&ea(e)==y};function Ko(e){return"string"==typeof e||!Po(e)&&Uo(e)&&di(e)==b}function Xo(e){return"symbol"==typeof e||Uo(e)&&di(e)==_}var Qo=tt?Rt(tt):function(e){return Uo(e)&&Ho(e.length)&&!!Ne[di(e)]},Jo=Or(Si),es=Or(function(e,t){return e<=t});function ts(e){if(!e)return[];if(Lo(e))return Ko(e)?qt(e):vr(e);if(xt&&e[xt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[xt]());var t=ea(e);return(t==p?Nt:t==y?jt:Ts)(e)}function ns(e){return e?1/0===(e=as(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function rs(e){return e?Yn(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Xo(e))return NaN;if(qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($,"");var n=re.test(e);return n||oe.test(e)?Be(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function os(e){return gr(e,ws(e))}function ss(e){return null==e?"":Zi(e)}var ls=yr(function(e,t){if(ua(t)||Lo(t))gr(t,_s(t),e);else for(var n in t)xe.call(t,n)&&Hn(e,n,t[n])}),us=yr(function(e,t){gr(t,ws(t),e)}),cs=yr(function(e,t,n,i){gr(t,ws(t),e,i)}),hs=yr(function(e,t,n,i){gr(t,_s(t),e,i)}),ds=Hr($n),fs=Fi(function(e,t){e=ve(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&aa(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],o=ws(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(void 0===c||To(c,_e[u])&&!xe.call(e,u))&&(e[u]=a[u])}return e}),ps=Fi(function(e){return e.push(void 0,Vr),nt(xs,void 0,e)});function vs(e,t,n){var i=null==e?void 0:ci(e,t);return void 0===i?n:i}function gs(e,t){return null!=e&&ta(e,t,vi)}var ms=Rr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n},qs(Gs)),ys=Rr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]},Yr),bs=Fi(mi);function _s(e){return Lo(e)?Nn(e):xi(e)}function ws(e){return Lo(e)?Nn(e,!0):function(e){if(!qo(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=ua(e),n=[];for(var i in e)("constructor"!=i||!t&&xe.call(e,i))&&n.push(i);return n}(e)}var ks=yr(function(e,t,n){Ai(e,t,n)}),xs=yr(function(e,t,n,i){Ai(e,t,n,i)}),Ss=Hr(function(e,t){var n={};if(null==e)return n;var i=!1;t=ct(t,function(t){return t=ar(t,e),i||(i=t.length>1),t}),gr(e,Ur(e),n),i&&(n=Zn(n,7,jr));for(var r=t.length;r--;)Xi(n,t[r]);return n}),Cs=Hr(function(e,t){return null==e?{}:function(e,t){return Di(e,t,function(t,n){return gs(e,n)})}(e,t)});function Es(e,t){if(null==e)return{};var n=ct(Ur(e),function(e){return[e]});return t=Yr(t),Di(e,n,function(e,n){return t(e,n[0])})}var Rs=Fr(_s),As=Fr(ws);function Ts(e){return null==e?[]:At(e,_s(e))}var Is=kr(function(e,t,n){return t=t.toLowerCase(),e+(n?Ds(t):t)});function Ds(e){return Vs(ss(e).toLowerCase())}function Os(e){return(e=ss(e))&&e.replace(le,Pt).replace(Ie,"")}var Ps=kr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ms=kr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ls=wr("toLowerCase"),Fs=kr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ns=kr(function(e,t,n){return e+(n?" ":"")+Vs(t)}),zs=kr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Vs=wr("toUpperCase");function js(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Me.test(e)}(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var Bs=Fi(function(e,t){try{return nt(e,void 0,t)}catch(n){return Vo(n)?n:new de(n)}}),Hs=Hr(function(e,t){return rt(t,function(t){t=Ca(t),Gn(e,t,yo(e[t],e))}),e});function qs(e){return function(){return e}}var Us=Cr(),Ws=Cr(!0);function Gs(e){return e}function $s(e){return ki("function"==typeof e?e:Zn(e,1))}var Ys=Fi(function(e,t){return function(n){return mi(n,e,t)}}),Zs=Fi(function(e,t){return function(n){return mi(e,n,t)}});function Ks(e,t,n){var i=_s(t),r=ui(t,i);null!=n||qo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ui(t,_s(t)));var a=!(qo(n)&&"chain"in n&&!n.chain),o=jo(e);return rt(r,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=vr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,ht([this.value()],arguments))})}),e}function Xs(){}var Qs=Tr(ct),Js=Tr(ot),el=Tr(pt);function tl(e){return oa(e)?kt(Ca(e)):function(e){return function(t){return ci(t,e)}}(e)}var nl=Dr(),il=Dr(!0);function rl(){return[]}function al(){return!1}var ol,sl=Ar(function(e,t){return e+t},0),ll=Mr("ceil"),ul=Ar(function(e,t){return e/t},1),cl=Mr("floor"),hl=Ar(function(e,t){return e*t},1),dl=Mr("round"),fl=Ar(function(e,t){return e-t},0);return Rn.after=function(e,t){if("function"!=typeof t)throw new ye(r);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Rn.ary=go,Rn.assign=ls,Rn.assignIn=us,Rn.assignInWith=cs,Rn.assignWith=hs,Rn.at=ds,Rn.before=mo,Rn.bind=yo,Rn.bindAll=Hs,Rn.bindKey=bo,Rn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Po(e)?e:[e]},Rn.chain=eo,Rn.chunk=function(e,t,n){t=(n?aa(e,t,n):void 0===t)?1:an(is(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,s=i(Xt(r/t));a<r;)s[o++]=qi(e,a,a+=t);return s},Rn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Rn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ht(Po(n)?vr(n):[n],ri(t,1))},Rn.cond=function(e){var t=null==e?0:e.length,n=Yr();return e=t?ct(e,function(e){if("function"!=typeof e[1])throw new ye(r);return[n(e[0]),e[1]]}):[],Fi(function(n){for(var i=-1;++i<t;){var r=e[i];if(nt(r[0],this,n))return nt(r[1],this,n)}})},Rn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Kn(n,e,t)}}(Zn(e,1))},Rn.constant=qs,Rn.countBy=io,Rn.create=function(e,t){var n=An(e);return null==t?n:Wn(n,t)},Rn.curry=function e(t,n,i){var r=Nr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Rn.curryRight=function e(t,n,i){var r=Nr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Rn.debounce=_o,Rn.defaults=fs,Rn.defaultsDeep=ps,Rn.defer=wo,Rn.delay=ko,Rn.difference=Aa,Rn.differenceBy=Ta,Rn.differenceWith=Ia,Rn.drop=function(e,t,n){var i=null==e?0:e.length;return i?qi(e,(t=n||void 0===t?1:is(t))<0?0:t,i):[]},Rn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?qi(e,0,(t=i-(t=n||void 0===t?1:is(t)))<0?0:t):[]},Rn.dropRightWhile=function(e,t){return e&&e.length?Ji(e,Yr(t,3),!0,!0):[]},Rn.dropWhile=function(e,t){return e&&e.length?Ji(e,Yr(t,3),!0):[]},Rn.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&aa(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=is(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:is(i))<0&&(i+=r),i=n>i?0:rs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Rn.filter=function(e,t){return(Po(e)?st:ii)(e,Yr(t,3))},Rn.flatMap=function(e,t){return ri(ho(e,t),1)},Rn.flatMapDeep=function(e,t){return ri(ho(e,t),1/0)},Rn.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ri(ho(e,t),n)},Rn.flatten=Pa,Rn.flattenDeep=function(e){return null!=e&&e.length?ri(e,1/0):[]},Rn.flattenDepth=function(e,t){return null!=e&&e.length?ri(e,t=void 0===t?1:is(t)):[]},Rn.flip=function(e){return Nr(e,512)},Rn.flow=Us,Rn.flowRight=Ws,Rn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Rn.functions=function(e){return null==e?[]:ui(e,_s(e))},Rn.functionsIn=function(e){return null==e?[]:ui(e,ws(e))},Rn.groupBy=lo,Rn.initial=function(e){return null!=e&&e.length?qi(e,0,-1):[]},Rn.intersection=La,Rn.intersectionBy=Fa,Rn.intersectionWith=Na,Rn.invert=ms,Rn.invertBy=ys,Rn.invokeMap=uo,Rn.iteratee=$s,Rn.keyBy=co,Rn.keys=_s,Rn.keysIn=ws,Rn.map=ho,Rn.mapKeys=function(e,t){var n={};return t=Yr(t,3),si(e,function(e,i,r){Gn(n,t(e,i,r),e)}),n},Rn.mapValues=function(e,t){var n={};return t=Yr(t,3),si(e,function(e,i,r){Gn(n,i,t(e,i,r))}),n},Rn.matches=function(e){return Ei(Zn(e,1))},Rn.matchesProperty=function(e,t){return Ri(e,Zn(t,1))},Rn.memoize=xo,Rn.merge=ks,Rn.mergeWith=xs,Rn.method=Ys,Rn.methodOf=Zs,Rn.mixin=Ks,Rn.negate=So,Rn.nthArg=function(e){return e=is(e),Fi(function(t){return Ti(t,e)})},Rn.omit=Ss,Rn.omitBy=function(e,t){return Es(e,So(Yr(t)))},Rn.once=function(e){return mo(2,e)},Rn.orderBy=function(e,t,n,i){return null==e?[]:(Po(t)||(t=null==t?[]:[t]),Po(n=i?void 0:n)||(n=null==n?[]:[n]),Ii(e,t,n))},Rn.over=Qs,Rn.overArgs=Co,Rn.overEvery=Js,Rn.overSome=el,Rn.partial=Eo,Rn.partialRight=Ro,Rn.partition=fo,Rn.pick=Cs,Rn.pickBy=Es,Rn.property=tl,Rn.propertyOf=function(e){return function(t){return null==e?void 0:ci(e,t)}},Rn.pull=Va,Rn.pullAll=ja,Rn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Oi(e,t,Yr(n,2)):e},Rn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Oi(e,t,void 0,n):e},Rn.pullAt=Ba,Rn.range=nl,Rn.rangeRight=il,Rn.rearg=Ao,Rn.reject=function(e,t){return(Po(e)?st:ii)(e,So(Yr(t,3)))},Rn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=Yr(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Pi(e,r),n},Rn.rest=function(e,t){if("function"!=typeof e)throw new ye(r);return Fi(e,t=void 0===t?t:is(t))},Rn.reverse=Ha,Rn.sampleSize=function(e,t,n){return t=(n?aa(e,t,n):void 0===t)?1:is(t),(Po(e)?Vn:zi)(e,t)},Rn.set=function(e,t,n){return null==e?e:Vi(e,t,n)},Rn.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Vi(e,t,n,i)},Rn.shuffle=function(e){return(Po(e)?jn:Hi)(e)},Rn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&aa(e,t,n)?(t=0,n=i):(t=null==t?0:is(t),n=void 0===n?i:is(n)),qi(e,t,n)):[]},Rn.sortBy=po,Rn.sortedUniq=function(e){return e&&e.length?$i(e):[]},Rn.sortedUniqBy=function(e,t){return e&&e.length?$i(e,Yr(t,2)):[]},Rn.split=function(e,t,n){return n&&"number"!=typeof n&&aa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Zi(t))&&Ft(e)?sr(qt(e),0,n):e.split(t,n):[]},Rn.spread=function(e,t){if("function"!=typeof e)throw new ye(r);return t=null==t?0:an(is(t),0),Fi(function(n){var i=n[t],r=sr(n,0,t);return i&&ht(r,i),nt(e,this,r)})},Rn.tail=function(e){var t=null==e?0:e.length;return t?qi(e,1,t):[]},Rn.take=function(e,t,n){return e&&e.length?qi(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},Rn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?qi(e,(t=i-(t=n||void 0===t?1:is(t)))<0?0:t,i):[]},Rn.takeRightWhile=function(e,t){return e&&e.length?Ji(e,Yr(t,3),!1,!0):[]},Rn.takeWhile=function(e,t){return e&&e.length?Ji(e,Yr(t,3)):[]},Rn.tap=function(e,t){return t(e),e},Rn.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new ye(r);return qo(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),_o(e,t,{leading:i,maxWait:t,trailing:a})},Rn.thru=to,Rn.toArray=ts,Rn.toPairs=Rs,Rn.toPairsIn=As,Rn.toPath=function(e){return Po(e)?ct(e,Ca):Xo(e)?[e]:vr(Sa(ss(e)))},Rn.toPlainObject=os,Rn.transform=function(e,t,n){var i=Po(e),r=i||No(e)||Qo(e);if(t=Yr(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:qo(e)&&jo(a)?An(We(e)):{}}return(r?rt:si)(e,function(e,i,r){return t(n,e,i,r)}),n},Rn.unary=function(e){return go(e,1)},Rn.union=qa,Rn.unionBy=Ua,Rn.unionWith=Wa,Rn.uniq=function(e){return e&&e.length?Ki(e):[]},Rn.uniqBy=function(e,t){return e&&e.length?Ki(e,Yr(t,2)):[]},Rn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Ki(e,void 0,t):[]},Rn.unset=function(e,t){return null==e||Xi(e,t)},Rn.unzip=Ga,Rn.unzipWith=$a,Rn.update=function(e,t,n){return null==e?e:Qi(e,t,rr(n))},Rn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Qi(e,t,rr(n),i)},Rn.values=Ts,Rn.valuesIn=function(e){return null==e?[]:At(e,ws(e))},Rn.without=Ya,Rn.words=js,Rn.wrap=function(e,t){return Eo(rr(t),e)},Rn.xor=Za,Rn.xorBy=Ka,Rn.xorWith=Xa,Rn.zip=Qa,Rn.zipObject=function(e,t){return nr(e||[],t||[],Hn)},Rn.zipObjectDeep=function(e,t){return nr(e||[],t||[],Vi)},Rn.zipWith=Ja,Rn.entries=Rs,Rn.entriesIn=As,Rn.extend=us,Rn.extendWith=cs,Ks(Rn,Rn),Rn.add=sl,Rn.attempt=Bs,Rn.camelCase=Is,Rn.capitalize=Ds,Rn.ceil=ll,Rn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Yn(as(e),t,n)},Rn.clone=function(e){return Zn(e,4)},Rn.cloneDeep=function(e){return Zn(e,5)},Rn.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},Rn.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},Rn.conformsTo=function(e,t){return null==t||Kn(e,t,_s(t))},Rn.deburr=Os,Rn.defaultTo=function(e,t){return null==e||e!=e?t:e},Rn.divide=ul,Rn.endsWith=function(e,t,n){e=ss(e),t=Zi(t);var i=e.length,r=n=void 0===n?i:Yn(is(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},Rn.eq=To,Rn.escape=function(e){return(e=ss(e))&&z.test(e)?e.replace(F,Mt):e},Rn.escapeRegExp=function(e){return(e=ss(e))&&G.test(e)?e.replace(W,"\\$&"):e},Rn.every=function(e,t,n){var i=Po(e)?ot:ti;return n&&aa(e,t,n)&&(t=void 0),i(e,Yr(t,3))},Rn.find=ro,Rn.findIndex=Da,Rn.findKey=function(e,t){return gt(e,Yr(t,3),si)},Rn.findLast=ao,Rn.findLastIndex=Oa,Rn.findLastKey=function(e,t){return gt(e,Yr(t,3),li)},Rn.floor=cl,Rn.forEach=oo,Rn.forEachRight=so,Rn.forIn=function(e,t){return null==e?e:ai(e,Yr(t,3),ws)},Rn.forInRight=function(e,t){return null==e?e:oi(e,Yr(t,3),ws)},Rn.forOwn=function(e,t){return e&&si(e,Yr(t,3))},Rn.forOwnRight=function(e,t){return e&&li(e,Yr(t,3))},Rn.get=vs,Rn.gt=Io,Rn.gte=Do,Rn.has=function(e,t){return null!=e&&ta(e,t,pi)},Rn.hasIn=gs,Rn.head=Ma,Rn.identity=Gs,Rn.includes=function(e,t,n,i){e=Lo(e)?e:Ts(e),n=n&&!i?is(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Ko(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&yt(e,t,n)>-1},Rn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=an(i+r,0)),yt(e,t,r)},Rn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=on(t,n)&&e<an(t,n)}(e=as(e),t,n)},Rn.invoke=bs,Rn.isArguments=Oo,Rn.isArray=Po,Rn.isArrayBuffer=Mo,Rn.isArrayLike=Lo,Rn.isArrayLikeObject=Fo,Rn.isBoolean=function(e){return!0===e||!1===e||Uo(e)&&di(e)==u},Rn.isBuffer=No,Rn.isDate=zo,Rn.isElement=function(e){return Uo(e)&&1===e.nodeType&&!$o(e)},Rn.isEmpty=function(e){if(null==e)return!0;if(Lo(e)&&(Po(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Qo(e)||Oo(e)))return!e.length;var t=ea(e);if(t==p||t==y)return!e.size;if(ua(e))return!xi(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},Rn.isEqual=function(e,t){return bi(e,t)},Rn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?bi(e,t,void 0,n):!!i},Rn.isError=Vo,Rn.isFinite=function(e){return"number"==typeof e&&tn(e)},Rn.isFunction=jo,Rn.isInteger=Bo,Rn.isLength=Ho,Rn.isMap=Wo,Rn.isMatch=function(e,t){return e===t||_i(e,t,Kr(t))},Rn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_i(e,t,Kr(t),n)},Rn.isNaN=function(e){return Go(e)&&e!=+e},Rn.isNative=function(e){if(la(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wi(e)},Rn.isNil=function(e){return null==e},Rn.isNull=function(e){return null===e},Rn.isNumber=Go,Rn.isObject=qo,Rn.isObjectLike=Uo,Rn.isPlainObject=$o,Rn.isRegExp=Yo,Rn.isSafeInteger=function(e){return Bo(e)&&e>=-9007199254740991&&e<=9007199254740991},Rn.isSet=Zo,Rn.isString=Ko,Rn.isSymbol=Xo,Rn.isTypedArray=Qo,Rn.isUndefined=function(e){return void 0===e},Rn.isWeakMap=function(e){return Uo(e)&&ea(e)==w},Rn.isWeakSet=function(e){return Uo(e)&&"[object WeakSet]"==di(e)},Rn.join=function(e,t){return null==e?"":nn.call(e,t)},Rn.kebabCase=Ps,Rn.last=za,Rn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=is(n))<0?an(i+r,0):on(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):mt(e,_t,r,!0)},Rn.lowerCase=Ms,Rn.lowerFirst=Ls,Rn.lt=Jo,Rn.lte=es,Rn.max=function(e){return e&&e.length?ni(e,Gs,fi):void 0},Rn.maxBy=function(e,t){return e&&e.length?ni(e,Yr(t,2),fi):void 0},Rn.mean=function(e){return wt(e,Gs)},Rn.meanBy=function(e,t){return wt(e,Yr(t,2))},Rn.min=function(e){return e&&e.length?ni(e,Gs,Si):void 0},Rn.minBy=function(e,t){return e&&e.length?ni(e,Yr(t,2),Si):void 0},Rn.stubArray=rl,Rn.stubFalse=al,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=hl,Rn.nth=function(e,t){return e&&e.length?Ti(e,is(t)):void 0},Rn.noConflict=function(){return Ue._===this&&(Ue._=Ae),this},Rn.noop=Xs,Rn.now=vo,Rn.pad=function(e,t,n){e=ss(e);var i=(t=is(t))?Ht(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Ir(Qt(r),n)+e+Ir(Xt(r),n)},Rn.padEnd=function(e,t,n){e=ss(e);var i=(t=is(t))?Ht(e):0;return t&&i<t?e+Ir(t-i,n):e},Rn.padStart=function(e,t,n){e=ss(e);var i=(t=is(t))?Ht(e):0;return t&&i<t?Ir(t-i,n)+e:e},Rn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(ss(e).replace(Y,""),t||0)},Rn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&aa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=un();return on(e+r*(t-e+je("1e-"+((r+"").length-1))),t)}return Mi(e,t)},Rn.reduce=function(e,t,n){var i=Po(e)?dt:St,r=arguments.length<3;return i(e,Yr(t,4),n,r,Jn)},Rn.reduceRight=function(e,t,n){var i=Po(e)?ft:St,r=arguments.length<3;return i(e,Yr(t,4),n,r,ei)},Rn.repeat=function(e,t,n){return t=(n?aa(e,t,n):void 0===t)?1:is(t),Li(ss(e),t)},Rn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rn.result=function(e,t,n){var i=-1,r=(t=ar(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var a=null==e?void 0:e[Ca(t[i])];void 0===a&&(i=r,a=n),e=jo(a)?a.call(e):a}return e},Rn.round=dl,Rn.runInContext=e,Rn.sample=function(e){return(Po(e)?zn:Ni)(e)},Rn.size=function(e){if(null==e)return 0;if(Lo(e))return Ko(e)?Ht(e):e.length;var t=ea(e);return t==p||t==y?e.size:xi(e).length},Rn.snakeCase=Fs,Rn.some=function(e,t,n){var i=Po(e)?pt:Ui;return n&&aa(e,t,n)&&(t=void 0),i(e,Yr(t,3))},Rn.sortedIndex=function(e,t){return Wi(e,t)},Rn.sortedIndexBy=function(e,t,n){return Gi(e,t,Yr(n,2))},Rn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&To(e[i],t))return i}return-1},Rn.sortedLastIndex=function(e,t){return Wi(e,t,!0)},Rn.sortedLastIndexBy=function(e,t,n){return Gi(e,t,Yr(n,2),!0)},Rn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Wi(e,t,!0)-1;if(To(e[n],t))return n}return-1},Rn.startCase=Ns,Rn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Yn(is(n),0,e.length),t=Zi(t),e.slice(n,n+t.length)==t},Rn.subtract=fl,Rn.sum=function(e){return e&&e.length?Ct(e,Gs):0},Rn.sumBy=function(e,t){return e&&e.length?Ct(e,Yr(t,2)):0},Rn.template=function(e,t,n){var i=Rn.templateSettings;n&&aa(e,t,n)&&(t=void 0),e=ss(e),t=cs({},t,i,zr);var r,a,o=cs({},t.imports,i.imports,zr),s=_s(o),l=At(o,s),u=0,c=t.interpolate||ue,h="__p += '",d=ge((t.escape||ue).source+"|"+c.source+"|"+(c===B?te:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(d,function(t,n,i,o,s,l){return i||(i=o),h+=e.slice(u,l).replace(ce,Lt),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var p=xe.call(t,"variable")&&t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(O,""):h).replace(P,"$1").replace(M,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Bs(function(){return fe(s,f+"return "+h).apply(void 0,l)});if(v.source=h,Vo(v))throw v;return v},Rn.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,i=on(e,4294967295);e-=4294967295;for(var r=Et(i,t=Yr(t));++n<e;)t(n);return r},Rn.toFinite=ns,Rn.toInteger=is,Rn.toLength=rs,Rn.toLower=function(e){return ss(e).toLowerCase()},Rn.toNumber=as,Rn.toSafeInteger=function(e){return e?Yn(is(e),-9007199254740991,9007199254740991):0===e?e:0},Rn.toString=ss,Rn.toUpper=function(e){return ss(e).toUpperCase()},Rn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace($,"");if(!e||!(t=Zi(t)))return e;var i=qt(e),r=qt(t);return sr(i,It(i,r),Dt(i,r)+1).join("")},Rn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Zi(t)))return e;var i=qt(e);return sr(i,0,Dt(i,qt(t))+1).join("")},Rn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Zi(t)))return e;var i=qt(e);return sr(i,It(i,qt(t))).join("")},Rn.truncate=function(e,t){var n=30,i="...";if(qo(t)){var r="separator"in t?t.separator:r;n="length"in t?is(t.length):n,i="omission"in t?Zi(t.omission):i}var a=(e=ss(e)).length;if(Ft(e)){var o=qt(e);a=o.length}if(n>=a)return e;var s=n-Ht(i);if(s<1)return i;var l=o?sr(o,0,s).join(""):e.slice(0,s);if(void 0===r)return l+i;if(o&&(s+=l.length-s),Yo(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=ge(r.source,ss(ne.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var h=u.index;l=l.slice(0,void 0===h?s:h)}}else if(e.indexOf(Zi(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},Rn.unescape=function(e){return(e=ss(e))&&N.test(e)?e.replace(L,Ut):e},Rn.uniqueId=function(e){var t=++Se;return ss(e)+t},Rn.upperCase=zs,Rn.upperFirst=Vs,Rn.each=oo,Rn.eachRight=so,Rn.first=Ma,Ks(Rn,(ol={},si(Rn,function(e,t){xe.call(Rn.prototype,t)||(ol[t]=e)}),ol),{chain:!1}),Rn.VERSION="4.17.15",rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Rn[e].placeholder=Rn}),rt(["drop","take"],function(e,t){Dn.prototype[e]=function(n){n=void 0===n?1:an(is(n),0);var i=this.__filtered__&&!t?new Dn(this):this.clone();return i.__filtered__?i.__takeCount__=on(n,i.__takeCount__):i.__views__.push({size:on(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;Dn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),rt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[n](1)}}),Dn.prototype.compact=function(){return this.filter(Gs)},Dn.prototype.find=function(e){return this.filter(e).head()},Dn.prototype.findLast=function(e){return this.reverse().find(e)},Dn.prototype.invokeMap=Fi(function(e,t){return"function"==typeof e?new Dn(this):this.map(function(n){return mi(n,e,t)})}),Dn.prototype.reject=function(e){return this.filter(So(Yr(e)))},Dn.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dn.prototype.toArray=function(){return this.take(4294967295)},si(Dn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Rn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(Rn.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,s=t instanceof Dn,l=o[0],u=s||Po(t),c=function(e){var t=r.apply(Rn,ht([e],o));return i&&h?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=a&&!h,p=s&&!d;if(!a&&u){t=p?t:new Dn(this);var v=e.apply(t,o);return v.__actions__.push({func:to,args:[c],thisArg:void 0}),new In(v,h)}return f&&p?e.apply(this,o):(v=this.thru(c),f?i?v.value()[0]:v.value():v)})}),rt(["pop","push","shift","sort","splice","unshift"],function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Rn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Po(r)?r:[],e)}return this[n](function(n){return t.apply(Po(n)?n:[],e)})}}),si(Dn.prototype,function(e,t){var n=Rn[t];if(n){var i=n.name+"";xe.call(yn,i)||(yn[i]=[]),yn[i].push({name:t,func:n})}}),yn[Er(void 0,2).name]=[{name:"wrapper",func:void 0}],Dn.prototype.clone=function(){var e=new Dn(this.__wrapped__);return e.__actions__=vr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vr(this.__views__),e},Dn.prototype.reverse=function(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Po(e),i=t<0,r=n?e.length:0,a=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=on(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,u=i?s:o-1,c=this.__iteratees__,h=c.length,d=0,f=on(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return er(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var v=-1,g=e[u+=t];++v<h;){var m=c[v],y=m.type,b=(0,m.iteratee)(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}p[d++]=g}return p},Rn.prototype.at=no,Rn.prototype.chain=function(){return eo(this)},Rn.prototype.commit=function(){return new In(this.value(),this.__chain__)},Rn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Rn.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var i=Ra(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},Rn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;return this.__actions__.length&&(t=new Dn(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ha],thisArg:void 0}),new In(t,this.__chain__)}return this.thru(Ha)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return er(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,xt&&(Rn.prototype[xt]=function(){return this}),Rn}();Ue._=Wt,void 0===(i=(function(){return Wt}).call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n("YuTi")(e))},WuQa:function(e,t,o){e.exports=function(){"use strict";var e=[],t=window.document,o=Object.getPrototypeOf,l=e.slice,c=e.concat,f=e.push,p=e.indexOf,g={},y=g.toString,_=g.hasOwnProperty,w=_.toString,k=w.call(Object),x={},S=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},C=function(e){return null!=e&&e===e.window},E={type:!0,src:!0,noModule:!0};function R(e,n,i){var r,a=(n=n||t).createElement("script");if(a.text=e,i)for(r in E)i[r]&&(a[r]=i[r]);n.head.appendChild(a).parentNode.removeChild(a)}function A(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?g[y.call(e)]||"object":typeof e}var T="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",I=function e(t,n){return new e.fn.init(t,n)},D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function O(e){var t=!!e&&"length"in e&&e.length,n=A(e);return!S(e)&&!C(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}I.fn=I.prototype={jquery:T,constructor:I,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return I.each(this,e)},map:function(e){return this.pushStack(I.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:e.sort,splice:e.splice},I.extend=I.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||S(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(i=e[t])&&(u&&i&&(I.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,a=n&&Array.isArray(n)?n:[]):a=n&&I.isPlainObject(n)?n:{},o[t]=I.extend(u,a,i)):void 0!==i&&(o[t]=i));return o},I.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==y.call(e)||(t=o(e))&&("function"!=typeof(n=_.call(t,"constructor")&&t.constructor)||w.call(n)!==k))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){R(e)},each:function(e,t){var n,i=0;if(O(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(D,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(O(Object(e))?I.merge(n,"string"==typeof e?[e]:e):f.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:p.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(O(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return c.apply([],o)},guid:1,support:x}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=e[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){g["[object "+t+"]"]=t.toLowerCase()});var P=function(e){var t,n,i,r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_="sizzle"+1*new Date,w=e.document,k=0,x=0,S=oe(),C=oe(),E=oe(),R=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,T=[],I=T.pop,D=T.push,O=T.push,P=T.slice,M=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",V=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",j=new RegExp(F+"+","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),W=new RegExp(V),G=new RegExp("^"+N+"$"),$={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},re=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{O.apply(T=P.call(w.childNodes),w.childNodes)}catch(ke){O={apply:T.length?function(e,t){D.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var a,s,u,c,h,p,m,y=t&&t.ownerDocument,k=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&d(t),t=t||f,v)){if(11!==k&&(h=X.exec(e)))if(a=h[1]){if(9===k){if(!(u=t.getElementById(a)))return i;if(u.id===a)return i.push(u),i}else if(y&&(u=y.getElementById(a))&&b(t,u)&&u.id===a)return i.push(u),i}else{if(h[2])return O.apply(i,t.getElementsByTagName(e)),i;if((a=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(a)),i}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==k)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=_),s=(p=o(e)).length;s--;)p[s]="#"+c+" "+ge(p[s]);m=p.join(","),y=Q.test(e)&&pe(t.parentNode)||t}if(m)try{return O.apply(i,y.querySelectorAll(m)),i}catch(x){}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,r)}function oe(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function se(e){return e[_]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(ke){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return se(function(t){return t=+t,se(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ae.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:w;return o!==f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,v=!a(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(f.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=K.test(f.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",V)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=K.test(p.compareDocumentPosition),b=t||K.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&b(w,e)?-1:t===f||t.ownerDocument===w&&b(w,t)?1:c?M(c,e)-M(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===f?-1:t===f?1:r?-1:a?1:c?M(c,e)-M(c,t):0;if(r===a)return ue(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ue(o[i],s[i]):o[i]===w?-1:s[i]===w?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(U,"='$1']"),n.matchesSelector&&v&&!E[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(ke){}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var r=i.attrHandle[t.toLowerCase()],a=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!v):void 0;return void 0!==a?a:n.attributes||!v?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,a=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(R),h){for(;t=e[a++];)t===e[a]&&(r=i.push(a));for(;r--;)e.splice(i[r],1)}return c=null,e},r=ae.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:se,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,v=a!==o?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(b=(f=(u=(c=(h=(d=g)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===k&&u[1])&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[v]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[k,f,b];break}}else if(y&&(b=f=(u=(c=(h=(d=t)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===k&&u[1]),!1===b)for(;(d=++f&&d&&d[v]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++b||(y&&((c=(h=d[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[k,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var i,a=r(e,t),o=a.length;o--;)e[i=M(e,a[o])]=!(n[i]=a[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:se(function(e){var t=[],n=[],i=s(e.replace(B,"$1"));return i[_]?se(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return ae(e,t).length>0}}),contains:se(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function ve(){}function ge(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(e,t,n){var i=t.dir,r=t.next,a=r||i,o=n&&"parentNode"===a,s=x++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r);return!1}:function(t,n,l){var u,c,h,d=[k,s];if(l){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[a])&&u[0]===k&&u[1]===s)return d[2]=u[2];if(c[a]=d,d[2]=e(t,n,l))return!0}return!1}}function ye(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),u&&t.push(s)));return o}function _e(e,t,n,i,r,a){return i&&!i[_]&&(i=_e(i)),r&&!r[_]&&(r=_e(r,a)),se(function(a,o,s,l){var u,c,h,d=[],f=[],p=o.length,v=a||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?v:be(v,d,e,s,l),m=n?r||(a?e:p||i)?[]:o:g;if(n&&n(g,m,s,l),i)for(u=be(m,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(m[f[c]]=!(g[f[c]]=h));if(a){if(r||e){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(g[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?M(a,h):d[c])>-1&&(a[u]=!(o[u]=h))}}else m=be(m===o?m.splice(p,m.length):m),r?r(null,o,m,l):O.apply(o,m)})}function we(e){for(var t,n,r,a=e.length,o=i.relative[e[0].type],s=o||i.relative[" "],l=o?1:0,c=me(function(e){return e===t},s,!0),h=me(function(e){return M(t,e)>-1},s,!0),d=[function(e,n,i){var r=!o&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,r}];l<a;l++)if(n=i.relative[e[l].type])d=[me(ye(d),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<a&&!i.relative[e[r].type];r++);return _e(l>1&&ye(d),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&we(e.slice(l,r)),r<a&&we(e=e.slice(r)),r<a&&ge(e))}d.push(n)}return ye(d)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,o=ae.tokenize=function(e,t){var n,r,a,o,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=i.preFilter;s;){for(o in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(B," ")}),s=s.slice(n.length)),i.filter)!(r=$[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):C(e,l).slice(0)},s=ae.compile=function(e,t){var n,r=[],a=[],s=E[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=we(t[n]))[_]?r.push(s):a.push(s);(s=E(e,function(e,t){var n=t.length>0,r=e.length>0,a=function(a,o,s,l,c){var h,p,g,m=0,y="0",b=a&&[],_=[],w=u,x=a||r&&i.find.TAG("*",c),S=k+=null==w?1:Math.random()||.1,C=x.length;for(c&&(u=o===f||o||c);y!==C&&null!=(h=x[y]);y++){if(r&&h){for(p=0,o||h.ownerDocument===f||(d(h),s=!v);g=e[p++];)if(g(h,o||f,s)){l.push(h);break}c&&(k=S)}n&&((h=!g&&h)&&m--,a&&b.push(h))}if(m+=y,n&&y!==m){for(p=0;g=t[p++];)g(b,_,o,s);if(a){if(m>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(l));_=be(_)}O.apply(l,_),c&&!a&&_.length>0&&m+t.length>1&&ae.uniqueSort(l)}return c&&(k=S,u=w),b};return n?se(a):a}(a,r))).selector=e}return s},l=ae.select=function(e,t,n,r){var a,l,u,c,h,d="function"==typeof e&&e,f=!r&&o(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&v&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=$.needsContext.test(e)?0:l.length;a--&&!i.relative[c=(u=l[a]).type];)if((h=i.find[c])&&(r=h(u.matches[0].replace(J,ee),Q.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(a,1),!(e=r.length&&ge(l)))return O.apply(n,r),n;break}}return(d||s(e,f))(r,t,!v,n,!t||Q.test(e)&&pe(t.parentNode)||t),n},n.sortStable=_.split("").sort(R).join("")===_,n.detectDuplicates=!!h,d(),ae}(window);I.find=P,(I.expr=P.selectors)[":"]=I.expr.pseudos,I.uniqueSort=I.unique=P.uniqueSort,I.text=P.getText,I.isXMLDoc=P.isXML,I.contains=P.contains,I.escapeSelector=P.escape;var M=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&I(e).is(n))break;i.push(e)}return i},L=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=I.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,n){return S(t)?I.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?I.grep(e,function(e){return e===t!==n}):"string"!=typeof t?I.grep(e,function(e){return p.call(t,e)>-1!==n}):I.filter(t,e,n)}I.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?I.find.matchesSelector(i,e)?[i]:[]:I.find.matches(e,I.grep(t,function(e){return 1===e.nodeType}))},I.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(I(e).filter(function(){for(t=0;t<i;t++)if(I.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)I.find(e,r[t],n);return i>1?I.uniqueSort(n):n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"==typeof e&&F.test(e)?I(e):e||[],!1).length}});var j,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(e,n,i){var r,a;if(!e)return this;if(i=i||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(I.merge(this,I.parseHTML(r[1],(n=n instanceof I?n[0]:n)&&n.nodeType?n.ownerDocument||n:t,!0)),z.test(r[1])&&I.isPlainObject(n))for(r in n)S(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return(a=t.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):S(e)?void 0!==i.ready?i.ready(e):e(I):I.makeArray(e,this)}).prototype=I.fn,j=I(t);var H=/^(?:parents|prev(?:Until|All))/,q={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}I.fn.extend({has:function(e){var t=I(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(I.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&I(e);if(!F.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&I.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?I.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?p.call(I(e),this[0]):p.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M(e,"parentNode")},parentsUntil:function(e,t,n){return M(e,"parentNode",n)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return M(e,"nextSibling")},prevAll:function(e){return M(e,"previousSibling")},nextUntil:function(e,t,n){return M(e,"nextSibling",n)},prevUntil:function(e,t,n){return M(e,"previousSibling",n)},siblings:function(e){return L((e.parentNode||{}).firstChild,e)},children:function(e){return L(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),I.merge([],e.childNodes))}},function(e,t){I.fn[e]=function(n,i){var r=I.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=I.filter(i,r)),this.length>1&&(q[e]||I.uniqueSort(r),H.test(e)&&r.reverse()),this.pushStack(r)}});var W=/[^\x20\t\r\n\f]+/g;function G(e){return e}function $(e){throw e}function Y(e,t,n,i){var r;try{e&&S(r=e.promise)?r.call(e).done(t).fail(n):e&&S(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}I.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return I.each(e.match(W)||[],function(e,n){t[n]=!0}),t}(e):I.extend({},e);var t,n,i,r,a=[],o=[],s=-1,l=function(){for(r=r||e.once,i=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){I.each(n,function(n,i){S(i)?e.unique&&u.has(i)||a.push(i):i&&i.length&&"string"!==A(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return I.each(arguments,function(e,t){for(var n;(n=I.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(e){return e?I.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||t||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},I.extend({Deferred:function(e){var t=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return I.Deferred(function(n){I.each(t,function(t,i){var a=S(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=a&&a.apply(this,arguments);e&&S(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var r=0;function a(e,t,n,i){return function(){var o=this,s=arguments,l=function(){var l,u;if(!(e<r)){if((l=n.apply(o,s))===t.promise())throw new TypeError("Thenable self-resolution");S(u=l&&("object"==typeof l||"function"==typeof l)&&l.then)?i?u.call(l,a(r,t,G,i),a(r,t,$,i)):(r++,u.call(l,a(r,t,G,i),a(r,t,$,i),a(r,t,G,t.notifyWith))):(n!==G&&(o=void 0,s=[l]),(i||t.resolveWith)(o,s))}},u=i?l:function(){try{l()}catch(i){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(i,u.stackTrace),e+1>=r&&(n!==$&&(o=void 0,s=[i]),t.rejectWith(o,s))}};e?u():(I.Deferred.getStackHook&&(u.stackTrace=I.Deferred.getStackHook()),window.setTimeout(u))}}return I.Deferred(function(r){t[0][3].add(a(0,r,S(i)?i:G,r.notifyWith)),t[1][3].add(a(0,r,S(e)?e:G)),t[2][3].add(a(0,r,S(n)?n:$))}).promise()},promise:function(e){return null!=e?I.extend(e,i):i}},r={};return I.each(t,function(e,a){var o=a[2],s=a[5];i[a[1]]=o.add,s&&o.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(a[3].fire),r[a[0]]=function(){return r[a[0]+"With"](this===r?void 0:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),a=I.Deferred(),o=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(Y(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||S(r[n]&&r[n].then)))return a.then();for(;n--;)Y(r[n],o(n),a.reject);return a.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&Z.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},I.readyException=function(e){window.setTimeout(function(){throw e})};var K=I.Deferred();function X(){t.removeEventListener("DOMContentLoaded",X),window.removeEventListener("load",X),I.ready()}I.fn.ready=function(e){return K.then(e).catch(function(e){I.readyException(e)}),this},I.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==e&&--I.readyWait>0||K.resolveWith(t,[I]))}}),I.ready.then=K.then,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(I.ready):(t.addEventListener("DOMContentLoaded",X),window.addEventListener("load",X));var Q=function e(t,n,i,r,a,o,s){var l=0,u=t.length,c=null==i;if("object"===A(i))for(l in a=!0,i)e(t,n,l,i[l],!0,o,s);else if(void 0!==r&&(a=!0,S(r)||(s=!0),c&&(s?(n.call(t,r),n=null):(c=n,n=function(e,t,n){return c.call(I(e),n)})),n))for(;l<u;l++)n(t[l],i,s?r:r.call(t[l],l,n(t[l],i)));return a?t:c?n.call(t):u?n(t[0],i):o},J=/^-ms-/,ee=/-([a-z])/g;function te(e,t){return t.toUpperCase()}function ne(e){return e.replace(J,"ms-").replace(ee,te)}var ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function re(){this.expando=I.expando+re.uid++}re.uid=1,re.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[ne(t)]=n;else for(i in t)r[ne(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ne(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ne):(t=ne(t))in i?[t]:t.match(W)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||I.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!I.isEmptyObject(t)}};var ae=new re,oe=new re,se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ue(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(le,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:se.test(e)?JSON.parse(e):e)}(n)}catch(r){}oe.set(e,t,n)}else n=void 0;return n}I.extend({hasData:function(e){return oe.hasData(e)||ae.hasData(e)},data:function(e,t,n){return oe.access(e,t,n)},removeData:function(e,t){oe.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),I.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=oe.get(a),1===a.nodeType&&!ae.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=ne(i.slice(5)),ue(a,i,r[i]));ae.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){oe.set(this,e)}):Q(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=oe.get(a,e))||void 0!==(n=ue(a,e))?n:void 0;this.each(function(){oe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){oe.remove(this,e)})}}),I.extend({queue:function(e,t,n){var i;if(e)return i=ae.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=ae.access(e,t,I.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=I.queue(e,t=t||"fx"),i=n.length,r=n.shift(),a=I._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){I.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:I.Callbacks("once memory").add(function(){ae.remove(e,[t+"queue",n])})})}}),I.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?I.queue(this[0],e):void 0===t?this:this.each(function(){var n=I.queue(this,e,t);I._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&I.dequeue(this,e)})},dequeue:function(e){return this.each(function(){I.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=I.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=ae.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),de=["Top","Right","Bottom","Left"],fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&I.contains(e.ownerDocument,e)&&"none"===I.css(e,"display")},pe=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=n.apply(e,i||[]),t)e.style[a]=o[a];return r},ve={};function ge(e){var t,n=e.ownerDocument,i=e.nodeName,r=ve[i];return r||(t=n.body.appendChild(n.createElement(i)),r=I.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ve[i]=r,r)}function me(e,t){for(var n,i,r=[],a=0,o=e.length;a<o;a++)(i=e[a]).style&&(n=i.style.display,t?("none"===n&&(r[a]=ae.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&fe(i)&&(r[a]=ge(i))):"none"!==n&&(r[a]="none",ae.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(e[a].style.display=r[a]);return e}I.fn.extend({show:function(){return me(this,!0)},hide:function(){return me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){fe(this)?I(this).show():I(this).hide()})}});var ye=/^(?:checkbox|radio)$/i,be=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,_e=/^$|^module$|\/(?:java|ecma)script/i,we={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ke(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?I.merge([e],n):n}function xe(e,t){for(var n=0,i=e.length;n<i;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}we.optgroup=we.option,we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td;var Se=/<|&#?\w+;/;function Ce(e,t,n,i,r){for(var a,o,s,l,u,c,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((a=e[f])||0===a)if("object"===A(a))I.merge(d,a.nodeType?[a]:a);else if(Se.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(be.exec(a)||["",""])[1].toLowerCase(),o.innerHTML=(l=we[s]||we._default)[1]+I.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;I.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(t.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(i&&I.inArray(a,i)>-1)r&&r.push(a);else if(u=I.contains(a.ownerDocument,a),o=ke(h.appendChild(a),"script"),u&&xe(o),n)for(c=0;a=o[c++];)_e.test(a.type||"")&&n.push(a);return h}!function(){var e=t.createDocumentFragment().appendChild(t.createElement("div")),n=t.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),x.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ee=t.documentElement,Re=/^key/,Ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function De(){return!1}function Oe(){try{return t.activeElement}catch(di){}}function Pe(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Pe(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=De;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return I().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=I.guid++)),e.each(function(){I.event.add(this,t,r,i,n)})}I.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,u,c,h,d,f,p,v,g=ae.get(e);if(g)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&I.find.matchesSelector(Ee,r),n.guid||(n.guid=I.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return void 0!==I&&I.event.triggered!==t.type?I.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(W)||[""]).length;u--;)f=v=(s=Te.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=I.event.special[f]||{},h=I.event.special[f=(r?h.delegateType:h.bindType)||f]||{},c=I.extend({type:f,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&I.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,o)||e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),I.event.global[f]=!0)},remove:function(e,t,n,i,r){var a,o,s,l,u,c,h,d,f,p,v,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(W)||[""]).length;u--;)if(f=v=(s=Te.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=I.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!r&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||I.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)I.event.remove(e,f+t[u],n,i,!0);I.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o,s=I.event.fix(e),l=new Array(arguments.length),u=(ae.get(this,"events")||{})[s.type]||[],c=I.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=I.event.handlers.call(this,s,u),t=0;(r=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(i=((I.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?I(r,this).index(u)>-1:I.find(r,this,null,[u]).length),o[r]&&a.push(i);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(I.Event.prototype,e,{enumerable:!0,configurable:!0,get:S(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[I.expando]?e:new I.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Oe()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Oe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},I.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(I.Event=function(e,t){if(!(this instanceof I.Event))return new I.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[I.expando]=!0}).prototype={constructor:I.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Re.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ae.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},I.event.addProp),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||I.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),I.fn.extend({on:function(e,t,n,i){return Pe(this,e,t,n,i)},one:function(e,t,n,i){return Pe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,I(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each(function(){I.event.remove(this,e,n,t)})}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ze(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&I(e).children("tbody")[0]||e}function Ve(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,i,r,a,o,s,l,u;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.access(e),o=ae.set(t,a),u=a.events))for(r in delete o.handle,o.events={},u)for(n=0,i=u[r].length;n<i;n++)I.event.add(t,r,u[r][n]);oe.hasData(e)&&(s=oe.access(e),l=I.extend({},s),oe.set(t,l))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,i){t=c.apply([],t);var r,a,o,s,l,u,h=0,d=e.length,f=d-1,p=t[0],v=S(p);if(v||d>1&&"string"==typeof p&&!x.checkClone&&Fe.test(p))return e.each(function(r){var a=e.eq(r);v&&(t[0]=p.call(this,r,a.html())),qe(a,t,n,i)});if(d&&(a=(r=Ce(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=I.map(ke(r,"script"),Ve)).length;h<d;h++)l=r,h!==f&&(l=I.clone(l,!0,!0),s&&I.merge(o,ke(l,"script"))),n.call(e[h],l,h);if(s)for(u=o[o.length-1].ownerDocument,I.map(o,je),h=0;h<s;h++)_e.test((l=o[h]).type||"")&&!ae.access(l,"globalEval")&&I.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?I._evalUrl&&I._evalUrl(l.src):R(l.textContent.replace(Ne,""),u,l))}return e}function Ue(e,t,n){for(var i,r=t?I.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||I.cleanData(ke(i)),i.parentNode&&(n&&I.contains(i.ownerDocument,i)&&xe(ke(i,"script")),i.parentNode.removeChild(i));return e}I.extend({htmlPrefilter:function(e){return e.replace(Me,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s=e.cloneNode(!0),l=I.contains(e.ownerDocument,e);if(!(x.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(o=ke(s),i=0,r=(a=ke(e)).length;i<r;i++)He(a[i],o[i]);if(t)if(n)for(a=a||ke(e),o=o||ke(s),i=0,r=a.length;i<r;i++)Be(a[i],o[i]);else Be(e,s);return(o=ke(s,"script")).length>0&&xe(o,!l&&ke(e,"script")),s},cleanData:function(e){for(var t,n,i,r=I.event.special,a=0;void 0!==(n=e[a]);a++)if(ie(n)){if(t=n[ae.expando]){if(t.events)for(i in t.events)r[i]?I.event.remove(n,i):I.removeEvent(n,i,t.handle);n[ae.expando]=void 0}n[oe.expando]&&(n[oe.expando]=void 0)}}}),I.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return Q(this,function(e){return void 0===e?I.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return qe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)})},prepend:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(I.cleanData(ke(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return I.clone(this,e,t)})},html:function(e){return Q(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!we[(be.exec(e)||["",""])[1].toLowerCase()]){e=I.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(I.cleanData(ke(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,function(t){var n=this.parentNode;I.inArray(this,e)<0&&(I.cleanData(ke(this)),n&&n.replaceChild(t,this))},e)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){I.fn[e]=function(e){for(var n,i=[],r=I(e),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),I(r[o])[t](n),f.apply(i,n.get());return this.pushStack(i)}});var We=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),Ge=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},$e=new RegExp(de.join("|"),"i");function Ye(e,t,n){var i,r,a,o,s=e.style;return(n=n||Ge(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||I.contains(e.ownerDocument,e)||(o=I.style(e,t)),!x.pixelBoxStyles()&&We.test(o)&&$e.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ee.appendChild(l).appendChild(u);var e=window.getComputedStyle(u);i="1%"!==e.top,s=12===n(e.marginLeft),u.style.right="60%",o=36===n(e.right),r=36===n(e.width),u.style.position="absolute",a=36===u.offsetWidth||"absolute",Ee.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,a,o,s,l=t.createElement("div"),u=t.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle="content-box"===u.style.backgroundClip,I.extend(x,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),a}}))}();var Ke,Xe,Qe=/^(none|table(?!-c[ea]).+)/,Je=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","Moz","ms"],it=t.createElement("div").style;function rt(e){var t=I.cssProps[e];return t||(t=I.cssProps[e]=function(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if((e=nt[n]+t)in it)return e}(e)||e),t}function at(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ot(e,t,n,i,r,a){var o="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=I.css(e,n+de[o],!0,r)),i?("content"===n&&(l-=I.css(e,"padding"+de[o],!0,r)),"margin"!==n&&(l-=I.css(e,"border"+de[o]+"Width",!0,r))):(l+=I.css(e,"padding"+de[o],!0,r),"padding"!==n?l+=I.css(e,"border"+de[o]+"Width",!0,r):s+=I.css(e,"border"+de[o]+"Width",!0,r));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))),l}function st(e,t,n){var i=Ge(e),r=Ye(e,t,i),a="border-box"===I.css(e,"boxSizing",!1,i),o=a;if(We.test(r)){if(!n)return r;r="auto"}return o=o&&(x.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===I.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(r=parseFloat(r)||0)+ot(e,t,n||(a?"border":"content"),o,i,r)+"px"}I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=ne(t),l=Je.test(t),u=e.style;if(l||(t=rt(s)),o=I.cssHooks[t]||I.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:u[t];"string"==(a=typeof n)&&(r=he.exec(n))&&r[1]&&(n=function(e,t,n,i){var r,a,o=20,s=function(){return I.css(e,t,"")},l=s(),u=n&&n[3]||(I.cssNumber[t]?"":"px"),c=(I.cssNumber[t]||"px"!==u&&+l)&&he.exec(I.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;o--;)I.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;I.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2]),r}(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(I.cssNumber[s]?"":"px")),x.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,a,o,s=ne(t);return Je.test(t)||(t=rt(s)),(o=I.cssHooks[t]||I.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Ye(e,t,i)),"normal"===r&&t in tt&&(r=tt[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),I.each(["height","width"],function(e,t){I.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(I.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?st(e,t,i):pe(e,et,function(){return st(e,t,i)})},set:function(e,n,i){var r,a=Ge(e),o="border-box"===I.css(e,"boxSizing",!1,a),s=i&&ot(e,t,i,o,a);return o&&x.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-ot(e,t,"border",!1,a)-.5)),s&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=I.css(e,t)),at(0,n,s)}}}),I.cssHooks.marginLeft=Ze(x.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-pe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),I.each({margin:"",padding:"",border:"Width"},function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+de[i]+t]=a[i]||a[i-2]||a[0];return r}},"margin"!==e&&(I.cssHooks[e+t].set=at)}),I.fn.extend({css:function(e,t){return Q(this,function(e,t,n){var i,r,a={},o=0;if(Array.isArray(t)){for(i=Ge(e),r=t.length;o<r;o++)a[t[o]]=I.css(e,t[o],!1,i);return a}return void 0!==n?I.style(e,t,n):I.css(e,t)},e,t,arguments.length>1)}}),I.fn.delay=function(e,t){return e=I.fx&&I.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var i=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(i)}})},Ke=t.createElement("input"),Xe=t.createElement("select").appendChild(t.createElement("option")),Ke.type="checkbox",x.checkOn=""!==Ke.value,x.optSelected=Xe.selected,(Ke=t.createElement("input")).value="t",Ke.type="radio",x.radioValue="t"===Ke.value;var lt,ut=I.expr.attrHandle;I.fn.extend({attr:function(e,t){return Q(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){I.removeAttr(this,e)})}}),I.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?I.prop(e,t,n):(1===a&&I.isXMLDoc(e)||(r=I.attrHooks[t.toLowerCase()]||(I.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void I.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=I.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!x.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(W);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?I.removeAttr(e,n):e.setAttribute(n,n),n}},I.each(I.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||I.find.attr;ut[t]=function(e,t,i){var r,a,o=t.toLowerCase();return i||(a=ut[o],ut[o]=r,r=null!=n(e,t,i)?o:null,ut[o]=a),r}});var ct=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function dt(e){return(e.match(W)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}function pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(W)||[]}I.fn.extend({prop:function(e,t){return Q(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[I.propFix[e]||e]})}}),I.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&I.isXMLDoc(e)||(r=I.propHooks[t=I.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=I.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(I.propHooks.selected={get:function(e){return null},set:function(e){}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){I.propFix[this.toLowerCase()]=this}),I.fn.extend({addClass:function(e){var t,n,i,r,a,o,s,l=0;if(S(e))return this.each(function(t){I(this).addClass(e.call(this,t,ft(this)))});if((t=pt(e)).length)for(;n=this[l++];)if(r=ft(n),i=1===n.nodeType&&" "+dt(r)+" "){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=dt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,a,o,s,l=0;if(S(e))return this.each(function(t){I(this).removeClass(e.call(this,t,ft(this)))});if(!arguments.length)return this.attr("class","");if((t=pt(e)).length)for(;n=this[l++];)if(r=ft(n),i=1===n.nodeType&&" "+dt(r)+" "){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=dt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):S(e)?this.each(function(n){I(this).toggleClass(e.call(this,n,ft(this),t),t)}):this.each(function(){var t,r,a,o;if(i)for(r=0,a=I(this),o=pt(e);t=o[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=ft(this))&&ae.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ae.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+dt(ft(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;I.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=S(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,I(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=I.map(r,function(e){return null==e?"":e+""})),(t=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=I.valHooks[r.type]||I.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=I.find.attr(e,"value");return null!=t?t:dt(I.text(e))}},select:{get:function(e){var t,n,i,r=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=I(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=I.makeArray(t),o=r.length;o--;)((i=r[o]).selected=I.inArray(I.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=I.inArray(I(e).val(),t)>-1}},x.checkOn||(I.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),x.focusin="onfocusin"in window;var gt=/^(?:focusinfocus|focusoutblur)$/,mt=function(e){e.stopPropagation()};I.extend(I.event,{trigger:function(e,n,i,r){var a,o,s,l,u,c,h,d,f=[i||t],p=_.call(e,"type")?e.type:e,v=_.call(e,"namespace")?e.namespace.split("."):[];if(o=d=s=i=i||t,3!==i.nodeType&&8!==i.nodeType&&!gt.test(p+I.event.triggered)&&(p.indexOf(".")>-1&&(v=p.split("."),p=v.shift(),v.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[I.expando]?e:new I.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:I.makeArray(n,[e]),h=I.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!C(i)){for(gt.test((l=h.delegateType||p)+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(i.ownerDocument||t)&&f.push(s.defaultView||s.parentWindow||window)}for(a=0;(o=f[a++])&&!e.isPropagationStopped();)d=o,e.type=a>1?l:h.bindType||p,(c=(ae.get(o,"events")||{})[e.type]&&ae.get(o,"handle"))&&c.apply(o,n),(c=u&&o[u])&&c.apply&&ie(o)&&(e.result=c.apply(o,n),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!ie(i)||u&&S(i[p])&&!C(i)&&((s=i[u])&&(i[u]=null),I.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,mt),i[p](),e.isPropagationStopped()&&d.removeEventListener(p,mt),I.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(e,t,n){var i=I.extend(new I.Event,n,{type:e,isSimulated:!0});I.event.trigger(i,null,t)}}),I.fn.extend({trigger:function(e,t){return this.each(function(){I.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return I.event.trigger(e,t,n,!0)}}),x.focusin||I.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){I.event.simulate(t,e.target,I.event.fix(e))};I.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ae.access(i,t);r||i.addEventListener(e,n,!0),ae.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ae.access(i,t)-1;r?ae.access(i,t,r):(i.removeEventListener(e,n,!0),ae.remove(i,t))}}});var yt,bt=/\[\]$/,_t=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,i){var r;if(Array.isArray(t))I.each(t,function(t,r){n||bt.test(e)?i(e,r):xt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==A(t))i(e,t);else for(r in t)xt(e+"["+r+"]",t[r],n,i)}I.param=function(e,t){var n,i=[],r=function(e,t){var n=S(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,function(){r(this.name,this.value)});else for(n in e)xt(n,e[n],t,r);return i.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&kt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!ye.test(e))}).map(function(e,t){var n=I(this).val();return null==n?null:Array.isArray(n)?I.map(n,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:n.replace(_t,"\r\n")}}).get()}}),I.fn.extend({wrapAll:function(e){var t;return this[0]&&(S(e)&&(e=e.call(this[0])),t=I(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return S(e)?this.each(function(t){I(this).wrapInner(e.call(this,t))}):this.each(function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=S(e);return this.each(function(n){I(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){I(this).replaceWith(this.childNodes)}),this}}),I.expr.pseudos.hidden=function(e){return!I.expr.pseudos.visible(e)},I.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.createHTMLDocument=((yt=t.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===yt.childNodes.length),I.parseHTML=function(e,n,i){return"string"!=typeof e?[]:("boolean"==typeof n&&(i=n,n=!1),n||(x.createHTMLDocument?((r=(n=t.implementation.createHTMLDocument("")).createElement("base")).href=t.location.href,n.head.appendChild(r)):n=t),o=!i&&[],(a=z.exec(e))?[n.createElement(a[1])]:(a=Ce([e],n,o),o&&o.length&&I(o).remove(),I.merge([],a.childNodes)));var r,a,o},I.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,u=I.css(e,"position"),c=I(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=I.css(e,"top"),l=I.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(i=c.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),S(t)&&(t=t.call(e,n,I.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):c.css(h)}},I.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){I.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===I.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===I.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=I(e).offset()).top+=I.css(e,"borderTopWidth",!0),r.left+=I.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-I.css(i,"marginTop",!0),left:t.left-r.left-I.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===I.css(e,"position");)e=e.offsetParent;return e||Ee})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;I.fn[e]=function(i){return Q(this,function(e,i,r){var a;if(C(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r},e,i,arguments.length)}}),I.each(["top","left"],function(e,t){I.cssHooks[t]=Ze(x.pixelPosition,function(e,n){if(n)return n=Ye(e,t),We.test(n)?I(e).position()[t]+"px":n})}),I.each({Height:"height",Width:"width"},function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){I.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return Q(this,function(t,n,r){var a;return C(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?I.css(t,n,s):I.style(t,n,r,s)},t,o?r:void 0,o)}})}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){I.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),I.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),I.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),S(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||I.guid++,r},I.holdReady=function(e){e?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=N,I.isFunction=S,I.isWindow=C,I.camelCase=ne,I.type=A,I.now=Date.now,I.isNumeric=function(e){var t=I.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var St=I;function Ct(e){return function(e,t){var n=document.createElement("div");return t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e.style[r]=t[r]}}(n,t.style)),n}(0,e)}function Et(e){var t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function Rt(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function At(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function Tt(e,t){return function(e,t){var n=t.clientX,i=t.clientY,r=e.getBoundingClientRect(),a=r.left,o=r.top,s=r.width,l=r.height,u=n-a,c=i-o;return{x:u,y:c,xNormalized:u/s,yNormalized:c/l,width:s,height:l}}(t,{clientX:e.clientX,clientY:e.clientY})}function It(e,t){return function(e,t){t=t||"currentColor";var n=Dt[e];n||(console.error("No icon named: ".concat(e)),n=Dt.question);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);var r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttributeNS(null,"fill",t),r.setAttributeNS(null,"d",n[4]),i.appendChild(r),i}(e,t)}var Dt={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function Ot(e,t){var n=document.createElement("div");e.appendChild(n),n.appendChild(It("times")),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}function Pt(e){return"string"==typeof e||e instanceof String}function Mt(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce(function(e,t,n){return n%3==0?e+","+t:e+t}).split("").reverse().join("")+(t[1]?"."+t[1]:"")}var Lt=function(e){return e.split(/\n|\r\n|\r/g)};function Ft(e,t){var n,i,r=[],a=e.length,o=0,s=!1;if(a>0)for(r[o]=e.charAt(0),n=1;n<a;n++)'"'===(i=e.charAt(n))?s=!s:s||i!==t?r[o]+=i:r[++o]="";return r}function Nt(e){return e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e}function zt(e){return e.includes("googleapis")&&!e.includes("urlshortener")||Vt(e)||jt(e)}function Vt(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function jt(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function Bt(e){var t=Ht(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function Ht(e){if(e.includes("/open?id=")){var t=e.indexOf("/open?id=")+9,n=e.indexOf("&");if(t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){var i=e.indexOf("/file/d/")+8,r=e.lastIndexOf("/");return e.substring(i,r)}if(e.startsWith("https://www.googleapis.com/drive")){var a=e.indexOf("/files/"),o=e.indexOf("?");if(a>0)return a+=7,o>0?e.substring(a,o):e.substring(a)}}throw Error("Unknown Google Drive url format: "+e)}var qt=new Map;function Ut(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}qt.set("!","%21"),qt.set("#","%23"),qt.set("$","%24"),qt.set("%","%25"),qt.set("&","%26"),qt.set("'","%27"),qt.set("(","%28"),qt.set(")","%29"),qt.set("*","%2A"),qt.set("+","%2B"),qt.set(",","%2C"),qt.set("/","%2F"),qt.set(":","%3A"),qt.set(";","%3B"),qt.set("=","%3D"),qt.set("?","%3F"),qt.set("@","%40"),qt.set("[","%5B"),qt.set("]","%5D"),qt.set(" ","%20");var Wt=!1;function Gt(e){return $t.apply(this,arguments)}function $t(){return($t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof gapi){e.next=2;break}throw Error("Google authentication requires the 'gapi' library");case 2:if(gapi.auth2){e.next=4;break}throw Error("Google 'auth2' has not been initialized");case 4:if(!Wt){e.next=6;break}return e.abrupt("return",new Promise(function(e,n){var i;i=setInterval(function(){try{!1===Wt&&(e(Gt(t)),clearInterval(i))}catch(r){clearInterval(i),n(r)}},100)}));case 6:if(Wt=!0,e.prev=7,!(i=gapi.auth2.getAuthInstance().currentUser.get()).isSignedIn()){e.next=18;break}if(e.t0=i.hasGrantedScopes(t),e.t0){e.next=14;break}return e.next=14,i.grant({scope:t});case 14:r=i.getAuthResponse(),a=r.access_token,o=r.expires_at,Date.now()<o-3e5?n={access_token:a,expires_at:o}:(s=i.reloadAuthResponse(),l=s.access_token,u=s.expires_at,n={access_token:l,expires_at:u}),e.next=23;break;case 18:return e.next=20,function(){var e=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new gapi.auth2.SigninOptionsBuilder,e.abrupt("return",(n.setPrompt("select_account"),n.setScope(t),gapi.auth2.getAuthInstance().signIn(n)));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 20:i=e.sent,c=i.getAuthResponse(),h=c.access_token,d=c.expires_at,n={access_token:h,expires_at:d};case 23:return e.abrupt("return",n);case 24:return e.prev=24,Wt=!1,e.finish(24);case 27:case"end":return e.stop()}},e,null,[[7,,24,27]])}))).apply(this,arguments)}function Yt(){return gapi.apiKey}function Zt(e){for(var t=Kt,n=t.parser.loose.exec(e),i={},r=14;r--;)i[t.key[r]]=n[r]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});var Kt={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function Xt(e){if(Qt(e))return e.name;if(Pt(e)){var t=e.lastIndexOf("/"),n=t<0?e:e.substr(t+1);return(t=n.indexOf("?"))>0&&(n=n.substr(0,t)),n}throw Error("Expected File or string, got "+typeof e)}function Qt(e){return e instanceof File||"function"!=typeof e&&e.hasOwnProperty("name")&&e.hasOwnProperty("size")&&e.hasOwnProperty("type")}var Jt=Qt;function en(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function tn(e){for(var t=e.length;--t>=0;)e[t]=0}var nn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),an=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),on=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sn=new Array(576);tn(sn);var ln=new Array(60);tn(ln);var un=new Array(512);tn(un);var cn=new Array(256);tn(cn);var hn=new Array(29);tn(hn);var dn,fn,pn,vn=new Array(30);function gn(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function mn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}tn(vn);var yn=function(e){return e<256?un[e]:un[256+(e>>>7)]},bn=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},_n=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,bn(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},wn=function(e,t,n){_n(e,n[2*t],n[2*t+1])},kn=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},xn=function(e,t,n){var i,r,a=new Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=kn(a[s]++,s))}},Sn=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Cn=function(e){e.bi_valid>8?bn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},En=function(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},Rn=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&En(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!En(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},An=function(e,t,n){var i,r,a,o,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?wn(e,r,t):(a=cn[r],wn(e,a+256+1,t),0!==(o=nn[a])&&(r-=hn[a],_n(e,r,o)),i--,a=yn(i),wn(e,a,n),0!==(o=rn[a])&&(i-=vn[a],_n(e,i,o)))}while(s<e.last_lit);wn(e,256,t)},Tn=function(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)Rn(e,a,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Rn(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,Rn(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(a=p,v++),l[2*i+1]=a,i>u||(e.bl_count[a]++,o=0,i>=f&&(o=d[i-f]),s=l[2*i],e.opt_len+=s*(a+o),h&&(e.static_len+=s*(c[2*i+1]+o)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(e,t),xn(a,u,e.bl_count)},In=function(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<l&&r===o||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))},Dn=function(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<l&&r===o)){if(s<u)do{wn(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(wn(e,r,e.bl_tree),s--),wn(e,16,e.bl_tree),_n(e,s-3,2)):s<=10?(wn(e,17,e.bl_tree),_n(e,s-3,3)):(wn(e,18,e.bl_tree),_n(e,s-11,7));s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}},On=!1,Pn=function(e,t,n,i){_n(e,0+(i?1:0),3),function(e,t,n,i){Cn(e),bn(e,n),bn(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n)},Mn=function(e){On||(function(){var e,t,n,i,r,a=new Array(16);for(n=0,i=0;i<28;i++)for(hn[i]=n,e=0;e<1<<nn[i];e++)cn[n++]=i;for(cn[n-1]=i,r=0,i=0;i<16;i++)for(vn[i]=r,e=0;e<1<<rn[i];e++)un[r++]=i;for(r>>=7;i<30;i++)for(vn[i]=r<<7,e=0;e<1<<rn[i]-7;e++)un[256+r++]=i;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)sn[2*e+1]=8,e++,a[8]++;for(;e<=255;)sn[2*e+1]=9,e++,a[9]++;for(;e<=279;)sn[2*e+1]=7,e++,a[7]++;for(;e<=287;)sn[2*e+1]=8,e++,a[8]++;for(xn(sn,287,a),e=0;e<30;e++)ln[2*e+1]=5,ln[2*e]=kn(e,5);dn=new gn(sn,nn,257,286,15),fn=new gn(ln,rn,0,30,15),pn=new gn(new Array(0),an,0,19,7)}(),On=!0),e.l_desc=new mn(e.dyn_ltree,dn),e.d_desc=new mn(e.dyn_dtree,fn),e.bl_desc=new mn(e.bl_tree,pn),e.bi_buf=0,e.bi_valid=0,Sn(e)},Ln=Pn,Fn=function(e,t,n,i){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Tn(e,e.l_desc),Tn(e,e.d_desc),o=function(e){var t;for(In(e,e.dyn_ltree,e.l_desc.max_code),In(e,e.dyn_dtree,e.d_desc.max_code),Tn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*on[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?Pn(e,t,n,i):4===e.strategy||a===r?(_n(e,2+(i?1:0),3),An(e,sn,ln)):(_n(e,4+(i?1:0),3),function(e,t,n,i){var r;for(_n(e,t-257,5),_n(e,n-1,5),_n(e,i-4,4),r=0;r<i;r++)_n(e,e.bl_tree[2*on[r]+1],3);Dn(e,e.dyn_ltree,t-1),Dn(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),An(e,e.dyn_ltree,e.dyn_dtree)),Sn(e),i&&Cn(e)},Nn=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(cn[n]+256+1)]++,e.dyn_dtree[2*yn(t)]++),e.last_lit===e.lit_bufsize-1},zn=function(e){_n(e,2,3),wn(e,256,sn),function(e){16===e.bi_valid?(bn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},Vn=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0},jn=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Bn=function(e,t,n,i){var r=jn,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e},Hn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Un=Mn,Wn=Ln,Gn=Fn,$n=Nn,Yn=zn,Zn=qn.Z_NO_FLUSH,Kn=qn.Z_PARTIAL_FLUSH,Xn=qn.Z_FULL_FLUSH,Qn=qn.Z_FINISH,Jn=qn.Z_BLOCK,ei=qn.Z_OK,ti=qn.Z_STREAM_END,ni=qn.Z_STREAM_ERROR,ii=qn.Z_DATA_ERROR,ri=qn.Z_BUF_ERROR,ai=qn.Z_DEFAULT_COMPRESSION,oi=qn.Z_FILTERED,si=qn.Z_HUFFMAN_ONLY,li=qn.Z_RLE,ui=qn.Z_FIXED,ci=qn.Z_UNKNOWN,hi=qn.Z_DEFLATED,di=function(e,t){return e.msg=Hn[t],t},fi=function(e){return(e<<1)-(e>4?9:0)},pi=function(e){for(var t=e.length;--t>=0;)e[t]=0},vi=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},gi=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},mi=function(e,t){Gn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,gi(e.strm)},yi=function(e,t){e.pending_buf[e.pending++]=t},bi=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},_i=function(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+258,f=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===p&&u[n+o-1]===f&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<d);if(i=258-(d-a),a=d-258,i>o){if(e.match_start=t,o=i,i>=s)break;f=u[a+o-1],p=u[a+o]}}}while((t=h[t&c])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead},wi=function(e){var t,n,i,r,a,o,s,l,u,c,h=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-262)){e.window.set(e.window.subarray(h,h+h),0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=h?i-h:0}while(--n);t=n=h;do{i=e.prev[--t],e.prev[t]=i>=h?i-h:0}while(--n);r+=h}if(0===e.strm.avail_in)break;if(o=e.strm,s=e.window,l=e.strstart+e.lookahead,u=r,c=void 0,(c=o.avail_in)>u&&(c=u),n=0===c?0:(o.avail_in-=c,s.set(o.input.subarray(o.next_in,o.next_in+c),l),1===o.state.wrap?o.adler=Vn(o.adler,s,c,l):2===o.state.wrap&&(o.adler=Bn(o.adler,s,c,l)),o.next_in+=c,o.total_in+=c,c),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=vi(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=vi(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},ki=function(e,t){for(var n,i;;){if(e.lookahead<262){if(wi(e),e.lookahead<262&&t===Zn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=vi(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=_i(e,n)),e.match_length>=3)if(i=$n(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=vi(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=vi(e,e.ins_h,e.window[e.strstart+1]);else i=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(mi(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Qn?(mi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mi(e,!1),0===e.strm.avail_out)?1:2},xi=function(e,t){for(var n,i,r;;){if(e.lookahead<262){if(wi(e),e.lookahead<262&&t===Zn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=vi(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=_i(e,n),e.match_length<=5&&(e.strategy===oi||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=$n(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=vi(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(mi(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=$n(e,0,e.window[e.strstart-1]))&&mi(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=$n(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Qn?(mi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mi(e,!1),0===e.strm.avail_out)?1:2};function Si(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ci=[new Si(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(wi(e),0===e.lookahead&&t===Zn)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,mi(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(mi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Qn?(mi(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&mi(e,!1),1)}),new Si(4,4,8,4,ki),new Si(4,5,16,8,ki),new Si(4,6,32,32,ki),new Si(4,4,16,16,xi),new Si(8,16,32,32,xi),new Si(8,16,128,128,xi),new Si(8,32,128,256,xi),new Si(32,128,258,1024,xi),new Si(32,258,258,4096,xi)];function Ei(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),pi(this.dyn_ltree),pi(this.dyn_dtree),pi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),pi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),pi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ri=function(e,t,n,i,r,a){if(!e)return ni;var o=1;if(t===ai&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==hi||i<8||i>15||t<0||t>9||a<0||a>ui)return di(e,ni);8===i&&(i=9);var s=new Ei;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,function(e){var t,n=function(e){if(!e||!e.state)return di(e,ni);e.total_in=e.total_out=0,e.data_type=ci;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=Zn,Un(t),ei}(e);return n===ei&&((t=e.state).window_size=2*t.w_size,pi(t.head),t.max_lazy_match=Ci[t.level].max_lazy,t.good_match=Ci[t.level].good_length,t.nice_match=Ci[t.level].nice_length,t.max_chain_length=Ci[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}(e)},Ai=function(e,t){var n,i;if(!e||!e.state||t>Jn||t<0)return e?di(e,ni):ni;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==Qn)return di(e,0===e.avail_out?ri:ni);r.strm=e;var a=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,yi(r,31),yi(r,139),yi(r,8),r.gzhead?(yi(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),yi(r,255&r.gzhead.time),yi(r,r.gzhead.time>>8&255),yi(r,r.gzhead.time>>16&255),yi(r,r.gzhead.time>>24&255),yi(r,9===r.level?2:r.strategy>=si||r.level<2?4:0),yi(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(yi(r,255&r.gzhead.extra.length),yi(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Bn(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(yi(r,0),yi(r,0),yi(r,0),yi(r,0),yi(r,0),yi(r,9===r.level?2:r.strategy>=si||r.level<2?4:0),yi(r,3),r.status=113);else{var o=hi+(r.w_bits-8<<4)<<8;o|=(r.strategy>=si||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=113,bi(r,o),0!==r.strstart&&(bi(r,e.adler>>>16),bi(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),gi(e),n=r.pending,r.pending!==r.pending_buf_size));)yi(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),gi(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,yi(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),gi(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,yi(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=Bn(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&gi(e),r.pending+2<=r.pending_buf_size&&(yi(r,255&e.adler),yi(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(gi(e),0===e.avail_out)return r.last_flush=-1,ei}else if(0===e.avail_in&&fi(t)<=fi(a)&&t!==Qn)return di(e,ri);if(666===r.status&&0!==e.avail_in)return di(e,ri);if(0!==e.avail_in||0!==r.lookahead||t!==Zn&&666!==r.status){var s=r.strategy===si?function(e,t){for(var n;;){if(0===e.lookahead&&(wi(e),0===e.lookahead)){if(t===Zn)return 1;break}if(e.match_length=0,n=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(mi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Qn?(mi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mi(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===li?function(e,t){for(var n,i,r,a,o=e.window;;){if(e.lookahead<=258){if(wi(e),e.lookahead<=258&&t===Zn)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&((i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r])){a=e.strstart+258;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=$n(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(mi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Qn?(mi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mi(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ci[r.level].func(r,t);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),ei;if(2===s&&(t===Kn?Yn(r):t!==Jn&&(Wn(r,0,0,!1),t===Xn&&(pi(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),gi(e),0===e.avail_out))return r.last_flush=-1,ei}return t!==Qn?ei:r.wrap<=0?ti:(2===r.wrap?(yi(r,255&e.adler),yi(r,e.adler>>8&255),yi(r,e.adler>>16&255),yi(r,e.adler>>24&255),yi(r,255&e.total_in),yi(r,e.total_in>>8&255),yi(r,e.total_in>>16&255),yi(r,e.total_in>>24&255)):(bi(r,e.adler>>>16),bi(r,65535&e.adler)),gi(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ei:ti)},Ti=function(e){if(!e||!e.state)return ni;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?di(e,ni):(e.state=null,113===t?di(e,ii):ei)},Ii=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Di=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)Ii(n,i)&&(e[i]=n[i])}}return e},Oi=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),a=0,o=0,s=e.length;a<s;a++){var l=e[a];r.set(l,o),o+=l.length}return r},Pi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Fd){Pi=!1}for(var Mi=new Uint8Array(256),Li=0;Li<256;Li++)Mi[Li]=Li>=252?6:Li>=248?5:Li>=240?4:Li>=224?3:Li>=192?2:1;Mi[254]=Mi[254]=1;var Fi=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,a,o=e.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},Ni=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a=new Array(2*r);for(i=0,n=0;n<r;){var o=e[n++];if(o<128)a[i++]=o;else{var s=Mi[o];if(s>4)a[i++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<r;)o=o<<6|63&e[n++],s--;s>1?a[i++]=65533:o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&Pi)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(a,i)},zi=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Mi[e[n]]>t?n:t},Vi=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ji=Object.prototype.toString,Bi=qn.Z_NO_FLUSH,Hi=qn.Z_SYNC_FLUSH,qi=qn.Z_FULL_FLUSH,Ui=qn.Z_FINISH,Wi=qn.Z_OK,Gi=qn.Z_STREAM_END,$i=qn.Z_DEFAULT_COMPRESSION,Yi=qn.Z_DEFAULT_STRATEGY,Zi=qn.Z_DEFLATED;function Ki(e){this.options=Di({level:$i,method:Zi,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yi},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vi,this.strm.avail_out=0;var n,i,r=Ri(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Wi)throw new Error(Hn[r]);if(t.header&&(i=t.header,(n=this.strm)&&n.state&&(2!==n.state.wrap||(n.state.gzhead=i))),t.dictionary){var a;if(a="string"==typeof t.dictionary?Fi(t.dictionary):"[object ArrayBuffer]"===ji.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=function(e,t){var n=t.length;if(!e||!e.state)return ni;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return ni;if(1===r&&(e.adler=Vn(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(pi(i.head),i.strstart=0,i.block_start=0,i.insert=0);var a=new Uint8Array(i.w_size);a.set(t.subarray(n-i.w_size,n),0),t=a,n=i.w_size}var o=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,wi(i);i.lookahead>=3;){var u=i.strstart,c=i.lookahead-2;do{i.ins_h=vi(i,i.ins_h,i.window[u+3-1]),i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++}while(--c);i.strstart=u,i.lookahead=2,wi(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=l,e.avail_in=o,i.wrap=r,ei}(this.strm,a))!==Wi)throw new Error(Hn[r]);this._dict_set=!0}}function Xi(e,t){var n=new Ki(t);if(n.push(e,!0),n.err)throw n.msg||Hn[n.err];return n.result}Ki.prototype.push=function(e,t){var n,i,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Ui:Bi,r.input="string"==typeof e?Fi(e):"[object ArrayBuffer]"===ji.call(e)?new Uint8Array(e):e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===Hi||i===qi)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=Ai(r,i))===Gi)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Ti(this.strm),this.onEnd(n),this.ended=!0,n===Wi;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Ki.prototype.onData=function(e){this.chunks.push(e)},Ki.prototype.onEnd=function(e){e===Wi&&(this.result=Oi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Qi=Ki,Ji=Xi,er=function(e,t){return(t=t||{}).raw=!0,Xi(e,t)},tr=function(e,t){return(t=t||{}).gzip=!0,Xi(e,t)},nr=function(e,t){var n,i,r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_,w,k,x,S,C,E=e.state;n=e.next_in,S=e.input,i=n+(e.avail_in-5),r=e.next_out,C=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),s=E.dmax,l=E.wsize,u=E.whave,c=E.wnext,h=E.window,d=E.hold,f=E.bits,p=E.lencode,v=E.distcode,g=(1<<E.lenbits)-1,m=(1<<E.distbits)-1;e:do{f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),y=p[d&g];t:for(;;){if(d>>>=b=y>>>24,f-=b,0===(b=y>>>16&255))C[r++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=p[(65535&y)+(d&(1<<b)-1)];continue t}if(32&b){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}_=65535&y,(b&=15)&&(f<b&&(d+=S[n++]<<f,f+=8),_+=d&(1<<b)-1,d>>>=b,f-=b),f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),y=v[d&m];n:for(;;){if(d>>>=b=y>>>24,f-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=v[(65535&y)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",E.mode=30;break e}if(w=65535&y,f<(b&=15)&&(d+=S[n++]<<f,(f+=8)<b&&(d+=S[n++]<<f,f+=8)),(w+=d&(1<<b)-1)>s){e.msg="invalid distance too far back",E.mode=30;break e}if(d>>>=b,f-=b,w>(b=r-a)){if((b=w-b)>u&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(k=0,x=h,0===c){if(k+=l-b,b<_){_-=b;do{C[r++]=h[k++]}while(--b);k=r-w,x=C}}else if(c<b){if(k+=l+c-b,(b-=c)<_){_-=b;do{C[r++]=h[k++]}while(--b);if(k=0,c<_){_-=b=c;do{C[r++]=h[k++]}while(--b);k=r-w,x=C}}}else if(k+=c-b,b<_){_-=b;do{C[r++]=h[k++]}while(--b);k=r-w,x=C}for(;_>2;)C[r++]=x[k++],C[r++]=x[k++],C[r++]=x[k++],_-=3;_&&(C[r++]=x[k++],_>1&&(C[r++]=x[k++]))}else{k=r-w;do{C[r++]=C[k++],C[r++]=C[k++],C[r++]=C[k++],_-=3}while(_>2);_&&(C[r++]=C[k++],_>1&&(C[r++]=C[k++]))}break}}break}}while(n<i&&r<o);n-=_=f>>3,d&=(1<<(f-=_<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<o?o-r+257:257-(r-o),E.hold=d,E.bits=f},ir=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ar=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),or=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sr=function(e,t,n,i,r,a,o,s){var l,u,c,h,d,f,p,v,g,m=s.bits,y=0,b=0,_=0,w=0,k=0,x=0,S=0,C=0,E=0,R=0,A=null,T=0,I=new Uint16Array(16),D=new Uint16Array(16),O=null,P=0;for(y=0;y<=15;y++)I[y]=0;for(b=0;b<i;b++)I[t[n+b]]++;for(k=m,w=15;w>=1&&0===I[w];w--);if(k>w&&(k=w),0===w)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(_=1;_<w&&0===I[_];_++);for(k<_&&(k=_),C=1,y=1;y<=15;y++)if(C<<=1,(C-=I[y])<0)return-1;if(C>0&&(0===e||1!==w))return-1;for(D[1]=0,y=1;y<15;y++)D[y+1]=D[y]+I[y];for(b=0;b<i;b++)0!==t[n+b]&&(o[D[t[n+b]]++]=b);if(0===e?(A=O=o,f=19):1===e?(A=ir,T-=257,O=rr,P-=257,f=256):(A=ar,O=or,f=-1),R=0,b=0,y=_,d=a,x=k,S=0,c=-1,h=(E=1<<k)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){p=y-S,o[b]<f?(v=0,g=o[b]):o[b]>f?(v=O[P+o[b]],g=A[T+o[b]]):(v=96,g=0),l=1<<y-S,_=u=1<<x;do{r[d+(R>>S)+(u-=l)]=p<<24|v<<16|g|0}while(0!==u);for(l=1<<y-1;R&l;)l>>=1;if(0!==l?(R&=l-1,R+=l):R=0,b++,0==--I[y]){if(y===w)break;y=t[n+o[b]]}if(y>k&&(R&h)!==c){for(0===S&&(S=k),d+=_,C=1<<(x=y-S);x+S<w&&!((C-=I[x+S])<=0);)x++,C<<=1;if(E+=1<<x,1===e&&E>852||2===e&&E>592)return 1;r[c=R&h]=k<<24|x<<16|d-a|0}}return 0!==R&&(r[d+R]=y-S<<24|64<<16|0),s.bits=k,0},lr=qn.Z_FINISH,ur=qn.Z_BLOCK,cr=qn.Z_TREES,hr=qn.Z_OK,dr=qn.Z_STREAM_END,fr=qn.Z_NEED_DICT,pr=qn.Z_STREAM_ERROR,vr=qn.Z_DATA_ERROR,gr=qn.Z_MEM_ERROR,mr=qn.Z_BUF_ERROR,yr=qn.Z_DEFLATED,br=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function _r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var wr,kr,xr=function(e){if(!e||!e.state)return pr;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,function(e){if(!e||!e.state)return pr;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,hr}(e)},Sr=!0,Cr=function(e){if(Sr){wr=new Int32Array(512),kr=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(sr(1,e.lens,0,288,wr,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;sr(2,e.lens,0,32,kr,0,e.work,{bits:5}),Sr=!1}e.lencode=wr,e.lenbits=9,e.distcode=kr,e.distbits=5},Er=function(e,t,n,i){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Rr=xr,Ar=function(e,t){var n,i,r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_,w,k,x,S,C,E=0,R=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return pr;12===(n=e.state).mode&&(n.mode=13),o=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=n.hold,c=n.bits,h=s,d=l,x=hr;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(2&n.wrap&&35615===u){n.check=0,R[0]=255&u,R[1]=u>>>8&255,n.check=Bn(n.check,R,2,0),u=0,c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&u)!==yr){e.msg="unknown compression method",n.mode=30;break}if(c-=4,k=8+(15&(u>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&u?10:12,u=0,c=0;break;case 2:for(;c<16;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(n.flags=u,(255&n.flags)!==yr){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(R[0]=255&u,R[1]=u>>>8&255,n.check=Bn(n.check,R,2,0)),u=0,c=0,n.mode=3;case 3:for(;c<32;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&(R[0]=255&u,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,n.check=Bn(n.check,R,4,0)),u=0,c=0,n.mode=4;case 4:for(;c<16;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(R[0]=255&u,R[1]=u>>>8&255,n.check=Bn(n.check,R,2,0)),u=0,c=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(R[0]=255&u,R[1]=u>>>8&255,n.check=Bn(n.check,R,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+f),k)),512&n.flags&&(n.check=Bn(n.check,i,f,a)),s-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{k=i[a+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=Bn(n.check,i,f,a)),s-=f,a+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{k=i[a+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=Bn(n.check,i,f,a)),s-=f,a+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;c<32;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}e.adler=n.check=br(u),u=0,c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=c,fr;e.adler=n.check=1,n.mode=12;case 12:if(t===ur||t===cr)break e;case 13:if(n.last){u>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}switch(n.last=1&u,c-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(Cr(n),n.mode=20,t===cr){u>>>=2,c-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}u>>>=2,c-=2;break;case 14:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,u=0,c=0,n.mode=15,t===cr)break e;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>l&&(f=l),0===f)break e;r.set(i.subarray(a,a+f),o),s-=f,a+=f,l-=f,o+=f,n.length-=f;break}n.mode=12;break;case 17:for(;c<14;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(n.nlen=257+(31&u),u>>>=5,c-=5,n.ndist=1+(31&u),u>>>=5,c-=5,n.ncode=4+(15&u),u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.lens[A[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},x=sr(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,x){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=c);){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(y<16)u>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){for(C=g+2;c<C;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(u>>>=g,c-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],f=3+(3&u),u>>>=2,c-=2}else if(17===y){for(C=g+3;c<C;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}c-=g,k=0,f=3+(7&(u>>>=g)),u>>>=3,c-=3}else{for(C=g+7;c<C;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}c-=g,k=0,f=11+(127&(u>>>=g)),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},x=sr(1,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,x){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},x=sr(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,x){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===cr)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=c,nr(e,d),o=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=n.hold,c=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;m=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=c);){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(m&&0==(240&m)){for(b=g,_=m,w=y;m=(E=n.lencode[w+((u&(1<<b+_)-1)>>b)])>>>16&255,y=65535&E,!(b+(g=E>>>24)<=c);){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=g,c-=g,n.back+=g,n.length=y,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=12;break}if(64&m){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(C=n.extra;c<C;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(E=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=c);){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(0==(240&m)){for(b=g,_=m,w=y;m=(E=n.distcode[w+((u&(1<<b+_)-1)>>b)])>>>16&255,y=65535&E,!(b+(g=E>>>24)<=c);){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=g,c-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(C=n.extra;c<C;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(f=d-l,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=r,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{r[o++]=v[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;r[o++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break e;s--,u|=i[a++]<<c,c+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?Bn(n.check,r,d,o-d):Vn(n.check,r,d,o-d)),d=l,(n.flags?u:br(u))!==n.check){e.msg="incorrect data check",n.mode=30;break}u=0,c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break e;s--,u+=i[a++]<<c,c+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}u=0,c=0}n.mode=29;case 29:x=dr;break e;case 30:x=vr;break e;case 31:return gr;case 32:default:return pr}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=c,(n.wsize||d!==e.avail_out&&n.mode<30&&(n.mode<27||t!==lr))&&Er(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?Bn(n.check,r,d,e.next_out-d):Vn(n.check,r,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===d||t===lr)&&x===hr&&(x=mr),x},Tr=function(e){if(!e||!e.state)return pr;var t=e.state;return t.window&&(t.window=null),e.state=null,hr},Ir=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?pr:11===n.mode&&Vn(1,t,i,0)!==n.check?vr:Er(e,t,i,i)?(n.mode=31,gr):(n.havedict=1,hr):pr},Dr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Or=Object.prototype.toString,Pr=qn.Z_NO_FLUSH,Mr=qn.Z_FINISH,Lr=qn.Z_OK,Fr=qn.Z_STREAM_END,Nr=qn.Z_NEED_DICT,zr=qn.Z_STREAM_ERROR,Vr=qn.Z_DATA_ERROR,jr=qn.Z_MEM_ERROR;function Br(e){this.options=Di({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vi,this.strm.avail_out=0;var n=function(e,t){if(!e)return pr;var n=new _r;e.state=n,n.window=null;var i=function(e,t){var n;if(!e||!e.state)return pr;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?pr:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,xr(e))}(e,t);return i!==hr&&(e.state=null),i}(this.strm,t.windowBits);if(n!==Lr)throw new Error(Hn[n]);if(this.header=new Dr,function(e,t){if(!e||!e.state)return pr;var n=e.state;0==(2&n.wrap)||(n.head=t,t.done=!1)}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Fi(t.dictionary):"[object ArrayBuffer]"===Or.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ir(this.strm,t.dictionary))!==Lr))throw new Error(Hn[n])}function Hr(e,t){var n=new Br(t);if(n.push(e),n.err)throw n.msg||Hn[n.err];return n.result}Br.prototype.push=function(e,t){var n,i,r,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Mr:Pr,a.input="[object ArrayBuffer]"===Or.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(n=Ar(a,i))===Nr&&s&&((n=Ir(a,s))===Lr?n=Ar(a,i):n===Vr&&(n=Nr));a.avail_in>0&&n===Fr&&a.state.wrap>0&&0!==e[a.next_in];)Rr(a),n=Ar(a,i);switch(n){case zr:case Vr:case Nr:case jr:return this.onEnd(n),this.ended=!0,!1}if(r=a.avail_out,a.next_out&&(0===a.avail_out||n===Fr))if("string"===this.options.to){var l=zi(a.output,a.next_out),u=a.next_out-l,c=Ni(a.output,l);a.next_out=u,a.avail_out=o-u,u&&a.output.set(a.output.subarray(l,l+u),0),this.onData(c)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==Lr||0!==r){if(n===Fr)return n=Tr(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Br.prototype.onData=function(e){this.chunks.push(e)},Br.prototype.onEnd=function(e){e===Lr&&(this.result="string"===this.options.to?this.chunks.join(""):Oi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var qr={Deflate:Qi,deflate:Ji,deflateRaw:er,gzip:tr,Inflate:Br,inflate:Hr,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Hr(e,t)},ungzip:Hr,constants:qn},Ur=qr.inflate;function Wr(e,t){var n=[],i=0,r=0;for(t=t||e.byteLength-18;i<t;)try{var a=ArrayBuffer.isView(e)?e:new Uint8Array(e,i,18),o=a[11]<<8|a[10],s=12+o+i,l=1+(a[17]<<8|a[16])-o-19;if(e.byteLength-s<l||l<=0)break;var u=new Uint8Array(e,s,l),c=qr.inflateRaw(u);i+=l-1+26,r+=c.byteLength,n.push(c)}catch(v){console.error(v);break}if(1===n.length)return n[0];for(var h=new Uint8Array(r),d=0,f=0;f<n.length;++f){var p=new Uint8Array(n[f]);Yr(p,0,h,d,p.length),d+=p.length}return h}function Gr(e){var t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 1+(t[17]<<8|t[16])}var $r="function"==typeof new Uint8Array(1).subarray;function Yr(e,t,n,i,r){if(0!==r){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&r===e.length?Zr(e,n,i):$r?Zr(e.subarray(t,t+r),n,i):1===e.BYTES_PER_ELEMENT&&r>100?Zr(new Uint8Array(e.buffer,e.byteOffset+t,r),n,i):function(e,t,n,i,r){for(var a=0;a<r;++a)n[i+a]=e[t+a]}(e,t,n,i,r)}}function Zr(e,t,n){t.set(e,n)}function Kr(e,t){var n=e.split(","),i=n[0].split(":")[1],r=n[1];if(i.indexOf("base64")>=0){r=atob(r);for(var a=new Uint8Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return t||i.indexOf("gzip")>0?qr.ungzip(a):a}return decodeURIComponent(r)}var Xr=function(e,t,n){return Math.min(Math.max(e,t),n)},Qr=function(e){return Math.log(e)/Math.LN2};function Jr(){this.content=[]}function ea(e,t){return Math.random()*(t-e)+e}Jr.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var i=this.content.pop();if(n===t-1)break;this.content[n]=i,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var i=Math.floor((e+1)/2)-1,r=this.content[i];if(n>=r)break;this.content[i]=t,this.content[e]=r,e=i}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],i=n;;){var r=2*(e+1),a=r-1,o=null;if(a<t){var s=this.content[a],l=s;s<i&&(o=a)}if(r<t&&this.content[r]<(null==o?i:l)&&(o=r),null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}};var ta,na={rgbListFromHSV:function(){for(var e=[],t=1;t>=.5;t-=.1)for(var n=0;n<1;n+=1/28){var i="rgb("+na.hsvToRgb(n,1,t).join(",")+")";e.push(i)}return e.pop(),e.push(na.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var i,r,a,o=Math.floor(6*e),s=6*e-o,l=n*(1-t),u=n*(1-s*t),c=n*(1-(1-s)*t);switch(o%6){case 0:i=n,r=c,a=l;break;case 1:i=u,r=n,a=l;break;case 2:i=l,r=n,a=c;break;case 3:i=l,r=u,a=n;break;case 4:i=c,r=l,a=n;break;case 5:i=n,r=l,a=u}return[Math.floor(255*i),Math.floor(255*r),Math.floor(255*a)]},hslToRgb:function(e,t,n){var i,r,a;if(0===t)i=r=a=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;i=na.hue2rgb(s,o,e+1/3),r=na.hue2rgb(s,o,e),a=na.hue2rgb(s,o,e-1/3)}return[255*i,255*r,255*a]},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},rgbaColor:function(e,t,n,i){return"rgba("+(e=Xr(e,0,255))+","+(t=Xr(t,0,255))+","+(n=Xr(n,0,255))+","+(i=Xr(i,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=Xr(e,0,255))+","+(t=Xr(t,0,255))+","+(n=Xr(n,0,255))+")"},greyScale:function(e){var t=Xr(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Xr(e,0,255),t=Xr(t,0,255);var n=Math.round(ea(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=Xr(e,0,255),t=Xr(t,0,255),"rgb("+Math.round(ea(e,t)).toString(10)+","+Math.round(ea(e,t)).toString(10)+","+Math.round(ea(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=Xr(e,0,255),t=Xr(t,0,255),"rgba("+Math.round(ea(e,t)).toString(10)+","+Math.round(ea(e,t)).toString(10)+","+Math.round(ea(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){if("0"===e||"."===e)e="rgb(0,0,0)";else{var n=this.colorNameToHex(e);n&&(e=n)}var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);if(e.startsWith("rgba")){var r=e.lastIndexOf(",");return e.substring(0,r+1)+t.toString()+")"}return i&&(e=na.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):(console.log(e+" is not an rgb style string"),e)},rgbComponents:function(e){if("0"===e||"."===e)return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))e=na.hexToRgb(e);else if(!e.startsWith("rgb")){var t=this.colorNameToHex(e);e=this.hexToRgb(t)}if(e.startsWith("rgb("))return e.substring(4,e.length-1).split(",").map(function(e){return Number.parseInt(e.trim())});if(e.startsWith("rgba("))return e.substring(5,e.length-1).split(",").map(function(e,t){return e=e.trim(),3===t?Number.parseFloat(e):Number.parseInt(e)});throw Error("Unrecognized color string: color")},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return void 0===e||((e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1))),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){var n=this.colorNameToHex(e),i=(n?na.hexToRgb(n):e.startsWith("rgb(")?e:na.hexToRgb(e)).replace(")","").substring(4).split(","),r=Math.max(0,Math.min(255,Number.parseInt(i[0].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(i[1].trim())+t)),o=Math.max(0,Math.min(255,Number.parseInt(i[2].trim())+t));return"rgb("+r.toString()+","+a.toString()+","+o.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function ia(e,t){t.addEventListener("mousedown",ra.bind(e))}function ra(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};e.getBoundingClientRect()}(this);var t=aa.bind(this),n=oa.bind(this),i=getComputedStyle(this),r=parseInt(i.top.replace("px","")),a=parseInt(i.left.replace("px",""));ta={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:r,left:a},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function aa(e){if(ta){e.stopPropagation(),e.preventDefault();var t=e.screenY-ta.screenY;this.style.left="".concat(ta.left+(e.screenX-ta.screenX),"px"),this.style.top="".concat(ta.top+t,"px")}else console.log("No drag data!")}function oa(e){if(ta){e.stopPropagation(),e.preventDefault();var t=ta.dragEndFunction;document.removeEventListener("mousemove",ta.dragFunction),document.removeEventListener("mouseup",t),document.removeEventListener("mouseleave",t),document.removeEventListener("mouseexit",t),ta=void 0}else console.log("No drag data!")}var sa={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},la={oauthTokens:{},setToken:function(e,t){this.oauthTokens[t=t||"googleapis"]=e,"googleapis"===t&&(this.google.access_token=e)},getToken:function(e){var t;e=e||"googleapis";for(var n=0,i=Object.keys(this.oauthTokens);n<i.length;n++){var r=i[n];if(ua(r).test(e)){t=this.oauthTokens[r];break}}return t},removeToken:function(e){e=e||"googleapis";for(var t=0,n=Object.keys(this.oauthTokens);t<n.length;t++){var i=n[t];ua(i).test(e)&&(this.oauthTokens[i]=void 0)}"googleapis"===e&&(this.google.access_token=void 0)},google:{setToken:function(e){la.setToken(e)}}};function ua(e){return new RegExp("^"+e.split(/\*+/).map(ca).join(".*")+"$")}function ca(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var ha,da,fa,pa=new(function(){function e(t){v(this,e),this.requestsPerSecond=t.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}var t;return m(e,[{key:"add",value:function(e,t){var n=this;return new Promise(function(t,i){n.queued.push({resolve:t,reject:i,asyncFunction:e}),n.dequeue()})}},{key:"addAll",value:function(e,t){var n=e.map((function(e){return this.add(e,t)}).bind(this));return Promise.all(n)}},{key:"dequeue",value:function(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,n=e-this.lastStartTime;n>=t?this._execute():setTimeout((function(){this.dequeue()}).bind(this),t-n)}}},{key:"_execute",value:(t=b(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastStartTime=new Date,t=this.queued.shift(),n=t.asyncFunction,e.prev=3,e.next=6,n();case 6:i=e.sent,t.resolve(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.reject(e.t0);case 13:case"end":return e.stop()}},e,this,[[3,10]])})),function(){return t.apply(this,arguments)})}]),e}())({requestsPerSecond:8}),va={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:ga,loadArrayBuffer:(fa=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((n=n||{}).responseType||(n.responseType="arraybuffer"),Qt(t)?_a(t,n):ga(t,n)));case 1:case"end":return e.stop()}},e)})),function(e,t){return fa.apply(this,arguments)}),loadJson:(da=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"POST"===((n=n||{}).method||(n.sendData?"POST":"GET"))&&(n.contentType="application/json"),e.next=3,this.loadString(t,n);case 3:return i=e.sent,e.abrupt("return",i?JSON.parse(i):i);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return da.apply(this,arguments)}),loadString:(ha=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n=n||{},t instanceof File?function(){var e=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.range?t.slice(n.range.start,n.range.start+n.range.size):t,e.t0=Ca,e.next=4,ka(i);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n):function(){var e=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=n||{}).responseType="arraybuffer",e.t0=Ca,e.next=4,va.load(t,n);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n)));case 1:case"end":return e.stop()}},e)})),function(e,t){return ha.apply(this,arguments)})};function ga(e,t){return ma.apply(this,arguments)}function ma(){return(ma=b(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||{},i=typeof t,e.t0=Qt,e.next=5,"function"==typeof t?t():t;case 5:if(e.t1=t=e.sent,!(0,e.t0)(e.t1)){e.next=8;break}return e.abrupt("return",_a(t,n));case 8:if("function"!=typeof t.startsWith){e.next=13;break}if(!t.startsWith("data:")){e.next=12;break}return r=Kr(t).buffer,e.abrupt("return",n.range?r.slice(n.range.start,n.range.size?n.range.start+n.range.size:r.byteLength):r);case 12:return e.abrupt("return",(t.startsWith("https://drive.google.com")&&(t=Bt(t)),jt(t)||t.startsWith("https://www.dropbox.com")?pa.add(b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,n));case 1:case"end":return e.stop()}},e)}))):ya(t,n)));case 13:throw Error("url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ".concat(i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ya(e,t){return ba.apply(this,arguments)}function ba(){return(ba=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Bt(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(t),i=(n=n||{}).oauthToken||function(e){var t=zt(e)?void 0:Zt(e).host,n=la.getToken(t);if(n)return n;if(void 0===t){var i=Sa();if(i&&i.expires_at>Date.now())return i.access_token}}(t),e.t0=i,!e.t0){e.next=7;break}return e.next=6,"function"==typeof i?i():i;case 6:i=e.sent;case 7:return e.abrupt("return",new Promise(function(e,r){zt(t)&&(Vt(t)&&(t=function(e){var t,n=function(e){var t,n;if(e.startsWith("gs://")){var i=e.indexOf("/",5);if(i>=0){t=e.substring(5,i);var r=e.indexOf("?");n=r<0?e.substring(i+1):e.substring(i+1,r)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){var a=e.indexOf("/v1/b/",8);if(a>0){var o=e.indexOf("/o/",a);if(o>0){var s=e.indexOf("?",o);t=e.substring(a+6,o),n=s>0?e.substring(o+3,s):e.substring(o+3)}}else{var l=e.indexOf("/",8),u=e.indexOf("/",l+1),c=e.indexOf("?",u);u>0&&(t=e.substring(l+1,u),n=c<0?e.substring(u+1):e.substring(u+1,c))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){var h=e.indexOf("/v1/b/",8),d=e.indexOf("/o/",h);if(d>0){var f=e.indexOf("?",d);t=e.substring(h+6,d),n=f>0?e.substring(d+3,f):e.substring(d+3)}}if(t&&n)return{bucket:t,object:n};throw Error("Unrecognized Google Storage URI: ".concat(e))}(e),i=n.bucket,r=n.object;t="",r.split("").forEach(function(e){qt.has(e)?t+=qt.get(e):t+=e}),r=t;var a=e.indexOf("?");return"https://storage.googleapis.com/storage/v1/b/".concat(i,"/o/").concat(r).concat(a>0?e.substring(a)+"&alt=media":"?alt=media")}(t)),jt(t=function(e){var t=va.apiKey;if(t||"undefined"==typeof gapi||(t=gapi.apiKey),void 0!==t&&!e.includes("key=")){var n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e}(t))&&function(e){if(e.includes("supportsTeamDrive"))return e;var t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}(t),i||(i=Sa()));var a=n.headers||{};i&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(a,i);var o=n.range,s=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),o&&s&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(t)&&(t+=t.includes("?")?"&":"?",t+="someRandomSeed="+Math.random().toString(36));var l=new XMLHttpRequest,u=n.sendData||n.body,c=n.responseType,h=n.contentType,d=n.mimeType;if(l.open(n.method||(u?"POST":"GET"),t),n.timeout&&(l.timeout=n.timeout),o&&l.setRequestHeader("Range","bytes="+o.start+"-"+(o.size?o.start+o.size-1:"")),h&&l.setRequestHeader("Content-Type",h),d&&l.overrideMimeType(d),c&&(l.responseType=c),a)for(var f=0,p=Object.keys(a);f<p.length;f++){var v=p[f];l.setRequestHeader(v,a[v])}!0===n.withCredentials&&(l.withCredentials=!0),l.onload=function(){var i=b(regeneratorRuntime.mark(function i(r){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:0===l.status||l.status>=200&&l.status<=300?o&&206!==l.status&&0!==o.start?(l.response.length>1e5&&alert("Warning: Range header ignored for URL: ".concat(t,".  This can have performance impacts.")),e(l.response.slice(o.start,o.start+o.size))):e(l.response):"undefined"==typeof gapi||404!==l.status&&401!==l.status&&403!==l.status||!zt(t)||n.retries?g(403===l.status?"Access forbidden: "+t:416===l.status?"xxUnsatisfiable range":l.status):m();case 1:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}(),l.onerror=function(e){zt(t)&&!n.retries&&m(),g("Error accessing resource: "+t+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){console.log("Aborted"),r(e)};try{l.send(u)}catch(_){r(_)}function g(e){if(!r)throw e;r(e)}function m(){return y.apply(this,arguments)}function y(){return(y=b(regeneratorRuntime.mark(function i(){var r,a,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,function(){var e=b(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Fetch token for "+t),!Ut()){e.next=6;break}return n=function(e){return jt(e)?"https://www.googleapis.com/auth/drive.file":Vt(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(t),e.next=4,Gt(n);case 4:return i=e.sent,e.abrupt("return",i?i.access_token:void 0);case 6:throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 3:return r=i.sent,n.retries=1,n.oauthToken=r,i.next=7,ga(t,n);case 7:a=i.sent,e(a),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),i.t0.error?(o=i.t0.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":i.t0.error,alert(o)):g(i.t0);case 14:case"end":return i.stop()}},i,null,[[0,11]])}))).apply(this,arguments)}}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _a(e,t){return wa.apply(this,arguments)}function wa(){return(wa=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n&&n.range?t.slice(n.range.start,n.range.start+n.range.size):t,e.abrupt("return","arraybuffer"===n.responseType?ka(i):new Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(r.result)},r.onerror=function(e){console.error("reject uploading local file "+t.name),n(null,r)},r.readAsBinaryString(i),console.warn("Deprecated method used: readAsBinaryString")}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ka(e){return xa.apply(this,arguments)}function xa(){return(xa=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"==typeof t.arrayBuffer?t.arrayBuffer():new Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(i.result)},i.onerror=function(e){console.error("reject uploading local file "+localfile.name),n(null,i)},i.readAsArrayBuffer(t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sa(){if(Ut()){var e=function(){var e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){var t=e.getAuthResponse();return{access_token:t.access_token,expires_at:t.expires_at}}}();return e?e.access_token:void 0}}function Ca(e){var t,n,i;return n=e,t=31===(i=ArrayBuffer.isView(n)?n:new Uint8Array(n))[0]&&139===i[1]?function(e){var t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 0!=(4&t[3])&&66===t[12]&&67===t[13]?Wr(t.buffer):qr.ungzip(t)}(e):new Uint8Array(e),"TextDecoder"in("undefined"!=typeof self?self:"undefined"!=typeof global?global:window)?(new TextDecoder).decode(t):function(e){for(var t="",n=0;n<e.length;){var i=e[n],r=0,a=0;if(i<=127?(r=0,a=255&i):i<=223?(r=1,a=31&i):i<=239?(r=2,a=15&i):i<=244&&(r=3,a=7&i),e.length-n-r>0)for(var o=0;o<r;)a=a<<6|63&(i=e[n+o+1]),o+=1;else a=65533,r=e.length-n;t+=String.fromCodePoint(a),n+=r+1}return t}(t)}var Ea={color:1};Ea.parent=Ea,Ea.left=Ea,Ea.right=Ea;var Ra=function(){function e(){v(this,e),this.root=Ea}return m(e,[{key:"insert",value:function(e,t,n){var i=new Pa(new Oa(e,t,n));for(this.treeInsert(i),i.color=2;i!==this.root&&2===i.parent.color;)if(i.parent===i.parent.parent.left){var r=i.parent.parent.right;2===r.color?(i.parent.color=1,r.color=1,i.parent.parent.color=2,i=i.parent.parent):(i===i.parent.right&&Ta.call(this,i=i.parent),i.parent.color=1,i.parent.parent.color=2,Ia.call(this,i.parent.parent))}else{var a=i.parent.parent.left;2===a.color?(i.parent.color=1,a.color=1,i.parent.parent.color=2,i=i.parent.parent):(i===i.parent.left&&Ia.call(this,i=i.parent),i.parent.color=1,i.parent.parent.color=2,Ta.call(this,i.parent.parent))}this.root.color=1}},{key:"findOverlapping",value:function(e,t){var n=new Oa(e,t,0);if(this.root===Ea)return[];var i=Aa.call(this,n,this.root,[]);return i.length>1&&i.sort(function(e,t){return e.low-t.low}),i}},{key:"logIntervals",value:function(){!function e(t,n){for(var i="",r=0;r<n;r++)i+=" ";console.log(i+t.interval.low+" "+t.interval.high),n+=5,t.left!==Ea&&e(t.left,n),t.right!==Ea&&e(t.right,n)}(this.root,0)}},{key:"mapIntervals",value:function(e){!function t(n){e(n.interval),n.left!==Ea&&t(n.left),n.right!==Ea&&t(n.right)}(this.root)}},{key:"treeInsert",value:function(e){for(var t=this.root,n=Ea;t!==Ea;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===Ea?(this.root=e,e.left=e.right=Ea):e.interval.low<=n.interval.low?n.left=e:n.right=e,Da.call(this,e)}}]),e}();function Aa(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==Ea&&t.left.max>=e.low&&Aa.call(this,e,t.left,n),t.right!==Ea&&t.right.min<=e.high&&Aa.call(this,e,t.right,n),n}function Ta(e){var t=e.right;e.right=t.left,t.left!==Ea&&(t.left.parent=e),t.parent=e.parent,e.parent===Ea?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Da.call(this,e)}function Ia(e){var t=e.left;e.left=t.right,t.right!==Ea&&(t.right.parent=e),t.parent=e.parent,e.parent===Ea?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Da.call(this,e)}function Da(e){for(;e!==Ea;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var i=e.left.min<e.right.min?e.left.min:e.right.min,r=e.interval.low;e.min=i<r?i:r,e=e.parent}}var Oa=function(){function e(t,n,i){v(this,e),this.low=t,this.high=n,this.value=i}return m(e,[{key:"equals",value:function(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)}},{key:"compareTo",value:function(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0}},{key:"overlaps",value:function(e){return this.low<=e.high&&e.low<=this.high}}]),e}();function Pa(e){this.parent=Ea,this.left=Ea,this.right=Ea,this.interval=e,this.color=2}var Ma=function(){function e(t,n,i){v(this,e),this.treeMap=this.buildTreeMap(t=t||[],n),this.range=i,this.count=t.length}return m(e,[{key:"containsRange",value:function(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)}},{key:"queryFeatures",value:function(e,t,n){var i=this.treeMap[e];if(!i)return[];var r=i.findOverlapping(t,n);if(0===r.length)return[];var a=[],o=this.allFeatures[e];if(o){var s,l=d(r);try{for(l.s();!(s=l.n()).done;)for(var u=s.value.value,c=u.start;c<u.end;c++){var h=o[c];if(h.start>n)break;h.end>=t&&a.push(h)}}catch(di){l.e(di)}finally{l.f()}a.sort(function(e,t){return e.start-t.start})}return a}},{key:"getAllFeatures",value:function(){return this.allFeatures}},{key:"buildTreeMap",value:function(e,t){var n={},i=[];if(this.allFeatures={},e){var r,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.chr;t&&(s=t.getChromosomeName(s));var l=this.allFeatures[s];l||(i.push(s),l=[],this.allFeatures[s]=l),l.push(o)}}catch(di){a.e(di)}finally{a.f()}var u,c=d(i);try{for(c.s();!(u=c.n()).done;){var h=u.value,f=this.allFeatures[h];f.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}),n[h]=La(f)}}catch(di){c.e(di)}finally{c.f()}}return n}}]),e}();function La(e){for(var t=new Ra,n=e.length,i=Math.max(10,Math.round(n/10)),r=0;r<n;r+=i){for(var a=Math.min(n,r+i),o=new Fa(r,a),s=e[r].start,l=s,u=r;u<a;u++)l=Math.max(l,e[u].end);t.insert(s,l,o)}return t}var Fa=function e(t,n){v(this,e),this.start=t,this.end=n},Na=function(e,t,n){if(e&&0!==e.length){var i=function(e){var t=new Ra,n=e.length,i=Math.max(10,Math.round(n/100));e.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1});for(var r=function(r){var a=Math.min(n,r+i),o=e.slice(r,a),s=o[0].start,l=s;o.forEach(function(e){l=Math.max(l,e.end)}),t.insert(s,l,o)},a=0;a<n;a+=i)r(a);return t}(e).findOverlapping(t,n);return 0===i.length?[]:(e=[],i.forEach(function(i){for(var r=i.value,a=r.length,o=0;o<a;o++){var s=r[o];if(s.start>n)break;s.end>t&&e.push(s)}}),e.sort(function(e,t){return e.start-t.start}),e)}return[]};function za(e,t){var n=Ct({class:"igv-menu-popup-check-container"}),i=Ct();n.appendChild(i);var r=It("check",!0===t?"#444":"transparent");i.appendChild(r);var a=Ct();return a.innerText=e,n.appendChild(a),n}var Va={trackMenuItemList:function(e){var t=new Set(["alignment","annotation","variant","eqtl","snp"]),n=e.track.config&&void 0!==e.track.config.visibilityWindow,i=[];return"sequence"!==e.track.config.type&&(i.push(function(e){var t=St("<div>");return t.text("Set track name"),{object:t,click:function(t){var n,i={label:"Track Name",value:(n=e.track,n.trackView.viewports[0].$trackLabel.text()||"unnamed"),callback:function(){var t=e.browser.inputDialog.input.value;t=""===t||void 0===t?"untitled":t.trim(),e.track.name=t}};e.browser.inputDialog.present(i,t)}}}(e)),i.push(function(e){var t=St("<div>");return t.text("Set track height"),{object:t,click:function(t){e.browser.inputDialog.present({label:"Track Height",value:e.track.height,callback:function(){var t=parseFloat(e.browser.inputDialog.input.value,10);void 0!==t&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0),e.checkContentHeight(),e.repaintViews(),e.track.autoHeight=!1)}},t)}}}(e))),this.showColorPicker(e.track)&&(i.push("<hr/>"),i.push(ja({trackView:e,label:"Set track color",option:"color"})),i.push(function(e){var t=e.trackView,n=e.label,i=St("<div>");return i.text(n),{object:i,click:function(){t.track.color=void 0,t.repaintViews()}}}({trackView:e,label:"Unset track color"})),i.push(ja({trackView:e,label:"Set alt color",option:"altColor"}))),e.track.menuItemList&&(i=i.concat(e.track.menuItemList())),(n||t.has(e.track.type))&&(i.push("<hr/>"),i.push(function(e){var t=St("<div>");return t.text("Set visibility window"),{object:t,click:function(t){e.browser.inputDialog.present({label:"Visibility Window",value:e.track.visibilityWindow,callback:function(){var t=e.browser.inputDialog.input.value;t=""===t||void 0===t?-1:t.trim(),e.track.visibilityWindow=Number.parseInt(t),e.track.config.visibilityWindow=Number.parseInt(t),e.updateViews()}},t)}}}(e))),!1!==e.track.removable&&(i.push("<hr/>"),i.push(function(e){var t=St("<div>");return t.text("Remove track"),{object:t,click:function(){return e.browser.removeTrack(e.track)}}}(e))),i},numericDataMenuItems:function(e){var t=[];t.push("<hr/>");var n=St("<div>");return n.text("Set data range"),t.push({object:n,click:function(){e.browser.dataRangeDialog.configure(e),e.browser.dataRangeDialog.present(St(e.browser.columnContainer))}}),void 0!==e.track.logScale&&t.push({object:St(za("Log scale",e.track.logScale)),click:function(){e.track.logScale=!e.track.logScale,e.repaintViews()}}),t.push({object:St(za("Autoscale",e.track.autoscale)),click:function(){e.track.autoscale=!e.track.autoscale,e.updateViews()}}),t},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map(function(e,n){var i;if(e.name?(i=St("<div>")).text(e.name):e.object?i=e.object:"string"==typeof e.label?(i=St("<div>")).html(e.label):"string"==typeof e&&(i=e.startsWith("<")?St(e):St("<div>"+e+"</div>")),0===n&&i.addClass("igv-track-menu-border-top"),e.click){var r=function(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()};i.on("click",r),i.on("touchend",function(e){r(e)}),i.on("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}return{object:i,init:e.init||void 0}})),n},showColorPicker:function(e){return void 0===e.type||"bedtype"===e.type||"alignment"===e.type||"annotation"===e.type||"variant"===e.type||"wig"===e.type||"interact"===e.type},createMenuItem:function(e,t){var n=St("<div>");return n.text(e),{object:n,click:t}}};function ja(e){var t=e.trackView,n=e.label,i=e.option,r=St("<div>");return r.text(n),{object:r,click:function(){return t.presentColorPicker(i)}}}function Ba(e){return function(e,t){var n=document.createElement("div");return t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e.style[r]=t[r]}}(n,t.style)),n}(0,e)}function Ha(e){var t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function qa(e){"none"===getComputedStyle(e).display&&(e.style.display=e._initialDisplay||"block")}function Ua(e,t){t=t||"currentColor";var n=Ga[e];n||(console.error("No icon named: ".concat(e)),n=Ga.question);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);var r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttributeNS(null,"fill",t),r.setAttributeNS(null,"d",n[4]),i.appendChild(r),i}var Wa,Ga={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function $a(e,t){var n=document.createElement("div");e.appendChild(n),n.appendChild(Ua("times",void 0)),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}function Ya(e,t){t.addEventListener("mousedown",Za.bind(e))}function Za(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};e.getBoundingClientRect()}(this);var t=Ka.bind(this),n=Xa.bind(this),i=getComputedStyle(this),r=parseInt(i.top.replace("px","")),a=parseInt(i.left.replace("px",""));Wa={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:r,left:a},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function Ka(e){if(Wa){e.stopPropagation(),e.preventDefault();var t=e.screenY-Wa.screenY;this.style.left="".concat(Wa.left+(e.screenX-Wa.screenX),"px"),this.style.top="".concat(Wa.top+t,"px")}else console.log("No drag data!")}function Xa(e){if(Wa){e.stopPropagation(),e.preventDefault();var t=Wa.dragEndFunction;document.removeEventListener("mousemove",Wa.dragFunction),document.removeEventListener("mouseup",t),document.removeEventListener("mouseleave",t),document.removeEventListener("mouseexit",t),Wa=void 0}else console.log("No drag data!")}var Qa,Ja,eo={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},to=function(){function e(t){var n=this;v(this,e),this.container=Ba({class:"igv-ui-alert-dialog-container"}),t.appendChild(this.container),this.container.setAttribute("tabIndex","-1");var i=Ba();this.container.appendChild(i),this.errorHeadline=Ba(),i.appendChild(this.errorHeadline),this.errorHeadline.textContent="";var r=Ba({id:"igv-ui-alert-dialog-body"});this.container.appendChild(r),this.body=Ba({id:"igv-ui-alert-dialog-body-copy"}),r.appendChild(this.body);var a=Ba();this.container.appendChild(a),this.ok=Ba(),a.appendChild(this.ok),this.ok.textContent="OK";var o=function(){"function"==typeof n.callback&&(n.callback("OK"),n.callback=void 0),n.body.innerHTML="",Ha(n.container)};this.ok.addEventListener("click",function(e){e.stopPropagation(),o()}),this.container.addEventListener("keypress",function(e){e.stopPropagation(),"Enter"===e.key&&o()}),Ya(this.container,i),Ha(this.container)}return m(e,[{key:"present",value:function(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";var n=e.message||e;eo.hasOwnProperty(n)&&(n=eo[n]),this.body.innerHTML=n,this.callback=t,qa(this.container),this.container.focus()}}]),e}(),no={init:function(e){Qa||(Qa=new to(e))},presentAlert:function(e,t){Qa||this.init(document.body),Qa.present(e,t)}},io=function(){function e(t){var n=this;v(this,e),this.parent=t,this.container=Ba({class:"igv-ui-generic-dialog-container"}),t.appendChild(this.container);var i=Ba({class:"igv-ui-generic-dialog-header"});this.container.appendChild(i),this.label=Ba({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=Ba({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this.input=document.createElement("input"),this.input_container.appendChild(this.input);var r=Ba({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(r),this.ok=Ba(),r.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Ba(),r.appendChild(this.cancel),this.cancel.textContent="Cancel",Ha(this.container),this.input.addEventListener("keyup",function(e){13===e.keyCode&&("function"==typeof n.callback&&(n.callback(n.input.value),n.callback=void 0),n.input.value=void 0,Ha(n.container))}),this.ok.addEventListener("click",function(){"function"==typeof n.callback&&(n.callback(n.input.value),n.callback=void 0),n.input.value=void 0,Ha(n.container)});var a=function(){n.input.value="",Ha(n.container)};this.cancel.addEventListener("click",a),$a(i,a),Ya(this.container,i)}return m(e,[{key:"present",value:function(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback||e.click,qa(this.container);var n=function(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}(t),i=n.x,r=n.y;this.clampLocation(i,r)}},{key:"clampLocation",value:function(e,t){var n=this.container.getBoundingClientRect(),i=n.width,r=n.height;console.log("InputDialog - clampLocation() - width ".concat(i," height ").concat(r));var a=this.parent.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height,c=Math.min(Math.max(t,s),s+u-r),h=Math.min(Math.max(e,o),o+l-i);this.container.style.left="".concat(h,"px"),this.container.style.top="".concat(c,"px")}}]),e}(),ro={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},ao=function(){function e(t){var n=this,i=t.parent,r=t.top,a=t.left,o=t.width,s=t.height,l=t.border,u=t.closeHandler;v(this,e);var c=Ba({class:"igv-ui-generic-container"});i.appendChild(c),Ha(c),this.container=c,void 0!==r&&(this.container.style.top="".concat(r,"px")),void 0!==a&&(this.container.style.left="".concat(a,"px")),void 0!==o&&(this.container.style.width="".concat(o,"px")),void 0!==s&&(this.container.style.height="".concat(s,"px")),l&&(this.container.style.border=l);var h=Ba();this.container.appendChild(h),$a(h,function(e){Ha(n.container),"function"==typeof u&&u(e)}),Ya(this.container,h)}return m(e,[{key:"show",value:function(){qa(this.container)}},{key:"hide",value:function(){Ha(this.container)}},{key:"dispose",value:function(){this.container.parent&&this.container.parent.removeChild(this.container)}}]),e}(),oo=function(e){a(n,e);var t=s(n);function n(e){var i,r=e.parent,a=e.top,o=e.left,s=e.width,l=e.height,u=e.defaultColors,c=e.colorHandler;return v(this,n),i=t.call(this,{parent:r,top:a,left:o,width:s,height:l,border:"1px solid gray"}),so(i.container,c,u),i}return n}(ao),so=function(e,t,n){for(var i=0,r=Object.values(ro);i<r.length;i++){var a=r[i],o=Ba({class:"igv-ui-color-swatch"});e.appendChild(o),lo(o,a,t)}if(n){var s,l=d(n);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=Ba({class:"igv-ui-color-swatch"});e.appendChild(c),lo(c,u,t)}}catch(di){l.e(di)}finally{l.f()}}},lo=function(e,t,n){e.style.backgroundColor=t,e.addEventListener("mouseenter",function(n){return e.style.borderColor=t}),e.addEventListener("mouseleave",function(t){return e.style.borderColor="white"}),e.addEventListener("click",function(e){e.stopPropagation(),n(t)}),e.addEventListener("touchend",function(e){e.stopPropagation(),n(t)})},uo=function(){function e(t,n){var i=this;v(this,e),this.parent=t,this.popover=Ba({class:"igv-ui-popover"}),t.appendChild(this.popover);var r=Ba();this.popover.appendChild(r);var a=Ba();r.appendChild(a),n&&(a.textContent=n),$a(r,function(){return i.hide()}),Ya(this.popover,r),this.popoverContent=Ba(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none"}return m(e,[{key:"presentContentWithEvent",value:function(e,t){this.popover.style.display="block",this.popoverContent.innerHTML=t,co(e,this.popover)}},{key:"presentMenu",value:function(e,t){if(0!==t.length){this.popover.style.display="block";var n,i,r=d((n=this.popover,t.map(function(e,t){var i;if("string"==typeof e)(i=Ba()).innerHTML=e;else if("Node"==typeof e)i=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)i=function(e,t){var n=Ba({class:"igv-ui-trackgear-popover-check-container"}),i=Ua("check",!0===t?"#444":"transparent");i.style.borderColor="gray",i.style.borderWidth="1px",i.style.borderStyle="solid",n.appendChild(i);var r=Ba();return r.textContent="Show all bases",n.appendChild(r),n}(0,e.value);else if("color"===e.type){var r=new oo({parent:n.parentElement,width:364,colorHandler:function(t){return e.click(t)}});i=Ba(),"string"==typeof e.label&&(i.innerHTML=e.label);var a=function(e){r.show(),Ha(n),e.preventDefault(),e.stopPropagation()};i.addEventListener("click",a),i.addEventListener("touchend",a),i.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}else i=Ba(),"string"==typeof e.label&&(i.innerHTML=e.label);if(e.click&&"color"!==e.type){var o=function(t){e.click(),Ha(n),t.preventDefault(),t.stopPropagation()};i.addEventListener("click",o),i.addEventListener("touchend",o),i.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}}return{object:i,init:e.init}})));try{for(r.s();!(i=r.n()).done;){var a=i.value;this.popoverContent.appendChild(a.object)}}catch(di){r.e(di)}finally{r.f()}co(e,this.popover)}}},{key:"hide",value:function(){this.popover.style.display="none",this.dispose()}},{key:"dispose",value:function(){this.popover&&this.popover.parentNode.removeChild(this.popover);for(var e=0,t=Object.keys(this);e<t.length;e++){this[t[e]]=void 0}}}]),e}();function co(e,t){var n,i=(n=e,function(e,t){var n=t.clientX,i=t.clientY,r=e.getBoundingClientRect(),a=r.left,o=r.top,s=r.width,l=r.height,u=n-a,c=i-o;return{x:u,y:c,xNormalized:u/s,yNormalized:c/l,width:s,height:l}}(t.parentNode,{clientX:n.clientX,clientY:n.clientY})),r=i.x,a=i.y,o=t.parentNode.getBoundingClientRect().width,s=t.getBoundingClientRect().width,l=r+s;console.log("popover-parent width ".concat(o,". popover x ").concat(r," width ").concat(s," xmax ").concat(l,".")),t.style.left="".concat(l>o?r-(l-o):r,"px"),t.style.top="".concat(a,"px")}"undefined"!=typeof document&&(function(e){var t,n=d(document.styleSheets);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("igv-ui.css"===(i=i.href?i.href.replace(/^.*[\\\/]/,""):""))return!0}}catch(di){n.e(di)}finally{n.f()}return!1}()||((Ja=document.createElement("style")).setAttribute("type","text/css"),Ja.innerHTML='.igv-ui-popover {\n  cursor: default;\n  position: absolute;\n  z-index: 2048;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  background-color: white; }\n  .igv-ui-popover > div:first-child {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-popover > div:first-child > div:first-child {\n      margin-left: 4px; }\n    .igv-ui-popover > div:first-child > div:last-child {\n      margin-right: 4px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-popover > div:first-child > div:last-child:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-popover > div:last-child {\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 400px;\n    max-width: 1500px;\n    background-color: white; }\n    .igv-ui-popover > div:last-child > div {\n      -webkit-user-select: all;\n      /* Chrome/Safari */\n      -moz-user-select: all;\n      /* Firefox */\n      margin-left: 4px;\n      margin-right: 4px;\n      min-width: 220px;\n      overflow-x: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n      .igv-ui-popover > div:last-child > div > span {\n        font-weight: bolder; }\n    .igv-ui-popover > div:last-child hr {\n      width: 100%; }\n\n.igv-ui-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center; }\n  .igv-ui-alert-dialog-container > div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-alert-dialog-container > div:first-child div:first-child {\n      padding-left: 8px; }\n  .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body #igv-ui-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-ui-alert-dialog-container > div:last-child {\n    width: 100%;\n    margin-bottom: 10px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-ui-alert-dialog-container > div:last-child div {\n      margin: unset;\n      width: 40px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: small;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-alert-dialog-container > div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-ui-color-swatch {\n  position: relative;\n  box-sizing: content-box;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-ui-color-swatch:hover {\n  border-color: dimgray; }\n\n.igv-ui-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-ui-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-ui-colorpicker-menu-close-button i.fa:hover,\n  .igv-ui-colorpicker-menu-close-button i.fa:focus,\n  .igv-ui-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-ui-generic-dialog-container {\n  box-sizing: content-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-generic-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-ui-generic-container div:first-child div {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-ui-dialog {\n  z-index: 2048;\n  position: fixed;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400; }\n  .igv-ui-dialog .igv-ui-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-dialog .igv-ui-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-dialog .igv-ui-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-dialog .igv-ui-dialog-one-liner {\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin: 8px;\n    overflow-wrap: break-word;\n    background-color: white;\n    font-weight: bold; }\n  .igv-ui-dialog .igv-ui-dialog-ok-cancel {\n    width: 100%;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div {\n      margin: 16px;\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {\n      background-color: #5ea4e0; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {\n      background-color: #c4c4c4; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-dialog .igv-ui-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-dialog .igv-ui-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-panel, .igv-ui-panel-column, .igv-ui-panel-row {\n  z-index: 2048;\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n.igv-ui-panel-column {\n  display: flex;\n  flex-direction: column; }\n\n.igv-ui-panel-row {\n  display: flex;\n  flex-direction: row; }\n\n.igv-ui-textbox {\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n/*# sourceMappingURL=igv-ui.css.map */\n',document.head.insertBefore(Ja,document.head.childNodes[document.head.childNodes.length-1])));var ho=function(){function e(t,n){var i=this;v(this,e),this.$container=St("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0});var r=St("<div>",{class:"igv-generic-dialog-header"});this.$container.append(r),Ot(r[0],function(){i.$minimum_input.val(void 0),i.$maximum_input.val(void 0),i.$container.offset({left:0,top:0}),i.$container.hide()}),this.$minimum=St("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum);var a=St("<div>");a.text("Minimum"),this.$minimum.append(a),this.$minimum_input=St("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=St("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum);var o=St("<div>");o.text("Maximum"),this.$maximum.append(o),this.$maximum_input=St("<input>"),this.$maximum.append(this.$maximum_input);var s=St("<div>",{class:"igv-generic-dialog-ok-cancel"});this.$container.append(s),this.$ok=St("<div>"),s.append(this.$ok),this.$ok.text("OK"),this.$cancel=St("<div>"),s.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){i.$minimum_input.val(void 0),i.$maximum_input.val(void 0),i.$container.offset({left:0,top:0}),i.$container.hide()}),ia(this.$container.get(0),r.get(0)),this.$container.hide()}return m(e,[{key:"configure",value:function(e){var t,n,i=this,r=e.dataRange();r?(t=r.min,n=r.max):(t=0,n=100),this.$minimum_input.val(t),this.$maximum_input.val(n),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",function(t){13===t.keyCode&&i.processResults(e)}),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",function(t){13===t.keyCode&&i.processResults(e)}),this.$ok.unbind(),this.$ok.on("click",function(t){i.processResults(e)})}},{key:"processResults",value:function(e){var t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val());isNaN(t)||isNaN(n)?no.presentAlert(new Error("Must input numeric values"),void 0):e.setDataRange(t,n),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}},{key:"present",value:function(e){var t=e.offset().top,n=St("body").scrollTop();this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()}}]),e}(),fo={configureHighDPICanvas:function(e,t,n){var i=window.devicePixelRatio;e.canvas.style.width="".concat(t,"px"),e.canvas.width=Math.floor(i*t),e.canvas.style.height="".concat(n,"px"),e.canvas.height=Math.floor(i*n),e.scale(i,i)},setProperties:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},strokeLine:function(e,t,n,i,r,a){t=Math.floor(t)+.5,n=Math.floor(n)+.5,i=Math.floor(i)+.5,r=Math.floor(r)+.5,a&&(e.save(),fo.setProperties(e,a)),e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke(),a&&e.restore()},fillRect:function(e,t,n,i,r,a){t=Math.round(t),n=Math.round(n),a&&(e.save(),fo.setProperties(e,a)),e.fillRect(t,n,i,r),a&&e.restore()},fillPolygon:function(e,t,n,i){i&&(e.save(),fo.setProperties(e,i)),po(e,t,n),e.fill(),i&&e.restore()},strokePolygon:function(e,t,n,i){i&&(e.save(),fo.setProperties(e,i)),po(e,t,n),e.stroke(),i&&e.restore()},fillText:function(e,t,n,i,r,a){if((r||a)&&e.save(),r&&fo.setProperties(e,r),a){for(var o in e.translate(n,i),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,i);(r||a)&&e.restore()},strokeText:function(e,t,n,i,r,a){if((r||a)&&e.save(),r&&fo.setProperties(e,r),a){for(var o in e.translate(n,i),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,i);(r||a)&&e.restore()},strokeCircle:function(e,t,n,i,r){r&&(e.save(),fo.setProperties(e,r)),e.beginPath(),e.arc(t,n,i,0,2*Math.PI),e.stroke(),r&&e.restore()},fillCircle:function(e,t,n,i,r){r&&(e.save(),fo.setProperties(e,r)),e.beginPath(),e.arc(t,n,i,0,2*Math.PI),e.fill(),r&&e.restore()},drawArrowhead:function(e,t,n,i,r){e.save(),i||(i=5),r&&(e.lineWidth=r),e.beginPath(),e.moveTo(t,n-i/2),e.lineTo(t,n+i/2),e.lineTo(t+i,n),e.lineTo(t,n-i/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===a&&(a=2),e.setLineDash([a,a]),fo.strokeLine(e,t,n,i,r,o),e.setLineDash([])},roundRect:function(e,t,n,i,r,a,o,s){void 0===s&&(s=!0),void 0===a&&(a=5),e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+a),e.lineTo(t+i,n+r-a),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),s&&e.stroke(),o&&e.fill()},polygon:function(e,t,n,i,r){void 0===r&&(r=!0),e.beginPath();var a=t.length;e.moveTo(t[0],n[0]);for(var o=1;o<a;o++)e.lineTo(t[o],n[o]);e.closePath(),r&&e.stroke(),i&&e.fill()}};function po(e,t,n){var i,r=t.length;for(i=0;i<r;i++)t[i]=Math.round(t[i]),n[i]=Math.round(n[i]);for(e.beginPath(),e.moveTo(t[0],n[0]),i=1;i<r;i++)e.lineTo(t[i],n[i]);e.closePath()}var vo={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},go=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas","maf","mut"]),mo=30,yo=30,bo=30,_o={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]},wo=function(){function e(t){v(this,e),this.colors=_o[t],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new xo}return m(e,[{key:"getColor",value:function(e){return this.colorTable.hasOwnProperty(e)||(this.colorTable[e]=this.nextIdx<this.colors.length?this.colors[this.nextIdx]:this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]}}]),e}(),ko=function(){function e(t){v(this,e),this.colorTable=t||{},this.nextIdx=0,this.colorGenerator=new xo}return m(e,[{key:"getColor",value:function(e){if(!this.colorTable.hasOwnProperty(e)){if(this.colorTable.hasOwnProperty("*"))return this.colorTable["*"];this.colorTable[e]=this.colorGenerator.get()}return this.colorTable[e]}}]),e}();function xo(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}xo.prototype.hsvToRgb=function(e,t,n){var i=Math.floor(6*e),r=6*e-i,a=n*(1-t),o=n*(1-r*t),s=n*(1-(1-r)*t),l=255,u=255,c=255;switch(i){case 0:l=n,u=s,c=a;break;case 1:l=o,u=n,c=a;break;case 2:l=a,u=n,c=s;break;case 3:l=a,u=o,c=n;break;case 4:l=s,u=a,c=n;break;case 5:l=n,u=a,c=o}return[Math.floor(256*l),Math.floor(256*u),Math.floor(256*c)]},xo.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},xo.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};for(var So=new xo,Co=Number.MIN_SAFE_INTEGER,Eo={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"},Ro={},Ao=["A","G","C","T","Y","R","W","S","K","M","D","V","H","B","N","X"],To=["T","C","G","A","R","Y","W","S","M","K","H","B","D","V","N","X"],Io=0;Io<Ao.length;Io++)Ro[Ao[Io]]=To[Io],Ro[Ao[Io].toLowerCase()]=To[Io].toLowerCase();var Do=function(){function e(t,n){v(this,e),this.type="sequence",this.browser=n,this.removable=!1,this.config=t,this.name="Sequence",this.id="sequence",this.sequenceType=t.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=t.order||Co,this.ignoreTrackMenu=!1,this.reversed=!1,this.frameTranslate=!1}var t;return m(e,[{key:"menuItemList",value:function(){var e=this;return[{name:this.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:this.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){if(e.frameTranslate=!e.frameTranslate,e.frameTranslate){var t,n=d(e.trackView.viewports);try{for(n.s();!(t=n.n()).done;){t.value.setContentHeight(115)}}catch(di){n.e(di)}finally{n.f()}e.trackView.setTrackHeight(115)}else{var i,r=d(e.trackView.viewports);try{for(r.s();!(i=r.n()).done;){i.value.setContentHeight(25)}}catch(di){r.e(di)}finally{r.f()}e.trackView.setTrackHeight(25)}e.trackView.repaintViews()}}]}},{key:"contextMenuItemList",value:function(e){var t,n,i=this,r=e.viewport;return r.referenceFrame.bpPerPixel<=1?[{label:"View visible sequence...",click:(n=b(regeneratorRuntime.mark(function e(){var t,n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.getWidth(),n=r.referenceFrame.chr,a=r.referenceFrame.start,o=a+t*r.referenceFrame.bpPerPixel,e.next=6,i.browser.genome.sequence.getSequence(n,a,o);case 6:s=e.sent,no.presentAlert(s);case 8:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{label:"Copy visible sequence",click:(t=b(regeneratorRuntime.mark(function e(){var t,n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.getWidth(),n=r.referenceFrame.chr,a=r.referenceFrame.start,o=a+t*r.referenceFrame.bpPerPixel,e.next=6,i.browser.genome.sequence.getSequence(n,a,o);case 6:s=e.sent,navigator.clipboard.writeText(s);case 8:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},"<hr/>"]:void 0}},{key:"translateSequence",value:function(e){for(var t=[[],[],[]],n=0,i=[0,1,2];n<i.length;n++)for(var r=i[n],a=r;e.length-a>=3;){var o=e.slice(a,a+3);this.reversed&&(o=o.split("").reverse().join(""));var s=Eo[o.toUpperCase()]||"";t[r].push({codons:o,aminoA:s}),a+=3}return t}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&r>1)){e.next=4;break}e.t0=null,e.next=9;break;case 4:return e.t1=n,e.next=7,this.browser.genome.sequence.getSequence(t,n,i);case 7:e.t2=e.sent,e.t0={bpStart:e.t1,sequence:e.t2};case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context;if(e.features){for(var n=e.features.sequence,i=e.features.bpStart,r=1+e.bpStart+e.pixelWidth*e.bpPerPixel,a=i;a<=r;a++){var o=Math.floor(a-i);if(o<n.length){var s=n[o];this.reversed&&(s=Ro[s]||"");var l=a-e.bpStart,u=l/e.bpPerPixel,c=(l+1)/e.bpPerPixel,h=this.fillColor(s);if(e.bpPerPixel>.1)fo.fillRect(t,u,5,c-u,10,{fillStyle:h});else{var f=.5*(u+c-t.measureText(s).width);fo.strokeText(t,s,f,15,{strokeStyle:h})}}}if(this.frameTranslate){var p;this.reversed?p=(p=n.split("").map(function(e){return Ro[e]})).join(""):p=n;var v,g=15,m=this.translateSequence(p),y=d(m);try{for(y.s();!(v=y.n()).done;){var b=v.value,_=m.indexOf(b),w=_;g=0===_?g+10:g+30;var k,x=d(b);try{for(x.s();!(k=x.n()).done;){var S=k.value,C=void 0,E=b.indexOf(S),R=E+w+2*E,A=0==E%2?"rgb(160,160,160)":"rgb(224,224,224)",T=Math.floor(R/e.bpPerPixel),I=Math.floor((R+3)/e.bpPerPixel),D=Math.round((T+I)/2);S.aminoA.indexOf("STOP")>-1?(A="rgb(255, 0, 0)",C="STOP"):C=S.aminoA,"M"===S.aminoA&&(A="rgb(0, 153, 0)",C="START"),fo.fillRect(t,T,g,I-T,25,{fillStyle:A}),e.bpPerPixel<=.1&&fo.strokeText(t,C,D-t.measureText(C).width/2,g+15)}}catch(di){x.e(di)}finally{x.f()}}}catch(di){y.e(di)}finally{y.f()}}}}},{key:"supportsWholeGenome",value:function(){return!1}},{key:"computePixelHeight",value:function(e){return this.height}},{key:"fillColor",value:function(e){return this.color?this.color:"dna"===this.sequenceType?this.browser.nucleotideColors[e]||"gray":"rgb(0, 0, 150)"}}]),e}();function Oo(e,t){var n,i=Object.keys(t);for(n=0;n<i.length;n++)e=e.replace(new RegExp("\\{"+i[n]+"\\}","gi"),t[i[n]]);return e}function Po(e){var t,n,i;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",i=0;i<12;i++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function Mo(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}function Lo(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}var Fo=function(e,t){var n,i,r,a={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i="&"+e[n+1]+";",r=parseInt(e[n],t),a[i]="&#"+r+";";return a["\\xa0"]="&#160;",a}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),No={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},zo=function(){function e(t,n){v(this,e),this.__root=t,this.__ctx=n}return m(e,[{key:"addColorStop",value:function(e,t){var n,i=this.__ctx.__createElement("stop");i.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),i.setAttribute("stop-color",Oo("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),i.setAttribute("stop-opacity",n[4])):i.setAttribute("stop-color",t),this.__root.appendChild(i)}}]),e}(),Vo=function e(t,n){v(this,e),this.__root=t,this.__ctx=n},jo=function(){function e(t){if(v(this,e),!(this instanceof e))return new e(t);this.config=t,this.width=t.width,this.height=t.height,this.enableMirroring=t.enableMirroring||!1,this.canvas=this,this.__document=document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),t.viewbox&&(this.__root.setAttribute("viewBox",t.viewbox.x+" "+t.viewbox.y+" "+t.viewbox.width+" "+t.viewbox.height),this.viewbox=t.viewbox),this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=t.multiLocusGap;var n=this.__createElement("rect",{id:"svg_output_backdrop",width:"100%",height:"100%",fill:t.backdropColor||"white"});this.__root.appendChild(n),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}return m(e,[{key:"setWidth",value:function(e){this.width=e,this.__root.setAttribute("width",this.width),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height)}},{key:"setHeight",value:function(e){this.height=e,this.__root.setAttribute("height",this.height),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e)}},{key:"__createElement",value:function(e,t,n){void 0===t&&(t={});var i=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none"));for(var r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];i.setAttribute(o,t[o])}return i}},{key:"__setDefaultStyles",value:function(){var e,t,n=Object.keys(No);for(e=0;e<n.length;e++)this[t=n[e]]=No[t].canvas}},{key:"__applyStyleState",value:function(e){var t,n,i=Object.keys(e);for(t=0;t<i.length;t++)this[n=i[t]]=e[n]}},{key:"__getStyleState",value:function(){var e,t,n={},i=Object.keys(No);for(e=0;e<i.length;e++)n[t=i[e]]=this[t];return n}},{key:"__applyStyleToCurrentElement",value:function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach(function(t){t.setAttribute(e,"")}));var i,r,a,o,s,l=Object.keys(No);for(i=0;i<l.length;i++)if(a=this[l[i]],(r=No[l[i]]).apply)if(a instanceof Vo){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)o=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[o]=o,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);t.setAttribute(r.apply,Oo("url(#{id})",{id:a.__root.getAttribute("id")}))}else if(a instanceof zo)t.setAttribute(r.apply,Oo("url(#{id})",{id:a.__root.getAttribute("id")}));else if(r&&-1!==r.apply.indexOf(e)&&r.svg!==a)if("stroke"!==r.svgAttr&&"fill"!==r.svgAttr||!a||-1===a.indexOf("rgba")){var u=r.svgAttr;if("globalAlpha"===l[i]&&t.getAttribute(u=e+"-"+r.svgAttr))continue;t.setAttribute(u,a)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(a),t.setAttribute(r.svgAttr,Oo("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var c=s[4],h=this.globalAlpha;null!=h&&(c*=h),t.setAttribute(r.svgAttr+"-opacity",c)}}},{key:"__closestGroupOrSvg",value:function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)}},{key:"getSerializedSvg",value:function(e){var t,n,i,r,a,o=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Fo),n=0;n<t.length;n++)r=Fo[i=t[n]],(a=new RegExp(i,"gi")).test(o)&&(o=o.replace(a,r));return o}},{key:"getSvg",value:function(){return this.__root}},{key:"saveWithTranslationAndClipRect",value:function(e,t,n,i,r,a){var o="".concat(e,"_clip_rect"),s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s);var l={x:"0",y:a.toString(),width:i.toString(),height:r.toString()};s.appendChild(this.__createElement("rect",l));var u=this.__createElement("g");u.setAttribute("transform",Oo("translate({x},{y})",{x:t,y:n})),u.setAttribute("clip-path",Oo("url(#{id})",{id:o}));var c=this.__closestGroupOrSvg();c.appendChild(u),this.__groupStack.push(c),this.__currentElement=u,this.__stack.push(this.__getStyleState())}},{key:"save",value:function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())}},{key:"restore",value:function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)}},{key:"__addTransform",value:function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var i=this.__currentElement.getAttribute("transform");i?i+=" ":i="",this.__currentElement.setAttribute("transform",i+=e)}},{key:"addTrackGroupWithTranslationAndClipRect",value:function(e,t,n,i,r,a){var o=e+"_clip_rect",s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:a.toString(),width:i.toString(),height:r.toString()}));var l=this.__createElement("g");this.__rootGroup.appendChild(l),l.setAttribute("transform",Oo("translate({x},{y})",{x:t,y:n})),l.setAttribute("id",e+"_group"),l.setAttribute("clip-path",Oo("url(#{id})",{id:o})),this.__currentElement=l}},{key:"scale",value:function(e,t){void 0===t&&(t=e),this.__addTransform(Oo("scale({x},{y})",{x:e,y:t}))}},{key:"rotate",value:function(e){var t=180*e/Math.PI;this.__addTransform(Oo("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))}},{key:"translate",value:function(e,t){this.__addTransform(Oo("translate({x},{y})",{x:e,y:t}))}},{key:"transform",value:function(e,t,n,i,r,a){this.__addTransform(Oo("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:i,e:r,f:a}))}},{key:"beginPath",value:function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e}},{key:"__applyCurrentDefaultPath",value:function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)}},{key:"__addPathCommand",value:function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e}},{key:"moveTo",value:function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Oo("M {x} {y}",{x:e,y:t}))}},{key:"closePath",value:function(){this.__currentDefaultPath&&this.__addPathCommand("Z")}},{key:"lineTo",value:function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Oo("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Oo("M {x} {y}",{x:e,y:t}))}},{key:"bezierCurveTo",value:function(e,t,n,i,r,a){this.__currentPosition={x:r,y:a},this.__addPathCommand(Oo("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:i,x:r,y:a}))}},{key:"quadraticCurveTo",value:function(e,t,n,i){this.__currentPosition={x:n,y:i},this.__addPathCommand(Oo("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:i}))}},{key:"arcTo",value:function(e,t,n,i,r){var a=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==a&&void 0!==o){if(r<0)throw new Error("IndexSizeError: The radius provided ("+r+") is negative.");if(a===e&&o===t||e===n&&t===i||0===r)this.lineTo(e,t);else{var s=Lo([a-e,o-t]),l=Lo([n-e,i-t]);if(s[0]*l[1]!=s[1]*l[0]){var u=Math.acos(Math.abs(s[0]*l[0]+s[1]*l[1])),c=Lo([s[0]+l[0],s[1]+l[1]]),h=r/Math.sin(u/2),d=e+h*c[0],f=t+h*c[1],p=[-s[1],s[0]],v=[l[1],-l[0]],g=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},m=g(p),y=g(v);this.lineTo(d+p[0]*r,f+p[1]*r),this.arc(d,f,r,m,y)}else this.lineTo(e,t)}}}},{key:"stroke",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}},{key:"fill",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}},{key:"rect",value:function(e,t,n,i){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.closePath()}},{key:"fillRect",value:function(e,t,n,i){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n);var r,a,o,s={x:e,y:t,width:n,height:i};(!this.viewbox||(r=this.viewbox).x<(a=s).x+a.width&&r.x+r.width>a.x&&r.y<a.y+a.height&&r.y+r.height>a.y)&&(o=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill"))}},{key:"strokeRect",value:function(e,t,n,i){var r;r=this.__createElement("rect",{x:e,y:t,width:n,height:i},!0),this.__closestGroupOrSvg().appendChild(r),this.__currentElement=r,this.__applyStyleToCurrentElement("stroke")}},{key:"strokeEllipse",value:function(e,t,n,i,r,a,o,s){this.__ellipse(e,t,n,i,r,a,o,s,"stroke")}},{key:"fillEllipse",value:function(e,t,n,i,r,a,o,s){this.__ellipse(e,t,n,i,r,a,o,s,"fill")}},{key:"__ellipse",value:function(e,t,n,i,r,a,o,s,l){var u=this.__createElement("ellipse",{cx:e,cy:t,rx:n,ry:i},!0);this.__closestGroupOrSvg().appendChild(u),this.__currentElement=u,this.__applyStyleToCurrentElement(l)}},{key:"__clearCanvas",value:function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,i=n.length-1;i>=0;i--)n[i]&&t.removeChild(n[i]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)}},{key:"clearRect",value:function(e,t,n,i){if(0!==e||0!==t||n!==this.width||i!==this.height){var r,a=this.__closestGroupOrSvg();r=this.__createElement("rect",{x:e,y:t,width:n,height:i,fill:"#FFFFFF"},!0),a.appendChild(r)}else this.__clearCanvas()}},{key:"createLinearGradient",value:function(e,t,n,i){var r=this.__createElement("linearGradient",{id:Po(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:i+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(r),new zo(r,this)}},{key:"createRadialGradient",value:function(e,t,n,i,r,a){var o=this.__createElement("radialGradient",{id:Po(this.__ids),cx:i+"px",cy:r+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new zo(o,this)}},{key:"__parseFont",value:function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t}},{key:"__wrapTextLink",value:function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t}},{key:"__applyText",value:function(e,t,n,i){var r,a,o=this.__parseFont(),s=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:n,"text-anchor":(r=this.textAlign,a={left:"start",right:"end",center:"middle",start:"start",end:"end"},a[r]||a.start),"dominant-baseline":Mo(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(e)),this.__currentElement=l,this.__applyStyleToCurrentElement(i),s.appendChild(this.__wrapTextLink(o,l))}},{key:"fillText",value:function(e,t,n){this.__applyText(e,t,n,"fill")}},{key:"strokeText",value:function(e,t,n){this.__applyText(e,t,n,"stroke")}},{key:"measureText",value:function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)}},{key:"arc",value:function(e,t,n,i,r,a){if(i!==r){(i%=2*Math.PI)==(r%=2*Math.PI)&&(r=(r+2*Math.PI-.001*(a?-1:1))%(2*Math.PI));var o,s=e+n*Math.cos(r),l=t+n*Math.sin(r),u=e+n*Math.cos(i),c=t+n*Math.sin(i),h=a?0:1,d=r-i;d<0&&(d+=2*Math.PI),o=a?d>Math.PI?0:1:d>Math.PI?1:0,this.lineTo(u,c),this.__addPathCommand(Oo("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:o,sweepFlag:h,endX:s,endY:l})),this.__currentPosition={x:s,y:l}}}},{key:"clip",value:function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=Po(this.__ids),i=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Oo("url(#{id})",{id:n})),e.appendChild(i),this.__currentElement=i}},{key:"drawImage",value:function(){var t,n,i,r,a,o,s,l,u,c,h,d,f,p=Array.prototype.slice.call(arguments),v=p[0],g=0,m=0;if(3===p.length)t=p[1],n=p[2],i=a=v.width,r=o=v.height;else if(5===p.length)t=p[1],n=p[2],i=p[3],r=p[4],a=v.width,o=v.height;else{if(9!==p.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);g=p[1],m=p[2],a=p[3],o=p[4],t=p[5],n=p[6],i=p[7],r=p[8]}s=this.__closestGroupOrSvg();var y="translate("+t+", "+n+")";if(v instanceof e){if((l=v.getSvg().cloneNode(!0)).childNodes&&l.childNodes.length>1){for(u=l.childNodes[0];u.childNodes.length;)f=u.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(u.childNodes[0]);if(c=l.childNodes[1]){var b=c.getAttribute("transform");c.setAttribute("transform",b?b+" "+y:y),s.appendChild(c)}}}else"CANVAS"!==v.nodeName&&"IMG"!==v.nodeName||((h=this.__createElement("image")).setAttribute("width",i),h.setAttribute("height",r),h.setAttribute("preserveAspectRatio","none"),(g||m||a!==v.width||o!==v.height)&&((d=this.__document.createElement("canvas")).width=i,d.height=r,d.getContext("2d").drawImage(v,g,m,a,o,0,0,i,r),v=d),h.setAttribute("transform",y),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===v.nodeName?v.toDataURL():v.getAttribute("src")),s.appendChild(h))}},{key:"createPattern",value:function(t,n){var i,r=this.__document.__createElement("pattern"),a=Po(this.__ids);return r.setAttribute("id",a),r.setAttribute("width",t.width),r.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((i=this.__createElement("image")).setAttribute("width",t.width),i.setAttribute("height",t.height),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),r.appendChild(i),this.__defs.appendChild(r)):t instanceof e&&(r.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(r)),new Vo(r,this)}},{key:"setLineDash",value:function(e){this.lineDash=e&&e.length>0?e.join(","):null}},{key:"drawFocusRing",value:function(){}},{key:"createImageData",value:function(){}},{key:"getImageData",value:function(){}},{key:"putImageData",value:function(){}},{key:"globalCompositeOperation",value:function(){}},{key:"setTransform",value:function(){}}]),e}(),Bo=function(e,t,n,i,r){this.name=e,this.order=t,this.bpStart=n,this.bpLength=i,this.rangeLocus=r},Ho=Lt,qo=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),Uo=function(){function e(t){v(this,e),this.fastaURL=t.fastaURL,this.withCredentials=t.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences=new Map,this.offsets={};var n={};for(var i in t)t.hasOwnProperty(i)&&!qo.has(i)&&(n[i]=t[i]);this.config=n}var t,n,i;return m(e,[{key:"init",value:(i=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadAll());case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getSequence",value:(n=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.offsets[t]&&(n-=this.offsets[t],i-=this.offsets[t]),r="",n<0)for(a=n;a<Math.min(i,0);a++)r+="*";if(!(i<=0)){e.next=5;break}return e.abrupt("return",Promise.resolve(r));case 5:return o=this.sequences.get(t),s=Math.min(i,o.length),e.abrupt("return",r+o.substring(n,s));case 7:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"loadAll",value:(t=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,f,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ws(this.fastaURL)){e.next=7;break}n=Kr(this.fastaURL),t="",i=d(n);try{for(i.s();!(r=i.n()).done;)a=r.value,t+=String.fromCharCode(a)}catch(di){i.e(di)}finally{i.f()}e.next=10;break;case 7:return e.next=9,va.load(this.fastaURL,vs(this.config));case 9:t=e.sent;case 10:for(o=Ho(t),s=o.length,f=0,p=0,v=0;f<s;)(c=o[f++].trim()).startsWith("#")||0===c.length||(c.startsWith(">")?(l&&(this.chromosomeNames.push(h),this.sequences.set(h,l),this.chromosomes[h]=new Bo(h,v++,p,p+l.length,u)),g=c.substr(1).split(/\s+/)[0].split(":"),h=g[0],l="",p=0,u=void 0,g.length>1&&g[1].indexOf("-")>0&&(2===(m=g[1].split("-")).length&&/^[0-9]+$/.test(m[0])&&/^[0-9]+$/.test(m[1]),y=Number.parseInt(m[0]),Number.parseInt(m[1])>y&&(p=y-1,this.offsets[h]=p,u=g[1]))):l+=c);l&&(this.chromosomeNames.push(h),this.sequences.set(h,l),this.chromosomes[h]=new Bo(h,v++,p,p+l.length,u));case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),Wo=function(e,t,n,i){this.chr=e,this.start=t,this.end=n,this.features=i};Wo.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Wo.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var Go,$o,Yo,Zo=Lt,Ko=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),Xo=function(){function e(t){v(this,e),this.file=t.fastaURL,this.indexFile=t.indexURL||t.indexFile||this.file+".fai",this.withCredentials=t.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={};var n={};for(var i in t)t.hasOwnProperty(i)&&!Ko.has(i)&&(n[i]=t[i]);this.config=n}var t,n,i,r;return m(e,[{key:"init",value:(r=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getIndex());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getSequence",value:(i=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.interval&&this.interval.contains(t,n,i)){e.next=7;break}return r=n,a=i,i-n<5e4&&(o=Math.round(n+(i-n)/2),r=Math.max(0,o-25e3),a=o+25e3),e.next=5,this.readSequence(t,r,a);case 5:s=e.sent,this.interval=new Wo(t,r,a,s);case 7:return e.abrupt("return",this.interval.features?this.interval.features.substr(n-this.interval.start,i-n):null);case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"getIndex",value:(n=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index){e.next=2;break}return e.abrupt("return",this.index);case 2:return e.next=4,va.load(this.indexFile,vs(this.config));case 4:for(t=e.sent,n=Zo(t),i=n.length,r=0,a=0,this.index={};r<i;)5===(o=n[r++].split("\t")).length&&(s=o[0],l=parseInt(o[1]),u={size:l,position:parseInt(o[2]),basesPerLine:parseInt(o[3]),bytesPerLine:parseInt(o[4])},this.chromosomeNames.push(s),this.index[s]=u,this.chromosomes[s]=new Bo(s,a++,0,l));return e.abrupt("return",this.index);case 10:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"readSequence",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!(r=this.index[t])){e.next=17;break}if(a=Math.max(0,n),o=Math.min(r.size,i),s=r.bytesPerLine,l=r.basesPerLine,u=r.position,c=s-l,h=Math.floor(a/l),d=Math.floor(o/l),!((v=u+d*s+(o-d*l)-1-(p=u+h*s+(f=a-h*l))+1)<=0)){e.next=9;break}console.error("No sequence for "+t+":"+n+"-"+i),e.next=12;break;case 9:return e.next=11,va.load(this.file,vs(this.config,{range:{start:p,size:v}}));case 11:g=e.sent;case 12:if(!g){e.next=16;break}for(y="",b=0,_=g.length,f>0&&(m=Math.min(o-a,l-f),y+=g.substr(b,m),b+=m+c);b<_;)m=Math.min(l,_-b),y+=g.substr(b,m),b+=m+c;return e.abrupt("return",y);case 16:return e.abrupt("return",null);case 17:return e.abrupt("return",(console.log("No index entry for chr: "+t),this.interval=new Wo(t,n,i,null),null));case 18:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Qo=function(e,t,n,i){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===i?this.type="c":(this.type=i.charAt(1),"p"===this.type&&(this.stain=parseInt(i.substring(4))))},Jo=Lt,es={loadGenome:($o=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cytobandURL,i=t.aliasURL,e.next=4,function(){var e=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ws(t.fastaURL)||!1===t.indexed?new Uo(t):new Xo(t),e.next=3,n.init();case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 4:if(r=e.sent,e.t0=n,!e.t0){e.next=10;break}return e.next=9,function(){var e=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h,f,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ws(t)){e.next=7;break}for(r=Kr(t),i="",a=r.length,o=0;o<a;o++)i+=String.fromCharCode(r[o]);e.next=10;break;case 7:return e.next=9,va.loadString(t,vs(n));case 9:i=e.sent;case 10:s={},u=[],c=Jo(i),h=d(c);try{for(h.s();!(f=h.n()).done;)p=f.value,v=p.split("\t"),g=v[0],l||(l=g),g!==l&&(s[l]=u,u=[],l=g),5===v.length&&(m=parseInt(v[1]),y=parseInt(v[2]),u.push(new Qo(m,y,v[3],v[4])))}catch(di){h.e(di)}finally{h.f()}return e.abrupt("return",s);case 16:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(n,r.config);case 9:a=e.sent;case 10:if(e.t1=i,!e.t1){e.next=15;break}return e.next=14,function(e,t){return va.loadString(e,vs(t)).then(function(e){var t=Jo(e),n=[];return t.forEach(function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))}),n})}(i,r.config);case 14:o=e.sent;case 15:return e.abrupt("return",new ts(t,r,a,o));case 16:case"end":return e.stop()}},e)})),function(e){return $o.apply(this,arguments)}),initializeGenomes:(Go=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(es.KNOWN_GENOMES){e.next=42;break}if(n=function(e){return e.forEach(function(e){i[e.id]=e}),i},i={},!1===t.loadDefaultGenomes){e.next=28;break}return e.prev=4,r="https://igv.org/genomes/genomes.json?randomSeed=".concat(Math.random().toString(36),"&version=2.10.4"),e.t0=n,e.next=9,va.loadJson(r,{timeout:5e3});case 9:e.t1=e.sent,(0,e.t0)(e.t1),e.next=28;break;case 13:return e.prev=13,e.t2=e.catch(4),console.error(e.t2),e.prev=16,a="https://s3.amazonaws.com/igv.org.genomes/genomes.json?randomSeed=".concat(Math.random().toString(36),"&version=2.10.4"),e.t3=n,e.next=21,va.loadJson(a,{});case 21:e.t4=e.sent,(0,e.t3)(e.t4),e.next=28;break;case 25:e.prev=25,e.t5=e.catch(16),console.error(e.t5),console.warn("Errors loading default genome definitions.");case 28:if(o=t.genomeList||t.genomes,e.t6=o,!e.t6){e.next=41;break}if(e.t7=n,"string"!=typeof o){e.next=38;break}return e.next=35,va.loadJson(o,{});case 35:e.t8=e.sent,e.next=39;break;case 38:e.t8=o;case 39:e.t9=e.t8,(0,e.t7)(e.t9);case 41:es.KNOWN_GENOMES=i;case 42:case"end":return e.stop()}},e,null,[[4,13],[16,25]])})),function(e){return Go.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.toLowerCase()},expandReference:function(e){if(Pt(e)&&e.startsWith("{"))try{e=JSON.parse(e)}catch(i){}var t;if(Pt(e)?t=e:e.genome?t=e.genome:void 0!==e.id&&void 0===e.fastaURL&&(t=e.id),t){var n=es.KNOWN_GENOMES[t];return n||no.presentAlert(new Error("Unknown genome id: ".concat(t)),void 0),n}return e}},ts=function(){function e(t,n,i,r){v(this,e),this.config=t,this.id=t.id,this.sequence=n,this.chromosomeNames=n.chromosomeNames,this.chromosomes=n.chromosomes,this.ideograms=i,this.featureDB={},this.wholeGenomeView=void 0===t.wholeGenomeView||t.wholeGenomeView,this.wholeGenomeView&&Object.keys(n.chromosomes).length>1?function(e,t){var n;if(t.chromosomeOrder)e.wgChromosomeNames=Array.isArray(t.chromosomeOrder)?t.chromosomeOrder:t.chromosomeOrder.split(",").map(function(e){return e.trim()}),n=e.wgChromosomeNames.map(function(t){return e.chromosomes[t]}).filter(function(e){return void 0!==e});else{var i=Object.keys(e.chromosomes).map(function(t){return e.chromosomes[t].bpLength}).reduce(function(e,t){return Math.max(e,t)})/50,r=(n=Object.values(e.chromosomes).filter(function(e){return e.bpLength>i})).filter(function(e){return h(e.name.replace("chr",""))}),a=n.filter(function(e){return!h(e.name.replace("chr",""))});r.sort(function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))});var o,s=r.map(function(e){return e.name}),l=d(a);try{for(l.s();!(o=l.n()).done;){var u=o.value;s.push(u.name)}}catch(di){l.e(di)}finally{l.f()}e.wgChromosomeNames=s}var c=n.reduce(function(e,t){return e+t.bpLength},0);function h(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:c}}(this,t):this.wgChromosomeNames=n.chromosomeNames;var a={},o=this;a.all="all",this.chromosomeNames.forEach(function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;a[t.toLowerCase()]=e,"chrM"===e&&(a.mt="chrM"),"MT"===e&&(a.chrm="MT"),a[e.toLowerCase()]=e}),r&&r.forEach(function(e){var t,n;for(n=0;n<e.length;n++)if(o.chromosomes[e[n]]){t=e[n];break}t&&e.forEach(function(e){e!==t&&(a[e.toLowerCase()]=t,a[e]=t)})}),this.chrAliasTable=a}var t;return m(e,[{key:"showWholeGenomeView",value:function(){return!1!==this.config.wholeGenomeView}},{key:"toJSON",value:function(){return Object.assign({},this.config,{tracks:void 0})}},{key:"getInitialLocus",value:function(){}},{key:"getHomeChromosomeName",value:function(){return this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all")?"all":this.chromosomeNames[0]}},{key:"getChromosomeName",value:function(e){return this.chrAliasTable[e.toLowerCase()]||e}},{key:"getChromosome",value:function(e){return e=this.getChromosomeName(e),this.chromosomes[e]}},{key:"getCytobands",value:function(e){return this.ideograms?this.ideograms[e]:null}},{key:"getLongestChromosome",value:function(){var e,t=this.chromosomes;for(var n in t){if(t.hasOwnProperty(n)){var i=t[n];(void 0===e||i.bpLength>e.bpLength)&&(e=i)}return e}}},{key:"getChromosomes",value:function(){return this.chromosomes}},{key:"getGenomeCoordinate",value:function(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t}},{key:"getChromosomeCoordinate",value:function(e){var t;void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=computeCumulativeOffsets.call(this));var n,i=0,r=d(this.wgChromosomeNames);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=this.cumulativeOffsets[a];if(o>e)return{chr:t,position:e-i};t=a,i=o}}catch(di){r.e(di)}finally{r.f()}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}}},{key:"getCumulativeOffset",value:function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=(function(){var e,t={},n=0,i=d(this.wgChromosomeNames);try{for(i.s();!(e=i.n()).done;){var r=e.value;t[r]=Math.floor(n),n+=this.getChromosome(r).bpLength}}catch(di){i.e(di)}finally{i.f()}return t}).call(this));var t=this.getChromosomeName(e);return this.cumulativeOffsets[t]}},{key:"getGenomeLength",value:function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach(function(n){t+=e.chromosomes[n].bpLength}),this.bpLength=t}return this.bpLength}},{key:"getSequence",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sequence.getSequence(t,n,i));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),ns=0,is=function(e){a(l,e);var t,n,i,r,o=s(l);function l(e,t,n,i){return v(this,l),o.call(this,e,t,n,i)}return m(l,[{key:"initializationHelper",value:function(){this.$spinner=St("<div>",{class:"igv-loading-spinner-container"}),this.$viewport.append(this.$spinner),this.$spinner.append(St("<div>"));var e=this.trackView.track;"sequence"!==e.type&&(this.$zoomInNotice=this.createZoomInNotice(this.$content)),e.name&&"sequence"!==e.config.type&&(this.$trackLabel=St('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide()),this.stopSpinner(),this.addMouseHandlers()}},{key:"setTrackLabel",value:function(e){this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}},{key:"startSpinner",value:function(){this.$spinner.show()}},{key:"stopSpinner",value:function(){this.$spinner.hide()}},{key:"checkZoomIn",value:function(){var e=this;return!(!this.viewIsReady()||this.$zoomInNotice&&(function(){var t=e.referenceFrame;if("all"!==e.referenceFrame.chr.toLowerCase()||e.trackView.track.supportsWholeGenome()){var n="function"==typeof e.trackView.track.getVisibilityWindow?e.trackView.track.getVisibilityWindow():e.trackView.track.visibilityWindow;return void 0!==n&&n>0&&t.bpPerPixel*e.$viewport.width()>n}return!0}()?(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight&&this.setContentHeight(this.trackView.minHeight||0),1):(this.$zoomInNotice.hide(),0)))}},{key:"shift",value:function(){var e=this,t=e.referenceFrame;if(e.canvas&&e.tile&&e.tile.chr===e.referenceFrame.chr&&e.tile.bpPerPixel===t.bpPerPixel){var n=Math.round((e.tile.startBP-t.start)/t.bpPerPixel);e.canvas.style.left=n+"px"}}},{key:"loadFeatures",value:(r=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,f,p,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.referenceFrame,n=t.chr,i=this.browser.genome.getChromosome(n).bpLength,r=this.$content.width()*t.bpPerPixel,a=Math.floor(Math.max(0,t.start-r)),o=Math.ceil(Math.min(i,t.start+r+r)),this.loading&&this.loading.start===a&&this.loading.end===o){e.next=38;break}return this.loading={start:a,end:o},this.startSpinner(),e.prev=3,e.next=6,this.getFeatures(this.trackView.track,n,a,o,t.bpPerPixel);case 6:if(s=e.sent,l=[],g=this.trackView.track.roi,!(u=(v=this.browser.roi)&&g?v.concat(g):v||g)){e.next=29;break}c=d(u),e.prev=11,c.s();case 13:if((h=c.n()).done){e.next=21;break}return f=h.value,e.next=17,f.getFeatures(n,a,o,t.bpPerPixel);case 17:p=e.sent,l.push({track:f,features:p});case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),c.e(e.t0);case 26:return e.prev=26,c.f(),e.finish(26);case 29:return e.abrupt("return",(this.tile=new ss(n,a,o,t.bpPerPixel,s,l),this.loading=!1,this.hideMessage(),this.stopSpinner(),this.tile));case 32:e.prev=32,e.t1=e.catch(3),this.trackView&&!0!==this.trackView.disposed&&(this.showMessage("Error loading track data"),no.presentAlert(e.t1),console.error(e.t1));case 35:return e.prev=35,this.loading=!1,this.stopSpinner(),e.finish(35);case 38:case"end":return e.stop()}},e,this,[[3,32,35,38],[11,23,26,29]])})),function(){return r.apply(this,arguments)})},{key:"repaint",value:(i=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,d,f,p,v,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.tile){e.next=2;break}return e.abrupt("return");case 2:if(n=this.tile,i=n.features,r=n.roiFeatures,a=n.bpPerPixel,o=n.startBP,s=n.endBP,es.isWholeGenomeView(this.referenceFrame.chr)?(a=this.referenceFrame.end/this.$viewport.width(),o=0,s=this.referenceFrame.end,t=this.$viewport.width()):t=Math.ceil((s-o)/a),l=this.$viewport.height(),u=this.getContentHeight(),c=r?Math.max(u,l):u,h=Math.min(c,3*l),0!==t&&0!==h){e.next=8;break}return e.abrupt("return",void(this.canvas&&St(this.canvas).remove()));case 8:d=Math.max(0,-this.$content.position().top-l),f="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,p=Math.round((o-this.referenceFrame.start)/this.referenceFrame.bpPerPixel),v=St('<canvas class="igv-canvas">').get(0),g=v.getContext("2d"),v.style.width=t+"px",v.style.height=h+"px",v.width=f*t,v.height=f*h,g.scale(f,f),v.style.left=p+"px",v.style.top=d+"px",g.translate(0,-d),m={context:g,pixelXOffset:p,pixelWidth:t,pixelHeight:h,pixelTop:d,bpStart:o,bpEnd:s,bpPerPixel:a,referenceFrame:this.referenceFrame,selection:this.selection,viewport:this,viewportWidth:this.$viewport.width()},this.draw(m,i,r),this.canvasVerticalRange={top:d,bottom:d+h},this.$canvas&&this.$canvas.remove(),this.$canvas=St(v),this.$content.append(this.$canvas),this.canvas=v,this.ctx=g;case 14:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"draw",value:function(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var i,r=d(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.features=a.features,a.track.draw(e)}}catch(di){r.e(di)}finally{r.f()}}}},{key:"toSVG",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return n=this.referenceFrame,i=t.bpPerPixel,r=t.features,a=t.roiFeatures,o=this.$viewport.width(),s=this.$viewport.height(),l=n.start,u=n.start+o*n.bpPerPixel,c=new jo({width:o,height:s,viewbox:{x:0,y:-this.$content.position().top,width:o,height:s}}),h={viewport:this,context:c,top:-this.$content.position().top,pixelTop:0,pixelWidth:o,pixelHeight:s,bpStart:l,bpEnd:u,bpPerPixel:i,referenceFrame:this.referenceFrame,selection:this.selection,viewportWidth:o},e.abrupt("return",(this.draw(h,r,a),c.getSerializedSvg(!0)));case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"containsPosition",value:function(e,t){return this.referenceFrame.chr===e&&t>=this.referenceFrame.start&&t<=this.referenceFrame.calculateEnd(this.getWidth())}},{key:"isLoading",value:function(){return this.loading}},{key:"saveImage",value:function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,i=this.$viewport.height()*t,r=-St(this.canvas).position().left*t,a=(-this.$content.position().top-e)*t,o=this.ctx.getImageData(r,a,n,i),s=document.createElement("canvas"),l=s.getContext("2d");s.width=o.width,s.height=o.height,l.putImageData(o,0,0),en((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}}},{key:"saveSVG",value:function(){var e=this.$viewport.get(0).getBoundingClientRect(),t=e.width,n=e.height,i={width:t,height:n,viewbox:{x:0,y:-this.$content.position().top,width:t,height:n}},r=new jo(i),a="".concat((this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),"_referenceFrame_").concat(this.browser.referenceFrameList.indexOf(this.referenceFrame),"_guid_").concat(At());this.drawSVGWithContext(r,t,n,a,0,0,0);var o=r.getSerializedSvg(!0);en("".concat(a,".svg"),URL.createObjectURL(new Blob([o],{type:"application/octet-stream"})))}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,i=t.deltaY;if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){var r,a,o,s,l,u,c="".concat((this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),"_referenceFrame_").concat(this.browser.referenceFrameList.indexOf(this.referenceFrame),"_guid_").concat(At()),h=this.$content.position().top,d=this.$viewport.get(0).getBoundingClientRect(),f=d.width,p=d.height;if(this.drawSVGWithContext(e,f,p,c,n,i+h,-h),this.$trackLabel&&!0===this.browser.trackLabelsVisible){var v=(r=this.$viewport.get(0),a=this.$trackLabel.get(0),o=r.getBoundingClientRect(),s=o.x,l=o.y,{x:(u=a.getBoundingClientRect()).x-s,y:u.y-l,width:u.width,height:u.height}),g=v.x,m=v.y,y=v.width,b=v.height;this.renderTrackLabelSVG(e,n+g,i+m,y,b)}}}},{key:"renderTrackLabelSVG",value:function(e,t,n,i,r){var a="".concat((this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),"_track_label_guid_").concat(At());e.saveWithTranslationAndClipRect(a,t,n,i,r,0),e.fillStyle="white",e.fillRect(0,0,i,r),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var o=.25*(i-e.measureText(this.$trackLabel.text()).width),s=.7*(r-12);e.fillText(this.$trackLabel.text(),o,r-s),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(0,0,i,r),e.restore()}},{key:"drawSVGWithContext",value:function(e,t,n,i,r,a,o){e.saveWithTranslationAndClipRect(i,r,a,t,n,o);var s=this.referenceFrame,l=s.start,u=s.bpPerPixel;this.draw({context:e,viewport:this,referenceFrame:this.referenceFrame,top:o,pixelTop:o,pixelWidth:t,pixelHeight:n,bpStart:l,bpEnd:l+t*u,bpPerPixel:u,viewportWidth:t,selection:this.selection},this.tile?this.tile.features:[],this.tile?this.tile.roiFeatures:void 0),e.restore()}},{key:"getCachedFeatures",value:function(){return this.tile?this.tile.features:[]}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tile||!this.tile.containsRange(n,i,r,a)){e.next=2;break}return e.abrupt("return",this.tile.features);case 2:if("function"!=typeof t.getFeatures){e.next=7;break}return e.next=5,t.getFeatures(n,i,r,a,this);case 5:return o=e.sent,e.abrupt("return",(this.cachedFeatures=o,this.checkContentHeight(),o));case 7:case"end":return e.stop()}},e,this)})),function(e,n,i,r,a){return t.apply(this,arguments)})},{key:"createZoomInNotice",value:function(e){var t=St("<div>",{class:"igv-zoom-in-notice-container"});e.append(t);var n=St("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}},{key:"viewIsReady",value:function(){return this.browser&&this.browser.referenceFrameList&&this.referenceFrame}},{key:"addMouseHandlers",value:function(){this.addViewportContextMenuHandler(this.$viewport.get(0)),this.addViewportMouseDownHandler(this.$viewport.get(0)),this.addViewportTouchStartHandler(this.$viewport.get(0)),this.addViewportMouseUpHandler(this.$viewport.get(0)),this.addViewportTouchEndHandler(this.$viewport.get(0)),this.addViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.addTrackLabelClickHandler(this.$trackLabel.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeViewportContextMenuHandler(this.$viewport.get(0)),this.removeViewportMouseDownHandler(this.$viewport.get(0)),this.removeViewportTouchStartHandler(this.$viewport.get(0)),this.removeViewportMouseUpHandler(this.$viewport.get(0)),this.removeViewportTouchEndHandler(this.$viewport.get(0)),this.removeViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.removeTrackLabelClickHandler(this.$trackLabel.get(0))}},{key:"addViewportContextMenuHandler",value:function(e){this.boundContextMenuHandler=(function(e){var t=this;if(this.browser.dragObject)return!1;var n=os(e,this);if(void 0===n)return!1;e.preventDefault();var i=[];if("function"==typeof this.trackView.track.contextMenuItemList){var r=this.trackView.track.contextMenuItemList(n);r&&(i=r)}i.length>0&&i.push({label:St("<HR>")}),i.push({label:"Save Image (PNG)",click:function(){return t.saveImage()}}),i.push({label:"Save Image (SVG)",click:function(){return t.saveSVG()}}),this.browser.menuPopup.presentTrackContextMenu(e,i)}).bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"removeViewportContextMenuHandler",value:function(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"addViewportMouseDownHandler",value:function(e){this.boundMouseDownHandler=rs.bind(this),e.addEventListener("mousedown",this.boundMouseDownHandler)}},{key:"removeViewportMouseDownHandler",value:function(e){e.removeEventListener("mousedown",this.boundMouseDownHandler)}},{key:"addViewportTouchStartHandler",value:function(e){this.boundTouchStartHandler=rs.bind(this),e.addEventListener("touchstart",this.boundTouchStartHandler)}},{key:"removeViewportTouchStartHandler",value:function(e){e.removeEventListener("touchstart",this.boundTouchStartHandler)}},{key:"addViewportMouseUpHandler",value:function(e){this.boundMouseUpHandler=as.bind(this),e.addEventListener("mouseup",this.boundMouseUpHandler)}},{key:"removeViewportMouseUpHandler",value:function(e){e.removeEventListener("mouseup",this.boundMouseUpHandler)}},{key:"addViewportTouchEndHandler",value:function(e){this.boundTouchEndHandler=as.bind(this),e.addEventListener("touchend",this.boundTouchEndHandler)}},{key:"removeViewportTouchEndHandler",value:function(e){e.removeEventListener("touchend",this.boundTouchEndHandler)}},{key:"addViewportClickHandler",value:function(e){this.boundClickHandler=(function(e){var t=this;if(this.enableClick){if(3===e.which||e.ctrlKey)return;if(St(".igv-popover").hide(),this.browser.dragObject||this.browser.isScrolling)return;e.preventDefault(),e.stopPropagation();var n=Tt(e,this.$viewport.get(0)).x,i=Tt(e,this.canvas).x,r=this.referenceFrame,a=Math.floor(r.start+r.toBP(i)),o=Date.now();if(o-ns<this.browser.constants.doubleClickDelay){Yo&&(window.clearTimeout(Yo),Yo=void 0);var s,l=Math.round(r.start+r.toBP(n));if("all"===this.referenceFrame.chr.toLowerCase()){var u=this.browser.genome.getChromosomeCoordinate(l).chr;if(1===this.browser.referenceFrameList.length)s=u;else{var c=this.browser.referenceFrameList.map(function(e){return e.locusSearchString});c[this.browser.referenceFrameList.indexOf(this.referenceFrame)]=u,s=c.join(" ")}this.browser.search(s)}else this.browser.zoomWithScaleFactor(.5,l,this.referenceFrame)}else e.shiftKey&&"function"==typeof this.trackView.track.shiftClick?this.trackView.track.shiftClick(a,e):"function"==typeof this.trackView.track.popupData&&(Yo=setTimeout(function(){var n=function(e,t){var n=os(e,t);if(void 0!==n){var i,r=t.trackView.track,a=r.popupData(n),o=t.browser.fireEvent("trackclick",[r,a]);return void 0===o||!0===o?a&&a.length>0&&(i=a.map(function(e){return e.name?'<div title="'.concat(e.value,'"><span>').concat(e.name,"</span>&nbsp&nbsp&nbsp").concat(e.value,"</div>"):"<hr>"===e?e:e.html?e.html:'<div title="'.concat(e,'">').concat(e,"</div>")}).join("")):"string"==typeof o&&(i=o),i}}(e,t);n&&(t.popover&&t.popover.dispose(),t.popover=new uo(t.browser.columnContainer),t.popover.presentContentWithEvent(e,n)),window.clearTimeout(Yo),Yo=void 0},this.browser.constants.doubleClickDelay));ns=o}}).bind(this),e.addEventListener("click",this.boundClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundClickHandler)}},{key:"addTrackLabelClickHandler",value:function(e){this.boundTrackLabelClickHandler=(function(e){e.stopPropagation();var t,n=this.trackView.track;t="function"==typeof n.description?n.description():n.description?"<div>".concat(n.description,"</div>"):n.url?Qt(n.url)?"<div><b>Filename: </b>".concat(n.url.name):"<div><b>URL: </b>".concat(n.url):n.name,this.popover&&this.popover.dispose(),this.popover=new uo(this.browser.columnContainer,n.name||"unnamed"),this.popover.presentContentWithEvent(e,t)}).bind(this),e.addEventListener("click",this.boundTrackLabelClickHandler)}},{key:"removeTrackLabelClickHandler",value:function(e){e.removeEventListener("click",this.boundTrackLabelClickHandler)}}]),l}(function(){function e(t,n,i,r){v(this,e),this.guid=At(),this.trackView=t,this.referenceFrame=i,this.browser=t.browser,this.$viewport=St('<div class="igv-viewport">'),n.appendChild(this.$viewport.get(0)),t.track.height&&(this.$viewport.get(0).style.height="".concat(t.track.height,"px")),t.track instanceof Do&&(this.alert=new to(this.$viewport.get(0))),this.$content=St("<div>",{class:"igv-viewport-content"}),this.$viewport.append(this.$content),this.$content.height(this.$viewport.height()),this.contentDiv=this.$content.get(0),this.$canvas=St("<canvas>"),this.$content.append(this.$canvas),this.canvas=this.$canvas.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(r),this.initializationHelper()}var t,n;return m(e,[{key:"initializationHelper",value:function(){}},{key:"showMessage",value:function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}},{key:"hideMessage",value:function(e){this.messageDiv&&(this.messageDiv.style.display="none")}},{key:"setTrackLabel",value:function(e){}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}},{key:"checkZoomIn",value:function(){return!0}},{key:"shift",value:function(){}},{key:"setTop",value:function(e){var t=-e,n=t+this.$viewport.height();this.$content.css("top","".concat(e,"px")),(void 0===this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}},{key:"loadFeatures",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"repaint",value:(t=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Viewport - repaint()");case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e,t,n){console.log("Viewport - draw(drawConfiguration, features, roiFeatures)")}},{key:"checkContentHeight",value:function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t&&t.length>0){var n=e.computePixelHeight(t);n!==this.$content.height()&&this.setContentHeight(n)}}}},{key:"getContentHeight",value:function(){return this.$content.height()}},{key:"setContentHeight",value:function(e){e=Math.min(e,32e3),this.$content.height(e),this.tile&&(this.tile.invalidate=!0)}},{key:"isLoading",value:function(){return!1}},{key:"saveSVG",value:function(){}},{key:"isVisible",value:function(){return this.$viewport.width()}},{key:"setWidth",value:function(e){this.$viewport.width(e),this.canvas.style.width="".concat(e,"px"),this.canvas.setAttribute("width",e)}},{key:"getWidth",value:function(){return this.$viewport.width()}},{key:"getContentTop",value:function(){return this.contentDiv.offsetTop}},{key:"containsPosition",value:function(e,t){console.log("Viewport - containsPosition(chr, position)")}},{key:"addMouseHandlers",value:function(){}},{key:"removeMouseHandlers",value:function(){}},{key:"dispose",value:function(){this.popover&&this.popover.dispose(),this.removeMouseHandlers(),this.$viewport.get(0).remove();for(var e=0,t=Object.keys(this);e<t.length;e++){this[t[e]]=void 0}}}]),e}());function rs(e){this.enableClick=!0,this.browser.mouseDownOnViewport(e,this),Rt(e)}function as(e){this.browser.dragObject||this.browser.isScrolling?(this.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),this.enableClick=!1):(this.browser.cancelTrackPan(),this.browser.endTrackDrag())}function os(e,t){var n=t.referenceFrame,i=Tt(e,t.contentDiv),r=Tt(e,t.canvas),a=n.start+n.toBP(i.x);if(void 0!==a&&null!==t.tile)return{event:e,viewport:t,referenceFrame:n,genomicLocation:a,x:i.x,y:i.y,canvasX:r.x,canvasY:r.y}}var ss=function(e,t,n,i,r,a){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=i,this.features=r,this.roiFeatures=a};ss.prototype.containsRange=function(e,t,n,i){return this.bpPerPixel===i&&t>=this.startBP&&n<=this.endBP&&e===this.chr},ss.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};var ls,us,cs=function(){function e(t){v(this,e),this.rulerSweeper=Ct({class:"igv-ruler-sweeper"}),t.contentDiv.appendChild(this.rulerSweeper),this.rulerViewport=t,this.isMouseHandlers=void 0,this.addBrowserObserver()}return m(e,[{key:"addBrowserObserver",value:function(){this.boundObserverHandler=(function(){es.isWholeGenomeView(this.rulerViewport.referenceFrame.chr)?this.removeMouseHandlers():this.addMouseHandlers()}).bind(this),this.rulerViewport.browser.on("locuschange",this.boundObserverHandler)}},{key:"removeBrowserObserver",value:function(){this.rulerViewport.browser.off("locuschange",this.boundObserverHandler)}},{key:"addMouseHandlers",value:function(){var e,t,n,i,r,a;!0!==this.isMouseHandlers&&(this.boundContentMouseDownHandler=(function(a){e=!0,t=!0;var o=Tt(a,this.rulerViewport.contentDiv).x;i=n=o,r=1,this.rulerSweeper.style.display="block",this.rulerSweeper.style.left="".concat(i,"px"),this.rulerSweeper.style.width="".concat(r,"px")}).bind(this),this.rulerViewport.contentDiv.addEventListener("mousedown",this.boundContentMouseDownHandler),this.boundDocumentMouseMoveHandler=(function(o){var s;if(e&&t){var l=Tt(o,this.rulerViewport.contentDiv).x;s=Math.max(Math.min(l,this.rulerViewport.contentDiv.clientWidth),0),a=s-n,r=Math.abs(a),this.rulerSweeper.style.width="".concat(r,"px"),a<0&&(i=n+a,this.rulerSweeper.style.left="".concat(i,"px"))}}).bind(this),document.addEventListener("mousemove",this.boundDocumentMouseMoveHandler),this.boundDocumentMouseUpHandler=(function(n){var a;!0===e&&!0===t&&(e=t=void 0,this.rulerSweeper.style.display="none",r>1&&(a={start:hs(this.rulerViewport.referenceFrame,i),end:hs(this.rulerViewport.referenceFrame,i+r)},ms(this.rulerViewport.browser.genome.getChromosome(this.rulerViewport.referenceFrame.chr).bpLength,a,this.rulerViewport.browser.minimumBases()),this.rulerViewport.referenceFrame.bpPerPixel=(Math.round(a.end)-Math.round(a.start))/this.rulerViewport.contentDiv.clientWidth,this.rulerViewport.referenceFrame.start=Math.round(a.start),this.rulerViewport.referenceFrame.end=Math.round(a.end),this.rulerViewport.browser.updateViews(this.rulerViewport.referenceFrame)))}).bind(this),document.addEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!0)}},{key:"removeMouseHandlers",value:function(){this.rulerViewport.contentDiv.removeEventListener("mousedown",this.boundContentMouseDownHandler),document.removeEventListener("mousemove",this.boundDocumentMouseMoveHandler),document.removeEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!1}},{key:"dispose",value:function(){this.removeBrowserObserver(),this.removeMouseHandlers(),this.rulerSweeper.remove()}}]),e}();function hs(e,t){return e.start+t*e.bpPerPixel}var ds=function(e){a(n,e);var t=s(n);function n(e,i,r,a){return v(this,n),t.call(this,e,i,r,a)}return m(n,[{key:"initializationHelper",value:function(){this.$viewport.get(0).dataset.rulerTrack="rulerTrack",this.rulerSweeper=new cs(this);var e=this.$viewport.get(0);this.multiLocusPanelCloseButton=Ct({class:"igv-multi-locus-close-button"}),e.appendChild(this.multiLocusPanelCloseButton),this.multiLocusPanelCloseButton.appendChild(It("times-circle")),this.rulerLabel=Ct({class:"igv-multi-locus-ruler-label"}),e.appendChild(this.rulerLabel),this.$tooltip=St("<div>",{class:"igv-ruler-tooltip"}),this.$tooltip.height(this.$viewport.height()),this.$viewport.append(this.$tooltip),this.$tooltipContent=St("<div>"),this.$tooltip.append(this.$tooltipContent),this.$tooltip.hide(),this.dismissLocusLabel(),this.addMouseHandlers()}},{key:"addMouseHandlers",value:function(){this.addMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.addRulerLableClickHandler(this.rulerLabel),es.isWholeGenomeView(this.referenceFrame.chr)?this.addViewportClickHandler(this.$viewport.get(0)):this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.removeRulerLableClickHandler(this.rulerLabel),this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"addMultiLocusPanelCloseHandler",value:function(e){this.boundMultiLocusPanelCloseHandler=(function(e){us===this&&(us=void 0),this.browser.removeMultiLocusPanel(this.referenceFrame)}).bind(this),e.addEventListener("click",this.boundMultiLocusPanelCloseHandler)}},{key:"removeMultiLocusPanelCloseHandler",value:function(e){e.removeEventListener("click",this.boundMultiLocusPanelCloseHandler)}},{key:"addRulerLableClickHandler",value:function(e){this.boundRulerLableClickHandler=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.browser.referenceFrameList.filter(function(e){return a.referenceFrame!==e}),n=d(t),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=10;break}return r=i.value,e.next=8,this.browser.removeMultiLocusPanel(r);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,12,15,18]])})).bind(this),e.addEventListener("click",this.boundRulerLableClickHandler)}},{key:"removeRulerLableClickHandler",value:function(e){e.removeEventListener("click",this.boundRulerLableClickHandler)}},{key:"addViewportClickHandler",value:function(e){this.boundViewportClickHandler=(function(e){var t,n=this.browser.referenceFrameList.indexOf(this.referenceFrame),i=Tt(e,this.$viewport.get(0)).x,r=Math.round(this.referenceFrame.start+this.referenceFrame.toBP(i)),a=this.browser.genome.getChromosomeCoordinate(r).chr;if(1===this.browser.referenceFrameList.length)t=a;else{var o=this.browser.referenceFrameList.map(function(e){return e.locusSearchString});o[n]=a,t=o.join(" ")}this.browser.search(t)}).bind(this),e.addEventListener("click",this.boundViewportClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundViewportClickHandler)}},{key:"presentLocusLabel",value:function(e){this.rulerLabel.innerHTML=this.referenceFrame.getMultiLocusLabel(e),this.rulerLabel.style.display="block",this.multiLocusPanelCloseButton.style.display="block"}},{key:"dismissLocusLabel",value:function(){this.rulerLabel.style.display="none",this.multiLocusPanelCloseButton.style.display="none"}},{key:"mouseMove",value:function(e){var t=this;if(!0===this.browser.cursorGuideVisible){if(void 0===us?(us=this,this.$tooltip.show()):us.guid!==this.guid?(us.$tooltip&&us.$tooltip.hide(),this.$tooltip.show(),us=this):this.$tooltip.show(),this.browser.isMultiLocusWholeGenomeView()||es.isWholeGenomeView(this.referenceFrame.chr))return void this.$tooltip.hide();var n=Tt(e,this.$viewport.get(0)).x,i=this.referenceFrame,r=i.start,a=i.bpPerPixel,o=i.end,s=Math.round(.5+r+Math.max(0,n)*a);this.$tooltipContent.text(Mt(s));var l=this.$tooltipContent.get(0).getBoundingClientRect().width,u=this.$viewport.get(0).getBoundingClientRect().width;return this.$tooltip.css({left:"".concat(Xr(n,0,u-l),"px")}),clearTimeout(ls),ls=setTimeout(function(){t.$tooltip&&t.$tooltip.hide()},1e4),{start:r,bp:s,end:o}}}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}},{key:"dispose",value:function(){this.rulerSweeper.dispose(),r(h(n.prototype),"dispose",this).call(this)}}]),n}(is),fs=function(e){a(i,e);var t,n=s(i);function i(e,t,r,a){return v(this,i),n.call(this,e,t,r,a)}return m(i,[{key:"initializationHelper",value:function(){this.$ideogramCanvas=St("<canvas>",{class:"igv-ideogram-canvas"}),this.$ideogramCanvas.insertBefore(this.$canvas);var e=this.$ideogramCanvas.get(0);this.ideogram_ctx=e.getContext("2d"),this.$canvas.remove(),this.canvas=void 0,this.ctx=void 0,this.addMouseHandlers()}},{key:"addMouseHandlers",value:function(){this.addViewportClickHandler(this.$viewport.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"addViewportClickHandler",value:function(e){this.boundClickHandler=(function(e){var t=Tt(e,this.ideogram_ctx.canvas),n=t.xNormalized,i=t.width,r=this.browser.genome.getChromosome(this.referenceFrame.chr).bpLength,a=this.referenceFrame.bpPerPixel*i/r,o=n;o-a/2<0&&(o=a/2),o+a/2>1&&(o=1-a/2);var s=Math.round((o-a/2)*r),l=Math.round((o+a/2)*r);this.referenceFrame.start=s,this.referenceFrame.end=l,this.referenceFrame.bpPerPixel=(l-s)/i,this.browser.updateViews(this.referenceFrame,this.browser.trackViews,!0)}).bind(this),e.addEventListener("click",this.boundClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundClickHandler)}},{key:"setWidth",value:function(e){this.$viewport.width(e)}},{key:"drawSVGWithContext",value:function(e,t,n,i,r,a,o){e.saveWithTranslationAndClipRect(i,r,a,t,n,o),this.trackView.track.draw({context:e,referenceFrame:this.referenceFrame,pixelWidth:t,pixelHeight:n}),e.restore()}},{key:"repaint",value:(t=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.draw({referenceFrame:this.referenceFrame});case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.referenceFrame;this.$canvas.hide(),fo.configureHighDPICanvas(this.ideogram_ctx,this.$viewport.width(),this.$viewport.height()),this.trackView.track.draw({context:this.ideogram_ctx,referenceFrame:t,pixelWidth:this.$viewport.width(),pixelHeight:this.$viewport.height()})}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}}]),i}(is);function ps(e){var t=new Set(["boolean","number","string","symbol"]);return void 0!==e&&(t.has(typeof e)||e.substring||e.toFixed)}function vs(e,t){return Object.assign({oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename},t)}var gs=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))}),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},ms=function(e,t,n){var i=t.start,r=t.end;if(void 0===r)(r=(i-=n/2)+n)>e?i=(r=e)-n:i<0&&(i=0,r=n);else if(r-i<n){var a=(r+i)/2;a-n/2<0?r=(i=0)+n:a+n/2>e?i=(r=e)-n:r=(i=a-n/2)+n}t.start=Math.ceil(i),t.end=Math.floor(r)};function ys(e){return bs.apply(this,arguments)}function bs(){return(bs=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(t)||!t.startsWith("https://drive.google.com")){e.next=7;break}if(void 0!==Yt()){e.next=3;break}throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");case 3:return e.next=5,function(){var e=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.googleapis.com/drive/v3/files/"+Ht(t)+"?supportsTeamDrives=true",(i=Yt())&&(n+="&key="+i),e.next=5,fetch(n);case 5:return r=e.sent,e.next=8,r.json();case 8:if(!(a=e.sent).error||404!==a.error.code){e.next=24;break}return e.next=12,Gt("https://www.googleapis.com/auth/drive.readonly");case 12:if(o=e.sent,s=o.access_token){e.next=16;break}throw Error(a.error);case 16:return e.next=18,fetch(n,{headers:{Authorization:"Bearer ".concat(s)}});case 18:return l=e.sent,e.next=21,l.json();case 21:if(!(a=e.sent).error){e.next=24;break}throw Error(a.error);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 5:return n=e.sent,e.abrupt("return",n.originalFileName||n.name);case 7:return e.abrupt("return",Xt(t));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _s(e){var t,n;return e>1e7?(t=" mb",n=e/1e6,Math.floor(n).toString()+t):e>1e4?(t=" kb",n=e/1e3,Mt(Math.floor(n))+t):Mt(e)+" bp"}function ws(e){return Pt(e)&&e.startsWith("data:")}function ks(e,t){var n=Ct({class:t});e.appendChild(n)}function xs(e,t){t.parentNode.insertBefore(e,t)}function Ss(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function Cs(e,t,n,i){return"ruler"===e.track.type?new ds(e,t,n,i):"ideogram"===e.track.type?new fs(e,t,n,i):new is(e,t,n,i)}var Es={textAlign:"start",textBaseline:"bottom",strokeStyle:"black",fillStyle:"black"},Rs=function(){function e(t,n,i,r){v(this,e),this.guid=At(),this.trackView=t,this.browser=t.browser,this.viewport=Ct({class:"igv-viewport"}),n.appendChild(this.viewport),t.track.height&&(this.viewport.style.height="".concat(t.track.height,"px")),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.trackScrollDelta=0,this.contentTop=0,this.setWidth(r),!1===this.browser.showSampleNames&&this.hide(),this.addMouseHandlers()}var t;return m(e,[{key:"checkCanvas",value:function(){var e=window.devicePixelRatio,t=this.viewport.clientHeight,n=this.browser.sampleNameViewportWidth;if(this.canvas.width!==n*e||this.canvas.height!==t*e){var i=this.canvas;i.width=n*e,i.height=t*e,i.style.width="".concat(n,"px"),i.style.height="".concat(t,"px"),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(e,e)}}},{key:"setTop",value:function(e){if("function"==typeof this.trackView.track.getSamples){this.contentTop=e;var t=this.trackView.track.getSamples();this.repaint(t)}}},{key:"setWidth",value:function(e){this.viewport.innerWidth=e,this.checkCanvas()}},{key:"show",value:function(){this.viewport.style.display="block"}},{key:"hide",value:function(){this.viewport.style.display="none"}},{key:"repaint",value:(t=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkCanvas(),this.draw({context:this.ctx,samples:t});case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context,n=e.samples;if(n&&0!==n.names.length){var i,r;!function(e,t,n){var i=t.textAlign,r=t.textBaseline,a=t.fillStyle,o=Math.min(n,10);e.font="".concat(o,"px sans-serif"),e.textAlign=i,e.textBaseline=r,e.fillStyle=a}(t,Es,n.height),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=(i=yo,r=bo,"rgb(".concat(mo,",").concat(i,",").concat(r,")"));var a,o=this.viewport.getBoundingClientRect().height,s=(n.yOffset||0)+this.contentTop,l=d(n.names);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(s>o)break;if(s+n.height>0){var c=u,h=As(t,c,s,n.height);t.fillText(c,4,h)}s+=n.height}}catch(di){l.e(di)}finally{l.f()}}}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,i=t.deltaY;if("function"==typeof this.trackView.track.getSamples){var r=this.trackView.track.getSamples(),a=this.viewport.getBoundingClientRect(),o=a.width,s=a.height,l="".concat((this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),"_sample_names_guid_").concat(At());e.saveWithTranslationAndClipRect(l,n,i+0,o,s,-0),this.draw({context:e,samples:r}),e.restore()}}},{key:"addMouseHandlers",value:function(){this.addViewportContextMenuHandler(this.viewport)}},{key:"removeMouseHandlers",value:function(){this.removeViewportContextMenuHandler(this.viewport)}},{key:"addViewportContextMenuHandler",value:function(e){this.boundContextMenuHandler=(function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.browser.inputDialog.present({label:"Name Panel Width",value:this.browser.sampleNameViewportWidth,callback:function(e){t.browser.sampleNameViewportWidth=parseInt(e);var n,i=d(t.browser.trackViews);try{for(i.s();!(n=i.n()).done;){n.value.sampleNameViewport.setWidth(t.browser.sampleNameViewportWidth)}}catch(di){i.e(di)}finally{i.f()}t.browser.resize()}},e)}).bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"removeViewportContextMenuHandler",value:function(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"dispose",value:function(){this.removeMouseHandlers(),this.viewport.remove()}}]),e}();function As(e,t,n,i){return n+i-function(e,t,n){var i=e.measureText(t);return(n-(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent))/2}(e,t,i)}var Ts=function(e){a(n,e);var t=s(n);function n(e){var i=e.parent,r=e.width;return v(this,n),t.call(this,{parent:i,width:r,border:"1px solid gray"})}return m(n,[{key:"configure",value:function(e,t){this.colorHandlers=t,this.setActiveColorHandler("color"),this.createSwatches(e)}},{key:"setActiveColorHandler",value:function(e){this.activeColorHandler=this.colorHandlers[e]}},{key:"createSwatches",value:function(e){this.container.querySelectorAll(".igv-ui-color-swatch").forEach(function(e){return e.remove()});for(var t=0,n=Object.values(sa);t<n.length;t++){var i=n[t],r=Ct({class:"igv-ui-color-swatch"});this.container.appendChild(r),this.decorateSwatch(r,i)}if(e){var a,o=d(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=Ct({class:"igv-ui-color-swatch"});this.container.appendChild(l),this.decorateSwatch(l,s)}}catch(di){o.e(di)}finally{o.f()}}}},{key:"decorateSwatch",value:function(e,t){var n=this;e.style.backgroundColor=t,e.addEventListener("mouseenter",function(){return e.style.borderColor=t}),e.addEventListener("mouseleave",function(){return e.style.borderColor="white"}),e.addEventListener("click",function(e){e.stopPropagation(),n.activeColorHandler(t)}),e.addEventListener("touchend",function(e){e.stopPropagation(),n.activeColorHandler(t)})}}]),n}(ao),Is=function(e){var t=this;this.popover=Ct({class:"igv-menu-popup"}),e.appendChild(this.popover);var n=Ct({class:"igv-menu-popup-header"});this.popover.appendChild(n),Ot(n,function(){return t.hide()}),this.popoverContent=Ct(),this.popover.appendChild(this.popoverContent),ia(this.popover,n),n.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault()}),this.hide()};Is.prototype.hide=function(){this.popover.style.display="none"},Is.prototype.presentMenuList=function(e){if(Ds(),e.length>0){this.popoverContent.innerHTML="";var t,n=d(e=Va.trackMenuItemListHelper(e,this));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.init&&i.init();var r=i.object;0===e.indexOf(i)&&r.removeClass("igv-track-menu-border-top"),r.hasClass("igv-track-menu-border-top")||r.hasClass("igv-menu-popup-check-container")||r.is("div")&&r.addClass("igv-menu-popup-shim"),this.popoverContent.appendChild(r.get(0))}}catch(di){n.e(di)}finally{n.f()}this.popover.style.display="flex";var a=this.popover.getBoundingClientRect().width;this.popover.style.left=-a+"px",this.popover.style.top="0px"}},Is.prototype.presentTrackContextMenu=function(e,t){this.popoverContent.innerHTML="";var n,i,r=d((n=this.popover,t.map(function(e){var t;if("string"==typeof e&&"<hr/>"===e)t=document.createElement("hr");else if("string"==typeof e)(t=Ct({class:"context-menu"})).innerHTML=e;else if("Node"==typeof e)t=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)t=za("Show all bases",e.value);else if("color"===e.type){var i=new Ts({parent:n.parentElement,width:364});i.configure(void 0,{color:function(t){return e.click(t)}}),t=Ct({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);var r=function(e){i.show(),Et(n),e.preventDefault(),e.stopPropagation()};t.addEventListener("click",r),t.addEventListener("touchend",r),t.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}else t=Ct({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);if(e.click&&"color"!==e.type){var a=function(t){e.click(),Et(n),t.preventDefault(),t.stopPropagation()};t.addEventListener("click",a),t.addEventListener("touchend",a),t.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}}return{el:t,init:e.init}})));try{for(r.s();!(i=r.n()).done;){var a=i.value.el;this.popoverContent.appendChild(a)}}catch(di){r.e(di)}finally{r.f()}!function(e,t){t.style.display="flex";var n=Tt(e,t.parentNode),i=n.x,r=n.y,a=i+t.getBoundingClientRect().width,o=t.parentNode.getBoundingClientRect().width;t.style.left="".concat(a>o?i-(a-o):i,"px"),t.style.top="".concat(r,"px")}(e,this.popover)},Is.prototype.dispose=function(){this.popoverContent.innerHTML="",this.popover.innerHTML="",Object.keys(this).forEach(function(e){this[e]=void 0})};var Ds=function(){for(var e=document.querySelectorAll(".igv-menu-popup"),t=0;t<e.length;t++)e[t].style.display="none"},Os=new Set(["ruler","sequence","ideogram"]),Ps=new Set(["ruler","sequence","ideogram"]),Ms=function(){function e(t,n,i){v(this,e),this.namespace="trackview-".concat(At()),this.browser=t,this.track=i,i.trackView=this,this.addDOMToColumnContainer(t,n,t.referenceFrameList)}var t,n;return m(e,[{key:"startSpinner",value:function(){this.viewports&&this.viewports.length>0&&this.viewports[0].startSpinner()}},{key:"stopSpinner",value:function(){this.viewports&&this.viewports.length>0&&this.viewports[0].stopSpinner()}},{key:"addDOMToColumnContainer",value:function(e,t,n){this.axis=this.createAxis(e,this.track),this.viewports=[];for(var i=e.calculateViewportWidth(n.length),r=t.querySelectorAll(".igv-column"),a=0;a<r.length;a++){var o=Cs(this,r[a],n[a],i);this.viewports.push(o)}this.sampleNameViewport=new Rs(this,e.columnContainer.querySelector(".igv-sample-name-column"),void 0,e.sampleNameViewportWidth),this.createTrackScrollbar(e),this.createTrackDragHandle(e),this.createTrackGearPopup(e)}},{key:"createAxis",value:function(e,t){var n=this,i=Ct();if(e.columnContainer.querySelector(".igv-axis-column").appendChild(i),i.style.height="".concat(t.height,"px"),"function"==typeof t.paintAxis){t.dataRange&&i.addEventListener("click",function(){e.dataRangeDialog.configure(n),e.dataRangeDialog.present(St(e.columnContainer))});var r=i.getBoundingClientRect(),a=r.width,o=r.height;this.axisCanvas=document.createElement("canvas"),this.axisCanvas.style.width="".concat(a,"px"),this.axisCanvas.style.height="".concat(o,"px"),i.appendChild(this.axisCanvas)}return i}},{key:"resizeAxisCanvas",value:function(e,t){this.axis.style.width="".concat(e,"px"),this.axis.style.height="".concat(t,"px"),"function"==typeof this.track.paintAxis&&(this.axisCanvas.style.width="".concat(e,"px"),this.axisCanvas.style.height="".concat(t,"px"))}},{key:"removeDOMFromColumnContainer",value:function(){this.boundAxisClickHander&&this.removeAxisEventListener(this.axis),this.axis.remove();var e,t=d(this.viewports);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeMouseHandlers(),n.$viewport.remove()}}catch(di){t.e(di)}finally{t.f()}this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove()}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,i=t.deltaY;!function(e,t,n,i,r){if("function"==typeof t.paintAxis){var a=n.getBoundingClientRect(),o=a.y,s=a.width,l=a.height,u="".concat((t.name||t.id).replace(/\W/g,""),"_axis_guid_").concat(At());e.saveWithTranslationAndClipRect(u,i,o+r,s,l,0),t.paintAxis(e,s,l),e.restore()}}(e,this.track,this.axisCanvas,n,i);var r,a={deltaX:this.axis.getBoundingClientRect().width+n,deltaY:this.viewports[0].$viewport.get(0).getBoundingClientRect().y+i},o=d(this.viewports);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.renderSVGContext(e,a);var l=s.$viewport.get(0).getBoundingClientRect().width;a.deltaX+=l}}catch(di){o.e(di)}finally{o.f()}!0===this.browser.showSampleNames&&this.sampleNameViewport.renderSVGContext(e,a)}},{key:"dataRange",value:function(){return this.track.dataRange?this.track.dataRange:void 0}},{key:"setDataRange",value:function(e,t){void 0!==e&&(this.track.dataRange.min=e),void 0!==t&&(this.track.dataRange.max=t),this.track.autoscale=!1,this.repaintViews()}},{key:"presentColorPicker",value:function(e){var t=this;if(!1===Ps.has(this.track.type)){var n=[],i=this.track.color||this.track.defaultColor;Pt(i)&&n.push(i),this.track.altColor&&Pt(this.track.altColor)&&n.push(this.track.altColor);var r=n.map(function(e){return e.startsWith("#")?e:e.startsWith("rgb(")?na.rgbToHex(e):na.colorNameToHex(e)});this.browser.genericColorPicker.configure(r,{color:function(e){t.track.color=e,t.repaintViews()},altColor:function(e){t.track.altColor=e,t.repaintViews()}}),this.browser.genericColorPicker.setActiveColorHandler(e),this.browser.genericColorPicker.show()}}},{key:"setTrackHeight",value:function(e,t){t||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,this.resizeAxisCanvas(this.axis.clientWidth,this.track.height),"function"==typeof this.track.paintAxis&&this.paintAxis();var n,i=d(this.viewports);try{for(i.s();!(n=i.n()).done;){n.value.$viewport.height(e)}}catch(di){i.e(di)}finally{i.f()}if(this.sampleNameViewport.viewport.style.height="".concat(e,"px"),"function"!=typeof this.track.computePixelHeight){var r,a=d(this.viewports);try{for(a.s();!(r=a.n()).done;){r.value.setContentHeight(e)}}catch(di){a.e(di)}finally{a.f()}}this.repaintViews(),!1===Os.has(this.track.type)&&this.updateScrollbar(),this.dragHandle.style.height="".concat(e,"px"),this.gearContainer.style.height="".concat(e,"px")}},{key:"updateScrollbar",value:function(){var e=this.viewports[0].$viewport.height();this.outerScroll.style.height="".concat(e,"px");var t=Ls(this.viewports),n=Math.round(e/t*e);t>e?(this.innerScroll.style.display="block",this.innerScroll.style.height="".concat(n,"px")):this.innerScroll.style.display="none"}},{key:"moveScroller",value:function(e){var t=St(this.innerScroll).position().top+e,n=Math.min(Math.max(0,t),this.outerScroll.clientHeight-this.innerScroll.clientHeight);St(this.innerScroll).css("top","".concat(n,"px"));var i,r=Ls(this.viewports),a=-Math.round(n*(r/this.viewports[0].$viewport.height())),o=d(this.viewports);try{for(o.s();!(i=o.n()).done;){i.value.setTop(a)}}catch(di){o.e(di)}finally{o.f()}this.sampleNameViewport.trackScrollDelta=e,this.sampleNameViewport.setTop(a)}},{key:"isLoading",value:function(){var e,t=d(this.viewports);try{for(t.s();!(e=t.n()).done;){if(e.value.isLoading())return!0}}catch(di){t.e(di)}finally{t.f()}}},{key:"resize",value:function(e){var t,n=d(this.viewports);try{for(n.s();!(t=n.n()).done;){t.value.setWidth(e)}}catch(di){n.e(di)}finally{n.f()}this.updateViews(!0)}},{key:"repaintViews",value:function(){var e,t=d(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.repaint()}}catch(di){t.e(di)}finally{t.f()}"function"==typeof this.track.paintAxis&&this.paintAxis(),this.repaintSamples()}},{key:"repaintSamples",value:function(){if("function"==typeof this.track.getSamples){var e=this.track.getSamples();this.sampleNameViewport.repaint(e)}}},{key:"setTrackLabelName",value:function(e){this.viewports.forEach(function(t){return t.setTrackLabel(e)})}},{key:"updateViews",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h,f,p,v,g,m,y,b,_,w,k,x,S,C,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.referenceFrameList){e.next=2;break}return e.abrupt("return");case 2:if((n=this.viewports.filter(function(e){return e.isVisible()})).forEach(function(e){return e.shift()}),!(i=this.browser.dragObject)){e.next=7;break}return e.abrupt("return");case 7:r=this.viewportsToReload(t),a=d(r),e.prev=9,a.s();case 11:if((o=a.n()).done){e.next=17;break}return s=o.value,e.next=15,s.loadFeatures();case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:if("function"==typeof this.track.variantRowCount&&r.length>0){l=0,u=d(this.viewports);try{for(u.s();!(c=u.n()).done;)(h=c.value).tile&&h.tile.features&&(l=Math.max(l,h.tile.features.reduce(function(e,t){return Math.max(e,t.row||0)},0)))}catch(di){u.e(di)}finally{u.f()}if(this.track.nVariantRows!==l+1){this.track.variantRowCount(l+1),f=d(this.viewports);try{for(f.s();!(p=f.n()).done;)p.value.checkContentHeight()}catch(di){f.e(di)}finally{f.f()}}}if(!this.disposed){if(this.track.autoscale){v=[],g=d(n);try{for(g.s();!(m=g.n()).done;)y=m.value,b=y.referenceFrame,_=b.start,w=_+b.toBP(St(y.contentDiv).width()),y.tile&&y.tile.features&&("function"==typeof y.tile.features.getMax?(k=y.tile.features.getMax(_,w),v.push({value:k})):v=v.concat(Na(y.tile.features,_,w)))}catch(di){g.e(di)}finally{g.f()}this.track.dataRange="function"==typeof this.track.doAutoscale?this.track.doAutoscale(v):gs(v)}if(i||!this.track.autoscale&&!this.track.autoscaleGroup){x=d(r);try{for(x.s();!(S=x.n()).done;)S.value.repaint()}catch(di){x.e(di)}finally{x.f()}}else{C=d(n);try{for(C.s();!(E=C.n()).done;)E.value.repaint()}catch(di){C.e(di)}finally{C.f()}}this.adjustTrackHeight(),this.repaintSamples(),this.updateRulerViewportLabels()}case 27:case"end":return e.stop()}},e,this,[[9,19,22,25]])})),function(e){return n.apply(this,arguments)})},{key:"updateRulerViewportLabels",value:function(){var e,t=this.browser.calculateViewportWidth(this.viewports.length),n=d(this.viewports);try{for(n.s();!(e=n.n()).done;){var i=e.value;"ruler"===this.track.type&&(this.viewports.length>1?i.presentLocusLabel(t):i.dismissLocusLabel())}}catch(di){n.e(di)}finally{n.f()}}},{key:"getInViewFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.referenceFrameList){e.next=2;break}return e.abrupt("return",[]);case 2:return n=this.viewportsToReload(t).map(function(e){return e.loadFeatures()}),e.next=5,Promise.all(n);case 5:i=[],r=d(this.viewports);try{for(r.s();!(a=r.n()).done;)(o=a.value).tile&&o.tile.features&&(s=o.referenceFrame,l=s.start,u=l+s.toBP(St(o.contentDiv).width()),"function"==typeof o.tile.features.getMax?(c=o.tile.features.getMax(l,u),i.push({value:c})):i=i.concat(Na(o.tile.features,l,u)))}catch(di){r.e(di)}finally{r.f()}return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"checkContentHeight",value:function(){var e,t=d(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.checkContentHeight()}}catch(di){t.e(di)}finally{t.f()}this.adjustTrackHeight()}},{key:"adjustTrackHeight",value:function(){var e=Ls(this.viewports);if(this.track.autoHeight?this.setTrackHeight(e,!1):this.track.paintAxis&&this.paintAxis(),!1===Os.has(this.track.type)){var t=this.viewports[0].getContentTop(),n=this.viewports.map(function(e){return e.getContentHeight()}),r=Math.min.apply(Math,i(n)),a=Math.min(0,this.viewports[0].$viewport.height()-r);if(t<a){var o,s=d(this.viewports);try{for(s.s();!(o=s.n()).done;){o.value.$content.css("top","".concat(a,"px"))}}catch(di){s.e(di)}finally{s.f()}}this.updateScrollbar()}}},{key:"viewportsToReload",value:function(e){return this.viewports.filter(function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.referenceFrame,i=t.referenceFrame.chr,r=n.start,a=r+n.toBP(St(t.contentDiv).width()),o=n.bpPerPixel;return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(i,r,a,o)}return!1})}},{key:"createTrackScrollbar",value:function(e){var t=Ct();if(e.columnContainer.querySelector(".igv-scrollbar-column").appendChild(t),t.style.height="".concat(this.track.height,"px"),this.outerScroll=t,!1===Os.has(this.track.type)){var n=Ct();t.appendChild(n),this.innerScroll=n,this.addTrackScrollMouseHandlers(e)}}},{key:"createTrackDragHandle",value:function(e){this.dragHandle=Ct({class:"ideogram"===this.track.type||"ruler"===this.track.type?"igv-track-drag-shim":"igv-track-drag-handle"}),e.columnContainer.querySelector(".igv-track-drag-column").appendChild(this.dragHandle),this.dragHandle.style.height="".concat(this.track.height,"px"),this.addTrackDragMouseHandlers(e)}},{key:"createTrackGearPopup",value:function(e){this.gearContainer=Ct(),e.columnContainer.querySelector(".igv-gear-menu-column").appendChild(this.gearContainer),this.gearContainer.style.height="".concat(this.track.height,"px"),!0===this.track.ignoreTrackMenu||(this.gear=Ct(),this.gearContainer.appendChild(this.gear),this.gear.appendChild(It("cog")),this.trackGearPopup=new Is(this.gear),this.addTrackGearMouseHandlers())}},{key:"addAxisEventListener",value:function(e){this.boundAxisClickHander=(function(e){this.browser.dataRangeDialog.configure(this),this.browser.dataRangeDialog.present(St(this.browser.columnContainer))}).bind(this),e.addEventListener("click",this.boundAxisClickHander)}},{key:"removeAxisEventListener",value:function(e){e.removeEventListener("click",this.boundAxisClickHander)}},{key:"addTrackScrollMouseHandlers",value:function(e){this.boundTrackScrollMouseDownHandler=(function(t){t.stopPropagation();var n=Rt(t).y;St(this.innerScroll).data("yDown",n.toString()),this.boundColumnContainerMouseMoveHandler=(function(e){e.stopPropagation();var t=Rt(e).y;this.moveScroller(t-parseInt(St(this.innerScroll).data("yDown"))),St(this.innerScroll).data("yDown",t.toString())}).bind(this),e.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}).bind(this),this.innerScroll.addEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.boundColumnContainerMouseUpHandler=(function(t){e.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}).bind(this),e.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler)}},{key:"removeTrackScrollMouseHandlers",value:function(){!1===Os.has(this.track.type)&&(this.innerScroll.removeEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.browser.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.browser.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler))}},{key:"addTrackDragMouseHandlers",value:function(e){var t;"ideogram"===this.track.type||"ruler"===this.track.type||(this.boundTrackDragMouseDownHandler=(function(n){n.preventDefault(),(t=n.target).classList.add("igv-track-drag-handle-hover"),e.startTrackDrag(this)}).bind(this),this.dragHandle.addEventListener("mousedown",this.boundTrackDragMouseDownHandler),this.boundDocumentTrackDragMouseUpHandler=(function(n){e.endTrackDrag(),t&&n.target!==t&&t.classList.remove("igv-track-drag-handle-hover"),t=void 0}).bind(this),document.addEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.boundTrackDragMouseEnterHandler=(function(n){n.preventDefault(),void 0===t&&n.target.classList.add("igv-track-drag-handle-hover"),e.updateTrackDrag(this)}).bind(this),this.dragHandle.addEventListener("mouseenter",this.boundTrackDragMouseEnterHandler),this.dragHandle.addEventListener("mouseout",function(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}),this.boundTrackDragMouseOutHandler=(function(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}).bind(this),this.dragHandle.addEventListener("mouseout",this.boundTrackDragMouseOutHandler))}},{key:"removeTrackDragMouseHandlers",value:function(){"ideogram"===this.track.type||"ruler"===this.track.type||(this.dragHandle.removeEventListener("mousedown",this.boundTrackDragMouseDownHandler),document.removeEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.dragHandle.removeEventListener("mouseup",this.boundTrackDragMouseEnterHandler),this.dragHandle.removeEventListener("mouseout",this.boundTrackDragMouseOutHandler))}},{key:"addTrackGearMouseHandlers",value:function(){!0===this.track.ignoreTrackMenu||(this.boundTrackGearClickHandler=(function(e){e.preventDefault(),e.stopPropagation(),this.trackGearPopup.presentMenuList(Va.trackMenuItemList(this))}).bind(this),this.gear.addEventListener("click",this.boundTrackGearClickHandler))}},{key:"removeTrackGearMouseHandlers",value:function(){!0===this.track.ignoreTrackMenu||this.gear.removeEventListener("click",this.boundTrackGearClickHandler)}},{key:"dispose",value:function(){this.removeAxisEventListener(this.axis),this.axis.remove();var e,t=d(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(di){t.e(di)}finally{t.f()}this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove(),"function"==typeof this.track.dispose&&this.track.dispose();var n=this.track;"function"==typeof n.dispose&&n.dispose();for(var i=0,r=Object.keys(n);i<r.length;i++){n[r[i]]=void 0}for(var a=0,o=Object.keys(this);a<o.length;a++){this[o[a]]=void 0}this.alert&&this.alert.container.remove(),this.disposed=!0}},{key:"paintAxis",value:function(){if("function"==typeof this.track.paintAxis){var e=this.axisCanvas.getBoundingClientRect(),t=e.width,n=e.height,i=window.devicePixelRatio||1;this.axisCanvas.height=i*n,this.axisCanvas.width=i*t;var r=this.axisCanvas.getContext("2d");r.scale(i,i),this.track.paintAxis(r,t,n)}}}]),e}();function Ls(e){var t=e.map(function(e){return e.getContentHeight()});return Math.max.apply(Math,i(t))}function Fs(e,t){if(e.length<6)console.log("Skipping line: "+e.join(" "));else{var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};if(!(isNaN(n.start1)||isNaN(n.end1)||isNaN(n.start2)||isNaN(n.end2))){if(e.length>6&&"."!==e[6]&&(n.name=e[6]),e.length>7&&"."!==e[7]&&(n.score=parseFloat(e[7])),e.length>8&&"."!==e[8]&&(n.strand1=e[8]),e.length>9&&"."!==e[9]&&(n.strand2=e[9]),t){var i=t.colorColumn;i&&i<e.length&&(n.color=na.createColorString(e[i]));var r=t.thicknessColumn;r&&r<e.length&&(n.thickness=e[r]),e.length>10&&t.columnNames&&t.columnNames.length===e.length&&(n.extras=e.slice(10))}return n.chr1===n.chr2&&(n.chr=n.chr1,n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2)),n}}}function Ns(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:na.createColorString(e[6]),value:Number.parseFloat(e[7])}}function zs(e,t){if(!(e.length<6))return{chr:e[0],start:e[1],end:e[2],chr1:e[8],start1:Number.parseInt(e[9]),end1:Number.parseInt(e[10]),chr2:e[13],start2:Number.parseInt(e[14]),end2:Number.parseInt(e[15]),name:e[3],score:Number.parseFloat(e[4]),value:Number.parseFloat(e[5]),color:"."===e[7]?void 0:"0"===e[7]?"rgb(0,0,0)":e[7]};console.log("Skipping line: "+e.join(" "))}for(var Vs=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna","lnc_RNA","miRNA","ncRNA","rRNA","scRNA","snRNA","snoRNA","tRNA"]),js=new Set(["CDS","cds"]),Bs=new Set(["start_codon","stop_codon"]),Hs=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),qs=new Set(["exon","coding-exon"]),Us=new Set,Ws=0,Gs=[js,Bs,Hs,qs];Ws<Gs.length;Ws++){var $s,Ys=d(Gs[Ws]);try{for(Ys.s();!($s=Ys.n()).done;){var Zs=$s.value;Us.add(Zs)}}catch(di){Ys.e(di)}finally{Ys.f()}}function Ks(e){return e.includes("intron")}function Xs(e){return js.has(e)||Bs.has(e)}function Qs(e){return Hs.has(e)}function Js(e){return Vs.has(e)||e.endsWith("RNA")||e.endsWith("transcript")}function el(e){return Us.has(e)||e.endsWith("RNA")||Ks(e)}var tl=new Set(["id","parent","name"]),nl=function(){function e(t){v(this,e),Object.assign(this,t)}return m(e,[{key:"popupData",value:function(e){var t=this.geneObject?this.geneObject.popupData():[];if(this.geneObject&&t.push("<hr/>"),this.name&&t.push({name:"Name",value:this.name}),t.push({name:"Type",value:this.type}),t.push({name:"Source",value:this.source}),this.attributeString){var i,r=d(sl(this.attributeString,this.delim));try{for(r.s();!(i=r.n()).done;){var a=n(i.value,2),o=a[0],s=a[1];void 0!==s&&s.length>0&&!tl.has(o.toLowerCase())&&t.push({name:o+":",value:s})}}catch(di){r.e(di)}finally{r.f()}}return t.push({name:"Location",value:"".concat(this.chr,":").concat(Mt(this.start+1),"-").concat(Mt(this.end))}),t}},{key:"getAttributeValue",value:function(e){if(this.hasOwnProperty(e))return this[e];if(this._attributeCache||(this._attributeCache=new Map),this._attributeCache.has(e))return this._attributeCache.get(e);var t,i,r=d(sl(this.attributeString,this.delim));try{for(r.s();!(i=r.n()).done;){var a=n(i.value,2),o=a[0],s=a[1];if(o===e){t=s;break}}}catch(di){r.e(di)}finally{r.f()}return this._attributeCache.set(e,t),t}}]),e}(),il=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).exons=[],i.parts=[],i}return m(n,[{key:"addExon",value:function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)}},{key:"addPart",value:function(e){this.parts.push(e)}},{key:"assembleParts",value:function(){if(0!==this.parts.length){this.parts.sort(function(e,t){return e.start-t.start});for(var e=this.parts[0].start,t=this.parts[0].end,n=1;n<this.parts.length;n++){var i=this.parts[n];Ks(i.type)||(i.start<=t?t=Math.max(t,i.end):(this.findExonContaining({start:e,end:t})||this.exons.push({start:e,end:t,psuedo:!0}),e=i.start,t=i.end))}this.findExonContaining({start:e,end:t})||(this.exons.push({start:e,end:t,psuedo:!0}),this.start=Math.min(this.start,e),this.end=Math.max(this.end,t));var r,a=d(this.parts);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.type;Xs(s)?this.addCDS(o):Qs(s)&&this.addUTR(o)}}catch(di){a.e(di)}finally{a.f()}}}},{key:"findExonContaining",value:function(e){var t,n=e.start,i=e.end,r=d(this.exons);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.end>=i&&a.start<=n)return a}}catch(di){r.e(di)}finally{r.f()}}},{key:"addCDS",value:function(e){var t,n,i=d(this.exons);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.start<=e.start&&r.end>=e.end){t=r;break}}}catch(di){i.e(di)}finally{i.f()}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end):console.error("No exon found spanning "+e.start+"-"+e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end}},{key:"addUTR",value:function(e){for(var t,n=this.exons,i=0;i<n.length;i++)if(n[i].start<=e.start&&n[i].end>=e.end){t=n[i];break}t?e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)):console.error("No exon found spanning "+cds.start+"-"+cds.end)}},{key:"finish",value:function(){this.assembleParts();var e=this.cdStart,t=this.cdEnd;this.exons.sort(function(e,t){return e.start-t.start}),e&&this.exons.forEach(function(n){(n.end<e||n.start>t)&&(n.utr=!0)})}},{key:"popupData",value:function(e){var t,i=r(h(n.prototype),"popupData",this).call(this,e),a=d(this.exons);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(!o.pseudo&&e>=o.start&&e<o.end&&"function"==typeof o.popupData){i.push("<hr/>");var s,l=d(o.popupData(e));try{for(l.s();!(s=l.n()).done;){var u=s.value;i.push(u)}}catch(di){l.e(di)}finally{l.f()}}}}catch(di){a.e(di)}finally{a.f()}var c,f=d(this.parts);try{for(f.s();!(c=f.n()).done;){var p=c.value;if(e>=p.start&&e<p.end&&"function"==typeof p.popupData){i.push("<hr/>");var v,g=d(p.popupData(e));try{for(g.s();!(v=g.n()).done;){var m=v.value;i.push(m)}}catch(di){g.e(di)}finally{g.f()}}}}catch(di){f.e(di)}finally{f.f()}return i}}]),n}(nl);function rl(e,t){if(!(e.length<9)){var n="gff3"===t.format?"=":" ";return new nl({source:e[1],type:e[2],chr:e[0],start:parseInt(e[3])-1,end:parseInt(e[4]),score:"."===e[5]?0:parseFloat(e[5]),strand:e[6],phase:"."===e[7]?0:parseInt(e[7]),attributeString:e[8],delim:n})}}function al(e,t){var i=rl(e,t);if(i){var r,a=d(sl(i.attributeString,i.delim));try{for(a.s();!(r=a.n()).done;){var o=n(r.value,2),s=o[0],l=o[1],u=s.toLowerCase();"color"===u||"colour"===u?i.color=na.createColorString(l):"ID"===s?i.id=l:"Parent"===s&&(i.parent=l)}}catch(di){a.e(di)}finally{a.f()}return i}}function ol(e,t){var i=rl(e,t);if(i){var r,a,o=sl(i.attributeString,i.delim);switch(i.type){case"gene":r="gene_id";break;case"transcript":r="transcript_id",a="gene_id";break;default:a="transcript_id"}var s,l=d(o);try{for(l.s();!(s=l.n()).done;){var u=n(s.value,2),c=u[0],h=u[1],f=c.toLowerCase();"color"===f||"colour"===f?i.color=na.createColorString(h):c===r?i.id=h:c===a&&(i.parent=h)}}catch(di){l.e(di)}finally{l.f()}return i}}function sl(e,t){var n,i=[],r=d(e.split(";"));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=(a=a.trim()).indexOf(t);if(o>0&&o<a.length-1){var s=a.substring(0,o),l=ll(decodeURIComponent(a.substring(o+1).trim()));i.push([s,l])}}}catch(di){r.e(di)}finally{r.f()}return i}function ll(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),e}var ul=function e(t){v(this,e),this.message=t};function cl(e,t){if(!(e.length<3)){var n=e[0],i=parseInt(e[1]),r=e.length>2?parseInt(e[2]):i+1;if(isNaN(i)||isNaN(r))return new ul("Unparsable bed record.");var a=new _l({chr:n,start:i,end:r,score:1e3});try{if(e.length>3){if(e[3].indexOf(";")>0&&e[3].indexOf("=")>0){var o=sl(e[3],"=");a.attributes={};var s,l=d(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;a.attributes[u[0]]=u[1]}}catch(di){l.e(di)}finally{l.f()}}a.name||(a.name="."===e[3]?"":e[3])}if(e.length>4&&(a.score="."===e[4]?0:parseFloat(e[4]),isNaN(a.score)))return a;if(e.length>5&&(a.strand=e[5],"."!==a.strand&&"+"!==a.strand&&"-"!==a.strand))return a;if(e.length>6&&(a.cdStart=parseInt(e[6]),isNaN(a.cdStart)))return a;if(e.length>7&&(a.cdEnd=parseInt(e[7]),isNaN(a.cdEnd)))return a;if(e.length>8&&"."!==e[8]&&"0"!==e[8]&&(a.color=na.createColorString(e[8])),e.length>11){var c=parseInt(e[9]);if(c>1e3)return a;var h=e[10].replace(/,$/,"").split(","),f=e[11].replace(/,$/,"").split(",");if(h.length!==f.length||c!==h.length)return a;for(var p=[],v=0;v<c;v++){var g=i+parseInt(f[v]),m=g+parseInt(h[v]);p.push({start:g,end:m})}vl(p,a.cdStart,a.cdEnd),a.exons=p}if(t){var y=t.thicknessColumn,b=t.colorColumn;b&&b<e.length&&(a.color=na.createColorString(e[b])),y&&y<e.length&&(a.thickness=e[y])}}catch(_){}return a}}function hl(e,t){if(!(e.length<=15))return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function dl(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=9+n)){for(var i=parseInt(e[5+n]),r=parseInt(e[6+n]),a={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:i,cdEnd:r,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),l=e[9+n].split(","),u=[],c=0;c<o;c++){var h=parseInt(s[c]),d=parseInt(l[c]);u.push({start:h,end:d})}return vl(u,i,r),a.exons=u,a}}function fl(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=11+n)){for(var i=parseInt(e[5+n]),r=parseInt(e[6+n]),a={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:i,cdEnd:r,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),l=e[9+n].split(","),u=[],c=0;c<o;c++){var h=parseInt(s[c]),d=parseInt(l[c]);u.push({start:h,end:d})}return vl(u,i,r),a.exons=u,a}}function pl(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=10+n)){for(var i=parseInt(e[6+n]),r=parseInt(e[7+n]),a={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:i,cdEnd:r},o=parseInt(e[8+n]),s=e[9+n].split(","),l=e[10+n].split(","),u=[],c=0;c<o;c++){var h=parseInt(s[c]),d=parseInt(l[c]);u.push({start:h,end:d})}return vl(u,i,r),a.exons=u,a}}function vl(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.end,s=a.start;o<t||s>n?a.utr=!0:(t>=s&&t<=o&&(a.cdStart=t),n>=s&&n<=o&&(a.cdEnd=n))}}catch(di){r.e(di)}finally{r.f()}}function gl(e,t){var n,i,r,a,o,s,l;if(!(e.length<9))return n=e[0],i=parseInt(e[1]),r=parseInt(e[2]),o=e[3],s=parseFloat(e[4]),a=e[5].trim(),l=parseFloat(e[6]),0===s&&(s=l),{chr:n,start:i,end:r,name:o,score:s,strand:a,signal:l,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])}}function ml(e,t){if(!(e.length<=3)){var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(t){var i=t.colorColumn;i&&i<e.length&&(n.color=na.createColorString(e[i]))}return n}}function yl(e,t){var n=t.wig;if(n&&"fixedStep"===n.format){var i=n.index*n.step+n.start,r=i+n.span,a=parseFloat(e[0]);return++n.index,isNaN(a)?null:{chr:n.chrom,start:i,end:r,value:a}}if(n&&"variableStep"===n.format){if(e.length<2)return null;var o=parseInt(e[0],10)-1,s=o+n.span,l=parseFloat(e[1]);return isNaN(l)?null:{chr:n.chrom,start:o,end:s,value:l}}return ml(e)}function bl(e,t){if(!(e.length<6)){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],i={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},r=Math.min(e.length,n.length),a=6;a<r;a++)i[n[a]]=e[a];return i}}var _l=function(){function e(t){v(this,e),Object.assign(this,t)}return m(e,[{key:"getAttributeValue",value:function(e){return this.hasOwnProperty(e)?this[e]:this.attributes?this.attributes[e]:void 0}}]),e}();function wl(e,t){if(!(e.length<7)){var n=e[0],i=e[1],r=parseInt(e[2]),a=parseInt(e[3]),o=parseInt(e[4]),s=parseInt(e[5]),l={chr:n,name:i,junction_left:r,junction_right:a,num_junction_reads:o,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},u=r,c=a;if(s>0)for(var h=e[6].split(","),d=0;d<h.length;d++){var f=h[d].split("-"),p=f[0],v=f[1];p<u&&(u=p),v>c&&(c=v),l.spanning_frag_coords.push({left:p,right:v})}return l.start=u,l.end=c,l}}function kl(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function xl(e,t){var n=t.customFormat;if(!(e.length<n.fields.length)){var i=n.coords||0,r=e[n.chr],a=parseInt(e[n.start])-i,o={chr:r,start:a,end:void 0!==n.end?parseInt(e[n.end]):a+1};return n.fields&&n.fields.forEach(function(t,i){i!==n.chr&&i!==n.start&&i!==n.end&&(o[t]=e[i])}),o}}function Sl(e,t){var n=t.columnNames;if(!n)throw Error("Sample names are not defined.   Missing column headers?");var i=n.length-3,r=e[0],a=parseInt(e[1]),o=parseInt(e[2]),s=e.slice(3).map(parseFloat);return s.length==i?{chr:r,start:a,end:o,values:s}:void console.warn("".concat(r,":").concat(a,"-").concat(o," row contains ").concat(s.length," sample columns instead of the expected ").concat(i," columns. Skipping..."))}var Cl=function(){function e(t){v(this,e),this.config=t,this.header={},t.nameField&&(this.header.nameField=t.nameField),this.skipRows=0,t.decode?(this.decode=t.decode,this.delimiter=t.delimiter||"\t"):t.format&&(this.header.format=t.format.toLowerCase(),this.setDecoder(this.header.format)),this.delimiter||(this.delimiter="\t")}var t,n;return m(e,[{key:"parseHeader",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.header;case 1:return e.t0=void 0,e.next=4,t.nextLine();case 4:if(e.t1=i=e.sent,e.t0===e.t1){e.next=49;break}if(!i.startsWith("track")&&!i.startsWith("#track")){e.next=11;break}a=El(i),Object.assign(r,a),e.next=47;break;case 11:if(!i.startsWith("browser")){e.next=15;break}e.next=47;break;case 15:if(!i.startsWith("#columns")){e.next=20;break}o=Rl(i),Object.assign(r,o),e.next=47;break;case 20:if(!i.startsWith("##gff-version 3")){e.next=24;break}r.format="gff3",e.next=47;break;case 24:if(!i.startsWith("#gffTags")){e.next=28;break}r.gffTags=!0,e.next=47;break;case 28:if(!i.startsWith("fixedStep")&&!i.startsWith("variableStep")){e.next=30;break}return e.abrupt("break",49);case 30:if(!i.startsWith("#")){e.next=35;break}(s=i.split(this.delimiter||"\t")).length>1&&(n=s),e.next=47;break;case 35:if(this.setDecoder(r.format),l=i.split(this.delimiter||"\t"),e.prev=37,u=Object.assign({columnNames:n},r),!this.decode(l,u)){e.next=41;break}return e.abrupt("break",49);case 41:l.length>1&&(n=l),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(37),l.length>1&&(n=l);case 47:e.next=1;break;case 49:if(n)for(r.columnNames=n,c=0;c<n.length;c++)"color"===n[c]||"colour"===n[c]?r.colorColumn=c:"thickness"===n[c]&&(r.thicknessColumn=c);return e.abrupt("return",(this.header=r,r));case 51:case"end":return e.stop()}},e,this,[[37,44]])})),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=this.decode,r=this.header.format,a=this.delimiter||"\t",s=0,l=0;case 2:return e.t0=void 0,e.next=5,t.nextLine();case 5:if(e.t1=o=e.sent,e.t0===e.t1){e.next=24;break}if(!(++s<=this.skipRows)){e.next=9;break}return e.abrupt("continue",22);case 9:if(o&&!o.startsWith("track")&&!o.startsWith("#")&&!o.startsWith("browser")){e.next=11;break}return e.abrupt("continue",22);case 11:if("wig"!==r||!o.startsWith("fixedStep")){e.next=14;break}return this.header.wig=Al(o),e.abrupt("continue",22);case 14:if("wig"!==r||!o.startsWith("variableStep")){e.next=17;break}return this.header.wig=Tl(o),e.abrupt("continue",22);case 17:if(!((u=o.split(a)).length<1)){e.next=20;break}return e.abrupt("continue",22);case 20:(c=i(u,this.header))instanceof ul?++l>0&&console.error("Error parsing line '".concat(o,"': ").concat(c.message)):c&&n.push(c);case 22:e.next=2;break;case 24:return e.abrupt("return",(i===Fs&&function(e){if(0!=e.length){var t,n=e[0];if(void 0===n.score&&void 0!==n.name){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(!("number"==typeof(t=a.name)?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t)))&&"."!==a.name)return}}catch(di){r.e(di)}finally{r.f()}var o,s=d(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.score=parseFloat(l.name),delete l.name}}catch(di){s.e(di)}finally{s.f()}}var u,c=d(e.filter(function(e){return e.chr1!==e.chr2}));try{for(c.s();!(u=c.n()).done;){var h=u.value,f=Object.assign({},h);f.dup=!0,e.push(f),h.chr=h.chr1,h.start=h.start1,h.end=h.end1,f.chr=f.chr2,f.start=f.start2,f.end=f.end2}}catch(di){c.e(di)}finally{c.f()}}}(n),n));case 25:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"setDecoder",value:function(e){switch(e){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=gl,this.delimiter=this.config.delimiter||/\s+/;break;case"bedgraph":this.decode=ml,this.delimiter=/\s+/;break;case"wig":this.decode=yl,this.delimiter=this.config.delimiter||/\s+/;break;case"gff3":case"gff":this.decode=al,this.delimiter="\t";break;case"gtf":this.decode=ol,this.delimiter="\t";break;case"fusionjuncspan":this.decode=wl,this.delimiter=this.config.delimiter||/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=kl,this.delimiter="\t";break;case"refflat":this.decode=pl,this.delimiter=this.config.delimiter||/\s+/;break;case"genepred":this.decode=dl,this.delimiter=this.config.delimiter||/\s+/;break;case"genepredext":this.decode=fl,this.delimiter=this.config.delimiter||/\s+/;break;case"ensgene":this.decode=dl,this.header.shift=1,this.delimiter=this.config.delimiter||/\s+/;break;case"refgene":this.decode=fl,this.delimiter=this.config.delimiter||/\s+/,this.header.shift=1;break;case"bed":this.decode=cl,this.delimiter=this.config.delimiter||/\s+/;break;case"bedpe":this.decode=Fs,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-domain":this.decode=Ns,this.headerLine=!0,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-loop":this.decode=Fs,this.delimiter=this.config.delimiter||"\t",this.header={colorColumn:7};break;case"interact":this.decode=zs,this.delimiter=this.config.delimiter||/\s+/;break;case"snp":this.decode=bl,this.delimiter="\t";break;case"rmsk":this.decode=hl,this.delimiter="\t";break;case"gcnv":this.decode=Sl,this.delimiter="\t";break;default:var t=(n=e,vo&&vo[n]?function(e){for(var t=e.fields,n=["chr","start","end"],i=0;i<t.length;i++){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o===t[i]&&(e[o]=i)}}catch(di){a.e(di)}finally{a.f()}}return e}(vo[n]):void 0);void 0!==t?(this.decode=xl,this.header.customFormat=t,this.delimiter=t.delimiter||"\t"):(this.decode=cl,this.delimiter=this.config.delimiter||/\s+/)}var n}}]),e}();function El(e){var t,n,i={},r=[],a=d(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;o&&0!==o.trim().length&&(o.endsWith("=")?t=o:t?(r.push(t+o),t=void 0):r.push(o))}}catch(di){a.e(di)}finally{a.f()}for(var s=0,l=r;s<l.length;s++){var u=l[s];if(!u)return;var c=u.split("=",2);if(2===c.length){var h=c[0].trim(),f=c[1].trim();if(i.hasOwnProperty(h)){var p=i[h];Array.isArray(p)?p.push(f):i[h]=[p,f]}else i[h]=f}}return"interact"==i.type?i.format="interact":"gcnv"===i.type&&(i.format="gcnv"),i}function Rl(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach(function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}),t}function Al(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Tl(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}var Il=function(){function e(t){switch(v(this,e),this.type=t||"seg",this.type){case"mut":this.sampleColumn=3,this.chrColumn=0,this.startColumn=1,this.endColumn=2,this.dataColumn=4;break;case"maf":this.sampleColumn=15,this.chrColumn=4,this.startColumn=5,this.endColumn=6,this.dataColumn=8;break;default:this.sampleColumn=0,this.chrColumn=1,this.startColumn=2,this.endColumn=3}}var t,n;return m(e,[{key:"parseHeader",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=void 0,e.next=3,t.nextLine();case 3:if(e.t1=n=e.sent,e.t0===e.t1){e.next=11;break}if(n.startsWith("#")){e.next=9;break}return i=n.split("\t"),this.header={headings:i},e.abrupt("break",11);case 9:e.next=0;break;case 11:return e.abrupt("return",this.header);case 12:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],e.t0=this.header,e.t0){e.next=6;break}return e.next=5,this.parseHeader(t);case 5:this.header=e.sent;case 6:"seg"===this.type&&(this.dataColumn=this.header.headings.length-1),this.header.headings.length>5&&(i=this.extractExtraColumns(this.header.headings)),r=this.header.headings[this.dataColumn];case 9:return e.t1=void 0,e.next=12,t.nextLine();case 12:if(e.t2=a=e.sent,e.t1===e.t2){e.next=18;break}o=a.split("\t"),s="seg"===this.type?parseFloat(o[this.dataColumn]):o[this.dataColumn],o.length>this.dataColumn&&(l=new Dl({sample:o[this.sampleColumn],chr:o[this.chrColumn],start:parseInt(o[this.startColumn])-1,end:parseInt(o[this.endColumn]),value:s,valueColumnName:r}),i&&(u=this.extractExtraColumns(o),l.setAttributes({names:i,values:u})),n.push(l));case 16:e.next=9;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"extractExtraColumns",value:function(e){for(var t=[],n=0;n<e.length;n++)n!==this.chrColumn&&n!==this.startColumn&&n!==this.endColumn&&n!==this.sampleColumn&&t.push(e[n]);return t}}]),e}(),Dl=function(){function e(t){var n=t.sample,i=t.chr,r=t.start,a=t.end,o=t.value,s=t.valueColumnName;v(this,e),this.sample=n,this.chr=i,this.start=r,this.end=a,this.value=o,this.valueColumnName=s}return m(e,[{key:"setAttributes",value:function(e){var t=e.names,n=e.values;this.attributeNames=t,this.attributeValues=n}},{key:"getAttribute",value:function(e){if(this.attributeNames){var t=this.attributeNames.indexOf(e);if(t>=0)return this.attributeValues[t]}}},{key:"popupData",value:function(){var e=new Set(["chr","start","end","sample","value","row","color","sampleKey","uniqueSampleKey","sampleId","chromosome","uniquePatientKey"]),t=this.chr+":"+Mt(this.start+1)+"-"+Mt(this.end),n=[{name:"Sample",value:this.sample},{name:"Location",value:t},{name:this.valueColumnName?Nt(this.valueColumnName):"Value",value:this.value}];if(this.attributeNames&&this.attributeNames.length>0)for(var i=0;i<this.attributeNames.length;i++)!e.has(this.attributeNames[i])&this.valueColumnName!==this.attributeNames[i]&&n.push({name:Nt(this.attributeNames[i]),value:this.attributeValues[i]});return n}}]),e}(),Ol=function(){function e(t,n){v(this,e),this.browser=n,this.init(t)}return m(e,[{key:"init",value:function(e){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name||e.label?this.name=e.name||e.label:Qt(e.url)?this.name=e.url.name:Pt(e.url)&&!e.url.startsWith("data:")&&(this.name=Xt(e.url)),this.id=void 0===this.config.id?this.name:this.config.id,this.order=e.order,this.color=e.color,this.altColor=e.altColor,this.defaultColor="civic-ws"===e.sourceType?"rgb(155,20,20)":"rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow,this.trackView=void 0}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,this.trackView&&this.trackView.setTrackLabelName(e)}},{key:"updateConfig",value:function(e){this.init(e)}},{key:"getState",value:function(){for(var e={},t=0,n=Object.keys(this.config);t<n.length;t++){var i=n[t];i.startsWith("_")||"function"==typeof this.config[i]||(e[i]=this.config[i])}for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];if(!o.startsWith("_")){var s=this[o];s&&(ps(s)||"boolean"==typeof s)&&(e[o]=s)}}this.color&&(e.color=this.color),this.altColor&&(e.altColor=this.altColor),!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max);for(var l=0,u=Object.keys(e);l<u.length;l++){var c=u[l];if("function"==typeof e[c])throw Error("Property '".concat(c,"' of track '").concat(this.name," is a function. Functions cannot be saved in sessions."));if(Qt(e[c]))throw Error("Track ".concat(this.name," is a local file. Sessions cannot be saved with local file references."));if(e[c]instanceof Promise)throw Error("Property '".concat(c,"' of track '").concat(this.name," is a Promise. Promises cannot be saved in sessions."))}return e}},{key:"supportsWholeGenome",value:function(){return!1}},{key:"hasSamples",value:function(){return!1}},{key:"getGenomeId",value:function(){return this.browser.genome?this.browser.genome.id:void 0}},{key:"setTrackProperties",value:function(e){for(var t,n={},i=0,r=Object.keys(e);i<r.length;i++){var a=r[i];switch(a.toLowerCase()){case"usescore":n.useScore=1===e[a]||"1"===e[a]||"on"===e[a]||!0===e[a];break;case"visibility":switch(e[a]){case"2":case"3":case"pack":case"full":n.displayMode="EXPANDED";break;case"4":case"squish":n.displayMode="SQUISHED";break;case"1":case"dense":n.displayMode="COLLAPSED"}break;case"color":case"altcolor":n[a]=e[a].startsWith("rgb(")?e[a]:"rgb("+e[a]+")";break;case"featurevisiblitywindow":case"visibilitywindow":n.visibilityWindow=Number.parseInt(e[a]);break;case"maxheightpixels":3===(t=e[a].split(":")).length&&(n.minHeight=Number.parseInt(t[2]),n.height=Number.parseInt(t[1]),n.maxHeight=Number.parseInt(t[0]));break;case"viewlimits":if(!this.config.autoscale){var o=void 0,s=0;1==(t=e[a].split(":")).length?o=Number.parseFloat(t[0]):2==t.length&&(s=Number.parseFloat(t[0]),o=Number.parseFloat(t[1])),n.autoscale=!1,n.dataRange={min:s,max:o}}case"name":n[a]=e[a];break;case"url":n.infoURL=e[a];break;case"type":var l=e[a];Pl.has(l)&&(n[a]=Pl.get(l));break;case"graphtype":n.graphType=e[a];break;default:n[a]=e[a]}}for(var u=0,c=Object.keys(n);u<c.length;u++){var h=c[u];if((!this.config.hasOwnProperty(h)||"name"===h&&this.config._derivedName)&&(this[h]=n[h],"height"===h&&this.trackView))try{var d=Number.parseInt(n[h]);this.trackView.setTrackHeight(d)}catch(f){console.error(f)}}}},{key:"getVisibilityWindow",value:function(){return this.visibilityWindow}},{key:"clickedFeatures",value:function(e,t){if(t||(t=e.viewport.getCachedFeatures()),!t||0===t.length)return[];var n=e.genomicLocation,i=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2;return Na(t,n-i,n+i)}},{key:"extractPopupData",value:function(t,n){var i,r,a=new Set(["row","color","chr","start","end","cdStart","cdEnd","strand","alpha"]),o=[];for(var s in t)if(t.hasOwnProperty(s)&&!a.has(s)&&ps(t[s])){var l=t[s];o.push({name:Nt(s),value:l}),"alleles"===s?i=t[s]:"alleleFreqs"===s&&(r=t[s])}if(i&&r){i.endsWith(",")&&(i=i.substr(0,i.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));var u=i.split(","),c=r.split(",");if(c.length>1){for(var h=[],d=0;d<c.length;d++)h.push({a:u[d],af:Number.parseFloat(c[d])});h.sort(function(e,t){return e.af-t.af});var f=h[h.length-1].a;if(1===f.length)for(var p=h.length-2;p>=0;p--){var v=h[p].a;if(1===v.length){n||(n=this.getGenomeId());var g=e.getCravatLink(t.chr,t.start+1,f,v,n);console.log(g),g&&(o.push("<hr/>"),o.push({html:g}),o.push("<hr/>"))}}}}if(t.attributes)for(var m=0,y=Object.keys(t.attributes);m<y.length;m++){var b=y[m];o.push({name:b,value:t.attributes[b]})}var _="".concat(t.chr,":").concat(Mt(t.start+1),"-").concat(Mt(t.end));return t.strand&&(_+=" (".concat(t.strand,")")),o.push({name:"Location",value:_}),o}}],[{key:"getCravatLink",value:function(e,t,n,i,r){if("hg38"===r||"GRCh38"===r)return'<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html?chrom='.concat(e.startsWith("chr")?e:"chr"+e,"&pos=").concat(t,"&ref_base=").concat(n,"&alt_base=").concat(i,'">Cravat ').concat(n,"->").concat(i,"</a>")}}]),e}(),Pl=new Map([["wiggle_0","wig"],["bed","bed"],["bigBed","bigBed"],["bigWig","bigWig"]]),Ml=new Set(["A","C","T","G"].map(function(e){return e.charCodeAt(0)}));function Ll(e){return new Fl(e)}var Fl=function(){function e(t){var n,i;v(this,e),this.chr=t[0],this.pos=parseInt(t[1]),this.names=t[2],this.referenceBases=t[3],this.alternateBases=t[4],this.quality=t[5],this.filter=t[6],this.info=(i={},(n=t[7])&&n.split(";").forEach(function(e){var t=e.split("=");i[t[0]]=t[1]}),i),this.init()}return m(e,[{key:"init",value:function(){var e=this.referenceBases,t=this.alternateBases;if(this.info&&(this.info.VT?this.type=this.info.VT:this.info.SVTYPE?this.type="SV":this.info.PERIOD&&(this.type="STR")),void 0===this.type&&(this.type=function(e,t){var n=e.length;if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";var i,r=t.split(",").map(function(e){return 1===n&&1===e.length?"SNP":"<NON_REF>"===e?"NONVARIANT":"OTHER"}),a=r[0],o=d(r);try{for(o.s();!(i=o.n()).done;){if(i.value!==a)return"MIXED"}}catch(di){o.e(di)}finally{o.f()}return a}(e,t)),"NONVARIANT"===this.type&&(this.heterozygosity=0),this.info.END)this.start=this.pos-1,this.end=this.info.CHR2&&this.info.CHR2!==this.chr?this.start+1:Number.parseInt(this.info.END);else if("NONVARIANT"===this.type)this.start=this.pos-1,this.end=this.start+e.length;else{var n=t.split(",").filter(function(e){return e.length>0});this.alleles=[],this.start=void 0,this.end=void 0;var i,r=d(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(this.alleles.push(a),"SV"!==this.type&&Nl(a)){for(var o=a.length,s=e.length,l=Math.min(o,s),u=0;u<l&&e.charCodeAt(u)===a.charCodeAt(u);)u++,o--,s--;for(;o>0&&s>0;){var c=u+s-1;if(a.charCodeAt(u+o-1)!==e.charCodeAt(c))break;o--,s--}for(;o>0&&s>0;){var h=u;if(a.charCodeAt(u)!==e.charCodeAt(h))break;u++,o--,s--}var f=this.pos+u-1,p=f+s;this.start=void 0===this.start?f:Math.min(this.start,f),this.end=void 0===this.end?p:Math.max(this.end,p)}}}catch(di){r.e(di)}finally{r.f()}void 0===this.start&&(this.start=this.pos-1,this.end=this.pos)}}},{key:"popupData",value:function(e,t){var n="".concat(Mt(this.pos)),i=this.start===this.end?"".concat(Mt(this.start)," | ").concat(Mt(this.start+1)):"".concat(Mt(this.start+1),"-").concat(Mt(this.end)),r=[{name:"Chr",value:this.chr},{name:"Pos",value:n},{name:"Loc",value:i},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}];if("SNP"===this.type){var a=this.referenceBases;if(1===a.length){var o,s=d(this.alternateBases.split(","));try{for(s.s();!(o=s.n()).done;){var l=o.value;if(1===l.length){var u=Ol.getCravatLink(this.chr,this.pos,a,l,t);u&&(r.push("<hr/>"),r.push({html:u}))}}}catch(di){s.e(di)}finally{s.f()}}}if(this.hasOwnProperty("heterozygosity")&&r.push({name:"Heterozygosity",value:this.heterozygosity}),this.info){r.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'});for(var c=0,h=Object.keys(this.info);c<h.length;c++){var f=h[c];r.push({name:f,value:zl(decodeURIComponent(this.info[f]))})}}return r}},{key:"isRefBlock",value:function(){return"NONVARIANT"===this.type}}]),e}();function Nl(e){for(var t=0;t<e.length;t++)if(!Ml.has(e.charCodeAt(t)))return!1;return!0}function zl(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}var Vl=function(){function e(){v(this,e)}var t,n;return m(e,[{key:"construtor",value:function(){}},{key:"parseHeader",value:(n=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h,f,p,v,g,m,y,b,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i={}).chrAliasTable=new Map,e.next=4,t.nextLine();case 4:if((r=e.sent).startsWith("##fileformat")){e.next=7;break}throw new Error("Invalid VCF file: missing fileformat line");case 7:i.version=r.substr(13);case 8:return e.t1=void 0,e.next=11,t.nextLine();case 11:if(e.t2=r=e.sent,e.t0=e.t1!==e.t2,!e.t0){e.next=15;break}e.t0=r.startsWith("#");case 15:if(!e.t0){e.next=38;break}if(a=void 0,o={},!r.startsWith("##")){e.next=35;break}if(!(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT"))){e.next=32;break}if(s=r.indexOf("<"),l=r.lastIndexOf(">"),s>2&&l>0){e.next=24;break}return console.log("Malformed VCF header line: "+r),e.abrupt("continue",36);case 24:u=r.substring(2,s-1),i[u]||(i[u]={}),c=Ft(r.substring(s+1,l-1),","),h=d(c);try{for(h.s();!(f=h.n()).done;)p=f.value,(v=p.split("=")).length>1&&("ID"===v[0]?a=v[1]:o[v[0]]=v[1])}catch(di){h.e(di)}finally{h.f()}a&&(i[u][a]=o),e.next=33;break;case 32:r.startsWith("##contig")&&n&&(g=r.indexOf("<ID="),-1==(m=r.indexOf(",",g))&&(m=r.indexOf(">",g)),y=r.substring(g+4,m),b=n.getChromosomeName(y),i.chrAliasTable.set(b,y));case 33:e.next=36;break;case 35:if(r.startsWith("#CHROM")&&(_=r.split("\t")).length>8)for(i.callSets=[],w=9;w<_.length;w++)i.callSets.push({id:w,name:_[w]});case 36:e.next=8;break;case 38:return e.abrupt("return",(this.header=i,i));case 39:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=this.header.callSets,r=8+(i?i.length+1:0);case 1:return e.t0=void 0,e.next=4,t.nextLine();case 4:if(e.t1=a=e.sent,e.t0===e.t1){e.next=9;break}a&&!a.startsWith("#")&&(o=a.split("\t")).length===r&&((s=Ll(o)).header=this.header,n.push(s),o.length>9&&function(){var e=jl(o[8].split(":"));s.calls={};for(var t=function(t){var n=o[t],r=i[t-9],a={callSetName:r.name,info:{}};s.calls[r.id]=a,n.split(":").forEach(function(t,n){switch(n){case e.genotypeIndex:a.genotype=[],t.split(/[\|\/]/).forEach(function(e){a.genotype.push("."===e?e:parseInt(e))});break;default:a.info[e.fields[n]]=t}})},n=9;n<o.length;n++)t(n)}());case 7:e.next=1;break;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();function jl(e){for(var t={genotypeIndex:-1,fields:e},n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}function Bl(e){return"string"==typeof e||e instanceof String?new Hl(e):new ql(e)}var Hl=function(){function e(t){v(this,e),this.data=t,this.ptr=0}return m(e,[{key:"nextLine",value:function(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var i=n.length;return this.ptr=i,e>=i?void 0:n.substring(e)}}]),e}(),ql=function(){function e(t){v(this,e),this.data=t,this.length=this.data.length,this.ptr=0}return m(e,[{key:"nextLine",value:function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}}}]),e}(),Ul=function(){function e(t){if(v(this,e),this.config=t,t.columns){if(void 0===t.columns.chromosome||void 0===t.columns.position||void 0===t.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=t.columns.position-1,this.chrCol=t.columns.chromosome-1,this.pvalueCol=t.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}var t,n;return m(e,[{key:"parseHeader",value:(n=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextLine();case 2:return n=e.sent,e.abrupt("return",this.parseHeaderLine(n));case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"parseHeaderLine",value:function(e){if(this.columns=e.split(/\t/),!this.config.columns)for(var t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.valueCol=t}return this.columns}},{key:"parseFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=t.nextLine(),this.columns||this.parseHeaderLine(i);void 0!==(r=t.nextLine());)(a=r.split(/\t/)).length===this.columns.length&&(o=a[this.chrCol],s=parseInt(a[this.posCol])-1,l=s+1,u=parseFloat(a[this.valueCol]),n.push(new Wl({chr:o,start:s,end:l,value:u,line:r,columns:this.columns})));return e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}(),Wl=function(){function e(t){var n=t.chr,i=t.start,r=t.end,a=t.value,o=t.line,s=t.columns;v(this,e),this.chr=n,this.start=i,this.end=r,this.value=a,this.line=o,this.columns=s}return m(e,[{key:"popupData",value:function(){var e=this.line.split(/\t/);return this.columns.map(function(t,n){return{name:t,value:e[n]}})}},{key:"getAttribute",value:function(e){for(var t=this.line.split(/\t/),n=0;n<this.columns.length;n++)if(this.columns[n]===e)return t[n]}}]),e}(),Gl=new RegExp("([^:]*)\\(([^)]*)\\)"),$l=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),Yl=function(){function e(t){v(this,e);var n=t?t.decode:void 0;this.nameField=t?t.nameField:void 0,this.skipRows=0,this.decode=n||eu,this.delimiter="\t"}var t,n;return m(e,[{key:"parseHeader",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextLine();case 2:if(e.t0=n=e.sent,!e.t0){e.next=5;break}e.t0=n.startsWith("track")||n.startsWith("#")||n.startsWith("browser");case 5:if(!e.t0){e.next=9;break}n.startsWith("track")||n.startsWith("#track")?(r=Xl(n),i?Object.assign(i,r):i=r):n.startsWith("#columns")?(a=Ql(n),i?Object.assign(i,a):i=a):n.startsWith("##gff-version 3")&&(this.format="gff3",i||(i={}),i.format="gff3");case 7:e.next=0;break;case 9:return e.abrupt("return",(this.header=i,i));case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=function(){for(var e,t,n=[],i="",o=!1;a||""===a;){for(e=0;e<a.length;e++)(t=a.charAt(e))===r?o?i+=t:(n.push(i),i=""):'"'===t?e+1<a.length&&'"'===a.charAt(e+1)?(o&&(i+='"'),e++):o=!o:i+=t;if(!o)break;i+="\n",a=nextLine()}return n.push(i),n},n=[],i=this.decode,r=this.delimiter||"\t",o=0;case 3:if(void 0===(a=t.nextLine())){e.next=16;break}if(!(++o<=this.skipRows||a.startsWith("track")||a.startsWith("#")||a.startsWith("browser"))){e.next=6;break}return e.abrupt("continue",14);case 6:if(!((s=u()).length<1)){e.next=9;break}return e.abrupt("continue",14);case 9:if(this.aed){e.next=12;break}return this.aed=Kl(s),e.abrupt("continue",14);case 12:(l=i.call(this,s,void 0))&&n.push(l);case 14:e.next=3;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();function Zl(e){var t=$l.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Gl.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function Kl(e){var t,n,i;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)i=Zl(e[n]),t.columns.push(i);return t}function Xl(e){var t,n,i={},r=[],a=d(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;o&&0!==o.trim().length&&(o.endsWith("=")>0?t=o:t?(r.push(t+o),t=void 0):r.push(o))}}catch(di){a.e(di)}finally{a.f()}for(var s=0,l=r;s<l.length;s++){var u=l[s];if(!u)return;var c=u.split("=",2);if(2===c.length){var h=c[0].trim(),f=c[1].trim();i[h]=f}}return i}function Ql(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach(function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}),t}function Jl(e,t){var n,i,r=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var a=0;a<t.length;a++)if(n=t[a]){"aed:Integer"===(i=r[a]).type&&(n=parseInt(n));var o=[];if(i.namespace.length>0)for(var s=0;s<i.namespace.length;s++)o.push(i.namespace.charCodeAt(s));"bio"===i.namespace.trim()?"sequence"===i.name?this.chr=n:"start"===i.name?this.start=n:"end"===i.name?this.end=n:"cdsMin"===i.name?this.cdStart=n:"cdsMax"===i.name?this.cdEnd=n:"strand"===i.name&&(this.strand=n):"aed"===i.namespace?"name"===i.name&&(this.name=n):"style"===i.namespace&&"color"===i.name&&(this.color=na.createColorString(n))}}function eu(e,t){var n,i,r,a,o,s,l=0,u=this.aed.columns;if(e.length===u.length){for(s=0;s<e.length;s++)""!==(r=e[s])&&l++,"name"===(a=u[s]).name&&"aed"===a.namespace?n=r:"value"===a.name&&"aed"===a.namespace&&(i=r);if(2===l&&n&&i)return o=Zl(n),this.aed.metadata[o.namespace]||(this.aed.metadata[o.namespace]={}),void(this.aed.metadata[o.namespace][o.name]||(this.aed.metadata[o.namespace][o.name]={type:o.type,value:i}));var c=new Jl(this.aed,e);if(c.chr&&(c.start||0===c.start)&&c.end)return c;console.log("Cannot parse feature: "+e.join(","))}else console.log("Corrupted AED file row: "+e.join(","))}Jl.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var i=this.allColumns[n],r=t.columns[n].name;"sequence"!==r&&"color"!==r&&i&&e.push({name:r,value:i})}return e};var tu=function(){function e(t,n){v(this,e),this.littleEndian=void 0===n||n,this.position=0,this.view=t,this.length=t.byteLength}return m(e,[{key:"available",value:function(){return this.length-this.position}},{key:"remLength",value:function(){return this.length-this.position}},{key:"hasNext",value:function(){return this.position<this.length-1}},{key:"getByte",value:function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e}},{key:"getShort",value:function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e}},{key:"getUShort",value:function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e}},{key:"getInt",value:function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getUInt",value:function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getLong",value:function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var i=0;i<e.length;i++)t=256*t+e[i];return this.position+=8,t}},{key:"getString",value:function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n}},{key:"getFixedLengthString",value:function(e){var t,n,i="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(i+=String.fromCharCode(n));return i}},{key:"getFixedLengthTrimmedString",value:function(e){var t,n,i="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(i+=String.fromCharCode(n));return i}},{key:"getFloat",value:function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getDouble",value:function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e}},{key:"skip",value:function(e){return this.position+=e,this.position}},{key:"getVPointer",value:function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new nu(n,t)}}]),e}(),nu=function(){function e(t,n){v(this,e),this.block=t,this.offset=n}return m(e,[{key:"isLessThan",value:function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset}},{key:"isGreaterThan",value:function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset}},{key:"print",value:function(){return this.block+":"+this.offset}}]),e}(),iu=function(){function e(t){v(this,e),this.tabix=!0}return m(e,[{key:"parse",value:function(e,t){var n=new tu(new DataView(e)),i=n.getInt();if(21582659!==i)throw 38359875===i?Error("CSI version 2 is not supported.  Please enter an issue at https://github.com/igvteam/igv.js"):Error("Not a CSI index");if(this.indices=[],this.blockMin=Number.MAX_SAFE_INTEGER,this.blockMax=0,this.sequenceIndexMap={},this.minShift=n.getInt(),this.depth=n.getInt(),n.getInt()>=28){n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt();for(var r=n.getInt(),a=n.position+r,o=0;n.position<a;){var s=n.getString();t&&(s=t.getChromosomeName(s)),this.sequenceIndexMap[s]=o,o++}}for(var l=this.bin_limit()+1,u=n.getInt(),c=0;c<u;c++){for(var h=[],d=[],f=n.getInt(),p=0;p<f;p++){var v=n.getInt();if(d[v]=n.getVPointer(),v>l)n.getInt(),n.getVPointer(),n.getVPointer(),n.getLong(),n.getLong();else{h[v]=[];for(var g=n.getInt(),m=0;m<g;m++){var y=n.getVPointer(),b=n.getVPointer();y&&b&&(y.block<this.blockMin&&(this.blockMin=y.block),b.block>this.blockMax&&(this.blockMax=b.block),h[v].push([y,b]))}}}f>0&&(this.indices[c]={binIndex:h,loffset:d})}}},{key:"blocksForRange",value:function(e,t,n){var i=this.indices[e];if(i){var r=this.reg2bins(t,n);if(0==r.length)return[];var a,o=[],s=d(r);try{for(s.s();!(a=s.n()).done;)for(var l=a.value,u=l[0];u<=l[1];u++)if(i.binIndex[u])for(var c=i.binIndex[u],h=c.length,f=0;f<h;++f)o.push({minv:c[f][0],maxv:c[f][1],bin:u})}catch(di){s.e(di)}finally{s.f()}return function(e,t){var n=[],i=null;return 0===e.length?e:(e.sort(function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var r,a;t&&!e.maxv.isGreaterThan(t)||(null===i?(n.push(e),i=e):(a=e).minv.block-(r=i).maxv.block<65e3&&a.maxv.block-r.minv.block<5e6?e.maxv.isGreaterThan(i.maxv)&&(i.maxv=e.maxv):(n.push(e),i=e))}),n)}(o,i.loffset[r[0]])}return[]}},{key:"reg2bins",value:function(e,t){(e-=1)<1&&(e=1),t>Math.pow(2,50)&&(t=Math.pow(2,34)),t-=1;for(var n=0,i=0,r=this.minShift+3*this.depth,a=[];n<=this.depth;r-=3,i+=1<<3*n,n+=1){var o=i+(e>>r),s=i+(t>>r);if(s-o+a.length>this.maxBinNumber)throw new Error("query ".concat(e,"-").concat(t," is too large for current binning scheme (shift ").concat(this.minShift,", depth ").concat(this.depth,"), try a smaller query or a coarser index binning scheme"));a.push([o,s])}return a}},{key:"bin_limit",value:function(){return((1<<3*(this.depth+1))-1)/7}}]),e}();function ru(e,t,n){return au.apply(this,arguments)}function au(){return(au=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_,w,k,x,S,C;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],a=Number.MAX_SAFE_INTEGER,o=0,s=new tu(new DataView(t)),l=s.getInt(),u={},21578050===l||n&&21578324===l){e.next=5;break}throw new Error(indexURL+" is not a "+(n?"tabix":"bai")+" file");case 5:if(c=s.getInt(),n)for(s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),h=0;h<c;h++)d=s.getString(),i&&(d=i.getChromosomeName(d)),u[d]=h;for(f=0;f<c;f++){for(p={},v=[],g=s.getInt(),m=0;m<g;m++)if(37450===(y=s.getInt()))s.getInt(),s.getVPointer(),s.getVPointer(),s.getLong(),s.getLong();else for(p[y]=[],b=s.getInt(),_=0;_<b;_++)w=s.getVPointer(),k=s.getVPointer(),w&&k&&(w.block<a&&(a=w.block),k.block>o&&(o=k.block),p[y].push([w,k]));for(x=s.getInt(),S=0;S<x;S++)C=s.getVPointer(),v.push(C);g>0&&(r[f]={binIndex:p,linearIndex:v})}return e.abrupt("return",new ou(r,a,o,u,n));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ou=function(){function e(t,n,i,r,a){v(this,e),this.firstAlignmentBlock=n,this.lastAlignmentBlock=i,this.indices=t,this.sequenceIndexMap=r,this.tabix=a}return m(e,[{key:"blocksForRange",value:function(e,t,n){var i,r,a,o=this.indices[e];if(o){var s,l=[],u=d((i=t,(r=n)>=1<<29&&(r=1<<29),--r,(a=[]).push([0,0]),a.push([1+(i>>26),1+(r>>26)]),a.push([9+(i>>23),9+(r>>23)]),a.push([73+(i>>20),73+(r>>20)]),a.push([585+(i>>17),585+(r>>17)]),a.push([4681+(i>>14),4681+(r>>14)]),a));try{for(u.s();!(s=u.n()).done;)for(var c=s.value,h=c[0];h<=c[1];h++)if(o.binIndex[h])for(var f=o.binIndex[h],p=f.length,v=0;v<p;++v)l.push({minv:f[v][0],maxv:f[v][1],bin:h})}catch(di){u.e(di)}finally{u.f()}for(var g=o.linearIndex.length,m=null,y=Math.min(t>>14,g-1),b=Math.min(n>>14,g-1),_=y;_<=b;++_){var w=o.linearIndex[_];w&&(m&&!w.isLessThan(m)||(m=w))}return function(e,t){var n=[],i=null;return 0===e.length?e:(e.sort(function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var r,a;t&&!e.maxv.isGreaterThan(t)||(null===i?(n.push(e),i=e):(a=e).minv.block-(r=i).maxv.block<65e3&&a.maxv.block-r.minv.block<5e6?e.maxv.isGreaterThan(i.maxv)&&(i.maxv=e.maxv):(n.push(e),i=e))}),n)}(l,m)}return[]}}]),e}(),su=function(){function e(t){v(this,e),this.chrIndex=t}return m(e,[{key:"blocksForRange",value:function(e,t,n){var i=this.chrIndex[e];if(i){var r=i.blocks,a=i.binWidth,o=Math.max(t-i.longestFeature,0),s=Math.floor(o/a);if(s>=r.length)return[];var l=Math.min(Math.floor((n-1)/a),r.length-1),u=r[s].min,c=r[l].max;return 0==c-u?[]:[{minv:{block:u,offset:0},maxv:{block:c,offset:0}}]}}}]),e}();function lu(e,t,n){return uu.apply(this,arguments)}function uu(){return(uu=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va.loadArrayBuffer(t,vs(n));case 2:r=e.sent,a=new DataView(r),e.t0=(31===a.getUint8(0)&&139===a.getUint8(1)&&(r=Wr(r).buffer,a=new DataView(r)),a.getInt32(0,!0)),e.next=21578050===e.t0?7:21578324===e.t0?8:21582659===e.t0?9:1480870228===e.t0?10:38359875===e.t0?11:12;break;case 7:return e.abrupt("return",function(){var e=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,!1,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(r,i));case 8:return e.abrupt("return",function(){var e=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,!0,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(r,i));case 9:return e.abrupt("return",function(){var e=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new iu,e.abrupt("return",(i.parse(t,n),i));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(r,i));case 10:return e.abrupt("return",function(){var e=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s=function(e){var t=e.getString();n&&(t=n.getChromosomeName(t));var i=e.getInt(),r=e.getInt(),a=e.getInt();e.getInt(),e.getInt();for(var o=e.getLong(),s=new Array,l=0;l<r;l++){var u=e.getLong();s.push({min:o,max:u}),o=u}return{chr:t,blocks:s,longestFeature:a,binWidth:i}},i={},function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()}(r=new tu(new DataView(t))),a=r.getInt();a-- >0;)o=s(r),i[o.chr]=o;return e.abrupt("return",new su(i));case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(r,i));case 11:throw Error("CSI version 2 is not supported.");case 12:throw Error("Unrecognized index type: ".concat(t));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var cu=function(){function e(t){v(this,e),this.config=t,this.filePtr=0,this.bufferPtr=0}var t,n;return m(e,[{key:"nextLine",value:(n=b(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:n=this.buffer?this.buffer.length:0;case 2:if(!(this.bufferPtr<n)){e.next=10;break}if("\r"===(i=String.fromCharCode(this.buffer[this.bufferPtr++]))){e.next=8;break}if("\n"!==i){e.next=7;break}return e.abrupt("return",t);case 7:t=t?t+i:i;case 8:e.next=2;break;case 10:if(!this.eof){e.next=12;break}return e.abrupt("return",t);case 12:return e.next=14,this.readNextBlock();case 14:e.next=1;break;case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",(console.warn(e.t0),this.eof=!0,t));case 21:case"end":return e.stop()}},e,this,[[0,18]])})),function(){return n.apply(this,arguments)})},{key:"readNextBlock",value:(t=b(regeneratorRuntime.mark(function e(){var t,n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=vs(this.config,{range:{start:this.filePtr,size:26}}),e.t0=Gr,e.next=4,va.loadArrayBuffer(this.config.url,t);case 4:if(e.t1=e.sent,0!==(n=(0,e.t0)(e.t1))){e.next=10;break}this.eof=!0,this.buffer=void 0,e.next=15;break;case 10:return i=vs(this.config,{range:{start:this.filePtr,size:n}}),e.next=13,va.loadArrayBuffer(this.config.url,i);case 13:(r=e.sent).byteLength<n&&(this.eof=!0),this.buffer=Wr(r),this.bufferPtr=0,this.filePtr+=r.byteLength;case 15:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),hu=function(){function e(t,n){var i;v(this,e),this.config=t||{},this.genome=n,this.indexURL=t.indexURL,this.indexed=t.indexed,Qt(this.config.url)?this.filename=this.config.url.name:ws(this.config.url)?(this.indexed=!1,this.dataURI=t.url):(i=Zt(this.config.url),this.filename=t.filename||i.file),this.parser=this.getParser(this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}var t,n,i,r,a,o,s;return m(e,[{key:"readFeatures",value:(s=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=6;break}e.t0=(this.indexed=!0,this.loadFeaturesWithIndex(t,n,i)),e.next=7;break;case 6:e.t0=this.dataURI?(this.indexed=!1,this.loadFeaturesFromDataURI()):(this.indexed=!1,this.loadFeaturesNoIndex());case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return s.apply(this,arguments)})},{key:"readHeader",value:(o=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dataURI){e.next=4;break}return e.next=3,this.loadFeaturesFromDataURI(this.dataURI);case 3:return e.abrupt("return",this.header);case 4:if(!this.config.indexURL){e.next=24;break}return e.next=7,this.getIndex();case 7:if(t=e.sent){e.next=10;break}throw new Error("Unable to load index: "+this.config.indexURL);case 10:if(!t.tabix){e.next=14;break}n=new cu(this.config),e.next=20;break;case 14:return i=Object.values(t.chrIndex).flatMap(function(e){return e.blocks}).map(function(e){return e.max}).reduce(function(e,t){return Math.min(e,t)},Number.MAX_SAFE_INTEGER),r=vs(this.config,{bgz:t.tabix,range:{start:0,size:i}}),e.t0=Bl,e.next=18,va.loadString(this.config.url,r);case 18:e.t1=e.sent,n=(0,e.t0)(e.t1);case 20:return e.next=22,this.parser.parseHeader(n);case 22:return this.header=e.sent,e.abrupt("return",this.header);case 24:return a=vs(this.config),e.next=27,va.loadString(this.config.url,a);case 27:return o=e.sent,s=Bl(o),e.next=31,this.parser.parseHeader(s);case 31:return this.header=e.sent,s=Bl(o),e.next=35,this.parser.parseFeatures(s);case 35:return this.features=e.sent,e.abrupt("return",this.header);case 37:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getParser",value:function(e){switch(e.format){case"vcf":return new Vl(e);case"seg":return new Il("seg");case"mut":return new Il("mut");case"maf":return new Il("maf");case"gwas":return new Ul(e);case"aed":return new Yl(e);default:return new Cl(e)}}},{key:"loadFeaturesNoIndex",value:(a=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.features){e.next=3;break}return t=this.features,e.abrupt("return",(delete this.features,t));case 3:return n=vs(this.config),e.next=6,va.loadString(this.config.url,n);case 6:if(i=e.sent,this.header){e.next=12;break}return r=Bl(i),e.next=11,this.parser.parseHeader(r);case 11:this.header=e.sent;case 12:return a=Bl(i),e.next=15,this.parser.parseFeatures(a);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"loadFeaturesWithIndex",value:(r=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,f,p,v,g,m,y,b,_,w,k,x,S,C,E,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.config,a=this.parser,o=this.index.tabix,void 0!==(s=o?this.index.sequenceIndexMap[t]:t)){e.next=3;break}return e.abrupt("return",[]);case 3:if(l=this.genome,!(u=this.index.blocksForRange(s,n,i))||0===u.length){e.next=70;break}c=[],h=d(u),e.prev=7,h.s();case 9:if((f=h.n()).done){e.next=61;break}if(p=f.value,v=p.minv.block,g=p.minv.offset,m=p.maxv.offset,y=void 0,!o){e.next=25;break}if(b=0,!(m>0)){e.next=22;break}return _=vs(r,{range:{start:p.maxv.block,size:26}}),e.t0=Gr,e.next=20,va.loadArrayBuffer(r.url,_);case 20:e.t1=e.sent,b=(0,e.t0)(e.t1);case 22:y=p.maxv.block+b,e.next=26;break;case 25:y=p.maxv.block;case 26:if(w=vs(r,{range:{start:v,size:y-v+1}}),k=void 0,!o){e.next=36;break}return e.t3=Wr,e.next=32,va.loadArrayBuffer(r.url,w);case 32:e.t4=e.sent,e.t2=(0,e.t3)(e.t4),e.next=39;break;case 36:return e.next=38,va.loadString(r.url,w);case 38:e.t2=e.sent;case 39:return k=e.t2,x=Bl(g?k.slice(g):k),e.next=43,a.parseFeatures(x);case 43:S=e.sent,C=!1,E=0;case 46:if(!(E<S.length)){e.next=59;break}if(R=S[E],(l?l.getChromosomeName(R.chr):R.chr)===t){e.next=52;break}if(0!==c.length){e.next=51;break}return e.abrupt("continue",56);case 51:return e.abrupt("break",59);case 52:if(!(R.start>i)){e.next=55;break}return c.push(R),e.abrupt("break",59);case 55:R.end>=n&&R.start<=i&&(C||(C=!0,E>0&&c.push(S[E-1])),c.push(R));case 56:E++,e.next=46;break;case 59:e.next=9;break;case 61:e.next=66;break;case 63:e.prev=63,e.t5=e.catch(7),h.e(e.t5);case 66:return e.prev=66,h.f(),e.finish(66);case 69:return e.abrupt("return",(c.sort(function(e,t){return e.start-t.start}),c));case 70:return e.abrupt("return",[]);case 71:case"end":return e.stop()}},e,this,[[7,63,66,69]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"getIndex",value:(i=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.index||!this.config.indexURL,e.t0){e.next=5;break}return e.next=4,this.loadIndex();case 4:this.index=e.sent;case 5:return e.abrupt("return",this.index);case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"loadIndex",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(this.config.indexURL,this.config,this.genome));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"loadFeaturesFromDataURI",value:(t=b(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.features){e.next=3;break}return t=this.features,e.abrupt("return",(delete this.features,t));case 3:return n=Kr(this.dataURI),i=Bl(n),e.next=7,this.parser.parseHeader(i);case 7:return this.header=e.sent,this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),i=Bl(n),e.next=12,this.parser.parseFeatures(i);case 12:return this.features=e.sent,e.abrupt("return",this.features);case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),du=Pt,fu=function(){function e(t){v(this,e),this.config=t}var t;return m(e,[{key:"readFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,f,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="function"==typeof this.config.url?this.config.url({chr:t,start:n,end:i}):this.config.url.replace("$CHR",t).replace("$START",n).replace("$END",i),o=Object.assign({},this.config),void 0!==this.config.body&&(o.body="function"==typeof this.config.body?this.config.body({chr:t,start:n,end:i}):this.config.body.replace("$CHR",t).replace("$START",n).replace("$END",i)),e.next=5,va.load(r,o);case 5:if((s=e.sent)&&(a="function"==typeof this.config.parser?this.config.parser(s):du(s)?JSON.parse(s):s),this.config.mappings){l=Object.keys(this.config.mappings),u=d(a);try{for(u.s();!(c=u.n()).done;){h=c.value,f=d(l);try{for(f.s();!(p=f.n()).done;)v=p.value,h[v]=h[this.config.mappings[v]]}catch(di){f.e(di)}finally{f.f()}}}catch(di){u.e(di)}finally{u.f()}}return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),pu=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};pu.prototype.readFeatures=function(e,t,n){var i=Math.max(0,Math.floor(t)),r=Math.ceil(n);if(this.genome){var a=this.genome.getChromosome(e);a&&r>a.bpLength&&(r=a.bpLength)}return va.loadJson(this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+i+"&end="+r,this.config).then(function(e){return e?(e.forEach(function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,i,r,a,o;t=e.exonCount,n=e.exonStarts.split(","),i=e.exonEnds.split(","),r=[];for(var s=0;s<t;s++){var l={start:a=parseInt(n[s]),end:o=parseInt(i[s])};(e.cdsStart>o||e.cdsEnd<e.cdsStart)&&(l.utr=!0),e.cdsStart>=a&&e.cdsStart<=o&&(l.cdStart=e.cdsStart),e.cdsEnd>=a&&e.cdsEnd<=o&&(l.cdEnd=e.cdsEnd),r.push(l)}e.exons=r}(e)}),e):null})};var vu=["Name","gene_name","gene","gene_id","alias","locus","name"],gu=function(){function e(t){v(this,e),this.format=t.format,this.nameField=t.nameField,this.filterTypes=void 0===t.filterTypes?new Set(["chromosome"]):new Set(t.filterTypes)}return m(e,[{key:"combineFeatures",value:function(e,t){var n,i=this.filterTypes;if(e=e.filter(function(e){return void 0===i||!i.has(e.type)}),"gff3"===this.format){var r=this.combineFeaturesById(e);n=this.combineFeaturesByType(r)}else n=this.combineFeaturesByType(e);return n.sort(function(e,t){return e.start-t.start}),this.numberExons(n,t),this.nameFeatures(n),n}},{key:"combineFeaturesById",value:function(e){var t,n=new Map,i=[],r=d(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(el(a.type)||Js(a.type)||!a.id)i.push(a);else{var o=n.get(a.chr);o||(o=new Map,n.set(a.chr,o));var s=o.get(a.id);s?s.push(a):o.set(a.id,[a])}}}catch(di){r.e(di)}finally{r.f()}var l,u=d(n.values());try{for(u.s();!(l=u.n()).done;){var c,h=d(l.value.values());try{for(h.s();!(c=h.n()).done;){var f=c.value;if(f.length>1){var p=f[0];p.exons=[];var v,g=d(f);try{for(g.s();!(v=g.n()).done;){var m=v.value;p.start=Math.min(p.start,m.start),p.end=Math.max(p.end,m.end),p.exons.push({start:m.start,end:m.end})}}catch(di){g.e(di)}finally{g.f()}i.push(p)}else i.push(f[0])}}catch(di){h.e(di)}finally{h.f()}}}catch(di){u.e(di)}finally{u.f()}return i}},{key:"combineFeaturesByType",value:function(e){var t,n=e.filter(function(e){return"gene"===e.type||e.type.endsWith("_gene")}),i=Object.create(null),r=d(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;i[a.id]=a}}catch(di){r.e(di)}finally{r.f()}var o,s=Object.create(null),l=[],u=new Set,c=this.filterTypes,h=d(e=e.filter(function(e){return void 0===c||!c.has(e.type)}));try{for(h.s();!(o=h.n()).done;){var f=o.value;if("biological_region"===f.type&&console.log(),Js(f.type)){var p=f.id;if(void 0!==p){var v=new il(f);s[p]=v,l.push(v),u.add(f);var g=i[f.parent];g&&(v.geneObject=g,u.add(g))}}}}catch(di){h.e(di)}finally{h.f()}var m,y=d(e);try{for(y.s();!(m=y.n()).done;){var b=m.value;if(el(b.type)){var _=I(b);if(_){var w,k=d(_);try{for(k.s();!(w=k.n()).done;){var x=w.value,S=s[x];if(!S&&"gtf"===this.format){var C=Object.assign({},b);C.type="transcript",S=new il(C),s[x]=S,l.push(S)}if(void 0!==S){if(qs.has(b.type))if(_.length>1){var E=new nl(b);S.addExon(E)}else S.addExon(b);else S.addPart(b);u.add(b)}}}catch(di){k.e(di)}finally{k.f()}}}}}catch(di){y.e(di)}finally{y.f()}l.forEach(function(e){"function"==typeof e.finish&&e.finish()});var R,A=d(e.filter(function(e){return!u.has(e)}));try{for(A.s();!(R=A.n()).done;){var T=R.value;l.push(T)}}catch(di){A.e(di)}finally{A.f()}return l;function I(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}},{key:"numberExons",value:function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.exons&&(!t||r.end<=t.end&&r.start>t.start))for(var a=0;a<r.exons.length;a++)r.exons[a].number="-"===r.strand?r.exons.length-a:a+1}}catch(di){i.e(di)}finally{i.f()}}},{key:"nameFeatures",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.attributeString){var r=sl(i.attributeString,"gff3"===this.format?"=":" "),a=new Map(r);if(this.nameField)i.name=a.get(this.nameField);else{var o,s=d(vu);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(a.has(l)){i.name=a.get(l);break}}}catch(di){s.e(di)}finally{s.f()}}}}}catch(di){n.e(di)}finally{n.f()}}}]),e}(),mu=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};mu.prototype.readFeatures=function(){var e=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.startsWith("chr")?t:"chr"+t,a=Math.floor(n),o=Math.ceil(i),s=this.url+"?chromosome="+r+"&start="+a+"&end="+o+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+this.datasetId,e.next=3,va.loadJson(s,{withCredentials:this.config.withCredentials});case 3:return l=e.sent,e.abrupt("return",l&&l.singleTissueEqtl?(l.singleTissueEqtl.forEach(function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId}),l.singleTissueEqtl):void 0);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}();var yu=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};yu.prototype.readFeatures=function(e,t,n){var i=this,r=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise(function(e,t){va.loadJson(r,{withCredentials:i.config.withCredentials}).then(function(t){t?(t.eqtls.forEach(function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1}),e(t.eqtls)):e(null)}).catch(function(e){t(e)})})};var bu=va.apiKey;function _u(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},va.loadJson(t,e)}function wu(e){return new Promise(function(t,n){var i=e.results?e.results:[],r=e.url,a=e.body,o=e.decode,s="?",l=e.fields;return bu&&(r=r+s+"key="+bu,s="&"),l&&(r=r+s+"fields="+l),function e(s){s?a.pageToken=s:void 0!==a.pageToken&&delete a.pageToken;var l=JSON.stringify(a);va.loadJson(r,{sendData:l,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then(function(n){var r,a;n?((a=o?o(n):n)&&a.forEach(function(e){i.push(e)}),(r=n.nextPageToken)?e(r):t(i)):t(i)}).catch(function(e){n(e)})}()})}var ku=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};ku.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):wu({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],i=new Set;return e.callSetIds.forEach(function(e){i.add(e)}),t.callSets.forEach(function(e){i.has(e.id)&&n.push(e)}),n}return t.callSets}}).then(function(t){return e.header.callSets=t,e.header}))},ku.prototype.readFeatures=function(e,t,n){var i=this,r=this.genome;return i.readHeader().then(function(e){return new Promise(function(e,t){i.chrAliasTable?e(i.chrAliasTable):i.readMetadata().then(function(t){i.metadata=t.metadata,i.chrAliasTable={},t.referenceBounds&&r&&t.referenceBounds.forEach(function(e){var t=e.referenceName,n=r.getChromosomeName(t);i.chrAliasTable[n]=t}),e(i.chrAliasTable)})})}).then(function(r){var a=r.hasOwnProperty(e)?r[e]:e;return wu({url:i.url+"/variants/search",fields:i.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(i.variantSetId)?i.variantSetId:[i.variantSetId],callSetIds:i.callSetIds?i.callSetIds:void 0,referenceName:a,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach(function(e){(t=function(e){var t=new Fl;return t.chr=e.referenceName,t.start=parseInt(e.start),t.end=parseInt(e.end),t.pos=t.start+1,t.names=zl(e.names,"; "),t.referenceBases=e.referenceBases,t.alternateBases=zl(e.alternateBases),t.quality=e.quality,t.filter=zl(e.filter),t.info={},e.info&&Object.keys(e.info).forEach(function(n){var i,r=e.info[n];i=Array.isArray(r)?r.join(","):r,t.info[n]=i}),t.calls={},e.calls&&e.calls.forEach(function(e){t.calls[e.callSetId]=e}),init(t),t}(e)).isRefBlock()||n.push(t)}),n}})})},ku.prototype.readMetadata=function(){return _u({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var xu=function(){function e(t){v(this,e),this.config=t}var t;return m(e,[{key:"readFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va.loadJson(this.config.url+"/variants/?count=50000");case 2:r=e.sent.records,a=[],o=d(r);try{for(o.s();!(s=o.n()).done;)(l=s.value).coordinates&&((u=l.coordinates).chromosome&&a.push(new Su(u.chromosome,u.start-1,u.stop,l)),u.chromosome2&&a.push(new Su(u.chromosome2,u.start2-1,u.stop2,l)))}catch(di){o.e(di)}finally{o.f()}return e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Su=function(){function e(t,n,i,r){if(v(this,e),this.chr=t,this.start=n,this.end=i,this.id=r.id,this.entrezName=r.entrez_name,this.name=r.name,this.actionabilityScore=r.civic_actionability_score,r.coordinates.reference_bases&&(this.refBases=r.coordinates.reference_bases),r.coordinates.variant_bases&&(this.altBases=r.coordinates.variant_bases),r.variant_types&&(this.variant_types=r.variant_types),this.locationString=this.chr+":"+Mt(this.start+1)+"-"+Mt(this.end),void 0!==this.actionabilityScore){var a;if(this.actionabilityScore<=10)a=.2;else{var o=Math.min(30,this.actionabilityScore);a=.2+.8*Math.log10((o-10)/2)}this.alpha=a}}return m(e,[{key:"popupData",value:function(){var e=[o("CIViC","https://civicdb.org/links/variants/"+this.id)];if(e.push({name:"Entrez",value:o(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),e.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var t,n,i=1===this.variant_types.length?"Type":"Types",r=d(this.variant_types);try{for(r.s();!(n=r.n()).done;){var a=n.value;t?t+=", "+a.display_name:t=a.display_name}}catch(di){r.e(di)}finally{r.f()}e.push({name:i,value:t})}return e.push({name:"Actionability",value:this.actionabilityScore}),e.push({name:"Location",value:this.locationString}),e;function o(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}}}]),e}();function Cu(e,t){t=t||Number.MAX_SAFE_INTEGER;var n=[];e.sort(function(e,t){return e.start-t.start}),n.push(-1e3);var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=0,s=Math.min(n.length,t);for(o=0;o<s;o++)if(a.start>n[o]){a.row=o,n[o]=a.end;break}a.row=o,n[o]=a.end}}catch(di){r.e(di)}finally{r.f()}}var Eu=function(){function e(t,n){if(v(this,e),this.config=t,this.genome=n,this.format=t.format?t.format.toUpperCase():"BAM","BAM"!==this.format&&"VCF"!==this.format)throw Error("htsget format ".concat(t.format," is not supported"))}var t,n,i,r;return m(e,[{key:"readHeaderData",value:(r=b(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Ru(this.config),"?class=header&format=").concat(this.format),e.next=3,va.loadJson(t,vs(this.config));case 3:return n=e.sent,e.next=6,this.loadUrls(n.htsget.urls);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"readData",value:(i=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Ru(this.config),"?format=").concat(this.format,"&referenceName=").concat(t,"&start=").concat(Math.floor(n),"&end=").concat(Math.ceil(i)),e.next=3,va.loadJson(r,vs(this.config));case 3:return a=e.sent,e.abrupt("return",this.loadUrls(a.htsget.urls));case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"loadUrls",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=d(t);try{for(i.s();!(r=i.n()).done;)(a=r.value).url.startsWith("data:")?n.push(Promise.resolve(Au(a.url))):(o=vs(this.config||{}),a.headers&&(o.headers=Object.assign(o.headers||{},a.headers)),n.push(va.loadArrayBuffer(a.url,o)))}catch(di){i.e(di)}finally{i.f()}return e.t0=function(e){var t,n=0,i=d(e);try{for(i.s();!(t=i.n()).done;)n+=t.value.byteLength}catch(di){i.e(di)}finally{i.f()}var r,a=0,o=new Uint8Array(n),s=d(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=new Uint8Array(l);o.set(u,a),a+=u.length}}catch(di){s.e(di)}finally{s.f()}return o},e.next=6,Promise.all(n);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}],[{key:"inferFormat",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ru(t),i="".concat(n).concat(n.includes("?")?"&":"?","class=header"),e.next=5,va.loadJson(i,vs(t));case 5:if(!(r=e.sent).htsget){e.next=17;break}if("BAM"===(a=r.htsget.format)||"VCF"===a){e.next=10;break}throw Error("htsget format ".concat(a," is not supported"));case 10:if(t.format=a.toLowerCase(),t.sourceType="htsget",e.t0=t.name,e.t0){e.next=17;break}return e.next=16,ys(t.url);case 16:t.name=e.sent;case 17:e.next=21;break;case 19:e.prev=19,e.t1=e.catch(0);case 21:case"end":return e.stop()}},e,null,[[0,19]])})),function(e){return t.apply(this,arguments)})}]),e}();function Ru(e){if(e.url&&e.endpoint&&e.id)return e.url+e.endpoint+e.id;if(e.endpoint&&e.id)return e.endpoint+e.id;if(e.url)return e.url.startsWith("htsget://")?e.url.replace("htsget://","https://"):e.url;throw Error("Must specify either 'url', or 'endpoint' and 'id")}function Au(e){var t=e.split(","),n=t[0].split(":")[1],i=t[1];i=n.indexOf("base64")>=0?atob(i):decodeURI(i);for(var r=new Uint8Array(i.length),a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return r}var Tu=function(e){a(r,e);var t,n,i=s(r);function r(e,t){var n;return v(this,r),(n=i.call(this,e,t)).parser=new Vl,n}return m(r,[{key:"readHeader",value:(n=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=10;break}return e.t0=Bl,e.next=4,this.readHeaderData();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=8,this.parser.parseHeader(t,this.genome);case 8:this.header=e.sent,this.chrAliasTable=this.header.chrAliasTable;case 10:return e.abrupt("return",this.header);case 11:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"readFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.format||"VCF"===this.config.format.toUpperCase()){e.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:if(e.t0=this.chrAliasTable,e.t0){e.next=6;break}return e.next=6,this.readHeader();case 6:return r=this.chrAliasTable.has(t)?this.chrAliasTable.get(t):t,e.t1=Bl,e.next=10,this.readData(r,n,i);case 10:return e.t2=e.sent,a=(0,e.t1)(e.t2),e.abrupt("return",this.parser.parseFeatures(a));case 13:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),r}(Eu),Iu=function(){function e(t,n){v(this,e),this.config=t||{},this.genome=n,this.sourceType=void 0===t.sourceType?"file":t.sourceType,this.visibilityWindow=t.visibilityWindow;var i=new Set(["bigwig","bw","bigbed","bb","tdf"]);if(t.features&&Array.isArray(t.features)){var r=function(e,t){if(!e||0===e.length)return[];if(void 0===e[0].chr&&void 0!==e[0].chr1){var n,i=[],r=d(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;t&&(a.chr1=t.getChromosomeName(a.chr1),a.chr2=t.getChromosomeName(a.chr2)),a.chr1===a.chr2?(a.chr=a.chr1,a.start=Math.min(a.start1,a.start2),a.end=Math.max(a.end1,a.end2)):i.push(a)}}catch(di){r.e(di)}finally{r.f()}for(var o=0,s=i;o<s.length;o++){var l=s[o],u=Object.assign({dup:!0},l);e.push(u),l.chr=l.chr1,l.start=l.start1,l.end=l.end1,u.chr=u.chr2,u.start=u.start2,u.end=u.end2}}else if(t){var c,h=d(e);try{for(h.s();!(c=h.n()).done;){var f=c.value;f.chr=t.getChromosomeName(f.chr)}}catch(di){h.e(di)}finally{h.f()}}return e}(t.features,n);Du(r),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach(function(e){n.forEach(function(n){e[n]=e[t[n]]})})}(r,t.mappings),this.queryable=!1,this.featureCache=new Ma(r,n)}else t.reader?(this.reader=t.reader,this.queryable=void 0===t.queryable||t.queryable,this.expandQuery=!!t.expandQuery):"ga4gh"===t.sourceType?(this.reader=new ku(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new yu(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new mu(t),this.queryable=!0,this.expandQuery=!!t.expandQuery):"htsget"===t.sourceType?this.reader=new Tu(t,n):"ucscservice"===t.sourceType?(this.reader=new pu(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new fu(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable,this.expandQuery=!!t.expandQuery):"civic-ws"===t.sourceType?(this.reader=new xu(t),this.queryable=!1,this.expandQuery=!!t.expandQuery):(this.reader=new hu(t,n),void 0!==t.queryable?this.queryable=t.queryable:i.has(t.format)&&(this.queryable=i.has(t.format)||this.reader.indexed))}var t,n,i,r;return m(e,[{key:"supportsWholeGenome",value:function(){return!this.queryable&&(void 0===this.visibilityWindow||this.visibilityWindow<=0)}},{key:"trackType",value:(r=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return t=e.sent,e.abrupt("return",t?t.type:void 0);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getHeader",value:(i=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=9;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=8;break}return e.next=4,this.reader.readHeader();case 4:(t=e.sent)?(this.header=t,t.format&&(this.config.format=t.format)):this.header={},e.next=9;break;case 8:this.header={};case 9:return e.abrupt("return",this.header);case 10:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getFeatures",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,i=t.start,r=t.end,a=t.visibilityWindow,o=this.genome,s=o?o.getChromosomeName(n):n,l="all"===s.toLowerCase(),e.t0=l&&!this.getWGFeatures||this.config.disableCache||!this.featureCache||!this.featureCache.containsRange(new Wo(s,i,r)),!e.t0){e.next=6;break}return e.next=6,this.loadFeatures(i,r,a,s);case 6:return e.abrupt("return",l?(this.wgFeatures||(this.wgFeatures=this.queryable?[]:this.getWGFeatures(this.featureCache.getAllFeatures())),this.wgFeatures):this.featureCache.queryFeatures(s,i,r));case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"loadFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){var a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.reader,o=t,s=n,(!i||i<=0)&&!1!==this.expandQuery?(l=this.genome?this.genome.getChromosome(r):void 0,o=0,s=l?l.bpLength:Number.MAX_SAFE_INTEGER):i>n-t&&!1!==this.expandQuery&&(u=Math.min(4.1*(n-t),i),o=Math.max(0,(t+n)/2-u),s=t+u),e.next=5,a.readFeatures(r,o,s);case 5:c=e.sent,void 0===this.queryable&&(this.queryable=a.indexed),h=this.queryable?new Wo(r,o,s):void 0,c?(!1===this.config.assembleGFF||"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(c=new gu(this.config).combineFeatures(c,h)),"wig"!==this.config.format&&"junctions"!==this.config.type&&Du(c,this.config.maxRows||Number.MAX_SAFE_INTEGER),this.featureCache=new Ma(c,this.genome,h),(this.config.searchable||this.config.searchableFields)&&this.addFeaturesToDB(c)):this.featureCache=new Ma([],h);case 9:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"addFeaturesToDB",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name&&(this.genome.featureDB[i.name.toUpperCase()]=i),i.gene&&i.gene.name&&(this.genome.featureDB[i.gene.name.toUpperCase()]=i),this.config.searchableFields){var r,a=d(this.config.searchableFields);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=i.getAttributeValue(o);s&&(s.indexOf(" ")>0?(this.genome.featureDB[s.replaceAll(" ","+").toUpperCase()]=i,this.genome.featureDB[s.replaceAll(" ","%20").toUpperCase()]=i):this.genome.featureDB[s.toUpperCase()]=i)}}catch(di){a.e(di)}finally{a.f()}}}}catch(di){n.e(di)}finally{n.f()}}},{key:"getWGFeatures",value:function(e){var t,n=this.genome,i=new Set(n.wgChromosomeNames),r=[],a=d(n.wgChromosomeNames);try{for(a.s();!(t=a.n()).done;){var o=e[t.value];if(o){var s,l=d(o);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=n.getChromosomeName(u.chr);if(i.has(c)){var h=Object.assign({},u);h.chr="all",h.start=n.getGenomeCoordinate(u.chr,u.start),h.end=n.getGenomeCoordinate(u.chr,u.end),h._f=u,h.exons&&delete h.exons,r.push(h)}}}catch(di){l.e(di)}finally{l.f()}}}}catch(di){a.e(di)}finally{a.f()}return r.sort(function(e,t){return e.start-t.start}),r}}]),e}();function Du(e,t){if(t=t||1e3,null!=e&&0!==e.length){var n,i={},r=[],a=d(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.chr,l=i[s];l||(l=[],i[s]=l,r.push(s)),l.push(o)}}catch(di){a.e(di)}finally{a.f()}for(var u=0,c=r;u<c.length;u++){Cu(i[c[u]],t)}}}var Ou=function(){function e(t,n,i){v(this,e),this.path=t.url,this.bufferSize=i||512e3,this.range={start:-1,size:-1},this.config=t}var t;return m(e,[{key:"dataViewForRange",value:(t=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data&&this.range.start<=t.start&&this.range.start+this.range.size>=t.start+t.size){e.next=7;break}return i=t.size?Math.max(this.bufferSize,t.size):this.bufferSize,r={start:t.start,size:i},e.next=5,va.loadArrayBuffer(this.path,vs(this.config,{range:r}));case 5:a=e.sent,this.data=a,this.range=r;case 7:return o=this.data.byteLength,s=t.start-this.range.start,e.abrupt("return",n?new Uint8Array(this.data,s,o-s):new DataView(this.data,s,o-s));case 9:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),e}(),Pu=function(){function e(t,n){v(this,e),this.path=t.url,this.genome=n,this.rpTreeCache={},this.config=t,this.loader=ws(this.path)?new Uu(this.path):va}var t,n,i,r,a,o,s;return m(e,[{key:"readWGFeatures",value:(s=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:return e.abrupt("return",this.readFeatures(this.chromTree.idToChrom[0],0,this.chromTree.idToChrom[this.chromTree.idToChrom.length-1],Number.MAX_VALUE,t,n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"readFeatures",value:(o=b(regeneratorRuntime.mark(function e(t,n,i,r,a,o){var s,l,u,c,h,f,p,v,g,m,y,b,_,w,k,x,S,C,E,R,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:if(s=this.chromTree.chromToID[t],l=this.chromTree.chromToID[i],void 0!==s&&void 0!==l){e.next=5;break}return e.abrupt("return",[]);case 5:if("bigwig"!==this.type){e.next=13;break}return e.next=8,this.getZoomHeaders();case 8:h=e.sent,(f=a?function(e,t){for(var n,i=0;i<t.length;i++){var r=t[i];if(r.reductionLevel<e){n=r;break}}return n}(a,h):void 0)?(u=f.indexOffset,c=qu):(u=this.header.fullIndexOffset,c=Bu),e.next=14;break;case 13:u=this.header.fullIndexOffset,c=Hu.call(this);case 14:return e.next=16,this.loadRPTree(u);case 16:return p=e.sent,e.next=19,p.findLeafItemsOverlapping(s,n,l,r);case 19:if(!(v=e.sent)||0===v.length){e.next=32;break}g=Number.MAX_VALUE,m=0,y=d(v);try{for(y.s();!(b=y.n()).done;)_=b.value,g=Math.min(g,_.dataOffset),m=Math.max(m,_.dataOffset+_.dataSize)}catch(di){y.e(di)}finally{y.f()}return w=m-g,e.next=27,this.loader.loadArrayBuffer(this.config.url,vs(this.config,{range:{start:g,size:w}}));case 27:k=e.sent,x=[],S=d(v);try{for(S.s();!(C=S.n()).done;)E=C.value,R=new Uint8Array(k,E.dataOffset-g,E.dataSize),A=this.header.uncompressBuffSize>0?Ur(R):R,c.call(this,new DataView(A.buffer),s,n,l,r,x,this.chromTree.idToChrom,o)}catch(di){S.e(di)}finally{S.f()}return e.abrupt("return",(x.sort(function(e,t){return e.start-t.start}),x));case 32:return e.abrupt("return",[]);case 33:case"end":return e.stop()}},e,this)})),function(e,t,n,i,r,a){return o.apply(this,arguments)})},{key:"getZoomHeaders",value:(a=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.zoomLevelHeaders,e.t0){e.next=4;break}return e.next=4,this.loadHeader();case 4:return e.abrupt("return",this.zoomLevelHeaders);case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"loadHeader",value:(r=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=2;break}return e.abrupt("return",this.header);case 2:return e.next=4,this.loader.loadArrayBuffer(this.path,vs(this.config,{range:{start:0,size:64}}));case 4:return n=e.sent,this.littleEndian=!0,i=new tu(new DataView(n)),2291137574===(r=i.getUInt())?this.type="bigwig":2273964779===r?this.type="bigbed":(this.littleEndian=!1,i.littleEndian=!1,i.position=0,654085990===(a=i.getUInt())?this.type="bigwig":3958540679===a&&(this.type="bigbed")),t={bwVersion:i.getUShort(),nZoomLevels:i.getUShort(),chromTreeOffset:i.getLong(),fullDataOffset:i.getLong(),fullIndexOffset:i.getLong(),fieldCount:i.getUShort(),definedFieldCount:i.getUShort(),autoSqlOffset:i.getLong(),totalSummaryOffset:i.getLong(),uncompressBuffSize:i.getInt(),extensionOffset:i.getLong()},s={start:o=64,size:t.fullDataOffset-o+5},e.next=13,this.loader.loadArrayBuffer(this.path,vs(this.config,{range:s}));case 13:for(n=e.sent,l=t.nZoomLevels,i=new tu(new DataView(n)),this.zoomLevelHeaders=[],this.firstZoomDataOffset=Number.MAX_SAFE_INTEGER,u=1;u<=l;u++)h=new Mu(c=l-u,i),this.firstZoomDataOffset=Math.min(h.dataOffset,this.firstZoomDataOffset),this.zoomLevelHeaders[c]=h;if(t.autoSqlOffset>0&&(i.position=t.autoSqlOffset-o,(f=i.getString())&&(this.autoSql=function(e){var t,n,i=[],r=!1,a=d(e.trim().split(/\s*[\r\n]+\s*/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.startsWith("table"))t=o.split(/\s+/)[1].trim();else if(o.startsWith("("))r=!0;else if(o.startsWith(")"));else if(r&&o.length>0){var s=o.indexOf(";"),l=o.substr(0,s).split(/\s+/),u=o.substr(s+1).replace(/"/g,"").trim();i.push({type:l[0],name:l[1],description:u})}}}catch(di){a.e(di)}finally{a.f()}return{table:t,fields:i}}(f))),t.totalSummaryOffset>0&&(i.position=t.totalSummaryOffset-o,this.totalSummary=new Vu(i)),t.chromTreeOffset>0){e.next=20;break}throw"BigWig chromosome tree offset <= 0";case 20:return e.abrupt("return",(i.position=t.chromTreeOffset-o,this.chromTree=new Nu(i,o,this.genome),i.position=t.fullDataOffset-o,t.dataCount=i.getInt(),this.setDefaultVisibilityWindow(t),this.header=t,this.header));case 21:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"loadRPTree",value:(i=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.rpTreeCache[t],e.t0=n,e.t0){e.next=8;break}return n=new Lu(t,this.config,this.littleEndian,this.loader),e.next=6,n.load();case 6:this.rpTreeCache[t]=n,e.t0=n;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getType",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:return e.abrupt("return",this.type);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getTrackType",value:(t=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:return e.abrupt("return","bigwig"===this.type?"wig":this.autoSql&&"chromatinInteract"===this.autoSql.table?"interact":"annotation");case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setDefaultVisibilityWindow",value:function(e){if("bigwig"===this.type)this.visibilityWindow=-1;else{var t=this.genome?this.genome.getGenomeLength():3088286401;this.visibilityWindow=e.dataCount<1e3?-1:t/e.dataCount*1e3}}}]),e}(),Mu=function e(t,n){v(this,e),this.index=t,this.reductionLevel=n.getInt(),this.reserved=n.getInt(),this.dataOffset=n.getLong(),this.indexOffset=n.getLong()},Lu=function(){function e(t,n,i,r){v(this,e),this.config=n,this.loader=r,this.fileOffset=t,this.path=n.url,this.littleEndian=i}var t,n,i;return m(e,[{key:"load",value:(i=b(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fileOffset+48,n=ws(this.path)?this.loader:new Ou(this.config,512e3),e.next=3,this.readNode(t,n);case 3:return this.rootNode=e.sent,e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"readNode",value:(n=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dataViewForRange({start:t,size:4},!1);case 2:return i=e.sent,r=new tu(i,this.littleEndian),a=1===r.getByte(),r.getByte(),o=r.getUShort(),s={start:t+=4,size:o*(a?32:24)},e.next=10,n.dataViewForRange(s,!1);case 10:if(i=e.sent,l=new Array(o),r=new tu(i),!a){e.next=15;break}for(u=0;u<o;u++)c={isLeaf:!0,startChrom:r.getInt(),startBase:r.getInt(),endChrom:r.getInt(),endBase:r.getInt(),dataOffset:r.getLong(),dataSize:r.getLong()},l[u]=c;return e.abrupt("return",new Fu(l));case 15:for(h=0;h<o;h++)d={isLeaf:!1,startChrom:r.getInt(),startBase:r.getInt(),endChrom:r.getInt(),endBase:r.getInt(),childOffset:r.getLong()},l[h]=d;return e.abrupt("return",new Fu(l));case 17:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findLeafItemsOverlapping",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,e.abrupt("return",new Promise(function(e,o){var s=[],l=new Set,u=ws(a.path)?a.loader:new Ou(a.config,512e3);l.add(0),function c(h,d){zu(h,t,n,i,r)&&h.items.forEach(function(e){zu(e,t,n,i,r)&&(e.isLeaf?s.push(e):e.childNode?c(e.childNode):(l.add(e.childOffset),a.readNode(e.childOffset,u).then(function(t){e.childNode=t,c(t,e.childOffset)}).catch(o)))}),void 0!==d&&l.delete(d),0===l.size&&e(s)}(a.rootNode,0)}));case 2:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})}]),e}(),Fu=function e(t){v(this,e),this.items=t;var n,i,r=Number.MAX_SAFE_INTEGER,a=0,o=Number.MAX_SAFE_INTEGER,s=0;for(n=0;n<t.length;n++)i=t[n],r=Math.min(r,i.startChrom),a=Math.max(a,i.endChrom),o=Math.min(o,i.startBase),s=Math.max(s,i.endBase);this.startChrom=r,this.endChrom=a,this.startBase=o,this.endBase=s},Nu=function e(t,n,i){v(this,e);var r=t.getInt(),a=t.getInt(),o=t.getInt(),s=t.getInt(),l=t.getLong(),u=t.getLong(),c={},h=[];this.header={magic:r,blockSize:a,keySize:o,valSize:s,itemCount:l,reserved:u},this.chromToID=c,this.idToChrom=h,function e(t,r){r>=0&&(t.position=r);var a=t.getByte();t.getByte();var s,l,u,d,f,p=t.getUShort();if(1===a)for(s=0;s<p;s++)l=t.getFixedLengthTrimmedString(o),u=t.getInt(),t.getInt(),i&&(l=i.getChromosomeName(l)),c[l]=u,h[u]=l;else for(s=0;s<p;s++)l=t.getFixedLengthTrimmedString(o),d=t.getLong()-n,f=t.position,e(t,d),t.position=f}(t,-1)};function zu(e,t,n,i,r){return e?(i>e.startChrom||i===e.startChrom&&r>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase):(console.log("null item for "+t+" "+n+" "+r),!1)}var Vu=function e(t){v(this,e),t?(this.basesCovered=t.getLong(),this.minVal=t.getDouble(),this.maxVal=t.getDouble(),this.sumData=t.getDouble(),this.sumSquares=t.getDouble(),ju.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)};function ju(){var e=this.basesCovered;e>0&&(this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1)),this.defaultRange={min:this.minVal<0?this.mean-2*this.stddev:0,max:this.maxVal>0?this.mean+2*this.stddev:0})}function Bu(e,t,n,i,r,a,o){var s=new tu(e),l=s.getInt(),u=s.getInt(),c=s.getInt(),h=s.getInt(),d=s.getInt(),f=s.getByte();s.getByte();var p=s.getUShort();if(l>=t&&l<=i)for(;p-- >0;){var v=void 0;switch(f){case 1:u=s.getInt(),c=s.getInt(),v=s.getFloat();break;case 2:u=s.getInt(),v=s.getFloat(),c=u+d;break;case 3:v=s.getFloat(),c=u+d,u+=h}if(!(l<t||l===t&&c<n)){if(l>i||l===i&&u>=r)break;Number.isFinite(v)&&a.push({chr:o[l],start:u,end:c,value:v})}}}function Hu(){var e=function(e,t,n){if(n&&"chromatinInteract"===n.table)return function(e,t){return e.chr1=t[5],e.start1=Number.parseInt(t[6]),e.end1=Number.parseInt(t[7]),e.chr2=t[10],e.start2=Number.parseInt(t[11]),e.end2=Number.parseInt(t[12]),e.name=t[0],e.score=Number.parseFloat(t[1]),e.value=Number.parseFloat(t[2]),e.color="."===t[4]?void 0:"0"===t[4]?"rgb(0,0,0)":t[4],e};var i=e-3;return function(r,a){if(i>0&&(r.name=a[0]),i>1&&(r.score=parseFloat(a[1])),i>2&&(r.strand=a[2]),i>3&&(r.cdStart=parseInt(a[3])),i>4&&(r.cdEnd=parseInt(a[4])),i>5&&"."!==a[5]&&"0"!==a[5]&&"-1"!==a[5]){var o=na.createColorString(a[5]);r.color=o.startsWith("rgb")?o:void 0}if(i>8){for(var s=parseInt(a[6]),l=a[7].split(","),u=a[8].split(","),c=[],h=0;h<s;h++){var d=r.start+parseInt(u[h]),f=d+parseInt(l[h]);c.push({start:d,end:f})}r.exons=c}if(n)for(var p=e;p<t;p++)p<n.fields.length&&(r[n.fields[p].name]=a[p-3])}}(this.header.definedFieldCount,this.header.fieldCount,this.autoSql);return function(t,n,i,r,a,o,s){for(var l=new tu(t);l.remLength()>=13;){var u=l.getInt(),c=s[u],h=l.getInt(),d=l.getInt(),f=l.getString();if(!(u<n||u===n&&d<i)){if(u>r||u===r&&h>=a)break;if(d>0){var p={chr:c,start:h,end:d};o.push(p);var v=f.split("\t");e(p,v)}}}}}function qu(e,t,n,i,r,a,o,s){for(var l=new tu(e);l.remLength()>=32;){var u=l.getInt(),c=o[u],h=l.getInt(),d=l.getInt(),f=l.getInt(),p=l.getFloat(),v=l.getFloat(),g=l.getFloat(),m=void 0;switch(l.getFloat(),s){case"min":m=p;break;case"max":m=v;break;default:m=0===f?0:g/f}if(!(u<t||u===t&&d<n)){if(u>i||u===i&&h>=r)break;Number.isFinite(m)&&a.push({chr:c,start:h,end:d,value:m})}}}var Uu=function(){function e(t){v(this,e),this.data=Kr(t).buffer}var t;return m(e,[{key:"loadArrayBuffer",value:function(e,t){var n=t.range;return n?this.data.slice(n.start,n.start+n.size):this.data}},{key:"dataViewForRange",value:(t=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Math.min(this.data.byteLength-t.start,t.size),e.abrupt("return",n?new Uint8Array(this.data,t.start,i):new DataView(this.data,t.start,i));case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),e}(),Wu=function(){function e(t,n){v(this,e),this.reader=new Pu(t,n),this.genome=n,this.format=t.format||"bigwig",this.wgValues={}}var t,n,i,r,a;return m(e,[{key:"getFeatures",value:(a=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,i=t.start,r=t.end,a=t.bpPerPixel,o=t.windowFunction,"all"!==n.toLowerCase()){e.next=7;break}return e.next=4,this.getWGValues(o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.reader.readFeatures(n,i,n,r,a,o);case 9:e.t0=e.sent;case 10:return s=e.t0,e.abrupt("return",("bigwig"===this.reader.type||Cu(s),s));case 12:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"getHeader",value:(r=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.loadHeader());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getDefaultRange",value:function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0}},{key:"defaultVisibilityWindow",value:(i=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.defaultVisibilityWindow);case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getWGValues",value:(n=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.genome,!this.wgValues[t]){e.next=3;break}return e.abrupt("return",this.wgValues[t]);case 3:return i=n.getGenomeLength()/1e3,e.next=6,this.reader.readWGFeatures(i,t);case 6:r=e.sent,a=[],o=d(r);try{for(o.s();!(s=o.n()).done;)l=s.value,u=n.getCumulativeOffset(l.chr),(c=Object.assign({},l)).chr="all",c.start=u+l.start,c.end=u+l.end,a.push(c)}catch(di){o.e(di)}finally{o.f()}return e.abrupt("return",(this.wgValues[t]=a,a));case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return"bigwig"===this.reader.type||this.defaultVisibilityWindow()<=0}},{key:"trackType",value:(t=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.getTrackType());case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),Gu=function(){function e(t,n){v(this,e),this.config=t,this.genome=n,this.path=t.url,this.groupCache={},this.datasetCache={}}var t,n,i,r,a,o;return m(e,[{key:"readHeader",value:(o=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.magic){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:0,size:64e3}}));case 4:if(t=e.sent,n=new tu(new DataView(t)),this.magic=n.getInt(),this.version=n.getInt(),this.indexPos=n.getLong(),this.indexSize=n.getInt(),n.getInt(),this.version>=2)for(i=n.getInt(),this.windowFunctions=[];i-- >0;)this.windowFunctions.push(n.getString());for(this.trackType=n.getString(),this.trackLine=n.getString(),r=n.getInt(),this.trackNames=[];r-- >0;)this.trackNames.push(n.getString());return this.genomeID=n.getString(),this.flags=n.getInt(),this.compressed=0!=(1&this.flags),e.next=15,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 15:for(t=e.sent,n=new tu(new DataView(t)),this.datasetIndex={},a=n.getInt();a-- >0;)o=n.getString(),s=n.getLong(),l=n.getInt(),this.datasetIndex[o]={position:s,size:l};for(this.groupIndex={},a=n.getInt();a-- >0;)u=n.getString(),c=n.getLong(),h=n.getInt(),this.groupIndex[u]={position:c,size:h};return e.abrupt("return",this);case 22:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"readDataset",value:(a=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,d,f,p,v,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t+"_"+n+"_"+i,!this.datasetCache[r]){e.next=3;break}return e.abrupt("return",this.datasetCache[r]);case 3:return e.next=5,this.readHeader();case 5:if(a=this.version<2?"":"/"+n,o="all"===t.toLowerCase()||void 0===i?"0":i.toString(),s="raw"===n?"/"+t+"/raw":"/"+t+"/z"+o+a,void 0!==(l=this.datasetIndex[s])){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:l.position,size:l.size}}));case 12:if(u=e.sent){e.next=15;break}return e.abrupt("return");case 15:for(c=new tu(new DataView(u)),h=c.getInt(),d={};h-- >0;)d[c.getString()]=c.getString();for(f=c.getString(),p=c.getFloat(),v=c.getInt(),g=[];v-- >0;)g.push({position:c.getLong(),size:c.getInt()});return m={name:s,attributes:d,dataType:f,tileWidth:p,tiles:g},e.abrupt("return",(this.datasetCache[r]=m,m));case 25:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"readRootGroup",value:(r=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,!(n=this.groupCache["/"])){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.readGroup("/");case 5:return i=e.sent,r=i.chromosomes,(a=i.maxZoom)&&(this.maxZoom=Number(a)),(o=i.totalCount)&&(i.totalCount=Number.parseFloat(o)),s={},e.abrupt("return",(r&&r.split(",").forEach(function(e){var n=t.getChromosomeName(e);s[n]=e}),this.chrAliasTable=s,this.groupCache["/"]=i,i));case 13:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"readGroup",value:(i=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.groupCache[t])){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.readHeader();case 5:if(void 0!==(i=this.groupIndex[t])){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:i.position,size:i.size}}));case 10:if(r=e.sent){e.next=13;break}return e.abrupt("return");case 13:for(a=new tu(new DataView(r)),o={name:t},s=a.getInt();s-- >0;)l=a.getString(),u=a.getString(),o[l]=u;return e.abrupt("return",(this.groupCache[t]=o,o));case 17:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readTiles",value:(n=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h,f,p,v,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sort(function(e,t){return e.position-t.position}),0!==(t=t.filter(function(e){return e.size>0})).length){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:return i=t[t.length-1],r=t[0].position,a=i.position+i.size-r,e.next=7,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:r,size:a}}));case 7:o=e.sent,s=[],l=d(t),e.prev=10,l.s();case 12:if((u=l.n()).done){e.next=33;break}if(c=u.value,h=c.position-r,!((f=c.size)>0)){e.next=31;break}p=this.compressed?Ur(o.slice(h,h+f)).buffer:o.slice(h,h+f),v=new tu(new DataView(p)),g=v.getString(),m=void 0,e.t0=g,e.next="fixedStep"===e.t0?23:"variableStep"===e.t0?25:"bed"===e.t0||"bedWithName"===e.t0?27:29;break;case 23:return m=$u(v,n),e.abrupt("break",30);case 25:return m=Yu(v,n),e.abrupt("break",30);case 27:return m=Zu(v,n,g),e.abrupt("break",30);case 29:throw"Unknown tile type: "+g;case 30:s.push(m);case 31:e.next=12;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(10),l.e(e.t1);case 38:return e.prev=38,l.f(),e.finish(38);case 41:return e.abrupt("return",s);case 42:case"end":return e.stop()}},e,this,[[10,35,38,41]])})),function(e,t){return n.apply(this,arguments)})},{key:"readTile",value:(t=b(regeneratorRuntime.mark(function e(t,n){var i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va.loadArrayBuffer(this.path,vs(this.config,{range:{start:t.position,size:t.size}}));case 2:i=e.sent,this.compressed&&(i=Ur(i).buffer),r=new tu(new DataView(i)),a=r.getString(),e.t0=a,e.next="fixedStep"===e.t0?8:"variableStep"===e.t0?9:"bed"===e.t0||"bedWithName"===e.t0?10:11;break;case 8:return e.abrupt("return",$u(r,n));case 9:return e.abrupt("return",Yu(r,n));case 10:return e.abrupt("return",Zu(r,n,a));case 11:throw"Unknown tile type: "+a;case 12:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),e}();function $u(e,t){for(var n=e.getInt(),i=e.getInt(),r=e.getFloat(),a=[],o=t;o-- >0;){for(var s=n,l=[];s-- >0;)l.push(e.getFloat());a.push(l)}return{type:"fixedStep",start:i,span:r,data:a,nTracks:t,nPositions:n}}function Yu(e,t){for(var n=e.getInt(),i=e.getFloat(),r=e.getInt(),a=[],o=r;o-- >0;)a.push(e.getInt());e.getInt();for(var s=[],l=t;l-- >0;){o=r;for(var u=[];o-- >0;)u.push(e.getFloat());s.push(u)}return{type:"variableStep",tileStart:n,span:i,start:a,data:s,nTracks:t,nPositions:r}}function Zu(e,t,n){for(var i=e.getInt(),r=i,a=[];r-- >0;)a.push(e.getInt());r=i;for(var o=[];r-- >0;)o.push(e.getInt());e.getInt();for(var s=[],l=t;l-- >0;){for(var u=i,c=[];u-- >0;)c.push(e.getFloat());s.push(c)}if("bedWithName"===n){r=i;for(var h=[];r-- >0;)h.push(e.getString())}return{type:n,start:a,end:o,data:s,nTracks:t,nPositions:i}}var Ku=function(){function e(t,n){v(this,e),this.genome=n,this.windowFunction=t.windowFunction||"mean",this.reader=new Gu(t,n)}var t;return m(e,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h,f,p,v,g,m,y,b,_,w,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,i=t.start,r=t.end,a=t.bpPerPixel,o=new Wo(n,i,r),s=this.genome,e.t0=!this.rootGroup,!e.t0){e.next=8;break}return e.next=6,this.reader.readRootGroup();case 6:this.rootGroup=e.sent,e.t0=!this.normalizationFactor;case 8:if(!e.t0){e.next=11;break}(l=this.rootGroup.totalCount)&&(this.normalizationFactor=1e6/l);case 11:if("all"!==n.toLowerCase()){e.next=13;break}return e.abrupt("return",[]);case 13:return o.bpPerPixel=a,u=function(e,t,n){var i=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,i/(700*t)))/ec)}(n,a,s),c=this.reader.chrAliasTable[n],h=this.reader.maxZoom,void 0===c&&(c=n),void 0===h&&(h=-1),f=u>h?"raw":this.windowFunction,e.next=20,this.reader.readDataset(c,f,u);case 20:if(null!=(p=e.sent)){e.next=23;break}return e.abrupt("return",[]);case 23:return v=p.tileWidth,g=Math.floor(i/v),m=Math.floor(r/v),e.next=28,this.reader.readTiles(p.tiles.slice(g,m+1),1);case 28:y=e.sent,b=[],_=d(y),e.prev=31,_.s();case 33:if((w=_.n()).done){e.next=47;break}k=w.value,e.t1=k.type,e.next="bed"===e.t1?38:"variableStep"===e.t1?40:"fixedStep"===e.t1?42:44;break;case 38:return Xu(k,n,i,r,0,b),e.abrupt("break",45);case 40:return Qu(k,n,i,r,0,b),e.abrupt("break",45);case 42:return Ju(k,n,i,r,0,b),e.abrupt("break",45);case 44:throw"Unknown tile type: "+k.type;case 45:e.next=33;break;case 47:e.next=52;break;case 49:e.prev=49,e.t2=e.catch(31),_.e(e.t2);case 52:return e.prev=52,_.f(),e.finish(52);case 55:return e.abrupt("return",(b.sort(function(e,t){return e.start-t.start}),b));case 56:case"end":return e.stop()}},e,this,[[31,49,52,55]])})),function(e){return t.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1}}]),e}();function Xu(e,t,n,i,r,a){for(var o=e.nPositions,s=e.start,l=e.end,u=e.data[0],c=0;c<o;c++){var h=s[c],d=l[c];if(!(d<n)){if(h>i)break;a.push({chr:t,start:h,end:d,value:u[c]})}}}function Qu(e,t,n,i,r,a){for(var o=e.nPositions,s=e.start,l=e.span,u=e.data[0],c=0;c<o;c++){var h=s[c],d=h+l;if(!(d<n)){if(h>i)break;a.push({chr:t,start:h,end:d,value:u[c]})}}}function Ju(e,t,n,i,r,a){for(var o=e.nPositions,s=e.start,l=e.span,u=e.data[0],c=0;c<o;c++){var h=s+l;if(s>i)break;h>=n&&(Number.isNaN(u[c])||a.push({chr:t,start:s,end:h,value:u[c]})),s=h}}var ec=Math.log(2);function tc(e,t){var n=e.format?e.format.toLowerCase():void 0;return"bigwig"===n||"bigbed"===n||"bb"===n?new Wu(e,t):"tdf"===n?new Ku(e,t):new Iu(e,t)}for(var nc=new Map,ic=0,rc=[["A","T"],["G","C"],["Y","R"],["W","S"],["K","M"],["D","H"],["B","V"]];ic<rc.length;ic++){var ac=rc[ic],oc=ac[0],sc=ac[1];nc.set(oc,sc),nc.set(sc,oc),nc.set(oc.toLowerCase(),sc.toLowerCase()),nc.set(sc.toLowerCase(),oc.toLowerCase())}var lc={getTissueInfo:function(e,t){return va.loadJson((t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8"),{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}};function uc(e,t,n){var i=(e.start-t)/n,r=(e.end-t)/n,a=r-i;return a<3&&(a=3,i-=1.5),{px:i,px1:r,pw:a}}function cc(e,t,n,i,r,a){try{r.save(),r.fillStyle=this.defaultColor,r.strokeStyle=this.defaultColor;var o,s,l=dc.call(this,e);r.fillStyle=l,r.strokeStyle=l,"SQUISHED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight/2,s=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight,s=this.margin+this.expandedRowHeight*e.row):(o=this.featureHeight,s=this.margin);var u=a.pixelWidth,c=s+o/2,h=o/2,d=c-h/2,f=e.exons?e.exons.length:0,p=uc(e,t,n),v=this.arrowSpacing,g="+"===e.strand?1:"-"===e.strand?-1:0;if(0===f){var m=Math.max(0,p.px),y=Math.min(u,p.px1),b=Math.max(p.pw,y-m);if(r.fillRect(m,s,b,o),0!==g){r.fillStyle="white",r.strokeStyle="white";for(var _=m+v/2;_<y;_+=v)fo.strokeLine(r,_-2*g,c-2,_,c),fo.strokeLine(r,_-2*g,c+2,_,c);r.fillStyle=l,r.strokeStyle=l}}else{fo.strokeLine(r,p.px+1,c,p.px1-1,c);for(var w=Math.max(0,p.px)+v/2,k=Math.min(u,p.px1),x=w;x<k;x+=v)fo.strokeLine(r,x-2*g,c-2,x,c),fo.strokeLine(r,x-2*g,c+2,x,c);for(var S=0;S<f;S++){var C=e.exons[S],E=void 0,R=Math.round((C.start-t)/n),A=Math.round((C.end-t)/n),T=Math.max(1,A-R);if(!(R+T<0)){if(R>u)break;if(C.utr)r.fillRect(R,d,T,h);else if(C.cdStart&&(E=Math.round((C.cdStart-t)/n),r.fillRect(R,d,E-R,h),T-=E-R,R=E),C.cdEnd&&(E=Math.round((C.cdEnd-t)/n),r.fillRect(E,d,A-E,h),T-=A-E,A=E),T=Math.max(T,1),r.fillRect(R,s,T,o),T>v+5&&0!==g){r.fillStyle="white",r.strokeStyle="white";for(var I=R+v/2;I<A;I+=v)fo.strokeLine(r,I-2*g,c-2,I,c),fo.strokeLine(r,I-2*g,c+2,I,c);r.fillStyle=l,r.strokeStyle=l}}}}a.drawLabel&&"SQUISHED"!==this.displayMode&&hc.call(this,r,e,p.px,p.px1,s,a.referenceFrame,a)}finally{r.restore()}}function hc(e,t,n,i,r,a,o){try{e.save();var s=t.name;if(void 0===s&&t.gene&&(s=t.gene.name),void 0===s&&(s=t.id||t.ID),!s||"."===s)return;var l,u=o.pixelXOffset||0,c=(Math.max(n,-u)+Math.min(i,-u+o.viewportWidth))/2;"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(l={rotate:{angle:45}});var h,d=function(e,t){return t?e+20:e+25}(r,l),f=dc.call(this,t),p=!1;a.selection&&lc.gtexLoaded&&(p=!0,h=a.selection.colorForGene(s));var v={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:h||f,strokeStyle:h||f},g=e.measureText(s),m=c-g.width/2,y=c+g.width/2;(o.labelAllFeatures||m>o.rowLastX[t.row]||p)&&(o.rowLastX[t.row]=y,fo.fillText(e,s,c,d,v,l))}finally{e.restore()}}function dc(e){var t,n,i,r,a;if(this.altColor&&"-"===e.strand)t="function"==typeof this.altColor?this.altColor(e):this.altColor;else if(this.color)t="function"==typeof this.color?this.color(e):this.color;else if(this.colorBy){var o=e.getAttributeValue?e.getAttributeValue(this.colorBy):e[this.colorBy];t=this.colorTable.getColor(o)}else t=e.color?e.color:this.defaultColor;if(e.alpha&&1!==e.alpha)t=na.addAlpha(t,e.alpha);else if(this.useScore&&e.score&&!Number.isNaN(e.score)){var s=(n=this.config.min?this.config.min:0,i=this.config.max?this.config.max:1e3,r=e.score,a=Math.floor((r-n)/((i-n)/9)),Math.min(1,.2+.8*a/9));e.alpha=s,t=na.addAlpha(t,s)}return t}var fc=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),pc=new Set(["coding-synon"]),vc=new Set(["splice-3","splice-5"]),gc=new Set(["untranslated-5","untranslated-3"]);function mc(e,t,n,i,r){var a,o,s,l=uc(e,t,n),u=this.margin,c=this.snpColors.length;switch(a="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":o=e.func.split(",").map(function(e){return fc.has(e)||vc.has(e)?c-1:pc.has(e)?c-2:gc.has(e)?c-3:0}).reduce(function(e,t){return Math.max(e,t)});break;case"class":o="deletion"===(s=e.class)?c-1:"mnp"===s?c-2:"microsatellite"===s||"named"===s?c-3:0}r.fillStyle=this.snpColors[o],r.fillRect(l.px,u,l.pw,a)}function yc(e,t,n,i,r){var a="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight,o=this.margin;"COLLAPSED"!==this.displayMode&&void 0!==e.row&&(o+=e.row*a);var s=o+.5*a,l=s-.5*a,u=s+.5*a,c=Math.round((e.junction_left-t)/n),h=Math.round((e.junction_right-t)/n);r.beginPath(),r.moveTo(c,s),r.bezierCurveTo(c,l,h,l,h,s),r.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),r.strokeStyle="blue",r.stroke();for(var d=e.spanning_frag_coords,f=0;f<d.length;f++){var p=d[f],v=Math.round((p.left-t)/n),g=Math.round((p.right-t)/n);r.beginPath(),r.moveTo(v,s),r.bezierCurveTo(v,u,g,u,g,s),r.lineWidth=1,r.strokeStyle="purple",r.stroke()}}var bc=function(e){a(o,e);var t,n,i=s(o);function o(e,t){return v(this,o),i.call(this,e,t)}return m(o,[{key:"init",value:function(e){r(h(o.prototype),"init",this).call(this,e),this.type=e.type||"annotation",this.maxRows=void 0===e.maxRows?1e3:e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:tc(e,this.browser.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.render=e.render||yc,this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.render=e.render||mc,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function",this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.render=e.render||cc,this.arrowSpacing=30,function(e){function t(){e.trackView&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",function n(i){e.browser.un&&e===i&&(e.browser.un("trackdragend",t),e.browser.un("trackremoved",n))}))}(this),this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight,e.colorBy&&(e.colorBy.field&&(e.colorTable=e.colorBy.pallete||e.colorBy.palette,e.colorBy=e.colorBy.field),this.colorBy=e.colorBy,this.colorTable=e.colorTable?new ko(e.colorTable):new wo("Set1"))),this.useScore=e.useScore}},{key:"postInit",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=5;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent;case 5:if(this.header&&this.setTrackProperties(this.header),e.t1=void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow,!e.t1){e.next=12;break}return e.next=10,this.featureSource.defaultVisibilityWindow();case 10:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:i,bpPerPixel:r,visibilityWindow:this.visibilityWindow}));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;if(e&&"function"==typeof e.forEach){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.row&&r.row>t&&(t=r.row)}}catch(di){i.e(di)}finally{i.f()}}return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)}},{key:"draw",value:function(e){var t=e.features,n=e.context,i=e.bpPerPixel,r=e.bpStart,a=e.pixelWidth,o=e.pixelHeight,s=r+a*i+1;if(this.config.isMergedTrack||fo.fillRect(n,0,e.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),t){var l=[];e.rowLastX=[];var u,c=d(t);try{for(c.s();!(u=c.n()).done;){var h=u.value.row||0;void 0===l[h]?l[h]=1:l[h]++,e.rowLastX[h]=-Number.MAX_SAFE_INTEGER}}catch(di){c.e(di)}finally{c.f()}var f,p=[],v=d(t);try{for(v.s();!(f=v.n()).done;){var g=f.value;if(!(g.end<r)){if(g.start>s)break;var m="COLLAPSED"===this.displayMode?0:g.row,y=a/l[m];e.drawLabel=e.labelAllFeatures||y>10;var b=Math.ceil((g.end-r)/i),_=p[m];if(!_||b>_){this.render.call(this,g,r,i,o,n,e);var w=Math.floor((g.start-r)/i);_&&w-_<=0&&(n.globalAlpha=.5,fo.strokeLine(n,w,0,w,o,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),p[m]=b}}}}catch(di){v.e(di)}finally{v.f()}}else console.log("No feature list")}},{key:"clickedFeatures",value:function(e,t){var n,i=e.y-this.margin,a=r(h(o.prototype),"clickedFeatures",this).call(this,e,t);switch(this.displayMode){case"SQUISHED":n=Math.floor(i/this.squishedRowHeight);break;case"EXPANDED":n=Math.floor(i/this.expandedRowHeight);break;default:n=void 0}return a.filter(function(e){return void 0===n||void 0===e.row||n===e.row})}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,i=e.genomicLocation,r=[],a=d(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o._f||o,l="function"==typeof s.popupData?s.popupData(i):this.extractPopupData(s);if(l){r.length>0&&r.push("<hr/><hr/>");var u,c=this.infoURL||this.config.infoURL,h=d(l);try{for(h.s();!(u=h.n()).done;){var f=u.value;if(r.push(f),c&&f.name&&"name"===f.name.toLowerCase()&&f.value&&Pt(f.value)&&!f.value.startsWith("<")){var p=(this.infoURL||this.config.infoURL).replace("$$",o.name);r.push({name:"Info",value:'<a target="_blank" href='.concat(p,">").concat(f.value,"</a>")})}}}catch(di){h.e(di)}finally{h.f()}var v="gff"===this.config.format||"gff3"===this.config.format||"gtf"===this.config.format;if(s.exons)for(var g=0;g<s.exons.length;g++){var m=s.exons[g];if(i>=m.start&&i<=m.end){var y=v?m.number:"-"===s.strand?s.exons.length-g:g+1;y&&(r.push("<hr/>"),r.push({name:"Exon Number",value:y}));break}}}}}catch(di){a.e(di)}finally{a.f()}return r}},{key:"menuItemList",value:function(){var e=this,t=this,n=[];if(this.render===mc){n.push("<hr/>");for(var i=function(){var t=a[r];n.push({object:St(za("Color by "+t,t===e.colorBy)),click:function(){e.colorBy=t,e.trackView.repaintViews()}})},r=0,a=["function","class"];r<a.length;r++)i()}return n.push("<hr/>"),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(e){n.push({object:St(za({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[e],e===t.displayMode)),click:function(){t.displayMode=e,t.config.displayMode=e,t.trackView.checkContentHeight(),t.trackView.repaintViews()}})}),n}},{key:"contextMenuItemList",value:function(e){var t=this,n=this.clickedFeatures(e);n.length>1&&n.sort(function(e,t){return e.end-e.start-(t.end-t.start)});var i,r=n[0];return r.end-r.start<=1e6?[{label:"Copy feature sequence",click:(i=b(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.browser.genome.getSequence(r.chr,r.start,r.end);case 2:n=e.sent,"-"===r.strand&&(n=function(e){for(var t="",n=e.length;n-- >0;){var i=e[n];t+=nc.has(i)?nc.get(i):i}return t}(n)),navigator.clipboard.writeText(n);case 4:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},"<hr/>"]:void 0}},{key:"description",value:function(){if(mc===this.render){var e="<html>"+this.name+"<hr/>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>"}return this.name}},{key:"dispose",value:function(){this.trackView=void 0}}]),o}(Ol);function _c(e,t,n){var i,r,a,o,s,l,u,c={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function h(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(fo.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),s={x:r=u=.95*t,y:a=o=.01*n},fo.strokeLine(e,i=u-8,a,r,o,c),fo.fillText(e,h(this.dataRange.max),i+4,a+12,c),l={x:r,y:a=o=.99*n},fo.strokeLine(e,i,a,r,o,c),fo.fillText(e,h(this.dataRange.min),i+4,a-4,c),fo.strokeLine(e,s.x,s.y,l.x,l.y,c))}var wc=function(e){a(l,e);var t,n,i,o=s(l);function l(e,t){return v(this,l),o.call(this,e,t)}return m(l,[{key:"init",value:function(e){r(h(l.prototype),"init",this).call(this,e),this.type="wig",this.height=e.height||50,this.featureType="numeric",this.paintAxis=_c;var t=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===t?new Wu(e,this.browser.genome):"tdf"===t?new Ku(e,this.browser.genome):tc(e,this.browser.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.graphType=e.graphType||"bar",this.normalize=e.normalize,this.scaleFactor=e.scaleFactor}},{key:"postInit",value:(i=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:(t=e.sent)&&this.setTrackProperties(t);case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getFeatures",value:(n=b(regeneratorRuntime.mark(function e(t,n,i,r){var a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:n,end:i,bpPerPixel:r,windowFunction:this.windowFunction});case 2:if(a=e.sent,this.normalize&&this.featureSource.normalizationFactor){o=this.featureSource.normalizationFactor,s=d(a);try{for(s.s();!(l=s.n()).done;)l.value.value*=o}catch(di){s.e(di)}finally{s.f()}}if(this.scaleFactor){u=this.scaleFactor,c=d(a);try{for(c.s();!(h=c.n()).done;)h.value.value*=u}catch(di){c.e(di)}finally{c.f()}}return e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)})),function(e,t,i,r){return n.apply(this,arguments)})},{key:"menuItemList",value:function(){return Va.numericDataMenuItems(this.trackView)}},{key:"getHeader",value:(t=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=5;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent;case 5:return e.abrupt("return",this.header);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n=this,i=e.features,r=e.context,a=e.bpPerPixel,o=e.bpStart,s=e.pixelHeight,l=o+e.pixelWidth*a+1,u=-1,c=-1,h=this.color||"rgb(150,150,150)";"string"==typeof h&&h.startsWith("rgb(")&&(t=na.addAlpha(h,.1));var f=function(e){return(n.dataRange.max-e)/(n.dataRange.max-n.dataRange.min)*s};if(i&&i.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){var p,v=0==this.dataRange.min?s:f(0),g=d(i);try{for(g.s();!(p=g.n()).done;){var m=p.value;if(!(m.end<o)){if(m.start>l)break;var y=Math.floor((m.start-o)/a);if(!isNaN(y)){var b=f(m.value),_=Math.ceil((m.end-o)/a),w=Math.max(1,_-y),k=m.value<0&&this.altColor?this.altColor:h,x="function"==typeof k?k(m.value):k;if("points"===this.graphType)fo.fillCircle(r,y+w/2,b,(this.config.pointSize||3)/2,{fillStyle:x,strokeStyle:x});else{var S=b-v;Math.abs(S)<1&&(S=S<0?-1:1);var C=y+w;(C>u||m.value>=0&&m.value>c||m.value<0&&m.value<1)&&fo.fillRect(r,y,v,w,S,{fillStyle:x}),c=m.value,u=C}}}}}catch(di){g.e(di)}finally{g.f()}if(this.dataRange.min<0){var E=this.dataRange.max/(this.dataRange.max-this.dataRange.min)*e.pixelHeight;fo.strokeLine(r,0,E,e.pixelWidth,E,{strokeStyle:t})}}if(this.config.hasOwnProperty("guideLines")){var R,A=d(this.config.guideLines);try{for(A.s();!(R=A.n()).done;){var T=R.value;if(T.hasOwnProperty("color")&&T.hasOwnProperty("y")&&T.hasOwnProperty("dotted")){var I=f(T.y),D={strokeStyle:T.color,strokeWidth:2};T.dotted?fo.dashedLine(e.context,0,I,e.pixelWidth,I,5,D):fo.strokeLine(e.context,0,I,e.pixelWidth,I,D)}}}catch(di){A.e(di)}finally{A.f()}}}},{key:"popupData",value:function(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0){var n=e.genomicLocation,i=[];t.sort(function(e,t){return Math.abs((e.start+e.end)/2-n)-Math.abs((t.start+t.end)/2-n)});var r=t.length>10?t.slice(0,10):t;r.sort(function(e,t){return e.start-t.start});var a,o=d(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s){i.length>0&&i.push("<hr/>");var l=s.end-s.start==1?Mt(s.start+1):Mt(s.start+1)+"-"+Mt(s.end);i.push({name:"Position:",value:l}),i.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:Mt(s.value)})}}}catch(di){o.e(di)}finally{o.f()}return r.length<t.length&&i.push("<hr/>..."),i}return[]}},{key:"supportsWholeGenome",value:function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()}},{key:"dispose",value:function(){this.trackView=void 0}}]),l}(Ol);function kc(e){this.thresholds=e.thresholds,this.colors=e.colors}function xc(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}kc.prototype.getColor=function(e){var t,n=d(this.thresholds);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e<i)return this.colors[this.thresholds.indexOf(i)]}}catch(di){n.e(di)}finally{n.f()}return this.colors[this.colors.length-1]},xc.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var Sc=function(){function e(t){v(this,e),this.color=t}return m(e,[{key:"getColor",value:function(){return this.color}}]),e}(),Cc=function(e){a(l,e);var t,n,i,o=s(l);function l(e,t){return v(this,l),o.call(this,e,t)}return m(l,[{key:"init",value:function(e){if(r(h(l.prototype),"init",this).call(this,e),this.type=e.type||"seg","maf"===this.type&&(this.type="mut"),this.isLog=e.isLog,this.displayMode=e.displayMode||"EXPANDED",this.height=e.height||300,this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||13,this.sampleHeight=this.squishedRowHeight,e.color?this.color=e.color:(this.posColorScale=e.posColorScale||new xc({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new xc({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),"mut"===this.type&&(this.colorTable=new ko(e.colorTable||Ec))),this.sampleKeys=[],this.sampleNames=new Map,e.samples){var t,n=d(e.samples);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.sampleKeys.push(i),this.sampleNames.set(i,i)}}catch(di){n.e(di)}finally{n.f()}this.explicitSamples=!0}this.featureSource=tc(this.config,this.browser.genome),this.initialSort=e.sort}},{key:"postInit",value:(i=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=5;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent;case 5:this.header&&this.setTrackProperties(this.header);case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"menuItemList",value:function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};t.push("<hr/>"),t.push("DisplayMode:");for(var i="seg"===this.type?["SQUISHED","EXPANDED","FILL"]:["SQUISHED","EXPANDED"],r=function(){var i=o[a],r=za(n[i],i===e.displayMode);t.push({object:St(r),click:function(){e.displayMode=i,e.config.displayMode=i,e.trackView.checkContentHeight(),e.trackView.repaintViews(),e.trackView.moveScroller(e.trackView.sampleNameViewport.trackScrollDelta)}})},a=0,o=i;a<o.length;a++)r();return t}},{key:"hasSamples",value:function(){return!0}},{key:"getSamples",value:function(){var e=this;return{names:this.sampleKeys.map(function(t){return e.sampleNames.get(t)}),height:this.sampleHeight,yOffset:0}}},{key:"getFeatures",value:(n=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:n,end:i});case 2:return r=e.sent,this.initialSort&&(a=this.initialSort,this.sortSamples(a.chr,a.start,a.end,a.direction,r),this.initialSort=void 0),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context,n=e.pixelTop,i=e.pixelWidth,r=e.pixelHeight,a=e.features,o=e.bpPerPixel,s=e.bpStart;if(fo.fillRect(t,0,0,i,r,{fillStyle:"rgb(255, 255, 255)"}),a&&a.length>0){this.checkForLog(a),this.updateSampleKeys(a);var l,u={};switch(this.sampleKeys.forEach(function(e,t){u[e]=t}),this.displayMode){case"FILL":this.sampleHeight=r/this.sampleKeys.length,l=0;break;case"SQUISHED":this.sampleHeight=this.squishedRowHeight,l=0;break;default:this.sampleHeight=this.expandedRowHeight,l=1}var c,h=this.sampleHeight,f=d(a);try{for(f.s();!(c=f.n()).done;){c.value.pixelRect=void 0}}catch(di){f.e(di)}finally{f.f()}var p=n+r,v=s+i*o+1,g=o;this.sampleYStart=void 0;var m,y=d(a);try{for(y.s();!(m=y.n()).done;){var b=m.value;if(!(b.end<s)){if(b.start>v)break;b.row=u[b.sampleKey||b.sample];var _=b.row*h+l;if(void 0===this.sampleYStart&&(this.sampleYStart=_),!(_+h<n||_>p)){var w=Math.max(b.start,s),k=Math.round((w-s)/g),x=Math.min(b.end,v),S=Math.round((x-s)/g),C=void 0,E=void 0,R=Math.max(1,S-k);if(this.color?C="function"==typeof this.color?this.color(b):this.color:this.colorTable&&(C=this.colorTable.getColor(b.value.toLowerCase())),"mut"===this.type)E=h-2*l,R<3&&(R=3,k-=1);else{var A=b.value;this.isLog||(A=Qr(A/2)),C=A<-.1?this.negColorScale.getColor(A):A>.1?this.posColorScale.getColor(A):"white";var T=h;if(h<.25){var I=.1+2*Math.abs(A);T=Math.min(1,I*h)}E=T-2*l}b.pixelRect={x:k,y:_,w:R,h:E},t.fillStyle=C,t.fillRect(k,_,R,E)}}}}catch(di){y.e(di)}finally{y.f()}}}},{key:"checkForLog",value:function(e){if(void 0===this.isLog){this.isLog=!1;var t,n=d(e);try{for(n.s();!(t=n.n()).done;){if(t.value.value<0)return void(this.isLog=!0)}}catch(di){n.e(di)}finally{n.f()}}}},{key:"computePixelHeight",value:function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t}},{key:"sortSamples",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r,a){var o,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,e.t0){e.next=5;break}return e.next=4,this.featureSource.getFeatures({chr:t,start:n,end:i});case 4:a=e.sent;case 5:if(a){e.next=7;break}return e.abrupt("return");case 7:this.updateSampleKeys(a),o={},s="ASC"===r?1:-1,"mut"===this.type?function(){var e,t=d(a);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!(r.end<n)){if(r.start>i)break;var u=r.sampleKey||r.sample;(!o.hasOwnProperty(u)||r.value.localeCompare(o[u])>0)&&(o[u]=r.value)}}}catch(di){t.e(di)}finally{t.f()}l.sampleKeys.sort(function(e,t){return s*(o[e]||"").localeCompare(o[t]||"")})}():function(){var e,t=i-n+1,r=d(a);try{for(r.s();!(e=r.n()).done;){var u=e.value;if(!(u.end<n)){if(u.start>i)break;var c=Math.max(n,u.start),h=Math.min(i,u.end),f=u.sampleKey||u.sample;o[f]=(o[f]||0)+(h-c)/t*u.value}}}catch(di){r.e(di)}finally{r.f()}l.sampleKeys.sort(function(e,t){var n=o[e],i=o[t];return n||(n=s*Number.MAX_VALUE),i||(i=s*Number.MAX_VALUE),n===i?0:n>i?s:-1*s})}(),this.trackView.repaintViews();case 10:case"end":return e.stop()}},e,this)})),function(e,n,i,r,a){return t.apply(this,arguments)})},{key:"clickedFeatures",value:function(e,t){var n=r(h(l.prototype),"clickedFeatures",this).call(this,e,t),i=e.y;return n.filter(function(e){var t=e.pixelRect;return t&&i>=t.y&&i<=t.y+t.h})}},{key:"popupData",value:function(e,t){var n,i=[],r=d(this.clickedFeatures(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;i.length>0&&(i.push("<hr/>"),i.push("<hr/>"));var o=a._f||a,s="function"==typeof o.popupData?o.popupData():this.extractPopupData(o);Array.prototype.push.apply(i,s)}}catch(di){r.e(di)}finally{r.f()}return i}},{key:"contextMenuItemList",value:function(e){var t=this,n=e.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",r=e.viewport.referenceFrame.toBP(2.5);return[{label:"seg"===this.type?"Sort by value":"Sort by type",click:function(a){var o={direction:i,chr:e.viewport.referenceFrame.chr,start:n-r,end:n+r};(function(n){var i=e.viewport.getCachedFeatures();t.sortSamples(n.chr,n.start,n.end,n.direction,i)})(o),t.config.sort=o}}]}},{key:"supportsWholeGenome",value:function(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}},{key:"updateSampleKeys",value:function(e){if(!this.explicitSamples){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.sampleKey||i.sample;this.sampleNames.has(r)||(this.sampleNames.set(r,i.sample),this.sampleKeys.push(r))}}catch(di){n.e(di)}finally{n.f()}}}}]),l}(Ol),Ec={indel:"rgb(0,200,0)","targeted region":"rgb(236,155,43)",truncating:"rgb(\t150,0,0)","non-coding transcript":"rgb(0,0,150)",synonymous:"rgb(109,165,95)",silent:"rgb(109,135,80)",missense_mutation:"rgb(72,130,187)",missense:"rgb(72,130,187)","splice site":"rgb(143,83,155)",splice_region:"rgb(143,83,155)",nonsense:"rgb(216, 57,81)",nonsense_mutation:"rgb(216, 57,81)",frame_shift_del:"rgb(226,135,65)",frame_shift_ins:"rgb(226,135,65)",in_frame_del:"rgb(247,235,94)",in_frame_ins:"rgb(247,235,94)","*other*":"rgb(159,91,50)"},Rc=function(e){a(l,e);var t,n,o=s(l);function l(e,t){return v(this,l),o.call(this,e,t)}return m(l,[{key:"init",value:function(e){if(!e.tracks)throw Error("Error: no tracks defined for merged track"+e);r(h(l.prototype),"init",this).call(this,e)}},{key:"height",get:function(){return this._height},set:function(e){if(this._height=e,this.tracks){var t,n=d(this.tracks);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.height=e,i.config.height=e}}catch(di){n.e(di)}finally{n.f()}}}},{key:"postInit",value:(n=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.tracks=[],t=[],n=d(this.config.tracks),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}return(r=i.value).isMergedTrack=!0,e.next=10,this.browser.createTrack(r);case 10:(a=e.sent)?(a.autoscale=!1,this.tracks.push(a)):console.warn("Could not create track "+r),"function"==typeof a.postInit&&t.push(a.postInit());case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:return e.abrupt("return",(this.height=this.config.height||100,Promise.all(t)));case 23:case"end":return e.stop()}},e,this,[[3,16,19,22]])})),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.tracks.map(function(e){return e.getFeatures(t,n,i,r)}),e.abrupt("return",Promise.all(a));case 2:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n,i,r,a,o,s;for(i=e.features,o=0,s=-Number.MAX_VALUE,i.forEach(function(e,t){e.forEach(function(e){void 0===e.value||Number.isNaN(e.value)||(o=Math.min(o,e.value),s=Math.max(s,e.value))})}),a={min:o,max:s},t=0,n=this.tracks.length;t<n;t++)(r=Object.assign({},e)).features=i[t],this.tracks[t].dataRange=a,this.tracks[t].draw(r)}},{key:"paintAxis",value:function(e,t,n){var i,r,a;for(i=0,r=this.tracks.length;i<r;i++)if("function"==typeof(a=this.tracks[i]).paintAxis){a.paintAxis(e,t,n);break}}},{key:"popupData",value:function(e,t){var n=t||e.viewport.getCachedFeatures();if(n&&n.length===this.tracks.length){for(var r=[],a=0;a<this.tracks.length;a++){a>0&&r.push("<hr/>"),r.push("<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >".concat(this.tracks[a].name,"</div>"));var o=this.tracks[a].popupData(e,n[a]);r.push.apply(r,i(o))}return r}}},{key:"supportsWholeGenome",value:function(){return this.tracks.every(function(e){return e.supportsWholeGenome()})}}]),l}(Ol),Ac=function(){function e(t){v(this,e),this.paired=!0,this.firstAlignment=t,this.chr=t.chr,this.readName=t.readName,t.start<t.mate.position?(this.start=t.start,this.scStart=t.scStart,this.connectingStart=t.start+t.lengthOnRef,this.connectingEnd=t.mate.position):(this.start=t.mate.position,this.scStart=this.start,this.connectingStart=t.mate.position,this.connectingEnd=t.start),this.end=Math.max(t.mate.position,t.start+t.lengthOnRef),this.lengthOnRef=this.end-this.start;var n=Math.max(this.end,t.scStart+t.scLengthOnRef);this.scLengthOnRef=n-this.scStart}return m(e,[{key:"setSecondAlignment",value:function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart}},{key:"containsLocation",value:function(e,t){var n=t?this.scStart:this.start;return e>=n&&e<=n+(t?this.scLengthOnRef:this.lengthOnRef)}},{key:"alignmentContaining",value:function(e,t){return this.firstAlignment.containsLocation(e,t)?this.firstAlignment:this.secondAlignment&&this.secondAlignment.containsLocation(e,t)?this.secondAlignment:void 0}},{key:"popupData",value:function(e){var t=this.firstAlignment.popupData(e);return this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t}},{key:"isPaired",value:function(){return!0}},{key:"firstOfPairStrand",value:function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand}}]),e}(),Tc=Pt,Ic=function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)},Dc=function(){function e(){v(this,e),this.alignments=[],this.score=void 0}return m(e,[{key:"findAlignment",value:function(e){for(var t,n=function(e,t){return t>=e.start&&t<e.start+e.lengthOnRef},i=0;i<this.alignments.length;i++){var r=this.alignments[i];if(e>=r.start&&e<r.start+r.lengthOnRef){r.paired?r.firstAlignment&&n(r.firstAlignment,e)?t=r.firstAlignment:r.secondAlignment&&n(r.secondAlignment,e)&&(t=r.secondAlignment):t=r;break}}return t}},{key:"updateScore",value:function(e,t){this.score=this.calculateScore(e,t)}},{key:"calculateScore",value:function(e,t){var n=e.position,i=e.option,r=e.direction,a=e.tag;i||(i="BASE");var o,s=this.findAlignment(n);if(void 0===s)return Number.MAX_VALUE*(r?1:-1);switch(i){case"NUCLEOTIDE":case"BASE":return function(e,t,n){var i,r=Math.floor(n)-t.start;if(r<t.sequence.length&&(i=t.sequence.charAt(r)),!i)return 0;var a=e.readBaseAt(n),o=e.readBaseQualityAt(n),s=t.coverageMap,l=Math.floor(n-s.bpStart),u=s.coverage[l],c=0;if(e.insertions){var h,f=d(e.insertions);try{for(f.s();!(h=f.n()).done;){h.value.start===n&&(c=-u.ins)}}catch(di){f.e(di)}finally{f.f()}}if(a)i=i.toUpperCase(),"N"===a&&0===c?c=2:i!==a&&"="!==a||0!==c?"X"!==a&&i===a||(c-=u["pos"+a]+u["neg"+a]+o/1e3):c=4-o/1e3;else{var p=u.del;p>0?c-=p:0===c&&(c=1)}return c}(s,t,n);case"STRAND":return s.strand?1:-1;case"START":return s.start;case"TAG":var l=s.tags()[a];return void 0!==l?Tc(l)?Ic(l):l:Number.MAX_VALUE;case"READ_NAME":return Ic(s.readName);case"INSERT_SIZE":return-Math.abs(s.fragmentLength);case"GAP_SIZE":return-s.gapSizeAt(n);case"MATE_CHR":return(o=s.mate)?o.chr===s.chr?Number.MAX_VALUE-1:Ic(o.chr):Number.MAX_VALUE;case"MQ":return void 0===s.mq?Number.MAX_VALUE:-s.mq;default:return Number.MAX_VALUE}}}]),e}();function Oc(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function Pc(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r,a=d(t.value.alignments);try{for(a.s();!(r=a.n()).done;){var o=r.value;o instanceof Ac?(o.firstAlignment&&n.push(o.firstAlignment),o.secondAlignment&&n.push(o.secondAlignment)):n.push(o)}}catch(di){a.e(di)}finally{a.f()}}}catch(di){i.e(di)}finally{i.f()}return n}function Mc(e,t,n,i){if(e){if(0===e.length)return[];e.sort(function(e,t){return i?e.scStart-t.scStart:e.start-t.start});var r,a=e[0],o=Math.max(t,i?a.scStart:a.start),s=o,l=[],u=d(e);try{for(u.s();!(r=u.n()).done;){var c=r.value,h=Math.max(0,(i?c.scStart:c.start)-o);void 0===l[h]&&(l[h]=[]),l[h].push(c)}}catch(di){u.e(di)}finally{u.f()}var f=0,p=0,v=[];try{for(;f<e.length;){for(var g=new Dc;s<=n;){for(var m=void 0,y=void 0;!m&&s<=n;)void 0===l[y=s-o]?++s:m=l[y];if(!m)break;var b=m.pop();0===m.length&&(l[y]=void 0),g.alignments.push(b),s=i?b.scStart+b.scLengthOnRef+2:b.start+b.lengthOnRef+2,++f}if(g.alignments.length>0&&v.push(g),s=o,f===p)break;p=f}}catch(_){throw console.error(_),_}return v}}var Lc=function(){function e(t,n,i,r,a,o,s){v(this,e),this.chr=t,this.start=Math.floor(n),this.end=Math.ceil(i),this.length=i-n,this.alleleFreqThreshold=void 0===s?.2:s,this.coverageMap=new Nc(t,n,i,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===r?100:r,this.samplingDepth=void 0===a?1e3:a,this.pairsSupported=void 0===o||o,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new Fc(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new jc}return m(e,[{key:"push",value:function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(this.finishBucket(),this.currentBucket=new Fc(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))}},{key:"forEach",value:function(e){this.alignments.forEach(e)}},{key:"finish",value:function(){void 0!==this.currentBucket&&this.finishBucket(),this.alignments.sort(function(e,t){return e.start-t.start}),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()}},{key:"contains",value:function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n}},{key:"hasDownsampledIntervals",value:function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0}},{key:"finishBucket",value:function(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new Vc(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}},{key:"setViewAsPairs",value:function(e){var t;t=e?function(e){var t,n={},i=[],r=d(e);try{for(r.s();!(t=r.n()).done;){var a,o=d(t.value.alignments);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Oc(s)){var l=n[s.readName];l?(l.setSecondAlignment(s),n[s.readName]=void 0):(l=new Ac(s),n[s.readName]=l,i.push(l))}else i.push(s)}}catch(di){o.e(di)}finally{o.f()}}}catch(di){r.e(di)}finally{r.f()}return i}(this.packedAlignmentRows):Pc(this.packedAlignmentRows),this.packedAlignmentRows=Mc(t,this.start,this.end)}},{key:"setShowSoftClips",value:function(e){var t=this.allAlignments();this.packedAlignmentRows=Mc(t,this.start,this.end,e)}},{key:"allAlignments",value:function(){var e,t=[],n=d(this.packedAlignmentRows);try{for(n.s();!(e=n.n()).done;){var i,r=d(e.value.alignments);try{for(r.s();!(i=r.n()).done;){var a=i.value;t.push(a)}}catch(di){r.e(di)}finally{r.f()}}}catch(di){n.e(di)}finally{n.f()}return t}},{key:"getMax",value:function(e,t){return this.coverageMap.getMax(e,t)}}]),e}(),Fc=function(){function e(t,n,i){v(this,e),this.start=t,this.end=n,this.alignments=[],this.downsampledCount=0,this.samplingDepth=i.samplingDepth,this.pairsSupported=i.pairsSupported,this.downsampledReads=i.downsampledReads,this.pairsCache=i.pairsCache}return m(e,[{key:"addAlignment",value:function(e){var t,n,i;if(this.pairsSupported&&Oc(e)&&(i=this.pairsCache[e.readName]))return i.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&Oc(e)?(i=new Ac(e),this.paired=!0,this.pairsCache[e.readName]=i,this.alignments.push(i)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&Oc(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),i=new Ac(e),this.paired=!0,this.pairsCache[e.readName]=i,this.alignments[t]=i):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)}}]),e}(),Nc=function(){function e(t,n,i,r){v(this,e),this.chr=t,this.bpStart=n,this.length=i-n,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}return m(e,[{key:"getMax",value:function(e,t){for(var n=0,i=this.coverage.length,r=0;r<i;r++){var a=this.bpStart+r;if(a>t)break;var o=this.coverage[r];a>=e&&o&&(n=Math.max(n,o.total))}return n}},{key:"incCounts",value:function(e){var t=this;if(void 0===e.blocks?c(e):e.blocks.forEach(function(e){c(e)}),e.gaps){var n,i=d(e.gaps);try{for(i.s();!(n=i.n()).done;){var r=n.value;if("D"===r.type)for(var a=r.start-t.bpStart,o=a;o<a+r.len;o++)o<0||(this.coverage[o]||(this.coverage[o]=new zc(t.threshold)),this.coverage[o].del++)}}catch(di){i.e(di)}finally{i.f()}}if(e.insertions){var s,l=d(e.insertions);try{for(l.s();!(s=l.n()).done;){var u=s.value.start-this.bpStart;u<0||(this.coverage[u]||(this.coverage[u]=new zc(t.threshold)),this.coverage[u].ins++)}}catch(di){l.e(di)}finally{l.f()}}function c(n){if("S"!==n.type)for(var i=e.seq,r=e.qual,a=n.seqOffset,o=n.start-t.bpStart,s=0;s<n.len;o++,s++){t.coverage[o]||(t.coverage[o]=new zc(t.threshold));var l=null==i?"N":i.charAt(a+s),u=r&&a+s<r.length?r[a+s]:30;t.coverage[o][e.strand?"pos"+l:"neg"+l]+=1,t.coverage[o]["qual"+l]+=u,t.coverage[o].total+=1,t.coverage[o].qual+=u,t.maximum=Math.max(t.coverage[o].total,t.maximum)}}}}]),e}(),zc=function(){function e(t){v(this,e),this.qualityWeight=!0,this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=t}return m(e,[{key:"isMismatch",value:function(e){for(var t=this.threshold*(this.qualityWeight&&this.qual?this.qual:this.total),n=0,i=0,r=["A","T","C","G"];i<r.length;i++){var a=r[i];a!==e&&(n+=this.qualityWeight&&this.qual?this["qual"+a]:this["pos"+a]+this["neg"+a])}return n>=t}}]),e}(),Vc=function(){function e(t,n,i){v(this,e),this.start=t,this.end=n,this.counts=i}return m(e,[{key:"popupData",value:function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]}}]),e}(),jc=function(){function e(t,n){v(this,e),this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}return m(e,[{key:"push",value:function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}}},{key:"compute",value:function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}}}]),e}(),Bc={c:1,C:1,s:2,S:2,i:4,I:4,f:4},Hc=function(){function e(){v(this,e),this.hidden=!1}return m(e,[{key:"isMapped",value:function(){return 0==(4&this.flags)}},{key:"isPaired",value:function(){return 0!=(1&this.flags)}},{key:"isProperPair",value:function(){return 0!=(2&this.flags)}},{key:"isFirstOfPair",value:function(){return 0!=(64&this.flags)}},{key:"isSecondOfPair",value:function(){return 0!=(128&this.flags)}},{key:"isSecondary",value:function(){return 0!=(256&this.flags)}},{key:"isSupplementary",value:function(){return 0!=(2048&this.flags)}},{key:"isFailsVendorQualityCheck",value:function(){return 0!=(512&this.flags)}},{key:"isDuplicate",value:function(){return 0!=(1024&this.flags)}},{key:"isMateMapped",value:function(){return 0==(8&this.flags)}},{key:"isNegativeStrand",value:function(){return 0!=(16&this.flags)}},{key:"isMateNegativeStrand",value:function(){return 0!=(32&this.flags)}},{key:"tags",value:function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){for(var t=0,n=e.length,i={};t<n;){var r=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);t+=2;var a=String.fromCharCode(e[t++]),o=void 0;if("A"===a)o=String.fromCharCode(e[t]),t++;else if("i"===a||"I"===a)o=Uc(e,t),t+=4;else if("c"===a)o=$c(e,t),t++;else if("C"===a)o=Yc(e,t),t++;else if("s"===a||"S"===a)o=Wc(e,t),t+=2;else if("f"===a)o=Gc(e,t),t+=4;else if("Z"===a)for(o="";;){var s=e[t++];if(0===s)break;o+=String.fromCharCode(s)}else{if("B"!==a){o="Error unknown type: "+a,i[r]=o;break}var l=String.fromCharCode(e[t++]),u=Bc[l];if(void 0===u){i[r]="Error: unknown element type '".concat(l,"'");break}t+=4+Uc(e,t)*u,o="[not shown]"}i[r]=o}return i}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict}},{key:"containsLocation",value:function(e,t){var n=t?this.scStart:this.start;return e>=n&&e<=n+(t?this.scLengthOnRef:this.lengthOnRef)}},{key:"popupData",value:function(e){var t=[];if(e=Math.floor(e),this.insertions){var n,i=this.seq,r=d(this.insertions);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.start;if(e===o||e===o-1)return t.push({name:"Insertion",value:i.substr(a.seqOffset,a.len)}),t.push({name:"Location",value:o}),t}}catch(di){r.e(di)}finally{r.f()}}t.push({name:"Read Name",value:this.readName}),t.push("<hr/>"),t.push({name:"Alignment Start",value:Mt(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:c(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:c(this.isSecondary())}),t.push({name:"Supplementary",value:c(this.isSupplementary())}),t.push({name:"Duplicate",value:c(this.isDuplicate())}),t.push({name:"Failed QC",value:c(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr/>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:c(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr/>");var s=this.tags(),l=!0;for(var u in s)s.hasOwnProperty(u)&&(l?(t.push({name:u,value:s[u],borderTop:!0}),l=!1):t.push({name:u,value:s[u]}));return t.push("<hr/>"),t.push({name:"Genomic Location: ",value:Mt(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function c(e){return e?"Yes":"No"}}},{key:"readBaseAt",value:function(e){var t=qc(this.blocks,e);if(t){if("*"===this.seq)return"*";var n=t.seqIndexAt(e);return this.seq[n]}}},{key:"readBaseQualityAt",value:function(e){var t=qc(this.blocks,e);if(t){if("*"===this.qual)return 30;var n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}}},{key:"gapSizeAt",value:function(e){if(this.gaps){var t,n=d(this.gaps);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e>=i.start&&e<i.start+i.len)return i.len}}catch(di){n.e(di)}finally{n.f()}}return 0}}]),e}();function qc(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t>=i.start&&t<i.start+i.len)return i}}function Uc(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Wc(e,t){return e[t+1]<<8|e[t]}function Gc(e,t){return new DataView(e.buffer).getFloat32(t)}function $c(e,t){return new DataView(e.buffer).getInt8(t)}function Yc(e,t){return new DataView(e.buffer).getUint8(t)}var Zc=function(){function e(t){v(this,e),t&&Object.assign(this,t)}return m(e,[{key:"seqIndexAt",value:function(e){return Math.floor(e)-this.start+this.seqOffset}}]),e}(),Kc=function(){function e(t){v(this,e),t||(t={}),this.vendorFailed=void 0===t.vendorFailed||t.vendorFailed,this.duplicates=void 0===t.duplicates||t.duplicates,this.secondary=t.secondary||!1,this.supplementary=t.supplementary||!1,this.mqThreshold=void 0===t.mqThreshold?0:t.mqThreshold,t.readgroups&&(this.readgroups=new Set(t.readgroups))}return m(e,[{key:"pass",value:function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0}}]),e}(),Xc=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],Qc=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],Jc=nh(new Uint8Array([66,65,77,1]),0),eh={readHeader:function(e,t,n){return va.loadArrayBuffer(e,t).then(function(e){var t;return t=Wr(e),eh.decodeBamHeader(t,n)})},decodeBamHeader:function(e,t){var n,i,r,a,o;if((n=nh(e,0))!==Jc)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");i=nh(e,4);for(var s=0;s<i;++s)String.fromCharCode(e[s+8]);var l=nh(e,i+8),u=i+12;for(r={},a=[],o={},s=0;s<l;++s){for(var c=nh(e,u),h="",d=0;d<c-1;++d)h+=String.fromCharCode(e[u+4+d]);nh(e,u+c+4),r[h]=s,a[s]=h,t&&(o[t.getChromosomeName(h)]=h),u=u+8+c}return{magicNumber:n,size:u,chrNames:a,chrToIndex:r,chrAliasTable:o}},bam_tag2cigar:function(e,t,n,i,r,a){function o(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==a.length||r.start<0)return!1;for(var s=n+(i+1>>1)+i;s+4<t&&"CG"!==String.fromCharCode(e[s])+String.fromCharCode(e[s+1]);){var l=String.fromCharCode(e[s+2]);if("B"===l)s+=8+o(l=String.fromCharCode(e[s+3]))*nh(e,s+4);else if("Z"===l||"H"===l)for(s+=3;0!==e[s++];);else s+=3+o(l)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var u=nh(e,s+4),c=s+8;if(c+4*u>t)return!1;var h="",d=0;a.length=0,s=c;for(var f=0;f<u;++f,s+=4){var p=nh(e,s),v=p>>4,g=Qc[15&p];"M"!==g&&"EQ"!==g&&"X"!==g&&"D"!==g&&"N"!==g&&"="!==g||(d+=v),h=h+v+g,a.push({len:v,ltr:g})}return r.cigar=h,r.lengthOnRef=d,!0},decodeBamRecords:function(e,t,n,i,r,a,o,s){for(;t<e.length;){var l=t+nh(e,t)+4,u=new Hc,c=nh(e,t+4),h=nh(e,t+8);if(l>e.length)return void console.log("finished block (no return value");if(c<0)t=l;else{if(void 0!==r&&(c>r||h>o))return console.log("decodeBamRecords: got to end"),!0;if(void 0!==r&&c<r)t=l;else{for(var d=nh(e,t+12),f=(65280&d)>>8,p=255&d,v=nh(e,t+16),g=(4294901760&v)>>16,m=65535&v,y=nh(e,t+20),b=nh(e,t+24),_=nh(e,t+28),w=nh(e,t+32),k=[],x=0;x<p-1;++x)k.push(String.fromCharCode(e[t+36+x]));k=k.join(""),console.log("readName: "+k);for(var S=0,C="",E=t+36+p,R=[],A=void 0,T=0;T<m;++T){var I=nh(e,E),D=I>>4,O=Qc[15&I];"M"!==O&&"EQ"!==O&&"X"!==O&&"D"!==O&&"N"!==O&&"="!==O||(S+=D),C=C+D+O,E+=4,A={len:D,ltr:O},R.push(A)}if(u.chr=i[c],u.start=h,u.flags=g,u.strand=!(16&g),u.readName=k,u.cigar=C,u.lengthOnRef=S,u.fragmentLength=w,u.mq=f,eh.bam_tag2cigar(e,l,E,y,u,R),u.end=u.start+u.lengthOnRef,u.end<a)t=l;else{for(var P=[],M=y+1>>1,L=0;L<M;++L){var F=e[E+L];P.push(Xc[(240&F)>>4]),P.push(Xc[15&F])}P=P.slice(0,y).join(""),E+=M;for(var N=[],z=0;z<y;++z)N.push(e[E+z]);E+=y,b>=0&&(u.mate={chr:i[b],position:_,strand:!(32&g)}),u.seq=P,u.qual=N,u.tagBA=new Uint8Array(e.buffer.slice(E,l)),this.setPairOrientation(u),(void 0===s||s.pass(u))&&(th(u,R),n.push(u)),t=l}}}}},decodeSamRecords:function(e,t,n,i,r,a){var o,s,l,u,c,h,d,f,p,v;for(u=(o=Lt(e)).length,s=0;s<u;s++)if(c=o[s].split("\t"),(p=new Hc).chr=c[2],p.start=Number.parseInt(c[3])-1,p.flags=Number.parseInt(c[1]),p.readName=c[0],p.strand=!(16&p.flags),p.mq=Number.parseInt(c[4]),p.cigar=c[5],p.fragmentLength=Number.parseInt(c[8]),p.seq=c[9],"*"!==p.chr&&p.isMapped()&&p.chr===n){if(p.start>r)break;if(f=0,(v=ih(p.cigar)).forEach(function(e){var t=e.ltr;"M"!==t&&"EQ"!==t&&"X"!==t&&"D"!==t&&"N"!==t&&"="!==t||(f+=e.len)}),p.lengthOnRef=f,!(p.start+f<i)){for(h=c[10],p.qual=[],l=0;l<h.length;l++)p.qual[l]=h.charCodeAt(l)-33;p.tagDict=c.length<11?{}:rh(c.slice(11)),p.isMateMapped()&&(p.mate={chr:"="===(d=c[6])?p.chr:d,position:Number.parseInt(c[7]),strand:!(32&p.flags)}),this.setPairOrientation(p),(void 0===a||a.pass(p))&&(th(p,v),t.push(p))}}},setReaderDefaults:function(e,t){e.filter=new Kc(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>1e4&&(console.log("Warning: attempt to set sampling depth > maximum value of 10000"),e.samplingDepth=1e4),e.pairsSupported=!!t.viewAsPairs||void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,i=n.strand?"F":"R",r=" ",a=" ";e.isFirstOfPair()?(r="1",a="2"):e.isSecondOfPair()&&(r="2",a="1");var o=[],s=e.fragmentLength,l=e.end-e.start;0===s&&(s=(e.start<n.position?n.position+l:n.position-l)-e.start),s>0?(o[0]=t,o[1]=r,o[2]=i,o[3]=a):(o[2]=t,o[3]=r,o[0]=i,o[1]=a),e.pairOrientation=o.join("")}}};function th(e,t){var n,i,r=[],a=0,o=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;var s,l=d(t);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=void 0;switch(u.ltr){case"H":case"P":break;case"S":c=o,e.scLengthOnRef+=u.len,0===r.length&&(e.scStart-=u.len,c-=u.len),r.push(new Zc({start:c,seqOffset:a,len:u.len,type:"S"})),a+=u.len;break;case"N":case"D":void 0===i&&(i=[]),i.push({start:o,len:u.len,type:u.ltr}),o+=u.len;break;case"I":void 0===n&&(n=[]),n.push(new Zc({start:o,len:u.len,seqOffset:a,type:"I"})),a+=u.len;break;case"M":case"EQ":case"=":case"X":r.push(new Zc({start:o,seqOffset:a,len:u.len,type:"M"})),a+=u.len,o+=u.len;break;default:console.log("Error processing cigar element: "+u.len+u.ltr)}}}catch(di){l.e(di)}finally{l.f()}e.blocks=r,e.insertions=n,e.gaps=i}function nh(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function ih(e){var t,n,i,r,a,o,s,l,u;for(t=[],n=[],a=null,r=e.length,i=0;i<r;i++)(u=(o=e.charAt(i)).charCodeAt(0))>=48&&u<=57?n.push(o):(s=o,l=Number.parseInt(n.join("")),n=[],null!==a&&a.ltr===s?a.len+=l:t.push(a={len:l,ltr:s}));return t}function rh(e){var t={};return e.forEach(function(e){var n=e.split(":");t[n[0]]=n[2]}),t}var ah=function(){function e(t,n){v(this,e),this.config=t,this.genome=n,this.bamPath=t.url,this.isDataUri=ws(t.url),eh.setReaderDefaults(this,t)}var t;return m(e,[{key:"readAlignments",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alignmentCache){e.next=5;break}r=this.header,a=r.chrAliasTable.hasOwnProperty(t)?r.chrAliasTable[t]:t,o=this.alignmentCache.queryFeatures(a,n,i),s=new Lc(t,n,i,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),l=d(o);try{for(l.s();!(u=l.n()).done;)c=u.value,s.push(c)}catch(di){l.e(di)}finally{l.f()}return e.abrupt("return",(s.finish(),s));case 5:if(!this.isDataUri){e.next=8;break}return h=Wr(function(e){var t=e.split(","),n=t[0].split(":")[1],i=t[1];i=n.indexOf("base64")>=0?atob(i):decodeURI(i);for(var r=new Uint8Array(i.length),a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return r}(this.bamPath).buffer),e.abrupt("return",(this.parseAlignments(h),this.fetchAlignments(t,n,i)));case 8:return e.t0=Wr,e.next=11,va.loadArrayBuffer(this.bamPath,vs(this.config));case 11:return e.t1=e.sent,f=(0,e.t0)(e.t1),e.abrupt("return",(this.parseAlignments(f),this.fetchAlignments(t,n,i)));case 14:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"parseAlignments",value:function(e){var t=[];this.header=eh.decodeBamHeader(e),eh.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new Ma(t,this.genome)}},{key:"fetchAlignments",value:function(e,t,n){var i,r=this.header.chrAliasTable.hasOwnProperty(e)?this.header.chrAliasTable[e]:e,a=this.alignmentCache.queryFeatures(r,t,n),o=new Lc(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),s=d(a);try{for(s.s();!(i=s.n()).done;){var l=i.value;o.push(l)}}catch(di){s.e(di)}finally{s.f()}return o.finish(),o}}]),e}(),oh=function(){function e(t,n){v(this,e),this.config=t,this.genome=n,this.bamPath=t.url,this.baiPath=t.indexURL,eh.setReaderDefaults(this,t)}var t,n,i,r;return m(e,[{key:"readAlignments",value:(r=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,f,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in bamreader.readalignments"),e.next=3,this.getChrIndex();case 3:if(e.t0=this.chrAliasTable.hasOwnProperty(t)?this.chrAliasTable[t]:t,r=e.sent[e.t0],a=new Lc(t,n,i,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==r){e.next=8;break}return e.abrupt("return",a);case 8:return e.next=10,this.getIndex();case 10:if((o=e.sent.blocksForRange(r,n,i))&&0!==o.length){e.next=13;break}return e.abrupt("return",a);case 13:s=d(o),e.prev=14,s.s();case 16:if((l=s.n()).done){e.next=40;break}if(u=l.value,c=void 0,0!==u.maxv.offset){e.next=23;break}c=0,e.next=29;break;case 23:return h=vs(this.config,{range:{start:u.maxv.block,size:26}}),e.t1=Gr,e.next=27,va.loadArrayBuffer(this.bamPath,h);case 27:e.t2=e.sent,c=(0,e.t1)(e.t2);case 29:return f=u.minv.block,p={start:f,size:u.maxv.block+c-f+1},e.t3=Wr,e.next=33,va.loadArrayBuffer(this.bamPath,vs(this.config,{range:p}));case 33:if(e.t4=e.sent,v=(0,e.t3)(e.t4),console.log("loaded chunk"),!eh.decodeBamRecords(v,u.minv.offset,a,this.indexToChr,r,n,i,this.filter)){e.next=38;break}return console.log("done loading chunks"),e.abrupt("break",40);case 38:e.next=16;break;case 40:e.next=45;break;case 42:e.prev=42,e.t5=e.catch(14),s.e(e.t5);case 45:return e.prev=45,s.f(),e.finish(45);case 48:return e.abrupt("return",(a.finish(),a));case 49:case"end":return e.stop()}},e,this,[[14,42,45,48]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"getHeader",value:(i=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=20;break}return t=this.genome,e.next=4,this.getIndex();case 4:if(!(n=e.sent).firstAlignmentBlock){e.next=15;break}return r=vs(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),e.t0=Gr,e.next=10,va.loadArrayBuffer(this.bamPath,r);case 10:e.t1=e.sent,a=(0,e.t0)(e.t1),i=n.firstAlignmentBlock+a,e.next=16;break;case 15:i=64e3;case 16:return o=vs(this.config,{range:{start:0,size:i}}),e.next=19,eh.readHeader(this.bamPath,o,t);case 19:this.header=e.sent;case 20:return e.abrupt("return",this.header);case 21:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getIndex",value:(n=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,e.t0=this.index,e.t0){e.next=6;break}return e.next=5,lu(this.baiPath,this.config,t);case 5:this.index=e.sent;case 6:return e.abrupt("return",this.index);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getChrIndex",value:(t=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=2;break}return e.abrupt("return",this.chrToIndex);case 2:return e.next=4,this.getHeader();case 4:return t=e.sent,e.abrupt("return",(this.chrToIndex=t.chrToIndex,this.indexToChr=t.chrNames,this.chrAliasTable=t.chrAliasTable,this.chrToIndex));case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),sh=function(){function e(t,n){v(this,e),this.config=t,this.genome=n;var i={};t.sources.sequences.forEach(function(e){var r=n?n.getChromosomeName(e):e;i[r]=function(e,t,n){var i={url:e.sources.url.replace("$CHR",n)};e.sources.indexURL&&(i.indexURL=e.sources.indexURL.replace("$CHR",n));var r=Object.assign(e,i);return new oh(r,t)}(t,n,e)}),this.bamReaders=i,eh.setReaderDefaults(this,t)}var t;return m(e,[{key:"readAlignments",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.bamReaders.hasOwnProperty(t)){e.next=5;break}return r=this.bamReaders[t],e.next=4,r.readAlignments(t,n,i);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",new Lc(t,n,i));case 6:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),lh=function(e,t){this.config=e,this.genome=t,eh.setReaderDefaults(this,e)};function uh(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",i=vs(this.config);return eh.readHeader(n,i,t).then(function(t){return e.header=t,t})}lh.prototype.readAlignments=function(e,t,n){var i=this;return uh.call(i).then(function(r){var a;return a=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,va.loadString(i.config.url+"?reference="+i.config.referenceFile+"&file="+i.config.alignmentFile+"&region="+a+":"+t+"-"+n,vs(i.config)).then(function(r){var o;return o=new Lc(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold),eh.decodeSamRecords(r,o,a,t,n,i.filter),o})})};var ch=function(e){a(i,e);var t,n=s(i);function i(e,t){var r;return v(this,i),r=n.call(this,e,t),eh.setReaderDefaults(u(r),e),r}return m(i,[{key:"readAlignments",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=8;break}return e.t0=Wr,e.next=4,this.readHeaderData();case 4:for(e.t1=e.sent.buffer,r=(0,e.t0)(e.t1),this.header=eh.decodeBamHeader(r,this.genome),this.chrAliasTable=new Map,a=0,o=Object.keys(this.header.chrAliasTable);a<o.length;a++)s=o[a],this.chrAliasTable.set(s,this.header.chrAliasTable[s]);case 8:return l=this.chrAliasTable.has(t)?this.chrAliasTable.get(t):t,e.t2=Wr,e.next=12,this.readData(l,n,i);case 12:return e.t3=e.sent.buffer,u=(0,e.t2)(e.t3),c=this.header.chrToIndex[t],h=new Lc(t,n,i,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),e.abrupt("return",(eh.decodeBamRecords(u,this.header.size,h,this.header.chrNames,c,n,i),h.finish(),h));case 17:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),i}(Eu),hh=eval,dh=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t,n){var i=n(13),r=n(81).f,a=n(107),o=n(3),s=n(15),l=n(20),u=n(24),c=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,h,d,f,p,v,g,m,y=e.target,b=e.global,_=e.stat,w=e.proto,k=b?i:_?i[y]:(i[y]||{}).prototype,x=b?o:o[y]||(o[y]={}),S=x.prototype;for(d in t)n=!a(b?d:y+(_?".":"#")+d,e.forced)&&k&&u(k,d),p=x[d],n&&(v=e.noTargetGet?(m=r(k,d))&&m.value:k[d]),f=n&&v?v:t[d],n&&typeof p==typeof f||(g=e.bind&&n?s(f,i):e.wrap&&n?c(f):w&&"function"==typeof f?s(Function.call,f):f,(e.sham||f&&f.sham||p&&p.sham)&&l(g,"sham",!0),x[d]=g,w&&(u(o,h=y+"Prototype")||l(o,h,{}),o[h][d]=f,e.real&&S&&!S[d]&&l(S,d,f)))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var i=n(14);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var i=n(13),r=n(61),a=n(64),o=n(110),s=i.Symbol,l=r("wks");e.exports=function(e){return l[e]||(l[e]=o&&s[e]||(o?s:a)("Symbol."+e))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var i=n(2),r=n(119),a=n(29),o=n(15),s=n(90),l=n(120),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,h){var d,f,p,v,g,m,y=o(t,n,c?2:1);if(h)d=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,v=a(e.length);v>p;p++)if((g=c?y(i(m=e[p])[0],m[1]):y(e[p]))&&g instanceof u)return g;return new u(!1)}d=f.call(e)}for(;!(m=d.next()).done;)if((g=l(d,y,m.value,c))&&g instanceof u)return g;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){var i=n(1),r=i(n(7)),a=i(n(32)),o=i(n(27)),s=i(n(33)),l=i(n(265)),u=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,l.default)(Error)),c=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,l.default)(Error)),h=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u),d=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(h),f=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u),p=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u);e.exports={CramBufferOverrunError:d,CramMalformedError:h,CramUnimplementedError:c,CramSizeLimitError:f,CramArgumentError:p}},function(e,t,n){var i=n(196);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){var i=n(3),r=n(24),a=n(95),o=n(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n="object",i=function(e){return e&&e.Math==Math&&e};e.exports=i(typeof globalThis==n&&globalThis)||i(typeof window==n&&window)||i(typeof self==n&&self)||i(typeof t==n&&t)||Function("return this")()}).call(this,n(23))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(5);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=n(167)},function(e,t,n){var i=n(12);e.exports=!i(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(3);e.exports=function(e){return i[e+"Prototype"]}},function(e,t,n){(function(e){var i=n(165),r=n(166),a=n(105);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return B(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var a,o=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var c=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var h=!0,d=0;d<l;d++)if(u(e,a+d)!==u(t,d)){h=!1;break}if(h)return a}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function _(e,t,n,i){return q(B(t,e.length-n),e,n,i)}function w(e,t,n,i){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function k(e,t,n,i){return w(e,t,n,i)}function x(e,t,n,i){return q(H(t),e,n,i)}function S(e,t,n,i){return q(function(e,t){for(var n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r.push(n%256),r.push(i);return r}(t,e.length-n),e,n,i)}function C(e,t,n){return i.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,l,u=e[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(a=e[r+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:o=e[r+2],128==(192&(a=e[r+1]))&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+2],s=e[r+3],128==(192&(a=e[r+1]))&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=R));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):v.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(i,r),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){a=u[h],o=c[h];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function I(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=t;a<n;++a)r+=j(e[a]);return r}function D(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,i,r,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function M(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function F(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,a){return a||F(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function z(e,t,n,i,a){return a||F(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:B(new l(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(23))},function(e,t,n){var i=n(17),r=n(21),a=n(43);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(17),r=n(106),a=n(2),o=n(62),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(49);e.exports=function(e){return Object(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(4),r=n(142);e.exports=i?r:function(e){return Map.prototype.entries.call(e)}},function(e,t,n){var i=n(3),r=n(13),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){var i=n(255),r=n(139);function a(t){return e.exports=a=r?i:function(e){return e.__proto__||i(e)},a(t)}e.exports=a},function(e,t,n){var i=n(60),r=n(49);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(83),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){e.exports=n(184)},function(e,t,n){var i=n(185);function r(e,t,n,r,a,o,s){try{var l=e[o](s),u=l.value}catch(e){return void n(e)}l.done?t(u):i.resolve(u).then(r,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new i(function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)})}}},function(e,t,n){var i=n(225),r=n(254);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){var i=n(140),r=n(96);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=i(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var i=n(21).f,r=n(20),a=n(24),o=n(174),s=n(6)("toStringTag"),l=o!=={}.toString;e.exports=function(e,t,n,u){if(e){var c=n?e:e.prototype;a(c,s)||i(c,s,{configurable:!0,value:t}),u&&l&&r(c,"toString",o)}}},function(e,t,n){e.exports=n(181)},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var i=n(70),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var a=n(57);a.inherits=n(47);var o=n(127),s=n(93);a.inherits(h,o);for(var l=r(s.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){var i=n(1),r=i(n(7)),a=i(n(10)),o=n(9).CramBufferOverrunError,s={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!s[n])throw new TypeError("invalid data type ".concat(n))}return(0,a.default)(e,[{key:"_getBits",value:function(e,t,n){var i=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new o("read error during decoding. the file seems to be truncated.");for(var r=n;r;r-=1)i<<=1,i|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return i}}]),e}();e.exports=l},function(e,t,n){n(168);var i=n(176),r=n(13),a=n(20),o=n(35),s=n(6)("toStringTag");for(var l in i){var u=r[l],c=u&&u.prototype;c&&!c[s]&&a(c,s,l),o[l]=o.Array}},function(e,t,n){var i,r,a,o=n(169),s=n(13),l=n(14),u=n(20),c=n(24),h=n(63),d=n(50);if(o){var f=new(0,s.WeakMap),p=f.get,v=f.has,g=f.set;i=function(e,t){return g.call(f,e,t),t},r=function(e){return p.call(f,e)||{}},a=function(e){return v.call(f,e)}}else{var m=h("state");d[m]=!0,i=function(e,t){return u(e,m,t),t},r=function(e){return c(e,m)?e[m]:{}},a=function(e){return c(e,m)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(2),r=n(173),a=n(85),o=n(50),s=n(112),l=n(79),u=n(63)("IE_PROTO"),c=function(){},h=function(){var e,t=l("iframe"),n=a.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;n--;)delete h.prototype[a[n]];return h()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=i(e),n=new c,c.prototype=null,n[u]=e):n=h(),void 0===t?n:r(n,t)},o[u]=!0},function(e,t,n){var i=n(15),r=n(60),a=n(22),o=n(29),s=n(113),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h;return function(f,p,v,g){for(var m,y,b=a(f),_=r(b),w=i(p,v,3),k=o(_.length),x=0,S=g||s,C=t?S(f,k):n?S(f,0):void 0;k>x;x++)if((d||x in _)&&(y=w(m=_[x],x,b),e))if(t)C[x]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:l.call(C,m)}else if(c)return!1;return h?-1:u||c?c:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var i=n(187).charAt,r=n(42),a=n(80),o=r.set,s=r.getterFor("String Iterator");a(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})})},function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var i=n(157),r=n(384),a=n(158);e.exports=function(e,t){return i(e)||r(e,t)||a()}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var i=n(111),r=n(85);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(20);e.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:i(e,t,n)}},function(e,t,n){var i=n(34);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(12);e.exports=function(e,t){var n=[][e];return!n||!i(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){var i=n(2),r=n(5),a=n(6)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[a])?t:r(n)}},function(e,t,n){var i=n(5),r=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(19).Buffer)},function(e,t,n){var i=n(1)(n(76)),r=n(331),a=n(9).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,i=t,r=e[i];if(r<128?(n=r,i+=1):r<192?(n=16383&(r<<8|e[i+1]),i+=2):r<224?(n=2097151&(r<<16|e[i+1]<<8|e[i+2]),i+=3):r<240?(n=268435455&(r<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),i+=4):(n=(15&r)<<28|e[i+1]<<20|e[i+2]<<12|e[i+3]<<4|15&e[i+4],i+=5),i>e.length)throw new a("Attempted to read beyond end of buffer; this file seems truncated.");return[n,i-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t.parse(e),a=r.offset,o=r.result;return o._endPosition=a+i,o._size=a-n,o},tinyMemoize:function(e,t){var n=e.prototype[t],r="_memo_".concat(t);e.prototype[t]=function(){var e=this;if(!(r in this)){var t=n.call(this);this[r]=t,i.default.resolve(t).catch(function(){delete e[r]})}return this[r]}},sequenceMD5:function(e){return r(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){var i=n(351),r=n(152),a=n(362);e.exports=function(e){return i(e)||r(e)||a()}},function(e,t,n){var i=n(12),r=n(34),a="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(13),r=n(171),a=n(4),o=i["__core-js_shared__"]||r("__core-js_shared__",{});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:a?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(14);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(61),r=n(64),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(24),r=n(22),a=n(63),o=n(109),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var i=n(34),r=n(6)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var i=n(12),r=n(6)("species");e.exports=function(e){return!i(function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){(function(t){e.exports=void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function(){e.apply(null,a)})}}}:t}).call(this,n(38))},function(e,t,n){var i=n(19),r=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),a(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o.set(a=e[t],r),r+=a.length;return o}},o={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},function(e,t,n){var i=n(1)(n(7)),r=n(9).CramMalformedError,a=n(74),o=function e(){(0,i.default)(this,e),this.F=void 0,this.C=void 0};function s(e,t,n,i){return n*(e>>i)+(e&(1<<i)-1)-t}var l={FC:o,AriDecoder:function e(){(0,i.default)(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new o;this.R=null},Symbol:function e(){(0,i.default)(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new r("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new r("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:s,advanceSymbolStep:function(e,t,n){return s(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,i){return function(e,t,n,i,r){if((e=i*(e>>r)+(e&(1<<r)-1)-n)<a.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<a.RANS_BYTE_L);return e}(e,t,n.start,n.freq,i)},renormalize:function(e,t){if(e<a.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<a.RANS_BYTE_L);return e}};e.exports=l},function(e,t,n){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t,n){e.exports=n(322)},function(e,t,n){e.exports=n(330)},function(e,t,n){e.exports=n(347)},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(13),r=n(14),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var i=n(0),r=n(172),a=n(66),o=n(86),s=n(36),l=n(20),u=n(52),c=n(6),h=n(4),d=n(35),f=n(108),p=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),m=function(){return this};e.exports=function(e,t,n,c,f,y,b){r(n,t,c);var _,w,k,x=function(e){if(e===f&&A)return A;if(!v&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",C=!1,E=e.prototype,R=E[g]||E["@@iterator"]||f&&E[f],A=!v&&R||x(f),T="Array"==t&&E.entries||R;if(T&&(_=a(T.call(new e)),p!==Object.prototype&&_.next&&(h||a(_)===p||(o?o(_,p):"function"!=typeof _[g]&&l(_,g,m)),s(_,S,!0,!0),h&&(d[S]=m))),"values"==f&&R&&"values"!==R.name&&(C=!0,A=function(){return R.call(this)}),h&&!b||E[g]===A||l(E,g,A),d[t]=A,f)if(w={values:x("values"),keys:y?A:x("keys"),entries:x("entries")},b)for(k in w)!v&&!C&&k in E||u(E,k,w[k]);else i({target:t,proto:!0,forced:v||C},w);return w}},function(e,t,n){var i=n(17),r=n(65),a=n(43),o=n(28),s=n(62),l=n(24),u=n(106),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(28),r=n(29),a=n(84),o=function(e){return function(t,n,o){var s,l=i(t),u=r(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(83),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(2),r=n(175);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var i=n(62),r=n(21),a=n(43);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},function(e,t){},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i=n(67),r=n(35),a=n(6)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var r,a,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=v(l,u);for(n=0;n<u;++n)a(c[n],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,i,r,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){(t=e.exports=n(127)).Stream=t,t.Readable=t,t.Writable=n(93),t.Duplex=n(39),t.Transform=n(131),t.PassThrough=n(207)},function(e,t,n){(function(t,i,r){var a=n(70);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(void 0),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:a.nextTick;y.WritableState=m;var u=n(57);u.inherits=n(47);var c,h={deprecate:n(206)},d=n(128),f=n(71).Buffer,p=r.Uint8Array||function(){},v=n(129);function g(){}function m(e,t){s=s||n(39);var i=t instanceof s;this.objectMode=!!(e=e||{}).objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(a.nextTick(r,i),a.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,r);else{var o=k(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),i?l(_,e,n,o,r):_(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(39),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,i,r,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function _(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=new Array(t.bufferedRequestCount),r=t.corkedRequestsFree;r.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,b(e,t,!0,t.length,i,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk;if(b(e,t,!1,t.objectMode?1:l.length,l,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var n=k(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,d),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var i,r=this._writableState,o=!1,s=!r.objectMode&&(f.isBuffer(i=e)||i instanceof p);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=g),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(i,o),r=!1),r}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,i,r,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,i,r);i!==o&&(n=!0,r="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,i,r,a);return l}(this,r,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(38),n(204).setImmediate,n(23))},function(e,t,i){e.exports=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return m(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark(function e(){var t,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=n(i.value,1),a=r[0],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:regeneratorRuntime.mark(function e(){var t,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=n(i.value,2),a=r[1],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:e,value:regeneratorRuntime.mark(function e(){var t,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this.cache),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=i.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:a=d(this.oldCache),e.prev=18,a.s();case 20:if((o=a.n()).done){e.next=29;break}if(s=o.value,l=n(s,1),u=l[0],e.t1=this.cache.has(u),e.t1){e.next=27;break}return e.next=27,s;case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),a.e(e.t2);case 34:return e.prev=34,a.f(),e.finish(34);case 37:case"end":return e.stop()}},e,this,[[1,11,14,17],[18,31,34,37]])})},{key:"size",get:function(){var e,t=0,n=d(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;this.cache.has(i)||t++}}catch(di){n.e(di)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator)},function(e,t,n){t.f=n(6)},function(e,t,n){var i=n(139);function r(t,n){return e.exports=r=i||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,n){e.exports=n(310)},function(e,t,n){e.exports=n(319)},function(e,t,n){e.exports=n(342)},function(e,t,n){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){e.exports=n(368)},function(e,t,n){e.exports=n(396)},function(e,t,n){e.exports=n(399)},function(e,t,n){var i=n(164);e.exports=i},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var i=n(17),r=n(12),a=n(79);e.exports=!i&&!r(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(12),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t,n){var i,r,a,o=n(66),s=n(20),l=n(24),u=n(6),c=n(4),h=u("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(r=o(o(a)))!==Object.prototype&&(i=r):d=!0),null==i&&(i={}),c||l(i,h)||s(i,h,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var i=n(12);e.exports=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var i=n(12);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t,n){var i=n(24),r=n(28),a=n(82).indexOf,o=n(50);e.exports=function(e,t){var n,s=r(e),l=0,u=[];for(n in s)!i(o,n)&&i(s,n)&&u.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var i=n(26);e.exports=i("document","documentElement")},function(e,t,n){var i=n(14),r=n(53),a=n(6)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(0),r=n(12),a=n(53),o=n(14),s=n(22),l=n(29),u=n(87),c=n(113),h=n(68),d=n(6)("isConcatSpreadable"),f=!r(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),p=h("concat"),v=function(e){if(!o(e))return!1;var t=e[d];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,forced:!f||!p},{concat:function(e){var t,n,i,r,a,o=s(this),h=c(o,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(v(a=-1===t?o:arguments[t])){if(d+(r=l(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,d++)n in a&&u(h,d,a[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,d++,a)}return h.length=d,h}})},function(e,t,n){n(88),n(46),n(41),n(188),n(125),n(191);var i=n(3);e.exports=i.Promise},function(e,t,n){var i=n(13);e.exports=i.Promise},function(e,t,n){var i=n(52);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e}},function(e,t,n){var i=n(26),r=n(21),a=n(6),o=n(17),s=a("species");e.exports=function(e){var t=i(e);o&&t&&!t[s]&&(0,r.f)(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(6),r=n(35),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){var i=n(2);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},function(e,t,n){var i=n(6)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var i,r,a,o=n(13),s=n(12),l=n(34),u=n(15),c=n(112),h=n(79),d=o.location,f=o.setImmediate,p=o.clearImmediate,v=o.process,g=o.MessageChannel,m=o.Dispatch,y=0,b={},_=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){_(e)}},k=function(e){_(e.data)},x=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},p=function(e){delete b[e]},"process"==l(v)?i=function(e){v.nextTick(w(e))}:m&&m.now?i=function(e){m.now(w(e))}:g?(a=(r=new g).port2,r.port1.onmessage=k,i=u(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(x)?i="onreadystatechange"in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),_(e)}}:function(e){setTimeout(w(e),0)}:(i=x,o.addEventListener("message",k,!1))),e.exports={set:f,clear:p}},function(e,t,n){var i=n(26);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(2),r=n(14),a=n(56);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(0),r=n(5),a=n(56),o=n(69),s=n(8);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),i=n.resolve,l=n.reject,u=o(function(){var n=r(t.resolve),a=[],o=0,l=1;s(e,function(e){var r=o++,s=!1;a.push(void 0),l++,n.call(t,e).then(function(e){s||(s=!0,a[r]={status:"fulfilled",value:e},--l||i(a))},function(e){s||(s=!0,a[r]={status:"rejected",reason:e},--l||i(a))})}),--l||i(a)});return u.error&&l(u.value),n.promise}})},function(e,t,n){(function(e){var i=n(19).Buffer,r=n(200).Transform,a=n(212),o=n(133),s=n(132).ok,l=n(19).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(a),h=0;h<c.length;h++){var d=c[h];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:a[d],writable:!1})}for(var f={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(f),v=0;v<p.length;v++){var g=p[v];f[f[g]]=g}function m(e,t,n){var r=[],a=0;function o(){for(var t;null!==(t=e.read());)r.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=l?o=new RangeError(u):t=i.concat(r,a),r=[],e.close(),n(o,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)}),e.on("end",s),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Not a string or buffer");return e._processChunk(t,e._finishFlushFlag)}function b(e){if(!(this instanceof b))return new b(e);R.call(this,e,a.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);R.call(this,e,a.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,a.GZIP)}function k(e){if(!(this instanceof k))return new k(e);R.call(this,e,a.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);R.call(this,e,a.DEFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);R.call(this,e,a.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);R.call(this,e,a.UNZIP)}function E(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function R(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,e),e.flush&&!E(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!E(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!i.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var i=new Error(e);i.errno=n,i.code=t.codes[n],s.emit("error",i)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function T(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=b,t.Inflate=_,t.Gzip=w,t.Gunzip=k,t.DeflateRaw=x,t.InflateRaw=S,t.Unzip=C,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new _(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new S(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new C(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new w(t),e,n)},t.gzipSync=function(e,t){return y(new w(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new x(t),e,n)},t.deflateRawSync=function(e,t){return y(new x(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new C(t),e,n)},t.unzipSync=function(e,t){return y(new C(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new _(t),e,n)},t.inflateSync=function(e,t){return y(new _(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new k(t),e,n)},t.gunzipSync=function(e,t){return y(new k(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new S(t),e,n)},t.inflateRawSync=function(e,t){return y(new S(t),e)},o.inherits(R,r),R.prototype.params=function(n,i,r){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(i!=t.Z_FILTERED&&i!=t.Z_HUFFMAN_ONLY&&i!=t.Z_RLE&&i!=t.Z_FIXED&&i!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==n||this._strategy!==i){var o=this;this.flush(a.Z_SYNC_FLUSH,function(){s(o._handle,"zlib binding closed"),o._handle.params(n,i),o._hadError||(o._level=n,o._strategy=i,r&&r())})}else e.nextTick(r)},R.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(i.alloc(0),"",e)},R.prototype.flush=function(t,n){var r=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=a.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",function(){return r.flush(t,n)}):(this._flushFlag=t,this.write(i.alloc(0),"",n))},R.prototype.close=function(t){A(this,t),e.nextTick(T,this)},R.prototype._transform=function(e,t,n){var r,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||i.isBuffer(e)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},R.prototype._processChunk=function(e,t,n){var r=e&&e.length,a=this._chunkSize-this._offset,o=0,c=this,h="function"==typeof n;if(!h){var d,f=[],p=0;this.on("error",function(e){d=e}),s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(t,e,o,r,this._buffer,this._offset,a)}while(!this._hadError&&y(v[0],v[1]));if(this._hadError)throw d;if(p>=l)throw A(this),new RangeError(u);var g=i.concat(f,p);return A(this),g}s(this._handle,"zlib binding closed");var m=this._handle.write(t,e,o,r,this._buffer,this._offset,a);function y(l,u){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var d=a-u;if(s(d>=0,"have should not go down"),d>0){var v=c._buffer.slice(c._offset,c._offset+d);c._offset+=d,h?c.push(v):(f.push(v),p+=v.length)}if((0===u||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=i.allocUnsafe(c._chunkSize)),0===u){if(o+=r-l,r=l,!h)return!0;var g=c._handle.write(t,e,o,r,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!h)return!1;n()}}m.buffer=e,m.callback=y},o.inherits(b,R),o.inherits(_,R),o.inherits(w,R),o.inherits(k,R),o.inherits(x,R),o.inherits(S,R),o.inherits(C,R)}).call(this,n(38))},function(e,t,n){(function(t,i){var r=n(70);e.exports=b;var a,o=n(105);b.ReadableState=y,n(91);var s=function(e,t){return e.listeners(t).length},l=n(128),u=n(71).Buffer,c=t.Uint8Array||function(){},h=n(57);h.inherits=n(47);var d=n(201),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,v=n(202),g=n(129);h.inherits(b,l);var m=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var i=t instanceof(a=a||n(39));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark;this.highWaterMark=r||0===r?r:i&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(130).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(39),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,i,r){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,o)):(r||(a=function(e,t){var n,i;return u.isBuffer(i=t)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):E(e,o)):w(e,o,t,!1))):i||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(130).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var k=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(C,e):C(e))}function C(e){f("emit readable"),e.emit("readable"),I(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){f("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(r+=o===a.length?a:a.slice(0,e),0==(e-=o)){o===a.length?(++i,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=u.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var a=i.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0==(e-=o)){o===a.length?(++r,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=a.slice(o));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):S(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&O(this),null;var i,r=t.needReadable;return f("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",r=!0),t.ended||t.reading?f("reading or ended",r=!1):r&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(i=e>0?D(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var l=t&&!1===t.end||e===i.stdout||e===i.stderr?y:u;function u(){f("onend"),e.end()}a.endEmitted?r.nextTick(l):n.once("end",l),e.on("unpipe",function t(i,r){f("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",c);var h=!1,d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==M(a.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function v(t){f("onerror",t),y(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",m),y()}function m(){f("onfinish"),e.removeListener("close",g),y()}function y(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",m),e.emit("pipe",n),a.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,n);return this}var o=M(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(A,this))}return n},b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){f("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var a=0;a<m.length;a++)e.on(m[a],this.emit.bind(this,m[a]));return this._read=function(t){f("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=D}).call(this,n(23),n(38))},function(e,t,n){e.exports=n(91).EventEmitter},function(e,t,n){var i=n(70);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var i=n(71).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=o(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var i=n(39),r=n(57);function a(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(47),r.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){(function(t){var i=n(213);function r(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(133),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,u="foo"===(function(){}).name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=y,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(f);return t&&t[1]}}function v(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,i,r){throw new d.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function y(e,t){e||m(e,!0,t,"==",d.ok)}function b(e,t,n,i){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(h(e)&&h(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=_(e),a=_(t);if(r&&!a||!r&&a)return!1;if(r)return b(e=l.call(e),t=l.call(t),n);var s,u,c=x(e),h=x(t);if(c.length!==h.length)return!1;for(c.sort(),h.sort(),u=c.length-1;u>=0;u--)if(c[u]!==h[u])return!1;for(u=c.length-1;u>=0;u--)if(!b(e[s=c[u]],t[s],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,i){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&m(r,n,"Missing expected exception"+i);var a="string"==typeof i,s=!e&&r&&!n;if((!e&&o.isError(r)&&a&&w(r,n)||s)&&m(r,n,"Got unwanted exception"+i),e&&r&&n&&!w(r,n)||!e&&r)throw r}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(g(e.actual),128)+" "+e.operator+" "+v(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=p(t),a=i.indexOf("\n"+r);if(a>=0){var o=i.indexOf("\n",a+1);i=i.substring(o+1)}this.stack=i}}},o.inherits(d.AssertionError,Error),d.fail=m,d.ok=y,d.equal=function(e,t,n){e!=t&&m(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,i){b(t,n,!0)&&m(t,n,i,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){k(!0,e,t,n)},d.doesNotThrow=function(e,t,n){k(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=i(function e(t,n){t||m(t,!0,n,"==",e)},d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var x=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(23))},function(e,t,n){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},r=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,a=i.length,o=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),l=i[n];n<a;l=i[++n])v(l)||!_(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(n,i){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),c(i,e,i.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,i){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return m(r)||(r=c(e,r,i)),r}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(x(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var l,u="",_=!1,S=["{","}"];return f(n)&&(_=!0,S=["[","]"]),x(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(u=" "+RegExp.prototype.toString.call(n)),w(n)&&(u=" "+Date.prototype.toUTCString.call(n)),k(n)&&(u=" "+h(n)),0!==o.length||_&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=_?function(e,t,n,i,r){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(d(e,t,n,i,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(d(e,t,n,i,r,!0))}),a}(e,n,i,s,o):o.map(function(t){return d(e,n,i,s,t,_)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(l,u,S)):S[0]+u+S[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,r,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=e.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(i,r)||(o="["+r+"]"),s||(e.seen.indexOf(l.value)<0?(s=v(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===S(e)}function k(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var i=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=k,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(214);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=n(215),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise(function(e,i){t=e,n=i}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(e,i){e?n(e):t(i)});try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};t.apply(this,n).then(function(t){e.nextTick(o,null,t)},function(t){e.nextTick(I,t,o)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(38))},function(e,t,n){e.exports=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},function(e,t,n){var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){n(11)("iterator")},function(e,t,n){var i=n(111),r=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(259)},function(e,t,n){e.exports=n(262)},function(e,t,n){var i=n(50),r=n(14),a=n(24),o=n(21).f,s=n(64),l=n(271),u=s("meta"),c=0,h=Object.isExtensible||function(){return!0},d=function(e){o(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},onFreeze:function(e){return l&&f.REQUIRED&&h(e)&&!a(e,u)&&d(e),e}};i[u]=!0},function(e,t,n){var i=n(2),r=n(90);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){var i=n(298),r=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===r||e instanceof Array&&t===r.indexOf?i:t}},function(e,t,n){var i=n(303),r=Function.prototype;e.exports=function(e){var t=e.bind;return e===r||e instanceof Function&&t===r.bind?i:t}},function(e,t,n){var i=n(5),r=n(14),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";o[t]=Function("C,a","return new C("+i.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),o=function i(){var r=n.concat(a.call(arguments));return this instanceof i?s(t,r.length,r):t.apply(e,r)};return r(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){e.exports=i;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function i(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=r;var a={},o={};function s(e,t){var n,i,r;return t?(r=0<=(e>>>=0)&&e<256)&&(i=o[e])?i:(n=u(e,(0|e)<0?-1:0,!0),r&&(o[e]=n),n):(r=-128<=(e|=0)&&e<128)&&(i=a[e])?i:(n=u(e,e<0?-1:0,!1),r&&(a[e]=n),n)}function l(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-v)return S;if(e+1>=v)return k}return e<0?l(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,n){return new i(e,t,n)}i.fromInt=s,i.fromNumber=l,i.fromBits=u;var c=Math.pow;function h(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return h(e.substring(1),t,n).neg();for(var r=l(c(n,8)),a=m,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+s),n);if(s<8){var d=l(c(n,s));a=a.mul(d).add(l(u))}else a=(a=a.mul(r)).add(l(u))}return a.unsigned=t,a}function d(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?h(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=h,i.fromValue=d;var f=4294967296,p=f*f,v=p/2,g=s(1<<24),m=s(0);i.ZERO=m;var y=s(0,!0);i.UZERO=y;var b=s(1);i.ONE=b;var _=s(1,!0);i.UONE=_;var w=s(-1);i.NEG_ONE=w;var k=u(-1,2147483647,!1);i.MAX_VALUE=k;var x=u(-1,-1,!0);i.MAX_UNSIGNED_VALUE=x;var S=u(0,-2147483648,!1);i.MIN_VALUE=S;var C=i.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=l(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=l(c(e,6),this.unsigned),a=this,o="";;){var s=a.div(r),u=(a.sub(s.mul(r)).toInt()>>>0).toString(e);if((a=s).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},C.neg=C.negate,C.add=function(e){r(e)||(e=d(e));var t=0,n=0,i=0,a=0;return i+=(a+=(65535&this.low)+(65535&e.low))>>>16,n+=(i+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),u((i&=65535)<<16|(a&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=d(e)),n)return u(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(S))return e.isOdd()?S:m;if(e.eq(S))return this.isOdd()?S:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,i=this.low>>>16,a=65535&this.low,o=65535&e.high,s=e.low>>>16,c=65535&e.low,h=0,f=0,p=0,v=0;return p+=(v+=a*c)>>>16,f+=(p+=i*c)>>>16,p&=65535,f+=(p+=a*s)>>>16,h+=(f+=t*c)>>>16,f&=65535,h+=(f+=i*s)>>>16,f&=65535,h+=(f+=a*o)>>>16,h+=(this.high>>>16)*c+t*s+i*o+a*(e.high>>>16),u((p&=65535)<<16|(v&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var t,i,a;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;a=y}else{if(this.eq(S))return e.eq(b)||e.eq(w)?S:e.eq(S)?b:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:w:(i=this.sub(e.mul(t)),a=t.add(i.div(e)));if(e.eq(S))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=m}for(i=this;i.gte(e);){t=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:c(2,o-48),h=l(t),f=h.mul(e);f.isNegative()||f.gt(i);)f=(h=l(t-=s,this.unsigned)).mul(e);h.isZero()&&(h=b),a=a.add(h),i=i.sub(f)}return a},C.div=C.divide,C.modulo=function(e){return r(e)||(e=d(e)),n?u((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){e.exports=n(335)},function(e,t,n){var i=n(17),r=n(51),a=n(28),o=n(65).f,s=function(e){return function(t){for(var n,s=a(t),l=r(s),u=l.length,c=0,h=[];u>c;)n=l[c++],i&&!o.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){e.exports=n(338)},function(e,t,n){e.exports=n(352)},function(e,t,n){var i=n(355),r=n(153);e.exports=function(e){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return i(e)}},function(e,t,n){e.exports=n(360)},function(e,t,n){e.exports=n(372)},function(e,t,n){var i=n(13),r=n(375).trim,a=n(156),o=i.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(a+"08")||22!==o(a+"0x16");e.exports=l?function(e,t){var n=r(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var i=n(151);e.exports=function(e){if(i(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n(393)},function(e,t,n){var i=n(419),r=n(426),a=n(429);function o(e){var t=i.parse(e);return"file:"===t.protocol?new a(unescape(t.pathname)):new r(e)}e.exports={LocalFile:a,RemoteFile:r,fromUrl:o,open:function(e,t,n){if(n)return n;if(e)return o(e);if(t)return new a(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=r;var i="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function r(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[i],n=r.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var i=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return new n(function(n,r){a.push(function(e){if(e)return r(e);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(1===a.length||!t)return n(a[0]);var s={};a.forEach(function(e,n){var i=t[n];i&&(s[i]=e)}),n(s)}),e.call.apply(e,[i].concat(a))})}}r.argumentNames=i,r.Promise=void 0},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(449),r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")},a=void 0===r().AbortController?i.AbortController:r().AbortController;t.AbortController=a;var o=void 0===r().AbortController?i.AbortSignal:r().AbortSignal;t.AbortSignal=o}).call(this,n(23))},function(e,t,n){var i=n(104),r=n(432),a=n(439);e.exports={CramFile:i,IndexedCramFile:r,CraiIndex:a}},function(e,t,n){(function(t){var i,r=n(1),a=r(n(16)),o=r(n(37)),s=r(n(30)),l=r(n(31)),u=r(n(7)),c=r(n(10)),h=n(126),d=n(224),f=n(94),p=n(9),v=p.CramUnimplementedError,g=p.CramMalformedError,m=n(309),y=n(318),b=y.cramFileDefinition,_=y.getSectionParsers,w=n(329),k=n(160).open,x=n(58),S=x.parseItem,C=x.tinyMemoize,E=n(430).parseHeaderText,R=function(){function e(t){(0,u.default)(this,e),this.file=k(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new f({maxSize:this.options.cacheSize})}var n,i,r,a,p,y,x,C,R,A;return(0,c.default)(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,i){return this.file.read(e,t,n,i)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(A=(0,l.default)(s.default.mark(function e(){var n,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(b.maxLength),e.next=3,this.file.read(n,0,b.maxLength,0);case 3:if(2===(i=b.parser.parse(n).result).majorVersion||3===i.majorVersion){e.next=6;break}throw new v("CRAM version ".concat(i.majorVersion," not supported"));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"getSamHeader",value:(R=(0,l.default)(s.default.mark(function e(){var t,n,i,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new g("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return i=(n=e.sent.content).readInt32LE(0),r=n.toString("utf8",4,4+i),this.header=r,e.abrupt("return",E(r));case 14:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"getHeaderText",value:(C=(0,l.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSamHeader();case 2:return e.abrupt("return",this.header);case 3:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"getSectionParsers",value:(x=(0,l.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return e.abrupt("return",_(e.sent.majorVersion));case 5:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getContainerById",value:(y=(0,l.default)(s.default.mark(function e(t){var n,i,r,a,o,l,u,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return i=(n=e.sent).cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:r=e.sent.size,a=n.cramContainerHeader1,l=0;case 10:if(!(l<=t)){e.next=36;break}if(!(i+a.maxLength+8>=r)){e.next=13;break}return e.abrupt("return",void 0);case 13:return o=this.getContainerAtPosition(i),e.next=16,o.getHeader();case 16:if(u=e.sent){e.next=19;break}throw new g("container ".concat(t," not found in file"));case 19:if(0!==l){e.next=32;break}i=u._endPosition,c=0;case 22:if(!(c<u.numBlocks)){e.next=30;break}return e.next=25,this.readBlock(i);case 25:i=e.sent._endPosition;case 27:c+=1,e.next=22;break;case 30:e.next=33;break;case 32:i+=u._size+u.length;case 33:l+=1,e.next=10;break;case 36:return e.abrupt("return",o);case 37:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"checkCrc32",value:(p=(0,l.default)(s.default.mark(function e(n,i,r,a){var l,u,c,h;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.allocUnsafe(i),e.next=3,this.file.read(l,0,i,n);case 3:if((u=d.unsigned(l))===r){e.next=6;break}throw new g((0,o.default)(c=(0,o.default)(h="crc mismatch in ".concat(a,": recorded CRC32 = ")).call(h,r,", but calculated CRC32 = ")).call(c,u));case 6:case"end":return e.stop()}},e,this)})),function(e,t,n,i){return p.apply(this,arguments)})},{key:"containerCount",value:(a=(0,l.default)(s.default.mark(function e(){var t,n,i,r,a,o,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent.size,i=t.cramContainerHeader1,r=0,a=t.cramFileDefinition.maxLength;case 10:if(!(a+i.maxLength+8<n)){e.next=33;break}return e.next=13,this.getContainerAtPosition(a).getHeader();case 13:if(o=e.sent){e.next=16;break}return e.abrupt("break",33);case 16:if(0!==r){e.next=29;break}a=o._endPosition,l=0;case 19:if(!(l<o.numBlocks)){e.next=27;break}return e.next=22,this.readBlock(a);case 22:a=e.sent._endPosition;case 24:l+=1,e.next=19;break;case 27:e.next=30;break;case 29:a+=o._size+o.length;case 30:r+=1,e.next=10;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new w(this,e)}},{key:"readBlockHeader",value:(r=(0,l.default)(s.default.mark(function e(n){var i,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return i=e.sent.cramBlockHeader,e.next=6,this.file.stat();case 6:if(!(n+i.maxLength>=e.sent.size)){e.next=10;break}return e.abrupt("return",void 0);case 10:return r=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(r,0,i.maxLength,n);case 13:return e.abrupt("return",S(r,i.parser,0,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_parseSection",value:(i=(0,l.default)(s.default.mark(function e(n,i){var r,a,l,u,c,h=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:n.maxLength,!(l=h.length>3?h[3]:void 0)){e.next=6;break}u=l,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(!(i+a>=e.sent.size)){e.next=12;break}return e.abrupt("return",void 0);case 12:return u=t.allocUnsafe(a),e.next=15,this.file.read(u,0,a,i);case 15:if((c=S(u,n.parser,0,i))._size===a){e.next=18;break}throw new g((0,o.default)(r="section read error: requested size ".concat(a," does not equal parsed size ")).call(r,c._size));case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)h.gunzipSync(t).copy(n);else{if("rans"!==e)throw new v("".concat(e," decompression not yet implemented"));m.uncompress(t,n)}}},{key:"readBlock",value:(n=(0,l.default)(s.default.mark(function e(n){var i,r,a,o,l,u,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return i=e.sent.majorVersion,e.next=6,this.getSectionParsers();case 6:return r=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(o=(a=e.sent)._endPosition,a.contentPosition=a._endPosition,l=t.allocUnsafe(a.uncompressedSize),"raw"===a.compressionMethod){e.next=20;break}return u=t.allocUnsafe(a.compressedSize),e.next=17,this.read(u,0,a.compressedSize,o);case 17:this._uncompress(a.compressionMethod,u,l),e.next=22;break;case 20:return e.next=22,this.read(l,0,a.uncompressedSize,o);case 22:if(a.content=l,!(i>=3)){e.next=35;break}return e.next=26,this._parseSection(r.cramBlockCrc32,o+a.compressedSize);case 26:if(a.crc32=(c=e.sent).crc32,!this.validateChecksums){e.next=31;break}return e.next=31,this.checkCrc32(n,a._size+a.compressedSize,a.crc32,"block data");case 31:a._endPosition=c._endPosition,a._size=a.compressedSize+r.cramBlockCrc32.maxLength,e.next=37;break;case 35:a._endPosition=o+a.compressedSize,a._size=a.compressedSize;case 37:return e.abrupt("return",a);case 38:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();(0,a.default)(i="getDefinition getSectionParsers getSamHeader".split(" ")).call(i,function(e){return C(R,e)}),e.exports=R}).call(this,n(19).Buffer)},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,i=u(e),o=i[0],s=i[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,s=n-r;o<s;o+=16383)a.push(c(e,o,o+16383>s?s:o+16383));return 1===r?a.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&a.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var r,a=[],o=t;o<n;o+=3)a.push(i[(r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),a-=u}return(f?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*v}},function(e,t,n){n(41);var i=n(177),r=n(67),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||o.hasOwnProperty(r(e))?i:t}},function(e,t,n){var i=n(28),r=n(78),a=n(35),o=n(42),s=n(80),l=o.set,u=o.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(13),r=n(170),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(r.call(a))},function(e,t,n){var i=n(61);e.exports=i("native-function-to-string",Function.toString)},function(e,t,n){var i=n(13),r=n(20);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(108).IteratorPrototype,r=n(44),a=n(43),o=n(36),s=n(35),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),o(e,u,!1,!0),s[u]=l,e}},function(e,t,n){var i=n(17),r=n(21),a=n(2),o=n(51);e.exports=i?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,l=0;s>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(67),r={};r[n(6)("toStringTag")]="z",e.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(e,t,n){var i=n(14);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=n(178)},function(e,t,n){n(179);var i=n(18);e.exports=i("Array").forEach},function(e,t,n){var i=n(0),r=n(180);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){var i=n(45).forEach,r=n(54);e.exports=r("forEach")?function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){e.exports=n(182)},function(e,t,n){var i=n(183),r=Array.prototype;e.exports=function(e){var t=e.concat;return e===r||e instanceof Array&&t===r.concat?i:t}},function(e,t,n){n(114);var i=n(18);e.exports=i("Array").concat},function(e,t,n){var i=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n,i){var r=Object.create((t&&t.prototype instanceof v?t:v).prototype),a=new R(i||[]);return r._invoke=function(e,t,n){var i=c;return function(r,a){if(i===d)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw a;return T()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===c)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",h="suspendedYield",d="executing",f="completed",p={};function v(){}function g(){}function m(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&i.call(_,a)&&(y=_);var w=m.prototype=v.prototype=Object.create(y);function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e,t){var n;this._invoke=function(r,a){function o(){return new t(function(n,o){!function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&i.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(h).then(function(e){c.value=e,o(c)},function(e){return n("throw",e,o,s)})}s(l.arg)}(r,a,n,o)})}return n=n?n.then(o,o):o()}}function S(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:t,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,m[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new x(l(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:A(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){e.exports=n(186)},function(e,t,n){e.exports=n(115),n(192),n(193),n(194),n(195)},function(e,t,n){var i=n(83),r=n(49),a=function(e){return function(t,n){var a,o,s=String(r(t)),l=i(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var i,r,a,o,s=n(0),l=n(4),u=n(13),c=n(3),h=n(116),d=n(52),f=n(117),p=n(36),v=n(118),g=n(14),m=n(5),y=n(89),b=n(34),_=n(8),w=n(121),k=n(55),x=n(122).set,S=n(189),C=n(124),E=n(190),R=n(56),A=n(69),T=n(123),I=n(42),D=n(107),O=n(6)("species"),P="Promise",M=I.get,L=I.set,F=I.getterFor(P),N=h,z=u.TypeError,V=u.document,j=u.process,B=u.fetch,H=j&&j.versions,q=H&&H.v8||"",U=R.f,W=U,G="process"==b(j),$=!!(V&&V.createEvent&&u.dispatchEvent),Y=D(P,function(){var e=N.resolve(1),t=function(){},n=(e.constructor={})[O]=function(e){e(t,t)};return!((G||"function"==typeof PromiseRejectionEvent)&&(!l||e.finally)&&e.then(t)instanceof n&&0!==q.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))}),Z=Y||!w(function(e){N.all(e).catch(function(){})}),K=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;S(function(){for(var r=t.value,a=1==t.state,o=0;i.length>o;){var s,l,u,c=i[o++],h=a?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===h?s=r:(p&&p.enter(),s=h(r),p&&(p.exit(),u=!0)),s===c.promise?f(z("Promise-chain cycle")):(l=K(s))?l.call(s,d,f):d(s)):f(r)}catch(e){p&&!u&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)})}},Q=function(e,t,n){var i,r;$?((i=V.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},(r=u["on"+e])?r(i):"unhandledrejection"===e&&E("Unhandled promise rejection",n)},J=function(e,t){x.call(u,function(){var n,i=t.value;if(ee(t)&&(n=A(function(){G?j.emit("unhandledRejection",i,e):Q("unhandledrejection",e,i)}),t.rejection=G||ee(t)?2:1,n.error))throw n.value})},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){x.call(u,function(){G?j.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)})},ne=function(e,t,n,i){return function(r){e(t,n,r,i)}},ie=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,X(e,t,!0))},re=function e(t,n,i,r){if(!n.done){n.done=!0,r&&(n=r);try{if(t===i)throw z("Promise can't be resolved itself");var a=K(i);a?S(function(){var r={done:!1};try{a.call(i,ne(e,t,r,n),ne(ie,t,r,n))}catch(i){ie(t,r,i,n)}}):(n.value=i,n.state=1,X(t,n,!1))}catch(i){ie(t,{done:!1},i,n)}}};Y&&(N=function(e){y(this,N,P),m(e),i.call(this);var t=M(this);try{e(ne(re,this,t),ne(ie,this,t))}catch(e){ie(this,t,e)}},(i=function(e){L(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(N.prototype,{then:function(e,t){var n=F(this),i=U(k(this,N));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=G?j.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&X(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=M(e);this.promise=e,this.resolve=ne(re,e,t),this.reject=ne(ie,e,t)},R.f=U=function(e){return e===N||e===a?new r(e):W(e)},l||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",function(e,t){var n=this;return new N(function(e,t){o.call(n,e,t)}).then(e,t)}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(N,B.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:N}),p(N,P,!1,!0),v(P),a=c.Promise,s({target:P,stat:!0,forced:Y},{reject:function(e){var t=U(this);return t.reject.call(void 0,e),t.promise}}),s({target:P,stat:!0,forced:l||Y},{resolve:function(e){return C(l&&this===a?N:this,e)}}),s({target:P,stat:!0,forced:Z},{all:function(e){var t=this,n=U(t),i=n.resolve,r=n.reject,a=A(function(){var n=m(t.resolve),a=[],o=0,s=1;_(e,function(e){var l=o++,u=!1;a.push(void 0),s++,n.call(t,e).then(function(e){u||(u=!0,a[l]=e,--s||i(a))},r)}),--s||i(a)});return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=U(t),i=n.reject,r=A(function(){var r=m(t.resolve);_(e,function(e){r.call(t,e).then(n.resolve,i)})});return r.error&&i(r.value),n.promise}})},function(e,t,n){var i,r,a,o,s,l,u,c,h=n(13),d=n(81).f,f=n(34),p=n(122).set,v=n(123),g=h.MutationObserver||h.WebKitMutationObserver,m=h.process,y=h.Promise,b="process"==f(m),_=d(h,"queueMicrotask"),w=_&&_.value;w||(i=function(){var e,t;for(b&&(e=m.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():a=void 0,e}}a=void 0,e&&e.enter()},b?o=function(){m.nextTick(i)}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(v)?(s=!0,l=document.createTextNode(""),new g(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,o=function(){c.call(u,i)}):o=function(){p.call(h,i)}),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},function(e,t,n){var i=n(13);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var i=n(0),r=n(4),a=n(116),o=n(26),s=n(55),l=n(124),u=n(52);i({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=s(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}}),r||"function"!=typeof a||a.prototype.finally||u(a.prototype,"finally",o("Promise").prototype.finally)},function(e,t,n){var i=n(0),r=n(66),a=n(86),o=n(44),s=n(43),l=n(8),u=n(20),c=function e(t,n){var i=this;if(!(i instanceof e))return new e(t,n);a&&(i=a(new Error(n),r(i)));var o=[];return l(t,o.push,o),u(i,"errors",o),void 0!==n&&u(i,"message",String(n)),i};c.prototype=o(Error.prototype,{constructor:s(5,c),name:s(5,"AggregateError")}),i({global:!0},{AggregateError:c})},function(e,t,n){n(125)},function(e,t,n){var i=n(0),r=n(56),a=n(69);i({target:"Promise",stat:!0},{try:function(e){var t=r.f(this),n=a(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){var i=n(0),r=n(5),a=n(26),o=n(56),s=n(69),l=n(8);i({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),i=n.resolve,u=n.reject,c=s(function(){var n=r(t.resolve),o=[],s=0,c=1,h=!1;l(e,function(e){var r=s++,l=!1;o.push(void 0),c++,n.call(t,e).then(function(e){l||h||(h=!0,i(e))},function(e){l||h||(l=!0,o[r]=e,--c||u(new(a("AggregateError"))(o,"No one promise resolved")))})}),--c||u(new(a("AggregateError"))(o,"No one promise resolved"))});return c.error&&u(c.value),n.promise}})},function(e,t,n){e.exports=n(197)},function(e,t,n){e.exports=n(198)},function(e,t,n){n(199);var i=n(3).Object,r=e.exports=function(e,t,n){return i.defineProperty(e,t,n)};i.defineProperty.sham&&(r.sham=!0)},function(e,t,n){var i=n(0),r=n(17);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(21).f})},function(e,t,n){e.exports=r;var i=n(91).EventEmitter;function r(){i.call(this)}n(47)(r,i),r.Readable=n(92),r.Writable=n(208),r.Duplex=n(209),r.Transform=n(210),r.PassThrough=n(211),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",r),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var i=n(71).Buffer,r=n(203);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(205),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var i,r,a,o,s,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,i(l),l++},d.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(23),n(38))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(23))},function(e,t,n){e.exports=a;var i=n(131),r=n(57);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r.inherits=n(47),r.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(93)},function(e,t,n){e.exports=n(39)},function(e,t,n){e.exports=n(92).Transform},function(e,t,n){e.exports=n(92).PassThrough},function(e,t,n){(function(e,i){var r=n(132),a=n(216),o=n(217),s=n(220),l=n(223);for(var u in l)t[u]=l[u];function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,n,i,r,a,o){return this._write(!0,e,t,n,i,r,a,o)},c.prototype.writeSync=function(e,t,n,i,r,a,o){return this._write(!1,e,t,n,i,r,a,o)},c.prototype._write=function(n,a,o,s,l,u,c,h){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=u,this.strm.next_out=c,this.flush=a,!n)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return i.nextTick(function(){d._process(),d._after()}),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,n,i,a,o){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(e>=8&&e<=15,"invalid windowBits"),r(n>=-1&&n<=9,"invalid compression level"),r(i>=1&&i<=9,"invalid memlevel"),r(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,i,a,o),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,n,i,r,l){switch(this.level=e,this.windowBits=n,this.memLevel=i,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,n(19).Buffer,n(38))},function(e,t,n){var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var i,r=n(72),a=n(218),o=n(134),s=n(135),l=n(219),u=-2,c=258,h=262,d=103,f=113,p=666;function v(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,v=u[a+o-1],g=u[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===g&&u[n+o-1]===v&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<p);if(i=c-(p-a),a=p-c,i>o){if(e.match_start=t,o=i,i>=s)break;v=u[a+o-1],g=u[a+o]}}}while((t=f[t&d])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function x(e){var t,n,i,a,l,u,c,d,f,p,v=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=v+(v-h)){r.arraySet(e.window,e.window,v,v,0),e.match_start-=v,e.strstart-=v,e.block_start-=v,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=v?i-v:0}while(--n);t=n=v;do{i=e.prev[--t],e.prev[t]=i>=v?i-v:0}while(--n);a+=v}if(0===e.strm.avail_in)break;if(c=e.window,d=e.strstart+e.lookahead,p=void 0,(p=(u=e.strm).avail_in)>(f=a)&&(p=f),n=0===p?0:(u.avail_in-=p,r.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=o(u.adler,c,p,d):2===u.state.wrap&&(u.adler=s(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function S(e,t){for(var n,i;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n)),e.match_length>=3)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,i,r;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):v(e,u)}function T(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function I(e,t,n,i,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>9||8!==n||i<8||i>15||t<0||t>9||o<0||o>4)return v(e,u);8===i&&(i=9);var l=new R;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,T(e)}i=[new E(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&b(e,!1),1)}),new E(4,4,8,4,S),new E(4,5,16,8,S),new E(4,6,32,32,S),new E(4,4,16,16,C),new E(8,16,32,32,C),new E(8,16,128,128,C),new E(8,32,128,256,C),new E(32,128,258,1024,C),new E(32,258,258,4096,C)],t.deflateInit=function(e,t){return I(e,t,8,15,8,0)},t.deflateInit2=I,t.deflateReset=T,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,r,o,l;if(!e||!e.state||t>5||t<0)return e?v(e,u):u;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===p&&4!==t)return v(e,0===e.avail_out?-5:u);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,_(r,31),_(r,139),_(r,8),r.gzhead?(_(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),_(r,255&r.gzhead.time),_(r,r.gzhead.time>>8&255),_(r,r.gzhead.time>>16&255),_(r,r.gzhead.time>>24&255),_(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),_(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(_(r,255&r.gzhead.extra.length),_(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(_(r,0),_(r,0),_(r,0),_(r,0),_(r,0),_(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),_(r,3),r.status=f);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=f,w(r,h),0!==r.strstart&&(w(r,e.adler>>>16),w(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending!==r.pending_buf_size));)_(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,_(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,_(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=d)}else r.status=d;if(r.status===d&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&y(e),r.pending+2<=r.pending_buf_size&&(_(r,255&e.adler),_(r,e.adler>>8&255),e.adler=0,r.status=f)):r.status=f),0!==r.pending){if(y(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return v(e,-5);if(r.status===p&&0!==e.avail_in)return v(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==p){var k=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+c;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=c-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==k&&4!==k||(r.status=p),1===k||3===k)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===k&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),y(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(_(r,255&e.adler),_(r,e.adler>>8&255),_(r,e.adler>>16&255),_(r,e.adler>>24&255),_(r,255&e.total_in),_(r,e.total_in>>8&255),_(r,e.total_in>>16&255),_(r,e.total_in>>24&255)):(w(r,e.adler>>>16),w(r,65535&e.adler)),y(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?v(e,u):(e.state=null,t===f?v(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,i,a,s,l,c,h,d,f=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){i=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var i=n(72);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var d=new Array(256);r(d);var f=new Array(29);r(f);var p,v,g,m=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function k(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function x(e,t,n){k(e,n[2*t],n[2*t+1])}function S(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var i,r,a=new Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=S(a[s]++,s))}}function E(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function T(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&A(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!A(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function I(e,t,n){var i,r,s,l,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?x(e,r,t):(x(e,(s=d[r])+256+1,t),0!==(l=a[s])&&k(e,r-=f[s],l),x(e,s=_(--i),n),0!==(l=o[s])&&k(e,i-=m[s],l))}while(u<e.last_lit);x(e,256,t)}function D(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)T(e,a,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],T(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,T(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(a=p,v++),l[2*i+1]=a,i>u||(e.bl_count[a]++,o=0,i>=f&&(o=d[i-f]),e.opt_len+=(s=l[2*i])*(a+o),h&&(e.static_len+=s*(c[2*i+1]+o)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(e,t),C(a,u,e.bl_count)}function O(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<l&&r===o||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))}function P(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<l&&r===o)){if(s<u)do{x(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(x(e,r,e.bl_tree),s--),x(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),k(e,s-3,3)):(x(e,18,e.bl_tree),k(e,s-11,7));s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}}r(m);var M=!1;function L(e,t,n,r){k(e,0+(r?1:0),3),function(e,t,n,r){R(e),w(e,n),w(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){M||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(f[i]=n,e=0;e<1<<a[i];e++)d[n++]=i;for(d[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,e=0;e<1<<o[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,e=0;e<1<<o[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(C(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);p=new y(u,a,257,286,15),v=new y(c,o,0,30,15),g=new y(new Array(0),s,0,19,7)}(),M=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,v),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,E(e)},t._tr_stored_block=L,t._tr_flush_block=function(e,t,n,i){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),o=function(e){var t;for(O(e,e.dyn_ltree,e.l_desc.max_code),O(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?L(e,t,n,i):4===e.strategy||a===r?(k(e,2+(i?1:0),3),I(e,u,c)):(k(e,4+(i?1:0),3),function(e,t,n,i){var r;for(k(e,t-257,5),k(e,n-1,5),k(e,i-4,4),r=0;r<i;r++)k(e,e.bl_tree[2*l[r]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),I(e,e.dyn_ltree,e.dyn_dtree)),E(e),i&&R(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){k(e,2,3),x(e,256,u),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var i=n(72),r=n(134),a=n(135),o=n(221),s=n(222),l=-2,u=12,c=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function v(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,p(e))):l}function g(e,t){var n,i;return e?(i=new d,e.state=i,i.window=null,0!==(n=v(e,t))&&(e.state=null),n):l}var m,y,b=!0;function _(e){if(b){var t;for(m=new i.Buf32(512),y=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=m,e.lenbits=9,e.distcode=y,e.distbits=5}function w(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),i.arraySet(o.window,t,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=p,t.inflateReset2=v,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,d,f,p,v,g,m,y,b,k,x,S,C,E,R,A,T,I,D,O,P,M,L,F,N=0,z=new i.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===u&&(n.mode=13),v=e.next_out,f=e.output,p=e.next_in,d=e.input,y=n.hold,b=n.bits,k=g=e.avail_in,x=m=e.avail_out,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=c;break}if(b-=4,P=8+(15&(y>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&y?10:u,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,z[2]=y>>>16&255,z[3]=y>>>24&255,n.check=a(n.check,z,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>g&&(S=g),S&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,d,p,S,P)),512&n.flags&&(n.check=a(n.check,d,S,p)),g-=S,p+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;S=0;do{P=d[p+S++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&S<g);if(512&n.flags&&(n.check=a(n.check,d,S,p)),g-=S,p+=S,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;S=0;do{P=d[p+S++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&S<g);if(512&n.flags&&(n.check=a(n.check,d,S,p)),g-=S,p+=S,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}e.adler=n.check=h(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=m,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(S>g&&(S=g),S>m&&(S=m),0===S)break e;i.arraySet(f,d,p,S,v),g-=S,p+=S,m-=S,v+=S,n.length-=S;break}n.mode=u;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(n.nlen=257+(31&y),b-=5,n.ndist=1+(31&(y>>>=5)),b-=5,n.ncode=4+(15&(y>>>=5)),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.lens[V[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M=s(0,n.lens,0,19,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,M){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(T<16)y>>>=R,b-=R,n.lens[n.have++]=T;else{if(16===T){for(F=R+2;b<F;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y>>>=R,b-=R,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}P=n.lens[n.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===T){for(F=R+3;b<F;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}b-=R,P=0,S=3+(7&(y>>>=R)),y>>>=3,b-=3}else{for(F=R+7;b<F;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}b-=R,P=0,S=11+(127&(y>>>=R)),y>>>=7,b-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;S--;)n.lens[n.have++]=P}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,M=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,M){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,M=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L={bits:n.distbits}),n.distbits=L.bits,M){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&m>=258){e.next_out=v,e.avail_out=m,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,o(e,x),v=e.next_out,f=e.output,m=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(A&&0==(240&A)){for(I=R,D=A,O=T;A=(N=n.lencode[O+((y&(1<<I+D)-1)>>I)])>>>16&255,T=65535&N,!(I+(R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=R,b-=R,n.back+=R,n.length=T,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=u;break}if(64&A){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(N=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(0==(240&A)){for(I=R,D=A,O=T;A=(N=n.distcode[O+((y&(1<<I+D)-1)>>I)])>>>16&255,T=65535&N,!(I+(R=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=R,b-=R,n.back+=R,64&A){e.msg="invalid distance code",n.mode=c;break}n.offset=T,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===m)break e;if(n.offset>(S=x-m)){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}C=S>n.wnext?n.wsize-(S-=n.wnext):n.wnext-S,S>n.length&&(S=n.length),E=n.window}else E=f,C=v-n.offset,S=n.length;S>m&&(S=m),m-=S,n.length-=S;do{f[v++]=E[C++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;f[v++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=d[p++]<<b,b+=8}if(e.total_out+=x-=m,n.total+=x,x&&(e.adler=n.check=n.flags?a(n.check,f,x,v-x):r(n.check,f,x,v-x)),x=m,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=c;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}y=0,b=0}n.mode=29;case 29:M=1;break e;case c:M=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=v,e.avail_out=m,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||x!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(x-=e.avail_out,e.total_in+=k-=e.avail_in,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?a(n.check,f,x,e.next_out-x):r(n.check,f,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===x||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,t,i,0)!==n.check?-3:w(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,i,r,a,o,s,l,u,c,h,d,f,p,v,g,m,y,b,_,w,k,x,S,C,E;C=e.input,r=(i=e.next_in)+(e.avail_in-5),E=e.output,o=(a=e.next_out)-(t-e.avail_out),s=a+(e.avail_out-257),l=(n=e.state).dmax,u=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,v=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=C[i++]<<p,f+=C[i++]<<(p+=8),p+=8),b=v[f&m];t:for(;;){if(f>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))E[a++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=v[(65535&b)+(f&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(p<_&&(f+=C[i++]<<p,p+=8),w+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=C[i++]<<p,f+=C[i++]<<(p+=8),p+=8),b=g[f&y];n:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,p<(_&=15)&&(f+=C[i++]<<p,(p+=8)<_&&(f+=C[i++]<<p,p+=8)),(k+=f&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=_,p-=_,k>(_=a-o)){if((_=k-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,S=d,0===h){if(x+=u-_,_<w){w-=_;do{E[a++]=d[x++]}while(--_);x=a-k,S=E}}else if(h<_){if(x+=u+h-_,(_-=h)<w){w-=_;do{E[a++]=d[x++]}while(--_);if(x=0,h<w){w-=_=h;do{E[a++]=d[x++]}while(--_);x=a-k,S=E}}}else if(x+=h-_,_<w){w-=_;do{E[a++]=d[x++]}while(--_);x=a-k,S=E}for(;w>2;)E[a++]=S[x++],E[a++]=S[x++],E[a++]=S[x++],w-=3;w&&(E[a++]=S[x++],w>1&&(E[a++]=S[x++]))}else{x=a-k;do{E[a++]=E[x++],E[a++]=E[x++],E[a++]=E[x++],w-=3}while(w>2);w&&(E[a++]=E[x++],w>1&&(E[a++]=E[x++]))}break}}break}}while(i<r&&a<s);i-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=p}},function(e,t,n){var i=n(72),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,h,d){var f,p,v,g,m,y,b,_,w,k=d.bits,x=0,S=0,C=0,E=0,R=0,A=0,T=0,I=0,D=0,O=0,P=null,M=0,L=new i.Buf16(16),F=new i.Buf16(16),N=null,z=0;for(x=0;x<=15;x++)L[x]=0;for(S=0;S<l;S++)L[t[n+S]]++;for(R=k,E=15;E>=1&&0===L[E];E--);if(R>E&&(R=E),0===E)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(C=1;C<E&&0===L[C];C++);for(R<C&&(R=C),I=1,x=1;x<=15;x++)if(I<<=1,(I-=L[x])<0)return-1;if(I>0&&(0===e||1!==E))return-1;for(F[1]=0,x=1;x<15;x++)F[x+1]=F[x]+L[x];for(S=0;S<l;S++)0!==t[n+S]&&(h[F[t[n+S]]++]=S);if(0===e?(P=N=h,y=19):1===e?(P=r,M-=257,N=a,z-=257,y=256):(P=o,N=s,y=-1),O=0,S=0,x=C,m=c,A=R,T=0,v=-1,g=(D=1<<R)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=x-T,h[S]<y?(_=0,w=h[S]):h[S]>y?(_=N[z+h[S]],w=P[M+h[S]]):(_=96,w=0),f=1<<x-T,C=p=1<<A;do{u[m+(O>>T)+(p-=f)]=b<<24|_<<16|w|0}while(0!==p);for(f=1<<x-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,S++,0==--L[x]){if(x===E)break;x=t[n+h[S]]}if(x>R&&(O&g)!==v){for(0===T&&(T=R),m+=C,I=1<<(A=x-T);A+T<E&&!((I-=L[A+T])<=0);)A++,I<<=1;if(D+=1<<A,1===e&&D>852||2===e&&D>592)return 1;u[v=O&g]=R<<24|A<<16|m-c|0}}return 0!==O&&(u[m+O]=x-T<<24|64<<16|0),d.bits=R,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var i=n(19).Buffer,r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function a(e){if(i.isBuffer(e))return e;var t="function"==typeof i.alloc&&"function"==typeof i.from;if("number"==typeof e)return t?i.alloc(e):new i(e);if("string"==typeof e)return t?i.from(e):new i(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function o(e,t){e=a(e),i.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,o=0;o<e.length;o++)n=r[255&(n^e[o])]^n>>>8;return-1^n}function s(){return e=o.apply(null,arguments),(t=a(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(r=new Int32Array(r)),s.signed=function(){return o.apply(null,arguments)},s.unsigned=function(){return o.apply(null,arguments)>>>0},e.exports=s},function(e,t,n){var i=n(226),r=n(229);function a(e){return(a="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e})(e)}function o(t){return e.exports=o="function"==typeof r&&"symbol"===a(i)?function(e){return a(e)}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":a(e)},o(t)}e.exports=o},function(e,t,n){e.exports=n(227)},function(e,t,n){e.exports=n(228)},function(e,t,n){n(136),n(46),n(41);var i=n(95);e.exports=i.f("iterator")},function(e,t,n){e.exports=n(230)},function(e,t,n){e.exports=n(231),n(249),n(250),n(251),n(252),n(253)},function(e,t,n){n(114),n(88),n(232),n(234),n(235),n(236),n(237),n(136),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248);var i=n(3);e.exports=i.Symbol},function(e,t,n){var i=n(0),r=n(13),a=n(4),o=n(17),s=n(110),l=n(12),u=n(24),c=n(53),h=n(14),d=n(2),f=n(22),p=n(28),v=n(62),g=n(43),m=n(44),y=n(51),b=n(137),_=n(233),w=n(138),k=n(81),x=n(21),S=n(65),C=n(20),E=n(52),R=n(61),A=n(63),T=n(50),I=n(64),D=n(6),O=n(95),P=n(11),M=n(36),L=n(42),F=n(45).forEach,N=A("hidden"),z=D("toPrimitive"),V=L.set,j=L.getterFor("Symbol"),B=Object.prototype,H=r.Symbol,q=r.JSON,U=q&&q.stringify,W=k.f,G=x.f,$=_.f,Y=S.f,Z=R("symbols"),K=R("op-symbols"),X=R("string-to-symbol-registry"),Q=R("symbol-to-string-registry"),J=R("wks"),ee=r.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=o&&l(function(){return 7!=m(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=W(B,t);i&&delete B[t],G(e,t,n),i&&e!==B&&G(B,t,i)}:G,ie=function(e,t){var n=Z[e]=m(H.prototype);return V(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},re=s&&"symbol"==typeof H.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},ae=function e(t,n,i){t===B&&e(K,n,i),d(t);var r=v(n,!0);return d(i),u(Z,r)?(i.enumerable?(u(t,N)&&t[N][r]&&(t[N][r]=!1),i=m(i,{enumerable:g(0,!1)})):(u(t,N)||G(t,N,g(1,{})),t[N][r]=!0),ne(t,r,i)):G(t,r,i)},oe=function(e,t){d(e);var n=p(t),i=y(n).concat(ce(n));return F(i,function(t){o&&!se.call(n,t)||ae(e,t,n[t])}),e},se=function(e){var t=v(e,!0),n=Y.call(this,t);return!(this===B&&u(Z,t)&&!u(K,t))&&(!(n||!u(this,t)||!u(Z,t)||u(this,N)&&this[N][t])||n)},le=function(e,t){var n=p(e),i=v(t,!0);if(n!==B||!u(Z,i)||u(K,i)){var r=W(n,i);return!r||!u(Z,i)||u(n,N)&&n[N][i]||(r.enumerable=!0),r}},ue=function(e){var t=$(p(e)),n=[];return F(t,function(e){u(Z,e)||u(T,e)||n.push(e)}),n},ce=function(e){var t=e===B,n=$(t?K:p(e)),i=[];return F(n,function(e){!u(Z,e)||t&&!u(B,e)||i.push(Z[e])}),i};s||(E((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function e(n){this===B&&e.call(K,n),u(this,N)&&u(this[N],t)&&(this[N][t]=!1),ne(this,t,g(1,n))};return o&&te&&ne(B,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",function(){return j(this).tag}),S.f=se,x.f=ae,k.f=le,b.f=_.f=ue,w.f=ce,o&&(G(H.prototype,"description",{configurable:!0,get:function(){return j(this).description}}),a||E(B,"propertyIsEnumerable",se,{unsafe:!0})),O.f=function(e){return ie(D(e),e)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),F(y(J),function(e){P(e)}),i({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(X,t))return X[t];var n=H(t);return X[t]=n,Q[n]=t,n},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(u(Q,e))return Q[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(e,t){return void 0===t?m(e):oe(m(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ue,getOwnPropertySymbols:ce}),i({target:"Object",stat:!0,forced:l(function(){w.f(1)})},{getOwnPropertySymbols:function(e){return w.f(f(e))}}),q&&i({target:"JSON",stat:!0,forced:!s||l(function(){var e=H();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))})},{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(h(t)||void 0!==e)&&!re(e))return c(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!re(t))return t}),i[1]=t,U.apply(q,i)}}),H.prototype[z]||C(H.prototype,z,H.prototype.valueOf),M(H,"Symbol"),T[N]=!0},function(e,t,n){var i=n(28),r=n(137).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(i(e))}},function(e,t,n){n(11)("asyncIterator")},function(e,t){},function(e,t,n){n(11)("hasInstance")},function(e,t,n){n(11)("isConcatSpreadable")},function(e,t,n){n(11)("match")},function(e,t,n){n(11)("matchAll")},function(e,t,n){n(11)("replace")},function(e,t,n){n(11)("search")},function(e,t,n){n(11)("species")},function(e,t,n){n(11)("split")},function(e,t,n){n(11)("toPrimitive")},function(e,t,n){n(11)("toStringTag")},function(e,t,n){n(11)("unscopables")},function(e,t,n){n(36)(Math,"Math",!0)},function(e,t,n){var i=n(13);n(36)(i.JSON,"JSON",!0)},function(e,t,n){n(11)("asyncDispose")},function(e,t,n){n(11)("dispose")},function(e,t,n){n(11)("observable")},function(e,t,n){n(11)("patternMatch")},function(e,t,n){n(11)("replaceAll")},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(256)},function(e,t,n){e.exports=n(257)},function(e,t,n){n(258);var i=n(3);e.exports=i.Object.getPrototypeOf},function(e,t,n){var i=n(0),r=n(12),a=n(22),o=n(66),s=n(109);i({target:"Object",stat:!0,forced:r(function(){o(1)}),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){e.exports=n(260)},function(e,t,n){n(261);var i=n(3);e.exports=i.Object.setPrototypeOf},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(86)})},function(e,t,n){e.exports=n(263)},function(e,t,n){n(264);var i=n(3).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){n(0)({target:"Object",stat:!0,sham:!n(17)},{create:n(44)})},function(e,t,n){var i=n(140),r=n(266),a=n(27),o=n(96),s=n(295),l=n(300);function u(t){var n="function"==typeof r?new r:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,a(this).constructor)}return t.prototype=i(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},u(t)}e.exports=u},function(e,t,n){e.exports=n(267)},function(e,t,n){e.exports=n(268),n(273),n(275),n(277),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294)},function(e,t,n){n(269),n(88),n(46),n(41);var i=n(3);e.exports=i.Map},function(e,t,n){var i=n(270),r=n(272);e.exports=i("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r,!0)},function(e,t,n){var i=n(0),r=n(13),a=n(141),o=n(12),s=n(20),l=n(8),u=n(89),c=n(14),h=n(36),d=n(21).f,f=n(45).forEach,p=n(17),v=n(42),g=v.set,m=v.getterFor;e.exports=function(e,t,n,v,y){var b,_=r[e],w=_&&_.prototype,k=v?"set":"add",x={};if(p&&"function"==typeof _&&(y||w.forEach&&!o(function(){(new _).entries().next()}))){b=t(function(t,n){g(u(t,b,e),{type:e,collection:new _}),null!=n&&l(n,t[k],t,v)});var S=m(e);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"==e||"set"==e;e in w&&(!y||"clear"!=e)&&s(b.prototype,e,function(n,i){var r=S(this).collection;if(!t&&y&&!c(n))return"get"==e&&void 0;var a=r[e](0===n?0:n,i);return t?this:a})}),y||d(b.prototype,"size",{get:function(){return S(this).collection.size}})}else b=n.getConstructor(t,e,v,k),a.REQUIRED=!0;return h(b,e,!1,!0),x[e]=b,i({global:!0,forced:!0},x),y||n.setStrong(b,e,v),b}},function(e,t,n){var i=n(12);e.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var i=n(21).f,r=n(44),a=n(117),o=n(15),s=n(89),l=n(8),u=n(80),c=n(118),h=n(17),d=n(141).fastKey,f=n(42),p=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,i){s(e,c,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=i&&l(i,e[u],e,n)}),f=v(t),g=function(e,t,n){var i,r,a=f(e),o=m(e,t);return o?o.value=n:(a.last=o={index:r=d(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),h?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},m=function(e,t){var n,i=f(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(c.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=f(this),n=m(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),a(c.prototype,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),h&&i(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,n){var i=t+" Iterator",r=v(t),a=v(i);u(e,t,function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){n(0)({target:"Map",stat:!0},{from:n(274)})},function(e,t,n){var i=n(5),r=n(15),a=n(8);e.exports=function(e){var t,n,o,s,l=arguments.length,u=l>1?arguments[1]:void 0;return i(this),(t=void 0!==u)&&i(u),null==e?new this:(n=[],t?(o=0,s=r(u,l>2?arguments[2]:void 0,2),a(e,function(e){n.push(s(e,o++))})):a(e,n.push,n),new this(n))}},function(e,t,n){n(0)({target:"Map",stat:!0},{of:n(276)})},function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t,n){var i=n(0),r=n(4),a=n(278);i({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return a.apply(this,arguments)}})},function(e,t,n){var i=n(2),r=n(5);e.exports=function(){for(var e,t=i(this),n=r(t.delete),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(15),s=n(25),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{every:function(e){var t=a(this),n=s(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e,n){if(!i(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){var i=n(0),r=n(4),a=n(26),o=n(2),s=n(5),l=n(15),u=n(55),c=n(25),h=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{filter:function(e){var t=o(this),n=c(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(u(t,a("Map"))),d=s(r.set);return h(n,function(e,n){i(n,e,t)&&d.call(r,e,n)},void 0,!0,!0),r}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(15),s=n(25),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{find:function(e){var t=a(this),n=s(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(i(n,e,t))return l.stop(n)},void 0,!0,!0).result}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(15),s=n(25),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{findKey:function(e){var t=a(this),n=s(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(i(n,e,t))return l.stop(e)},void 0,!0,!0).result}})},function(e,t,n){var i=n(0),r=n(8),a=n(5);i({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;a(t);var i=a(n.has),o=a(n.get),s=a(n.set);return r(e,function(e){var r=t(e);i.call(n,r)?o.call(n,r).push(e):s.call(n,r,[e])}),n}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(25),s=n(285),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{includes:function(e){return l(o(a(this)),function(t,n){if(s(n,e))return l.stop()},void 0,!0,!0).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(0),r=n(8),a=n(5);i({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;a(t);var i=a(n.set);return r(e,function(e){i.call(n,t(e),e)}),n}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(25),s=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{keyOf:function(e){return s(o(a(this)),function(t,n){if(n===e)return s.stop(t)},void 0,!0,!0).result}})},function(e,t,n){var i=n(0),r=n(4),a=n(26),o=n(2),s=n(5),l=n(15),u=n(55),c=n(25),h=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(e){var t=o(this),n=c(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(u(t,a("Map"))),d=s(r.set);return h(n,function(e,n){d.call(r,i(n,e,t),n)},void 0,!0,!0),r}})},function(e,t,n){var i=n(0),r=n(4),a=n(26),o=n(2),s=n(5),l=n(15),u=n(55),c=n(25),h=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(e){var t=o(this),n=c(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(u(t,a("Map"))),d=s(r.set);return h(n,function(e,n){d.call(r,e,i(n,e,t))},void 0,!0,!0),r}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(5),s=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{merge:function(e){for(var t=a(this),n=o(t.set),i=0;i<arguments.length;)s(arguments[i++],n,t,!0);return t}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(5),s=n(25),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{reduce:function(e){var t,n,i=a(this),r=s(i);if(o(e),arguments.length>1)t=arguments[1];else{if((n=r.next()).done)throw TypeError("Reduce of empty map with no initial value");t=n.value[1]}return l(r,function(n,r){t=e(t,r,n,i)},void 0,!0,!0),t}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(15),s=n(25),l=n(8);i({target:"Map",proto:!0,real:!0,forced:r},{some:function(e){var t=a(this),n=s(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(i(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(5);i({target:"Map",proto:!0,real:!0,forced:r},{update:function(e,t){var n=a(this),i=arguments.length;o(t);var r=n.has(e);if(!r&&i<3)throw TypeError("Updating absent value");var s=r?n.get(e):o(i>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},function(e,t,n){var i=n(0),r=n(4),a=n(2),o=n(5);i({target:"Map",proto:!0,real:!0,forced:r},{updateOrInsert:function(e,t,n){var i=a(this);o(t),o(n);var r=i.has(e)?t(i.get(e)):n();return i.set(e,r),r}})},function(e,t,n){var i=n(296);e.exports=function(e){var t;return-1!==i(t=Function.toString.call(e)).call(t,"[native code]")}},function(e,t,n){e.exports=n(297)},function(e,t,n){e.exports=n(143)},function(e,t,n){n(299);var i=n(18);e.exports=i("Array").indexOf},function(e,t,n){var i=n(0),r=n(82).indexOf,a=n(54),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf");i({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(301),r=n(305),a=n(96);function o(t,n,s){return e.exports=o=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],function(){})),!0}catch(e){return!1}}()?r:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(i(Function).apply(e,r));return n&&a(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){e.exports=n(302)},function(e,t,n){e.exports=n(144)},function(e,t,n){n(304);var i=n(18);e.exports=i("Function").bind},function(e,t,n){n(0)({target:"Function",proto:!0},{bind:n(145)})},function(e,t,n){e.exports=n(306)},function(e,t,n){e.exports=n(307)},function(e,t,n){n(308);var i=n(3);e.exports=i.Reflect.construct},function(e,t,n){var i=n(0),r=n(26),a=n(5),o=n(2),s=n(14),l=n(44),u=n(145),c=n(12),h=r("Reflect","construct"),d=c(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),f=!c(function(){h(function(){})}),p=d||f;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(f&&!d)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(u.apply(e,i))}var r=n.prototype,c=l(s(r)?r:Object.prototype),p=Function.apply.call(e,c,t);return s(p)?p:c}})},function(e,t,n){(function(t){var i=n(1),r=i(n(97)),a=i(n(7)),o=i(n(10)),s=n(9).CramMalformedError,l=n(73),u=n(315),c=n(316),h=n(317),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,a.default)(this,e),this._buffer=t,this._position=n,this.length=t.length}return(0,o.default)(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return(0,r.default)(n).call(n,0),n;var a=new d(e,i),o=a.get();if(0!==o&&1!==o)throw new s("Invalid rANS order ".concat(o));if(a.getInt()!==a.remaining()-4)throw new s("Incorrect input length.");var f=a.getInt(),p=new d(n||t.allocUnsafe(f));if(p.length<f)throw new s("Output buffer too small to fit ".concat(f," bytes."));switch(o){case 0:return function(e,t){for(var n=new l.AriDecoder,i=new Array(256),r=0;r<i.length;r+=1)i[r]=new l.Symbol;return u.readStatsO0(e,n,i),c.uncompress(e,n,i,t),t}(a,p);case 1:return function(e,t){for(var n=new Array(256),i=0;i<n.length;i+=1)n[i]=new l.AriDecoder;for(var r=new Array(256),a=0;a<r.length;a+=1){r[a]=new Array(256);for(var o=0;o<r[a].length;o+=1)r[a][o]=new l.Symbol}return u.readStatsO1(e,n,r),h.uncompress(e,t,n,r),t}(a,p);default:throw new s("Invalid rANS order: ".concat(o))}}}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(311)},function(e,t,n){var i=n(312),r=Array.prototype;e.exports=function(e){var t=e.fill;return e===r||e instanceof Array&&t===r.fill?i:t}},function(e,t,n){n(313);var i=n(18);e.exports=i("Array").fill},function(e,t,n){var i=n(0),r=n(314),a=n(78);i({target:"Array",proto:!0},{fill:r}),a("fill")},function(e,t,n){var i=n(22),r=n(84),a=n(29);e.exports=function(e){for(var t=i(this),n=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)t[s++]=e;return t}},function(e,t,n){var i=n(1)(n(97)),r=n(9).CramMalformedError,a=n(74),o=n(73);function s(e){if(!e)throw new r("assertion failed")}e.exports={readStatsO0:function(e,t,n){var r=0,l=0,u=255&e.get();do{var c;null==t.fc[u]&&(t.fc[u]=new o.FC),t.fc[u].F=255&e.get(),t.fc[u].F>=128&&(t.fc[u].F&=-129,t.fc[u].F=(127&t.fc[u].F)<<8|255&e.get()),t.fc[u].C=l,o.symbolInit(n[u],t.fc[u].C,t.fc[u].F),t.R||(t.R=new Array(a.TOTFREQ)),(0,i.default)(c=t.R).call(c,u,l,l+t.fc[u].F),l+=t.fc[u].F,0===r&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),r=255&e.get()):0!==r?(r-=1,u+=1):u=255&e.get()}while(0!==u);s(l<a.TOTFREQ)},readStatsO1:function(e,t,n){var r=0,l=255&e.get();do{var u=0,c=0,h=255&e.get();null==t[l]&&(t[l]=new o.AriDecoder);do{var d;null==t[l].fc[h]&&(t[l].fc[h]=new o.FC),t[l].fc[h].F=255&e.get(),t[l].fc[h].F>=128&&(t[l].fc[h].F&=-129,t[l].fc[h].F=(127&t[l].fc[h].F)<<8|255&e.get()),t[l].fc[h].C=c,0===t[l].fc[h].F&&(t[l].fc[h].F=a.TOTFREQ),null==n[l][h]&&(n[l][h]=new o.RansDecSymbol),o.symbolInit(n[l][h],t[l].fc[h].C,t[l].fc[h].F),null==t[l].R&&(t[l].R=new Array(a.TOTFREQ)),(0,i.default)(d=t[l].R).call(d,h,c,c+t[l].fc[h].F),s((c+=t[l].fc[h].F)<=a.TOTFREQ),0===u&&h+1===(255&e.getByteAt(e.position()))?(h=255&e.get(),u=255&e.get()):0!==u?(u-=1,h+=1):h=255&e.get()}while(0!==h);0===r&&l+1===(255&e.getByteAt(e.position()))?(l=255&e.get(),r=255&e.get()):0!==r?(r-=1,l+=1):l=255&e.get()}while(0!==l)}}},function(e,t,n){var i=n(9).CramMalformedError,r=n(74),a=n(73);e.exports={uncompress:function(e,t,n,o){for(var s,l=e.getInt(),u=e.getInt(),c=e.getInt(),h=e.getInt(),d=o.remaining(),f=-4&d,p=0;p<f;p+=4){var v=t.R[a.get(l,r.TF_SHIFT)],g=t.R[a.get(u,r.TF_SHIFT)],m=t.R[a.get(c,r.TF_SHIFT)],y=t.R[a.get(h,r.TF_SHIFT)];o.putAt(p,v),o.putAt(p+1,g),o.putAt(p+2,m),o.putAt(p+3,y),l=a.advanceSymbolStep(l,n[255&v],r.TF_SHIFT),u=a.advanceSymbolStep(u,n[255&g],r.TF_SHIFT),c=a.advanceSymbolStep(c,n[255&m],r.TF_SHIFT),h=a.advanceSymbolStep(h,n[255&y],r.TF_SHIFT),l=a.renormalize(l,e),u=a.renormalize(u,e),c=a.renormalize(c,e),h=a.renormalize(h,e)}switch(o.setPosition(f),3&d){case 0:break;case 1:s=t.R[a.get(l,r.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],r.TF_SHIFT),o.put(s);break;case 2:s=t.R[a.get(l,r.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],r.TF_SHIFT),o.put(s),s=t.R[a.get(u,r.TF_SHIFT)],a.advanceSymbol(u,e,n[255&s],r.TF_SHIFT),o.put(s);break;case 3:s=t.R[a.get(l,r.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],r.TF_SHIFT),o.put(s),s=t.R[a.get(u,r.TF_SHIFT)],a.advanceSymbol(u,e,n[255&s],r.TF_SHIFT),o.put(s),s=t.R[a.get(c,r.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],r.TF_SHIFT),o.put(s);break;default:throw new i("invalid output size encountered during rANS decoding")}o.setPosition(0)}}},function(e,t,n){var i=n(74),r=n(73);e.exports={uncompress:function(e,t,n,a){for(var o=t.remaining(),s=e.getInt(),l=e.getInt(),u=e.getInt(),c=e.getInt(),h=o>>2,d=0,f=h,p=2*h,v=3*h,g=0,m=0,y=0,b=0;d<h;d+=1,f+=1,p+=1,v+=1){var _=255&n[g].R[r.get(s,i.TF_SHIFT)],w=255&n[m].R[r.get(l,i.TF_SHIFT)],k=255&n[y].R[r.get(u,i.TF_SHIFT)],x=255&n[b].R[r.get(c,i.TF_SHIFT)];t.putAt(d,_),t.putAt(f,w),t.putAt(p,k),t.putAt(v,x),s=r.advanceSymbolStep(s,a[g][_],i.TF_SHIFT),l=r.advanceSymbolStep(l,a[m][w],i.TF_SHIFT),u=r.advanceSymbolStep(u,a[y][k],i.TF_SHIFT),c=r.advanceSymbolStep(c,a[b][x],i.TF_SHIFT),s=r.renormalize(s,e),l=r.renormalize(l,e),u=r.renormalize(u,e),c=r.renormalize(c,e),g=_,m=w,y=k,b=x}for(;v<o;v+=1){var S=255&n[b].R[r.get(c,i.TF_SHIFT)];t.putAt(v,S),c=r.advanceSymbol(c,e,a[b][S],i.TF_SHIFT),b=S}}}},function(e,t,n){var i=n(1),r=i(n(98)),a=i(n(16)),o=i(n(75)),s=n(326).Parser,l=(new s).itf8(),u={parser:(new s).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},c={parser:(new s).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},h={parser:(new s).uint32("crc32"),maxLength:4},d=(new s).itf8("size").buffer("ents",{length:"size",formatter:function(e){function t(t,n){for(var i=e.toString("utf8",t,n),r=[],a=0;a<i.length;a+=3)r.push(i.substr(a,3));return r}var n,i=[],r=0;for(n=0;n<e.length;n+=1)e[n]||(i.push(t(r,n)),r=n+1);return n>r&&i.push(t(r,n)),i}}),f=(new s).uint8(null,{formatter:function(e){return!!e}}),p=(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:f,UI:f,PI:f,RN:f,AP:f,RR:f,SM:(new s).array(null,{type:"uint8",length:5}),TD:(new s).nest(null,{type:d,formatter:function(e){return e.ents}})}})});function v(e){for(var t={},n=0;n<e.ents.length;n+=1){var i=e.ents[n],r=i.key,a=i.value;t[r]&&console.warn("duplicate key ".concat(r," in map")),t[r]=a}return t}var g={cramFileDefinition:u,cramBlockHeader:c,cramBlockCrc32:h},m={cramUnmappedSliceHeader:function(e){var t=0,n=(new s).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:l,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new s).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:l,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new s).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new s,1:(new s).itf8("blockContentId"),2:(new s).itf8("offset").itf8("M"),3:s.start().itf8("numCodes").array("symbols",{length:"numCodes",type:l}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:l}),4:s.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new s).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new s).itf8("offset").itf8("length"),7:(new s).itf8("offset").itf8("K"),8:(new s).itf8("offset").itf8("log2m"),9:(new s).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new s;return{parser:t=t.nest("preservation",{type:p,formatter:v}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:v}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:v})}},cramContainerHeader1:function(e){var t=(new s).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new s).itf8("numLandmarks").array("landmarks",{type:(new s).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:u,getSectionParsers:function(e){var t,n=(0,o.default)({},g);return(0,a.default)(t=(0,r.default)(m)).call(t,function(t){n[t]=m[t](e)}),n}}},function(e,t,n){e.exports=n(320)},function(e,t,n){n(321);var i=n(3);e.exports=i.Object.keys},function(e,t,n){var i=n(0),r=n(22),a=n(51);i({target:"Object",stat:!0,forced:n(12)(function(){a(1)})},{keys:function(e){return a(r(e))}})},function(e,t,n){e.exports=n(323)},function(e,t,n){n(324);var i=n(3);e.exports=i.Object.assign},function(e,t,n){var i=n(0),r=n(325);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){var i=n(17),r=n(12),a=n(51),o=n(138),s=n(65),l=n(22),u=n(60),c=Object.assign;e.exports=!c||r(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||"abcdefghijklmnopqrst"!=a(c({},t)).join("")})?function(e,t){for(var n=l(e),r=arguments.length,c=1,h=o.f,d=s.f;r>c;)for(var f,p=u(arguments[c++]),v=h?a(p).concat(h(p)):a(p),g=v.length,m=0;g>m;)f=v[m++],i&&!d.call(p,f)||(n[f]=p[f]);return n}:c},function(e,t,n){(function(e){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(327),a=n(328).Context,o=n(146);"undefined"!=typeof window&&(window.Buffer=e),"undefined"!=typeof self&&(self.Buffer=e);var s={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8,UInt64:8,Int64:8},l={},u=[];!function(){var e;for(e=1;e<=32;e++)u.push(e)}();var c={};Object.keys(s).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach(function(e){c[e.toLowerCase()]=e});var h=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};h.start=function(){return new h},Object.keys(s).forEach(function(e){h.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in h.prototype||(h.prototype[t]=function(e,n){return this[t+this.endian](e,n)})}),u.forEach(function(e){h.prototype["bit".concat(e.toString())]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}}),h.prototype.namely=function(e){return l[e]=this,this.alias=e,this},h.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},h.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},h.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},h.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!l[t.type]&&Object.keys(s).indexOf(c[t.type])<0)throw new Error('Specified primitive type "'.concat(t.type,'" is not supported.'));return this.setNextParser("array",e,t)},h.prototype.choice=function(e,t){if(1===arguments.length&&"object"===i(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach(function(n){if(!t.choices[n])throw new Error("Choice Case ".concat(n," of ").concat(e," is not valid."));if("string"==typeof t.choices[n]&&!l[t.choices[n]]&&Object.keys(s).indexOf(c[t.choices[n]])<0)throw new Error('Specified primitive type "'.concat(t.choices[n],'" is not supported.'))},this),this.setNextParser("choice",e,t)},h.prototype.nest=function(e,t){if(1===arguments.length&&"object"===i(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof h||l[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof h||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},h.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: ".concat(e))}return this},h.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},h.prototype.getCode=function(){var e=new a;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},h.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},h.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},h.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach(function(t){l[t].addAliasedCode(e)})},h.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { ".concat(this.getCode()," })");this.compiled=r.runInThisContext(e)},h.prototype.sizeOf=function(){var e=NaN;if(Object.keys(s).indexOf(this.type)>=0)e=s[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=s[c[this.options.type]]:this.options.type instanceof h&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},h.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,o)},h.prototype.setNextParser=function(e,t,n){var i=new h;return i.type=c[e],i.varName=t,i.options=n||i.options,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this},h.prototype.generate=function(e){this.type&&(this["generate".concat(this.type)](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},h.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(i(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},h.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(s).forEach(function(e){h.prototype["generate".concat(e)]=function(t){t.pushCode("UInt64"===e?"{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();":"Int64"===e?"{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();":"{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",s[e])}}),h.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach(function(e){n+=e.options.length});var i=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",i),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),n=16;else if(n<=24){var r=e.generateTmpVariable(),a=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",a),e.pushCode("var {2} = ({0} << 8) | {1};",r,a,i),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",i),n=32}e.pushCode("offset += {0};",n/8);var o=0,s="be"===this.endian;e.bitFields.forEach(function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,i,s?n-o-t.options.length:o,(1<<t.options.length)-1),o+=t.options.length}),e.bitFields=[]}},h.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},h.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},h.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},h.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),i=this.options.type,r=e.generateTmpVariable(),a=e.generateVariable(this.varName),o=e.generateTmpVariable(),u=this.options.key,d="string"==typeof u;if(e.pushCode(d?"{0} = {};":"{0} = [];",a),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",r):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",r,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",r,t),"string"==typeof i)if(l[i]){var f=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",f,"___parser_"+i),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",o,f),i!==this.alias&&e.addReference(i)}else e.pushCode("var {0} = buffer.read{1}(offset);",o,c[i]),e.pushCode("offset += {0};",s[c[i]]);else i instanceof h&&(e.pushCode("var {0} = {};",o),e.pushScope(o),i.generate(e),e.popScope());d?e.pushCode("{0}[{2}.{1}] = {2};",a,u,o):e.pushCode("{0}.push({1});",a,o),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,o)},h.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(l[n]){var i=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",i,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),i),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),c[n]),e.pushCode("offset += {0};",s[c[n]]);else n instanceof h&&(e.pushPath(t),n.generate(e),e.popPath(t))},h.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach(function(t){var n=this.options.choices[t];Number.isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")},this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},h.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof h)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(l[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},h.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},h.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},h.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},h.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},h.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},h.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},h.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=h}).call(this,n(19).Buffer)},function(e,t){var n=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},i=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},r=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(Zs){return function(e,t,n){e[t]=n}}}(),a=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function o(){}o.prototype={};var s=t.Script=function(e){if(!(this instanceof s))return new s(e);this.code=e};s.prototype.runInContext=function(e){if(!(e instanceof o))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var s=t.contentWindow,l=s.eval,u=s.execScript;!l&&u&&(u.call(s,"null"),l=s.eval),i(n(e),function(t){s[t]=e[t]}),i(a,function(t){e[t]&&(s[t]=e[t])});var c=n(s),h=l.call(s,this.code);return i(n(s),function(t){(t in e||-1===function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}(c,t))&&(e[t]=s[t])}),i(a,function(t){t in e||r(e,t,s[t])}),document.body.removeChild(t),h},s.prototype.runInThisContext=function(){return hh(this.code)},s.prototype.runInNewContext=function(e){var t=s.createContext(e),r=this.runInContext(t);return e&&i(n(t),function(n){e[n]=t[n]}),r},i(n(s.prototype),function(e){t[e]=s[e]=function(t){var n=s(t);return n[e].apply(n,[].slice.call(arguments,1))}}),t.isContext=function(e){return e instanceof o},t.createScript=function(e){return t.Script(e)},t.createContext=s.createContext=function(e){var t=new o;return"object"==typeof e&&i(n(e),function(n){t[n]=e[n]}),t}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};r.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},r.prototype.generateOption=function(e){switch(i(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"(".concat(e,").call(").concat(this.generateVariable(),", vars)");default:return}},r.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=r.interpolate.apply(this,e);this.pushCode(this.isAsync?"return process.nextTick(function() { callback(new Error(".concat(t,"), vars); });"):"throw new Error(".concat(t,");"))},r.prototype.generateTmpVariable=function(){return"$tmp".concat(this.tmpVariableCount++)},r.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+="".concat(r.interpolate.apply(this,e),"\n")},r.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},r.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},r.prototype.pushScope=function(e){this.scopes.push([e])},r.prototype.popScope=function(){this.scopes.pop()},r.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},r.prototype.markResolved=function(e){this.references[e].resolved=!0},r.prototype.markRequested=function(e){e.forEach((function(e){this.references[e].requested=!0}).bind(this))},r.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter(function(t){return!e[t].resolved&&!e[t].requested})},r.interpolate=function(e){var t=/{\d+}/g,n=e.match(t),i=Array.prototype.slice.call(arguments,1);return n&&n.forEach(function(t){var n=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,i[n].toString())}),e},t.Context=r},function(e,t,n){(function(t){var i,r=n(1),a=r(n(16)),o=r(n(75)),s=r(n(37)),l=r(n(30)),u=r(n(31)),c=r(n(7)),h=r(n(10)),d=n(9).CramMalformedError,f=n(58),p=f.itf8Size,v=f.parseItem,g=f.tinyMemoize,m=n(334),y=n(390),b=function(){function e(t,n){(0,c.default)(this,e),this.file=t,this.filePosition=n}var n,i,r,a;return(0,h.default)(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(a=(0,u.default)(l.default.mark(function e(){var t,n,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.file.getSectionParsers();case 7:return t=e.sent,e.next=10,this.getFirstBlock();case 10:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=13;break}throw new d("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 13:return i=v(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),n.content=i,e.abrupt("return",n);case 16:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"getFirstBlock",value:(r=(0,u.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return e.abrupt("return",this.file.readBlock(e.sent._endPosition));case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=(0,u.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",new y(t.content));case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new m(this,e,t)}},{key:"_readContainerHeader",value:(n=(0,u.default)(l.default.mark(function e(n){var i,r,a,u,c,h,d,f,g,m,y,b;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return r=(i=e.sent).cramContainerHeader1,a=i.cramContainerHeader2,e.next=6,this.file.stat();case 6:if(!(n>=(u=e.sent.size))){e.next=10;break}return e.abrupt("return",void 0);case 10:return c=t.allocUnsafe(r.maxLength),e.next=13,this.file.read(c,0,r.maxLength,n);case 13:if(h=v(c,r.parser),d=p(h.numLandmarks),!(n+h.length>=u)){e.next=18;break}return console.warn((0,s.default)(f=(0,s.default)(g="".concat(this.file,": container header at ")).call(g,n," indicates that the container has length ")).call(f,h.length,", which extends beyond the length of the file. Skipping this container.")),e.abrupt("return",void 0);case 18:return m=t.allocUnsafe(a.maxLength(h.numLandmarks)),e.next=21,this.file.read(m,0,a.maxLength(h.numLandmarks),n+h._size-d);case 21:if(y=v(m,a.parser),!this.file.validateChecksums||void 0===y.crc32){e.next=25;break}return e.next=25,this.file.checkCrc32(n,h._size+y._size-d-4,y.crc32,"container header beginning at position ".concat(n));case 25:return b=(0,o.default)(h,y,{_size:h._size+y._size-d,_endPosition:h._size+y._size-d+n}),e.abrupt("return",b);case 27:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();(0,a.default)(i="getHeader getCompressionHeaderBlock getCompressionScheme".split(" ")).call(i,function(e){return g(b,e)}),e.exports=b}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(115)},function(e,t,n){var i,r,a,o,s;i=n(332),r=n(147).utf8,a=n(333),o=n(147).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):r.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=i.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,h=-1732584194,d=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var p=s._ff,v=s._gg,g=s._hh,m=s._ii;for(f=0;f<n.length;f+=16){var y=u,b=c,_=h,w=d;u=p(u,c,h,d,n[f+0],7,-680876936),d=p(d,u,c,h,n[f+1],12,-389564586),h=p(h,d,u,c,n[f+2],17,606105819),c=p(c,h,d,u,n[f+3],22,-1044525330),u=p(u,c,h,d,n[f+4],7,-176418897),d=p(d,u,c,h,n[f+5],12,1200080426),h=p(h,d,u,c,n[f+6],17,-1473231341),c=p(c,h,d,u,n[f+7],22,-45705983),u=p(u,c,h,d,n[f+8],7,1770035416),d=p(d,u,c,h,n[f+9],12,-1958414417),h=p(h,d,u,c,n[f+10],17,-42063),c=p(c,h,d,u,n[f+11],22,-1990404162),u=p(u,c,h,d,n[f+12],7,1804603682),d=p(d,u,c,h,n[f+13],12,-40341101),h=p(h,d,u,c,n[f+14],17,-1502002290),u=v(u,c=p(c,h,d,u,n[f+15],22,1236535329),h,d,n[f+1],5,-165796510),d=v(d,u,c,h,n[f+6],9,-1069501632),h=v(h,d,u,c,n[f+11],14,643717713),c=v(c,h,d,u,n[f+0],20,-373897302),u=v(u,c,h,d,n[f+5],5,-701558691),d=v(d,u,c,h,n[f+10],9,38016083),h=v(h,d,u,c,n[f+15],14,-660478335),c=v(c,h,d,u,n[f+4],20,-405537848),u=v(u,c,h,d,n[f+9],5,568446438),d=v(d,u,c,h,n[f+14],9,-1019803690),h=v(h,d,u,c,n[f+3],14,-187363961),c=v(c,h,d,u,n[f+8],20,1163531501),u=v(u,c,h,d,n[f+13],5,-1444681467),d=v(d,u,c,h,n[f+2],9,-51403784),h=v(h,d,u,c,n[f+7],14,1735328473),u=g(u,c=v(c,h,d,u,n[f+12],20,-1926607734),h,d,n[f+5],4,-378558),d=g(d,u,c,h,n[f+8],11,-2022574463),h=g(h,d,u,c,n[f+11],16,1839030562),c=g(c,h,d,u,n[f+14],23,-35309556),u=g(u,c,h,d,n[f+1],4,-1530992060),d=g(d,u,c,h,n[f+4],11,1272893353),h=g(h,d,u,c,n[f+7],16,-155497632),c=g(c,h,d,u,n[f+10],23,-1094730640),u=g(u,c,h,d,n[f+13],4,681279174),d=g(d,u,c,h,n[f+0],11,-358537222),h=g(h,d,u,c,n[f+3],16,-722521979),c=g(c,h,d,u,n[f+6],23,76029189),u=g(u,c,h,d,n[f+9],4,-640364487),d=g(d,u,c,h,n[f+12],11,-421815835),h=g(h,d,u,c,n[f+15],16,530742520),u=m(u,c=g(c,h,d,u,n[f+2],23,-995338651),h,d,n[f+0],6,-198630844),d=m(d,u,c,h,n[f+7],10,1126891415),h=m(h,d,u,c,n[f+14],15,-1416354905),c=m(c,h,d,u,n[f+5],21,-57434055),u=m(u,c,h,d,n[f+12],6,1700485571),d=m(d,u,c,h,n[f+3],10,-1894986606),h=m(h,d,u,c,n[f+10],15,-1051523),c=m(c,h,d,u,n[f+1],21,-2054922799),u=m(u,c,h,d,n[f+8],6,1873313359),d=m(d,u,c,h,n[f+15],10,-30611744),h=m(h,d,u,c,n[f+6],15,-1560198380),c=m(c,h,d,u,n[f+13],21,1309151649),u=m(u,c,h,d,n[f+4],6,-145523070),d=m(d,u,c,h,n[f+11],10,-1120210379),h=m(h,d,u,c,n[f+2],15,718787259),c=m(c,h,d,u,n[f+9],21,-343485551),u=u+y>>>0,c=c+b>>>0,h=h+_>>>0,d=d+w>>>0}return i.endian([u,c,h,d])})._ff=function(e,t,n,i,r,a,o){var s=e+(t&n|~t&i)+(r>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,i,r,a,o){var s=e+(t&i|n&~i)+(r>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,i,r,a,o){var s=e+(t^n^i)+(r>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,i,r,a,o){var s=e+(n^(t|~i))+(r>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=i.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):i.bytesToHex(n)}},function(e,t){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],a=0;a<4;a++)t.push(8*i+6*a<=8*e.length?n.charAt(r>>>6*(3-a)&63):"=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&t.push((n.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(e.charAt(i))>>>6-2*r);return t}},e.exports=i},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var i,r=n(1),a=r(n(148)),o=r(n(76)),s=r(n(150)),l=r(n(37)),u=r(n(30)),c=r(n(31)),h=r(n(7)),d=r(n(10)),f=r(n(99)),p=r(n(16)),v=r(n(77)),g=r(n(59)),m=n(9),y=m.CramMalformedError,b=m.CramBufferOverrunError,_=m.CramArgumentError,w=n(58),k=w.parseItem,x=w.tinyMemoize,S=w.sequenceMD5,C=n(100),E=n(363);function R(e,t,n,i){if(!i)throw new y("could not resolve intra-slice mate pairs, file seems truncated or malformed");var r=!!(i.mate||void 0!==i.mateRecordNumber&&i.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),i.readName=n.readName),n.mate={sequenceId:i.sequenceId,alignmentStart:i.alignmentStart,uniqueId:i.uniqueId},i.readName&&(n.mate.readName=i.readName),i.mate||void 0!==i.mateRecordNumber||(i.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(i.mate.readName=n.readName)),n.flags|=C.BAM_FPAIRED,(0,f.default)(i)&C.BAM_FUNMAP&&(n.flags|=C.BAM_FMUNMAP),(0,f.default)(n)&C.BAM_FUNMAP&&(i.flags|=C.BAM_FMUNMAP),(0,f.default)(i)&C.BAM_FREVERSE&&(n.flags|=C.BAM_FMREVERSE),(0,f.default)(n)&C.BAM_FREVERSE&&(i.flags|=C.BAM_FMREVERSE),void 0===n.templateLength&&(r?function(e,t,n){var i=function t(n){var i=[n];if(n.mateRecordNumber>=0){var r=e[n.mateRecordNumber];if(!r)throw new y("intra-slice mate record not found, this file seems malformed");i.push.apply(i,(0,g.default)(t(r)))}return i}(n),r=(0,v.default)(i).call(i,function(e){return e.alignmentStart}),a=(0,v.default)(i).call(i,function(e){return e.alignmentStart+e.readLength-1}),o=Math.max.apply(Math,(0,g.default)(a))-Math.min.apply(Math,(0,g.default)(r))+1;o>=0&&(0,p.default)(i).call(i,function(e){if(void 0!==e.templateLength)throw new y("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=o})}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),i=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=i,t.templateLength=i}(n,i)),delete n.mateRecordNumber}var A=function(){function e(t,n){(0,h.default)(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,i,r,f,g,m,w;return(0,d.default)(e,[{key:"getHeader",value:(w=(0,c.default)(u.default.mark(function e(){var t,n,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(i=e.sent).contentType){e.next=13;break}i.content=k(i.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 13:if("UNMAPPED_SLICE_HEADER"!==i.contentType){e.next=17;break}i.content=k(i.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 17:throw new y("error reading slice header block, invalid content type ".concat(i._contentType));case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getBlocks",value:(m=(0,c.default)(u.default.mark(function e(){var t,n,i,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:n=(t=e.sent)._endPosition,i=new Array(t.content.numBlocks),r=0;case 6:if(!(r<i.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:i[r]=e.sent,n=i[r]._endPosition;case 11:r+=1,e.next=6;break;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"getCoreDataBlock",value:(g=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return e.abrupt("return",e.sent[0]);case 4:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(f=(0,c.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return n={},(0,p.default)(t=e.sent).call(t,function(e){"EXTERNAL_DATA"===e.contentType&&(n[e.contentId]=e)}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"getBlockByContentId",value:(r=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return e.abrupt("return",e.sent[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getReferenceRegion",value:(i=(0,c.default)(u.default.mark(function e(){var t,n,i,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(i=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new y("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>i.uncompressedSize)){e.next=14;break}throw new y("Embedded reference is too small");case 14:return e.abrupt("return",{seq:i.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((r=e.sent).length===t.refSeqSpan){e.next=23;break}throw new _("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:r,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:return e.abrupt("return",void 0);case 25:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords(function(){return!0})}},{key:"_fetchRecords",value:(n=(0,c.default)(u.default.mark(function e(){var t,n,i,r,a,o,c,h,d,f,p,g,m,_,w,k,x,C,A,T,I,D=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return n=e.sent,e.next=9,this.getHeader();case 9:return i=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(r=e.sent,!(t>1&&this.file.options.checkSequenceMD5&&i.content.refSeqId>=0&&"0000000000000000"!==i.content.md5.join(""))){e.next=23;break}return e.next=16,this.getReferenceRegion();case 16:if(!(a=e.sent)){e.next=23;break}if(p=a.start,g=a.end,m=S(a.seq),_=(0,v.default)(o=i.content.md5).call(o,function(e){return(e<16?"0":"")+e.toString(16)}).join(""),m===_){e.next=23;break}throw new y((0,l.default)(c=(0,l.default)(h=(0,l.default)(d=(0,l.default)(f="MD5 checksum reference mismatch for ref ".concat(i.content.refSeqId," pos ")).call(f,p,"..")).call(d,g,". recorded MD5: ")).call(h,_,", calculated MD5: ")).call(c,m));case 23:return e.next=25,this.getCoreDataBlock();case 25:w=e.sent,k={lastAlignmentStart:i.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},x=function(e){var t=n.getCodecForDataSeries(e);if(!t)throw new y("no codec defined for ".concat(e," data series"));return t.decode(D,w,r,k)},C=new Array(i.content.numRecords),A=0;case 30:if(!(A<C.length)){e.next=48;break}e.prev=31,C[A]=E(this,x,n,i,w,r,k,t,A),C[A].uniqueId=i.contentPosition+i.content.recordCounter+A+1,e.next=45;break;case 36:if(e.prev=36,e.t0=e.catch(31),!(e.t0 instanceof b)){e.next=44;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),C=(0,s.default)(C).call(C,function(e){return!!e}),e.abrupt("break",48);case 44:throw e.t0;case 45:A+=1,e.next=30;break;case 48:for(T=0;T<C.length;T+=1)(I=C[T].mateRecordNumber)>=0&&R(C,T,C[T],C[I]);return e.abrupt("return",C);case 50:case"end":return e.stop()}},e,this,[[31,36]])})),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=(0,c.default)(u.default.mark(function e(t){var n,i,r,l,h,d,f,p,g,m,y,b,_,w,k,x=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.file.featureCache.get(i=this.container.filePosition+this.containerPosition))||(r=this._fetchRecords(),this.file.featureCache.set(i,r)),e.t0=s.default,e.next=6,r;case 6:if(e.t1=n=e.sent,e.t2=n,e.t3=t,!(l=(0,e.t0)(e.t1).call(e.t2,e.t3)).length||!this.file.fetchReferenceSequenceCallback){e.next=24;break}return e.next=13,this.getHeader();case 13:if(!((h=e.sent).content.refSeqId>=0||-2===h.content.refSeqId)){e.next=24;break}return f=h.content.refSeqId>=0?h.content.refSeqId:void 0,e.next=18,this.container.getCompressionScheme();case 18:for(p=e.sent,g={},m=0;m<l.length;m+=1)(b=g[y=void 0!==f?f:l[m].sequenceId])||(g[y]=b={id:y,start:l[m].alignmentStart,end:-1/0}),(_=l[m].alignmentStart+(l[m].lengthOnRef||l[m].readLength)-1)>b.end&&(b.end=_),l[m].alignmentStart<b.start&&(b.start=l[m].alignmentStart);return e.next=23,o.default.all((0,v.default)(d=(0,a.default)(g)).call(d,function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(-1!==t.id&&t.start<=t.end)){e.next=4;break}return e.next=3,x.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 3:t.seq=e.sent;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 23:for(w=0;w<l.length;w+=1)(k=g[void 0!==f?f:l[w].sequenceId])&&k.seq&&l[w].addReferenceSequence(k,p);case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();(0,p.default)(i="getHeader getBlocks _getBlocksContentIdIndex".split(" ")).call(i,function(e){return x(A,e)}),e.exports=A},function(e,t,n){e.exports=n(336)},function(e,t,n){n(337);var i=n(3);e.exports=i.Object.values},function(e,t,n){var i=n(0),r=n(149).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){e.exports=n(339)},function(e,t,n){var i=n(340),r=Array.prototype;e.exports=function(e){var t=e.filter;return e===r||e instanceof Array&&t===r.filter?i:t}},function(e,t,n){n(341);var i=n(18);e.exports=i("Array").filter},function(e,t,n){var i=n(0),r=n(45).filter;i({target:"Array",proto:!0,forced:!n(68)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(343)},function(e,t,n){var i=n(344),r=RegExp.prototype;e.exports=function(e){return!(e===r||e instanceof RegExp)||"flags"in e?e.flags:i(e)}},function(e,t,n){n(345);var i=n(346);e.exports=function(e){return i.call(e)}},function(e,t){},function(e,t,n){var i=n(2);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){e.exports=n(348)},function(e,t,n){var i=n(349),r=Array.prototype;e.exports=function(e){var t=e.map;return e===r||e instanceof Array&&t===r.map?i:t}},function(e,t,n){n(350);var i=n(18);e.exports=i("Array").map},function(e,t,n){var i=n(0),r=n(45).map;i({target:"Array",proto:!0,forced:!n(68)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(151);e.exports=function(e){if(i(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){e.exports=n(353)},function(e,t,n){n(354);var i=n(3);e.exports=i.Array.isArray},function(e,t,n){n(0)({target:"Array",stat:!0},{isArray:n(53)})},function(e,t,n){e.exports=n(356)},function(e,t,n){e.exports=n(357)},function(e,t,n){n(46),n(358);var i=n(3);e.exports=i.Array.from},function(e,t,n){var i=n(0),r=n(359);i({target:"Array",stat:!0,forced:!n(121)(function(e){Array.from(e)})},{from:r})},function(e,t,n){var i=n(15),r=n(22),a=n(120),o=n(119),s=n(29),l=n(87),u=n(90);e.exports=function(e){var t,n,c,h,d=r(e),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=u(d);if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),null==y||f==Array&&o(y))for(n=new f(t=s(d.length));t>m;m++)l(n,m,g?v(d[m],m):d[m]);else for(h=y.call(d),n=new f;!(c=h.next()).done;m++)l(n,m,g?a(h,v,[c.value,m],!0):c.value);return n.length=m,n}},function(e,t,n){n(41),n(46),e.exports=n(361)},function(e,t,n){var i=n(67),r=n(6),a=n(35),o=r("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(i(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){(function(t){var i=n(1),r=i(n(37)),a=i(n(364)),o=i(n(16)),s=i(n(99)),l=i(n(101)),u=i(n(59)),c=i(n(154)),h=i(n(376)),d=i(n(380)),f=i(n(48)),p=i(n(387)),v=n(146),g=n(9),m=g.CramMalformedError,y=g.CramUnimplementedError,b=n(389),_=n(100);function w(e){var t=(0,p.default)(e).call(e,0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function k(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return w(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var i=v.fromBytesLE(n);if(i.greaterThan(d.default)||i.lessThan(h.default))throw new y("integer overflow");return i.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var r=w(n);return(0,c.default)(r.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),i={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!i)throw new m("invalid tag value array type '".concat(t,"'"));for(var r=(0,f.default)(i,2),a=r[0],o=r[1],s=new Array(n),l=5,u=0;u<n;u+=1)s[u]=e[a](l),l+=o;return s}(n);throw new m("Unrecognized tag type ".concat(e))}function x(e){if(e instanceof t)return w(e);if(e.length&&(0,p.default)(e)){if(!e[e.length-1]){var n=(0,p.default)(e).call(e,0);return String.fromCharCode.apply(String,(0,u.default)((0,l.default)(e).call(e,0,n)))}return String.fromCharCode.apply(String,(0,u.default)(e))}return String(e)}e.exports=function(e,t,n,i,l,u,c,h,d){var p=new b;if(p.flags=t("BF"),p.cramFlags=t("CF"),p.sequenceId=h>1&&-2===i.content.refSeqId?t("RI"):i.content.refSeqId,p.readLength=t("RL"),p.alignmentStart=t("AP"),n.APdelta&&(p.alignmentStart+=c.lastAlignmentStart),c.lastAlignmentStart=p.alignmentStart,p.readGroupId=t("RG"),n.readNamesIncluded&&(p.readName=x(t("RN"))),p.isDetached()){var v={};v.flags=t("MF"),n.readNamesIncluded||(v.readName=x(t("RN")),p.readName=v.readName),v.sequenceId=t("NS"),v.alignmentStart=t("NP"),((0,s.default)(v)||v.sequenceId>-1)&&(p.mate=v),p.templateSize=t("TS"),(0,s.default)(v)&_.CRAM_M_UNMAP&&(p.flags|=_.BAM_FMUNMAP),(0,s.default)(v)&_.CRAM_M_REVERSE&&(p.flags|=_.BAM_FMREVERSE)}else p.hasMateDownStream()&&(p.mateRecordNumber=t("NF")+d+1);var g=t("TL");if(g<0)throw new m("invalid TL index");for(var y=n.getTagNames(g),w=y.length,S=0;S<w;S+=1){var C=y[S],E=C.substr(0,2),R=C.substr(2,1),A=n.getCodecForTag(C);if(!A)throw new m("no codec defined for auxiliary tag ".concat(C));var T=A.decode(e,l,u,c);p.tags[E]=k(R,T)}if(p.isSegmentUnmapped())if(p.isUnknownBases())p.readBases=null,p.qualityScores=null;else{for(var I=new Array(p.readLength),D=0;D<I.length;D+=1)I[D]=t("BA");if(p.readBases=String.fromCharCode.apply(String,I),p.isPreservingQualityScores()){for(var O=0;O<I.length;O+=1)I[O]=t("QS");p.qualityScores=I}}else{var P,M=t("FN");M&&(p.readFeatures=function(e,t,n,i,r){var a=0,o=e.alignmentStart-1,s=new Array(t);function l(e){var t=(0,f.default)(e,2),i=t[0],r=n(t[1]);return"character"===i?String.fromCharCode(r):"string"===i?r.toString("utf8"):"numArray"===i?r.toArray():r}for(var u=0;u<t;u+=1){var c=String.fromCharCode(n("FC")),h=n("FP"),d={code:c},p={B:["character","BA"],S:["string",r>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[c];if(!p)throw new m('invalid read feature code "'.concat(c,'"'));d.data=l(p);var v={B:["number","QS"]}[c];v&&(d.data=[d.data,l(v)]),d.pos=a+=h,d.refPos=o+=h,"D"===c||"N"===c?o+=d.data:"I"===c||"S"===c?o-=d.data.length:"i"===c&&(o-=1),s[u]=d}return s}(p,M,t,0,h));var L,F=p.readLength;if(p.readFeatures&&(0,o.default)(P=p.readFeatures).call(P,function(e){var t=e.code,n=e.data;"D"===t||"N"===t?F+=n:"I"===t||"S"===t?F-=n.length:"i"===t&&(F-=1)}),(0,a.default)(F)&&(console.warn("".concat(p.readName||(0,r.default)(L="".concat(p.sequenceId,":")).call(L,p.alignmentStart)," record has invalid read features")),F=p.readLength),p.lengthOnRef=F,p.mappingQuality=t("MQ"),p.isPreservingQualityScores()){for(var N=new Array(p.readLength),z=0;z<N.length;z+=1)N[z]=t("QS");p.qualityScores=N}}return p}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(365)},function(e,t,n){e.exports=n(366)},function(e,t,n){n(367);var i=n(3);e.exports=i.Number.isNaN},function(e,t,n){n(0)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){e.exports=n(369)},function(e,t,n){var i=n(370),r=Array.prototype;e.exports=function(e){var t=e.slice;return e===r||e instanceof Array&&t===r.slice?i:t}},function(e,t,n){n(371);var i=n(18);e.exports=i("Array").slice},function(e,t,n){var i=n(0),r=n(14),a=n(53),o=n(84),s=n(29),l=n(28),u=n(87),c=n(68),h=n(6)("species"),d=[].slice,f=Math.max;i({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var n,i,c,p=l(this),v=s(p.length),g=o(e,v),m=o(void 0===t?v:t,v);if(a(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(p,g,m);for(i=new(void 0===n?Array:n)(f(m-g,0)),c=0;g<m;g++,c++)g in p&&u(i,c,p[g]);return i.length=c,i}})},function(e,t,n){e.exports=n(373)},function(e,t,n){n(374);var i=n(3);e.exports=i.Number.parseInt},function(e,t,n){var i=n(0),r=n(155);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(e,t,n){var i=n(49),r="["+n(156)+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){e.exports=n(377)},function(e,t,n){e.exports=n(378)},function(e,t,n){n(379),e.exports=-9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){e.exports=n(381)},function(e,t,n){e.exports=n(382)},function(e,t,n){n(383),e.exports=9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var i=n(385),r=n(153);e.exports=function(e,t){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,o=!1,s=void 0;try{for(var l,u=i(e);!(a=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return n}}},function(e,t,n){e.exports=n(386)},function(e,t,n){n(41),n(46),e.exports=n(142)},function(e,t,n){e.exports=n(388)},function(e,t,n){e.exports=n(143)},function(e,t,n){var i=n(1),r=i(n(98)),a=i(n(16)),o=i(n(99)),s=i(n(7)),l=i(n(10)),u=i(n(59)),c=n(100),h={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4},d=function(){function e(){(0,s.default)(this,e),this.tags={}}return(0,l.default)(e,[{key:"isPaired",value:function(){return!!((0,o.default)(this)&c.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!((0,o.default)(this)&c.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!((0,o.default)(this)&c.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!((0,o.default)(this)&c.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!((0,o.default)(this)&c.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!((0,o.default)(this)&c.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!((0,o.default)(this)&c.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!((0,o.default)(this)&c.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!((0,o.default)(this)&c.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!((0,o.default)(this)&c.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!((0,o.default)(this)&c.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!((0,o.default)(this)&c.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&c.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&c.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&c.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&c.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var i="",r=n,a=0;i.length<e.readLength;)if(a<e.readFeatures.length){var o=e.readFeatures[a];if("Q"===o.code||"q"===o.code)a+=1;else if(o.pos===i.length+1)if(a+=1,"b"===o.code){var s=o.data.split(","),l=String.fromCharCode.apply(String,(0,u.default)(s));i+=l,r+=l.length}else"B"===o.code?(i+=o.data[0],r+=1):"X"===o.code?(i+=o.sub,r+=1):"I"===o.code?i+=o.data:"D"===o.code?r+=o.data:"i"===o.code?i+=o.data:"N"===o.code?r+=o.data:"S"===o.code&&(i+=o.data);else if(a<e.readFeatures.length){var c=t.seq.substr(r,e.readFeatures[a].pos-i.length-1);i+=c,r+=c.length}}else{var h=t.seq.substr(r,e.readLength-i.length);i+=h,r+=h.length}return i.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.mate&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",i=" ";this.isRead1()?(n="1",i="2"):this.isRead2()&&(n="2",i="1");var r=[],a=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&a>0&&(a=-a),a>0?(r[0]=e,r[1]=n,r[2]=t,r[3]=i):(r[2]=e,r[3]=n,r[0]=t,r[1]=i),r.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){var n;this.readFeatures&&(0,a.default)(n=this.readFeatures).call(n,function(n){"X"===n.code&&function(e,t,n,i){if(t){var r=t.seq.charAt(i.refPos-t.start);r&&(i.ref=r);var a=h[r];void 0===a&&(a=4);var o=n.substitutionMatrix[a][i.data];o&&(i.sub=o)}}(0,e,t,n)}),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,a.default)(e=(0,r.default)(this)).call(e,function(e){"_"!==e.charAt(0)&&(n[e]=t[e])}),n.readBases=this.getReadBases(),n}}]),e}();e.exports=d},function(e,t,n){var i=n(1),r=i(n(98)),a=i(n(16)),o=i(n(75)),s=i(n(7)),l=i(n(10)),u=n(9).CramMalformedError,c=n(391).instantiateCodec,h={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"},d=function(){function e(t){(0,s.default)(this,e),(0,o.default)(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return(0,l.default)(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=c(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=h[e];if(!n)throw new u("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=c(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,a.default)(e=(0,r.default)(this)).call(e,function(e){/Cache$/.test(e)||(n[e]=t[e])}),n}}]),e}();e.exports=d},function(e,t,n){var i=n(9).CramUnimplementedError,r=n(392),a=n(413),o=n(414),s=n(415),l=n(416),u=n(417),c={1:a,3:r,4:s,5:o,6:l,7:n(418),9:u};function h(e){return c[e]}e.exports={getCodecClassWithId:h,instantiateCodec:function e(t,n){var r=h("ignore"===n?0:t.codecId);if(!r)throw new i("no codec implemented for codec ID ".concat(t.codecId));return new r(t.parameters,n,e)}}},function(e,t,n){var i=n(1),r=i(n(97)),a=i(n(59)),o=i(n(77)),s=i(n(148)),l=i(n(159)),u=i(n(48)),c=i(n(102)),h=i(n(16)),d=i(n(103)),f=i(n(403)),p=i(n(7)),v=i(n(10)),g=i(n(32)),m=i(n(27)),y=i(n(33)),b=n(9).CramMalformedError,_=function(e){function t(){var e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,p.default)(this,t),n=(0,g.default)(this,(0,m.default)(t).call(this,i,r)),!(0,f.default)(e=["byte","int"]).call(e,n.dataType))throw new TypeError("".concat(n.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return n.buildCodeBook(),n.buildCodes(),n.buildCaches(),0===n.sortedCodes[0].bitLength&&(n._decode=n._decodeZeroLengthCode),n}return(0,y.default)(t,e),(0,v.default)(t,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=(0,d.default)(t).call(t,function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol}),this.codeBook={},(0,h.default)(t).call(t,function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)})}},{key:"buildCodes",value:function(){var e,t=this;this.codes={};var n=0,i=-1;(0,h.default)(e=(0,c.default)(this.codeBook)).call(e,function(e){var r=(0,u.default)(e,2),a=r[0],o=r[1];a=(0,l.default)(a,10),(0,h.default)(o).call(o,function(e){var r={bitLength:a,value:e};i+=1;var o,s,l=a-n;if(r.bitCode=i<<=l,n+=l,16843009*((s=(858993459&(s=(o=i)-(o>>1)&1431655765))+(s>>2&858993459))+(s>>4)&252645135)>>24>a)throw new b("Symbol out of range");t.codes[e]=r})})}},{key:"buildCaches",value:function(){var e,t,n,i,l,u;this.sortedCodes=(0,d.default)(e=(0,s.default)(this.codes)).call(e,function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode}),this.sortedByValue=(0,d.default)(t=(0,s.default)(this.codes)).call(t,function(e,t){return e.value-t.value}),this.sortedValuesByBitCode=(0,o.default)(n=this.sortedCodes).call(n,function(e){return e.value}),this.sortedBitCodes=(0,o.default)(i=this.sortedCodes).call(i,function(e){return e.bitCode}),this.sortedBitLengthsByBitCode=(0,o.default)(l=this.sortedCodes).call(l,function(e){return e.bitLength});var c=Math.max.apply(Math,(0,a.default)(this.sortedBitCodes));this.bitCodeToValue=(0,r.default)(u=new Array(c+1)).call(u,-1);for(var h=0;h<this.sortedBitCodes.length;h+=1)this.bitCodeToValue[this.sortedCodes[h].bitCode]=h}},{key:"decode",value:function(e,t,n,i){return this._decode(e,t,i.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var i=t.content,r=0,a=0,o=0;o<this.sortedCodes.length;o+=1){var s=this.sortedCodes[o].bitLength;a<<=s-r,a|=this._getBits(i,n,s-r),r=s;var l=this.bitCodeToValue[a];if(l>-1&&this.sortedBitLengthsByBitCode[l]===s)return this.sortedValuesByBitCode[l];for(var u=o;this.sortedCodes[u+1].bitLength===s&&u<this.sortedCodes.length;u+=1)o+=1}throw new b("Huffman symbol not found.")}}]),t}(n(40));e.exports=_},function(e,t,n){e.exports=n(394)},function(e,t,n){n(395);var i=n(3);e.exports=i.parseInt},function(e,t,n){var i=n(0),r=n(155);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){e.exports=n(397)},function(e,t,n){n(398);var i=n(3);e.exports=i.Object.entries},function(e,t,n){var i=n(0),r=n(149).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){e.exports=n(400)},function(e,t,n){var i=n(401),r=Array.prototype;e.exports=function(e){var t=e.sort;return e===r||e instanceof Array&&t===r.sort?i:t}},function(e,t,n){n(402);var i=n(18);e.exports=i("Array").sort},function(e,t,n){var i=n(0),r=n(5),a=n(22),o=n(12),s=n(54),l=[].sort,u=[1,2,3],c=o(function(){u.sort(void 0)}),h=o(function(){u.sort(null)}),d=s("sort");i({target:"Array",proto:!0,forced:c||!h||d},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),r(e))}})},function(e,t,n){e.exports=n(404)},function(e,t,n){e.exports=n(405)},function(e,t,n){var i=n(406),r=n(408),a=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===a||e instanceof Array&&t===a.includes?i:"string"==typeof e||e===o||e instanceof String&&t===o.includes?r:t}},function(e,t,n){n(407);var i=n(18);e.exports=i("Array").includes},function(e,t,n){var i=n(0),r=n(82).includes,a=n(78);i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){n(409);var i=n(18);e.exports=i("String").includes},function(e,t,n){var i=n(0),r=n(410),a=n(49);i({target:"String",proto:!0,forced:!n(412)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(411);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(14),r=n(34),a=n(6)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var i=n(1),r=i(n(48)),a=i(n(7)),o=i(n(10)),s=i(n(32)),l=i(n(27)),u=i(n(33)),c=n(9),h=c.CramUnimplementedError,d=c.CramMalformedError,f=c.CramBufferOverrunError,p=n(40),v=n(58).parseItf8,g=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,a.default)(this,t),"int"===(e=(0,s.default)(this,(0,l.default)(t).call(this,n,i))).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new h("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,i){var r=this.parameters.blockContentId,a=n[r];if(!a)throw new d("no block found with content ID ".concat(r));var o=i.externalBlocks.getCursor(r);return this._decodeData(a,o)}},{key:"_decodeInt",value:function(e,t){var n=v(e.content,t.bytePosition),i=(0,r.default)(n,2),a=i[0];return t.bytePosition+=i[1],a}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new f("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),t}(p);e.exports=g},function(e,t,n){var i=n(1),r=i(n(101)),a=i(n(7)),o=i(n(10)),s=i(n(32)),l=i(n(27)),u=i(n(33)),c=n(9),h=c.CramBufferOverrunError,d=c.CramMalformedError,f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,a.default)(this,t),e=(0,s.default)(this,(0,l.default)(t).call(this,n,i)),"byteArray"!==i)throw new TypeError("byteArrayStop codec does not support data type ".concat(i));return e._decode=e._decodeByteArray,e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,i){var r=this.parameters.blockContentId,a=n[r];if(!a)throw new d("no block found with content ID ".concat(r));var o=i.externalBlocks.getCursor(r);return this._decode(a,o)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,i=this.parameters.stopByte,a=t.bytePosition,o=t.bytePosition;n[o]!==i&&o<n.length;){if(o===n.length)throw new h("byteArrayStop reading beyond length of data buffer?");o+=1}return t.bytePosition=o+1,(0,r.default)(n).call(n,a,o)}}]),t}(n(40));e.exports=f},function(e,t,n){var i,r=n(1),a=r(n(16)),o=r(n(7)),s=r(n(10)),l=r(n(32)),u=r(n(27)),c=r(n(33)),h=n(58).tinyMemoize,d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if((0,o.default)(this,t),(e=(0,l.default)(this,(0,u.default)(t).call(this,n,i))).instantiateCodec=r,"byteArray"!==i)throw new TypeError("byteArrayLength does not support data type ".concat(i));return e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"decode",value:function(e,t,n,i){for(var r=this._getLengthCodec().decode(e,t,n,i),a=this._getDataCodec(),o=new Array(r),s=0;s<r;s+=1)o[s]=a.decode(e,t,n,i);return o}},{key:"_getLengthCodec",value:function(){return this.instantiateCodec(this.parameters.lengthsEncoding,"int")}},{key:"_getDataCodec",value:function(){return this.instantiateCodec(this.parameters.valuesEncoding,"byte")}}]),t}(n(40));(0,a.default)(i="_getLengthCodec _getDataCodec".split(" ")).call(i,function(e){return h(d,e)}),e.exports=d},function(e,t,n){var i=n(1),r=i(n(7)),a=i(n(10)),o=i(n(32)),s=i(n(27)),l=i(n(33)),u=n(9).CramUnimplementedError,c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,i))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by BETA codec"));return e}return(0,l.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,i){return this._getBits(t.content,i.coreBlock,this.parameters.length)-this.parameters.offset}}]),t}(n(40));e.exports=c},function(e,t,n){var i=n(1),r=i(n(7)),a=i(n(10)),o=i(n(32)),s=i(n(27)),l=i(n(33)),u=n(9).CramUnimplementedError,c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,i))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return e}return(0,l.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,i){for(var r=1;0===this._getBits(t.content,i.coreBlock,1);)r+=1;return(this._getBits(t.content,i.coreBlock,r-1)|1<<r-1)-this.parameters.offset}}]),t}(n(40));e.exports=c},function(e,t,n){var i=n(1),r=i(n(7)),a=i(n(10)),o=i(n(32)),s=i(n(27)),l=i(n(33)),u=n(9).CramUnimplementedError,c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,i))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return e}return(0,l.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,i){for(var r,a=0;this._getBits(t.content,i.coreBlock,1);)a+=1;return(0===a?this._getBits(t.content,i.coreBlock,r=this.parameters.K):1<<(r=a+this.parameters.K-1)|this._getBits(t.content,i.coreBlock,r))-this.parameters.offset}}]),t}(n(40));e.exports=c},function(e,t,n){var i=n(420),r=n(422);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return r.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(423);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof a)return e;var i=new a;return i.parse(e,t,n),i}a.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(x||w&&!m[w])){for(var S,C,E=-1,R=0;R<d.length;R++)-1!==(A=b.indexOf(d[R]))&&(-1===E||A<E)&&(E=A);for(-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),E=-1,R=0;R<h.length;R++){var A;-1!==(A=b.indexOf(h[R]))&&(-1===E||A<E)&&(E=A)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var I=this.hostname.split(/\./),D=(R=0,I.length);R<D;R++){var O=I[R];if(O&&!O.match(f)){for(var P="",M=0,L=O.length;M<L;M++)O.charCodeAt(M)>127?P+="x":P+=O[M];if(!P.match(f)){var F=I.slice(0,R),N=I.slice(R+1),z=O.match(p);z&&(F.push(z[1]),N.unshift(z[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=F.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),T||(this.hostname=i.toASCII(this.hostname));var V=this.port?":"+this.port:"";this.host=(this.hostname||"")+V,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[k])for(R=0,D=c.length;R<D;R++){var j=c[R];if(-1!==b.indexOf(j)){var B=encodeURIComponent(j);B===j&&(B=escape(j)),b=b.split(j).join(B)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");return-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(V=this.pathname||"")+(this.search||"")),this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===w[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=w.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=w.slice(-1)[0],S=(n.host||e.host||w.length>1)&&("."===x||".."===x)||""===x,C=0,E=w.length;E>=0;E--)"."===(x=w[E])?w.splice(E,1):".."===x?(w.splice(E,1),C++):C&&(w.splice(E,1),C--);if(!b&&!_)for(;C--;C)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var R,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return k&&(n.hostname=n.host=A?"":w.length?w.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),(b=b||n.host&&w.length)&&!A&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,i){var r;!function(i){var a,o=2147483647,s=36,l=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function p(e){throw new RangeError(h[e])}function v(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function g(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+v((e=e.replace(c,".")).split("."),t).join(".")}function m(e){for(var t,n,i=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function y(e){return v(e,function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)}).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;i+=s)e=d(e/35);return d(i+36*e/(e+38))}function w(e){var t,n,i,r,a,l,u,c,h,f,v,g=[],m=e.length,b=0,w=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(a=b,l=1,u=s;r>=m&&p("invalid-input"),((c=(v=e.charCodeAt(r++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:s)>=s||c>d((o-b)/l))&&p("overflow"),b+=c*l,!(c<(h=u<=k?1:u>=k+26?26:u-k));u+=s)l>d(o/(f=s-h))&&p("overflow"),l*=f;k=_(b-a,t=g.length+1,0==a),d(b/t)>o-w&&p("overflow"),w+=d(b/t),b%=t,g.splice(b++,0,w)}return y(g)}function k(e){var t,n,i,r,a,l,u,c,h,v,g,y,w,k,x,S=[];for(y=(e=m(e)).length,t=128,n=0,a=72,l=0;l<y;++l)(g=e[l])<128&&S.push(f(g));for(i=r=S.length,r&&S.push("-");i<y;){for(u=o,l=0;l<y;++l)(g=e[l])>=t&&g<u&&(u=g);for(u-t>d((o-n)/(w=i+1))&&p("overflow"),n+=(u-t)*w,t=u,l=0;l<y;++l)if((g=e[l])<t&&++n>o&&p("overflow"),g==t){for(c=n,h=s;!(c<(v=h<=a?1:h>=a+26?26:h-a));h+=s)S.push(f(b(v+(x=c-v)%(k=s-v),0))),c=d(x/k);S.push(f(b(c,0))),a=_(n,w,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:m,encode:y},decode:w,encode:k,toASCII:function(e){return g(e,function(e){return u.test(e)?"xn--"+k(e):e})},toUnicode:function(e){return g(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(r=(function(){return a}).call(t,n,t,e))||(e.exports=r)}()}).call(this,n(421)(e),n(23))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(424),t.encode=t.stringify=n(425)},function(e,t,n){function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t=t||"&");var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,d,f,p,v=e[c].replace(s,"%20"),g=v.indexOf(n);g>=0?(h=v.substr(0,g),d=v.substr(g+1)):(h=v,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),i(o,f)?r(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(o(e),function(o){var s=encodeURIComponent(i(o))+n;return r(e[o])?a(e[o],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[o]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var i=n(1),r=i(n(30)),a=i(n(159)),o=i(n(37)),s=i(n(31)),l=i(n(7)),u=i(n(10)),c=n(427),h=n(428),d=function(){function e(t){var n=this;(0,l.default)(this,e),this.position=0,this.url=t,this.cache=new h({fetch:function(e,t){return n._fetch(e,t)}})}var n,i,d;return(0,u.default)(e,[{key:"_fetch",value:(d=(0,s.default)(r.default.mark(function e(n,i){var s,l,u,h,d,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={},i<1/0?l.range=(0,o.default)(u="bytes=".concat(n,"-")).call(u,n+i):i===1/0&&0!==n&&(l.range="bytes=".concat(n,"-")),e.next=4,c(this.url,{method:"GET",headers:l,redirect:"follow",mode:"cors"});case 4:if((200!==(h=e.sent).status||0!==n)&&206!==h.status){e.next=14;break}return e.t0=t,e.next=9,h.arrayBuffer();case 9:return e.t1=e.sent,d=e.t0.from.call(e.t0,e.t1),(f=/\/(\d+)$/.exec(h.headers.get("content-range")))[1]&&(this._stat={size:(0,a.default)(f[1],10)}),e.abrupt("return",d);case 14:throw new Error((0,o.default)(s="HTTP ".concat(h.status," fetching ")).call(s,this.url));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return d.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=i;return null===r&&(r=this.position,this.position+=n),this.cache.get(e,t,n,i)}},{key:"readFile",value:(i=(0,s.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"stat",value:(n=(0,s.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),e}();e.exports=d}).call(this,n(19).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function v(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,i=f(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=c(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),h(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),h(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),h(e)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,i,r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];w.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,n){return new Promise(function(i,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL"),i(new w("response"in s?s.response:s.responseText,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=d,e.Request=b,e.Response=w),t.Headers=d,t.Request=b,t.Response=w,t.fetch=x}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},function(e,t,n){var i=n(1),r=i(n(30)),a=i(n(16)),o=i(n(76)),s=i(n(31)),l=i(n(7)),u=i(n(10)),c=n(94),h=function(){function e(t){var n=t.fetch,i=t.size,r=void 0===i?1e7:i,a=t.chunkSize,o=void 0===a?32768:a;if((0,l.default)(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=o,this.lruCache=new c({maxSize:Math.floor(r/o)})}var t;return(0,u.default)(e,[{key:"get",value:(t=(0,s.default)(r.default.mark(function e(t,n,i,s){var l,u,c,h,d,f,p,v=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+i)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(l=Math.floor(s/this.chunkSize),u=Math.floor((s+i)/this.chunkSize),c=new Array(u-l+1),h=function(e){c[e-l]=v._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},d=l;d<=u;d+=1)h(d);return e.next=9,o.default.all(c);case 9:p=s-(f=e.sent)[0].chunkNumber*this.chunkSize,(0,a.default)(f).call(f,function(e){var r=e.chunkNumber,a=0,o=v.chunkSize,c=n+(r-l)*v.chunkSize-p;r===l&&(c=n,a=p),r===u&&(o=s+i-r*v.chunkSize),e.data.copy(t,c,a,o)});case 12:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}();e.exports=h},function(e,t,n){var i=n(1),r=i(n(30)),a=i(n(31)),o=i(n(7)),s=i(n(10)),l=(n(161),null),u=function(){function e(t){(0,o.default)(this,e),this.position=0,this.filename=t,this.fd=l(this.filename,"r")}var t,n,i;return(0,s.default)(e,[{key:"read",value:(i=(0,a.default)(r.default.mark(function e(t){var n,i,a,o=arguments;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,i=o.length>2?o[2]:void 0,null===(a=o.length>3?o[3]:void 0)&&(this.position+=i),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=i,e.t5=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readFile",value:(n=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=8;break}return e.t0=null,e.next=4,this.fd;case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:this._stat=e.sent;case 8:return e.abrupt("return",this._stat);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}();e.exports=u},function(e,t,n){var i=n(1),r=i(n(48)),a=i(n(77)),o=i(n(101)),s=i(n(431)),l=i(n(16));e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return(0,l.default)(t).call(t,function(e){var t=e.split(/\t/),i=(0,s.default)(t),l=i[0],u=(0,o.default)(i).call(i,1),c=(0,a.default)(u).call(u,function(e){var t=e.split(":",2),n=(0,r.default)(t,2);return{tag:n[0],value:n[1]}});l&&n.push({tag:l.substr(1),data:c})}),n}}},function(e,t,n){var i=n(157),r=n(152),a=n(158);e.exports=function(e){return i(e)||r(e)||a()}},function(e,t,n){var i=n(1),r=i(n(30)),a=i(n(103)),o=i(n(150)),s=i(n(48)),l=i(n(102)),u=i(n(16)),c=i(n(59)),h=i(n(76)),d=i(n(37)),f=i(n(77)),p=i(n(433)),v=i(n(31)),g=i(n(7)),m=i(n(10)),y=n(9),b=y.CramUnimplementedError,_=y.CramSizeLimitError,w=n(104),k=function(){function e(t){if((0,g.default)(this,e),this.cram=t.cram?t.cram:new w({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof w))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return(0,m.default)(e,[{key:"getRecordsForRange",value:(t=(0,v.default)(r.default.mark(function e(t,n,i){var v,g,m,y,w,k,x,S,C,E,R,A,T,I,D,O,P,M,L,F,N,z,V,j,B,H,q,U,W,G,$,Y,Z,K,X=this,Q=arguments;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((k=Q.length>3&&void 0!==Q[3]?Q[3]:{}).viewAsPairs=k.viewAsPairs||!1,k.pairAcrossChr=k.pairAcrossChr||!1,k.maxInsertSize=k.maxInsertSize||2e5,"string"!=typeof t){e.next=6;break}throw new b("string sequence names not yet supported");case 6:return x=t,e.next=9,this.index.getEntriesForRange(x,n,i);case 9:if(!((C=(0,p.default)(v=(0,f.default)(S=e.sent).call(S,function(e){return e.sliceBytes})).call(v,function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=13;break}throw new _((0,d.default)(g="data size of ".concat(C.toLocaleString()," bytes exceeded fetch size limit of ")).call(g,this.fetchSizeLimit.toLocaleString()," bytes"));case 13:return E=function(e){return e.sequenceId===t&&e.alignmentStart<=i&&e.alignmentStart+e.lengthOnRef-1>=n},e.next=16,h.default.all((0,f.default)(S).call(S,function(e){return X.getRecordsInSlice(e,E)}));case 16:if(R=e.sent,A=(y=(0,d.default)(m=Array.prototype)).call.apply(y,(0,d.default)(w=[m]).call(w,(0,c.default)(R))),!k.viewAsPairs){e.next=42;break}for(O={},P={},M=0;M<A.length;M+=1)F=A[M].uniqueId,O[L=A[M].readName]||(O[L]=0),O[L]+=1,P[F]=1;for(N={},(0,u.default)(T=(0,l.default)(O)).call(T,function(e){var t=(0,s.default)(e,2);1===t[1]&&(N[t[0]]=!0)}),z=[],V=0;V<A.length;V+=1)N[A[V].readName]&&A[V].mate&&(A[V].mate.sequenceId===x||k.pairAcrossChr)&&Math.abs(A[V].alignmentStart-A[V].mate.alignmentStart)<k.maxInsertSize&&(j=this.index.getEntriesForRange(A[V].mate.sequenceId,A[V].mate.alignmentStart,A[V].mate.alignmentStart+1),z.push(j));return e.next=28,h.default.all(z);case 28:for(B=e.sent,H=[],q=0;q<B.length;q+=1)(U=H).push.apply(U,(0,c.default)(B[q]));if(H=(0,o.default)(I=(0,a.default)(H).call(H,function(e,t){return e.toString().localeCompare(t.toString())})).call(I,function(e,t,n){return!t||e.toString()!==n[t-1].toString()}),W=[],G=[],!(($=(0,p.default)(D=(0,f.default)(H).call(H,function(e){return e.sliceBytes})).call(D,function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=37;break}throw new Error((0,d.default)(Y="mate data size of ".concat($.toLocaleString()," bytes exceeded fetch size limit of ")).call(Y,this.fetchSizeLimit.toLocaleString()," bytes"));case 37:return(0,u.default)(H).call(H,function(e){var t=X.cram.featureCache.get(e.toString());t||(t=X.getRecordsInSlice(e,function(){return!0}),X.cram.featureCache.set(e.toString(),t)),W.push(t);var n=t.then(function(e){for(var t=[],n=0;n<e.length;n+=1){var i=e[n];N[i.readName]&&!P[i.uniqueId]&&t.push(i)}return t});G.push(n)}),e.next=40,h.default.all(G);case 40:(Z=e.sent).length&&(K=(0,p.default)(Z).call(Z,function(e,t){return(0,d.default)(e).call(e,t)}),A=(0,d.default)(A).call(A,K));case 42:return e.abrupt("return",A);case 43:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.sliceStart,i=e.sliceBytes;return this.cram.getContainerAtPosition(e.containerStart).getSlice(n,i).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}();e.exports=k},function(e,t,n){e.exports=n(434)},function(e,t,n){e.exports=n(435)},function(e,t,n){var i=n(436),r=Array.prototype;e.exports=function(e){var t=e.reduce;return e===r||e instanceof Array&&t===r.reduce?i:t}},function(e,t,n){n(437);var i=n(18);e.exports=i("Array").reduce},function(e,t,n){var i=n(0),r=n(438).left;i({target:"Array",proto:!0,forced:n(54)("reduce")},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(5),r=n(22),a=n(60),o=n(29),s=function(e){return function(t,n,s,l){i(n);var u=r(t),c=a(u),h=o(u.length),d=e?h-1:0,f=e?-1:1;if(s<2)for(;;){if(d in c){l=c[d],d+=f;break}if(d+=f,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=f)d in c&&(l=n(l,c[d],d,u));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){var i=n(1),r=i(n(30)),a=i(n(31)),o=i(n(103)),s=i(n(102)),l=i(n(16)),u=i(n(154)),c=i(n(440)),h=i(n(48)),d=i(n(442)),f=i(n(37)),p=i(n(75)),v=i(n(7)),g=i(n(10)),m=n(447).default,y=n(94),b=(0,n(161).promisify)(n(126).gunzip),_=n(160).open,w=n(9).CramMalformedError,k=function(){function e(t){(0,v.default)(this,e),(0,p.default)(this,t)}return(0,g.default)(e,[{key:"toString",value:function(){var e,t,n,i;return(0,f.default)(e=(0,f.default)(t=(0,f.default)(n=(0,f.default)(i="".concat(this.start,":")).call(i,this.span,":")).call(n,this.containerStart,":")).call(t,this.sliceStart,":")).call(e,this.sliceBytes)}}]),e}();function x(e,t){if((0,d.default)(t).call(t,function(e){return void 0===e}))throw new w("invalid .crai index file");var n=(0,h.default)(t,6),i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5];e[i]||(e[i]=[]),e[i].push(new k({start:r,span:a,containerStart:o,sliceStart:s,sliceBytes:l}))}var S=function(){function e(t){var n,i=this;(0,v.default)(this,e);var r=_(t.url,t.path,t.filehandle);this._parseCache=new m({cache:new y({maxSize:1}),fill:function(e,t){return i.parseIndex({signal:t})}}),this.readFile=(0,c.default)(n=r.readFile).call(n,r)}var t,n;return(0,g.default)(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then(function(e){return 31===e[0]&&139===e[1]?b(e):e}).then(function(t){var n;if(t.length>4&&21578050===t.readUInt32LE(0))throw new w("invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support");for(var i=[],r="",a=0;a<t.length;a+=1){var c=t[a];if(c>=48&&c<=57||!r&&45===c)r+=String.fromCharCode(c);else if(9===c)i.push((0,u.default)(r,10)),r="";else if(10===c)i.push((0,u.default)(r,10)),r="",x(e,i),i=[];else if(13!==c&&32!==c)throw new w("invalid .crai index file")}return r&&i.push((0,u.default)(r,10)),6===i.length&&x(e,i),(0,l.default)(n=(0,s.default)(e)).call(n,function(t){var n=(0,h.default)(t,2),i=n[1];e[n[0]]=(0,o.default)(i).call(i,function(e,t){return e.start-t.start||e.span-t.span})}),e})}},{key:"getIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._parseCache.get("index",null,e.signal)}},{key:"hasDataForReferenceSequence",value:(n=(0,a.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=(0,a.default)(r.default.mark(function e(t,n,i){var a,o,s,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(e.t0=t,a=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:for(o=function(e){return e.start>=i?-1:e.start+e.span<=n?1:0},s=[],l=0;l<a.length;l+=1)0===o(a[l])&&s.push(a[l]);return e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}();e.exports=S},function(e,t,n){e.exports=n(441)},function(e,t,n){e.exports=n(144)},function(e,t,n){e.exports=n(443)},function(e,t,n){e.exports=n(444)},function(e,t,n){var i=n(445),r=Array.prototype;e.exports=function(e){var t=e.some;return e===r||e instanceof Array&&t===r.some?i:t}},function(e,t,n){n(446);var i=n(18);e.exports=i("Array").some},function(e,t,n){var i=n(0),r=n(45).some;i({target:"Array",proto:!0,forced:n(54)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(448));t.default=r.default},function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(162),a=i(n(450)),o=function(){function e(e){var t=e.fill,n=e.cache;if("function"!=typeof t)throw new TypeError("must pass a fill function");if("object"!=typeof n)throw new TypeError("must pass a cache object");if("function"!=typeof n.get||"function"!=typeof n.set||"function"!=typeof n.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}return e.isAbortException=function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message},e.prototype.evict=function(e,t){this.cache.get(e)===t&&this.cache.delete(e)},e.prototype.fill=function(e,t,n){var i=this,r=new a.default,o={aborter:r,promise:this.fillCallback(t,r.signal),settled:!1,get aborted(){return this.aborter.signal.aborted}};o.aborter.addSignal(n),o.aborter.signal.addEventListener("abort",function(){i.evict(e,o)}),o.promise.then(function(){o.settled=!0},function(t){o.settled=!0,i.evict(e,o)}).catch(function(e){throw console.error(e),e}),this.cache.set(e,o)},e.checkSinglePromise=function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(function(e){return n(),e},function(e){throw n(),e})},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.get=function(t,n,i){if(!i&&n instanceof r.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var a=this.cache.get(t);return a?a.aborted?(this.evict(t,a),this.get(t,n,i)):a.settled?a.promise:(a.aborter.addSignal(i),e.checkSinglePromise(a.promise,i)):(this.fill(t,n,i),e.checkSinglePromise(this.cache.get(t).promise,i))},e.prototype.delete=function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))},e.prototype.clear=function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t},e}();t.default=o},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){i(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return a(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout(function(){return n.call(t,e)})},i=this.listeners[e.type],r=0,a=i.length;r<a;r++)n(i[r]);return!e.defaultPrevented}}}]),e}(),h=function(e){function t(){var e;return i(this,t),(e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}(this,o(t).call(this))).listeners||c.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),a(t,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),u(o(t.prototype),"dispatchEvent",this).call(this,e)}}]),t}(c),d=function(){function e(){i(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return a(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),t.AbortController=d,t.AbortSignal=h,t.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t=e.fetch,n=e.Request,i=void 0===n?t.Request:n,r=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==r&&r;if(!function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}({fetch:t,Request:i,AbortController:e.AbortController,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:t,Request:o};var o=i;(o&&!o.prototype.hasOwnProperty("signal")||a)&&((o=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var s=t;return{fetch:function(e,t){var n=o&&o.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var i;try{i=new DOMException("Aborted","AbortError")}catch(e){(i=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(i);var r=new Promise(function(e,t){n.addEventListener("abort",function(){return t(i)},{once:!0})});return t&&t.signal&&delete t.signal,Promise.race([r,s(e,t)])}return s(e,t)},Request:o}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(162),r=function(){},a=function(){function e(){this.signals=new Set,this.abortController=new i.AbortController}return e.prototype.addSignal=function(e){var t=this;if(void 0===e&&(e=new r),this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",function(){t.handleAborted(e)})},e.prototype.handleAborted=function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()},Object.defineProperty(e.prototype,"signal",{get:function(){return this.abortController.signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){this.abortController.abort()},e}();t.default=a}]),fh=function(){function e(t,n,i){v(this,e),this.config=t,this.browser=i,this.genome=n,this.cramFile=new dh.CramFile({filehandle:new ph(t.url,t),seqFetch:t.seqFetch||(function(e,t,n){var i=this.genome.sequence,r=this.genome;return this.getHeader().then(function(a){var o=r.getChromosomeName(a.chrNames[e]);return i.getSequence(o,t-1,n)})}).bind(this),checkSequenceMD5:void 0===t.checkSequenceMD5||t.checkSequenceMD5});var r=new ph(t.indexURL,t);this.indexedCramFile=new dh.IndexedCramFile({cram:this.cramFile,index:new dh.CraiIndex({filehandle:r}),fetchSizeLimit:3e7}),eh.setReaderDefaults(this,t)}var t,n;return m(e,[{key:"getHeader",value:(n=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=48;break}return t=this.genome,e.next=4,this.cramFile.getSamHeader();case 4:n=e.sent,i={},r=[],a={},o=[],s=d(n),e.prev=10,s.s();case 12:if((l=s.n()).done){e.next=39;break}if("SQ"!==(u=l.value).tag){e.next=36;break}c=d(u.data),e.prev=16,c.s();case 18:if((h=c.n()).done){e.next=26;break}if("SN"!==(f=h.value).tag){e.next=24;break}return p=f.value,i[p]=r.length,r.push(p),t&&(a[t.getChromosomeName(p)]=p),e.abrupt("break",26);case 24:e.next=18;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(16),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:e.next=37;break;case 36:"RG"===u.tag&&o.push(u.data);case 37:e.next=12;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(10),s.e(e.t1);case 44:return e.prev=44,s.f(),e.finish(44);case 47:this.header={chrNames:r,chrToIndex:i,chrAliasTable:a,readGroups:o};case 48:return e.abrupt("return",this.header);case 49:case"end":return e.stop()}},e,this,[[10,41,44,47],[16,28,31,34]])})),function(){return n.apply(this,arguments)})},{key:"readAlignments",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u,c,h,f,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y=function(e,t){var n=new Hc;return n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId&&(n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags)}),n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,function(e,t){var n,i,r=[],a=0,o="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures){var s,l=d(e.readFeatures);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.code,h=u.data,f=u.pos-1,p=u.refPos-1;switch(c){case"S":case"I":case"i":case"N":case"D":if(f>a){var v=f-a;r.push(new Zc({start:p-v,seqOffset:a,len:v,type:"M"})),a+=v,o+=v+"M"}if("S"===c){var g=p;t.scLengthOnRef+=h.length,0===f&&(t.scStart-=h.length,g-=h.length);var m=h.length;r.push(new Zc({start:g,seqOffset:a,len:m,type:"S"})),a+=m,o+=m+c}else if("I"===c||"i"===c){void 0===n&&(n=[]);var y="i"===c?1:h.length;n.push(new Zc({start:p,len:y,seqOffset:a,type:"I"})),a+=y,o+=y+c}else"D"!==c&&"N"!==c||(i||(i=[]),i.push({start:p,len:h,type:c}),o+=h+c);break;case"H":case"P":o+=h+c}}}catch(di){l.e(di)}finally{l.f()}}var b=e.readLength-a;b>0&&(r.push(new Zc({start:e.alignmentStart+e.lengthOnRef-b-1,seqOffset:a,len:b,type:"M"})),o+=b+"M"),t.blocks=r,t.insertions=n,t.gaps=i,t.cigar=o}(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),eh.setPairOrientation(n),n},e.next=3,this.getHeader();case 3:if(r=e.sent,a=r.chrAliasTable.hasOwnProperty(t)?r.chrAliasTable[t]:t,o=r.chrToIndex[a],s=new Lc(t,n,i,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),void 0!==o){e.next=9;break}return e.abrupt("return",s);case 9:return e.prev=9,e.next=12,this.indexedCramFile.getRecordsForRange(o,n,i);case 12:l=e.sent,u=d(l),e.prev=14,u.s();case 16:if((c=u.n()).done){e.next=31;break}if(h=c.value,f=h.sequenceId,p=h.alignmentStart,v=p+h.lengthOnRef,!(f<0)){e.next=21;break}return e.abrupt("continue",29);case 21:if(!(f>o||p>i)){e.next=23;break}return e.abrupt("return");case 23:if(!(f<o)){e.next=25;break}return e.abrupt("continue",29);case 25:if(!(v<n)){e.next=27;break}return e.abrupt("continue",29);case 27:g=y(h,r.chrNames),this.filter.pass(g)&&s.push(g);case 29:e.next=16;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(14),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:return e.abrupt("return",(s.finish(),s));case 42:throw e.prev=42,e.t1=e.catch(9),(m=e.t1.message)&&m.indexOf("MD5")>=0&&(m="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),no.presentAlert(new Error(m)),e.t1;case 46:case"end":return e.stop()}},e,this,[[9,42],[14,33,36,39]])})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),ph=function(){function e(t,n){var i=this;v(this,e),this.position=0,this.url=t,this.config=n,this.cache=new vh({fetch:function(e,t){return i._fetch(e,t)}})}var t,n,i,r;return m(e,[{key:"_fetch",value:(r=b(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={start:t,size:n},this._stat={size:void 0},e.next=4,va.loadArrayBuffer(this.url,vs(this.config,{range:i}));case 4:return r=e.sent,e.abrupt("return",Buffer.from(r));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"read",value:(i=b(regeneratorRuntime.mark(function e(t){var n,i,r,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,i=a.length>2&&void 0!==a[2]?a[2]:1/0,r=a.length>3&&void 0!==a[3]?a[3]:0,e.abrupt("return",(null===r&&(this.position,this.position+=i),this.cache.get(t,n,i,r)));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readFile",value:(n=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va.loadArrayBuffer(this.url,vs(this.config));case 2:return t=e.sent,e.abrupt("return",Buffer.from(t));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=Buffer.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),vh=function(){function e(t){var n=t.fetch,i=t.size,r=void 0===i?1e7:i,a=t.chunkSize,o=void 0===a?32768:a;v(this,e),this.fetch=n,this.chunkSize=o,this.lruCache=new gh({maxSize:Math.floor(r/o)})}var t;return m(e,[{key:"get",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){var a,o,s,l,u,c,h,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+i)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(r/this.chunkSize),o=Math.floor((r+i)/this.chunkSize),s=new Array(o-a+1),l=function(e){s[e-a]=d._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},u=a;u<=o;u+=1)l(u);return e.next=7,Promise.all(s);case 7:c=e.sent,h=r-c[0].chunkNumber*this.chunkSize,c.forEach(function(e){var s=e.data,l=e.chunkNumber,u=0,c=d.chunkSize,f=n+(l-a)*d.chunkSize-h;l===a&&(f=n,u=h),l===o&&(c=r+i-l*d.chunkSize),s.copy(t,f,u,c)});case 10:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),gh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return m(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark(function e(){var t,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=n(i.value,1),a=r[0],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:regeneratorRuntime.mark(function e(){var t,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=n(i.value,2),a=r[1],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:e,value:regeneratorRuntime.mark(function e(){var t,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this.cache),e.prev=1,t.s();case 3:if((i=t.n()).done){e.next=9;break}return r=i.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:a=d(this.oldCache),e.prev=18,a.s();case 20:if((o=a.n()).done){e.next=29;break}if(s=o.value,l=n(s,1),u=l[0],e.t1=this.cache.has(u),e.t1){e.next=27;break}return e.next=27,s;case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),a.e(e.t2);case 34:return e.prev=34,a.f(),e.finish(34);case 37:case"end":return e.stop()}},e,this,[[1,11,14,17],[18,31,34,37]])})},{key:"size",get:function(){var e,t=0,n=d(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;this.cache.has(i)||t++}}catch(di){n.e(di)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator),mh={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},yh=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new Kc(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,this.pairsSupported=!!e.viewAsPairs||void 0===e.pairsSupported||e.pairsSupported};yh.prototype.readAlignments=function(e,t,n){var i=this.genome,r=this;return(r.chrAliasTable?Promise.resolve(r.chrAliasTable):r.readMetadata().then(function(e){if(r.chrAliasTable={},i&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?wu({url:r.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then(function(e){return e.forEach(function(e){var t=e.name,n=i.getChromosomeName(t);r.chrAliasTable[n]=t}),r.chrAliasTable}):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(r.chrAliasTable,r.config.datasetId),r.chrAliasTable)}return r.chrAliasTable})).then(function(i){var o=i.hasOwnProperty(e)?i[e]:e;return wu({url:r.url+"/reads/search",body:{readGroupSetIds:[r.readGroupSetIds],referenceName:o,start:t,end:n,pageSize:"10000"},decode:a,results:new Lc(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold)})});function a(e){var t,n,a,o,s,l=e.alignments,u=l.length,c=[];for(t=0;t<u;t++){var h=l[t];(n=new Hc).readName=h.fragmentName,n.properPlacement=h.properPlacement,n.duplicateFragment=h.duplicateFragment,n.numberReads=h.numberReads,n.fragmentLength=h.fragmentLength,n.readNumber=h.readNumber,n.failedVendorQualityChecks=h.failedVendorQualityChecks,n.secondaryAlignment=h.secondaryAlignment,n.supplementaryAlignment=h.supplementaryAlignment,n.seq=h.alignedSequence,n.qual=h.alignedQuality,n.matePos=h.nextMatePosition,n.tagDict=h.info,n.flags=0,h.alignment?(n.mapped=!0,n.chr=h.alignment.position.referenceName,i&&(n.chr=i.getChromosomeName(n.chr)),n.start=parseInt(h.alignment.position.position),n.strand=!h.alignment.position.reverseStrand,n.mq=h.alignment.mappingQuality,n.cigar=d(h.alignment.cigar),a=f(h.alignment.cigar),n.lengthOnRef=a.lengthOnRef,s=p(n,a.array),n.blocks=s.blocks,n.insertions=s.insertions):n.mapped=!1,(o=h.nextMatePosition)&&(n.mate={chr:o.referenceFrame,position:parseInt(o.position),strand:!o.reverseStrand}),r.filter.pass(n)&&c.push(n)}return c;function d(e){var t="";return e.forEach(function(e){t+=e.operationLength+mh[e.operation]}),t}function f(e){var t,n,i,r,a=0,o=[];for(r=0;r<e.length;r++)i=mh[(t=e[r]).operation],n=parseInt(t.operationLength),"M"!==i&&"EQ"!==i&&"X"!==i&&"D"!==i&&"N"!==i&&"="!==i||(a+=n),o.push({len:n,ltr:i});return{lengthOnRef:a,array:o}}function p(e,t){for(var n,i,r,a=[],o=0,s=e.start,l=t.length,u=0;u<l;u++){var c=t[u];switch(c.ltr){case"H":case"P":break;case"S":o+=c.len,r="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:s,len:c.len,type:c.ltr}),s+=c.len;break;case"I":void 0===i&&(i=[]),i.push(new Zc({start:s,len:c.len,seqOffset:o})),o+=c.len;break;case"M":case"EQ":case"=":case"X":a.push(new Zc({start:s,len:c.len,seqOffset:o,gapType:r})),o+=c.len,s+=c.len;break;default:console.log("Error processing cigar element: "+c.len+c.ltr)}}return{blocks:a,insertions:i,gaps:n}}}},yh.prototype.readMetadata=function(){return _u({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var bh=function(){function e(t,n){v(this,e);var i=n.genome;if(this.config=t,this.genome=i,this.alignmentContainer=void 0,ws(t.url)){if("cram"===t.format)throw"CRAM data uris are not supported";this.config.indexed=!1}if("ga4gh"===t.sourceType)this.bamReader=new yh(t,i);else if("pysam"===t.sourceType)this.bamReader=new lh(t,i);else if("htsget"===t.sourceType)this.bamReader=new ch(t,i);else if("shardedBam"===t.sourceType)this.bamReader=new sh(t,i);else if("cram"===t.format)this.bamReader=new fh(t,i,n);else{if(!this.config.indexURL&&!1!==t.indexed)if(Pt(this.config.url)){var r=function(e,t){if(Pt(e)){if(e.includes("?")){var n=e.indexOf("?");return e.substring(0,n)+".bai"+e.substring(n)}return e+".bai"}}(this.config.url);r?(console.error("Warning: no indexURL specified for ".concat(this.config.url,".  Guessing ").concat(this.baiPath)),this.config.indexURL=r):(console.error("Warning: no indexURL specified for ".concat(this.config.url,".")),this.config.indexed=!1)}else console.error("Warning: no indexURL specified for ".concat(this.config.name,".")),this.config.indexed=!1;this.bamReader=!1!==this.config.indexed?new oh(t,i):new ah(t,i)}this.viewAsPairs=t.viewAsPairs,this.showSoftClips=t.showSoftClips}var t;return m(e,[{key:"setViewAsPairs",value:function(e){this.viewAsPairs!==e&&(this.viewAsPairs=e)}},{key:"setShowSoftClips",value:function(e){this.showSoftClips!==e&&(this.showSoftClips=e)}},{key:"getAlignments",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.genome,a=this.showSoftClips,console.log("in getALignments"),!this.alignmentContainer||!this.alignmentContainer.contains(t,n,i)){e.next=3;break}return e.abrupt("return",(console.log("returning cached container"),this.alignmentContainer));case 3:return console.log("refreshing alignments"),e.next=6,this.bamReader.readAlignments(t,n,i);case 6:if(o=e.sent,s=o.alignments,this.viewAsPairs||(s=Pc([{alignments:s}])),l=s.length>0,o.packedAlignmentRows=Mc(s,o.start,o.end,a),o.alignments=void 0,this.alignmentContainer=o,!l){e.next=17;break}return e.next=13,r.sequence.getSequence(t,o.start,o.end);case 13:if(!(u=e.sent)){e.next=16;break}return e.abrupt("return",(console.log("got something back"),o.coverageMap.refSeq=u,o.sequence=u,o));case 16:console.error("No sequence for: "+t+":"+o.start+"-"+o.end);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),_h=function(e){a(i,e);var t,n=s(i);function i(e,t){return v(this,i),n.call(this,e,t)}return m(i,[{key:"init",value:function(e){r(h(i.prototype),"init",this).call(this,e),this.type="alignment",void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new bh(e,this.browser),this.showCoverage=void 0===e.showCoverage||e.showCoverage,this.showAlignments=void 0===e.showAlignments||e.showAlignments,this.coverageTrack=new wh(e,this),this.alignmentTrack=new kh(e,this),this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=!1!==e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.showMismatches=!1!==e.showMismatches,this.color=e.color,this.coverageColor=e.coverageColor,this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,e.sort&&(Array.isArray(e.sort)?this.assignSort(e.sort[0]):this.assignSort(e.sort)),this.height=void 0!==e.height?e.height:300}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.coverageTrack&&this.showAlignments&&(this.alignmentTrack.height=this.showCoverage?e-this.coverageTrack.height:e)}},{key:"sort",value:function(e){e=this.assignSort(e);var t,n=d(this.trackView.viewports);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.containsPosition(e.chr,e.position)){var r=i.getCachedFeatures();r&&(xh(e,r),i.repaint())}}}catch(di){n.e(di)}finally{n.f()}}},{key:"assignSort",value:function(e){if(e.locus){var t=function(e){var t=e.split(":"),n=t[1].split("-"),i={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return i.end=n.length>1?Number.parseInt(n[1].replace(/,/g,"")):i.start+1,i}(e.locus);e.chr=t.chr,e.position=t.start}else e.position--;return e.direction="ASC"===e.direction||!0===e.direction,e.chr=this.browser.genome.getChromosomeName(e.chr),this.sortObject=e,this.sortObject}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r,a){var o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("bamtrack.getFeatures: start "+n+"end "+i),e.next=3,this.featureSource.getAlignments(t,n,i);case 3:return(o=e.sent).alignments&&o.alignments.length>99&&(void 0===this.minFragmentLength&&(this.minFragmentLength=o.pairedEndStats.lowerFragmentLength),void 0===this.maxFragmentLength&&(this.maxFragmentLength=o.pairedEndStats.upperFragmentLength)),s=this.sortObject,e.abrupt("return",(s&&s.chr===t&&s.position>=n&&s.position<=i&&xh(s,o),o));case 7:case"end":return e.stop()}},e,this)})),function(e,n,i,r,a){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return(this.showCoverage?this.coverageTrack.height:0)+(this.showAlignments?this.alignmentTrack.computePixelHeight(e):0)+15}},{key:"draw",value:function(e){fo.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),!0===this.showCoverage&&this.coverageTrack.height>0?(this.trackView.axisCanvas.style.display="block",this.coverageTrack.draw(e)):this.trackView.axisCanvas.style.display="none",!0===this.showAlignments&&(this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.alignmentTrack.draw(e))}},{key:"paintAxis",value:function(e,t,n){this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)}},{key:"contextMenuItemList",value:function(e){return this.alignmentTrack.contextMenuItemList(e)}},{key:"popupData",value:function(e){return!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)}},{key:"menuItemList",value:function(){var e=this,t=[];(t=t.concat(Va.numericDataMenuItems(this.trackView))).push("<hr/>");var n=St('<div class="igv-track-menu-category">');n.text("Color by:"),t.push({name:void 0,object:n,click:void 0,init:void 0});var i=[{key:"strand",label:"read strand"}];this.alignmentTrack.hasPairs&&(i.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),i.push({key:"pairOrientation",label:"pair orientation"}),i.push({key:"fragmentLength",label:"insert size (TLEN)"})),i.push({key:"tag",label:"tag"+(this.alignmentTrack.colorByTag?" ("+this.alignmentTrack.colorByTag+")":"")});for(var r=0,a=i;r<a.length;r++){var o=a[r];t.push(this.colorByCB(o,this.alignmentTrack.colorBy===o.key))}var s=function(){e.autoHeight||e.trackView.setTrackHeight(15+(e.showCoverage?e.coverageTrack.height:0)+(e.showAlignments?e.alignmentTrack.height:0))};t.push("<hr/>"),t.push({object:St(za("Show Coverage",this.showCoverage)),click:function(){e.showCoverage=!e.showCoverage,s(),e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push({object:St(za("Show Alignments",this.showAlignments)),click:function(){e.showAlignments=!e.showAlignments,s(),e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push("<hr/>"),t.push({object:St(za("Show all bases",this.showAllBases)),click:function(){e.showAllBases=!e.showAllBases,e.config.showAllBases=e.showAllBases,e.trackView.repaintViews()}}),t.push({object:St(za("Show soft clips",this.showSoftClips)),click:function(){e.showSoftClips=!e.showSoftClips,e.config.showSoftClips=e.showSoftClips,e.featureSource.setShowSoftClips(e.showSoftClips);var t,n=d(e.getCachedAlignmentContainers());try{for(n.s();!(t=n.n()).done;){t.value.setShowSoftClips(e.showSoftClips)}}catch(di){n.e(di)}finally{n.f()}e.trackView.repaintViews()}}),this.pairsSupported&&this.alignmentTrack.hasPairs&&(t.push("<hr/>"),t.push({object:St(za("View as pairs",this.viewAsPairs)),click:function(){e.viewAsPairs=!e.viewAsPairs,e.config.viewAsPairs=e.viewAsPairs,e.featureSource.setViewAsPairs(e.viewAsPairs);var t,n=d(e.getCachedAlignmentContainers());try{for(n.s();!(t=n.n()).done;){t.value.setViewAsPairs(e.viewAsPairs)}}catch(di){n.e(di)}finally{n.f()}e.trackView.repaintViews()}})),t.push("<hr/>");var l=St('<div class="igv-track-menu-category">');return l.text("Display mode:"),t.push({name:void 0,object:l,click:void 0,init:void 0}),t.push({object:St(za("expand","EXPANDED"===this.alignmentTrack.displayMode)),click:function(){e.alignmentTrack.displayMode="EXPANDED",e.config.displayMode="EXPANDED",e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push({object:St(za("squish","SQUISHED"===this.alignmentTrack.displayMode)),click:function(){e.alignmentTrack.displayMode="SQUISHED",e.config.displayMode="SQUISHED",e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t}},{key:"colorByCB",value:function(e,t){var n=this;return{name:void 0,object:St(za(e.label,t)),click:function(t){e.key===n.alignmentTrack.colorBy?(n.alignmentTrack.colorBy="none",n.config.colorBy="none",n.trackView.repaintViews()):"tag"===e.key?n.browser.inputDialog.present({label:"Tag Name",value:n.alignmentTrack.colorByTag?n.alignmentTrack.colorByTag:"",callback:function(e){n.alignmentTrack.colorBy="tag",n.config.colorBy="tag",e!==n.alignmentTrack.colorByTag&&(n.alignmentTrack.colorByTag=e,n.config.colorByTag=e,n.alignmentTrack.tagColors=new wo("Set1"),St("#color-by-tag").text(self.alignmentTrack.colorByTag)),n.trackView.repaintViews()}},t):(n.alignmentTrack.colorBy=e.key,n.config.colorBy=e.key,n.trackView.repaintViews())},init:void 0}}},{key:"dispose",value:function(){this.trackView=void 0}},{key:"getState",value:function(){var e=r(h(i.prototype),"getState",this).call(this);return this.sortObject&&(e.sort={chr:this.sortObject.chr,position:this.sortObject.position+1,option:this.sortObject.option,direction:this.sortObject.direction?"ASC":"DESC"}),e}},{key:"getCachedAlignmentContainers",value:function(){return this.trackView.viewports.map(function(e){return e.getCachedFeatures()})}},{key:"dataRange",get:function(){return this.coverageTrack.dataRange},set:function(e){this.coverageTrack.dataRange=e}},{key:"logScale",get:function(){return this.coverageTrack.logScale},set:function(e){this.coverageTrack.logScale=e}},{key:"autoscale",get:function(){return this.coverageTrack.autoscale},set:function(e){this.coverageTrack.autoscale=e}}]),i}(Ol),wh=function(){function e(t,n){v(this,e),this.parent=n,this.featureSource=n.featureSource,this.height=void 0!==t.coverageTrackHeight?t.coverageTrackHeight:50,this.paintAxis=_c,this.top=0,this.autoscale=t.autoscale||void 0===t.max,this.autoscale||(this.dataRange={min:t.min||0,max:t.max})}return m(e,[{key:"draw",value:function(e){var t=this.parent.browser.nucleotideColors;if(!(e.pixelTop>this.height)){var n,i=e.context,r=e.features.coverageMap;r.refSeq&&(n=r.refSeq.toUpperCase());var a=e.bpPerPixel,o=e.bpStart,s=o+e.pixelWidth*a+1,l=this.parent.coverageColor||"rgb(150, 150, 150)";void 0!==this.parent.color&&(l=na.darkenLighten(this.parent.color,-35)),fo.setProperties(i,{fillStyle:l,strokeStyle:l});for(var u=Math.max(1,Math.ceil(1/a)),c=0,h=r.coverage.length;c<h;c++){var d=r.bpStart+c;if(!(d<o)){if(d>s)break;var f=r.coverage[c];if(f){var p=Math.round(f.total/this.dataRange.max*this.height),v=this.height-p,g=Math.floor((d-o)/a);fo.fillRect(i,g,v,u,p)}}}if(n)for(var m=0,y=r.coverage.length;m<y;m++){var b=r.bpStart+m;if(!(b<o)){if(b>s)break;var _=r.coverage[m];if(_){var w=_.total/this.dataRange.max*this.height,k=this.height-w,x=Math.floor((b-o)/a),S=n[m];if(_.isMismatch(S)){fo.setProperties(i,{fillStyle:t[S]}),fo.fillRect(i,x,k,u,w);for(var C=0,E=0,R=["A","C","T","G"];E<R.length;E++){var A=R[E],T=(_["pos"+A]+_["neg"+A])/this.dataRange.max*this.height;k=this.height-T-C,C+=T,fo.setProperties(i,{fillStyle:t[A]}),fo.fillRect(i,x,k,u,T)}}}}}}}},{key:"popupData",value:function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),i=e.viewport.referenceFrame,r=t.coverageMap,a=[],o=Math.floor(n-r.bpStart),s=r.coverage[o];if(s){a.push(i.chr+":"+Mt(1+n)),a.push({name:"Total Count",value:s.total});var l=s.posA+s.negA;l>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),a.push({name:"A",value:l}),(l=s.posC+s.negC)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),a.push({name:"C",value:l}),(l=s.posG+s.negG)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),a.push({name:"G",value:l}),(l=s.posT+s.negT)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),a.push({name:"T",value:l}),(l=s.posN+s.negN)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),a.push({name:"N",value:l}),a.push("<HR/>"),a.push({name:"DEL",value:s.del.toString()}),a.push({name:"INS",value:s.ins.toString()})}return a}}}]),e}(),kh=function(){function e(t,n){v(this,e),this.parent=n,this.browser=n.browser,this.featureSource=n.featureSource,this.top=0===t.coverageTrackHeight?0:t.coverageTrackHeight+5,this.displayMode=t.displayMode||"EXPANDED",this.alignmentRowHeight=t.alignmentRowHeight||14,this.squishedRowHeight=t.squishedRowHeight||3,this.negStrandColor=t.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=t.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=t.insertionColor||"rgb(138, 94, 161)",this.deletionColor=t.deletionColor||"black",this.skippedColor=t.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=t.pairConnectorColor,this.smallFragmentLengthColor=t.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=t.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=t.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=t.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=t.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=t.llColor||"rgb(0, 150, 150)",this.colorBy=t.colorBy||"pairOrientation",this.colorByTag=t.colorByTag?t.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===t.bamColorTag?"YC":t.bamColorTag,this.hideSmallIndels=t.hideSmallIndels,this.indelSizeThreshold=t.indelSizeThreshold||1,this.hasPairs=!1}return m(e,[{key:"setTop",value:function(e,t){this.top=0===e.height||!1===t?0:5+e.height}},{key:"computePixelHeight",value:function(e){return e.packedAlignmentRows?(e.hasDownsampledIntervals()?10:0)+("SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight)*e.packedAlignmentRows.length+5:0}},{key:"draw",value:function(e){var t=e.features,n=e.context,i=e.bpPerPixel,r=e.bpStart,a=r+e.pixelWidth*i+1,o=t.packedAlignmentRows,s=this.parent.showSoftClips,l=this.parent.showAllBases,u=this.browser.nucleotideColors;n.save();var c=t.sequence;c&&(c=c.toUpperCase());var h=0,f=e.pixelTop;this.top&&n.translate(0,this.top);var p=f+e.pixelHeight;t.hasDownsampledIntervals()?(h=10,t.downsampledIntervals.forEach(function(e){var t=(e.start-r)/i,a=(e.end-r)/i;a-t>5&&(t+=1,a-=1),fo.fillRect(n,t,2,a-t,3,{fillStyle:"black"})})):h=0,this.alignmentsYOffset=h;var v="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;if(o)for(var g=o.length,m=0;m<g;m++){var y=o[m],b=h+v*m,_=v<=4?v:v-2;if(b>p)break;if(!(b+_<f)){var w,k=d(y.alignments);try{for(k.s();!(w=k.n()).done;){var x=w.value;if(this.hasPairs=this.hasPairs||x.isPaired(),!(x.start+x.lengthOnRef<r)){if(x.start>a)break;!0!==x.hidden&&(x instanceof Ac?(S.call(this,x,b,_),C.call(this,x.firstAlignment,b,_),x.secondAlignment&&C.call(this,x.secondAlignment,b,_)):C.call(this,x,b,_))}}}catch(di){k.e(di)}finally{k.f()}}}function S(e,t,o){var s=this.getConnectorColor(e.firstAlignment),l=(e.connectingStart-r)/i,u=(e.connectingEnd-r)/i,c=t+o/2;e.connectingEnd<r||e.connectingStart>a||(e.mq<=0&&(s=na.addAlpha(s,.15)),fo.setProperties(n,{fillStyle:s,strokeStyle:s}),fo.strokeLine(n,l,c,u,c))}function C(e,o,h){if(!(e.start+e.lengthOnRef<r||e.start>a)){var f=s?e.blocks:e.blocks.filter(function(e){return"S"!==e.type}),p=this.getAlignmentColor(e),g=p;e.mq<=0&&(p=na.addAlpha(p,.15)),fo.setProperties(n,{fillStyle:p,strokeStyle:g});for(var m=0;m<f.length;m++){var y=f[m];if(!(m!==f.length-1&&f[m+1].start<r)&&(A.call(this,y,m),y.start+y.len>a))break}if(e.insertions){var b,_=-1,w=d(e.insertions);try{for(w.s();!(b=w.n()).done;){var k=b.value;if(!(this.hideSmallIndels&&k.len<=this.indelSizeThreshold)&&!(k.start<r)){if(k.start>a)break;var x=(k.start-r)/i-1;x-_>2&&(fo.fillRect(n,x,o-1,3,h+2,{fillStyle:this.insertionColor}),_=x)}}}catch(di){w.e(di)}finally{w.f()}}if(e.gaps){var S,C=o+h/2,E=d(e.gaps);try{for(E.s();!(S=E.n()).done;){var R=S.value;fo.strokeLine(n,(R.start-r)/i,C,(R.start+R.len-r)/i,C,{strokeStyle:"D"===R.type?this.deletionColor:this.skippedColor})}}catch(di){E.e(di)}finally{E.f()}}}function A(a,s){var d=a.start-t.start,m=(a.start-r)/i,y=(a.start+a.len-r)/i,b=Math.max(1,y-m),_=v/2,w="S"===a.type,k=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||w,x=g;this.highlightedAlignmentReadNamed===e.readName?x="red":w&&(x="rgb(50,50,50)");var S,C,E=!0===e.strand&&s===f.length-1,R=!1===e.strand&&0===s,A=E|R;(console.log("drawBlock"),A)?(E?(S=[m,y,y+_,y,m,m],C=[o,o,o+h/2,o+h,o+h,o]):R&&(S=[y,m,m-_,m,y,y],C=[o,o,o+h/2,o+h,o+h,o]),fo.fillPolygon(n,S,C,{fillStyle:p}),k&&fo.strokePolygon(n,S,C,{strokeStyle:x})):(fo.fillRect(n,m,o,b,h,{fillStyle:p}),k&&(n.save(),n.strokeStyle=x,n.strokeRect(m,o,b,h),n.restore()));if(this.parent.showMismatches&&(w||l||c&&e.seq&&"*"!==e.seq))for(var I=e.seq?e.seq.toUpperCase():void 0,D=e.qual,O=a.seqOffset,P=0,M=a.len;P<M;P++)if(!(d+P<0)){var L=I?I.charAt(O+P):"",F=c.charAt(d+P);if("="===L&&(L=F),"X"===L||F!==L||w||l){var N;if(N=!w&&void 0!==D&&D.length>O+P?Sh(D[O+P],u[L]):u[L]){var z=(a.start+P-r)/i,V=Math.max(1,1/i);T(n,i,{x:z,y:o,width:V,height:h},N,L)}}}if(e.tags().NM){var j=e.tags().NM,B=2*_+(a.start+a.len-r)/i,H=Math.min(10,h);n.font=H+"px sans-serif";var q=na.greyScale(68);1==j.indexOf("i")&&function(e){throw new TypeError('"'+e+'" is read-only')}("fillStyle"),fo.fillText(n,j,B,H-1+o,{fillStyle:q})}}function T(e,t,n,i,r){if(t<=.1&&n.height>=8){var a=Math.min(10,n.height);e.font=a+"px sans-serif",fo.strokeText(e,r,n.x+n.width/2-e.measureText(r).width/2,a-1+n.y,{strokeStyle:i})}else fo.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:i})}}n.restore()}},{key:"popupData",value:function(e){var t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0}},{key:"contextMenuItemList",value:function(e){var t=this,n=e.viewport,i=[],r=function(i){var r=t.parent.sortObject,a=!r||r.position!==Math.floor(e.genomicLocation)||!r.direction,o={chr:n.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:i,direction:a};t.parent.sortObject=o,xh(o,n.getCachedFeatures()),n.repaint()};i.push("<b>Sort by...</b>"),i.push({label:"&nbsp; base",click:function(){return r("BASE")}}),i.push({label:"&nbsp; read strand",click:function(){return r("STRAND")}}),i.push({label:"&nbsp; insert size",click:function(){return r("INSERT_SIZE")}}),i.push({label:"&nbsp; gap size",click:function(){return r("GAP_SIZE")}}),i.push({label:"&nbsp; chromosome of mate",click:function(){return r("MATE_CHR")}}),i.push({label:"&nbsp; mapping quality",click:function(){return r("MQ")}}),i.push({label:"&nbsp; read name",click:function(){return r("READ_NAME")}}),i.push({label:"&nbsp; tag",click:function(){var i=t.parent.sortObject,r=!i||i.position!==Math.floor(e.genomicLocation)||!i.direction;t.browser.inputDialog.present({label:"Tag Name",value:t.sortByTag?t.sortByTag:"",callback:function(i){if(i){var a={chr:n.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:"TAG",tag:i,direction:r};t.sortByTag=i,t.parent.sortObject=a,xh(a,n.getCachedFeatures()),n.repaint()}}},e.event)}}),i.push("<hr/>");var a=this.getClickedObject(n,e.y,e.genomicLocation);if(a){var o=this.parent.showSoftClips,s="function"==typeof a.alignmentContaining?a.alignmentContaining(e.genomicLocation,o):a;s.isPaired()&&s.isMateMapped()&&i.push({label:"View mate in split screen",click:function(){if(s.mate){var n=e.viewport.referenceFrame;t.browser.genome.getChromosome(s.mate.chr)?(t.highlightedAlignmentReadNamed=s.readName,t.browser.presentMultiLocusPanel(s,n)):no.presentAlert("Reference does not contain chromosome: ".concat(s.mate.chr))}},init:void 0}),i.push({label:"View read sequence",click:function(){if(s){var e=s.seq;no.presentAlert(e&&"*"!==e?e:"Read sequence: *")}}}),i.push({label:"Copy read sequence",click:function(){s&&navigator.clipboard.writeText(s.seq)}}),i.push("<hr/>")}return i}},{key:"getClickedObject",value:function(e,t,n){var i=this.parent.showSoftClips,r=e.getCachedFeatures();if(r&&0!==r.length){var a=r.packedAlignmentRows,o=r.downsampledIntervals,s=Math.floor((t-this.top-this.alignmentsYOffset)/("SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight));if(s<0){for(var l=0;l<o.length;l++)if(o[l].start<=n&&o[l].end>=n)return o[l]}else if(s<a.length){var u=a[s].alignments.filter(function(e){return e.containsLocation(n,i)});if(u.length>0)return u[0]}}}},{key:"getConnectorColor",value:function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}}},{key:"getAlignmentColor",value:function(e){var t=this.parent.color||"rgb(185, 185, 185)";switch(this.colorBy){case"strand":t=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof Ac?t=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?t=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?t=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)t=Eh(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var n=Ch[this.pairOrientation];if(n){var i=this.pairColors[n[e.pairOrientation]];i&&(t=i)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?t=Eh(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?t=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(t=this.largeFragmentLengthColor);break;case"tag":var r=e.tags()[this.colorByTag];void 0!==r&&(this.bamColorTag===this.colorByTag?t="rgb("+r+")":(this.tagColors||(this.tagColors=new wo("Set1")),t=this.tagColors.getColor(r)));break;default:t=this.parent.color||"rgb(185, 185, 185)"}return t}}]),e}();function xh(e,t){var n,i=e.direction,r=d(t.packedAlignmentRows);try{for(r.s();!(n=r.n()).done;){n.value.updateScore(e,t)}}catch(di){r.e(di)}finally{r.f()}t.packedAlignmentRows.sort(function(e,t){var n=e.score>t.score?1:e.score<t.score?-1:0;return!0===i?n:-n})}function Sh(e,t){var n;return n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),(n=Math.round(10*n)/10)<1&&(t=na.addAlpha(t,n)),t}var Ch={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function Eh(e){if(Rh[e])return Rh[e];if(Rh["chr"+e]){var t=Rh["chr"+e];return Rh[e]=t,t}var n=na.randomRGB();return Rh[e]=n,n}var Rh={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},Ah=function(e){a(o,e);var t,n,i=s(o);function o(e,t){return v(this,o),i.call(this,e,t)}return m(o,[{key:"init",value:function(e){r(h(o.prototype),"init",this).call(this,e),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcType=e.arcType||"nested",this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.showBlocks=void 0===e.showBlocks||e.showBlocks,this.blockHeight=e.blockHeight||3,this.thickness=e.thickness||1,this.color=e.color||"rgb(180,25,137)",this.alpha=e.alpha||.15,e.valueColumn?(this.valueColumn=e.valueColumn,this.hasValue=!0):e.useScore&&(this.hasValue=!0,this.valueColumn="score"),this.logScale=!1!==e.logScale,e.max?(this.dataRange={min:e.min||0,max:e.max},this.autoscale=!1):this.autoscale=!0,this.featureSource=tc(e,this.browser.genome),this.featureSource.getWGFeatures=Ph}},{key:"postInit",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=5;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent;case 5:if(this.header&&this.setTrackProperties(this.header),e.t1=void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow,!e.t1){e.next=12;break}return e.next=10,this.featureSource.defaultVisibilityWindow();case 10:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!0}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.visibilityWindow,e.next=3,this.featureSource.getFeatures({chr:t,start:n,end:i,visibilityWindow:r});case 3:return a=e.sent,e.abrupt("return",(console.log("getFeatures: start $(start) end $(end)"),void 0===this.hasValue&&a&&a.length>0&&(this.hasValue=void 0!==a[0].score),a));case 5:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){"proportional"===this.arcType?this.drawProportional(e):this.drawNested(e)}},{key:"drawNested",value:function(e){var t=e.context,n=e.pixelWidth,i=e.pixelHeight,r=e.viewportWidth,a=e.bpStart,o=e.bpPerPixel;fo.fillRect(t,0,e.pixelTop,n,i,{fillStyle:"rgb(255, 255, 255)"});var s=e.features;if(s){(function(){var e,t=0,l=d(s);try{for(l.s();!(e=l.n()).done;){var u=e.value,c=(u.start-a)/o,h=(u.end-a)/o;h>=0&&c<=n&&(t=Math.max(t,h-c))}}catch(di){l.e(di)}finally{l.f()}var f=Math.min(r,t)/2;t>0&&(this.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],i=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var r=0===t?0:n[t-1],a=0===t?0:i[t-1],o=t<i.length?i[t]:Math.PI/2;return a+(e-r)/((t<n.length?n[t]:1)-r)*(o-a)}((i-10)/f),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta))}).call(this);var l=this.arcOrientation?e.pixelHeight:0,u=this.arcOrientation;t.font="8px sans-serif",t.textAlign="center";var c,h=d(s);try{for(h.s();!(c=h.n()).done;){var f=c.value,p=f.color||this.color;if(p&&this.config.useScore&&(p=Oh(p,Math.min(1,.11+f.score/779*.89).toString())),t.lineWidth=f.thickness||this.thickness||1,f.chr1===f.chr2||"all"===f.chr){var v=Th(f,this.browser.genome),g=v.m1,m=v.m2,y=Math.round((g-a)/o),b=Math.round((m-a)/o);if(b<0||y>n)continue;var _=b-y;_<3&&(_=3,y--);var w=_/2,k=w/this.sinTheta,x=this.cosTheta*k,S=y+w,C=void 0,E=void 0,R=void 0;if(u?(C=this.height+x,E=Math.PI+Math.PI/2-this.theta,R=Math.PI+Math.PI/2+this.theta):(C=-x,E=Math.PI/2-this.theta,R=Math.PI/2+this.theta),this.showBlocks&&"all"!==f.chr){var A=(f.start1-a)/o,T=(f.start2-a)/o,I=(f.end2-a)/o,D=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(A,l,(f.end1-a)/o-A,D),t.fillRect(T,l,I-T,D)}p&&!this.config.useScore&&_>r&&(p=Oh(p,this.alpha)),t.strokeStyle=p,t.fillStyle=p,t.beginPath(),t.arc(S,C,k,E,R,!1),t.stroke(),f.drawState={xc:S,yc:C,r:k}}else{var O=Math.round((f.start-a)/o),P=Math.round((f.end-a)/o);if(P<0||O>n)continue;var M=P-O;M<3&&(M=3,O--);var L=f.chr===f.chr1?f.chr2:f.chr1;t.strokeStyle=p,t.fillStyle=p,u?(t.fillRect(O,this.height/2,M,this.height/2),t.fillText(L,O+M/2,this.height/2-5),f.drawState={x:O,y:this.height/2,w:M,h:this.height/2}):(t.fillRect(O,0,M,this.height/2),t.fillText(L,O+M/2,this.height/2+13),f.drawState={x:O,y:0,w:M,h:this.height/2})}}}catch(di){h.e(di)}finally{h.f()}}}},{key:"drawProportional",value:function(e){var t=e.context,n=e.pixelWidth,i=e.bpStart,r=e.bpPerPixel;fo.fillRect(t,0,e.pixelTop,n,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var a=e.features;if(a&&a.length>0){var o,s=this.logScale?e.pixelHeight/Math.log10(this.dataRange.max+1):e.pixelHeight/(this.dataRange.max-this.dataRange.min),l=this.arcOrientation?e.pixelHeight:0,u=d(a);try{for(u.s();!(o=u.n()).done;){var c=o.value,h=this.valueColumn?c[this.valueColumn]:c.score;if(void 0!==h&&!Number.isNaN(h)){var f=this.logScale?Math.log10(h+1)*s:h*s;if(c.chr1===c.chr2||"all"===c.chr){var p=Th(c,this.browser.genome),v=p.m1,g=p.m2,m=(v-i)/r,y=(g-i)/r,b=y-m;if(b<3&&(b=3,m--),y<0||m>n||h<this.dataRange.min)continue;var _=b/2,w=m+b/2,k=!!this.arcOrientation,x=c.color||this.color;if(t.strokeStyle=x,t.lineWidth=c.thickness||this.thickness||1,!0===t.isSVG?t.strokeEllipse(w,l,_,f,0,0,Math.PI,k):(t.beginPath(),t.ellipse(w,l,_,f,0,0,Math.PI,k),t.stroke()),this.showBlocks&&"all"!==c.chr){t.fillStyle=x;var S=(c.start1-i)/r,C=(c.start2-i)/r,E=(c.end2-i)/r,R=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(S,l,(c.end1-i)/r-S,R),t.fillRect(C,l,E-C,R)}this.alpha&&(t.fillStyle=Oh(x,this.alpha),!0===t.isSVG?t.fillEllipse(w,l,_,f,0,0,Math.PI,k):t.fill()),c.drawState={xc:w,yc:l,radiusX:_,radiusY:f}}else{var A=Math.round((c.start-i)/r),T=Math.round((c.end-i)/r);if(T<0||A>n||h<this.dataRange.min)continue;var I=Math.min(f,this.height-13),D=T-A;D<3&&(D=3,A--);var O=c.chr===c.chr1?c.chr2:c.chr1;if(t.font="8px sans-serif",t.textAlign="center",this.arcOrientation){var P=this.height-I;t.fillRect(A,P,D,I),t.fillText(O,A+D/2,P-5),c.drawState={x:A,y:P,w:D,h:I}}else t.fillRect(A,0,D,I),t.fillText(O,A+D/2,I+13),c.drawState={x:A,y:0,w:D,h:I}}}}}catch(di){u.e(di)}finally{u.f()}}}},{key:"menuItemList",value:function(){var e=this,t=[{name:"Set track color",click:function(){e.trackView.presentColorPicker()}},"<HR/>"];if(this.hasValue)for(var n={nested:"Nested Arcs",proportional:"Proportional Arcs"},i=function(){var i=a[r];t.push({object:St(za(n[i],i===e.arcType)),click:function(){e.arcType=i,e.trackView.repaintViews()}})},r=0,a=["nested","proportional"];r<a.length;r++)i();return t.push({object:St(za("Show Blocks",this.showBlocks)),click:function(){e.showBlocks=!e.showBlocks,e.trackView.repaintViews()}}),t.push({name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}),"proportional"===this.arcType&&(t.push("<HR>"),t=t.concat(Va.numericDataMenuItems(this.trackView))),t}},{key:"doAutoscale",value:function(e){var t=0;if(e){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=this.valueColumn?r[this.valueColumn]:r.score;Number.isNaN(a)||(t=Math.max(t,a))}}catch(di){i.e(di)}finally{i.f()}}return{min:0,max:t}}},{key:"popupData",value:function(e,t){var n,i=[],r=d(this.clickedFeatures(e));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a._||a;if(i.push({name:"Region 1",value:Ih(o.chr1,o.start1,o.end1,o.strand1)}),i.push({name:"Region 2",value:Ih(o.chr2,o.start2,o.end2,o.strand2)}),o.name&&i.push({name:"Name",value:o.name}),void 0!==o.value&&i.push({name:"Value",value:o.value}),void 0!==o.score&&i.push({name:"Score",value:o.score}),o.extras&&this.header&&this.header.columnNames)for(var s=this.header.columnNames,l=10;l<s.length;l++)"info"===s[l]?Mh(i,o.extras[l-10]):i.push({name:s[l],value:o.extras[l-10]});break}}catch(di){r.e(di)}finally{r.f()}return i}},{key:"clickedFeatures",value:function(e,t){var n=t||e.viewport.getCachedFeatures(),i=[];if(n){var r,a="proportional"===this.arcType,o=d(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.drawState)if(s.chr1===s.chr2||"all"===s.chr)if(a){var l=s.drawState,u=l.xc,c=l.yc,h=l.radiusX,f=l.radiusY,p=e.canvasX-u,v=e.canvasY-c,g=p/h*(p/h)+v/f*(v/f);g<=1&&i.push({score:1/g,feature:s})}else{var m=s.drawState,y=m.xc,b=m.yc,_=m.r,w=e.canvasX-y,k=e.canvasY-b,x=Math.abs(Math.sqrt(w*w+k*k)-_);x<5&&i.push({score:x,feature:s})}else{var S=s.drawState,C=S.x,E=S.y,R=S.w,A=S.h;if(e.canvasX>=C-5&&e.canvasX<=C+R+5&&e.canvasY>=E&&e.canvasY<=E+A){var T=-Math.abs(e.canvasX-(C+R/2));i.push({score:T,feature:s});break}}}}catch(di){o.e(di)}finally{o.f()}}return i.length>1&&i.sort(function(e,t){return e.score-t.score}),i.map(function(e){return e.feature})}}]),o}(Ol);function Th(e,t){var n=(e.start1+e.end1)/2,i=(e.start2+e.end2)/2;if("all"===e.chr&&(n=t.getGenomeCoordinate(e.chr1,n),i=t.getGenomeCoordinate(e.chr2,i)),n>i){var r=n;n=i,i=r}return{m1:n,m2:i}}function Ih(e,t,n,i){return i&&"."!==i?"".concat(e,":").concat(Mt(t+1),"-").concat(Mt(n)," (").concat(i,")"):"".concat(e,":").concat(Mt(t+1),"-").concat(Mt(n))}var Dh=new Map;function Oh(e,t){var n="".concat(e,"_").concat(t),i=Dh.get(n);return i||(i=na.addAlpha(e,t),Dh.set(n,i)),i}function Ph(e){var t,n=this.genome,i=[],r=d(n.wgChromosomeNames);try{for(r.s();!(t=r.n()).done;){var a=e[t.value];if(a){var o,s=d(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(!l.dup){var u=Object.assign({},l);u.chr="all",u.start=n.getGenomeCoordinate(l.chr1,l.start1),u.end=n.getGenomeCoordinate(l.chr2,l.end2),i.push(u)}}}catch(di){s.e(di)}finally{s.f()}}}}catch(di){r.e(di)}finally{r.f()}return i}function Mh(e,t){var n,i=d(t.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value.split("=");2===r.length&&e.push({name:r[0],value:r[1]})}}catch(di){i.e(di)}finally{i.f()}}for(var Lh=Pt,Fh=function(e){a(l,e);var t,n,i,o=s(l);function l(e,t){return v(this,l),o.call(this,e,t)}return m(l,[{key:"init",value:function(e){r(h(l.prototype),"init",this).call(this,e),this.visibilityWindow=e.visibilityWindow,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.expandedVariantHeight=e.expandedVariantHeight||e.variantHeight||10,this.squishedVariantHeight=e.squishedVariantHeight||2,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=tc(e,this.browser.genome),this.noGenotypeColor=e.noGenotypeColor||"rgb(200,180,180)",this.noCallColor=e.noCallColor||"rgb(225, 225, 225)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.type=e.type||"variant",this.colorBy=e.colorBy,this._initColorBy=e.colorBy,e.colorTable&&(this.colorTables=new Map,this.colorTables.set(e.colorBy,new ko(e.colorTable))),this._color=e.color,this.showGenotypes=void 0===e.showGenotypes||e.showGenotypes,this.variantRowCount(1)}},{key:"postInit",value:(i=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(this.header=e.sent,void 0!==this.visibilityWindow||!1===this.config.indexed){e.next=6;break}t=Qt(this.config.url)?this.config.url.name:this.config.url,this.visibilityWindow=Lh(t)&&t.toLowerCase().includes("gnomad")?1e3:this.callSets?Math.max(1e3,1e6-1e4*this.callSets.length):1e6;case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.colorBy=void 0}},{key:"getHeader",value:(n=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=7;break}if("function"!=typeof this.featureSource.getHeader){e.next=6;break}return e.next=4,this.featureSource.getHeader();case 4:(t=e.sent)&&(this.callSets=t.callSets||[]),this.header=t;case 6:this.sampleNames=this.callSets?this.callSets.map(function(e){return e.name}):[];case 7:return e.abrupt("return",this.header);case 8:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getCallsetsLength",value:function(){return this.callSets?this.callSets.length:0}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=void 0===this.header,!e.t0){e.next=5;break}return e.next=4,this.getHeader();case 4:this.header=e.sent;case 5:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:i,bpPerPixel:r,visibilityWindow:this.visibilityWindow}));case 6:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"hasSamples",value:function(){return this.getCallsetsLength()>0}},{key:"getSamples",value:function(){return{yOffset:this.sampleYOffset,names:this.sampleNames,height:this.sampleHeight}}},{key:"computePixelHeight",value:function(e){if(!e||0==e.length)return 10;var t="COLLAPSED"===this.displayMode?1:this.nVariantRows,n="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,i="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight;return 10+t*(("SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight)+n)+n+(1+(!1===this.showGenotypes?0:this.getCallsetsLength()*t))*(i+n)}},{key:"variantRowCount",value:function(e){this.nVariantRows=e}},{key:"draw",value:function(e){var t=e.context,n=e.pixelWidth,i=e.pixelHeight,r=e.bpPerPixel,a=e.bpStart,o=e.pixelTop,s=e.features;fo.fillRect(t,0,o,n,i,{fillStyle:"rgb(255, 255, 255)"}),this.variantBandHeight=10+("COLLAPSED"===this.displayMode?1:this.nVariantRows)*(("SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight)+("SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap));var l=this.callSets,u=this.getCallsetsLength();if(l&&u>0&&!1!==this.showGenotypes&&fo.strokeLine(t,0,this.variantBandHeight,n,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "}),s){var c,h="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight,f="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,p=a+n*r+1,v=d(s);try{for(v.s();!(c=v.n()).done;){var g=c.value;if(!(g.end<a)){if(g.start>p)break;var m="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,y=10+("COLLAPSED"===this.displayMode?0:g.row*(m+f)),b=m,_=Math.round((g.start-a)/r),w=Math.round((g.end-a)/r),k=Math.max(1,w-_);if(k<3?(k=3,_-=1):k>5&&(_+=1,k-=2),t.fillStyle=this.getVariantColor(g),t.fillRect(_,y,k,b),g.pixelRect={x:_,y:y,w:k,h:b},u>0&&!1!==this.showGenotypes){var x="COLLAPSED"===this.displayMode?1:this.nVariantRows;this.sampleYOffset=this.variantBandHeight+f,this.sampleHeight=x*(h+f);var S,C=0,E=d(l);try{for(E.s();!(S=E.n()).done;){var R=S.value,A=g.calls[R.id];if(A){var T=this.sampleYOffset+C*this.sampleHeight+("COLLAPSED"===this.displayMode?0:g.row)*(h+f),I=!0,D=!0,O=!1;if(A.genotype){var P,M=d(A.genotype);try{for(M.s();!(P=M.n()).done;){var L=P.value;if("."===L){O=!0;break}0!==L&&(D=!1),0===L&&(I=!1)}}catch(di){M.e(di)}finally{M.f()}}t.fillStyle=A.genotype?O?this.noCallColor:D?this.homrefColor:I?this.homvarColor:this.hetvarColor:this.noGenotypeColor,t.fillRect(_,T,k,h),R.pixelRect={x:_,y:T,w:k,h:h}}C++}}catch(di){E.e(di)}finally{E.f()}}}}}catch(di){v.e(di)}finally{v.f()}}else console.log("No feature list")}},{key:"getVariantColor",value:function(e){var t;if(this.colorBy){var n=e.info[this.colorBy];(t=this.getVariantColorTable(this.colorBy).getColor(n))||(t="gray")}else t=this._color?"function"==typeof this._color?this._color(e):this._color:"NONVARIANT"===e.type?this.nonRefColor:"MIXED"===e.type?this.mixedColor:this.defaultColor;return t}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,i,r=e.genomicLocation,a=this.browser.sampleInformation,o="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap,s=o+("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),l=e.y;if(l<=this.variantBandHeight)n=Math.floor((l-10)/(("SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight)+o)),i=-1;else{var u=l-this.variantBandHeight;i=Math.floor(u/this.sampleHeight),n=Math.floor((u-i*this.sampleHeight)/s)}var c,h=[],f=d(t.filter(function(e){return e.row===n}));try{for(f.s();!(c=f.n()).done;){var p=c.value;if(h.length>0&&h.push({html:'<hr style="border-top-width:2px ;border-color: #c9c3ba" />'}),l<=this.variantBandHeight){var v=p.popupData(r);Array.prototype.push.apply(h,v)}else{var g=this.callSets;g&&p.calls&&i>=0&&i<g.length&&Array.prototype.push.apply(h,m(p.calls[g[i].id],p,0,a))}}}catch(di){f.e(di)}finally{f.f()}return h;function m(e,t,n,i){var r=[];if(void 0!==e.callSetName&&r.push({name:"Name",value:e.callSetName}),e.genotype){var a="";if("."===t.alternateBases)a="No Call";else{var o,s=t.alternateBases.split(","),l=d(e.genotype);try{for(l.s();!(o=l.n()).done;){var u=o.value;a.length>0&&(a+="|"),a+="."===u?".":0===u?t.referenceBases:s[u-1].replace("<","&lt;")}}catch(di){l.e(di)}finally{l.f()}}r.push({name:"Genotype",value:a})}if(void 0!==e.phaseset&&r.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&r.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),i){var c=i.getAttributes(e.callSetName);c&&Object.keys(c).forEach(function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),r.push({name:t,value:c[e]})})}var h=Object.keys(e.info);return h.length&&r.push("<hr/>"),h.forEach(function(t){r.push({name:t,value:decodeURIComponent(e.info[t])})}),r}}},{key:"menuItemList",value:function(){var e=this,t=[];if(this.header.INFO&&this.header.INFO){var n=this.header.INFO.SVTYPE?["SVTYPE"]:[];if(this._initColorBy&&"SVTYPE"!==this._initColorBy&&n.push(this._initColorBy),n.length>0){t.push("<hr/>");var i=St('<div class="igv-track-menu-category igv-track-menu-border-top">');i.text("Color by:"),t.push({name:void 0,object:i,click:void 0,init:void 0}),n.sort();var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.push(this.colorByCB({key:o,label:o||"None"},this.colorBy===o))}}catch(di){a.e(di)}finally{a.f()}t.push(this.colorByCB({key:void 0,label:"None"},void 0===this.colorBy)),t.push("<hr/>")}}this.getCallsetsLength()>0&&(t.push({object:St('<div class="igv-track-menu-border-top">')}),t.push({object:St(za("Show Genotypes",this.showGenotypes)),click:function(){e.showGenotypes=!e.showGenotypes,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})),t.push({object:St('<div class="igv-track-menu-border-top">')});for(var s=function(){var n=u[l];t.push({object:St(za({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode)),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})},l=0,u=["COLLAPSED","SQUISHED","EXPANDED"];l<u.length;l++)s();return t}},{key:"colorByCB",value:function(e,t){var n=this;return{name:void 0,object:St(za(e.label,t)),click:function(){e.key===n.colorBy?(n.colorBy=void 0,delete n.config.colorBy,n.trackView.repaintViews()):(n.colorBy=e.key,n.config.colorBy=e.key,n.trackView.repaintViews())},init:void 0}}},{key:"getState",value:function(){var e=r(h(l.prototype),"getState",this).call(this);return this._color&&"function"!=typeof this._color&&(e.color=this._color),e}},{key:"getVariantColorTable",value:function(e){if(this.colorTables||(this.colorTables=new Map),!this.colorTables.has(e)){var t;switch(e){case"SVTYPE":t=Nh;break;default:t=new wo("Set1")}this.colorTables.set(e,t)}return this.colorTables.get(e)}}]),l}(Ol),Nh=new ko({DEL:"#ff2101",INS:"#001888",DUP:"#028401",INV:"#008688",CNV:"#8931ff",BND:"#891100","*":"#002eff"}),zh=function(e){a(i,e);var t,n=s(i);function i(e,t){return v(this,i),n.call(this,e,t)}return m(i,[{key:"init",value:function(e){r(h(i.prototype),"init",this).call(this,e),this.name=e.name,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";var t=e.maxLogP||e.max;this.dataRange={min:e.minLogP||e.min||3.5,max:t||25},this.autoscale=!t||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=tc(e,this.browser.genome),lc.gtexLoaded=!0}},{key:"paintAxis",value:function(e,t,n){var i=(this.dataRange.max-this.dataRange.min)/n,r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};fo.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var a=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),o=4;o<=this.dataRange.max;o+=a){var s=.85*t,l=s-5,u=n-(o-this.dataRange.min)/i;fo.strokeLine(e,l,u,s,u,r),u>8&&fo.fillText(e,o,l-1,u+2,r)}r.textAlign="center",fo.fillText(e,"-log10(pvalue)",t/4,n/2,r,{rotate:{angle:-90}})}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.pValueField,e.next=3,this.featureSource.getFeatures({chr:t,start:n,end:i});case 3:return a=e.sent,e.abrupt("return",(a.forEach(function(e){e.value=e[r]}),a));case 5:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=this,n=e.context,i=e.pixelWidth,r=e.pixelHeight;this.background&&fo.fillRect(n,0,0,i,r,{fillStyle:this.background}),fo.strokeLine(n,0,r-1,i,r-1,{strokeStyle:this.divider});var a=function(a){var o,s=a?2*t.dotSize:t.dotSize,l=e.bpStart,u=(t.dataRange.max-t.dataRange.min)/r,c=e.referenceFrame.selection,h=d(e.features);try{for(h.s();!(o=h.n()).done;){var f=o.value,p=(f.start-l+.5)/e.bpPerPixel;if(!(p<0)){if(p>i)break;var v=f.snp.toUpperCase(),g=f[t.geneField].toUpperCase(),m=c&&(c.snp===v||c.gene===g);if(!a||m){c&&c.snp===v&&c.addGene(g);var y=-Math.log(f[t.pValueField])/Math.LN10;if(y>=t.dataRange.min){var b=void 0;y>t.dataRange.max?(y=t.dataRange.max,b=!0):b=!1;var _=Math.max(0+s,r-Math.round((y-t.dataRange.min)/u)),w=void 0;f.px=p,f.py=_,f.radius=s,a&&c?(w=c.colorForGene(g),fo.setProperties(n,{fillStyle:w,strokeStyle:"black"})):(w=b?"rgb(150, 150, 150)":"rgb(180, 180, 180)",fo.setProperties(n,{fillStyle:w,strokeStyle:w})),fo.fillCircle(n,p,_,s),fo.strokeCircle(n,p,_,s)}}}}}catch(di){h.e(di)}finally{h.f()}};a(!1),a(!0)}},{key:"popupData",value:function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n,i=this.name,r=[],a=d(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;Math.abs(o.px-e.canvasX)<o.radius+3&&Math.abs(o.py-e.canvasY)<o.radius+3&&(r.length>0&&r.push("<hr/>"),r.push({name:"snp id",value:o.snp},{name:"gene id",value:o.geneId},{name:"gene name",value:o.geneName},{name:"p value",value:o.pValue},{name:"tissue",value:i}))}}catch(di){a.e(di)}finally{a.f()}return r}},{key:"menuItemList",value:function(){return Va.numericDataMenuItems(this.trackView)}},{key:"doAutoscale",value:function(e){if(e.length>0){var t=e.map(function(e){return-Math.log(e.value)/Math.LN10});this.dataRange.max=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort(function(e,t){return t-e}),e[n]):function(e,t){var n,i=new Jr;for(n=0;n<e.length;n++){var r=e[n];(i.content.length<t||r>i.content[0])&&(i.content.length===t&&i.pop(),i.push(r))}return i.content[0]}(e,n)}}(t,this.autoscalePercentile)}else this.dataRange.max=this.config.maxLogP||this.config.max||25;return this.dataRange}}]),i}(Ol),Vh={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"},jh=0,Bh=Object.keys(Vh);jh<Bh.length;jh++){var Hh=Bh[jh];Vh["chr"+Hh]=Vh[Hh]}var qh=function(e){a(i,e);var t,n=s(i);function i(e,t){return v(this,i),n.call(this,e,t)}return m(i,[{key:"init",value:function(e){r(h(i.prototype),"init",this).call(this,e),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.valueProperty="bed"===e.format?"score":"value",this.height=e.height||100,e.autoscale||(this.dataRange=e.posteriorProbability?{min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:{min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new Sc(e.color):{"*":new kc(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=tc(e,this.browser.genome)}},{key:"supportsWholeGenome",value:function(){return!0}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:i}));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.features,n=e.context,i=e.pixelWidth,r=e.pixelHeight;if(this.background&&fo.fillRect(n,0,0,i,r,{fillStyle:this.background}),fo.strokeLine(n,0,r-1,i,r-1,{strokeStyle:this.divider}),t){var a,o=e.bpPerPixel,s=e.bpStart,l=s+i*o+1,u=d(t);try{for(u.s();!(a=u.n()).done;){var c=a.value,h=c.start;if(!(h<s)){if(h>l)break;var f=this.getColorScale(c._f?c._f.chr:c.chr),p=void 0,v=void 0;if(this.posteriorProbability)v=c[this.valueProperty],p=f.getColor(v);else{var g=c[this.valueProperty];if(!g)continue;v=-Math.log10(g),p=f.getColor(v)}var m=(this.dataRange.max-this.dataRange.min)/r,y=Math.round((h-s)/o),b=Math.max(this.dotSize,r-Math.round((v-this.dataRange.min)/m));p&&fo.setProperties(n,{fillStyle:p,strokeStyle:"black"}),fo.fillCircle(n,y,b,this.dotSize),c.px=y,c.py=b}}}catch(di){u.e(di)}finally{u.f()}}}},{key:"getColorScale",value:function(e){if(this.useChrColors){var t=this.colorScales[e];if(!t){var n=Vh[e]||So.get();t=new Sc(n),this.colorScales[e]=t}return t}return this.colorScales("*")}},{key:"paintAxis",value:function(e,t,n){fo.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"},r=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability)for(var a=this.dataRange.min;a<this.dataRange.max;a+=.1){var o=n-Math.round((a-this.dataRange.min)/r);fo.strokeLine(e,45,o-2,50,o-2,i),fo.fillText(e,a.toFixed(1),44,o+2,i)}else for(var s=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),l=this.dataRange.min;l<this.dataRange.max;l+=s){var u=n-Math.round((l-this.dataRange.min)/r);fo.strokeLine(e,45,u,50,u,i),fo.fillText(e,Math.floor(l),44,u+4,i)}i.textAlign="center",fo.fillText(e,this.posteriorProbability?"PPA":"-log10(pvalue)",t/2,n/2,i,{rotate:{angle:-90}})}},{key:"popupData",value:function(e){var t=[],n=e.viewport.trackView.track,i=e.viewport.getCachedFeatures();if(i){var r,a=0,o=d(i);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=Math.abs(e.canvasX-s.px),u=Math.abs(e.canvasY-s.py),c=s[this.valueProperty];if(l<this.dotSize&&u<this.dotSize){if(a>0&&t.push("<HR/>"),5==a){t.push("...");break}if("function"==typeof s.popupData)t=t.concat(s.popupData());else{var h=(s.realStart||s.start)+1;t.push({name:"chromosome",value:s.realChr||s.chr}),t.push({name:"position",value:h}),t.push({name:"name",value:s.name}),t.push(n.posteriorProbability?{name:"posterior probability",value:c}:{name:"pValue",value:c})}a++}}}catch(di){o.e(di)}finally{o.f()}}return t}},{key:"menuItemList",value:function(){return Va.numericDataMenuItems(this.trackView)}},{key:"doAutoscale",value:function(e){if(e.length>0){var t=this.valueProperty,n=this.posteriorProbability,i=e.map(function(e){var i=e[t];return{value:n?i:-Math.log(i)/Math.LN10}});this.dataRange=gs(i)}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange}}]),i}(Ol),Uh=function(e){a(l,e);var t,n,o=s(l);function l(e,t){return v(this,l),o.call(this,e,t)}return m(l,[{key:"init",value:function(e){r(h(l.prototype),"init",this).call(this,e),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=_c,this.graphType=e.graphType||"bar",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=tc(this.config,this.browser.genome)}},{key:"postInit",value:(n=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=8;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent,this.sampleNames=this.header.columnNames.slice(3),this.setTrackProperties(this.header),e.t0=this.header.hasOwnProperty("highlight");case 8:if(!e.t0){e.next=14;break}this.config.highlightSamples={},t=this.header.highlight,Array.isArray(t)||(t=[t]),n=d(t);try{for(n.s();!(i=n.n()).done;)r=i.value,2===(a=r.split(";")).length&&(this.config.highlightSamples[a[0]]=a[1])}catch(di){n.e(di)}finally{n.f()}case 14:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"menuItemList",value:function(){return Va.numericDataMenuItems(this.trackView)}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:0,end:Number.MAX_VALUE});case 2:r=e.sent,s=1;case 4:if(!(s<r.length-1)){e.next=11;break}if(void 0===a&&r[s].end>n&&(a=s-1),!(void 0===o&&r[s].start>i)){e.next=8;break}return o=s+1,e.abrupt("break",11);case 8:s++,e.next=4;break;case 11:return e.abrupt("return",(void 0===a&&(a=0),void 0===o&&(o=r.length),r.slice(a,o)));case 12:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=this,n=e.features,i=e.context,r=e.bpPerPixel,a=e.bpStart,o=e.pixelHeight,s=function(e){return(t.dataRange.max-e)/(t.dataRange.max-t.dataRange.min)*o},l=function(e){var t=Math.floor((e-a)/r);return isNaN(t)&&console.warn("isNaN(x). feature start "+Mt(e)+" bp start "+Mt(a)),t};if(n&&n.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){var u=this.config.highlightSamples,c=this.config.onlyHandleClicksForHighlightedSamples,h=-1,f={},p=[],v=[];this.clickDetectorCache={};var g,m=d(n);try{for(m.s();!(g=m.n()).done;){var y=g.value,b=l(y.start),_=l(y.end),w=h>=0?l(h):b;if(!(isNaN(b)||isNaN(_)||b-w<1&&_-b<1)){this.clickDetectorCache[b]=[],this.clickDetectorCache[_]=[];for(var k=0;k<y.values.length;k++){var x=this.sampleNames[k],S=y.values[k],C=s(S);if(b-w>=1){var E=s(f[x]),R=u&&u[x];R?p.push([w,E,b,C,R]):fo.strokeLine(i,w,E,b,C,{strokeStyle:"#D9D9D9"}),c&&!(x in u)||this.clickDetectorCache[b].push([w,E,b,C,x,R||"gray"])}if(_-b>=1){var A=u&&u[x];A?v.push([b,C,_,C,A]):fo.strokeLine(i,b,C,_,C,{strokeStyle:"gray"}),c&&!(x in u)||this.clickDetectorCache[_].push([b,C,_,C,x,A||"gray"])}f[x]=S}h=y.end}}}catch(di){m.e(di)}finally{m.f()}for(var T=0,I=p;T<I.length;T++){var D=I[T];fo.strokeLine(i,D[0],D[1],D[2],D[3],{strokeStyle:D[4],lineWidth:1.3})}for(var O=0,P=v;O<P.length;O++){var M=P[O];fo.strokeLine(i,M[0],M[1],M[2],M[3],{strokeStyle:M[4],lineWidth:2})}}!function(e){if(t.config.hasOwnProperty("guideLines")){var n,i=d(t.config.guideLines);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.hasOwnProperty("color")&&r.hasOwnProperty("y")&&r.hasOwnProperty("dotted")){var a=s(r.y),o={strokeStyle:r.color,strokeWidth:2};r.dotted?fo.dashedLine(e.context,0,a,e.pixelWidth,a,5,o):fo.strokeLine(e.context,0,a,e.pixelWidth,a,o)}}}catch(di){i.e(di)}finally{i.f()}}}(e)}},{key:"doAutoscale",value:function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){t=Math.min.apply(Math,[t].concat(i(e.values))),n=Math.max.apply(Math,[n].concat(i(e.values)))}),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}}},{key:"clickedFeatures",value:function(e){for(var t,n,i,r,a,o,s,l,u=e.canvasX,c=e.canvasY,h=null,f=0,p=Object.keys(this.clickDetectorCache);f<p.length&&(h=p[f],!((h=parseInt(h))>=u));f++);if(h){var v,g=Number.MAX_VALUE,m=[],y=d(this.clickDetectorCache[h]);try{for(y.s();!(v=y.n()).done;){var b=v.value,_=b[0],w=b[2];if(u<_||u>w)return[];var k=b[1],x=b[3];if(!(c<Math.min(k,x)-10||c>Math.max(k,x)+10)){var S=(t=u,n=c,a=void 0,o=void 0,s=void 0,l=void 0,a=w-(i=_),o=x-(r=k),s=Math.abs(a*(r-n)-(i-t)*o),(l=Math.sqrt(a*a+o*o))>0?s/l:0);S<g&&(m=[{name:b[4],color:b[5]}],g=S)}}}catch(di){y.e(di)}finally{y.f()}if(g<5)return m}return[]}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n=[];return t.forEach(function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];ps(e[r])&&n.push({name:r,value:e[r]})}}),n}},{key:"supportsWholeGenome",value:function(){return!1}}]),l}(Ol);var Wh=function(e){a(i,e);var t,n=s(i);function i(e,t){var r;return v(this,i),r=n.call(this,e,t),e.height||(r.height=300),r.arcOrientation=!1,r.theta=Math.PI/2,r.featureSource="bp"===e.format?new $h(e,t.genome):new Iu(e,t.genome),r}return m(i,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:i}));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context,n=Math.PI/2,i=e.bpStart,r=e.bpPerPixel,a=this.arcOrientation;fo.fillRect(t,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var o=e.features;if(o){Gh(o,1);var s,l=d(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(u.startLeft){var c=Math.round((u.startLeft-i)/r),h=Math.round((u.startRight-i)/r),f=Math.round((u.endLeft-i)/r),p=Math.round((u.endRight-i)/r);t.fillStyle=u.color,t.strokeStyle=u.color,t.beginPath();var v=(c+p)/2,g=(p-c)/2,m=this.height,y=Math.PI+(Math.PI/2-n),b=2*Math.PI-(Math.PI/2-n);a?(m=0,t.arc(v,m,g,b,y),t.lineTo(p,m)):(t.arc(v,m,g,y,b),t.lineTo(f,m));var _=(h+f)/2,w=(f-h)/2,k=m;a?(t.arc(_,k,w,y,b,!0),t.lineTo(f,k)):(t.arc(_,k,w,b,y,!0),t.lineTo(c,k)),t.stroke(),t.fill(),u.drawState={x1:v,y1:m,r1:g,x2:_,y2:k,r2:w,sa:y,ea:b}}else{var x=Math.round((u.start-i)/r),S=Math.round((u.end-i)/r);t.strokeStyle=u.color,t.beginPath();var C=(x+S)/2,E=(S-x)/2,R=this.height,A=Math.PI+(Math.PI/2-n),T=2*Math.PI-(Math.PI/2-n);a?(R=0,t.arc(C,R,E,T,A)):t.arc(C,R,E,A,T),t.stroke(),u.drawState={x1:C,y1:R,r1:E,sa:A,ea:T}}}}catch(di){l.e(di)}finally{l.f()}}}},{key:"clickedFeatures",value:function(e,t){var n=[];Gh(t=r(h(i.prototype),"clickedFeatures",this).call(this,e,t),-1);var a,o=d(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.drawState,u=e.canvasX-l.x1,c=e.canvasY-l.y1,f=Math.sqrt(u*u+c*c),p=l.r1+3,v=void 0,g=void 0;if(void 0===l.x2)v=f,g=l.r1-3;else{var m=e.canvasX-l.x2,y=e.canvasY-l.y2;v=Math.sqrt(m*m+y*y),g=l.r2-3}if(f<p&&v>g){n.push(s);break}}}catch(di){o.e(di)}finally{o.f()}return n}},{key:"popupData",value:function(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0)return Ol.extractPopupData(t[0],this.getGenomeId())}},{key:"menuItemList",value:function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]}}]),i}(Ol);function Gh(e,t){e.sort(function(e,n){return(void 0===t?1:t)*((void 0===e.score?-Number.MAX_VALUE:e.score)-(void 0===n.score?-Number.MAX_VALUE:n.score))})}var $h=function(){function e(t,n){v(this,e),this.config=t,this.genome=n}var t;return m(e,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,i=t.start,r=t.end,a=this.genome,!this.featureCache){e.next=4;break}return e.abrupt("return",this.featureCache.queryFeatures(n,i,r));case 4:return o=vs(this.config),e.next=7,va.loadString(this.config.url,o);case 7:return s=e.sent,e.abrupt("return",(this.featureCache=new Ma(function(e){if(!e)return null;for(var t,n=Bl(e),i=!0,r=[],a=[],o=[];void 0!==(t=n.nextLine());){var s=t.split("\t");if(i&&t.startsWith("color:"))r.push("rgb("+s[1]+","+s[2]+","+s[3]+")"),s.length>4&&a.push(s[4]);else{i=!1;var l=s[0],u=Number.parseInt(s[1])-1,c=Number.parseInt(s[2])-1,h=Number.parseInt(s[3]),d=Number.parseInt(s[4]),f=Number.parseInt(s[5]),p=r[f],v=void 0;(v=u<=d?{chr:l,startLeft:Math.min(u,c),startRight:Math.max(u,c),endLeft:Math.min(h,d),endRight:Math.max(h,d),color:p,score:f}:{chr:l,startLeft:Math.min(h,d),startRight:Math.max(h,d),endLeft:Math.min(u,c),endRight:Math.max(u,c),color:p,score:f}).start=v.startLeft,v.end=v.endRight,a.length>f&&(v.description=a[f]),o.push(v)}}return o}(s),a),this.featureCache.queryFeatures(n,i,r)));case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}(),Yh=function(){function e(t){v(this,e),this.browser=t,this.type="ideogram",this.id=this.type,this.height=16,this.order=Number.MIN_SAFE_INTEGER,this.disableButtons=!0,this.ignoreTrackMenu=!0}var t;return m(e,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.context,n=e.referenceFrame,i=e.pixelWidth,r=e.pixelHeight,a=n.chr,o=n.genome.getChromosome(a);if(!(void 0===o||i<=0||r<=0||"all"===a.toLowerCase())){!function(e){var t=e.ctx,n=e.chr,i=e.genome,r=e.width,a=e.height,o=e.stainColors;if(void 0!==i){fo.fillRect(t,0,0,r,a,{fillStyle:na.greyScale(255)});var s=i.getCytobands(n);if(s){var l=0+a/2,u=[],c=[];if(0===s.length)return;var h=r/s[s.length-1].end;t.beginPath(),fo.roundRect(t,.5,.5,r-1,a-1,(a-1)/2,0,1),t.clip();for(var d=0;d<s.length;d++){var f=s[d],p=h*f.start,v=h*f.end;"c"===f.type?("p"===f.name.charAt(0)?(u[0]=p,c[0]=a+0,u[1]=p,c[1]=0,u[2]=v,c[2]=l):(u[0]=v,c[0]=a+0,u[1]=v,c[1]=0,u[2]=p,c[2]=l),t.fillStyle="rgb(150, 0, 0)",t.strokeStyle="rgb(150, 0, 0)",fo.polygon(t,u,c,1,0)):(t.fillStyle=Zh(o,f),fo.fillRect(t,p,1,v-p,a-2))}}t.strokeStyle=na.greyScale(41),fo.roundRect(t,.5,.5,r-1,a-1,(a-1)/2,0,1)}}({ctx:t,chr:a,referenceFrame:n,genome:n.genome,width:i,height:r,stainColors:[]});var s=Math.round(n.bpPerPixel*i),l=n.start,u=o.bpLength,c=n.genome.getCytobands(a);if(c&&c.length>0&&c[c.length-1].end&&(u=Math.max(u,c[c.length-1].end),o.bpLength=u),s<u){var h=s/u,d=Math.floor(l/u*i),f=Math.floor(h*i);d=Math.max(0,d),d=Math.min(i-f,d),t.save(),t.strokeStyle="red",t.lineWidth=f<2?1:2,f=f<2?1:f-t.lineWidth,t.strokeRect(d+t.lineWidth/2,t.lineWidth/2,f,r-t.lineWidth),t.restore()}}}},{key:"dispose",value:function(){this.trackView=void 0}}]),e}();function Zh(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=230;"p"===t.type&&(n=Math.floor(230-t.stain/100*230));var i=e[n];return i||(e[n]=i="rgb("+n+","+n+","+n+")"),i}var Kh=new wo("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach(function(e){Kh.getColor(e)});var Xh={},Qh=function(e){a(o,e);var t,n,i=s(o);function o(e,t){return v(this,o),i.call(this,e,t)}return m(o,[{key:"init",value:function(e){r(h(o.prototype),"init",this).call(this,e),this.type=e.type||"junctions",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:tc(e,this.browser.genome),this.margin=void 0===e.margin?10:e.margin,this.height||(this.height=100),void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5)}},{key:"postInit",value:(n=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="function"==typeof this.featureSource.getHeader,!e.t0){e.next=5;break}return e.next=4,this.featureSource.getHeader();case 4:this.header=e.sent;case 5:if(this.header&&this.setTrackProperties(this.header),e.t1=void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow,!e.t1){e.next=12;break}return e.next=10,this.featureSource.defaultVisibilityWindow();case 10:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1}},{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:i,bpPerPixel:r,visibilityWindow:this.visibilityWindow}));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.features,n=e.context,i=e.bpPerPixel,r=e.bpStart,a=e.pixelWidth,o=e.pixelHeight,s=r+a*i+1;if(this.config.isMergedTrack||fo.fillRect(n,0,e.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),t){Xh.referenceFrame=e.viewport.referenceFrame,Xh.referenceFrameStart=Xh.referenceFrame.start,Xh.referenceFrameEnd=Xh.referenceFrameStart+Xh.referenceFrame.toBP(St(e.viewport.contentDiv).width()),Xh.featureZoomOutTracker={};var l,u=d(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!(c.end<r)){if(c.start>s)break;this.renderJunction(c,r,i,o,n)}}}catch(di){u.e(di)}finally{u.f()}}else console.log("No feature list")}},{key:"renderJunction",value:function(e,t,n,i,r){e.isVisible=!1;var a=Math.round((e.start-t)/n),o=Math.round((e.end-t)/n),s=(a+o)/2;if(o-a<=3){if(s in Xh.featureZoomOutTracker)return;Xh.featureZoomOutTracker[s]=!0}if(!(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)){if(this.config.minJunctionEndsVisible){var l=0;if(e.start>=Xh.referenceFrameStart&&e.start<=Xh.referenceFrameEnd&&(l+=1),e.end>=Xh.referenceFrameStart&&e.end<=Xh.referenceFrameEnd&&(l+=1),l<this.config.minJunctionEndsVisible)return}var u,c,h,d;if(e.attributes.uniquely_mapped){if((u=parseInt(e.attributes.uniquely_mapped))<this.config.minUniquelyMappedReads)return;if((h=u+(c=parseInt(e.attributes.multi_mapped)))<this.config.minTotalReads)return;if(h>0&&c/h>this.config.maxFractionMultiMappedReads)return;if(e.attributes.maximum_spliced_alignment_overhang&&parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)return}if(e.attributes.num_samples_with_this_junction){if(d=parseInt(e.attributes.num_samples_with_this_junction),this.config.minSamplesWithThisJunction&&d<this.config.minSamplesWithThisJunction)return;if(this.config.maxSamplesWithThisJunction&&d>this.config.maxSamplesWithThisJunction)return;if(e.attributes.num_samples_total&&(e.attributes.percent_samples_with_this_junction=100*d/parseFloat(e.attributes.num_samples_total),this.config.minPercentSamplesWithThisJunction&&(e.attributes.percent_samples_with_this_junction<this.config.minPercentSamplesWithThisJunction||e.attributes.percent_samples_with_this_junction>this.config.maxPercentSamplesWithThisJunction)))return}var f,p,v=this.margin,g=this.height,m=v+.5*g,y=v,b=v+g-10,_=(a+s)/2,w=(s+o)/2,k=1;e.attributes.line_width?k=parseFloat(e.attributes.line_width):(void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?k=u:"numReads"===this.config.thicknessBasedOn?k=h:"numSamplesWithThisJunction"===this.config.thicknessBasedOn&&void 0!==d&&(k=d),k=1+Math.log(k+1)/Math.log(12)),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?f=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?f=6*(e.end-e.start)/(Xh.referenceFrameEnd-Xh.referenceFrameStart):"thickness"===this.config.bounceHeightBasedOn&&(f=2*k),y+=g*Math.max(7-f,0)/10,p=e.attributes.color?e.attributes.color:void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?u>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?h>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?"true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?"+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy?Kh.getColor(e.attributes.motif):"#AAAAAA";var x="";e.attributes.label?x=e.attributes.label.replace(/_/g," "):void 0===this.config.labelWith||"uniqueReadCount"===this.config.labelWith?x=u:"totalReadCount"===this.config.labelWith?x=h:"numSamplesWithThisJunction"===this.config.labelWith?void 0!==d&&(x=d):"percentSamplesWithThisJunction"===this.config.labelWith?void 0!==e.attributes.percent_samples_with_this_junction&&(x=e.attributes.percent_samples_with_this_junction.toFixed(0)+"%"):"motif"===this.config.labelWith&&void 0!==e.attributes.motif&&(x+=e.attributes.motif),"uniqueReadCount"===this.config.labelWithInParen?x+=" ("+u+")":"totalReadCount"===this.config.labelWithInParen?x+=" ("+h+")":"multiMappedReadCount"===this.config.labelWithInParen?c>0&&(x+=" (+"+c+")"):"numSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==d&&(x+=" ("+d+")"):"percentSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==e.attributes.percent_samples_with_this_junction&&(x+=" ("+e.attributes.percent_samples_with_this_junction.toFixed(0)+"%)"):"motif"===this.config.labelWithInParen&&void 0!==e.attributes.motif&&(x+=" ".concat(e.attributes.motif)),e.isVisible=!0,r.beginPath(),r.moveTo(a,b),r.bezierCurveTo(_,y,w,y,o,b),r.lineWidth=k,r.strokeStyle=p,r.stroke();var S=function(e,t,n,i){e.beginPath(),e.moveTo(t,n),e.lineTo(t-i/2,n-i),e.lineTo(t+i/2,n-i),e.lineTo(t,n),e.closePath(),e.fill()};if(e.attributes.left_shape||e.attributes.right_shape){r.fillStyle=p;var C=r.lineWidth>2?10:7;e.attributes.left_shape&&S(r,a,b,C),e.attributes.right_shape&&S(r,o,b,C)}r.fillText(x,s-r.measureText(x).width/2,(7*y+m)/8)}}},{key:"clickedFeatures",value:function(e,t){return r(h(o.prototype),"clickedFeatures",this).call(this,e,t).filter(function(e){return e.isVisible&&e.attributes})}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,i=e.genomicLocation,r=[],a=d(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s="function"==typeof o.popupData?o.popupData(i):this.extractPopupData(o._f||o,this.getGenomeId());s&&(r.length>0&&r.push("<hr/><hr/>"),Array.prototype.push.apply(r,s))}}catch(di){a.e(di)}finally{a.f()}return r}},{key:"description",value:function(){return this.name}},{key:"dispose",value:function(){this.trackView=void 0}}]),o}(Ol),Jh=new Map([["ideogram",function(e,t){return new Yh(e,t)}],["sequence",function(e,t){return new Do(e,t)}],["feature",function(e,t){return new bc(e,t)}],["seg",function(e,t){return new Cc(e,t)}],["mut",function(e,t){return new Cc(e,t)}],["maf",function(e,t){return new Cc(e,t)}],["wig",function(e,t){return new wc(e,t)}],["merged",function(e,t){return new Rc(e,t)}],["alignment",function(e,t){return new _h(e,t)}],["interaction",function(e,t){return new Ah(e,t)}],["interact",function(e,t){return new Ah(e,t)}],["variant",function(e,t){return new Fh(e,t)}],["eqtl",function(e,t){return new zh(e,t)}],["gwas",function(e,t){return new qh(e,t)}],["arc",function(e,t){return new Wh(e,t)}],["gcnv",function(e,t){return new Uh(e,t)}],["junction",function(e,t){return new Qh(e,t)}]]),ed=function(){function e(t,n){v(this,e),this.config=t,this.name=t.name,this.roiSource=tc(t,n),this.color=t.color||"rgba(68, 134, 247, 0.25)"}var t;return m(e,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roiSource.getFeatures({chr:t,start:n,end:i}));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n,i,r;if(r=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var a=0,o=r.length;a<o;a++)if(!((n=r[a]).end<e.bpStart)){if(n.start>t)break;i=td(n,e.bpStart,e.bpPerPixel),fo.fillRect(e.context,i.x,e.pixelTop,i.width,e.pixelHeight,{fillStyle:this.color})}}}}]),e}();function td(e,t,n){var i,r;return i=Math.round((e.start-t)/n),(r=Math.round((e.end-t)/n)-i)<3&&(r=3,i-=1),{x:i,width:r}}var nd=function(){function e(t,n){v(this,e);var i=(new DOMParser).parseFromString(t,"text/xml");this.processRootNode(i,n);var r=i.getElementsByTagName("Resource"),a=i.getElementsByTagName("Track"),o=a&&a.length>0,s=[];this.tracks=s;var l=new Map;Array.from(r).forEach(function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};l.set(n.url,n),o||s.push(n)}),o&&Array.from(a).forEach(function(e){var t=e.getElementsByTagName("Track");if(t&&t.length>0){var n={type:"merged",tracks:[]};id(e,n),s.push(n),Array.from(t).forEach(function(e){e.processed=!0;var t=e.getAttribute("id"),i=l.get(t);i&&(n.tracks.push(i),id(e,i),i.autoscale=!1,n.height=i.height)})}else if(!e.processed){var i=e.getAttribute("id"),r=l.get(i);r&&(s.push(r),id(e,r))}})}return m(e,[{key:"processRootNode",value:function(e,t){var n=e.getElementsByTagName("Session").item(0),i=n.getAttribute("genome"),r=n.getAttribute("locus"),a=n.getAttribute("ucscID");t&&t.hasOwnProperty(i)?this.genome=i:(this.reference={fastaURL:i},a&&(this.reference.id=a)),r&&(this.locus=r)}}]),e}();function id(e,t){t.name=e.getAttribute("name");var n=e.getAttribute("color");n&&(t.color="rgb("+n+")");var i=e.getAttribute("altColor");n&&(t.altColor="rgb("+i+")");var r=e.getAttribute("height");r&&(t.height=parseInt(r));var a=e.getAttribute("autoScale");a&&(t.autoscale="true"===a);var o=e.getAttribute("autoscaleGroup");o&&(t.autoscaleGroup=o);var s=e.getAttribute("windowFunction");s&&(t.windowFunction=s);var l=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow");l&&(t.visibilityWindow=l);var u=e.getAttribute("indexed");u&&(t.indexed="true"===u);var c=e.getAttribute("normalize");c&&(t.normalize="true"===c);var h=e.getElementsByTagName("DataRange");if(h.length>0){var d=h.item(0);t.min=Number.parseFloat(d.getAttribute("minimum")),t.max=Number.parseFloat(d.getAttribute("maximum")),t.logScale="LOG"===d.getAttribute("type")}}var rd=Lt,ad=function(){function e(){v(this,e),this.attributes={},this.plinkLoaded=!1}var t;return m(e,[{key:"loadPlinkFile",value:(t=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),i=vs(n),e.next=4,va.loadString(t,i);case 4:r=e.sent,a=rd(r),o=d(a);try{for(o.s();!(s=o.n()).done;)l=s.value,u=l.split(" "),this.attributes[u[1]]={familyId:u[0],fatherId:u[2],motherId:u[3],sex:u[4],phenotype:u[5]}}catch(di){o.e(di)}finally{o.f()}return e.abrupt("return",(this.plinkLoaded=!0,this));case 9:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"getAttributes",value:function(e){return this.attributes[e]}},{key:"getAttributeNames",value:function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]}},{key:"hasAttributes",value:function(){return Object.keys(this.attributes).length>0}}]),e}(),od=function(){function e(t,n){v(this,e),this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,t&&(this.gene=t.toUpperCase(),this.geneColors[this.gene]=sd[this.genesCount++]),n&&(this.snp=n.toUpperCase())}return m(e,[{key:"addGene",value:function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=sd[this.genesCount++])}},{key:"colorForGene",value:function(e){return this.geneColors[e.toUpperCase()]}}]),e}(),sd=new Array;sd.push("rgb(228,26,28)"),sd.push("rgb(55,126,184)"),sd.push("rgb(77,175,74)"),sd.push("rgb(166,86,40)"),sd.push("rgb(152,78,163)"),sd.push("rgb(255,127,0)"),sd.push("rgb(247,129,191)"),sd.push("rgb(153,153,153)"),sd.push("rgb(255,255,51)"),sd.push("rgb(102, 194, 165"),sd.push("rgb(252, 141, 98"),sd.push("rgb(141, 160, 203"),sd.push("rgb(231, 138, 195"),sd.push("rgb(166, 216, 84"),sd.push("rgb(255, 217, 47"),sd.push("rgb(229, 196, 148"),sd.push("rgb(179, 179, 179"),sd.push("rgb( 141, 211, 199"),sd.push("rgb(255, 255, 179"),sd.push("rgb(190, 186, 218"),sd.push("rgb(251, 128, 114"),sd.push("rgb(128, 177, 211"),sd.push("rgb(253, 180, 98"),sd.push("rgb(179, 222, 105"),sd.push("rgb(252, 205, 229"),sd.push("rgb(217, 217, 217"),sd.push("rgb(188, 128, 189"),sd.push("rgb(204, 235, 197"),sd.push("rgb(255, 237, 111");var ld=function(){function e(t,n,i,r,a){v(this,e),this.genome=t,this.chr=n,this.start=i,this.end=r,this.bpPerPixel=a,this.id=At()}var t;return m(e,[{key:"calculateEnd",value:function(e){return this.start+this.bpPerPixel*e}},{key:"calculateBPP",value:function(e,t){return(e-this.start)/t}},{key:"set",value:function(e){this.chr=e.chr,this.start=e.start,this.bpPerPixel=e.bpPerPixel}},{key:"toPixels",value:function(e){return e/this.bpPerPixel}},{key:"toBP",value:function(e){return this.bpPerPixel*e}},{key:"shiftPixels",value:function(e,t){var n=this.start,i=e*this.bpPerPixel;this.start+=i,this.clampStart(t),this.end+=i;var r=this.genome.getChromosome(this.chr).bpLength;return this.end=Math.min(r,this.end),n!==this.start}},{key:"clampStart",value:function(e){var t=this.genome.getChromosome(this.chr).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chr).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}}},{key:"zoomWithScaleFactor",value:(t=b(regeneratorRuntime.mark(function e(t,n,i,r){var a,o,s,l,u,c,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===r?this.start+this.toBP(i/2):r,o=this.start,s=o.start,l=o.bpPerPixel,u=this.getChromosome(),c=u.bpLength,h=n<1?t.minimumBases()/i:c/i,this.bpPerPixel=n<1?Math.max(this.bpPerPixel*n,h):Math.min(this.bpPerPixel*n,h),d=this.bpPerPixel*i,this.start=a-.5*d,this.clampStart(i),this.end=this.start+d,e.t0=s!==this.start||l!==this.bpPerPixel,!e.t0){e.next=10;break}return e.next=10,t.updateViews(this);case 10:case"end":return e.stop()}},e,this)})),function(e,n,i,r){return t.apply(this,arguments)})},{key:"getChromosome",value:function(){return this.genome.getChromosome(this.chr)}},{key:"getMultiLocusLabel",value:function(e){var t=Math.floor(this.start)+1,n=Math.round(this.start+this.bpPerPixel*e);return"".concat(this.chr,"&nbsp &nbsp &nbsp").concat(_s(n-t))}},{key:"getPresentationLocusComponents",value:function(e){if("all"===this.chr)return{chr:this.chr};var t=Mt(Math.floor(this.start)+1),n=Mt(Math.round(this.start+this.bpPerPixel*e));return{chr:this.chr,start:t,end:n}}},{key:"getLocusString",value:function(){if("all"===this.chr)return"all";var e=Mt(Math.floor(this.start)+1),t=Mt(Math.round(this.end));return"".concat(this.chr,":").concat(e,"-").concat(t)}},{key:"description",value:function(e){console.log(" ".concat(e||""," referenceFrame - ").concat(this.chr," bpp ").concat(this.bpPerPixel.toFixed(3)," start ").concat(Mt(Math.round(this.start))," end ").concat(Mt(Math.round(this.end))," "))}}]),e}(),ud={A:"rgb(  0, 200,   0)",C:"rgb(  0,0,200)",T:"rgb(255,0,0)",G:"rgb(209,113,  5)",N:"rgb(80,80,80)"},cd={timeout:5e3,type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"},hd=function(){function e(t){v(this,e),this.browser=t}return m(e,[{key:"navbarDidResize",value:function(e,t){this.updateNavbar(this.createResponsiveClassSchedule(e,t))}},{key:"updateNavbar",value:function(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),St(this.browser.zoomWidget.zoomContainer).removeClass(),St(this.browser.zoomWidget.zoomContainer).addClass(e.zoomContainer)}},{key:"createResponsiveClassSchedule",value:function(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.zoomContainer="igv-zoom-widget-hidden"),n}}]),e}(),dd=function(e,t){var n=this;this.container=Ct({class:"igv-chromosome-select-widget-container"}),t.appendChild(this.container),this.select=document.createElement("select"),this.select.setAttribute("name","chromosome-select-widget"),this.container.appendChild(this.select),this.select.addEventListener("change",function(){n.select.blur(),""!==n.select.value&&e.search(n.select.value)}),this.showAllChromosomes=!1!==e.config.showAllChromosomes};dd.prototype.show=function(){this.container.style.display="flex"},dd.prototype.hide=function(){this.container.style.display="none"},dd.prototype.update=function(e){var t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift("")),this.select.innerHTML="";var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=document.createElement("option");a.setAttribute("value",r),a.innerText=r,this.select.appendChild(a)}}catch(di){i.e(di)}finally{i.f()}};var fd=function(){function e(t,n){var i=this;v(this,e),this.container=Ct({class:"igv-windowsize-panel-container"}),t.appendChild(this.container),n.on("locuschange",function(e){i.updatePanel(e)}),this.browser=n}return m(e,[{key:"show",value:function(){this.container.style.display="block"}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"updatePanel",value:function(e){var t=this.browser.calculateViewportWidth(this.browser.referenceFrameList.length);this.container.innerText=1===e.length?_s(Math.round(t*e[0].bpPerPixel)):""}}]),e}(),pd=function(){function e(t,n){v(this,e),this.browser=n,this.columnContainer=t,this.horizontalGuide=Ct({class:"igv-cursor-guide-horizontal"}),t.appendChild(this.horizontalGuide),this.verticalGuide=Ct({class:"igv-cursor-guide-vertical"}),t.appendChild(this.verticalGuide),this.addMouseHandler(n),this.setVisibility(n.config.showCursorTrackingGuide)}return m(e,[{key:"addMouseHandler",value:function(e){this.boundMouseMoveHandler=(function(t){var n=Tt(t,this.columnContainer),i=n.x,r=n.y;this.horizontalGuide.style.top="".concat(r,"px");var a,o=document.elementFromPoint(t.clientX,t.clientY);if(o.parentElement.classList.contains("igv-viewport-content")?a=o.parentElement.parentElement:o.parentElement.classList.contains("igv-viewport")&&o.classList.contains("igv-viewport-content")&&(a=o.parentElement),a&&e.getRulerTrackView()){this.verticalGuide.style.left="".concat(i,"px");for(var s,l=e.root.querySelectorAll(".igv-column"),u=a.parentElement,c=0;c<l.length;c++)void 0===s&&u===l[c]&&(s=c);var h=e.getRulerTrackView().viewports[s].mouseMove(t);if(h){var d=h.start,f=h.bp,p=h.end,v=(f-d)/(p-d);this.customMouseHandler&&this.customMouseHandler({start:d,bp:f,end:p,interpolant:v})}}}).bind(this),this.columnContainer.addEventListener("mousemove",this.boundMouseMoveHandler)}},{key:"removeMouseHandler",value:function(){this.columnContainer.removeEventListener("mousemove",this.boundMouseMoveHandler)}},{key:"setVisibility",value:function(e){!0===e?this.show():this.hide()}},{key:"show",value:function(){this.verticalGuide.style.display="block",this.horizontalGuide.style.display="block"}},{key:"hide",value:function(){if(this.verticalGuide.style.display="none",this.horizontalGuide.style.display="none",this.browser.getRulerTrackView()){var e,t=d(this.browser.getRulerTrackView().viewports);try{for(t.s();!(e=t.n()).done;){e.value.$tooltip.hide()}}catch(di){t.e(di)}finally{t.f()}}}}]),e}(),vd=function(){function e(t,n){var i=this;v(this,e),this.browser=t,this.button=Ct({class:"igv-navbar-button"}),n.appendChild(this.button),this.button.textContent="cursor guide",this.button.addEventListener("click",function(){t.cursorGuideVisible=!t.cursorGuideVisible,t.setCursorGuideVisibility(t.cursorGuideVisible),i.setButtonState(t.cursorGuideVisible)}),this.setButtonState(t.cursorGuideVisible),t.config.showCursorTrackingGuideButton?this.show():this.hide()}return m(e,[{key:"setButtonState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"show",value:function(){this.button.style.display="block",this.setButtonState(this.browser.cursorGuideVisible)}},{key:"hide",value:function(){this.button.style.display="none"}}]),e}(),gd=function(){function e(t,n){var i=this;v(this,e),this.browser=t,this.button=Ct({class:"igv-navbar-button"}),n.appendChild(this.button),this.button.textContent="center line",this.button.addEventListener("click",function(){t.isCenterLineVisible=!t.isCenterLineVisible,t.setCenterLineVisibility(t.isCenterLineVisible),i.setButtonState(t.isCenterLineVisible)}),this.setButtonState(t.isCenterLineVisible),t.config.showCenterGuideButton?this.show():this.hide()}return m(e,[{key:"setButtonState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"show",value:function(){this.isVisible=!0,this.button.style.display="block",this.setButtonState(this.browser.isCenterLineVisible)}},{key:"hide",value:function(){this.isVisible=!1,this.button.style.display="none"}}]),e}(),md=function(e,t){var n=this;this.button=Ct({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="track labels",this.button.addEventListener("click",function(){t.trackLabelsVisible=!t.trackLabelsVisible,n.setState(t.trackLabelsVisible),t.setTrackLabelVisibility(t.trackLabelsVisible)}),this.browser=t,this.setVisibility(t.config.showTrackLabelButton),this.setState(t.trackLabelsVisible)};md.prototype.setVisibility=function(e){!0===e?this.show():this.hide()},md.prototype.setState=function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")},md.prototype.show=function(){this.button.style.display="block",this.setState(this.browser.trackLabelsVisible)},md.prototype.hide=function(){this.button.style.display="none"};var yd=function(){function e(t,n){var i=this;v(this,e),this.button=Ct({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.innerText="Sample Names",this.setState(n.showSampleNames),this.setVisibility(n.showSampleNameButton),this.button.addEventListener("click",function(){n.showSampleNames=!n.showSampleNames,i.setState(n.showSampleNames);var e,t=d(n.trackViews);try{for(t.s();!(e=t.n()).done;){var r=e.value.sampleNameViewport;!1===n.showSampleNames?r.hide():r.show()}}catch(di){t.e(di)}finally{t.f()}n.resize()})}return m(e,[{key:"setVisibility",value:function(e){!0===e?this.show():this.hide()}},{key:"setState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"hide",value:function(){this.button.style.display="none"}},{key:"show",value:function(){this.button.style.display="block"}}]),e}(),bd=23,_d=0,wd=function(e,t){var n=this;this.browser=e,this.zoomContainer=Ct({class:"igv-zoom-widget"}),t.appendChild(this.zoomContainer),this.zoomOutButton=Ct(),this.zoomContainer.appendChild(this.zoomOutButton),this.zoomOutButton.appendChild(It("minus-circle")),this.zoomOutButton.addEventListener("click",function(){e.zoomOut()});var i=Ct();this.zoomContainer.appendChild(i),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min="0",this.slider.max="".concat(bd),i.appendChild(this.slider),this.slider.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation();var n=e.referenceFrameList[0],i=n.genome.getChromosome(n.chr).bpLength,r=n.end-n.start,a=Math.pow(2,t.target.valueAsNumber);e.zoomWithScaleFactor(i/a/r)}),this.zoomInButton=Ct(),this.zoomContainer.appendChild(this.zoomInButton),this.zoomInButton.appendChild(It("plus-circle")),this.zoomInButton.addEventListener("click",function(){e.zoomIn()}),e.on("locuschange",function(e){n.browser.isMultiLocusMode()?n.disable():(n.enable(),n.update(e))})};wd.prototype.update=function(e){var t=e[0],n=t.genome.getChromosome(t.chr).bpLength,i=t.start,r=t.end;bd=Math.ceil(Math.log2(n/this.browser.minimumBases())),this.slider.max="".concat(bd),_d=Math.log2(n/(r-i)),this.slider.value="".concat(Math.round(_d))},wd.prototype.enable=function(){this.slider.disabled=!1},wd.prototype.disable=function(){this.slider.disabled=!0},wd.prototype.hide=function(){this.zoomContainer.style.display="none"},wd.prototype.show=function(){this.zoomContainer.style.display="block"},wd.prototype.hideSlider=function(){this.slider.style.display="none"},wd.prototype.showSlider=function(){this.slider.style.display="block"};var kd=function(e,t){var n=Ct({class:"igv-navbar-button"});e.append(n),n.textContent="Save SVG",n.addEventListener("click",function(){return t.saveSVGtoFile({})})},xd=function(){function e(t,n,i){v(this,e),this.browser=t,this.referenceFrame=n,this.column=i,this.container=Ct({class:"igv-center-line"}),i.appendChild(this.container),t.isCenterLineVisible?this.show():this.hide()}return m(e,[{key:"repaint",value:function(){var e=this.column.getBoundingClientRect().x,t=Math.floor(e+.5*this.browser.calculateViewportWidth(this.browser.referenceFrameList.length));this.referenceFrame&&(1/this.referenceFrame.bpPerPixel>1?(this.container.style.left="".concat(t,"px"),this.container.style.width="".concat(Math.floor(this.referenceFrame.toPixels(1)),"px"),this.container.classList.remove("igv-center-line-thin"),this.container.classList.add("igv-center-line-wide")):(this.container.style.left="".concat(t,"px"),this.container.style.width="1px",this.container.classList.remove("igv-center-line-wide"),this.container.classList.add("igv-center-line-thin")))}},{key:"show",value:function(){this.isVisible=!0,this.container.style.display="block",this.repaint()}},{key:"hide",value:function(){this.isVisible=!1,this.container.style.display="none"}},{key:"resize",value:function(){this.repaint()}}]),e}(),Sd=Mt,Cd=function(){function e(t){v(this,e),this.browser=t,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=.01*Number.MIN_SAFE_INTEGER,this.removable=!1,this.type="ruler"}var t;return m(e,[{key:"getFeatures",value:(t=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.context,n=e.referenceFrame,i=e.pixelWidth,r=e.pixelHeight,a=e.bpPerPixel,o=e.bpStart;es.isWholeGenomeView(n.chr)?this.drawWholeGenome({context:t,pixelWidth:i,pixelHeight:r,bpPerPixel:a}):this.doDraw({context:t,referenceFrame:n,pixelWidth:i,pixelHeight:r,bpStart:o})}},{key:"drawWholeGenome",value:function(e){var t=e.context,n=e.pixelWidth,i=e.pixelHeight,r=e.bpPerPixel;t.save(),fo.fillRect(t,0,0,n,i,{fillStyle:"white"});var a,o=d(this.browser.genome.wgChromosomeNames);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=this.browser.genome.getCumulativeOffset(s),u=this.browser.genome.getChromosome(s).bpLength,c=Math.round(l/r),h=Math.round(u/r);this.renderChromosomeRect(t,c,0,h,i,s)}}catch(di){o.e(di)}finally{o.f()}t.restore()}},{key:"doDraw",value:function(e){var t=e.context,n=e.referenceFrame,i=e.pixelWidth,r=e.pixelHeight,a=e.bpStart;t.clearRect(0,0,i,r);var o,s,l=function(e,t){if(e<10)return new Ed(1,"bp",1);var n=Math.floor(Math.log10(e)),i="bp",r=1;n>9?(i="gb",r=1e9):n>6?(i="mb",r=1e6):n>3&&(i="kb",r=1e3);var a=e/Math.pow(10,n-1),o=Math.pow(10,n-1),s=Math.pow(10,n)/2;return new Ed(a<75&&!0!==t?o:s,i,r)}(Math.floor(n.toBP(i)),t.isSVG),u=Math.floor(a/l.majorTick)-1,c=function(e,t,n,i,r){var a=l(t,s(1+i,r),n)-l(t,s(i,r),n),o="".concat(Mt(Math.floor(s(i,r)/r.unitMultiplier))," ").concat(r.majorUnit);return{tickDelta:a,labelLength:Math.floor(e.measureText(o).width)};function s(e,t){return Math.floor(e*t.majorTick)}function l(e,t,n){return Math.round(e.toPixels(t-1-n+.5))}}(t,n,a,u,l),h=c.tickDelta,d=c.labelLength;this.browser.referenceFrameList.indexOf(n);var f=h,p=.25*d;do{s=Math.floor(u*l.majorTick);var v="".concat(Mt(Math.floor(s/l.unitMultiplier))," ").concat(l.majorUnit);o=Math.round(n.toPixels(s-1-a+.5));var g=Math.round(o-t.measureText(v).width/2);g>0&&p+d<=f&&(fo.fillText(t,v,g,this.height-8),f=0),o>0&&fo.strokeLine(t,o,this.height-6,o,this.height-2),s=Math.floor((1+u)*l.majorTick);var m=o+(Math.round(n.toPixels(s-1-a+.5))-o)/2;m>0&&fo.strokeLine(t,m,this.height-6,m,this.height-2),++u,f+=h}while(o<i);fo.strokeLine(t,0,this.height-2,i,this.height-2)}},{key:"renderChromosomeRect",value:function(e,t,n,i,r,a){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",fo.strokeLine(e,t+i,n,t+i,n+r,{strokeStyle:na.greyScale(191)});var o=a.startsWith("chr")?a.substring(3):a;i>e.measureText(o).width&&fo.fillText(e,o,t+i/2,n+r/2,{fillStyle:na.greyScale(68)})}},{key:"supportsWholeGenome",value:function(){return!0}},{key:"dispose",value:function(){}}]),e}(),Ed=function(){function e(t,n,i){v(this,e),this.majorTick=t,this.minorTick=t/10,this.majorUnit=n,this.unitMultiplier=i}return m(e,[{key:"description",value:function(e){console.log((e||"")+" tick "+Sd(this.majorTick)+" label width "+Sd(this.labelWidthBP)+" multiplier "+this.unitMultiplier)}}]),e}(),Rd=function(){function e(t,n){v(this,e),this.config=t,this.guid=At(),this.namespace=".browser_"+this.guid,this.parent=n,this.root=Ct({class:"igv-container"}),n.appendChild(this.root),no.init(this.root),this.columnContainer=Ct({class:"igv-column-container"}),this.root.appendChild(this.columnContainer),this.menuPopup=new Is(this.columnContainer),this.initialize(t),this.trackViews=[],this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:t.doubleClickDelay||500},this.eventHandlers={},this.addMouseHandlers(),this.setControls(t)}var t,n,i,r,a,o,s,l,u,c,h,f,p,g,y,_,w,k,x,S;return m(e,[{key:"initialize",value:function(e){e.gtex&&(lc.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.nucleotideColors=e.nucleotideColors||ud;for(var t=0,n=Object.keys(this.nucleotideColors);t<n.length;t++){var i=n[t];this.nucleotideColors[i.toLowerCase()]=this.nucleotideColors[i]}this.trackLabelsVisible=e.showTrackLabels,this.isCenterLineVisible=e.showCenterGuide,this.cursorGuideVisible=e.showCursorTrackingGuide,this.showSampleNames=e.showSampleNames,this.showSampleNameButton=e.showSampleNameButton,this.sampleNameViewportWidth=e.sampleNameViewportWidth||200,e.search&&(this.searchConfig={type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField})}},{key:"setControls",value:function(e){var t=this.createStandardControls(e);t.insertBefore(St(this.columnContainer)),this.$navigation=t,!1===e.showControls&&t.hide()}},{key:"createStandardControls",value:function(e){var t=this;this.navbarManager=new hd(this);var n=St("<div>",{class:"igv-navbar"});this.$navigation=n;var i=St("<div>",{class:"igv-navbar-left-container"});n.append(i);var r=St("<div>",{class:"igv-logo"});i.append(r);var a=St('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>');a.css("width","34px"),a.css("height","32px"),r.append(a),this.$current_genome=St("<div>",{class:"igv-current-genome"}),i.append(this.$current_genome),this.$current_genome.text("");var o=St("<div>",{class:"igv-navbar-genomic-location"});i.append(o),this.chromosomeSelectWidget=new dd(this,o.get(0)),void 0===e.showChromosomeWidget&&(e.showChromosomeWidget=!0),!0===e.showChromosomeWidget?this.chromosomeSelectWidget.show():this.chromosomeSelectWidget.hide();var s=St("<div>",{class:"igv-locus-size-group"});o.append(s);var l=St("<div>",{class:"igv-search-container"});s.append(l),this.$searchInput=St("<input>",{class:"igv-search-input",type:"text",placeholder:"Locus Search"}),l.append(this.$searchInput),this.$searchInput.change(function(){return t.doSearch(t.$searchInput.val())});var u=Ct({class:"igv-search-icon-container"});l.append(St(u)),u.appendChild(It("search")),u.addEventListener("click",function(){return t.doSearch(t.$searchInput.val())}),this.windowSizePanel=new fd(s.get(0),this);var c=St("<div>",{class:"igv-navbar-right-container"});n.append(c);var h=St('<div class="igv-navbar-toggle-button-container">');return c.append(h),this.$toggle_button_container=h,this.cursorGuide=new pd(this.columnContainer,this),this.cursorGuideButton=new vd(this,h.get(0)),this.centerLineButton=new gd(this,h.get(0)),this.setTrackLabelVisibility(e.showTrackLabels),this.trackLabelControl=new md(h.get(0),this),this.sampleNameControl=new yd(h.get(0),this),!0===e.showSVGButton&&(this.svgSaveControl=new kd(h.get(0),this)),this.zoomWidget=new wd(this,c.get(0)),!1===e.showNavigation&&this.$navigation.hide(),this.inputDialog=new io(this.root),this.inputDialog.container.id="igv-input-dialog-".concat(At()),this.dataRangeDialog=new ho(St(this.root)),this.dataRangeDialog.$container.get(0).id="igv-data-range-dialog-".concat(At()),this.genericColorPicker=new Ts({parent:this.columnContainer,width:432}),this.genericColorPicker.container.id="igv-track-color-picker-".concat(At()),n}},{key:"getSampleNameViewportWidth",value:function(){return!1===this.showSampleNames?0:this.sampleNameViewportWidth}},{key:"isMultiLocusMode",value:function(){return this.referenceFrameList&&this.referenceFrameList.length>1}},{key:"addTrackToFactory",value:function(e,t){!function(e,t){Jh.set(e,t)}(e,t)}},{key:"isMultiLocusWholeGenomeView",value:function(){if(void 0===this.referenceFrameList||1===this.referenceFrameList.length)return!1;var e,t=d(this.referenceFrameList);try{for(t.s();!(e=t.n()).done;){if("all"===e.value.chr.toLowerCase())return!0}}catch(di){t.e(di)}finally{t.f()}return!1}},{key:"toSVG",value:function(){var e,t=this.columnContainer.getBoundingClientRect(),n=t.y,i=t.width,r=t.height,a=new jo({width:i,height:8e3,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:i,height:8e3}}),o=d(this.trackViews);try{for(o.s();!(e=o.n()).done;){e.value.renderSVGContext(a,{deltaX:0,deltaY:-n})}}catch(di){o.e(di)}finally{o.f()}return a.setHeight(r),a.getSerializedSvg(!0)}},{key:"renderSVG",value:function(e){var t=this.toSVG();return e.empty(),e.append(t),t}},{key:"saveSVGtoFile",value:function(e){var t=this.toSVG();e.$container&&(e.$container.empty(),e.$container.append(t)),en(e.filename||"igvjs.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))}},{key:"loadSession",value:(S=b(regeneratorRuntime.mark(function t(n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.roi=[],!n.url&&!n.file){t.next=7;break}return t.next=4,function(){var t=b(regeneratorRuntime.mark(function t(n){var i,r,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.url||n.file,!n.url||!n.url.startsWith("blob:")&&!n.url.startsWith("data:")){t.next=4;break}return r=e.uncompressSession(n.url),t.abrupt("return",JSON.parse(r));case 4:if(a=n.filename,t.t0=a,t.t0){t.next=15;break}if(!n.url){t.next=13;break}return t.next=10,ys(n.url);case 10:t.t1=t.sent,t.next=14;break;case 13:t.t1=n.file.name;case 14:a=t.t1;case 15:if(!a.endsWith(".xml")){t.next=21;break}return o=es.KNOWN_GENOMES,t.next=19,va.loadString(i);case 19:return s=t.sent,t.abrupt("return",new nd(s,o));case 21:return t.abrupt("return",a.endsWith(".json")?va.loadJson(i):void 0);case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()(n);case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0=n;case 8:return i=t.t0,t.abrupt("return",this.loadSessionObject(i));case 10:case"end":return t.stop()}},t,this)})),function(e){return S.apply(this,arguments)})},{key:"loadSessionObject",value:(x=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h,f,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.cleanHouseForSession(),this.showSampleNames=t.showSampleNames||!1,this.sampleNameControl.setState(!0===this.showSampleNames),t.sampleNameViewportWidth&&(this.sampleNameViewportWidth=t.sampleNameViewportWidth),ks(this.columnContainer,"igv-axis-column"),ks(this.columnContainer,"igv-sample-name-column"),ks(this.columnContainer,"igv-scrollbar-column"),ks(this.columnContainer,"igv-track-drag-column"),ks(this.columnContainer,"igv-gear-menu-column"),e.next=3,es.expandReference(t.reference||t.genome);case 3:return n=e.sent,e.next=6,this.loadReference(n,t.locus);case 6:if(this.centerLineList=this.createCenterLineList(this.columnContainer),!1!==t.showIdeogram&&this.trackViews.push(new Ms(this,this.columnContainer,new Yh(this))),!1!==t.showRuler&&this.trackViews.push(new Ms(this,this.columnContainer,new Cd(this))),!t.gtexSelections){e.next=12;break}i=d(this.referenceFrameList);try{for(i.s();!(r=i.n()).done;)for(a=r.value,o=0,s=Object.keys(t.gtexSelections);o<s.length;o++)l=s[o],a.selection=new od(t.gtexSelections[l].gene,t.gtexSelections[l].snp)}catch(di){i.e(di)}finally{i.f()}case 12:if(t.roi){this.roi=[],u=d(t.roi);try{for(u.s();!(c=u.n()).done;)h=c.value,this.roi.push(new ed(h,this.genome))}catch(di){u.e(di)}finally{u.f()}}f=n.tracks||[],0===(p=t.tracks?f.concat(t.tracks):f).filter(function(e){return"sequence"===e.type}).length&&p.push({type:"sequence",order:Co}),v=1,g=d(p);try{for(g.s();!(m=g.n()).done;)void 0===(y=m.value).order&&(y.order=v++)}catch(di){g.e(di)}finally{g.f()}return e.next=20,this.loadTrackList(p);case 20:this.updateUIWithReferenceFrameList();case 21:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"createCenterLineList",value:function(e){for(var t=e.querySelectorAll(".igv-center-line"),n=0;n<t.length;n++)t[n].remove();for(var i=[],r=e.querySelectorAll(".igv-column"),a=0;a<r.length;a++)i.push(new xd(this,this.referenceFrameList[a],r[a]));return i}},{key:"loadReference",value:(k=b(regeneratorRuntime.mark(function e(t,n){var i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es.loadGenome(t);case 2:return i=e.sent,r=void 0===this.genome||this.genome.id!==i.id,this.genome=i,this.updateNavbarDOMWithGenome(i),r&&this.removeAllTracks(),a=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()}(n,i),e.next=8,this.search(a,!0);case 8:if(e.t0=!e.sent,!e.t0){e.next=15;break}return console.log("Initial locus not found: "+a),a=i.getHomeChromosomeName(),e.next=14,this.search(a,!0);case 14:e.t0=!e.sent;case 15:if(!e.t0){e.next=17;break}throw new Error("Cannot set initial locus");case 17:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"cleanHouseForSession",value:function(){var e,t=d(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.removeDOMFromColumnContainer()}}catch(di){t.e(di)}finally{t.f()}this.columnContainer.querySelectorAll(".igv-axis-column, .igv-column-shim, .igv-column, .igv-sample-name-column, .igv-scrollbar-column, .igv-track-drag-column, .igv-gear-menu-column").forEach(function(e){return e.remove()}),this.trackViews=[]}},{key:"updateNavbarDOMWithGenome",value:function(e){this.$current_genome.text(e.id||""),this.$current_genome.attr("title",e.id||""),this.chromosomeSelectWidget.update(e)}},{key:"loadGenome",value:(w=b(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es.expandReference(t);case 2:return n=e.sent,e.next=5,this.loadReference(n,void 0);case 5:return 0===(i=n.tracks||[]).filter(function(e){return"sequence"===e.type}).length&&i.push({type:"sequence",order:Co}),e.next=9,this.loadTrackList(i);case 9:return e.next=11,this.updateViews();case 11:return e.abrupt("return",this.genome);case 12:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"updateUIWithReferenceFrameList",value:function(){var e=this.referenceFrameList;this.updateLocusSearchWidget();var t=this.isMultiLocusWholeGenomeView()||es.isWholeGenomeView(e[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),t),Id(this.trackViews,this.trackLabelsVisible),this.setCenterLineAndCenterLineButtonVisibility(!es.isWholeGenomeView(e[0].chr))}},{key:"setTrackLabelVisibility",value:function(e){Id(this.trackViews,e)}},{key:"setCursorGuideVisibility",value:function(e){e?this.cursorGuide.show():this.cursorGuide.hide()}},{key:"setCustomCursorGuideMouseHandler",value:function(e){this.cursorGuide.customMouseHandler=e}},{key:"setCenterLineVisibility",value:function(e){var t,n=d(this.centerLineList);try{for(n.s();!(t=n.n()).done;){var i=t.value;!0===e?(i.show(),i.repaint()):i.hide()}}catch(di){n.e(di)}finally{n.f()}}},{key:"setCenterLineAndCenterLineButtonVisibility",value:function(e){var t,n=d(this.centerLineList);try{for(n.s();!(t=n.n()).done;){var i=t.value;e&&i.isVisible?i.show():i.container.style.display="none"}}catch(di){n.e(di)}finally{n.f()}e&&this.centerLineButton.isVisible?this.centerLineButton.show():this.centerLineButton.button.style.display="none"}},{key:"loadTrackList",value:(_=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],i=d(t);try{for(i.s();!(r=i.n()).done;)a=r.value,n.push(this.loadTrack(a,!1))}catch(di){i.e(di)}finally{i.f()}return e.next=6,Promise.all(n);case 6:return o=e.sent,s=this.trackViews.filter(function(e){return e.track.autoscaleGroup}),e.abrupt("return",(s.length>0&&this.updateViews(s),o));case 9:return e.prev=9,e.next=12,this.resize();case 12:return e.finish(9);case 13:case"end":return e.stop()}},e,this,[[0,,9,13]])})),function(e){return _.apply(this,arguments)})},{key:"loadROI",value:(y=b(regeneratorRuntime.mark(function e(t){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roi||(this.roi=[]),Array.isArray(t)){n=d(t);try{for(n.s();!(i=n.n()).done;)r=i.value,this.roi.push(new ed(r,this.genome))}catch(di){n.e(di)}finally{n.f()}}else this.roi.push(new ed(t,this.genome));return e.next=3,this.updateViews(!0);case 3:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"removeROI",value:function(e){for(var t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}var n,i=d(this.trackViews);try{for(i.s();!(n=i.n()).done;){n.value.updateViews(!0)}}catch(di){i.e(di)}finally{i.f()}}},{key:"clearROIs",value:function(){this.roi=[];var e,t=d(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.updateViews(!0)}}catch(di){t.e(di)}finally{t.f()}}},{key:"getRulerTrackView",value:function(){var e=this.trackViews.filter(function(e){return"ruler"===e.track.id});return e.length>0?e[0]:void 0}},{key:"loadTrack",value:(g=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Pt(t)&&(t=JSON.parse(t)),e.prev=1,e.next=4,this.createTrack(t);case 4:if(void 0!==(i=e.sent)){e.next=7;break}return e.abrupt("return",(no.presentAlert(new Error("Unknown file type: ".concat(t.url||t)),void 0),i));case 7:if(void 0===i.order&&(i.order=this.trackViews.length),r=new Ms(this,this.columnContainer,i),this.trackViews.push(r),Id(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),"function"!=typeof i.postInit){e.next=17;break}return e.prev=10,r.startSpinner(),e.next=14,i.postInit();case 14:return e.prev=14,r.stopSpinner(),e.finish(14);case 17:if(e.t0=i.autoscaleGroup,e.t0){e.next=25;break}if(!t.sync){e.next=24;break}return e.next=22,r.updateViews();case 22:e.next=25;break;case 24:r.updateViews();case 25:return"function"==typeof i.hasSamples&&i.hasSamples()&&!1!==this.config.showSampleNameButton&&this.sampleNameControl.show(),e.abrupt("return",i);case 29:e.prev=29,e.t1=e.catch(1),a={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(e.t1),o=e.t1.message||e.t1.error||e.t1.toString(),a.hasOwnProperty(o)&&(o=a[o]),o+=": "+t.url,no.presentAlert(new Error(o),void 0);case 35:if(e.prev=35,e.t2=!1===n,e.t2){e.next=40;break}return e.next=40,this.resize();case 40:return e.finish(35);case 41:case"end":return e.stop()}},e,this,[[1,29,35,41],[10,,14,17]])})),function(e,t){return g.apply(this,arguments)})},{key:"createTrack",value:(p=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"==typeof t?t():t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t.url);case 2:if(Pt(n=e.sent)&&(n=n.trim()),!n){e.next=19;break}if(!t.format){e.next=8;break}t.format=t.format.toLowerCase(),e.next=19;break;case 8:if(i=t.filename,e.t0=i,e.t0){e.next=14;break}return e.next=13,ys(n);case 13:i=e.sent;case 14:if(t.format=function(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return go.has(n)?n:void 0}}(i),e.t1=t.format||void 0!==t.sourceType&&"htsget"!==t.sourceType,e.t1){e.next=19;break}return e.next=19,Eu.inferFormat(t);case 19:if(r=t.type?t.type.toLowerCase():void 0){e.next=31;break}if("bedtype"!==(r=function(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0),"junctions"===e.type?e.type="junction":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),e.type)return e.type;if(e.format)switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":return"wig";case"vcf":return"variant";case"seg":return"seg";case"mut":case"maf":return"mut";case"bam":case"cram":return"alignment";case"bedpe":case"bedpe-loop":return"interact";case"bp":return"arc";case"gwas":return"gwas";case"bed":case"bigbed":case"bb":return"bedtype";default:return"annotation"}}(t))){e.next=30;break}return a=tc(t,this.genome),t._featureSource=a,e.next=26,a.trackType();case 26:if(e.t2=e.sent,e.t2){e.next=29;break}e.t2="annotation";case 29:r=e.t2;case 30:t.type=r;case 31:if(this.trackDefaults&&r&&(o=this.trackDefaults[r]))for(s in o)o.hasOwnProperty(s)&&void 0===t[s]&&(t[s]=o[s]);if((l=function(e,t,n){var i;switch(e){case"annotation":case"genes":case"fusionjuncspan":case"snp":i="feature";break;case"seg":case"maf":case"mut":i="seg";break;case"junctions":case"splicejunctions":i="junction";break;default:i=e}return Jh.has(i)?Jh.get(i)(t,n):void 0}(r,t,this))&&t.roi){l.roi=[],u=d(t.roi);try{for(u.s();!(c=u.n()).done;)h=c.value,l.roi.push(new ed(h,this.genome))}catch(di){u.e(di)}finally{u.f()}}return e.abrupt("return",l);case 35:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"reorderTracks",value:function(){this.trackViews.sort(function(e,t){var n=function(e){return"ideogram"===e.track.id?1:"ruler"===e.track.id?2:3},i=n(e),r=n(t);return i===r?(e.track.order||0)-(t.track.order||0):i-r});var e,t=d(this.trackViews);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.axis,r=n.viewports,a=n.sampleNameViewport,o=n.outerScroll,s=n.dragHandle,l=n.gearContainer;i.remove();var u,c=d(r);try{for(c.s();!(u=c.n()).done;){u.value.$viewport.detach()}}catch(di){c.e(di)}finally{c.f()}a.viewport.remove(),o.remove(),s.remove(),l.remove()}}catch(di){t.e(di)}finally{t.f()}var h,f=this.columnContainer.querySelectorAll(".igv-column"),p=d(this.trackViews);try{for(p.s();!(h=p.n()).done;){var v=h.value,g=v.axis,m=v.viewports,y=v.sampleNameViewport,b=v.outerScroll,_=v.dragHandle,w=v.gearContainer;this.columnContainer.querySelector(".igv-axis-column").appendChild(g);for(var k=0;k<f.length;k++){var x=m[k].$viewport;f[k].appendChild(x.get(0))}this.columnContainer.querySelector(".igv-sample-name-column").appendChild(y.viewport),this.columnContainer.querySelector(".igv-scrollbar-column").appendChild(b),this.columnContainer.querySelector(".igv-track-drag-column").appendChild(_),this.columnContainer.querySelector(".igv-gear-menu-column").appendChild(w)}}catch(di){p.e(di)}finally{p.f()}}},{key:"getTrackOrder",value:function(){return this.trackViews.filter(function(e){return e.track&&e.track.name}).map(function(e){return e.track.name})}},{key:"removeTrackByName",value:function(e){var t,n=d(this.trackViews.slice());try{for(n.s();!(t=n.n()).done;){var i=t.value;e===i.track.name&&this.removeTrack(i.track)}}catch(di){n.e(di)}finally{n.f()}}},{key:"removeTrack",value:function(e){this.trackViews.splice(this.trackViews.indexOf(e.trackView),1),this.fireEvent("trackremoved",[e]),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),e.trackView.dispose()}},{key:"removeAllTracks",value:function(){var e,t=[],n=d(this.trackViews);try{for(n.s();!(e=n.n()).done;){var i=e.value;"ruler"!==i.track.id&&"ideogram"!==i.track.id?(this.fireEvent("trackremoved",[i.track]),i.dispose()):t.push(i)}}catch(di){n.e(di)}finally{n.f()}this.trackViews=t}},{key:"findTracks",value:function(e,t){return this.trackViews.filter("function"==typeof e?function(t){return e(t.track)}:function(n){return t===n.track[e]}).map(function(e){return e.track})}},{key:"setTrackHeight",value:function(e){this.trackHeight=e,this.trackViews.forEach(function(t){t.setTrackHeight(e)})}},{key:"visibilityChange",value:(f=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.referenceFrameList.find(function(e){return e.bpPerPixel<0})){t=this.calculateViewportWidth(this.referenceFrameList.length),n=d(this.referenceFrameList);try{for(n.s();!(i=n.n()).done;)(r=i.value).bpPerPixel=(r.end-r.start)/t}catch(di){n.e(di)}finally{n.f()}}return this.referenceFrameList&&(a=this.isMultiLocusWholeGenomeView()||es.isWholeGenomeView(this.referenceFrameList[0].chr),this.navbarManager.navbarDidResize(this.$navigation.width(),a)),e.next=4,this.resize();case 4:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"resize",value:(h=b(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,l,u,c,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.calculateViewportWidth(this.referenceFrameList.length),n=d(this.referenceFrameList);try{for(n.s();!(i=n.n()).done;){r=i.value,a=this.referenceFrameList.indexOf(r),o=r.chr,s=r.genome,l=s.getChromosome(r.chr),u=l.bpLength,c=r.toBP(t),es.isWholeGenomeView(o)||c>u?r.bpPerPixel=u/t:r.end=r.start+r.toBP(t),h=d(this.trackViews);try{for(h.s();!(f=h.n()).done;)f.value.viewports[a].setWidth(t)}catch(di){h.e(di)}finally{h.f()}}}catch(di){n.e(di)}finally{n.f()}return e.next=5,this.updateViews(!0);case 5:this.updateUIWithReferenceFrameList();case 6:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"updateViews",value:(c=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u,c,h,f,p,v,g,m,y,b,_,w,k,x,S,C,E,R,A,T,I,D,O,P,M;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.trackViews,this.updateLocusSearchWidget(),i=d(this.centerLineList);try{for(i.s();!(r=i.n()).done;)r.value.repaint()}catch(di){i.e(di)}finally{i.f()}if(!this.dragObject){e.next=24;break}a=d(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=14;break}return s=o.value,e.next=12,s.updateViews(t);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=52;break;case 24:l={},u=[],c=d(n);try{for(c.s();!(h=c.n()).done;)f=h.value,(p=f.track.autoscaleGroup)?((v=l[p])||(l[p]=v=[]),v.push(f)):u.push(f)}catch(di){c.e(di)}finally{c.f()}if(!(Object.entries(l).length>0)){e.next=50;break}g=Object.keys(l),m=0,y=g;case 30:if(!(m<y.length)){e.next=50;break}b=y[m],_=l[b],w=[],k=d(_);try{for(k.s();!(x=k.n()).done;)S=x.value,w.push(S.getInViewFeatures())}catch(di){k.e(di)}finally{k.f()}return e.next=37,Promise.all(w);case 37:C=e.sent,R=[],A=d(C);try{for(A.s();!(T=A.n()).done;)I=T.value,R=R.concat(I)}catch(di){A.e(di)}finally{A.f()}E=gs(R),D=[],O=d(_);try{for(O.s();!(P=O.n()).done;)(M=P.value).track.dataRange=E,M.track.autoscale=!1,D.push(M.updateViews(t))}catch(di){O.e(di)}finally{O.f()}return e.next=47,Promise.all(D);case 47:m++,e.next=30;break;case 50:return e.next=52,Promise.all(u.map(function(e){return e.updateViews(t)}));case 52:case"end":return e.stop()}},e,this,[[6,16,19,22]])})),function(e){return c.apply(this,arguments)})},{key:"updateLocusSearchWidget",value:function(){var e,t=this.referenceFrameList,n=this.calculateViewportWidth(this.referenceFrameList.length),i=d(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.end=r.start+r.bpPerPixel*n}}catch(di){i.e(di)}finally{i.f()}this.chromosomeSelectWidget.select.value=1===t.length?this.referenceFrameList[0].chr:"";var a=this.referenceFrameList.map(function(e){return e.getLocusString()}).join(" ");this.$searchInput.val(a),this.fireEvent("locuschange",[this.referenceFrameList])}},{key:"calculateViewportWidth",value:function(e){var t=this.columnContainer.getBoundingClientRect().width;return t-=50+this.getSampleNameViewportWidth()+14+12+28,t-=5*(e-1),Math.floor(t/e)}},{key:"getCenterLineXOffset",value:function(){var e=this.columnContainer.getBoundingClientRect().width;return e-=50+this.getSampleNameViewportWidth()+14+12+28,Math.floor(e/2+50)}},{key:"minimumBases",value:function(){return this.config.minimumBases}},{key:"zoomIn",value:function(){this.zoomWithScaleFactor(.5)}},{key:"zoomOut",value:function(){this.zoomWithScaleFactor(2)}},{key:"zoomWithScaleFactor",value:(u=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.calculateViewportWidth(this.referenceFrameList.length),a=i?[i]:this.referenceFrameList,o=d(a);try{for(o.s();!(s=o.n()).done;)s.value.zoomWithScaleFactor(this,t,r,n)}catch(di){o.e(di)}finally{o.f()}case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return u.apply(this,arguments)})},{key:"presentMultiLocusPanel",value:(l=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h,f,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.calculateViewportWidth(1+this.referenceFrameList.length),function(e,t,n,i,r){t.bpPerPixel*=e,t.start=(i+(i+r))/2-t.bpPerPixel*(n/2),t.end=t.start+t.bpPerPixel*n,t.locusSearchString=t.getLocusString()}(this.calculateViewportWidth(this.referenceFrameList.length)/this.calculateViewportWidth(1+this.referenceFrameList.length),n,i,t.start,t.lengthOnRef),r=this.genome.getChromosomeName(t.mate.chr),a=function(e,t,n,i,r,a){var o=(r+(r+a))/2-n*(i/2);return new ld(e,t,o,o+n*i,n)}(this.genome,r,n.bpPerPixel,i,t.mate.position,t.lengthOnRef),o=this.referenceFrameList.indexOf(n),s=1+this.referenceFrameList.indexOf(n),l=this.trackViews[0].viewports[o].$viewport,u=function(e){var t=Ct({class:"igv-column-shim"});Ss(t,e);var n=Ct({class:"igv-column"});return Ss(n,t),n}(l.get(0).parentElement),s===this.referenceFrameList.length){this.referenceFrameList.push(a),c=d(this.trackViews);try{for(c.s();!(h=c.n()).done;)f=h.value,p=Cs(f,u,a),f.viewports.push(p)}catch(di){c.e(di)}finally{c.f()}}else{this.referenceFrameList.splice(s,0,a),v=d(this.trackViews);try{for(v.s();!(g=v.n()).done;)m=g.value,y=Cs(m,u,a),m.viewports.splice(s,0,y)}catch(di){v.e(di)}finally{v.f()}}return this.centerLineList=this.createCenterLineList(this.columnContainer),e.next=7,this.resize();case 7:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"removeMultiLocusPanel",value:(s=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.referenceFrameList.indexOf(t),i=this.trackViews[0].viewports[n].$viewport,function(e,t){var n=0===e?t.nextElementSibling:t.previousElementSibling;t.remove(),n.remove()}(n,i.parent().get(0)),r=d(this.trackViews);try{for(r.s();!(a=r.n()).done;)(o=a.value.viewports)[n].dispose(),o.splice(n,1)}catch(di){r.e(di)}finally{r.f()}if(this.referenceFrameList.splice(n,1),1===this.referenceFrameList.length&&this.getRulerTrackView()){s=d(this.getRulerTrackView().viewports);try{for(s.s();!(l=s.n()).done;)l.value.dismissLocusLabel()}catch(di){s.e(di)}finally{s.f()}}return u=this.calculateViewportWidth(1+this.referenceFrameList.length)/this.calculateViewportWidth(this.referenceFrameList.length),e.next=8,this.rescaleForMultiLocus(u);case 8:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"rescaleForMultiLocus",value:(o=b(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.calculateViewportWidth(this.referenceFrameList.length),i=d(this.referenceFrameList);try{for(i.s();!(r=i.n()).done;)r.value.bpPerPixel*=t}catch(di){i.e(di)}finally{i.f()}a=d(this.trackViews);try{for(a.s();!(o=a.n()).done;){s=o.value.viewports,l=d(s);try{for(l.s();!(u=l.n()).done;)u.value.setWidth(n)}catch(di){l.e(di)}finally{l.f()}}}catch(di){a.e(di)}finally{a.f()}return this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),e.next=9,this.updateViews(!0);case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"goto",value:(a=b(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.search(t+":"+n+"-"+i);case 2:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"doSearch",value:(r=b(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.search(t,n);case 2:return i=e.sent,e.abrupt("return",(i||no.presentAlert(new Error("Unrecognized locus: <b> ".concat(t," </b>"))),i));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"search",value:(i=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=b(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,l,u,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n.trim()){e.next=2;break}return e.abrupt("return");case 2:(n&&"all"===n.trim().toLowerCase()||"*"===n)&&(n="all"),i=n.split(" "),r=t.searchConfig||cd,a=[],o=function(){var e=b(regeneratorRuntime.mark(function e(i){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=function(e,t){var n=t.split(":"),i=n[0];if("all"===i&&e.genome.getChromosome(i))return{chr:i,start:0,end:e.genome.getChromosome(i).bpLength};if(void 0!==e.genome.getChromosome(i)){var r={chr:e.genome.getChromosomeName(i),start:0,end:e.genome.getChromosome(i).bpLength};if(n.length>1){var a,o=n[1].split("-");if(o.length>2)return;if(a=o[0].replace(/,/g,""),isNaN(a))return;if(r.start=parseInt(a,10)-1,r.end=r.start+1,1===o.length&&(r.start-=20,r.end+=20),2===o.length){if(a=o[1].replace(/,/g,""),isNaN(a))return;r.end=parseInt(a,10)}}return r}}(t,i))||(o=t.genome.featureDB[i.toUpperCase()])&&(a={chr:o.chr,start:o.start,end:o.end,gene:o.name,locusSearchString:n}),a||!t.config||!1===t.config.search){e.next=12;break}return e.prev=3,e.next=6,function(){var e=b(regeneratorRuntime.mark(function e(t,n,i){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=i.url.replace("$FEATURE$",n.toUpperCase())).indexOf("$GENOME$")>-1&&(r=r.replace("$GENOME$",t.genome.id?t.genome.id:"hg19")),a=i.timeout?{timeout:i.timeout}:void 0,e.t0=function(e,t,n){var i;if(i="plain"===n.type?function(e,t){var n=[],i=[];return Lt(t).forEach(function(e){""===e||n.push(e)}),n.forEach(function(t){var n,r,a,o,s=t.split("\t");s.length>=3&&(a=(r=s[1].split(":"))[1].split("-"),n=s[2].trim(),o={gene:s[0],chromosome:e.genome.getChromosomeName(r[0].trim()),start:parseInt(a[0].replace(/,/g,"")),end:parseInt(a[1].replace(/,/g,"")),type:"gtex"===n?"snp":"gene"},i.push(o))}),i}(e,t):JSON.parse(t),n.resultsField&&(i=i[n.resultsField]),i&&0!==i.length){var r,a=n.chromosomeField||"chromosome",o=n.startField||"start",s=n.endField||"end",l=n.coords||1;(r=Array.isArray(i)?i[0]:i).hasOwnProperty(a)&&r.hasOwnProperty(o)||console.error("Search service results must include chromosome and start fields: "+r);var u=e.genome.getChromosome(r[a]);if(!u)return;var c=r[o]-l,h=r[s];void 0===h&&(h=c+1);var d={chr:u.name,start:c,end:h},f=r.type?r.type:"gene";return n.geneField&&"gene"===f&&(d.gene=r[n.geneField]),n.snpField&&"snp"===f&&(d.snp=r[n.snpField]),d}},e.t1=t,e.next=7,va.loadString(r,a);case 7:return e.t2=e.sent,e.t3=i,o=(0,e.t0)(e.t1,e.t2,e.t3),e.abrupt("return",(o&&(o.locusSearchString=n),o));case 11:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()(t,i,r);case 6:a=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.error(e.t0),Error("Search service currently unavailable.");case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),s=d(i),e.prev=7,s.s();case 9:if((l=s.n()).done){e.next=17;break}return u=l.value,e.next=13,o(u);case 13:(c=e.sent)&&(c.locusSearchString=u,a.push(c));case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:if(0!==a.length){e.next=30;break}return e.next=28,o(n);case 28:(h=e.sent)&&(h.locusSearchString=n,a.push(h));case 30:return e.abrupt("return",0===a.length?void 0:a);case 31:case"end":return e.stop()}},e,null,[[7,19,22,25]])}));return function(t,n){return e.apply(this,arguments)}}()(this,t);case 2:if(!((i=e.sent)&&i.length>0)){e.next=16;break}this.referenceFrameList=function(e,t,n,i,r){return e.map(function(e){n&&e.gene&&(e.start=Math.max(0,e.start-n),e.end+=n);var a=t.getChromosome(e.chr);ms(a.bpLength,e,i);var o=new ld(t,e.chr,e.start,e.end,(e.end-e.start)/r);return o.locusSearchString=e.locusSearchString,(e.gene||e.snp)&&(o.selection=new od(e.gene,e.snp)),o})}(i,this.genome,this.flanking,this.minimumBases(),this.calculateViewportWidth(i.length)),r=d(this.trackViews);try{for(r.s();!(a=r.n()).done;)a.value.removeDOMFromColumnContainer()}catch(di){r.e(di)}finally{r.f()}this.columnContainer.querySelectorAll(".igv-column-shim, .igv-column").forEach(function(e){return e.remove()}),function(e,t){for(var n=0;n<t;n++){var i=Ct({class:"igv-column"});xs(i,e),t>1&&n>0&&xs(Ct({class:"igv-column-shim"}),i)}}(this.columnContainer.querySelector(".igv-sample-name-column"),this.referenceFrameList.length),this.centerLineList=this.createCenterLineList(this.columnContainer),o=d(this.trackViews);try{for(o.s();!(s=o.n()).done;)s.value.addDOMToColumnContainer(this,this.columnContainer,this.referenceFrameList)}catch(di){o.e(di)}finally{o.f()}if(this.updateUIWithReferenceFrameList(),e.t0=n,e.t0){e.next=15;break}return e.next=15,this.updateViews();case 15:return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"loadSampleInformation",value:(n=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,Qt(t)&&(n=t.name),e.t0="fam"===n.substr(n.lastIndexOf(".")+1),!e.t0){e.next=7;break}return e.next=6,function(e,t){return(new ad).loadPlinkFile(e,void 0)}(t);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"on",value:function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"un",value:function(e,t){this.off(e,t)}},{key:"off",value:function(e,t){if(e)if(t){var n=this.eventHandlers[e];if(n&&0!==n.length){var i=n.indexOf(t);-1!==i&&this.eventHandlers[e].splice(i,1)}else console.warn("No handlers to remove for event: "+e)}else this.eventHandlers[e]=[];else this.eventHandlers={}}},{key:"fireEvent",value:function(e,t,n){var i=this.eventHandlers[e];if(void 0!==i&&0!==i.length){var r=n||window;return i.map(function(e){return e.apply(r,t)})[0]}}},{key:"dispose",value:function(){this.removeMouseHandlers();var e,t=d(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(di){t.e(di)}finally{t.f()}}},{key:"toJSON",value:function(){var e={version:"2.10.4"};if(void 0!==this.showSampleNames&&(e.showSampleNames=this.showSampleNames),200!==this.sampleNameViewportWidth&&(e.sampleNameViewportWidth=this.sampleNameViewportWidth),e.reference=this.genome.toJSON(),Jt(e.reference.fastaURL))throw new Error("Error. Sessions cannot include local file references ".concat(e.reference.fastaURL.name,"."));if(Jt(e.reference.indexURL))throw new Error("Error. Sessions cannot include local file references ".concat(e.reference.indexURL.name,"."));var t,n=[],i={},r=d(this.trackViews[0].viewports);try{for(r.s();!(t=r.n()).done;){var a=t.value.referenceFrame,o=a.getLocusString();n.push(o),a.selection&&(i[o]={gene:a.selection.gene,snp:a.selection.snp})}}catch(di){r.e(di)}finally{r.f()}e.locus=1===n.length?n[0]:n,Object.getOwnPropertyNames(i).length>0&&(e.gtexSelections=i);var s,l=[],u=[],c=d(this.trackViews);try{for(c.s();!(s=c.n()).done;){var h=s.value.track;try{var f=void 0;(f="function"==typeof h.getState?h.getState():h.config)&&(f.browser&&delete f.browser,f.order=h.order,l.push(f))}catch(y){u.push(y)}}}catch(di){c.e(di)}finally{c.f()}if(u.length>0){var p,v=1,g="Errors encountered saving session:",m=d(u);try{for(m.s();!(p=m.n()).done;){var y=p.value;g+=" (".concat(v++,") ").concat(y.toString(),".")}}catch(di){m.e(di)}finally{m.f()}throw Error(g)}if(l.filter(function(e){e.url&&Qt(e.url)}).length>0)throw new Error("Error. Sessions cannot include local file references.");return e.tracks=l,e}},{key:"compressedSession",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);var i=new qr.deflateRaw(t),r=String.fromCharCode.apply(null,i);return btoa(r).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))}},{key:"sessionURL",value:function(){var e=window.location.href.slice(),t=e.indexOf("?");return(t>0?e.substring(0,t):e)+"?sessionURL=blob:"+this.compressedSession()}},{key:"currentLoci",value:function(){var e,t=[],n=d(this.trackViews[0].viewports);try{for(n.s();!(e=n.n()).done;){var i=e.value.referenceFrame.getLocusString();t.push(i)}}catch(di){n.e(di)}finally{n.f()}return t}},{key:"mouseDownOnViewport",value:function(e,t){var n;n=Rt(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,referenceFrame:t.referenceFrame}}},{key:"cancelTrackPan",value:function(){var e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))}},{key:"startTrackDrag",value:function(e){this.dragTrack=e}},{key:"updateTrackDrag",value:function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),i=this.trackViews.indexOf(t),r=this.trackViews;r[n]=t,r[i]=e;var a=this.trackViews[n].track.order;this.trackViews[i].track.order=a;var o=r.length,s=a;if(n<i)for(var l=n+1;l<o;l++){var u=r[l].track;if(!(u.order<=s))break;u.order=Math.min(Number.MAX_SAFE_INTEGER,s+1),s=u.order}else for(var c=n-1;c>0;c--){var h=r[c].track;if(!(h.order>=s))break;h.order=Math.max(-Number.MAX_SAFE_INTEGER,s-1),s=h.order}this.reorderTracks()}}},{key:"endTrackDrag",value:function(){this.dragTrack?(this.dragTrack=void 0,this.fireEvent("trackorderchanged",[this.getTrackOrder()])):this.dragTrack=void 0}},{key:"addMouseHandlers",value:function(){this.addWindowResizeHandler(),this.addRootMouseUpHandler(),this.addRootMouseLeaveHandler(),this.addColumnContainerEventHandlers()}},{key:"removeMouseHandlers",value:function(){this.removeWindowResizeHandler(),this.removeRootMouseUpHandler(),this.removeRootMouseLeaveHandler(),this.removeColumnContainerEventHandlers()}},{key:"addWindowResizeHandler",value:function(){this.boundWindowResizeHandler=(function(){this.resize()}).bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)}},{key:"removeWindowResizeHandler",value:function(){window.removeEventListener("resize",this.boundWindowResizeHandler)}},{key:"addRootMouseUpHandler",value:function(){this.boundRootMouseUpHandler=Td.bind(this),this.root.addEventListener("mouseup",this.boundRootMouseUpHandler)}},{key:"removeRootMouseUpHandler",value:function(){this.root.removeEventListener("mouseup",this.boundRootMouseUpHandler)}},{key:"addRootMouseLeaveHandler",value:function(){this.boundRootMouseLeaveHandler=Td.bind(this),this.root.addEventListener("mouseleave",this.boundRootMouseLeaveHandler)}},{key:"removeRootMouseLeaveHandler",value:function(){this.root.removeEventListener("mouseleave",this.boundRootMouseLeaveHandler)}},{key:"addColumnContainerEventHandlers",value:function(){this.boundColumnContainerMouseMoveHandler=Ad.bind(this),this.boundColumnContainerTouchMoveHandler=Ad.bind(this),this.boundColumnContainerMouseLeaveHandler=Td.bind(this),this.boundColumnContainerMouseUpHandler=Td.bind(this),this.boundColumnContainerTouchEndHandler=Td.bind(this),this.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.addEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.addEventListener("touchend",this.boundColumnContainerTouchEndHandler)}},{key:"removeColumnContainerEventHandlers",value:function(){this.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.removeEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.removeEventListener("touchend",this.boundColumnContainerTouchEndHandler)}},{key:"getDriveFileInfo",value:(t=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ht(t),e.abrupt("return",va.loadJson("https://www.googleapis.com/drive/v3/files/"+n+"?supportsTeamDrives=true",vs({})));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}],[{key:"uncompressSession",value:function(e){if(e.indexOf("/gzip;base64")>0){var t,n="",i=d(Kr(e));try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=String.fromCharCode(r)}}catch(di){i.e(di)}finally{i.f()}return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var t=atob(e),n=[],i=0;i<t.length;i++)n.push(t.charCodeAt(i));var r,a="",o=d(qr.inflateRaw(n));try{for(o.s();!(r=o.n()).done;){var s=r.value;a+=String.fromCharCode(s)}}catch(di){o.e(di)}finally{o.f()}return a}(e.substring(5))}}]),e}();function Ad(e){e.preventDefault();var t=Rt(e),n=t.x,i=t.y;if(this.vpMouseDown){var r=this.vpMouseDown,a=r.viewport,o=r.referenceFrame,s=Math.abs(n-this.vpMouseDown.mouseDownX)>Math.abs(i-this.vpMouseDown.mouseDownY);if(!this.dragObject&&!this.isScrolling)if(s)this.vpMouseDown.mouseDownX&&Math.abs(n-this.vpMouseDown.mouseDownX)>this.constants.dragThreshold&&(this.dragObject={viewport:a,start:o.start});else if(this.vpMouseDown.mouseDownY&&Math.abs(i-this.vpMouseDown.mouseDownY)>this.constants.scrollThreshold){this.isScrolling=!0;var l=a.$viewport.height(),u=Ls(a.trackView.viewports);this.vpMouseDown.r=l/u}this.dragObject&&(o.shiftPixels(this.vpMouseDown.lastMouseX-n,a.$viewport.width())&&this.updateViews(),this.fireEvent("trackdrag")),this.isScrolling&&a.trackView.moveScroller(this.vpMouseDown.r*(this.vpMouseDown.lastMouseY-i)),this.vpMouseDown.lastMouseX=n,this.vpMouseDown.lastMouseY=i}}function Td(e){this.cancelTrackPan(),this.endTrackDrag()}function Id(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r,a=n.value.viewports,o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.$trackLabel&&(0===a.indexOf(s)&&!0===t?s.$trackLabel.show():s.$trackLabel.hide())}}catch(di){o.e(di)}finally{o.f()}}}catch(di){i.e(di)}finally{i.f()}}var Dd,Od,Pd,Md=[],Ld=va.setApiKey;return function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='.igv-navbar {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 2px;\n  margin-bottom: 6px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n  .igv-navbar .igv-navbar-left-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-left-container .igv-logo {\n      width: 34px;\n      height: 32px;\n      margin-right: 8px; }\n    .igv-navbar .igv-navbar-left-container .igv-current-genome {\n      height: 32px;\n      margin-left: 4px;\n      margin-right: 4px;\n      user-select: none;\n      line-height: 32px;\n      vertical-align: middle;\n      text-align: center; }\n    .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container {\n        display: flex;\n        flex-flow: column;\n        flex-wrap: nowrap;\n        justify-content: space-around;\n        align-items: center;\n        height: 100%;\n        width: 125px;\n        margin-right: 4px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container select {\n          display: block;\n          cursor: pointer;\n          width: 100px;\n          height: 75%;\n          outline: none;\n          font-size: 12px;\n          font-family: "Open Sans", sans-serif;\n          font-weight: 400; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group {\n        display: flex;\n        flex-flow: row;\n        flex-wrap: nowrap;\n        justify-content: space-between;\n        align-items: center;\n        margin-left: 8px;\n        height: 22px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container {\n          display: flex;\n          flex-flow: row;\n          flex-wrap: nowrap;\n          justify-content: flex-start;\n          align-items: center;\n          width: 210px;\n          height: 22px;\n          line-height: 22px; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container input.igv-search-input {\n            cursor: text;\n            width: 85%;\n            height: 22px;\n            line-height: 22px;\n            font-size: 12px;\n            font-family: "Open Sans", sans-serif;\n            font-weight: 400;\n            text-align: left;\n            padding-left: 8px;\n            margin-right: 8px;\n            outline: none;\n            border-style: solid;\n            border-radius: 3px;\n            border-width: thin;\n            border-color: #bfbfbf;\n            background-color: white; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container .igv-search-icon-container {\n            cursor: pointer;\n            height: 16px;\n            width: 16px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-windowsize-panel-container {\n          margin-left: 4px;\n          user-select: none; }\n  .igv-navbar .igv-navbar-right-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div {\n        margin-left: 0;\n        margin-right: 4px; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div:last-child {\n        margin-left: 0;\n        margin-right: 0; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container-750 {\n      display: none; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:nth-child(even) {\n        display: block;\n        height: fit-content; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget input {\n        display: block;\n        width: 125px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 input {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-hidden {\n      display: none; }\n\n.igv-navbar-button {\n  display: block;\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-navbar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-navbar-button:hover {\n  cursor: pointer; }\n\n.igv-zoom-in-notice-container {\n  z-index: 1024;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: white; }\n  .igv-zoom-in-notice-container > div {\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    width: 100%;\n    height: 100%;\n    font-family: "Open Sans", sans-serif;\n    font-size: 14px;\n    font-weight: 400;\n    color: #3f3f3f; }\n\n.igv-zoom-in-notice {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .igv-zoom-in-notice div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-multi-locus-close-button {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 14px;\n  height: 14px;\n  color: #666666;\n  z-index: 1000; }\n  .igv-multi-locus-close-button > svg {\n    vertical-align: top; }\n\n.igv-multi-locus-close-button:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-ruler-label {\n  position: absolute;\n  left: 50%;\n  top: 5%;\n  transform: translate(-50%, 0%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  z-index: 64;\n  color: #444444;\n  background-color: white; }\n\n.igv-multi-locus-ruler-label:hover {\n  cursor: pointer; }\n\n.igv-ruler-sweeper {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-ruler-tooltip {\n  pointer-events: none;\n  z-index: 128;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 32px;\n  background-color: transparent;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ruler-tooltip > div {\n    pointer-events: none;\n    width: 128px;\n    height: auto;\n    padding: 1px;\n    color: #373737;\n    font-size: 10px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400;\n    background-color: white;\n    border-style: solid;\n    border-width: thin;\n    border-color: #373737; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 8px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: #e8e8e8; }\n\n.igv-center-line {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 8;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-line-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-line-thin {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0); }\n\n.igv-cursor-guide-horizontal {\n  display: none;\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  height: 1px;\n  z-index: 1;\n  margin-left: 50px;\n  margin-right: 54px;\n  border-top-style: dotted;\n  border-top-width: thin;\n  border-top-color: rgba(127, 127, 127, 0.76); }\n\n.igv-cursor-guide-vertical {\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-menu-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-menu-popup > div:not(:first-child) {\n    width: 100%; }\n    .igv-menu-popup > div:not(:first-child) > div {\n      background: white; }\n    .igv-menu-popup > div:not(:first-child) > div.context-menu {\n      padding-left: 4px;\n      padding-right: 4px; }\n    .igv-menu-popup > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-menu-popup > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-menu-popup-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-menu-popup-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-menu-popup-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-menu-popup-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-menu-popup-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-menu-popup-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-menu-popup-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-menu-popup-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-loading-spinner-container {\n  z-index: 1024;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center; }\n  .igv-loading-spinner-container > div {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    border: 4px solid rgba(128, 128, 128, 0.5);\n    border-top-color: white;\n    animation: spin 1s ease-in-out infinite;\n    -webkit-animation: spin 1s ease-in-out infinite; }\n\n@keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@-webkit-keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n.igv-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-top: 4px;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n\n.igv-viewport {\n  position: relative;\n  margin-top: 5px;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content {\n  position: relative;\n  width: 100%; }\n  .igv-viewport-content > canvas {\n    position: relative;\n    display: block; }\n\n.igv-column-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  width: 100%; }\n\n.igv-column-shim {\n  width: 1px;\n  margin-left: 2px;\n  margin-right: 2px;\n  background-color: #545453; }\n\n.igv-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-axis-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 50px; }\n  .igv-axis-column > div {\n    margin-top: 5px;\n    width: 100%; }\n\n.igv-sample-name-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-scrollbar-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 14px; }\n  .igv-scrollbar-column > div {\n    position: relative;\n    margin-top: 5px;\n    width: 14px; }\n    .igv-scrollbar-column > div > div {\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      left: 2px;\n      width: 8px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: #c4c4c4;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px; }\n    .igv-scrollbar-column > div > div:hover {\n      background-color: #c4c4c4; }\n\n.igv-track-drag-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 12px;\n  background-color: white; }\n  .igv-track-drag-column > .igv-track-drag-handle {\n    z-index: 512;\n    position: relative;\n    cursor: pointer;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0;\n    border-top-right-radius: 6px;\n    border-bottom-right-radius: 6px;\n    background-color: #c4c4c4; }\n  .igv-track-drag-column .igv-track-drag-handle-hover {\n    background-color: #787878; }\n  .igv-track-drag-column > .igv-track-drag-shim {\n    position: relative;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0; }\n\n.igv-gear-menu-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 28px; }\n  .igv-gear-menu-column > div {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    margin-top: 5px;\n    width: 100%;\n    background: white; }\n    .igv-gear-menu-column > div > div {\n      position: relative;\n      margin-top: 4px;\n      width: 16px;\n      height: 16px;\n      color: #7F7F7F; }\n    .igv-gear-menu-column > div > div:hover {\n      cursor: pointer;\n      color: #444; }\n\n/*# sourceMappingURL=dom.css.map */\n',document.head.insertBefore(e,document.head.childNodes[document.head.childNodes.length-1])}(),{IGVGraphics:fo,MenuUtils:Va,DataRangeDialog:ho,createTrack:(Pd=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rd.prototype.createTrack.call(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return Pd.apply(this,arguments)}),createBrowser:(Od=b(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),e.t0=es.KNOWN_GENOMES,e.t0){e.next=5;break}return e.next=5,es.initializeGenomes(n);case 5:if(function(e){void 0===e.promisified&&(e.promisified=!1),void 0===e.minimumBases&&(e.minimumBases=40),void 0===e.showIdeogram&&(e.showIdeogram=!0),void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0),void 0===e.showTrackLabels&&(e.showTrackLabels=!0),void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0),void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1),void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0),void 0===e.showCenterGuide&&(e.showCenterGuide=!1),void 0===e.showSampleNames&&(e.showSampleNames=!1),void 0===e.showSVGButton&&(e.showSVGButton=!0),void 0===e.showControls&&(e.showControls=!0),void 0===e.showNavigation&&(e.showNavigation=!0),void 0===e.showRuler&&(e.showRuler=!0),void 0===e.flanking&&(e.flanking=1e3),void 0===e.pairsSupported&&(e.pairsSupported=!0),e.tracks||(e.tracks=[])}(n),!1!==n.queryParametersSupported&&function(e){var t,n,i,r,a,o,s,l,u,c;if(t=(o=window.location.href).indexOf("?"),n=o.lastIndexOf("#"),t>=0)for(n<0&&(n=o.length),i=t+1;i<n;)(r=o.indexOf("&",i))<0&&(r=n),2===(a=o.substring(i,r).split("=",2)).length&&(s=a[0],l=decodeURIComponent(a[1]),"file"===s?u=l.split(","):"index"===s?c=l.split(","):e[s]=l,i=r+1);if(u){e.tracks||(e.tracks=[]);for(var h=0;h<u.length;h++){if(u[h].endsWith(".xml")||u[h].endsWith(".json")){e.sessionURL=u[h];break}var d={url:u[h]};c&&c.length>h&&(d.indexURL=c[h]),e.tracks.push(d)}}}(n),n.apiKey&&va.setApiKey(n.apiKey),n.oauthToken&&la.setToken(n.oauthToken),e.t1=n.clientId&&!Ut(),!e.t1){e.next=13;break}return e.next=13,function(){var e=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ut()){e.next=2;break}return e.abrupt("return",void console.warn("oAuth has already been initialized"));case 2:return gapi.apiKey=t.apiKey,(n=Object.assign({},t)).scope||(n.scope="profile"),t.client_id||(t.client_id=t.clientId),e.next=8,function(){var e=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){gapi.load("auth2",{callback:e,onerror:t})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()();case 8:return e.abrupt("return",new Promise(function(e,t){gapi.auth2.init(n).then(e,t)}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()({clientId:n.clientId,apiKey:n.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"});case 13:if(i=new Rd(n,t),Md.push(i),!n.sessionURL){e.next=20;break}return e.next=18,i.loadSession({url:n.sessionURL});case 18:e.next=22;break;case 20:return e.next=22,i.loadSessionObject(n);case 22:return r=i.isMultiLocusWholeGenomeView()||es.isWholeGenomeView(i.referenceFrameList[0].chr),e.abrupt("return",(i.navbarManager.navbarDidResize(i.$navigation.width(),r),i));case 24:case"end":return e.stop()}},e)})),function(e,t){return Od.apply(this,arguments)}),removeBrowser:function(e){e.dispose(),e.root.remove(),Md=Md.filter(function(t){return t!==e})},removeAllBrowsers:function(){var e,t=d(Md);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.dispose(),n.root.remove()}}catch(di){t.e(di)}finally{t.f()}Md=[]},visibilityChange:(Dd=b(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d(Md),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.visibilityChange();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])})),function(){return Dd.apply(this,arguments)}),setGoogleOauthToken:function(e){return la.setToken(e)},setOauthToken:function(e,t){return la.setToken(e,t)},oauth:la,version:function(){return"2.10.4"},setApiKey:Ld,doAutoscale:gs,TrackView:Ms}}()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},zUnb:function(o,c,f){"use strict";function p(e){return"function"==typeof e}f.r(c);var g=!1,y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=e},get useDeprecatedSynchronousErrorHandling(){return g}};function b(e){setTimeout(function(){throw e},0)}var _={closed:!0,next:function(e){},error:function(e){if(y.useDeprecatedSynchronousErrorHandling)throw e;b(e)},complete:function(){}},w=Array.isArray||function(e){return e&&"number"==typeof e.length};function k(e){return null!==e&&"object"==typeof e}var x,S=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),C=((x=function(){function e(t){v(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(p(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(c){t=c instanceof S?E(c.errors):[c]}}if(w(a))for(var s=-1,l=a.length;++s<l;){var u=a[s];if(k(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof S?t=t.concat(E(c.errors)):t.push(c)}}if(t)throw new S(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new x),x);function E(e){return e.reduce(function(e,t){return e.concat(t instanceof S?t.errors:t)},[])}var R="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),A=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;switch(v(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=_;break;case 1:if(!e){a.destination=_;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(u(a))):(a.syncErrorThrowable=!0,a.destination=new T(u(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new T(u(a),e,i,r)}return a}return m(n,[{key:R,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,r(h(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(C),T=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o,s;v(this,n),(o=t.call(this))._parentSubscriber=e;var l=u(o);return p(i)?s=i:i&&(s=i.next,r=i.error,a=i.complete,i!==_&&(p((l=Object.create(i)).unsubscribe)&&o.add(l.unsubscribe.bind(l)),l.unsubscribe=o.unsubscribe.bind(u(o)))),o._context=l,o._next=s,o._error=r,o._complete=a,o}return m(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=y.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):b(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;b(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(b(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(A),I="function"==typeof Symbol&&Symbol.observable||"@@observable";function D(e){return e}var O,P=((O=function(){function e(t){v(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return m(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof A)return e;if(e[R])return e[R]()}return e||t||n?new A(e,t,n):new A(_)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),y.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){y.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof A?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=M(t))(function(t,i){var r;r=n.subscribe(function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}},i,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:I,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(i=t).length?D:1===i.length?i[0]:function(e){return i.reduce(function(e,t){return t(e)},e)})(this);var i}},{key:"toPromise",value:function(e){var t=this;return new(e=M(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})}}]),e}()).create=function(e){return new O(e)},O);function M(e){if(e||(e=y.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var L,F=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),N=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return m(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(C),z=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).destination=e,i}return n}(A),V=((L=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return m(n,[{key:R,value:function(){return new z(this)}},{key:"lift",value:function(e){var t=new j(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new F;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new F;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new F;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new F;return r(h(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new F;return this.hasError?(e.error(this.thrownError),C.EMPTY):this.isStopped?(e.complete(),C.EMPTY):(this.observers.push(e),new N(this,e))}},{key:"asObservable",value:function(){var e=new P;return e.source=this,e}}]),n}(P)).create=function(e,t){return new j(e,t)},L),j=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).destination=e,r.source=i,r}return m(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):C.EMPTY}}]),n}(V);function B(e){return e&&"function"==typeof e.schedule}function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}var q=function(){function e(t,n){v(this,e),this.project=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new U(e,this.project,this.thisArg))}}]),e}(),U=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).project=i,a.count=0,a.thisArg=r||u(a),a}return m(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(A),W=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var G="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",$=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Y(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Z=function(e){if(e&&"function"==typeof e[I])return i=e,function(e){var t=i[I]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if($(e))return W(e);if(Y(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,b),e};if(e&&"function"==typeof e[G])return t=e,function(e){for(var n=t[G]();;){var i=void 0;try{i=n.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,i,r=k(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function K(e,t){return new P(function(n){var i=new C,r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function X(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[I]}(e))return function(e,t){return new P(function(n){var i=new C;return i.add(t.schedule(function(){var r=e[I]();i.add(r.subscribe({next:function(e){i.add(t.schedule(function(){return n.next(e)}))},error:function(e){i.add(t.schedule(function(){return n.error(e)}))},complete:function(){i.add(t.schedule(function(){return n.complete()}))}}))})),i})}(e,t);if(Y(e))return function(e,t){return new P(function(n){var i=new C;return i.add(t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){n.next(e),i.add(t.schedule(function(){return n.complete()}))}))},function(e){i.add(t.schedule(function(){return n.error(e)}))})})),i})}(e,t);if($(e))return K(e,t);if(function(e){return e&&"function"==typeof e[G]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new P(function(n){var i,r=new C;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(function(){i=e[G](),r.add(t.schedule(function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof P?e:new P(Z(e))}var Q=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this)).parent=e,i}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(A),J=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(A);function ee(e,t){if(!t.closed)return e instanceof P?e.subscribe(t):Z(e)(t)}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(te(function(n,i){return X(e(n,i)).pipe(H(function(e,r){return t(n,e,i,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ne(e,n))})}var ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,e),this.project=t,this.concurrent=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new ie(e,this.project,this.concurrent))}}]),e}(),ie=function(e){a(n,e);var t=s(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(r=t.call(this,e)).project=i,r.concurrent=a,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return m(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new Q(this),n=this.destination;n.add(t);var i=ee(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(J);function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return te(D,e)}function ae(e,t){return t?K(e,t):new P(W(e))}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,a=t[t.length-1];return B(a)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof a&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof P?t[0]:re(i)(ae(t,r))}function se(){return function(e){return e.lift(new ue(e))}}var le,ue=function(){function e(t){v(this,e),this.connectable=t}return m(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new ce(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),ce=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).connectable=i,r}return m(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(A),he=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return m(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new C).add(this.source.subscribe(new fe(this.getSubject(),this))),e.closed&&(this._connection=null,e=C.EMPTY)),e}},{key:"refCount",value:function(){return se()(this)}}]),n}(P),de={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(le=he.prototype)._subscribe},_isComplete:{value:le._isComplete,writable:!0},getSubject:{value:le.getSubject},connect:{value:le.connect},refCount:{value:le.refCount}},fe=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).connectable=i,r}return m(n,[{key:"_error",value:function(e){this._unsubscribe(),r(h(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),r(h(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(z);function pe(){return new V}function ve(){return function(e){return se()((t=pe,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,de);return i.source=e,i.subjectFactory=n,i})(e));var t}}function ge(e){for(var t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function me(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ye(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function be(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var _e=ge({__forward_ref__:ge});function we(e){return e.__forward_ref__=we,e.toString=function(){return ye(this())},e}function ke(e){return xe(e)?e():e}function xe(e){return"function"==typeof e&&e.hasOwnProperty(_e)&&e.__forward_ref__===we}var Se=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,i))).code=e,r}return n}(e(Error));function Ce(e){return"string"==typeof e?e:null==e?"":String(e)}function Ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ce(e)}function Re(e,t){var n=t?" in ".concat(t):"";throw new Se("201","No provider for ".concat(Ee(e)," found").concat(n))}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Te(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ie(e){return De(e,Me)||De(e,Fe)}function De(e,t){return e.hasOwnProperty(t)?e[t]:null}function Oe(e){return e&&(e.hasOwnProperty(Le)||e.hasOwnProperty(Ne))?e[Le]:null}var Pe,Me=ge({"\u0275prov":ge}),Le=ge({"\u0275inj":ge}),Fe=ge({ngInjectableDef:ge}),Ne=ge({ngInjectorDef:ge}),ze=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function Ve(e){var t=Pe;return Pe=e,t}function je(e,t,n){var i=Ie(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ze.Optional?null:void 0!==t?t:void Re(ye(e),"Injector")}function Be(e){return{toString:e}.toString()}var He=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),qe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Ue="undefined"!=typeof globalThis&&globalThis,We="undefined"!=typeof window&&window,Ge="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$e="undefined"!=typeof global&&global,Ye=Ue||$e||We||Ge,Ze={},Ke=[],Xe=[],Qe=ge({"\u0275cmp":ge}),Je=ge({"\u0275dir":ge}),et=ge({"\u0275pipe":ge}),tt=ge({"\u0275mod":ge}),nt=ge({"\u0275loc":ge}),it=ge({"\u0275fac":ge}),rt=ge({__NG_ELEMENT_ID__:ge}),at=0;function ot(e){return Be(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===He.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Xe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||qe.Emulated,id:"c",styles:e.styles||Xe,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,a=e.pipes;return n.id+=at++,n.inputs=ht(e.inputs,t),n.outputs=ht(e.outputs),r&&r.forEach(function(e){return e(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(st)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(lt)}:null,n})}function st(e){return pt(e)||function(e){return e[Je]||null}(e)}function lt(e){return function(e){return e[et]||null}(e)}var ut={};function ct(e){var t={type:e.type,bootstrap:e.bootstrap||Xe,declarations:e.declarations||Xe,imports:e.imports||Xe,exports:e.exports||Xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Be(function(){ut[e.id]=e.type}),t}function ht(e,t){if(null==e)return Ze;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),n[r]=i,t&&(t[r]=a)}return n}var dt=ot;function ft(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function pt(e){return e[Qe]||null}function vt(e,t){var n=e[tt]||null;if(!n&&!0===t)throw new Error("Type ".concat(ye(e)," does not have '\u0275mod' property."));return n}function gt(e){return Array.isArray(e)&&"object"==typeof e[1]}function mt(e){return Array.isArray(e)&&!0===e[1]}function yt(e){return 0!=(8&e.flags)}function bt(e){return 2==(2&e.flags)}function _t(e){return 1==(1&e.flags)}function wt(e){return null!==e.template}function kt(e,t){return e.hasOwnProperty(it)?e[it]:null}var xt,St=function(){function e(t,n,i){v(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return m(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ct(){return Et}function Et(e){return e.type.prototype.ngOnChanges&&(e.setInput=At),Rt}function Rt(){var e=Tt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Ze)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function At(e,t,n,i){var r=Tt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ze,current:null}),a=r.current||(r.current={}),o=r.previous,s=this.declaredInputs[n],l=o[s];a[s]=new St(l&&l.currentValue,t,o===Ze),e[i]=t}function Tt(e){return e.__ngSimpleChanges__||null}function It(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Dt(e){return!!e.listen}Ct.ngInherit=!0;var Ot={createRenderer:function(e,t){return It()}};function Pt(e){for(;Array.isArray(e);)e=e[0];return e}function Mt(e,t){return Pt(t[e])}function Lt(e,t){return Pt(t[e.index])}function Ft(e,t){return e.data[t]}function Nt(e,t){return e[t]}function zt(e,t){var n=t[e];return gt(n)?n:n[0]}function Vt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function jt(e){return 4==(4&e[2])}function Bt(e){return 128==(128&e[2])}function Ht(e,t){return null==t?null:e[t]}function qt(e){e[18]=0}function Ut(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var Wt={lFrame:gn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Wt.bindingsEnabled}function $t(){return Wt.lFrame.lView}function Yt(){return Wt.lFrame.tView}function Zt(e){Wt.lFrame.contextLView=e}function Kt(){for(var e=Xt();null!==e&&64===e.type;)e=e.parent;return e}function Xt(){return Wt.lFrame.currentTNode}function Qt(e,t){var n=Wt.lFrame;n.currentTNode=e,n.isParent=t}function Jt(){return Wt.lFrame.isParent}function en(){Wt.lFrame.isParent=!1}function tn(){return Wt.isInCheckNoChangesMode}function nn(e){Wt.isInCheckNoChangesMode=e}function rn(){var e=Wt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function an(){return Wt.lFrame.bindingIndex}function on(){return Wt.lFrame.bindingIndex++}function sn(e){var t=Wt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ln(e){Wt.lFrame.currentDirectiveIndex=e}function un(e){var t=Wt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function cn(){return Wt.lFrame.currentQueryIndex}function hn(e){Wt.lFrame.currentQueryIndex=e}function dn(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function fn(e,t,n){if(n&ze.SkipSelf){for(var i=t,r=e;!(null!==(i=i.parent)||n&ze.Host||(i=dn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}var a=Wt.lFrame=vn();return a.currentTNode=t,a.lView=e,!0}function pn(e){var t=vn(),n=e[1];Wt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vn(){var e=Wt.lFrame,t=null===e?null:e.child;return null===t?gn(e):t}function gn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mn(){var e=Wt.lFrame;return Wt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var yn=mn;function bn(){var e=mn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _n(){return Wt.lFrame.selectedIndex}function wn(e){Wt.lFrame.selectedIndex=e}function kn(){var e=Wt.lFrame;return Ft(e.tView,e.selectedIndex)}function xn(){Wt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Sn(){Wt.lFrame.currentNamespace=null}function Cn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n].type.prototype,a=r.ngAfterContentInit,o=r.ngAfterContentChecked,s=r.ngAfterViewInit,l=r.ngAfterViewChecked,u=r.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function En(e,t,n){Tn(e,t,3,n)}function Rn(e,t,n,i){(3&e[2])===n&&Tn(e,t,n,i)}function An(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Tn(e,t,n,i){for(var r=null!=i?i:-1,a=t.length-1,o=0,s=void 0!==i?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(In(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function In(e,t,n,i){var r=n[i]<0,a=n[i+1],o=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Dn=function e(t,n,i){v(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function On(e,t,n){for(var i=Dt(e),r=0;r<n.length;){var a=n[r];if("number"==typeof a){if(0!==a)break;r++;var o=n[r++],s=n[r++],l=n[r++];i?e.setAttribute(t,s,l,o):t.setAttributeNS(o,s,l)}else{var u=a,c=n[++r];Mn(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function Pn(e){return 3===e||4===e||6===e}function Mn(e){return 64===e.charCodeAt(0)}function Ln(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||Fn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function Fn(e,t,n,i,r){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var l=e[a];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[a+1]=r));if(i===e[a+1])return void(e[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==i&&e.splice(a++,0,i),null!==r&&e.splice(a++,0,r)}function Nn(e){return-1!==e}function zn(e){return 32767&e}function Vn(e,t){for(var n=e>>16,i=t;n>0;)i=i[15],n--;return i}var jn=!0;function Bn(e){var t=jn;return jn=e,t}var Hn=0;function qn(e,t){var n=Wn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Un(i.data,e),Un(t,null),Un(i.blueprint,null));var r=Gn(e,t),a=e.injectorIndex;if(Nn(r))for(var o=zn(r),s=Vn(r,t),l=s[1].data,u=0;u<8;u++)t[a+u]=s[o+u]|l[o+u];return t[a+8]=r,a}function Un(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Gn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,i=null,r=t;null!==r;){var a=r[1],o=a.type;if(null===(i=2===o?a.declTNode:1===o?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function $n(e,t,n){!function(e,t,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(rt)&&(i=n[rt]),null==i&&(i=n[rt]=Hn++);var r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Yn(e,t,n){if(n&ze.Optional)return e;Re(t,"NodeInjector")}function Zn(e,t,n,i){if(n&ze.Optional&&void 0===i&&(i=null),0==(n&(ze.Self|ze.Host))){var r=e[9],a=Ve(void 0);try{return r?r.get(t,i,n&ze.Optional):je(t,i,n&ze.Optional)}finally{Ve(a)}}return Yn(i,t,n)}function Kn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ze.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(rt)?e[rt]:void 0;return"number"==typeof t?t>=0?255&t:Qn:t}(n);if("function"==typeof a){if(!fn(t,e,i))return i&ze.Host?Yn(r,n,i):Zn(t,n,i,r);try{var o=a();if(null!=o||i&ze.Optional)return o;Re(n)}finally{yn()}}else if("number"==typeof a){var s=null,l=Wn(e,t),u=-1,c=i&ze.Host?t[16][6]:null;for((-1===l||i&ze.SkipSelf)&&(-1!==(u=-1===l?Gn(e,t):t[l+8])&&ii(i,!1)?(s=t[1],l=zn(u),t=Vn(u,t)):l=-1);-1!==l;){var h=t[1];if(ni(a,l,h.data)){var d=Jn(l,t,n,s,i,c);if(d!==Xn)return d}-1!==(u=t[l+8])&&ii(i,t[1].data[l+8]===c)&&ni(a,l,t)?(s=h,l=zn(u),t=Vn(u,t)):l=-1}}}return Zn(t,n,i,r)}var Xn={};function Qn(){return new ri(Kt(),$t())}function Jn(e,t,n,i,r,a){var o=t[1],s=o.data[e+8],l=ei(s,o,n,null==i?bt(s)&&jn:i!=o&&0!=(3&s.type),r&ze.Host&&a===s);return null!==l?ti(t,o,l,s):Xn}function ei(e,t,n,i,r){for(var a=e.providerIndexes,o=t.data,s=1048575&a,l=e.directiveStart,u=a>>20,c=r?s+u:e.directiveEnd,h=i?s:s+u;h<c;h++){var d=o[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=o[l];if(f&&wt(f)&&f.type===n)return l}return null}function ti(e,t,n,i){var r=e[n],a=t.data;if(r instanceof Dn){var o=r;o.resolving&&function(e,t){throw new Se("200","Circular dependency in DI detected for ".concat(e))}(Ee(a[n]));var s=Bn(o.canSeeViewProviders);o.resolving=!0;var l=o.injectImpl?Ve(o.injectImpl):null;fn(e,i,ze.Default);try{r=e[n]=o.factory(void 0,a,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.type.prototype,r=i.ngOnChanges,a=i.ngOnInit,o=i.ngDoCheck;if(r){var s=Et(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,a[n],t)}finally{null!==l&&Ve(l),Bn(s),o.resolving=!1,yn()}}return r}function ni(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ii(e,t){return!(e&ze.Self||e&ze.Host&&t)}var ri=function(){function e(t,n){v(this,e),this._tNode=t,this._lView=n}return m(e,[{key:"get",value:function(e,t){return Kn(this._tNode,this._lView,e,void 0,t)}}]),e}();function ai(e){return Be(function(){for(var t=e.prototype.constructor,n=t[it]||oi(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;r&&r!==i;){var a=r[it]||oi(r);if(a&&a!==n)return a;r=Object.getPrototypeOf(r)}return function(e){return new e}})}function oi(e){return xe(e)?function(){var t=oi(ke(e));return t&&t()}:kt(e)}function si(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var a=n[r];if(Pn(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(a===t)return n[r+1];r+=2}}return null}(Kt(),e)}function li(e,n,i){return Be(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(n);function a(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(this instanceof a)return r.apply(this,n),this;var o=t(a,n);return s.annotation=o,s;function s(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return i&&(a.prototype=Object.create(i.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var ui=function(){function e(t,n){v(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return m(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),ci=new ui("AnalyzeForEntryComponents"),hi=Function;function di(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),di(i,t)):t!==e&&t.push(i)}return t}function fi(e,t){e.forEach(function(e){return Array.isArray(e)?fi(e,t):t(e)})}function pi(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gi(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function mi(e,t,n){var i=bi(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function yi(e,t){var n=bi(e,t);if(n>=0)return e[1|n]}function bi(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var a=i+(r-i>>1),o=e[a<<1];if(t===o)return a<<1;o>t?r=a:i=a+1}return~(r<<1)}(e,t)}var _i,wi={},ki=/\n/gm,xi=ge({provide:String,useValue:ge});function Si(e){var t=_i;return _i=e,t}function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default;if(void 0===_i)throw new Error("inject() must be called from an injection context");return null===_i?je(e,void 0,t):_i.get(e,t&ze.Optional?null:void 0,t)}function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default;return(Pe||Ci)(ke(e),t)}var Ri=Ei;function Ai(e){for(var t=[],n=0;n<e.length;n++){var i=ke(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,a=ze.Default,o=0;o<i.length;o++){var s=i[o],l=s.__NG_DI_FLAG__;"number"==typeof l?-1===l?r=s.token:a|=l:r=s}t.push(Ei(r,a))}else t.push(Ei(i))}return t}function Ti(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var Ii,Di,Oi=Ti(li("Inject",function(e){return{token:e}}),-1),Pi=Ti(li("Optional"),8),Mi=Ti(li("SkipSelf"),4);function Li(e){var t;return(null===(t=function(){if(void 0===Ii&&(Ii=null,Ye.trustedTypes))try{Ii=Ye.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Ii}())||void 0===t?void 0:t.createHTML(e))||e}function Fi(e){var t;return(null===(t=function(){if(void 0===Di&&(Di=null,Ye.trustedTypes))try{Di=Ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Di}())||void 0===t?void 0:t.createHTML(e))||e}var Ni=function(){function e(t){v(this,e),this.changingThisBreaksApplicationSecurity=t}return m(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),zi=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ni),Vi=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ni),ji=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ni),Bi=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ni),Hi=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ni);function qi(e){return e instanceof Ni?e.changingThisBreaksApplicationSecurity:e}function Ui(e,t){var n=Wi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Wi(e){return e instanceof Ni&&e.getTypeName()||null}var Gi=function(){function e(t){v(this,e),this.inertDocumentHelper=t}return m(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Li(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),$i=function(){function e(t){if(v(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return m(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Li(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Li(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),Yi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ki(e){return(e=String(e)).match(Yi)||e.match(Zi)?e:"unsafe:"+e}function Xi(e){var t,n={},i=d(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Qi(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var Ji,er=Xi("area,br,col,hr,img,wbr"),tr=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Xi("rp,rt"),ir=Qi(nr,tr),rr=Qi(er,Qi(tr,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qi(nr,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),ar=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xi("srcset"),sr=Qi(ar,or,Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=Xi("script,style,template"),ur=function(){function e(){v(this,e),this.sanitizedSomething=!1,this.buf=[]}return m(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!rr.hasOwnProperty(t))return this.sanitizedSomething=!0,!lr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,r=0;r<i.length;r++){var a=i.item(r),o=a.name,s=o.toLowerCase();if(sr.hasOwnProperty(s)){var l=a.value;ar[s]&&(l=Ki(l)),or[s]&&(n=l,l=(n=String(n)).split(",").map(function(e){return Ki(e.trim())}).join(", ")),this.buf.push(" ",o,'="',dr(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();rr.hasOwnProperty(t)&&!er.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(dr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function dr(e){return e.replace(/&/g,"&amp;").replace(cr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(hr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fr(e,t){var n=null;try{Ji=Ji||function(e){var t=new $i(e);return function(){try{return!!(new window.DOMParser).parseFromString(Li(""),"text/html")}catch(e){return!1}}()?new Gi(t):t}(e);var i=t?String(t):"";n=Ji.getInertBodyElement(i);var r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=n.innerHTML,n=Ji.getInertBodyElement(i)}while(i!==a);return Li((new ur).sanitizeChildren(pr(n)||n))}finally{if(n)for(var o=pr(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function pr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var vr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function gr(e){var t=yr();return t?Fi(t.sanitize(vr.HTML,e)||""):Ui(e,"HTML")?Fi(qi(e)):fr(It(),Ce(e))}function mr(e){var t=yr();return t?t.sanitize(vr.URL,e)||"":Ui(e,"URL")?qi(e):Ki(Ce(e))}function yr(){var e=$t();return e&&e[12]}function br(e){return e.ngDebugContext}function _r(e){return e.ngOriginalError}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var kr=function(){function e(){v(this,e),this._console=console}return m(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||wr}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?br(e)?br(e):this._findContext(_r(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=_r(e);t&&_r(t);)t=_r(t);return t}}]),e}();function xr(e,t){e.__ngContext__=t}var Sr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ye);function Cr(e){return{name:"document",target:e.ownerDocument}}function Er(e){return{name:"body",target:e.ownerDocument.body}}function Rr(e){return e instanceof Function?e():e}var Ar=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Tr(e,t){return(void 0)(e,t)}function Ir(e){var t=e[3];return mt(t)?t[3]:t}function Dr(e){return Pr(e[13])}function Or(e){return Pr(e[4])}function Pr(e){for(;null!==e&&!mt(e);)e=e[4];return e}function Mr(e,t,n,i,r){if(null!=i){var a,o=!1;mt(i)?a=i:gt(i)&&(o=!0,i=i[0]);var s=Pt(i);0===e&&null!==n?null==r?Hr(t,n,s):Br(t,n,s,r||null,!0):1===e&&null!==n?Br(t,n,s,r||null,!0):2===e?function(e,t,n){var i=Ur(e,t);i&&function(e,t,n,i){Dt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,i,r){var a=n[7];a!==Pt(n)&&Mr(t,e,i,a,r);for(var o=10;o<n.length;o++){var s=n[o];Qr(s[1],s,e,t,i,a)}}(t,e,a,n,r)}}function Lr(e,t,n){return Dt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Fr(e,t){var n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ut(r,-1)),n.splice(i,1)}function Nr(e,t){if(!(e.length<=10)){var n,i=10+t,r=e[i];if(r){var a=r[17];null!==a&&a!==e&&Fr(a,r),t>0&&(e[i-1][4]=r[4]);var o=vi(e,10+t);Qr(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function zr(e,t){if(!(256&t[2])){var n=t[11];Dt(n)&&n.destroyNode&&Qr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Vr(e[1],e);for(;t;){var n=null;if(gt(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)gt(t)&&Vr(t[1],t),t=t[3];null===t&&(t=e),gt(t)&&Vr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Vr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof Dn)){var a=n[i+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=r[a[o]],l=a[o+1];try{l.call(s)}finally{}}else try{a.call(r)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,i=t[7],r=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):Pt(t[o]),l=i[r=n[a+2]],u=n[a+3];"boolean"==typeof u?s.removeEventListener(n[a],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),a+=2}else{var c=i[r=n[a+1]];n[a].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();t[7]=null}}(e,t),1===t[1].type&&Dt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&mt(t[3])){n!==t[3]&&Fr(n,t);var i=t[19];null!==i&&i.detachView(e)}}}function jr(e,t,n){return function(e,t,n){for(var i=t;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){var r=e.data[i.directiveStart].encapsulation;if(r===qe.None||r===qe.Emulated)return null}return Lt(i,n)}(e,t.parent,n)}function Br(e,t,n,i,r){Dt(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Hr(e,t,n){Dt(e)?e.appendChild(t,n):t.appendChild(n)}function qr(e,t,n,i,r){null!==i?Br(e,t,n,i,r):Hr(e,t,n)}function Ur(e,t){return Dt(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n){return Gr(e,t,n)}var Gr=function(e,t,n){return 40&e.type?Lt(e,n):null};function $r(e,t,n,i){var r=jr(e,i,t),a=t[11],o=Wr(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)qr(a,r,n[s],o,!1);else qr(a,r,n,o,!1)}function Yr(e,t){if(null!==t){var n=t.type;if(3&n)return Lt(t,e);if(4&n)return Kr(-1,e[t.index]);if(8&n){var i=t.child;if(null!==i)return Yr(e,i);var r=e[t.index];return mt(r)?Kr(-1,r):Pt(r)}if(32&n)return Tr(t,e)()||Pt(e[t.index]);var a=Zr(e,t);return null!==a?Array.isArray(a)?a[0]:Yr(Ir(e[16]),a):Yr(e,t.next)}return null}function Zr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kr(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return Yr(i,r)}return t[7]}function Xr(e,t,n,i,r,a,o){for(;null!=n;){var s=i[n.index],l=n.type;if(o&&0===t&&(s&&xr(Pt(s),i),n.flags|=4),64!=(64&n.flags))if(8&l)Xr(e,t,n.child,i,r,a,!1),Mr(t,e,r,s,a);else if(32&l){for(var u=Tr(n,i),c=void 0;c=u();)Mr(t,e,r,c,a);Mr(t,e,r,s,a)}else 16&l?Jr(e,t,i,n,r,a):Mr(t,e,r,s,a);n=o?n.projectionNext:n.next}}function Qr(e,t,n,i,r,a){Xr(n,i,e.firstChild,t,r,a,!1)}function Jr(e,t,n,i,r,a){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)Mr(t,e,r,s[l],a);else Xr(e,t,s,o[3],r,a,!0)}function ea(e,t,n){Dt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ta(e,t,n){Dt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function na(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var a=t.length;if(r+a===i||e.charCodeAt(r+a)<=32)return r}n=r+1}}function ia(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==na((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function ra(e){return 4===e.type&&"ng-template"!==e.value}function aa(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function oa(e,t,n){for(var i=4,r=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(Pn(e[t]))return t;return e.length}(r),o=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!aa(e,l,n)||""===l&&1===t.length){if(sa(i))return!1;o=!0}}else{var u=8&i?l:t[++s];if(8&i&&null!==e.attrs){if(!ia(e.attrs,u,n)){if(sa(i))return!1;o=!0}continue}var c=la(8&i?"class":l,r,ra(e),n);if(-1===c){if(sa(i))return!1;o=!0;continue}if(""!==u){var h;h=c>a?"":r[c+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==na(d,u,0)||2&i&&u!==h){if(sa(i))return!1;o=!0}}}}else{if(!o&&!sa(i)&&!sa(l))return!1;if(o&&sa(l))continue;o=!1,i=l|1&i}}return sa(i)||o}function sa(e){return 0==(1&e)}function la(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var a=!1;r<t.length;){var o=t[r];if(o===e)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++r];"string"==typeof s;)s=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function ua(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(oa(e,t[i],n))return!0;return!1}function ca(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function ha(e,t){return e?":not("+t.trim()+")":t}function da(e){for(var t=e[0],n=1,i=2,r="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&i){var s=e[++n];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||sa(o)||(t+=ha(a,r),r=""),i=o,a=a||!sa(i);n++}return""!==r&&(t+=ha(a,r)),t}var fa={};function pa(e){va(Yt(),$t(),_n()+e,tn())}function va(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&En(t,r,n)}else{var a=e.preOrderHooks;null!==a&&Rn(t,a,0,n)}wn(n)}function ga(e,t){return e<<17|t<<2}function ma(e){return e>>17&32767}function ya(e){return 2|e}function ba(e){return(131068&e)>>2}function _a(e,t){return-131069&e|t<<2}function wa(e){return 1|e}function ka(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1];if(-1!==a){var o=e.data[a];hn(r),o.contentQueries(2,t[a],a)}}}function xa(e,t,n,i,r,a,o,s,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,qt(c),c[3]=c[15]=e,c[8]=n,c[10]=o||e&&e[10],c[11]=s||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=a,c[16]=2==t.type?e[16]:c,c}function Sa(e,t,n,i,r){var a,o,s=e.data[t];if(null===s)s=function(e,t,n,i,r){var a=Xt(),o=Jt(),s=e.data[t]=function(e,t,n,i,r,a){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}(e,t,n,i,r),Wt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;var l=(a=Wt.lFrame,o=a.currentTNode,a.isParent?o:o.parent);s.injectorIndex=null===l?-1:l.injectorIndex}return Qt(s,!0),s}function Ca(e,t,n,i){if(0===n)return-1;for(var r=t.length,a=0;a<n;a++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Ea(e,t,n){pn(t);try{var i=e.viewQuery;null!==i&&no(1,i,n);var r=e.template;null!==r&&Ta(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ka(e,t),e.staticViewQueries&&no(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)Xa(e,t[n])}(t,a)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,bn()}}function Ra(e,t,n,i){var r=t[2];if(256!=(256&r)){pn(t);var a=tn();try{qt(t),Wt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ta(e,t,n,2,i);var o=3==(3&r);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&En(t,s,null)}else{var l=e.preOrderHooks;null!==l&&Rn(t,l,0,null),An(t,0)}if(function(e){for(var t=Dr(e);null!==t;t=Or(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],a=r[3];0==(1024&r[2])&&Ut(a,1),r[2]|=1024}}(t),function(e){for(var t=Dr(e);null!==t;t=Or(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];Bt(i)&&Ra(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&ka(e,t),!a)if(o){var u=e.contentCheckHooks;null!==u&&En(t,u)}else{var c=e.contentHooks;null!==c&&Rn(t,c,1),An(t,1)}!function(e,t){var n,i,r,a=e.hostBindingOpCodes;if(null!==a)try{for(var o=0;o<a.length;o++){var s=a[o];if(s<0)wn(~s);else{var l=s,u=a[++o],c=a[++o];n=u,i=l,r=void 0,(r=Wt.lFrame).bindingIndex=r.bindingRootIndex=n,ln(i),c(2,t[l])}}}finally{wn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Za(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&no(2,d,i),!a)if(o){var f=e.viewCheckHooks;null!==f&&En(t,f)}else{var p=e.viewHooks;null!==p&&Rn(t,p,2),An(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ut(t[3],-1))}finally{bn()}}}function Aa(e,t,n,i){var r=t[10],a=!tn(),o=jt(t);try{a&&!o&&r.begin&&r.begin(),o&&Ea(e,t,i),Ra(e,t,n,i)}finally{a&&!o&&r.end&&r.end()}}function Ta(e,t,n,i,r){var a=_n(),o=2&i;try{wn(-1),o&&t.length>20&&va(e,t,20,tn()),n(i,r)}finally{wn(a)}}function Ia(e,t,n){if(yt(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var a=e.data[r];a.contentQueries&&a.contentQueries(1,n[r],r)}}function Da(e,t,n){Gt()&&(function(e,t,n,i){var r=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||qn(n,t),xr(i,t);for(var o=n.initialInputs,s=r;s<a;s++){var l=e.data[s],u=wt(l);u&&Wa(t,n,l);var c=ti(t,e,s,n);xr(c,t),null!==o&&Ga(0,s-r,c,l,0,o),u&&(zt(n.index,t)[8]=c)}}(e,t,n,Lt(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,a=n.index,o=Wt.lFrame.currentDirectiveIndex;try{wn(a);for(var s=i;s<r;s++){var l=e.data[s],u=t[s];ln(s),null===l.hostBindings&&0===l.hostVars&&null===l.hostAttrs||ja(l,u)}}finally{wn(-1),ln(o)}}(e,t,n))}function Oa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt,i=t.localNames;if(null!==i)for(var r=t.index+1,a=0;a<i.length;a+=2){var o=i[a+1],s=-1===o?n(t,e):e[o];e[r++]=s}}function Pa(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ma(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ma(e,t,n,i,r,a,o,s,l,u){var c=20+i,h=c+r,d=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:fa);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function La(e,t,n,i){var r=ro(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&ao(e).push(i,r.length-1))}function Fa(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Na(e,t,n,i,r,a,o,s){var l,u,c=Lt(t,n),h=t.inputs;!s&&null!=h&&(l=h[i])?(lo(e,n,l,i,r),bt(t)&&function(e,t){var n=zt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,t.value||"",i):r,Dt(a)?a.setProperty(c,i,r):Mn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function za(e,t,n,i){var r=!1;if(Gt()){var a=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var a=0;a<i.length;a++){var o=i[a];ua(n,o.selectors,!1)&&(r||(r=[]),$n(qn(n,t),e,o.type),wt(o)?(Ba(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==a){r=!0,qa(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var l=a[s];l.providersResolver&&l.providersResolver(l)}for(var u=!1,c=!1,h=Ca(e,t,a.length,null),d=0;d<a.length;d++){var f=a[d];n.mergedAttrs=Ln(n.mergedAttrs,f.hostAttrs),Ua(e,n,t,h,f),Ha(h,f,o),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),c||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,a=[],o=null,s=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||ra(t)?null:$a(c,r);a.push(h),o=Fa(c,l,o),s=Fa(u.outputs,l,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var a=n[t[r+1]];if(null==a)throw new Se("301","Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],a)}}(n,i,o)}return n.mergedAttrs=Ln(n.mergedAttrs,n.attrs),r}function Va(e,t,n,i,r,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var l=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(i,r,o)}}function ja(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ba(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ha(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;wt(t)&&(n[""]=e)}}function qa(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ua(e,t,n,i,r){e.data[i]=r;var a=r.factory||(r.factory=kt(r.type)),o=new Dn(a,wt(r),null);e.blueprint[i]=o,n[i]=o,Va(e,t,0,i,Ca(e,n,r.hostVars,fa),r)}function Wa(e,t,n){var i=Lt(t,e),r=Pa(n),a=e[10],o=Qa(e,xa(e,r,null,n.onPush?64:16,i,t,a,a.createRenderer(i,n),null,null));e[t.index]=o}function Ga(e,t,n,i,r,a){var o=a[t];if(null!==o)for(var s=i.setInput,l=0;l<o.length;){var u=o[l++],c=o[l++],h=o[l++];null!==s?i.setInput(n,h,u,c):n[c]=h}}function $a(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Ya(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Za(e,t){var n=zt(t,e);if(Bt(n)){var i=n[1];80&n[2]?Ra(i,n,i.template,n[8]):n[5]>0&&Ka(n)}}function Ka(e){for(var t=Dr(e);null!==t;t=Or(t))for(var n=10;n<t.length;n++){var i=t[n];if(1024&i[2]){var r=i[1];Ra(r,i,r.template,i[8])}else i[5]>0&&Ka(i)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=zt(a[o],e);Bt(s)&&s[5]>0&&Ka(s)}}function Xa(e,t){var n=zt(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Ea(i,n,n[8])}function Qa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ja(e){for(;e;){e[2]|=64;var t=Ir(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function eo(e,t,n){var i=t[10];i.begin&&i.begin();try{Ra(e,t,e.template,n)}catch(r){throw so(t,r),r}finally{i.end&&i.end()}}function to(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Vt(n),r=i[1];Aa(r,i,r.template,n)}}(e[8])}function no(e,t,n){hn(0),t(e,n)}var io=Promise.resolve(null);function ro(e){return e[7]||(e[7]=[])}function ao(e){return e.cleanup||(e.cleanup=[])}function oo(e,t,n){return(null===e||wt(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function so(e,t){var n=e[9],i=n?n.get(kr,null):null;i&&i.handleError(t)}function lo(e,t,n,i,r){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,r,i,s):l[s]=r}}function uo(e,t,n){var i=Mt(t,e);!function(e,t,n){Dt(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function co(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?r=be(r,s):2==a&&(i=be(i,s+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var ho,fo=new ui("INJECTOR",-1),po=function(){function e(){v(this,e)}return m(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi;if(t===wi){var n=new Error("NullInjectorError: No provider for ".concat(ye(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),vo=new ui("Set Injector scope."),go={},mo={},yo=[];function bo(){return void 0===ho&&(ho=new po),ho}function _o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new wo(e,n,t||bo(),i)}var wo=function(){function e(t,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&fi(n,function(e){return r.processProvider(e,t,n)}),fi([t],function(e){return r.processInjectorType(e,[],o)}),this.records.set(fo,So(void 0,this));var s=this.records.get(vo);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:ye(t))}return m(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.Default;this.assertNotDestroyed();var i,r=Si(this);try{if(!(n&ze.SkipSelf)){var a=this.records.get(e);if(void 0===a){var o=("function"==typeof(i=e)||"object"==typeof i&&i instanceof ui)&&Ie(e);a=o&&this.injectableDefInScope(o)?So(ko(e),go):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&ze.Self?bo():this.parent).get(e,t=n&ze.Optional&&t===wi?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ye(e)),r)throw s;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=ye(t);if(Array.isArray(t))r=t.map(ye).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):ye(s)))}r="{".concat(a.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(ki,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Si(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(ye(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=ke(e)))return!1;var r=Oe(e),a=null==r&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(r=Oe(a)),null==r)return!1;if(null!=r.imports&&!s){var l;n.push(o);try{fi(r.imports,function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))})}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;fi(r,function(e){return i.processProvider(e,n,r||yo)})},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(o);var h=kt(o)||function(){return new o};this.records.set(o,So(h,go));var d=r.providers;if(null!=d&&!s){var f=e;fi(d,function(e){return i.processProvider(e,f,d)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=Eo(e=ke(e))?e:ke(e&&e.provide),r=function(e,t,n){return Co(e)?So(void 0,e.useValue):So(xo(e),go)}(e);if(Eo(e)||!0!==e.multi)this.records.get(i);else{var a=this.records.get(i);a||((a=So(void 0,go,!0)).factory=function(){return Ai(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===go&&(t.value=mo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function ko(e){var t=Ie(e),n=null!==t?t.factory:kt(e);if(null!==n)return n;if(e instanceof ui)throw new Error("Token ".concat(ye(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=gi(t,"?");throw new Error("Can't resolve all parameters for ".concat(ye(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[Me]||e[Fe]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function xo(e,n,r){var a,o;if(Eo(e)){var s=ke(e);return kt(s)||ko(s)}if(Co(e))a=function(){return ke(e.useValue)};else if((o=e)&&o.useFactory)a=function(){return e.useFactory.apply(e,i(Ai(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))a=function(){return Ei(ke(e.useExisting))};else{var l=ke(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return kt(l)||ko(l);a=function(){return t(l,i(Ai(e.deps)))}}return a}function So(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Co(e){return null!==e&&"object"==typeof e&&xi in e}function Eo(e){return"function"==typeof e}var Ro=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=_o(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},Ao=function(){var e=function(){function e(){v(this,e)}return m(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Ro(e,t,""):Ro(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=wi,e.NULL=new po,e.\u0275prov=Ae({token:e,providedIn:"any",factory:function(){return Ei(fo)}}),e.__NG_ELEMENT_ID__=-1,e}();function To(e,t){Cn(Vt(e)[1],Kt())}function Io(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(wt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var a=e;a.inputs=Do(e.inputs),a.declaredInputs=Do(e.declaredInputs),a.outputs=Do(e.outputs);var o=r.hostBindings;o&&Mo(e,o);var s=r.viewQuery,l=r.contentQueries;if(s&&Oo(e,s),l&&Po(e,l),me(e.inputs,r.inputs),me(e.declaredInputs,r.declaredInputs),me(e.outputs,r.outputs),wt(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}var c=r.features;if(c)for(var h=0;h<c.length;h++){var d=c[h];d&&d.ngInherit&&d(e),d===Io&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ln(r.hostAttrs,n=Ln(n,r.hostAttrs))}}(i)}function Do(e){return e===Ze?{}:e===Xe?[]:e}function Oo(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function Po(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function Mo(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Lo=null;function Fo(){if(!Lo){var e=Ye.Symbol;if(e&&e.iterator)Lo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Lo=i)}}return Lo}var No=function(){function e(t){v(this,e),this.wrapped=t}return m(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function zo(e){return!!Vo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fo()in e)}function Vo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function jo(e,t,n){return e[t]=n}function Bo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ho(e,t,n,i){var r=Bo(e,t,n);return Bo(e,t+1,i)||r}function qo(e,t,n,i){var r=$t();return Bo(r,on(),t)&&(Yt(),function(e,t,n,i,r,a){var o=Lt(e,t);!function(e,t,n,i,r,a,o){if(null==a)Dt(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{var s=null==o?Ce(a):o(a,i||"",r);Dt(e)?e.setAttribute(t,r,s,n):n?t.setAttributeNS(n,r,s):t.setAttribute(r,s)}}(t[11],o,a,e.value,n,i,r)}(kn(),r,e,t,n,i)),qo}function Uo(e,t,n,i){return Bo(e,on(),n)?t+Ce(n)+i:fa}function Wo(e,t,n,i,r,a,o,s){var l=$t(),u=Yt(),c=e+20,h=u.firstCreatePass?function(e,t,n,i,r,a,o,s,l){var u=t.consts,c=Sa(t,e,4,o||null,Ht(u,s));za(t,n,c,Ht(u,l)),Cn(t,c);var h=c.tViews=Ma(2,c,i,r,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,r,a,o):u.data[c];Qt(h,!1);var d=l[11].createComment("");$r(u,l,d,h),xr(d,l),Qa(l,l[c]=Ya(d,l,d,h)),_t(h)&&Da(u,l,h),null!=o&&Oa(l,h,s)}function Go(e){return Nt(Wt.lFrame.contextLView,20+e)}function $o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default,n=$t();return null===n?Ei(e,t):Kn(Kt(),n,ke(e),t)}function Yo(e,t,n){var i=$t();return Bo(i,on(),t)&&Na(Yt(),kn(),i,e,t,i[11],n,!1),Yo}function Zo(e,t,n,i,r){var a=r?"class":"style";lo(e,n,t.inputs[a],a,i)}function Ko(e,t,n,i){var r=$t(),a=Yt(),o=20+e,s=r[11],l=r[o]=Lr(s,t,Wt.lFrame.currentNamespace),u=a.firstCreatePass?function(e,t,n,i,r,a,o){var s=t.consts,l=Sa(t,e,2,r,Ht(s,a));return za(t,n,l,Ht(s,o)),null!==l.attrs&&co(l,l.attrs,!1),null!==l.mergedAttrs&&co(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,a,r,0,t,n,i):a.data[o];Qt(u,!0);var c=u.mergedAttrs;null!==c&&On(s,l,c);var h=u.classes;null!==h&&ta(s,l,h);var d=u.styles;null!==d&&ea(s,l,d),64!=(64&u.flags)&&$r(a,r,l,u),0===Wt.lFrame.elementDepthCount&&xr(l,r),Wt.lFrame.elementDepthCount++,_t(u)&&(Da(a,r,u),Ia(a,u,r)),null!==i&&Oa(r,u)}function Xo(){var e=Kt();Jt()?en():Qt(e=e.parent,!1);var t=e;Wt.lFrame.elementDepthCount--;var n=Yt();n.firstCreatePass&&(Cn(n,e),yt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Zo(n,t,$t(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Zo(n,t,$t(),t.stylesWithoutHost,!1)}function Qo(e,t,n,i){Ko(e,t,n,i),Xo()}function Jo(e,t,n){var i=$t(),r=Yt(),a=e+20,o=r.firstCreatePass?function(e,t,n,i,r){var a=t.consts,o=Ht(a,i),s=Sa(t,e,8,"ng-container",o);return null!==o&&co(s,o,!0),za(t,n,s,Ht(a,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,r,i,t,n):r.data[a];Qt(o,!0);var s=i[a]=i[11].createComment("");$r(r,i,s,o),xr(s,i),_t(o)&&(Da(r,i,o),Ia(r,o,i)),null!=n&&Oa(i,o)}function es(){var e=Kt(),t=Yt();Jt()?en():Qt(e=e.parent,!1),t.firstCreatePass&&(Cn(t,e),yt(e)&&t.queries.elementEnd(e))}function ts(e,t,n){Jo(e,t,n),es()}function ns(){return $t()}function is(e){return!!e&&"function"==typeof e.then}function rs(e){return!!e&&"function"==typeof e.subscribe}var as=rs;function os(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=$t(),a=Yt(),o=Kt();return ls(a,r,r[11],o,e,t,n,i),os}function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Kt(),a=$t(),o=Yt();return ls(o,a,oo(un(o.data),r,a),r,e,t,n,i),ss}function ls(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=_t(i),u=e.firstCreatePass&&ao(e),c=ro(t),h=!0;if(3&i.type){var d=Lt(i,t),f=s?s(d):Ze,p=f.target||d,v=c.length,g=s?function(e){return s(Pt(e[i.index])).target}:i.index;if(Dt(n)){var m=null;if(!s&&l&&(m=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var a=0;a<r.length-1;a+=2){var o=r[a];if(o===n&&r[a+1]===i){var s=t[7],l=r[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(e,t,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=a,m.__ngLastListenerFn__=a,h=!1;else{a=cs(i,t,0,a,!1);var y=n.listen(f.name||p,r,a);c.push(a,y),u&&u.push(r,g,v,v+1)}}else a=cs(i,t,0,a,!0),p.addEventListener(r,a,o),c.push(a),u&&u.push(r,g,v,o)}else a=cs(i,t,0,a,!1);var b,_=i.outputs;if(h&&null!==_&&(b=_[r])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var x=t[b[k]][b[k+1]].subscribe(a),S=c.length;c.push(a,x),u&&u.push(r,i.index,S,-(S+1))}}}function us(e,t,n,i){try{return!1!==n(i)}catch(r){return so(e,r),!1}}function cs(e,t,n,i,r){return function n(a){if(a===Function)return i;var o=2&e.flags?zt(e.index,t):t;0==(32&t[2])&&Ja(o);for(var s=us(t,0,i,a),l=n.__ngNextListenerFn__;l;)s=us(t,0,l,a)&&s,l=l.__ngNextListenerFn__;return r&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Wt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Wt.lFrame.contextLView))[8]}(e)}function ds(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var a=t[r];if("*"!==a){if(null===i?ua(e,a,!0):ca(i,a))return r}else n=r}return n}function fs(e){var t=$t()[16][6];if(!t.projection)for(var n=t.projection=gi(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var a=e?ds(r,e):0;null!==a&&(i[a]?i[a].projectionNext=r:n[a]=r,i[a]=r),r=r.next}}function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=$t(),r=Yt(),a=Sa(r,20+e,16,null,n||null);null===a.projection&&(a.projection=t),en(),64!=(64&a.flags)&&function(e,t,n){Jr(t[11],0,t,n,jr(e,n,t),Wr(n.parent||t[6],n,t))}(r,i,a)}function vs(e,t,n){return gs(e,"",t,"",n),vs}function gs(e,t,n,i,r){var a=$t(),o=Uo(a,t,n,i);return o!==fa&&Na(Yt(),kn(),a,e,o,a[11],r,!1),gs}function ms(e,t,n,i,r){for(var a=e[n+1],o=null===t,s=i?ma(a):ba(a),l=!1;0!==s&&(!1===l||o);){var u=e[s+1];ys(e[s],t)&&(l=!0,e[s+1]=i?wa(u):ya(u)),s=i?ma(u):ba(u)}l&&(e[n+1]=i?ya(a):wa(a))}function ys(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&bi(e,t)>=0}var bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _s(e){return e.substring(bs.key,bs.keyEnd)}function ws(e,t){var n=bs.textEnd;return n===t?-1:(t=bs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,bs.key=t,n),ks(e,t,n))}function ks(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function xs(e,t,n){return Rs(e,t,n,!1),xs}function Ss(e,t){return Rs(e,t,null,!0),Ss}function Cs(e){As(mi,Es,e,!0)}function Es(e,t){for(var n=function(e){return function(e){bs.key=0,bs.keyEnd=0,bs.value=0,bs.valueEnd=0,bs.textEnd=e.length}(e),ws(e,ks(e,0,bs.textEnd))}(t);n>=0;n=ws(t,n))mi(e,_s(t),!0)}function Rs(e,t,n,i){var r=$t(),a=Yt(),o=sn(2);a.firstUpdatePass&&Is(a,e,o,i),t!==fa&&Bo(r,o,t)&&Ps(a,a.data[_n()],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ye(qi(e)))),e}(t,n),i,o)}function As(e,t,n,i){var r=Yt(),a=sn(2);r.firstUpdatePass&&Is(r,null,a,i);var o=$t();if(n!==fa&&Bo(o,a,n)){var s=r.data[_n()];if(Fs(s,i)&&!Ts(r,a)){var l=i?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(n=be(l,n||"")),Zo(r,s,o,n,i)}else!function(e,t,n,i,r,a,o,s){r===fa&&(r=Ke);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<a.length?a[0]:null;null!==c||null!==h;){var d=l<r.length?r[l+1]:void 0,f=u<a.length?a[u+1]:void 0,p=void 0,v=null;c===h?(l+=2,u+=2,d!==f&&(v=h,p=f)):null===h||null!==c&&c<h?(l+=2,v=c):(u+=2,v=h,p=f),null!==v&&Ps(e,t,n,i,v,p,o,s),c=l<r.length?r[l]:null,h=u<a.length?a[u]:null}}(r,s,o,o[11],o[a+1],o[a+1]=function(e,t,n){if(null==n||""===n)return Ke;var i=[],r=qi(n);if(Array.isArray(r))for(var a=0;a<r.length;a++)e(i,r[a],!0);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,a)}}function Ts(e,t){return t>=e.expandoStartIndex}function Is(e,t,n,i){var r=e.data;if(null===r[n+1]){var a=r[_n()],o=Ts(e,n);Fs(a,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){var r=un(e),a=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Os(n=Ds(null,e,t,n,i),t.attrs,i),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=Ds(r,e,t,n,i),null===a){var s=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==ba(i))return e[ma(i)]}(e,t,i);void 0!==s&&Array.isArray(s)&&function(e,t,n,i){e[ma(n?t.classBindings:t.styleBindings)]=i}(e,t,i,s=Os(s=Ds(null,e,t,s[1],i),t.attrs,i))}else a=function(e,t,n){for(var i,r=t.directiveEnd,a=1+t.directiveStylingLast;a<r;a++)i=Os(i,e[a].hostAttrs,n);return Os(i,t.attrs,n)}(e,t,i)}return void 0!==a&&(i?t.residualClasses=a:t.residualStyles=a),n}(r,a,t,i),function(e,t,n,i,r,a){var o=a?t.classBindings:t.styleBindings,s=ma(o),l=ba(o);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||bi(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var d=ma(e[s+1]);e[i+1]=ga(d,s),0!==d&&(e[d+1]=_a(e[d+1],i)),e[s+1]=131071&e[s+1]|i<<17}else e[i+1]=ga(s,0),0!==s&&(e[s+1]=_a(e[s+1],i)),s=i;else e[i+1]=ga(l,0),0===s?s=i:e[l+1]=_a(e[l+1],i),l=i;c&&(e[i+1]=ya(e[i+1])),ms(e,u,i,!0),ms(e,u,i,!1),function(e,t,n,i,r){var a=r?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&bi(a,t)>=0&&(n[i+1]=wa(n[i+1]))}(t,u,e,i,a),o=ga(s,l),a?t.classBindings=o:t.styleBindings=o}(r,a,t,n,o,i)}}function Ds(e,t,n,i,r){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=Os(i,(a=t[s]).hostAttrs,r),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),i}function Os(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mi(e,o,!!n||t[++a]))}return void 0===e?null:e}function Ps(e,t,n,i,r,a,o,s){if(3&t.type){var l=e.data,u=l[s+1];Ls(1==(1&u)?Ms(l,t,n,r,ba(u),o):void 0)||(Ls(a)||2==(2&u)&&(a=Ms(l,null,n,r,s,o)),function(e,t,n,i,r){var a=Dt(e);if(t)r?a?e.addClass(n,i):n.classList.add(i):a?e.removeClass(n,i):n.classList.remove(i);else{var o=-1===i.indexOf("-")?void 0:Ar.DashCase;if(null==r)a?e.removeStyle(n,i,o):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),o|=Ar.Important),a?e.setStyle(n,i,r,o):n.style.setProperty(i,r,s?"important":"")}}}(i,o,Mt(_n(),n),r,a))}}function Ms(e,t,n,i,r,a){for(var o,s=null===t;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,d=n[r+1];d===fa&&(d=h?Ke:void 0);var f=h?yi(d,i):c===i?d:void 0;if(u&&!Ls(f)&&(f=yi(l,i)),Ls(f)&&(o=f,s))return o;var p=e[r+1];r=s?ma(p):ba(p)}if(null!==t){var v=a?t.residualClasses:t.residualStyles;null!=v&&(o=yi(v,i))}return o}function Ls(e){return void 0!==e}function Fs(e,t){return 0!=(e.flags&(t?16:32))}function Ns(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$t(),i=Yt(),r=e+20,a=i.firstCreatePass?Sa(i,r,1,t,null):i.data[r],o=n[r]=function(e,t){return Dt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);$r(i,n,o,a),Qt(a,!1)}function zs(e){return Vs("",e,""),zs}function Vs(e,t,n){var i=$t(),r=Uo(i,e,t,n);return r!==fa&&uo(i,_n(),r),Vs}function js(e,t,n,i,r,a,o){var s=$t(),l=function(e,t,n,i,r,a,o,s){var l=function(e,t,n,i,r){var a=Ho(e,t,n,i);return Bo(e,t+2,r)||a}(e,an(),n,r,o);return sn(3),l?t+Ce(n)+i+Ce(r)+a+Ce(o)+s:fa}(s,e,t,n,i,r,a,o);return l!==fa&&uo(s,_n(),l),js}function Bs(e,t,n){As(mi,Es,Uo($t(),e,t,n),!0)}function Hs(e,t,n){var i=$t();return Bo(i,on(),t)&&Na(Yt(),kn(),i,e,t,i[11],n,!0),Hs}function qs(e,t,n){var i=$t();if(Bo(i,on(),t)){var r=Yt(),a=kn();Na(r,a,i,e,t,oo(un(r.data),a,i),n,!0)}return qs}var Us=void 0,Ws=["en",[["a","p"],["AM","PM"],Us],[["AM","PM"],Us,Us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Us,"{1} 'at' {0}",Us],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Gs={};function $s(e){return e in Gs||(Gs[e]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[e]),Gs[e]}var Ys=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});function Zs(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function Ks(e,t,n,i,r){if(e=ke(e),Array.isArray(e))for(var a=0;a<e.length;a++)Ks(e[a],t,n,i,r);else{var o=Yt(),s=$t(),l=Eo(e)?e:ke(e.provide),u=xo(e),c=Kt(),h=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Eo(e)||!e.multi){var p=new Dn(u,r,$o),v=Js(l,t,r?h:h+f,d);-1===v?($n(qn(c,s),o,l),Xs(o,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Js(l,t,h+f,d),m=Js(l,t,h,h+f),y=g>=0&&n[g],b=m>=0&&n[m];if(r&&!b||!r&&!y){$n(qn(c,s),o,l);var _=function(e,t,n,i,r){var a=new Dn(e,n,$o);return a.multi=[],a.index=t,a.componentProviders=0,Qs(a,r,i&&!n),a}(r?tl:el,n.length,r,i,u);!r&&b&&(n[m].providerFactory=_),Xs(o,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(_),s.push(_)}else Xs(o,e,g>-1?g:m,Qs(n[r?m:g],u,!r&&i));!r&&i&&b&&n[m].componentProviders++}}}function Xs(e,t,n,i){var r=Eo(t);if(r||t.useClass){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[i,a]):o[s+1].push(i,a)}else o.push(n,a)}}}function Qs(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Js(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function el(e,t,n,i){return nl(this.multi,[])}function tl(e,t,n,i){var r,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=ti(n,n[1],this.providerFactory.index,i);nl(a,r=s.slice(0,o));for(var l=o;l<s.length;l++)r.push(s[l])}else nl(a,r=[]);return r}function nl(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function il(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=Yt();if(i.firstCreatePass){var r=wt(e);Ks(n,i.data,i.blueprint,r,!0),Ks(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}var rl=function e(){v(this,e)},al=function(){function e(){v(this,e)}return m(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ye(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),ol=function(){var e=function e(){v(this,e)};return e.NULL=new al,e}();function sl(){}function ll(e,t){return new cl(Lt(e,t))}var ul=function(){return ll(Kt(),$t())},cl=function(){var e=function e(t){v(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=ul,e}();function hl(e){return e instanceof cl?e.nativeElement:e}var dl=function e(){v(this,e)},fl=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=function(){return pl()},e}(),pl=function(){var e=$t(),t=zt(Kt().index,e);return function(e){return e[11]}(gt(t)?t:e)},vl=function(){var e=function e(){v(this,e)};return e.\u0275prov=Ae({token:e,providedIn:"root",factory:function(){return null}}),e}(),gl=function e(t){v(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},ml=new gl("11.2.14"),yl=function(){function e(){v(this,e)}return m(e,[{key:"supports",value:function(e){return zo(e)}},{key:"create",value:function(e){return new _l(e)}}]),e}(),bl=function(e,t){return t},_l=function(){function e(t){v(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bl}return m(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var a=!n||t&&t.currentIndex<Sl(n,i,r)?t:n,o=Sl(a,i,r),s=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{r||(r=[]);var l=o-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[a.previousIndex]=u-l}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!zo(e))throw new Error("Error trying to diff '".concat(ye(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=e[s],r=this._trackByFn(s,i),null!==a&&Object.is(a.trackById,r)?(o&&(a=this._verifyReinsertion(a,i,r,s)),Object.is(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,r,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Fo()]();!(i=r.next()).done;)t(i.value)}(e,function(e){r=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,r)?(o&&(a=t._verifyReinsertion(a,e,r,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,r,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new wl(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xl),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),wl=function e(t,n){v(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},kl=function(){function e(){v(this,e),this._head=null,this._tail=null}return m(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),xl=function(){function e(){v(this,e),this.map=new Map}return m(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new kl,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Sl(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Cl=function(){function e(){v(this,e)}return m(e,[{key:"supports",value:function(e){return e instanceof Map||Vo(e)}},{key:"create",value:function(){return new El}}]),e}(),El=function(){function e(){v(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Vo(e)))throw new Error("Error trying to diff '".concat(ye(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var a=new Rl(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),Rl=function e(t){v(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Al(){return new Tl([new yl])}var Tl=function(){var e=function(){function e(t){v(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Al())},deps:[[e,new Mi,new Pi]]}}}]),e}();return e.\u0275prov=Ae({token:e,providedIn:"root",factory:Al}),e}();function Il(){return new Dl([new Cl])}var Dl=function(){var e=function(){function e(t){v(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Il())},deps:[[e,new Mi,new Pi]]}}}]),e}();return e.\u0275prov=Ae({token:e,providedIn:"root",factory:Il}),e}();function Ol(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Pt(o)),mt(o))for(var s=10;s<o.length;s++){var l=o[s],u=l[1].firstChild;null!==u&&Ol(l[1],l,u,r)}var c=n.type;if(8&c)Ol(e,t,n.child,r);else if(32&c)for(var h=Tr(n,t),d=void 0;d=h();)r.push(d);else if(16&c){var f=Zr(t,n);if(Array.isArray(f))r.push.apply(r,i(f));else{var p=Ir(t[16]);Ol(p[1],p,f,r,!0)}}n=a?n.projectionNext:n.next}return r}var Pl=function(){function e(t,n){v(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return m(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Ol(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(mt(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Nr(e,n),vi(t,n))}this._attachedToViewContainer=!1}zr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){La(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Ja(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){eo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){nn(!0);try{eo(e,t,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Qr(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Ml=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e))._view=e,i}return m(n,[{key:"detectChanges",value:function(){to(this._view)}},{key:"checkNoChanges",value:function(){!function(e){nn(!0);try{to(e)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Pl),Ll=Nl,Fl=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=Ll,e.__ChangeDetectorRef__=!0,e}();function Nl(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&bt(e)){var i=zt(e.index,t);return new Pl(i,i)}return 47&e.type?new Pl(t[16],t):null}(Kt(),$t(),e)}var zl=[new Cl],Vl=new Tl([new yl]),jl=new Dl(zl),Bl=function(){return Ul(Kt(),$t())},Hl=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=Bl,e}(),ql=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=i,a.elementRef=r,a}return m(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=xa(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Ea(t,n,e),new Pl(n)}}]),n}(Hl);function Ul(e,t){return 4&e.type?new ql(t,e,ll(e,t)):null}var Wl=function e(){v(this,e)},Gl=function e(){v(this,e)},$l=function(){return Ql(Kt(),$t())},Yl=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=$l,e}(),Zl=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=i,a._hostLView=r,a}return m(n,[{key:"element",get:function(){return ll(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ri(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Gn(this._hostTNode,this._hostLView);if(Nn(e)){var t=Vn(e,this._hostLView),n=zn(e);return new ri(t[1].data[n+8],t)}return new ri(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Kl(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var a=n||this.parentInjector;if(!r&&null==e.ngModule&&a){var o=a.get(Wl,null);o&&(r=o)}var s=e.create(a,i,void 0,r);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var i=e._lView,r=i[1];if(mt(i[3])){var a=this.indexOf(e);if(-1!==a)this.detach(a);else{var o=i[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var l=this._adjustIndex(t),u=this._lContainer;!function(e,t,n,i){var r=10+i,a=n.length;i>0&&(n[r-1][4]=t),i<a-10?(t[4]=n[r],pi(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,i,u,l);var c=Kr(l,u),h=i[11],d=Ur(h,u[7]);return null!==d&&function(e,t,n,i,r,a){i[0]=r,i[6]=t,Qr(e,i,n,1,r,a)}(r,u[6],h,i,d,c),e.attachToViewContainerRef(),pi(Xl(u),l,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Kl(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Nr(this._lContainer,t);n&&(vi(Xl(this._lContainer),t),zr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Nr(this._lContainer,t);return n&&null!=vi(Xl(this._lContainer),t)?new Pl(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Yl);function Kl(e){return e[8]}function Xl(e){return e[8]||(e[8]=[])}function Ql(e,t){var n,i=t[e.index];if(mt(i))n=i;else{var r;if(8&e.type)r=Pt(i);else{var a=t[11];r=a.createComment("");var o=Lt(e,t);Br(a,Ur(a,o),r,function(e,t){return Dt(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=Ya(i,t,r,e),Qa(t,n)}return new Zl(n,e,t)}var Jl={},eu=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this)).ngModule=e,i}return m(n,[{key:"resolveComponentFactory",value:function(e){var t=pt(e);return new iu(t,this.ngModule)}}]),n}(ol);function tu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var nu=new ui("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Sr}}),iu=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(da).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return m(n,[{key:"inputs",get:function(){return tu(this.componentDef.inputs)}},{key:"outputs",get:function(){return tu(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,i){var r,a,o=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var a=e.get(n,Jl,r);return a!==Jl||i===Jl?a:t.get(n,i,r)}}}(e,i.injector):e,s=o.get(dl,Ot),l=o.get(vl,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Dt(e))return e.selectRootElement(t,n===qe.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Sr,clean:io,playerHandler:null,flags:0},p=Ma(0,null,null,1,0,null,null,null,null,null),v=xa(null,p,f,d,null,null,s,u,l,o);pn(v);try{var g=function(e,t,n,i,r,a){var o=n[1];n[20]=e;var s=Sa(o,20,2,"#host",null),l=s.mergedAttrs=t.hostAttrs;null!==l&&(co(s,l,!0),null!==e&&(On(r,e,l),null!==s.classes&&ta(r,e,s.classes),null!==s.styles&&ea(r,e,s.styles)));var u=i.createRenderer(e,t),c=xa(n,Pa(t),null,t.onPush?64:16,n[20],s,i,u,null,null);return o.firstCreatePass&&($n(qn(s,n),o,t.type),Ba(o,s),qa(s,n.length,1)),Qa(n,c),n[20]=c}(h,this.componentDef,v,s,u);if(h)if(n)On(u,h,["ng-version",ml.full]);else{var m=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var a=e[i];if("string"==typeof a)2===r?""!==a&&t.push(a,e[++i]):8===r&&n.push(a);else{if(!sa(r))break;r=a}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,b=m.classes;y&&On(u,h,y),b&&b.length>0&&ta(u,h,b.join(" "))}if(a=Ft(p,20),void 0!==t)for(var _=a.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=t[w];_.push(null!=k?Array.from(k):null)}r=function(e,t,n,i,r){var a=n[1],o=function(e,t,n){var i=Kt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ua(e,i,t,Ca(e,t,1,null),n));var r=ti(t,e,i.directiveStart,i);xr(r,t);var a=Lt(i,t);return a&&xr(a,t),r}(a,n,t);if(i.components.push(o),e[8]=o,r&&r.forEach(function(e){return e(o,t)}),t.contentQueries){var s=Kt();t.contentQueries(1,o,s.directiveStart)}var l=Kt();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(wn(l.index),Va(n[1],l,0,l.directiveStart,l.directiveEnd,t),ja(t,o)),o}(g,this.componentDef,v,f,[To]),Ea(p,v,null)}finally{bn()}return new ru(this.componentType,r,ll(a,v),v,a)}}]),n}(rl),ru=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o){var s;return v(this,n),(s=t.call(this)).location=r,s._rootLView=a,s._tNode=o,s.instance=i,s.hostView=s.changeDetectorRef=new Ml(a),s.componentType=e,s}return m(n,[{key:"injector",get:function(){return new ri(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){v(this,e)}}()),au=new Map,ou=function(e){a(n,e);var t=s(n);function n(e,i){var r;v(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=u(r),r.destroyCbs=[],r.componentFactoryResolver=new eu(u(r));var a=vt(e),o=e[nt]||null;return o&&Zs(o),r._bootstrapComponents=Rr(a.bootstrap),r._r3Injector=_o(e,i,[{provide:Wl,useValue:u(r)},{provide:ol,useValue:r.componentFactoryResolver}],ye(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return m(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.Default;return e===Ao||e===Wl||e===fo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Wl),su=function(e){a(n,e);var t=s(n);function n(e){var i,r,a;return v(this,n),(i=t.call(this)).moduleType=e,null!==vt(e)&&(r=e,a=new Set,function e(t){var n=vt(t,!0),i=n.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ye(t)," vs ").concat(ye(t.name)))}(i,au.get(i),t),au.set(i,t));var r,o=d(Rr(n.imports));try{for(o.s();!(r=o.n()).done;){var s=r.value;a.has(s)||(a.add(s),e(s))}}catch(l){o.e(l)}finally{o.f()}}(r)),i}return m(n,[{key:"create",value:function(e){return new ou(this.moduleType,e)}}]),n}(Gl);function lu(e,t,n){var i=rn()+e,r=$t();return r[i]===fa?jo(r,i,n?t.call(n):t()):function(e,t){return e[t]}(r,i)}function uu(e,t,n,i){return du($t(),rn(),e,t,n,i)}function cu(e,t,n,i,r){return fu($t(),rn(),e,t,n,i,r)}function hu(e,t){var n=e[t];return n===fa?void 0:n}function du(e,t,n,i,r,a){var o=t+n;return Bo(e,o,r)?jo(e,o+1,a?i.call(a,r):i(r)):hu(e,o+1)}function fu(e,t,n,i,r,a,o){var s=t+n;return Ho(e,s,r,a)?jo(e,s+2,o?i.call(o,r,a):i(r,a)):hu(e,s+2)}function pu(e,t){var n,i=Yt(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Se("302","The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var a=n.factory||(n.factory=kt(n.type)),o=Ve($o);try{var s=Bn(!1),l=a();return Bn(s),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(i,$t(),r,l),l}finally{Ve(o)}}function vu(e,t,n){var i=e+20,r=$t(),a=Nt(r,i);return yu(r,mu(r,i)?du(r,rn(),t,a.transform,n,a):a.transform(n))}function gu(e,t,n,i){var r=e+20,a=$t(),o=Nt(a,r);return yu(a,mu(a,r)?fu(a,rn(),t,o.transform,n,i,o):o.transform(n,i))}function mu(e,t){return e[1].data[t].pure}function yu(e,t){return No.isWrapped(t)&&(t=No.unwrap(t),e[an()]=fa),t}function bu(e){return function(t){setTimeout(e,void 0,t)}}var _u=function(e){a(n,e);var t=s(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(e=t.call(this)).__isAsync=i,e}return m(n,[{key:"emit",value:function(e){r(h(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var a,o,s,l=e,u=t||function(){return null},c=i;if(e&&"object"==typeof e){var d=e;l=null===(a=d.next)||void 0===a?void 0:a.bind(d),u=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(u=bu(u),l&&(l=bu(l)),c&&(c=bu(c)));var f=r(h(n.prototype),"subscribe",this).call(this,{next:l,error:u,complete:c});return e instanceof C&&e.add(f),f}}]),n}(V);function wu(){return this._results[Fo()]()}var ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Fo(),i=e.prototype;i[n]||(i[n]=wu)}return m(e,[{key:"changes",get:function(){return this._changes||(this._changes=new _u)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=di(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++){var r=e[i],a=t[i];if(n&&(r=n(r),a=n(a)),a!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),xu=function(){function e(t){v(this,e),this.queryList=t,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Su=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,e),this.queries=t}return m(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],a=0;a<i;a++){var o=n.getByIndex(a);r.push(this.queries[o.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==zu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Cu=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,e),this.predicate=t,this.flags=n,this.read=i},Eu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,e),this.queries=t}return m(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,a=this.getByIndex(i).embeddedTView(t,r);a&&(a.indexInDeclarationView=i,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Ru=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;v(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return m(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(e,t,Au(t,r)),this.matchTNodeWithReadOption(e,t,ei(t,e,r,!1,!1))}else n===Hl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ei(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===cl||i===Yl||i===Hl&&4&t.type)this.addMatch(t.index,-2);else{var r=ei(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Au(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Tu(e,t,n,i){return-1===n?function(e,t){return 11&e.type?ll(e,t):4&e.type?Ul(e,t):null}(t,e):-2===n?function(e,t,n){return n===cl?ll(t,e):n===Hl?Ul(t,e):n===Yl?Ql(t,e):void 0}(e,t,i):ti(e,e[1],n,t)}function Iu(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var a=e.data,o=n.matches,s=[],l=0;l<o.length;l+=2){var u=o[l];s.push(u<0?null:Tu(t,a[u],o[l+1],n.metadata.read))}r.matches=s}return r.matches}function Du(e,t,n,i){var r=e.queries.getByIndex(n),a=r.matches;if(null!==a)for(var o=Iu(e,t,r,n),s=0;s<a.length;s+=2){var l=a[s];if(l>0)i.push(o[s/2]);else{for(var u=a[s+1],c=t[-l],h=10;h<c.length;h++){var d=c[h];d[17]===d[3]&&Du(d[1],d,u,i)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var v=f[p];Du(v[1],v,u,i)}}}return i}function Ou(e){var t=$t(),n=Yt(),i=cn();hn(i+1);var r=zu(n,i);if(e.dirty&&jt(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{var a=r.crossesNgTemplate?Du(n,t,i,[]):Iu(n,t,r,i);e.reset(a,hl),e.notifyOnChanges()}return!0}return!1}function Pu(e,t,n){var i=Yt();i.firstCreatePass&&(Nu(i,new Cu(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Fu(i,$t(),t)}function Mu(e,t,n,i){var r=Yt();if(r.firstCreatePass){var a=Kt();Nu(r,new Cu(t,n,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Fu(r,$t(),n)}function Lu(){return e=$t(),t=cn(),e[19].queries[t].queryList;var e,t}function Fu(e,t,n){var i=new ku(4==(4&n));La(e,t,i,i.destroy),null===t[19]&&(t[19]=new Su),t[19].queries.push(new xu(i))}function Nu(e,t,n){null===e.queries&&(e.queries=new Eu),e.queries.track(new Ru(t,n))}function zu(e,t){return e.queries.getByIndex(t)}function Vu(e,t){return Ul(e,t)}var ju=new ui("Application Initializer"),Bu=function(){var e=function(){function e(t){var n=this;v(this,e),this.appInits=t,this.resolve=sl,this.reject=sl,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return m(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();is(r)&&t.push(r)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ei(ju,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Hu=new ui("AppId"),qu={provide:Hu,useFactory:function(){return"".concat(Uu()).concat(Uu()).concat(Uu())},deps:[]};function Uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Wu=new ui("Platform Initializer"),Gu=new ui("Platform ID"),$u=new ui("appBootstrapListener"),Yu=function(){var e=function(){function e(){v(this,e)}return m(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Zu=new ui("LocaleId"),Ku=new ui("DefaultCurrencyCode"),Xu=function e(t,n){v(this,e),this.ngModuleFactory=t,this.componentFactories=n},Qu=function(e){return new su(e)},Ju=Qu,ec=function(e){return Promise.resolve(Qu(e))},tc=function(e){var t=Qu(e),n=Rr(vt(e).declarations).reduce(function(e,t){var n=pt(t);return n&&e.push(new iu(n)),e},[]);return new Xu(t,n)},nc=tc,ic=function(e){return Promise.resolve(tc(e))},rc=function(){var e=function(){function e(){v(this,e),this.compileModuleSync=Ju,this.compileModuleAsync=ec,this.compileModuleAndAllComponentsSync=nc,this.compileModuleAndAllComponentsAsync=ic}return m(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),ac=Promise.resolve(0);function oc(e){"undefined"==typeof Zone?ac.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var sc=function(){function e(t){var n,i,r=t.enableLongStackTrace,a=void 0!==r&&r,o=t.shouldCoalesceEventChangeDetection,s=void 0!==o&&o,l=t.shouldCoalesceRunChangeDetection,u=void 0!==l&&l;if(v(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _u(!1),this.onMicrotaskEmpty=new _u(!1),this.onStable=new _u(!1),this.onError=new _u(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!u&&s,this.shouldCoalesceRunChangeDetection=u,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Ye.requestAnimationFrame,t=Ye.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ye,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,cc(e),uc(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),cc(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,a,o,s){try{return hc(n),e.invokeTask(r,a,o,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&i(),dc(n)}},onInvoke:function(e,t,r,a,o,s,l){try{return hc(n),e.invoke(r,a,o,s,l)}finally{n.shouldCoalesceRunChangeDetection&&i(),dc(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,cc(n),uc(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return m(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+i,e,lc,sl,sl);try{return r.runTask(a,t,n)}finally{r.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),lc={};function uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dc(e){e._nesting--,uc(e)}var fc,pc=function(){function e(){v(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _u,this.onMicrotaskEmpty=new _u,this.onStable=new _u,this.onError=new _u}return m(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),vc=function(){var e=function(){function e(t){var n=this;v(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return m(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){sc.assertNotInAngularZone(),oc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())oc(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(e){return e.timeoutId!==r}),e(i._didWork,i.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ei(sc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),gc=function(){var e=function(){function e(){v(this,e),this._applications=new Map,mc.addToWindow(this)}return m(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return mc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),mc=new(function(){function e(){v(this,e)}return m(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),yc=!0,bc=!1;function _c(){return bc=!0,yc}var wc=new ui("AllowMultipleToken"),kc=function e(t,n){v(this,e),this.name=t,this.token=n};function xc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),r=new ui(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Sc();if(!a||a.injector.get(wc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var o=n.concat(t).concat({provide:r,useValue:!0},{provide:vo,useValue:"platform"});!function(e){if(fc&&!fc.destroyed&&!fc.injector.get(wc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fc=e.get(Cc);var t=e.get(Wu,null);t&&t.forEach(function(e){return e()})}(Ao.create({providers:o,name:i}))}return function(e){var t=Sc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Sc(){return fc&&!fc.destroyed?fc:null}var Cc=function(){var e=function(){function e(t){v(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,a=(n=t?t.ngZone:void 0,i={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new pc:("zone.js"===n?void 0:n)||new sc({enableLongStackTrace:_c(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)})),o=[{provide:sc,useValue:a}];return a.run(function(){var t=Ao.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(kr,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(function(){var e=a.onError.subscribe({next:function(e){i.handleError(e)}});n.onDestroy(function(){Tc(r._modules,n),e.unsubscribe()})}),function(e,t,i){try{var a=((o=n.injector.get(Bu)).runInitializers(),o.donePromise.then(function(){return Zs(n.injector.get(Zu,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return is(a)?a.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):a}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var o}(i,a)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Ec({},n);return function(e,t,n){var i=new su(n);return Promise.resolve(i)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,i)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ye(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ei(Ao))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Ec(e,t){return Array.isArray(t)?t.reduce(Ec,e):Object.assign(Object.assign({},e),t)}var Rc,Ac=((Rc=function(){function e(t,n,i,r,a){var o=this;v(this,e),this._zone=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new P(function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){e.next(o._stable),e.complete()})}),l=new P(function(e){var t;o._zone.runOutsideAngular(function(){t=o._zone.onStable.subscribe(function(){sc.assertNotInAngularZone(),oc(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))})})});var n=o._zone.onUnstable.subscribe(function(){sc.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=oe(s,l.pipe(ve()))}return m(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof rl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Wl),a=n.create(Ao.NULL,[],t||n.selector,r),o=a.location.nativeElement,s=a.injector.get(vc,null),l=s&&a.injector.get(gc);return s&&l&&l.registerApplication(o,s),a.onDestroy(function(){i.detachView(a.hostView),Tc(i.components,a),l&&l.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=d(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Tc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get($u,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Rc)(Ei(sc),Ei(Ao),Ei(kr),Ei(ol),Ei(Bu))},Rc.\u0275prov=Ae({token:Rc,factory:Rc.\u0275fac}),Rc);function Tc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ic=function e(){v(this,e)},Dc=function e(){v(this,e)},Oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Pc=function(){var e=function(){function e(t,n){v(this,e),this._compiler=t,this._config=n||Oc}return m(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=n(e.split("#"),2),r=i[0],a=i[1];return void 0===a&&(a="default"),f("zn8P")(r).then(function(e){return e[a]}).then(function(e){return Mc(e,r,a)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=n(e.split("#"),2),i=t[0],r=t[1],a="NgFactory";return void 0===r&&(r="default",a=""),f("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[r+a]}).then(function(e){return Mc(e,i,r)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ei(rc),Ei(Dc,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Mc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Lc=xc(null,"core",[{provide:Gu,useValue:"unknown"},{provide:Cc,deps:[Ao]},{provide:gc,deps:[]},{provide:Yu,deps:[]}]),Fc=[{provide:Ac,useClass:Ac,deps:[sc,Ao,kr,ol,Bu]},{provide:nu,deps:[sc],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Bu,useClass:Bu,deps:[[new Pi,ju]]},{provide:rc,useClass:rc,deps:[]},qu,{provide:Tl,useFactory:function(){return Vl},deps:[]},{provide:Dl,useFactory:function(){return jl},deps:[]},{provide:Zu,useFactory:function(e){return Zs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Oi(Zu),new Pi,new Mi]]},{provide:Ku,useValue:"USD"}],Nc=function(){var e=function e(t){v(this,e)};return e.\u0275fac=function(t){return new(t||e)(Ei(Ac))},e.\u0275mod=ct({type:e}),e.\u0275inj=Te({providers:Fc}),e}(),zc=null;function Vc(){return zc}var jc,Bc=new ui("DocumentToken"),Hc=((jc=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jc)},jc.\u0275prov=Ae({factory:qc,token:jc,providedIn:"platform"}),jc);function qc(){return Ei(Gc)}var Uc,Wc=new ui("Location Initialized"),Gc=((Uc=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this))._doc=e,i._init(),i}return m(n,[{key:"_init",value:function(){this.location=Vc().getLocation(),this._history=Vc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Vc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Vc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Vc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){$c()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){$c()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Hc)).\u0275fac=function(e){return new(e||Uc)(Ei(Bc))},Uc.\u0275prov=Ae({factory:Yc,token:Uc,providedIn:"platform"}),Uc);function $c(){return!!window.history.pushState}function Yc(){return new Gc(Ei(Bc))}function Zc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Kc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Xc(e){return e&&"?"!==e[0]?"?"+e:e}var Qc,Jc=((Qc=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Qc)},Qc.\u0275prov=Ae({factory:eh,token:Qc,providedIn:"root"}),Qc);function eh(e){var t=Ei(Bc).location;return new ah(Ei(Hc),t&&t.origin||"")}var th,nh,ih,rh=new ui("appBaseHref"),ah=((ih=function(e){a(n,e);var t=s(n);function n(e,i){var r;if(v(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,l(r)}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Zc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Xc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Xc(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Xc(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Jc)).\u0275fac=function(e){return new(e||ih)(Ei(Hc),Ei(rh,8))},ih.\u0275prov=Ae({token:ih,factory:ih.\u0275fac}),ih),oh=((nh=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Zc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Xc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Xc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Jc)).\u0275fac=function(e){return new(e||nh)(Ei(Hc),Ei(rh,8))},nh.\u0275prov=Ae({token:nh,factory:nh.\u0275fac}),nh),sh=((th=function(){function e(t,n){var i=this;v(this,e),this._subject=new _u,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Kc(uh(r)),this._platformStrategy.onPopState(function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})})}return m(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Xc(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,uh(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xc(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||th)(Ei(Jc),Ei(Hc))},th.normalizeQueryParams=Xc,th.joinWithSlash=Zc,th.stripTrailingSlash=Kc,th.\u0275prov=Ae({factory:lh,token:th,providedIn:"root"}),th);function lh(){return new sh(Ei(Jc),Ei(Hc))}function uh(e){return e.replace(/\/index.html$/,"")}var ch,hh=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),dh=function e(){v(this,e)},fh=((ch=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this)).locale=e,i}return m(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=$s(t);if(n)return n;var i=t.split("-")[0];if(n=$s(i))return n;if("en"===i)return Ws;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[Ys.PluralCase]}(t||this.locale)(e)){case hh.Zero:return"zero";case hh.One:return"one";case hh.Two:return"two";case hh.Few:return"few";case hh.Many:return"many";default:return"other"}}}]),n}(dh)).\u0275fac=function(e){return new(e||ch)(Ei(Zu))},ch.\u0275prov=Ae({token:ch,factory:ch.\u0275fac}),ch);function ph(e,t){t=encodeURIComponent(t);var i,r=d(e.split(";"));try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.indexOf("="),s=n(-1==o?[a,""]:[a.slice(0,o),a.slice(o+1)],2),l=s[0],u=s[1];if(l.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var vh,gh,mh,yh=((vh=function(){function e(t,n,i,r){v(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return m(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ye(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}()).\u0275fac=function(e){return new(e||vh)($o(Tl),$o(Dl),$o(cl),$o(fl))},vh.\u0275dir=dt({type:vh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),vh),bh=function(){function e(t,n,i,r){v(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return m(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),_h=((gh=function(){function e(t,n,i){v(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,i,r){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new bh(null,t._ngForOf,-1,-1),null===r?void 0:r),o=new wh(e,a);n.push(o)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=t._viewContainer.get(i);t._viewContainer.move(s,r);var l=new wh(e,s);n.push(l)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,a=this._viewContainer.length;r<a;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||gh)($o(Yl),$o(Hl),$o(Tl))},gh.\u0275dir=dt({type:gh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),gh),wh=function e(t,n){v(this,e),this.record=t,this.view=n},kh=((mh=function(){function e(t,n){v(this,e),this._viewContainer=t,this._context=new xh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Sh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Sh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||mh)($o(Yl),$o(Hl))},mh.\u0275dir=dt({type:mh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),mh),xh=function e(){v(this,e),this.$implicit=null,this.ngIf=null};function Sh(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ye(t),"'."))}var Ch,Eh,Rh,Ah,Th,Ih=function(){function e(t,n){v(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return m(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Dh=((Rh=function(){function e(){v(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return m(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}()).\u0275fac=function(e){return new(e||Rh)},Rh.\u0275dir=dt({type:Rh,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Rh),Oh=((Eh=function(){function e(t,n,i){v(this,e),this.ngSwitch=i,i._addCase(),this._view=new Ih(t,n)}return m(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||Eh)($o(Yl),$o(Hl),$o(Dh,9))},Eh.\u0275dir=dt({type:Eh,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Eh),Ph=((Ch=function e(t,n,i){v(this,e),i._addDefault(new Ih(t,n))}).\u0275fac=function(e){return new(e||Ch)($o(Yl),$o(Hl),$o(Dh,9))},Ch.\u0275dir=dt({type:Ch,selectors:[["","ngSwitchDefault",""]]}),Ch),Mh=function(){function e(){v(this,e)}return m(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Lh=new(function(){function e(){v(this,e)}return m(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Fh=new Mh,Nh=((Th=function(){function e(t){v(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return m(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(is(t))return Lh;if(rs(t))return Fh;throw Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ye(e),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||Th)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze.Default,t=Nl(!0);if(null!=t||e&ze.Optional)return t;Re("ChangeDetectorRef")}())},Th.\u0275pipe=ft({name:"async",type:Th,pure:!1}),Th),zh=((Ah=function(){function e(t){v(this,e),this.differs=t,this.keyValues=[]}return m(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vh;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem(function(e){t.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(n)),this.keyValues}}]),e}()).\u0275fac=function(e){return new(e||Ah)($o(Dl))},Ah.\u0275pipe=ft({name:"keyvalue",type:Ah,pure:!1}),Ah);function Vh(e,t){var n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),a=String(i);return r==a?0:r<a?-1:1}var jh,Bh=((jh=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jh)},jh.\u0275mod=ct({type:jh}),jh.\u0275inj=Te({providers:[{provide:dh,useClass:fh}]}),jh);function Hh(e){return"browser"===e}var qh,Uh=((qh=function e(){v(this,e)}).\u0275prov=Ae({token:qh,providedIn:"root",factory:function(){return new Wh(Ei(Bc),window)}}),qh),Wh=function(){function e(t,n){v(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return m(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;r;){var a=r.shadowRoot;if(a){var o=a.getElementById(t)||a.querySelector('[name="'.concat(t,'"]'));if(o)return o}r=i.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Gh(this.window.history)||Gh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Gh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var $h,Yh,Zh,Kh,Xh=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Qh||(Qh=document.querySelector("base"))?Qh.getAttribute("href"):null;return null==n?null:(t=n,$h||($h=document.createElement("a")),$h.setAttribute("href",t),"/"===$h.pathname.charAt(0)?$h.pathname:"/"+$h.pathname)}},{key:"resetBaseElement",value:function(){Qh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return ph(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,zc||(zc=e)}}]),n}(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.call(this)}return m(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){v(this,e)}}())),Qh=null,Jh=new ui("TRANSITION_ID"),ed=[{provide:ju,useFactory:function(e,t,n){return function(){n.get(Bu).donePromise.then(function(){var n=Vc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Jh,Bc,Ao],multi:!0}],td=function(){function e(){v(this,e)}return m(e,[{key:"addToWindow",value:function(e){Ye.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ye.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ye.getAllAngularRootElements=function(){return e.getAllRootElements()},Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(function(e){var t=Ye.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Vc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,mc=t}}]),e}(),nd=new ui("EventManagerPlugins"),id=((Yh=function(){function e(t,n){var i=this;v(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=i}),this._plugins=t.slice().reverse()}return m(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Yh)(Ei(nd),Ei(sc))},Yh.\u0275prov=Ae({token:Yh,factory:Yh.\u0275fac}),Yh),rd=function(){function e(t){v(this,e),this._doc=t}return m(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Vc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),ad=((Kh=function(){function e(){v(this,e),this._stylesSet=new Set}return m(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Kh)},Kh.\u0275prov=Ae({token:Kh,factory:Kh.\u0275fac}),Kh),od=((Zh=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Map,i._hostNodes.set(e.head,[]),i}return m(n,[{key:"_addStylesToHost",value:function(e,t,n){var i=this;e.forEach(function(e){var r=i._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(sd),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,i){t._addStylesToHost(e,i,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(sd)})}}]),n}(ad)).\u0275fac=function(e){return new(e||Zh)(Ei(Bc))},Zh.\u0275prov=Ae({token:Zh,factory:Zh.\u0275fac}),Zh);function sd(e){Vc().remove(e)}var ld={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ud=/%COMP%/g;function cd(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?cd(e,r,n):(r=r.replace(ud,e),n.push(r))}return n}function hd(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var dd,fd,pd,vd,gd,md,yd=((dd=function(){function e(t,n,i){v(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new bd(t)}return m(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case qe.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new _d(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case qe.ShadowDom:return new wd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=cd(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||dd)(Ei(id),Ei(od),Ei(Hu))},dd.\u0275prov=Ae({token:dd,factory:dd.\u0275fac}),dd),bd=function(){function e(t){v(this,e),this.eventManager=t,this.data=Object.create(null)}return m(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ld[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=ld[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=ld[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,n,i&Ar.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hd(n)):this.eventManager.addEventListener(e,t,hd(n))}}]),e}(),_d=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;v(this,n),(o=t.call(this,e)).component=r;var s=cd(a+"-"+r.id,r.styles,[]);return i.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(ud,a+"-"+r.id),o.hostAttr="_nghost-%COMP%".replace(ud,a+"-"+r.id),o}return m(n,[{key:"applyToHost",value:function(e){r(h(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=r(h(n.prototype),"createElement",this).call(this,e,t);return r(h(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(bd),wd=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;v(this,n),(o=t.call(this,e)).sharedStylesHost=i,o.hostEl=r,o.shadowRoot=r.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=cd(a.id,a.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],o.shadowRoot.appendChild(u)}return o}return m(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return r(h(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return r(h(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return r(h(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(r(h(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(bd),kd=((fd=function(e){a(n,e);var t=s(n);function n(e){return v(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(rd)).\u0275fac=function(e){return new(e||fd)(Ei(Bc))},fd.\u0275prov=Ae({token:fd,factory:fd.\u0275fac}),fd),xd=["alt","control","meta","shift"],Sd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ed={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Rd=((gd=function(e){a(n,e);var t=s(n);function n(e){return v(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),a=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Vc().onAndCancel(e,r.domEventName,a)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),a="";if(xd.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=r,0!=t.length||0===r.length)return null;var o={};return o.domEventName=i,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Cd.hasOwnProperty(t)&&(t=Cd[t]))}return Sd[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),xd.forEach(function(i){i!=n&&(0,Ed[i])(e)&&(t+=i+".")}),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded(function(){return t(r)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(rd)).\u0275fac=function(e){return new(e||gd)(Ei(Bc))},gd.\u0275prov=Ae({token:gd,factory:gd.\u0275fac}),gd),Ad=((vd=function e(){v(this,e)}).\u0275fac=function(e){return new(e||vd)},vd.\u0275prov=Ae({factory:function(){return Ei(Td)},token:vd,providedIn:"root"}),vd),Td=((pd=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this))._doc=e,i}return m(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case vr.NONE:return t;case vr.HTML:return Ui(t,"HTML")?qi(t):fr(this._doc,String(t)).toString();case vr.STYLE:return Ui(t,"Style")?qi(t):t;case vr.SCRIPT:if(Ui(t,"Script"))return qi(t);throw new Error("unsafe value used in a script context");case vr.URL:return Wi(t),Ui(t,"URL")?qi(t):Ki(String(t));case vr.RESOURCE_URL:if(Ui(t,"ResourceURL"))return qi(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new zi(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Vi(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new ji(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Bi(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Hi(e)}}]),n}(Ad)).\u0275fac=function(e){return new(e||pd)(Ei(Bc))},pd.\u0275prov=Ae({factory:function(){return e=Ei(fo),new Td(e.get(Bc));var e},token:pd,providedIn:"root"}),pd),Id=xc(Lc,"browser",[{provide:Gu,useValue:"browser"},{provide:Wu,useValue:function(){Xh.makeCurrent(),td.init()},multi:!0},{provide:Bc,useFactory:function(){return function(e){xt=e}(document),document},deps:[]}]),Dd=[[],{provide:vo,useValue:"root"},{provide:kr,useFactory:function(){return new kr},deps:[]},{provide:nd,useClass:kd,multi:!0,deps:[Bc,sc,Gu]},{provide:nd,useClass:Rd,multi:!0,deps:[Bc]},[],{provide:yd,useClass:yd,deps:[id,od,Hu]},{provide:dl,useExisting:yd},{provide:ad,useExisting:od},{provide:od,useClass:od,deps:[Bc]},{provide:vc,useClass:vc,deps:[sc]},{provide:id,useClass:id,deps:[nd,sc]},[]],Od=((md=function(){function e(t){if(v(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Hu,useValue:t.appId},{provide:Jh,useExisting:Hu},ed]}}}]),e}()).\u0275fac=function(e){return new(e||md)(Ei(md,12))},md.\u0275mod=ct({type:md}),md.\u0275inj=Te({providers:Dd,imports:[Bh,Nc]}),md);"undefined"!=typeof window&&window;var Pd=function e(){v(this,e)};function Md(e,t){return{type:7,name:e,definitions:t,options:{}}}function Ld(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Nd(e){return{type:6,styles:e,offset:null}}function zd(e,t,n){return{type:0,name:e,styles:t,options:n}}function Vd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function jd(e){Promise.resolve(null).then(e)}var Bd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;jd(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Hd=function(){function e(t){var n=this;v(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,a=0,o=this.players.length;0==o?jd(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++i==o&&n._onFinish()}),e.onDestroy(function(){++r==o&&n._onDestroy()}),e.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function qd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ud(e){switch(e.length){case 0:return new Bd;case 1:return e[0];default:return new Hd(e)}}function Wd(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],l=-1,u=null;if(i.forEach(function(e){var n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach(function(n){var i=n,s=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),s){case"!":s=r[n];break;case"*":s=a[n];break;default:s=t.normalizeStyleValue(n,i,s,o)}c[i]=s}),i||s.push(c),u=c,l=n}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function Gd(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&$d(n,"start",e))});break;case"done":e.onDone(function(){return i(n&&$d(n,"done",e))});break;case"destroy":e.onDestroy(function(){return i(n&&$d(n,"destroy",e))})}}function $d(e,t,n){var i=n.totalTime,r=Yd(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),a=e._data;return null!=a&&(r._data=a),r}function Yd(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function Zd(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function Kd(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Xd=function(e,t){return!1},Qd=function(e,t){return!1},Jd=function(e,t,n){return[]},ef=qd();(ef||"undefined"!=typeof Element)&&(Xd=function(e,t){return e.contains(t)},Qd=function(){if(ef||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Qd}(),Jd=function(e,t,n){var i=[];if(n)for(var r=e.querySelectorAll(t),a=0;a<r.length;a++)i.push(r[a]);else{var o=e.querySelector(t);o&&i.push(o)}return i});var tf=null,nf=!1;function rf(e){tf||(tf=("undefined"!=typeof document?document.body:null)||{},nf=!!tf.style&&"WebkitAppearance"in tf.style);var t=!0;return tf.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in tf.style)&&nf)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in tf.style),t}var af=Qd,of=Xd,sf=Jd;function lf(e){var t={};return Object.keys(e).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}var uf,cf=((uf=function(){function e(){v(this,e)}return m(e,[{key:"validateStyleProperty",value:function(e){return rf(e)}},{key:"matchesElement",value:function(e,t){return af(e,t)}},{key:"containsElement",value:function(e,t){return of(e,t)}},{key:"query",value:function(e,t,n){return sf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return new Bd(n,i)}}]),e}()).\u0275fac=function(e){return new(e||uf)},uf.\u0275prov=Ae({token:uf,factory:uf.\u0275fac}),uf),hf=function(){var e=function e(){v(this,e)};return e.NOOP=new cf,e}();function df(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ff(parseFloat(t[1]),t[2])}function ff(e,t){switch(t){case"s":return 1e3*e;default:return e}}function pf(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=ff(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(r=ff(parseFloat(s),o[4]));var l=o[5];l&&(a=l)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:a}}(e,t,n)}function vf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function gf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else vf(e,n);return n}function mf(e,t,n){return n?t+":"+n+";":""}function yf(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=mf(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=mf(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function bf(e,t,n){e.style&&(Object.keys(t).forEach(function(i){var r=Rf(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),qd()&&yf(e))}function _f(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=Rf(t);e.style[n]=""}),qd()&&yf(e))}function wf(e){return Array.isArray(e)?1==e.length?e[0]:Fd(e):e}var kf=new RegExp("{{\\s*(.+?)\\s*}}","g");function xf(e){var t=[];if("string"==typeof e){for(var n;n=kf.exec(e);)t.push(n[1]);kf.lastIndex=0}return t}function Sf(e,t,n){var i=e.toString(),r=i.replace(kf,function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?e:r}function Cf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Ef=/-+([a-z0-9])/g;function Rf(e){return e.replace(Ef,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Af(e,t){return 0===e||0===t}function Tf(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],a=[];if(i.forEach(function(e){r.hasOwnProperty(e)||a.push(e),r[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=Df(e,t)})},s=1;s<t.length;s++)o()}return t}function If(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Df(e,t){return window.getComputedStyle(e)[t]}var Of=new Set(["true","1"]),Pf=new Set(["false","0"]);function Mf(e,t){var n=Of.has(e)||Pf.has(e),i=Of.has(t)||Pf.has(t);return function(r,a){var o="*"==e||e==r,s="*"==t||t==a;return!o&&n&&"boolean"==typeof r&&(o=r?Of.has(e):Pf.has(e)),!s&&i&&"boolean"==typeof a&&(s=a?Of.has(t):Pf.has(t)),o&&s}}var Lf=new RegExp("s*:selfs*,?","g");function Ff(e,t,n){return new Nf(e).build(t,n)}var Nf=function(){function e(t){v(this,e),this._driver=t}return m(e,[{key:"build",value:function(e,t){var n=new zf(t);return this._resetContextStyleTimingState(n),If(this,wf(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,l=s.name;l.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,o.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,a=i||{};if(n.styles.forEach(function(e){if(Vf(e)){var t=e;Object.keys(t).forEach(function(e){xf(t[e]).forEach(function(e){a.hasOwnProperty(e)||r.add(e)})})}}),r.size){var o=Cf(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,r,a=If(this,wf(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=r[1],o=r[2],s=r[3];t.push(Mf(a,s)),"<"!=o[0]||"*"==a&&"*"==s||t.push(Mf(s,a))}(e,r,i)}):r.push(n),r),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:jf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return If(n,e,t)}),options:jf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,a=e.steps.map(function(e){t.currentTime=i;var a=If(n,e,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:a,options:jf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Bf(pf(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var r=Bf(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Bf((n=n||pf(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:Nd({});if(5==r.type)n=this.visitKeyframes(r,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};i.easing&&(s.easing=i.easing),a=Nd(s)}t.currentTime+=i.duration+i.delay;var l=this.visitStyle(a,t);l.isEmptyStep=o,n=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var i=!1,r=null;return n.forEach(function(e){if(Vf(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var a in t)if(t[a].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(i){if(n._driver.validateStyleProperty(i)){var o,s,l,u,c,h=t.collectedStyles[t.currentQuerySelector],d=h[i],f=!0;d&&(a!=r&&a>=d.startTime&&r<=d.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(r,'ms"')),f=!1),a=d.startTime),f&&(h[i]={startTime:a,endTime:r}),t.options&&(o=e[i],s=t.options,l=t.errors,u=s.params||{},(c=xf(o)).length&&c.forEach(function(e){u.hasOwnProperty(e)||l.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,a=[],o=!1,s=!1,l=0,u=e.steps.map(function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Vf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Vf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,o=o||c<l,l=c,a.push(c),i});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,f=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach(function(e,r){var o=h>0?r==d?1:h*r:a[r],s=o*v;t.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,i.styles.push(e)}),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:If(this,wf(e.animation),t),options:jf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:jf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jf(e.options)}}},{key:"visitQuery",value:function(e,t){var i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var a=n(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Lf,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=a[0],s=a[1];t.currentQuerySelector=i.length?i+" "+o:o,Zd(t.collectedStyles,t.currentQuerySelector,{});var l=If(this,wf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:jf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:pf(e.timings,t.errors,!0);return{type:12,animation:If(this,wf(e.animation),t),timings:n,options:null}}}]),e}(),zf=function e(t){v(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Vf(e){return!Array.isArray(e)&&"object"==typeof e}function jf(e){var t;return e?(e=vf(e)).params&&(e.params=(t=e.params)?vf(t):null):e={},e}function Bf(e,t,n){return{duration:e,delay:t,easing:n}}function Hf(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var qf=function(){function e(){v(this,e),this._map=new Map}return m(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,i(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Uf=new RegExp(":enter","g"),Wf=new RegExp(":leave","g");function Gf(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new $f).buildKeyframes(e,t,n,i,r,a,o,s,l,u)}var $f=function(){function e(){v(this,e)}return m(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,a,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new qf;var c=new Zf(e,t,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([a],null,c.errors,s),If(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,c.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Hf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);r!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?df(n.duration):null,a=null!=n.delay?df(n.delay):null;return 0!==r&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,r,a);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),If(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,a=e.options;if(a&&(a.params||a.delay)&&((r=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Yf);var o=df(a.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return If(n,e,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,a=e.options&&e.options.delay?df(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),If(n,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return pf(t.params?Sf(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*r),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?df(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Yf);var o=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;var l=null;s.forEach(function(i,r){t.currentQueryIndex=r;var s=t.createSubContext(e.options,i);a&&s.delayNextStep(a),i===t.element&&(l=s.currentTimeline),If(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,a=Math.abs(r.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var l=t.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;If(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),Yf={},Zf=function(){function e(t,n,i,r,a,o,s,l){v(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Kf(this._driver,n,0),s.push(this.currentTimeline)}return m(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=df(i.duration)),null!=i.delay&&(r.delay=df(i.delay));var a=i.params;if(a){var o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){t&&o.hasOwnProperty(e)||(o[e]=Sf(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,a=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Yf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Xf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,a,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Uf,"."+this._enterClassName)).replace(Wf,"."+this._leaveClassName);var l=this._driver.query(this.element,e,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),s.push.apply(s,i(l))}return a||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),Kf=function(){function e(t,n,i,r){v(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return m(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var a=i&&i.params||{},o=function(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){i[e]="*"}):gf(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(o).forEach(function(e){var t=Sf(o[e],a,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:"*"),r._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(a,o){var s=gf(a,!0);Object.keys(s).forEach(function(e){var i=s[e];"!"==i?t.add(e):"*"==i&&n.add(e)}),i||(s.offset=o/e.duration),r.push(s)});var a=t.size?Cf(t.values()):[],o=n.size?Cf(n.values()):[];if(i){var s=r[0],l=vf(s);s.offset=0,l.offset=1,r=[s,l]}return Hf(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}}]),e}(),Xf=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(l=t.call(this,e,i,s.delay)).element=i,l.keyframes=r,l.preStyleProps=a,l.postStyleProps=o,l._stretchStartingKeyframe=u,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return m(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=i+n,s=n/o,l=gf(e[0],!1);l.offset=0,a.push(l);var u=gf(e[0],!1);u.offset=Qf(s),a.push(u);for(var c=e.length-1,h=1;h<=c;h++){var d=gf(e[h],!1);d.offset=Qf((n+d.offset*i)/o),a.push(d)}i=o,n=0,r="",e=a}return Hf(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Kf);function Qf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Jf=function e(){v(this,e)},ep=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"normalizePropertyName",value:function(e,t){return Rf(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",a=n.toString().trim();if(tp[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+r}}]),n}(Jf),tp=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function np(e,t,n,i,r,a,o,s,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var ip={},rp=function(){function e(t,n,i){v(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return m(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some(function(e){return e(t,n,i,r)})}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],a=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,i,r,a,o,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||ip,d=this.buildStyles(n,o&&o.params||ip,c),f=s&&s.params||ip,p=this.buildStyles(i,f,c),v=new Set,g=new Map,m=new Map,y="void"===i,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:Gf(e,t,this.ast.animation,r,a,d,p,b,l,c),w=0;if(_.forEach(function(e){w=Math.max(e.duration+e.delay,w)}),c.length)return np(t,this._triggerName,n,i,y,d,p,[],[],g,m,w,c);_.forEach(function(e){var n=e.element,i=Zd(g,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var r=Zd(m,n,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),n!==t&&v.add(n)});var k=Cf(v.values());return np(t,this._triggerName,n,i,y,d,p,_,k,g,m,w)}}]),e}(),ap=function(){function e(t,n){v(this,e),this.styles=t,this.defaultParams=n}return m(e,[{key:"buildStyles",value:function(e,t){var n={},i=vf(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach(function(e){var a=r[e];a.length>1&&(a=Sf(a,i,t)),n[e]=a})}}),n}}]),e}(),op=function(){function e(t,n){var i=this;v(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new ap(e.style,e.options&&e.options.params||{})}),sp(this.states,"true","1"),sp(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new rp(t,e,i.states))}),this.fallbackTransition=new rp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return m(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find(function(r){return r.match(e,t,n,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function sp(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var lp=new qf,up=function(){function e(t,n,i){v(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return m(e,[{key:"register",value:function(e,t){var n=[],i=Ff(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=Wd(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=Gf(this._driver,t,o,"ng-enter","ng-leave",{},{},r,lp,a)).forEach(function(e){var t=Zd(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,"*")})});var l=Ud(n.map(function(e){var t=s.get(e.element);return i._buildPlayer(e,{},t)}));return this._playersById[e]=l,l.onDestroy(function(){return i.destroy(e)}),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var r=Yd(t,"","","");return Gd(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),cp=[],hp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var a=vf(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return m(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),pp=new fp("void"),vp=function(){function e(t,n,i){v(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,kp(n,this._hostClassName)}return m(e,[{key:"listen",value:function(e,t,n,i){var r,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=Zd(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);var l=Zd(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(kp(e,"ng-trigger"),kp(e,"ng-trigger-"+t),l[t]=pp),function(){a._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete l[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new mp(this.id,t,e),s=this._engine.statesByElement.get(e);s||(kp(e,"ng-trigger"),kp(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var l=s[t],u=new fp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[t]=u,l||(l=pp),"void"===u.value||l.value!==u.value){var c=Zd(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=a.matchTransition(l.value,u.value,e,u.params),d=!1;if(!h){if(!r)return;h=a.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:d}),d||(kp(e,"ng-animate-queued"),o.onStart(function(){xp(e,"ng-animate-queued")})),o.onDone(function(){var t=i.players.indexOf(o);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(o);r>=0&&n.splice(r,1)}}),this.players.push(o),c.push(o),o}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(l.params,u.params)){var f=[],p=a.matchStyles(l.value,l.params,f),v=a.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){_f(e,p),bf(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Ud(o).onDone(function(){return r._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){var r=new Set;n.forEach(function(n){var a=n.name;if(!r.has(a)){r.add(a);var o=t._triggers[a].fallbackTransition,s=i[a]||pp,l=new fp("void"),u=new mp(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:l,player:u,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else for(var o=e;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==hp||(i.afterFlush(function(){return n.clearElementCache(e)}),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){kp(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var a=i.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==i.triggerName){var n=Yd(a,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Gd(i.player,t.phase,n,t.callback)}}),r.markedForDestroy?t._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),gp=function(){function e(t,n,i){v(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return m(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new vp(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,i){if(yp(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(yp(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kp(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xp(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(yp(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return yp(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Ud(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=hp,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)kp(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var a=0;a<r.length;a++)r[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Ud(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new qf,a=[],o=new Map,s=[],l=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(function(e){h.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)h.add(t[i])});var d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=wp(f,this.collectedEnterElements),v=new Map,g=0;p.forEach(function(e,t){var n="ng-enter"+g++;v.set(t,n),e.forEach(function(e){return kp(e,n)})});for(var m=[],y=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],k=w.__ng_removed;k&&k.setForRemoval&&(m.push(w),y.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):b.add(w))}var x=new Map,S=wp(f,Array.from(y));S.forEach(function(e,t){var n="ng-leave"+g++;x.set(t,n),e.forEach(function(e){return kp(e,n)})}),e.push(function(){p.forEach(function(e,t){var n=v.get(t);e.forEach(function(e){return xp(e,n)})}),S.forEach(function(e,t){var n=x.get(t);e.forEach(function(e){return xp(e,n)})}),m.forEach(function(e){n.processLeaveNode(e)})});for(var C=[],E=[],R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(function(e){var t=e.player,i=e.element;if(C.push(t),n.collectedEnterElements.length){var o=i.__ng_removed;if(o&&o.setForMove)return void t.destroy()}var h=!d||!n.driver.containsElement(d,i),f=x.get(i),p=v.get(i),g=n._buildInstruction(e,r,p,f,h);if(g.errors&&g.errors.length)E.push(g);else{if(h)return t.onStart(function(){return _f(i,g.fromStyles)}),t.onDestroy(function(){return bf(i,g.toStyles)}),void a.push(t);if(e.isFallbackTransition)return t.onStart(function(){return _f(i,g.fromStyles)}),t.onDestroy(function(){return bf(i,g.toStyles)}),void a.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(i,g.timelines),s.push({instruction:g,player:t,element:i}),g.queriedElements.forEach(function(e){return Zd(l,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=u.get(t);i||u.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=c.get(t);i||c.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}});if(E.length){var A=[];E.forEach(function(e){A.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return A.push("- ".concat(e,"\n"))})}),C.forEach(function(e){return e.destroy()}),this.reportError(A)}var T=new Map,I=new Map;s.forEach(function(e){var t=e.element;r.has(t)&&(I.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),a.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Zd(T,t,[]).push(e),e.destroy()})});var D=m.filter(function(e){return Ep(e,u,c)}),O=new Map;_p(O,this.driver,b,c,"*").forEach(function(e){Ep(e,u,c)&&D.push(e)});var P=new Map;p.forEach(function(e,t){_p(P,n.driver,new Set(e),u,"!")}),D.forEach(function(e){var t=O.get(e),n=P.get(e);O.set(e,Object.assign(Object.assign({},t),n))});var M=[],L=[],F={};s.forEach(function(e){var t=e.element,i=e.player,s=e.instruction;if(r.has(t)){if(h.has(t))return i.onDestroy(function(){return bf(t,s.toStyles)}),i.disabled=!0,i.overrideTotalTime(s.totalTime),void a.push(i);var l=F;if(I.size>1){for(var u=t,c=[];u=u.parentNode;){var d=I.get(u);if(d){l=d;break}c.push(u)}c.forEach(function(e){return I.set(e,l)})}var f=n._buildAnimation(i.namespaceId,s,T,o,P,O);if(i.setRealPlayer(f),l===F)M.push(i);else{var p=n.playersByElement.get(l);p&&p.length&&(i.parentPlayer=Ud(p)),a.push(i)}}else _f(t,s.fromStyles),i.onDestroy(function(){return bf(t,s.toStyles)}),L.push(i),h.has(t)&&a.push(i)}),L.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=Ud(t);e.setRealPlayer(n)}}),a.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var N=0;N<m.length;N++){var z=m[N],V=z.__ng_removed;if(xp(z,"ng-leave"),!V||!V.hasAnimation){var j=[];if(l.size){var B=l.get(z);B&&B.length&&j.push.apply(j,i(B));for(var H=this.driver.query(z,".ng-animating",!0),q=0;q<H.length;q++){var U=l.get(H[q]);U&&U.length&&j.push.apply(j,i(U))}}var W=j.filter(function(e){return!e.destroyed});W.length?Sp(this,z,W):this.processLeaveNode(z)}}return m.length=0,M.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),M}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var l=!r||"void"==r;s.forEach(function(e){e.queued||(l||e.triggerName==i)&&a.push(e)})}}return(n||i)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,l=d(t.timelines);try{var u=function(){var e=i.value.element,l=e!==a,u=Zd(n,e,[]);r._getPreviousPlayers(e,l,o,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)})};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}_f(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,a){var o=this,s=t.triggerName,l=t.element,u=[],c=new Set,h=new Set,d=t.timelines.map(function(t){var d=t.element;c.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new Bd(t.duration,t.delay);var p,v,g=d!==l,m=(p=(n.get(d)||cp).map(function(e){return e.getRealPlayer()}),v=[],Cp(p,v),v).filter(function(e){return!!e.element&&e.element===d}),y=r.get(d),b=a.get(d),_=Wd(0,o._normalizer,0,t.keyframes,y,b),w=o._buildPlayer(t,_,m);if(t.subTimeline&&i&&h.add(d),g){var k=new mp(e,s,d);k.setRealPlayer(w),u.push(k)}return w});u.forEach(function(e){Zd(o.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&delete e[t]}return i}(o.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return kp(e,"ng-animating")});var f=Ud(d);return f.onDestroy(function(){c.forEach(function(e){return xp(e,"ng-animating")}),bf(l,t.toStyles)}),h.forEach(function(e){Zd(i,e,[]).push(f)}),f}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Bd(e.duration,e.delay)}}]),e}(),mp=function(){function e(t,n,i){v(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Bd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return m(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return Gd(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Zd(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function yp(e){return e&&1===e.nodeType}function bp(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function _p(e,t,n,i,r){var a=[];n.forEach(function(e){return a.push(bp(e))});var o=[];i.forEach(function(n,i){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=dp,o.push(i))}),e.set(i,a)});var s=0;return n.forEach(function(e){return bp(e,a[s++])}),o}function wp(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var i=new Set(t),r=new Map;function a(e){if(!e)return 1;var t=r.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:i.has(o)?1:a(o),r.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}function kp(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function xp(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Sp(e,t,n){Ud(n).onDone(function(){return e.processLeaveNode(t)})}function Cp(e,t){for(var n=0;n<e.length;n++){var i=e[n];i instanceof Hd?Cp(i.players,t):t.push(i)}}function Ep(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach(function(e){return r.add(e)}):t.set(e,i),n.delete(e),!0}var Rp=function(){function e(t,n,i){var r=this;v(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new gp(t,n,i),this._timelineEngine=new up(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return m(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var a=e+"-"+i,o=this._triggerCache[a];if(!o){var s=[],l=Ff(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new op(e,t)}(i,l),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,i,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,i,r){if("@"==i.charAt(0)){var a=n(Kd(i),2),o=a[0],s=a[1];this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}},{key:"listen",value:function(e,t,i,r,a){if("@"==i.charAt(0)){var o=n(Kd(i),2),s=o[0],l=o[1];return this._timelineEngine.listen(s,t,l,a)}return this._transitionEngine.listen(e,t,i,r,a)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Ap(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=Ip(t[0]),t.length>1&&(i=Ip(t[t.length-1]))):t&&(n=Ip(t)),n||i?new Tp(e,n,i):null}var Tp=function(){var e=function(){function e(t,n,i){v(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return m(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&bf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(bf(this._element,this._initialStyles),this._endStyles&&(bf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(_f(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_f(this._element,this._endStyles),this._endStyles=null),bf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Ip(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];Dp(r)&&((t=t||{})[r]=e[r])}return t}function Dp(e){return"display"===e||"position"===e}var Op=function(){function e(t,n,i,r,a,o,s){var l=this;v(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return m(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=zp(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Np(e,"",t),Fp(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Pp(this._element,this._name,"paused")}},{key:"resume",value:function(){Pp(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Mp(this._element,this._name);this._position=e*this._duration,Np(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Fp(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=zp(e,"").split(","),(i=Lp(n,t))>=0&&(n.splice(i,1),Np(e,"",n.join(","))))}}]),e}();function Pp(e,t,n){Np(e,"PlayState",n,Mp(e,t))}function Mp(e,t){var n=zp(e,"");return n.indexOf(",")>0?Lp(n.split(","),t):Lp([n],t)}function Lp(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Fp(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Np(e,t,n,i){var r="animation"+t;if(null!=i){var a=e.style[r];if(a.length){var o=a.split(",");o[i]=n,n=o.join(",")}}e.style[r]=n}function zp(e,t){return e.style["animation"+t]||""}var Vp=function(){function e(t,n,i,r,a,o,s,l){v(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=a,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+a,this._buildStyler()}return m(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Op(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:Df(e.element,i))})}this.currentSnapshot=t}}]),e}(),jp=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=lf(i),r}return m(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),r(h(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),r(h(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,r(h(n.prototype),"destroy",this).call(this))}}]),n}(Bd),Bp=function(){function e(){v(this,e),this._count=0,this._head=document.querySelector("head")}return m(e,[{key:"validateStyleProperty",value:function(e){return rf(e)}},{key:"matchesElement",value:function(e,t){return af(e,t)}},{key:"containsElement",value:function(e,t){return of(e,t)}},{key:"query",value:function(e,t,n){return sf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return lf(e)});var i="@keyframes ".concat(t," {\n"),r="";n.forEach(function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var a=document.createElement("style");return a.textContent=i,a}},{key:"animate",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof Vp}),s={};Af(n,i)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Tf(e,t,s));if(0==n)return new jp(e,l);var u="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(c);var h=Ap(e,t),d=new Vp(e,t,u,n,i,r,l,h);return d.onDestroy(function(){var e;(e=c).parentNode.removeChild(e)}),d}}]),e}(),Hp=function(){function e(t,n,i,r){v(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Df(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),qp=function(){function e(){v(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Up().toString()),this._cssKeyframesDriver=new Bp}return m(e,[{key:"validateStyleProperty",value:function(e){return rf(e)}},{key:"matchesElement",value:function(e,t){return af(e,t)}},{key:"containsElement",value:function(e,t){return of(e,t)}},{key:"query",value:function(e,t,n){return sf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,a);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=a.filter(function(e){return e instanceof Hp});Af(n,i)&&u.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return l[e]=t[e]})});var c=Ap(e,t=Tf(e,t=t.map(function(e){return gf(e,!1)}),l));return new Hp(e,t,s,c)}}]),e}();function Up(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Wp,Gp=((Wp=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(i.body,{id:"0",encapsulation:qe.None,styles:[],data:{animation:[]}}),r}return m(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Fd(e):e;return Zp(this._renderer,null,t,"register",[n]),new $p(t,this._renderer)}}]),n}(Pd)).\u0275fac=function(e){return new(e||Wp)(Ei(dl),Ei(Bc))},Wp.\u0275prov=Ae({token:Wp,factory:Wp.\u0275fac}),Wp),$p=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return m(n,[{key:"create",value:function(e,t){return new Yp(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){v(this,e)}}()),Yp=function(){function e(t,n,i,r){v(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return m(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Zp(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function Zp(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var Kp,Xp,Qp,Jp=((Kp=function(){function e(t,n,i){v(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return m(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new ev("",i,this.engine),this._rendererCache.set(i,r)),r}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach(function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(a,o,e,i.name,i)}),new tv(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,i){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(i)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=n(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Kp)(Ei(dl),Ei(Rp),Ei(sc))},Kp.\u0275prov=Ae({token:Kp,factory:Kp.\u0275fac}),Kp),ev=function(){function e(t,n,i){v(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return m(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),tv=function(e){a(i,e);var t=s(i);function i(e,n,r,a){var o;return v(this,i),(o=t.call(this,n,r,a)).factory=e,o.namespaceId=n,o}return m(i,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,i){var r,a,o=this;if("@"==t.charAt(0)){var s,l=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(a=(r=u).indexOf("."),u=(s=n([r.substring(0,a),r.substr(a+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,l,u,c,function(e){o.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}]),i}(ev),nv=((Xp=function(e){a(n,e);var t=s(n);function n(e,i,r){return v(this,n),t.call(this,e.body,i,r)}return n}(Rp)).\u0275fac=function(e){return new(e||Xp)(Ei(Bc),Ei(hf),Ei(Jf))},Xp.\u0275prov=Ae({token:Xp,factory:Xp.\u0275fac}),Xp),iv=new ui("AnimationModuleType"),rv=[{provide:hf,useFactory:function(){return"function"==typeof Up()?new qp:new Bp}},{provide:iv,useValue:"BrowserAnimations"},{provide:Pd,useClass:Gp},{provide:Jf,useFactory:function(){return new ep}},{provide:Rp,useClass:nv},{provide:dl,useFactory:function(e,t,n){return new Jp(e,t,n)},deps:[yd,Rp,sc]}],av=((Qp=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Qp)},Qp.\u0275mod=ct({type:Qp}),Qp.\u0275inj=Te({providers:rv,imports:[Od]}),Qp);function ov(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return B(i)?(t.pop(),K(t,i)):ae(t)}function sv(e,t){return te(e,t,1)}function lv(e,t){return function(n){return n.lift(new uv(e,t))}}var uv=function(){function e(t,n){v(this,e),this.predicate=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new cv(e,this.predicate,this.thisArg))}}]),e}(),cv=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.count=0,a}return m(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(A),hv=function e(){v(this,e)},dv=function e(){v(this,e)},fv=function(){function e(t){var n=this;v(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(a):n.headers.set(r,[a])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))})}:this.headers=new Map}return m(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,i(n)),this.headers.set(t,r);break;case"d":var a=e.value;if(a){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===a.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),pv=function(){function e(){v(this,e)}return m(e,[{key:"encodeKey",value:function(e){return vv(e)}},{key:"encodeValue",value:function(e){return vv(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function vv(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var gv=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,e),this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new pv,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),a=n(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=a[0],s=a[1],l=i.get(o)||[];l.push(s),i.set(o,l)}),i}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(function(e){var n=i.fromObject[e];t.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return m(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var i=e[n];Array.isArray(i)?i.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function mv(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function yv(e){return"undefined"!=typeof Blob&&e instanceof Blob}function bv(e){return"undefined"!=typeof FormData&&e instanceof FormData}var _v=function(){function e(t,n,i,r){var a;if(v(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new fv),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new gv,this.urlWithParams=n}return m(e,[{key:"serializeBody",value:function(){return null===this.body?null:mv(this.body)||yv(this.body)||bv(this.body)||"string"==typeof this.body?this.body:this.body instanceof gv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||bv(this.body)?null:yv(this.body)?this.body.type||null:mv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},l)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,i,a,{params:u,headers:l,reportProgress:s,responseType:r,withCredentials:o})}}]),e}(),wv=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),kv=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";v(this,e),this.headers=t.headers||new fv,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},xv=function(e){a(n,e);var t=s(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(e=t.call(this,i)).type=wv.ResponseHeader,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(kv),Sv=function(e){a(n,e);var t=s(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(e=t.call(this,i)).type=wv.Response,e.body=void 0!==i.body?i.body:null,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(kv),Cv=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(kv);function Ev(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Rv,Av,Tv,Iv,Dv,Ov,Pv,Mv,Lv,Fv=((Rv=function(){function e(t){v(this,e),this.handler=t}return m(e,[{key:"request",value:function(e,t){var n,i,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof _v?n=e:(i=o.headers instanceof fv?o.headers:new fv(o.headers),o.params&&(r=o.params instanceof gv?o.params:new gv({fromObject:o.params})),n=new _v(e,t,void 0!==o.body?o.body:null,{headers:i,params:r,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials}));var s=ov(n).pipe(sv(function(e){return a.handler.handle(e)}));if(e instanceof _v||"events"===o.observe)return s;var l=s.pipe(lv(function(e){return e instanceof Sv}));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(H(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe(H(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe(H(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe(H(function(e){return e.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new gv).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Ev(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Ev(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Ev(n,t))}}]),e}()).\u0275fac=function(e){return new(e||Rv)(Ei(hv))},Rv.\u0275prov=Ae({token:Rv,factory:Rv.\u0275fac}),Rv),Nv=function(){function e(t,n){v(this,e),this.next=t,this.interceptor=n}return m(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),zv=new ui("HTTP_INTERCEPTORS"),Vv=((Av=function(){function e(){v(this,e)}return m(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Av)},Av.\u0275prov=Ae({token:Av,factory:Av.\u0275fac}),Av),jv=/^\)\]\}',?\n/,Bv=function e(){v(this,e)},Hv=((Iv=function(){function e(){v(this,e)}return m(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||Iv)},Iv.\u0275prov=Ae({token:Iv,factory:Iv.\u0275fac}),Iv),qv=((Tv=function(){function e(t){v(this,e),this.xhrFactory=t}return m(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new P(function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach(function(e,t){return i.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var a=e.responseType.toLowerCase();i.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,l=function(){if(null!==s)return s;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new fv(i.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new xv({headers:r,status:t,statusText:n,url:a})},u=function(){var t=l(),r=t.headers,a=t.status,o=t.statusText,s=t.url,u=null;204!==a&&(u=void 0===i.response?i.responseText:i.response),0===a&&(a=u?200:0);var c=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(jv,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new Sv({body:u,headers:r,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new Cv({error:u,headers:r,status:a,statusText:o,url:s||void 0}))},c=function(e){var t=l().url,r=new Cv({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},h=!1,d=function(t){h||(n.next(l()),h=!0);var r={type:wv.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(e){var t={type:wv.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),e.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),n.next({type:wv.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),e.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),e}()).\u0275fac=function(e){return new(e||Tv)(Ei(Bv))},Tv.\u0275prov=Ae({token:Tv,factory:Tv.\u0275fac}),Tv),Uv=new ui("XSRF_COOKIE_NAME"),Wv=new ui("XSRF_HEADER_NAME"),Gv=function e(){v(this,e)},$v=((Lv=function(){function e(t,n,i){v(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return m(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ph(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||Lv)(Ei(Bc),Ei(Gu),Ei(Uv))},Lv.\u0275prov=Ae({token:Lv,factory:Lv.\u0275fac}),Lv),Yv=((Mv=function(){function e(t,n){v(this,e),this.tokenService=t,this.headerName=n}return m(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Mv)(Ei(Gv),Ei(Wv))},Mv.\u0275prov=Ae({token:Mv,factory:Mv.\u0275fac}),Mv),Zv=((Pv=function(){function e(t,n){v(this,e),this.backend=t,this.injector=n,this.chain=null}return m(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(zv,[]);this.chain=t.reduceRight(function(e,t){return new Nv(e,t)},this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Pv)(Ei(dv),Ei(Ao))},Pv.\u0275prov=Ae({token:Pv,factory:Pv.\u0275fac}),Pv),Kv=((Ov=function(){function e(){v(this,e)}return m(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Yv,useClass:Vv}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Uv,useValue:t.cookieName}:[],t.headerName?{provide:Wv,useValue:t.headerName}:[]]}}}]),e}()).\u0275fac=function(e){return new(e||Ov)},Ov.\u0275mod=ct({type:Ov}),Ov.\u0275inj=Te({providers:[Yv,{provide:zv,useExisting:Yv,multi:!0},{provide:Gv,useClass:$v},{provide:Uv,useValue:"XSRF-TOKEN"},{provide:Wv,useValue:"X-XSRF-TOKEN"}]}),Ov),Xv=((Dv=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Dv)},Dv.\u0275mod=ct({type:Dv}),Dv.\u0275inj=Te({providers:[Fv,{provide:hv,useClass:Zv},qv,{provide:dv,useExisting:qv},Hv,{provide:Bv,useExisting:Hv}],imports:[[Kv.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Dv);function Qv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(w(r))return Jv(r,null);if(k(r)&&Object.getPrototypeOf(r)===Object.prototype){var a=Object.keys(r);return Jv(a.map(function(e){return r[e]}),a)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Jv(t=1===t.length&&w(t[0])?t[0]:t,null).pipe(H(function(e){return o.apply(void 0,i(e))}))}return Jv(t,null)}function Jv(e,t){return new P(function(n){var i=e.length;if(0!==i)for(var r=new Array(i),a=0,o=0,s=function(s){var l=X(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,o++),r[s]=e},error:function(e){return n.error(e)},complete:function(){++a!==i&&u||(o===i&&n.next(t?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):r),n.complete())}}))},l=0;l<i;l++)s(l);else n.complete()})}var eg,tg,ng=function e(){v(this,e)},ig=new ui("NgValueAccessor"),rg={provide:ig,useExisting:we(function(){return ag}),multi:!0},ag=((eg=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r.onChange=function(e){},r.onTouched=function(){},r}return m(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(ng)).\u0275fac=function(e){return new(e||eg)($o(fl),$o(cl))},eg.\u0275dir=dt({type:eg,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&os("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[il([rg]),Io]}),eg),og={provide:ig,useExisting:we(function(){return lg}),multi:!0},sg=new ui("CompositionEventMode"),lg=((tg=function(){function e(t,n,i){var r;v(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Vc()?Vc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return m(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||tg)($o(fl),$o(cl),$o(sg,8))},tg.\u0275dir=dt({type:tg,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&os("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[il([og])]}),tg);function ug(e){return null==e||0===e.length}function cg(e){return null!=e&&"number"==typeof e.length}var hg=new ui("NgValidators"),dg=new ui("NgAsyncValidators"),fg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function pg(e){return ug(e.value)?{required:!0}:null}function vg(e){return null}function gg(e){return null!=e}function mg(e){var t=is(e)?X(e):e;return as(t),t}function yg(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function bg(e,t){return t.map(function(t){return t(e)})}function _g(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function wg(e){if(!e)return null;var t=e.filter(gg);return 0==t.length?null:function(e){return yg(bg(e,t))}}function kg(e){return null!=e?wg(_g(e)):null}function xg(e){if(!e)return null;var t=e.filter(gg);return 0==t.length?null:function(e){return Qv(bg(e,t).map(mg)).pipe(H(yg))}}function Sg(e){return null!=e?xg(_g(e)):null}function Cg(e,t){return null===e?[t]:Array.isArray(e)?[].concat(i(e),[t]):[e,t]}function Eg(e){return e._rawValidators}function Rg(e){return e._rawAsyncValidators}var Ag,Tg,Ig,Dg,Og=((Tg=function(){function e(){v(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return m(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=kg(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sg(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||Tg)},Tg.\u0275dir=dt({type:Tg}),Tg),Pg=((Ag=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Og)).\u0275fac=function(e){return Mg(e||Ag)},Ag.\u0275dir=dt({type:Ag,features:[Io]}),Ag),Mg=ai(Pg),Lg=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(Og),Fg=function(){function e(t){v(this,e),this._cd=t}return m(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),Ng=((Dg=function(e){a(n,e);var t=s(n);function n(e){return v(this,n),t.call(this,e)}return n}(Fg)).\u0275fac=function(e){return new(e||Dg)($o(Lg,2))},Dg.\u0275dir=dt({type:Dg,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ss("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Io]}),Dg),zg=((Ig=function(e){a(n,e);var t=s(n);function n(e){return v(this,n),t.call(this,e)}return n}(Fg)).\u0275fac=function(e){return new(e||Ig)($o(Pg,10))},Ig.\u0275dir=dt({type:Ig,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ss("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Io]}),Ig);function Vg(e,t){return[].concat(i(t.path),[e])}function jg(e,t){qg(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Wg(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Wg(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function Bg(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Ug(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function Hg(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qg(e,t,n){var i=Eg(e);null!==t.validator?e.setValidators(Cg(i,t.validator)):"function"==typeof i&&e.setValidators([i]);var r=Rg(e);if(null!==t.asyncValidator?e.setAsyncValidators(Cg(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]),n){var a=function(){return e.updateValueAndValidity()};Hg(t._rawValidators,a),Hg(t._rawAsyncValidators,a)}}function Ug(e,t,n){var i=!1;if(null!==e){if(null!==t.validator){var r=Eg(e);if(Array.isArray(r)&&r.length>0){var a=r.filter(function(e){return e!==t.validator});a.length!==r.length&&(i=!0,e.setValidators(a))}}if(null!==t.asyncValidator){var o=Rg(e);if(Array.isArray(o)&&o.length>0){var s=o.filter(function(e){return e!==t.asyncValidator});s.length!==o.length&&(i=!0,e.setAsyncValidators(s))}}}if(n){var l=function(){};Hg(t._rawValidators,l),Hg(t._rawAsyncValidators,l)}return i}function Wg(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Gg(e,t){qg(e,t,!1)}function $g(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Yg(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Zg(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===lg?n=e:Object.getPrototypeOf(e.constructor)===ng?i=e:r=e}),r||i||n||null):null;var n,i,r}function Kg(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Xg(e){return(tm(e)?e.validators:e)||null}function Qg(e){return Array.isArray(e)?kg(e):e||null}function Jg(e,t){return(tm(t)?t.asyncValidators:e)||null}function em(e){return Array.isArray(e)?Sg(e):e||null}function tm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var nm,im,rm,am,om,sm,lm,um=function(){function e(t,n){v(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Qg(this._rawValidators),this._composedAsyncValidatorFn=em(this._rawAsyncValidators)}return m(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Qg(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=em(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=mg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach(function(e){i=i instanceof hm?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof dm&&i.at(e)||null}),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new _u,this.statusChanges=new _u}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){tm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),cm=function(e){a(n,e);var t=s(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return v(this,n),(e=t.call(this,Xg(r),Jg(a,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!a}),e}return m(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Kg(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Kg(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(um),hm=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,Xg(i),Jg(r,i))).controls=e,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),a}return m(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof cm?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var i=t.controls[n];i&&e(i,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var i=n[t],r=this.controls[i];if(this.contains(i)&&e(r))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,i){n=t(n,e,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(um),dm=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,Xg(i),Jg(r,i))).controls=e,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),a}return m(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof cm?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=d(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(um),fm={provide:Pg,useExisting:we(function(){return vm})},pm=Promise.resolve(null),vm=((nm=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new _u,r.form=new hm({},kg(e),Sg(i)),r}return m(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;pm.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),jg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;pm.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Kg(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;pm.then(function(){var n=t._findContainer(e.path),i=new hm({});Gg(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;pm.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;pm.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Yg(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(Pg)).\u0275fac=function(e){return new(e||nm)($o(hg,10),$o(dg,10))},nm.\u0275dir=dt({type:nm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&os("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[il([fm]),Io]}),nm),gm={provide:Lg,useExisting:we(function(){return ym})},mm=Promise.resolve(null),ym=((rm=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this)).control=new cm,o._registered=!1,o.update=new _u,o._parent=e,o._setValidators(i),o._setAsyncValidators(r),o.valueAccessor=Zg(0,a),o}return m(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),$g(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Vg(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){jg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;mm.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;mm.then(function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()})}}]),n}(Lg)).\u0275fac=function(e){return new(e||rm)($o(Pg,9),$o(hg,10),$o(dg,10),$o(ig,10))},rm.\u0275dir=dt({type:rm,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[il([gm]),Io,Ct]}),rm),bm=((im=function e(){v(this,e)}).\u0275fac=function(e){return new(e||im)},im.\u0275dir=dt({type:im,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),im),_m={provide:ig,useExisting:we(function(){return wm}),multi:!0},wm=((om=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r.onChange=function(e){},r.onTouched=function(){},r}return m(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(ng)).\u0275fac=function(e){return new(e||om)($o(fl),$o(cl))},om.\u0275dir=dt({type:om,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&os("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[il([_m]),Io]}),om),km=((am=function e(){v(this,e)}).\u0275fac=function(e){return new(e||am)},am.\u0275mod=ct({type:am}),am.\u0275inj=Te({}),am),xm=new ui("NgModelWithFormControlWarning"),Sm={provide:Pg,useExisting:we(function(){return Cm})},Cm=((sm=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this)).validators=e,r.asyncValidators=i,r.submitted=!1,r._onCollectionChange=function(){return r._updateDomValue()},r.directives=[],r.form=null,r.ngSubmit=new _u,r._setValidators(e),r._setAsyncValidators(i),r}return m(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Ug(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return jg(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Bg(e.control||null,e,!1),Kg(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Yg(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,i=e.form.get(t.path);n!==i&&(Bg(n||null,t),i instanceof cm&&(jg(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);Gg(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return Ug(e,t,!1)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){qg(this.form,this,!1),this._oldForm&&Ug(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Pg)).\u0275fac=function(e){return new(e||sm)($o(hg,10),$o(dg,10))},sm.\u0275dir=dt({type:sm,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&os("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[il([Sm]),Io,Ct]}),sm),Em={provide:Lg,useExisting:we(function(){return Rm})},Rm=((lm=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o){var s;return v(this,n),(s=t.call(this))._ngModelWarningConfig=o,s._added=!1,s.update=new _u,s._ngModelWarningSent=!1,s._parent=e,s._setValidators(i),s._setAsyncValidators(r),s.valueAccessor=Zg(0,a),s}return m(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),$g(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Vg(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Lg)).\u0275fac=function(e){return new(e||lm)($o(Pg,13),$o(hg,10),$o(dg,10),$o(ig,10),$o(xm,8))},lm.\u0275dir=dt({type:lm,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[il([Em]),Io,Ct]}),lm._ngModelWarningSentOnce=!1,lm),Am={provide:ig,useExisting:we(function(){return Om}),multi:!0};function Tm(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Im,Dm,Om=((Dm=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r._optionMap=new Map,r._idCounter=0,r.onChange=function(e){},r.onTouched=function(){},r._compareWith=Object.is,r}return m(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Tm(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),n}(ng)).\u0275fac=function(e){return new(e||Dm)($o(fl),$o(cl))},Dm.\u0275dir=dt({type:Dm,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&os("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[il([Am]),Io]}),Dm),Pm=((Im=function(){function e(t,n,i){v(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return m(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Tm(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Im)($o(cl),$o(fl),$o(Om,9))},Im.\u0275dir=dt({type:Im,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Im),Mm={provide:ig,useExisting:we(function(){return Hm}),multi:!0};function Lm(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Fm,Nm,zm,Vm,jm,Bm,Hm=((Nm=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this))._renderer=e,r._elementRef=i,r._optionMap=new Map,r._idCounter=0,r.onChange=function(e){},r.onTouched=function(){},r._compareWith=Object.is,r}return m(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,a=0;a<r.length;a++){var o=r.item(a),s=t._getOptionValue(o.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),n}(ng)).\u0275fac=function(e){return new(e||Nm)($o(fl),$o(cl))},Nm.\u0275dir=dt({type:Nm,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&os("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[il([Mm]),Io]}),Nm),qm=((Fm=function(){function e(t,n,i){v(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return m(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Lm(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Lm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Fm)($o(cl),$o(fl),$o(Hm,9))},Fm.\u0275dir=dt({type:Fm,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Fm),Um={provide:hg,useExisting:we(function(){return Wm}),multi:!0},Wm=((Bm=function(){function e(){v(this,e),this._required=!1}return m(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!="".concat(e),this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?pg(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}()).\u0275fac=function(e){return new(e||Bm)},Bm.\u0275dir=dt({type:Bm,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&qo("required",t.required?"":null)},inputs:{required:"required"},features:[il([Um])]}),Bm),Gm=((jm=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jm)},jm.\u0275mod=ct({type:jm}),jm.\u0275inj=Te({imports:[[km]]}),jm),$m=((Vm=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Vm)},Vm.\u0275mod=ct({type:Vm}),Vm.\u0275inj=Te({imports:[Gm]}),Vm),Ym=((zm=function(){function e(){v(this,e)}return m(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:xm,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275fac=function(e){return new(e||zm)},zm.\u0275mod=ct({type:zm}),zm.\u0275inj=Te({imports:[Gm]}),zm),Zm=new P(function(e){return e.complete()});function Km(e){return e?function(e){return new P(function(t){return e.schedule(function(){return t.complete()})})}(e):Zm}function Xm(e,t,n,r){return p(n)&&(r=n,n=void 0),r?Xm(e,t,n).pipe(H(function(e){return w(e)?r.apply(void 0,i(e)):r(e)})):new P(function(i){Qm(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function Qm(e,t,n,i,r){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var o=e;e.addEventListener(t,n,r),a=function(){return o.removeEventListener(t,n,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),a=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var l=e;e.addListener(t,n),a=function(){return l.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,c=e.length;u<c;u++)Qm(e[u],t,n,i,r)}i.add(a)}var Jm=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return m(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,i=!1;try{this.work(e)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){a(n,e);var t=s(n);function n(e,i){return v(this,n),t.call(this)}return m(n,[{key:"schedule",value:function(e){return this}}]),n}(C)),ey=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;v(this,e),this.SchedulerAction=t,this.now=n}return m(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),ty=function(e){a(n,e);var t=s(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ey.now;return v(this,n),(i=t.call(this,e,function(){return n.delegate&&n.delegate!==u(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return m(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):r(h(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(ey),ny=new ty(Jm);function iy(e){return!w(e)&&e-parseFloat(e)+1>=0}function ry(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return iy(t)?i=Number(t)<1?1:Number(t):B(t)&&(n=t),B(n)||(n=ny),new P(function(t){var r=iy(e)?e:+e-n.now();return n.schedule(ay,r,{index:0,period:i,subscriber:t})})}function ay(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}var oy=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(A),sy=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this)).parent=e,a.outerValue=i,a.outerIndex=r,a.index=0,a}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(A);function ly(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new sy(e,n,i);if(!r.closed)return t instanceof P?t.subscribe(r):Z(t)(r)}function uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!w(t[0]))return t[0];t=t[0]}return ae(t,void 0).lift(new cy)}var cy=function(){function e(){v(this,e)}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new hy(e))}}]),e}(),hy=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).hasFirst=!1,i.observables=[],i.subscriptions=[],i}return m(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=ly(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)}}]),n}(oy),dy=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this))._value=e,i}return m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=r(h(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value}},{key:"next",value:function(e){r(h(n.prototype),"next",this).call(this,this._value=e)}}]),n}(V),fy={};function py(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r;return B(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&w(t[0])&&(t=t[0]),ae(t,r).lift(new vy(i))}var vy=function(){function e(t){v(this,e),this.resultSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new gy(e,this.resultSelector))}}]),e}(),gy=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return m(n,[{key:"_next",value:function(e){this.values.push(fy),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(ly(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var i=this.values,r=this.toRespond?i[n]===fy?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(oy);function my(){}function yy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),ae(t,void 0).lift(new by(i))}var by=function(){function e(t){v(this,e),this.resultSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new _y(e,this.resultSelector))}}]),e}(),_y=function(e){a(n,e);var t=s(n);function n(e,i){var r;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return v(this,n),(r=t.call(this,e)).resultSelector=i,r.iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:void 0,r}return m(n,[{key:"_next",value:function(e){var t=this.iterators;w(e)?t.push(new ky(e)):t.push("function"==typeof e[G]?new wy(e[G]()):new xy(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var r=e[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var a=!1,o=[],s=0;s<t;s++){var l=e[s],u=l.next();if(l.hasCompleted()&&(a=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),a&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(A),wy=function(){function e(t){v(this,e),this.iterator=t,this.nextResult=t.next()}return m(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return Boolean(e&&e.done)}}]),e}(),ky=function(){function e(t){v(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return m(e,[{key:G,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),xy=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).parent=i,a.observable=r,a.stillUnsubscribed=!0,a.buffer=[],a.isComplete=!1,a}return m(n,[{key:G,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e){this.buffer.push(e),this.parent.checkIterators()}},{key:"subscribe",value:function(){return ee(this.observable,new Q(this))}}]),n}(J);function Sy(){return re(1)(ov.apply(void 0,arguments))}function Cy(e){return function(t){return t.lift(new Ey(e))}}var Ey=function(){function e(t){v(this,e),this.notifier=t}return m(e,[{key:"call",value:function(e,t){var n=new Ry(e),i=ee(this.notifier,new Q(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),Ry=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).seenValue=!1,i}return m(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(J),Ay=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ty(e){return function(t){return 0===e?Km():t.lift(new Iy(e))}}var Iy=function(){function e(t){if(v(this,e),this.total=t,this.total<0)throw new Ay}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Dy(e,this.total))}}]),e}(),Dy=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return m(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(A);function Oy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return B(i)?(t.pop(),function(e){return Sy(t,e,i)}):function(e){return Sy(t,e)}}function Py(e,t){return function(n){return n.lift(new My(e,t))}}var My=function(){function e(t,n){v(this,e),this.compare=t,this.keySelector=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Ly(e,this.compare,this.keySelector))}}]),e}(),Ly=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).keySelector=r,a.hasKey=!1,"function"==typeof i&&(a.compare=i),a}return m(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(A);function Fy(e,t){return"function"==typeof t?function(n){return n.pipe(Fy(function(n,i){return X(e(n,i)).pipe(H(function(e,r){return t(n,e,i,r)}))}))}:function(t){return t.lift(new Ny(e))}}var Ny=function(){function e(t){v(this,e),this.project=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new zy(e,this.project))}}]),e}(),zy=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return m(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new Q(this),i=this.destination;i.add(n),this.innerSubscription=ee(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||r(h(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&r(h(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(J);function Vy(e,t,n){return function(i){return i.lift(new jy(e,t,n))}}var jy=function(){function e(t,n,i){v(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new By(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),By=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e))._tapNext=my,o._tapError=my,o._tapComplete=my,o._tapError=r||my,o._tapComplete=a||my,p(i)?(o._context=u(o),o._tapNext=i):i&&(o._context=i,o._tapNext=i.next||my,o._tapError=i.error||my,o._tapComplete=i.complete||my),o}return m(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(A);function Hy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new qy(t,n))}}var qy=function(){function e(t,n){v(this,e),this.observables=t,this.project=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Uy(e,this.observables,this.project))}}]),e}(),Uy=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;v(this,n),(a=t.call(this,e)).observables=i,a.project=r,a.toRespond=[];var o=i.length;a.values=new Array(o);for(var s=0;s<o;s++)a.toRespond.push(s);for(var l=0;l<o;l++)a.add(ly(u(a),i[l],void 0,l));return a}return m(n,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(i(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(oy);function Wy(e,t){return new P(t?function(n){return t.schedule(Gy,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Gy(e){var t=e.error;e.subscriber.error(t)}var $y,Yy=(($y=function(){function e(t,n,i){v(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return m(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return ov(this.value);case"E":return Wy(this.error);case"C":return Km()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new $y("C"),$y.undefinedValueNotification=new $y("N",void 0),$y);function Zy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new Ky(i,n))}}var Ky=function(){function e(t,n){v(this,e),this.delay=t,this.scheduler=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Xy(e,this.delay,this.scheduler))}}]),e}(),Xy=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).delay=i,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return m(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Qy(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(Yy.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Yy.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(A),Qy=function e(t,n){v(this,e),this.time=t,this.notification=n},Jy=function(){function e(t){v(this,e),this.total=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new eb(e,this.total))}}]),e}(),eb=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return m(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(A),tb=["*"],nb=["dialog"];function ib(e){return null!=e}function rb(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var ab,ob,sb,lb,ub,cb,hb,db,fb=!0,pb=5,vb=((ab=function e(){v(this,e),this.animation=fb}).\u0275fac=function(e){return new(e||ab)},ab.\u0275prov=Ae({factory:function(){return new ab},token:ab,providedIn:"root"}),ab),gb=function(){},mb=pb,yb=new Map,bb=function(e,t,n,i){var r=i.context||{},a=yb.get(t);if(a)switch(i.runningTransition){case"continue":return Zm;case"stop":e.run(function(){return a.transition$.complete()}),r=Object.assign(a.context,r),yb.delete(t)}var o=n(t,i.animation,r)||gb;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return o()}),ov(void 0).pipe(function(e){return function(t){return new P(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var s=new V,l=new V,u=s.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Sy(e,ov.apply(void 0,t))}}(!0));yb.set(t,{transition$:s,complete:function(){l.next(),l.complete()},context:r});var c=function(e){var t=window.getComputedStyle(e),n=t.transitionDelay,i=t.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(i))}(t);return e.runOutsideAngular(function(){var n=Xm(t,"transitionend").pipe(Cy(u),lv(function(e){return e.target===t}));uy(ry(c+mb).pipe(Cy(u)),n,l).pipe(Cy(u)).subscribe(function(){yb.delete(t),e.run(function(){o(),s.next(),s.complete()})})}),s.asObservable()},_b=function(e,t,n){var i=n.direction,r=n.maxHeight,a=e.classList;function o(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(t)return r||(r=function(e){if("undefined"==typeof navigator)return"0px";var t=e.classList,n=t.contains("show");n||t.add("show"),e.style.height="";var i=e.getBoundingClientRect().height+"px";return n||t.remove("show"),i}(e),n.maxHeight=r,e.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),rb(e),a.add("collapsing")),e.style.height="show"===i?r:"0px",function(){o(),a.remove("collapsing"),e.style.height=""};o()},wb=((db=function e(){v(this,e)}).\u0275fac=function(e){return new(e||db)},db.\u0275mod=ct({type:db}),db.\u0275inj=Te({imports:[[Bh]]}),db),kb=((hb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hb)},hb.\u0275mod=ct({type:hb}),hb.\u0275inj=Te({imports:[[Bh]]}),hb),xb=((cb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||cb)},cb.\u0275mod=ct({type:cb}),cb.\u0275inj=Te({}),cb),Sb=((ub=function e(){v(this,e)}).\u0275fac=function(e){return new(e||ub)},ub.\u0275mod=ct({type:ub}),ub.\u0275inj=Te({imports:[[Bh]]}),ub),Cb=((lb=function(){function e(t){v(this,e),this._ngbConfig=t}return m(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||lb)(Ei(vb))},lb.\u0275prov=Ae({factory:function(){return new lb(Ei(vb))},token:lb,providedIn:"root"}),lb),Eb=((sb=function(){function e(t,n,i){v(this,e),this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new _u,this.shown=new _u,this.hidden=new _u,this.animation=n.animation}return m(e,[{key:"ngOnInit",value:function(){this._runTransition(this.collapsed,!1)}},{key:"ngOnChanges",value:function(e){e.collapsed.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.collapsed;this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}},{key:"_runTransition",value:function(e,t){return bb(this._zone,this._element.nativeElement,_b,{animation:t,runningTransition:"stop",context:{direction:e?"hide":"show"}})}},{key:"_runTransitionWithEvents",value:function(e,t){var n=this;this._runTransition(e,t).subscribe(function(){e?n.hidden.emit():n.shown.emit()})}}]),e}()).\u0275fac=function(e){return new(e||sb)($o(cl),$o(Cb),$o(sc))},sb.\u0275dir=dt({type:sb,selectors:[["","ngbCollapse",""]],inputs:{collapsed:["ngbCollapse","collapsed"],animation:"animation"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[Ct]}),sb),Rb=((ob=function e(){v(this,e)}).\u0275fac=function(e){return new(e||ob)},ob.\u0275mod=ct({type:ob}),ob.\u0275inj=Te({}),ob),Ab=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),Tb=function(e,t){return!!t&&t.some(function(t){return t.contains(e)})},Ib=function(e,t){return!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t)},Db="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),Ob=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pb(e){var t=Array.from(e.querySelectorAll(Ob)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}var Mb=/\s+/,Lb=new(function(){function e(){v(this,e)}return m(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var r=this.offsetParent(e);t=this.offset(e,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return t.top-=i.top,t.bottom-=i.top,t.left-=i.left,t.right-=i.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,a={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a}},{key:"positionElements",value:function(e,t,i,r){var a=n(i.split("-"),2),o=a[0],s=void 0===o?"top":o,l=a[1],u=void 0===l?"center":l,c=r?this.offset(e,!1):this.position(e,!1),h=this.getAllStyles(t),d=parseFloat(h.marginTop),f=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,m=0;switch(s){case"top":g=c.top-(t.offsetHeight+d+f);break;case"bottom":g=c.top+c.height;break;case"left":m=c.left-(t.offsetWidth+p+v);break;case"right":m=c.left+c.width}switch(u){case"top":g=c.top;break;case"bottom":g=c.top+c.height-t.offsetHeight;break;case"left":m=c.left;break;case"right":m=c.left+c.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?m=c.left+c.width/2-t.offsetWidth/2:g=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(m),"px, ").concat(Math.round(g),"px)");var y=t.getBoundingClientRect(),b=document.documentElement,_=window.innerHeight||b.clientHeight,w=window.innerWidth||b.clientWidth;return y.left>=0&&y.top>=0&&y.right<=w&&y.bottom<=_}}]),e}());new Date(1882,10,12),new Date(2174,10,25);var Fb,Nb,zb,Vb,jb,Bb,Hb,qb,Ub,Wb,Gb,$b,Yb,Zb,Kb,Xb,Qb,Jb,e_,t_,n_,i_,r_,a_,o_,s_,l_,u_,c_,h_=((Wb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Wb)},Wb.\u0275mod=ct({type:Wb}),Wb.\u0275inj=Te({imports:[[Bh,$m]]}),Wb),d_=((Ub=function e(){v(this,e),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275fac=function(e){return new(e||Ub)},Ub.\u0275prov=Ae({factory:function(){return new Ub},token:Ub,providedIn:"root"}),Ub),f_=((qb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||qb)},qb.\u0275dir=dt({type:qb,selectors:[["",8,"navbar"]]}),qb),p_=((Hb=function(){function e(t){v(this,e),this.elementRef=t,this._disabled=!1}return m(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=""===e||!0===e}}]),e}()).\u0275fac=function(e){return new(e||Hb)($o(cl))},Hb.\u0275dir=dt({type:Hb,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,t){2&e&&Ss("disabled",t.disabled)},inputs:{disabled:"disabled"}}),Hb),v_=((Bb=function e(t,n){v(this,e),this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=n.nativeElement}).\u0275fac=function(e){return new(e||Bb)($o(we(function(){return y_})),$o(cl))},Bb.\u0275dir=dt({type:Bb,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,n){var i;1&e&&Mu(n,p_,0),2&e&&Ou(i=Lu())&&(t.menuItems=i)},hostVars:5,hostBindings:function(e,t){1&e&&os("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Enter",function(e){return t.dropdown.onKeyDown(e)})("keydown.Space",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&(qo("x-placement",t.placement),Ss("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),Bb),g_=((jb=function e(t,n){v(this,e),this.dropdown=t,this.nativeElement=n.nativeElement}).\u0275fac=function(e){return new(e||jb)($o(we(function(){return y_})),$o(cl))},jb.\u0275dir=dt({type:jb,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&qo("aria-expanded",t.dropdown.isOpen())}}),jb),m_=((Vb=function(e){a(n,e);var t=s(n);function n(e,i){return v(this,n),t.call(this,e,i)}return n}(g_)).\u0275fac=function(e){return new(e||Vb)($o(we(function(){return y_})),$o(cl))},Vb.\u0275dir=dt({type:Vb,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&os("click",function(){return t.dropdown.toggle()})("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&qo("aria-expanded",t.dropdown.isOpen())},features:[il([{provide:g_,useExisting:we(function(){return Vb})}]),Io]}),Vb),y_=((zb=function(){function e(t,n,i,r,a,o,s){var l=this;v(this,e),this._changeDetector=t,this._document=i,this._ngZone=r,this._elementRef=a,this._renderer=o,this._closed$=new V,this._bodyContainer=null,this._open=!1,this.openChange=new _u,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=s?"static":"dynamic",this._zoneSubscription=r.onStable.subscribe(function(){l._positionMenu()})}return m(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._ngZone.onStable.pipe(Ty(1)).subscribe(function(){e._applyPlacementClasses(),e._open&&e._setCloseHandlers()})}},{key:"ngOnChanges",value:function(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){var t=e.dropdownClass,n=t.currentValue,i=t.previousValue;this._applyCustomDropdownClass(n,i)}}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}},{key:"_setCloseHandlers",value:function(){var e=this;!function(t,i,r,a,o,s,l,u){var c;r&&t.runOutsideAngular((c=function(){var a=Xm(i,"keydown").pipe(Cy(o),lv(function(e){return e.which===Ab.Escape}),Vy(function(e){return e.preventDefault()})),c=Xm(i,"mousedown").pipe(H(function(e){var t=e.target;return 2!==e.button&&!Tb(t,l)&&("inside"===r?Tb(t,s)&&Ib(t,u):"outside"===r?!Tb(t,s):Ib(t,u)||!Tb(t,s))}),Cy(o)),h=Xm(i,"mouseup").pipe(Hy(c),lv(function(e){var t=n(e,2);return t[0],t[1]}),Zy(0),Cy(o));uy([a.pipe(H(function(e){return 0})),h.pipe(H(function(e){return 1}))]).subscribe(function(n){return t.run(function(){return function(t){e.close(),0===t&&e._anchor.nativeElement.focus()}(n)})})},Db?function(){return setTimeout(function(){return c()},100)}:c))}(this._ngZone,this._document,this.autoClose,0,this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(e){var t=this,n=e.which,i=this._getMenuElements(),r=-1,a=null,o=this._isEventFromToggle(e);if(!o&&i.length&&i.forEach(function(n,i){n.contains(e.target)&&(a=n),n===t._document.activeElement&&(r=i)}),n!==Ab.Space&&n!==Ab.Enter){if(n!==Ab.Tab){if(o||a){if(this.open(),i.length){switch(n){case Ab.ArrowDown:r=Math.min(r+1,i.length-1);break;case Ab.ArrowUp:if(this._isDropup()&&-1===r){r=i.length-1;break}r=Math.max(r-1,0);break;case Ab.Home:r=0;break;case Ab.End:r=i.length-1}i[r].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var s=this._menu.nativeElement.querySelectorAll(Ob);e.shiftKey&&e.target===s[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):e.shiftKey||e.target!==s[s.length-1]||(this._anchor.nativeElement.focus(),this.close())}else Xm(e.target,"focusout").pipe(Ty(1)).subscribe(function(e){var n=e.relatedTarget;t._elementRef.nativeElement.contains(n)||t.close()})}}else!a||!0!==this.autoClose&&"inside"!==this.autoClose||Xm(a,"click").pipe(Ty(1)).subscribe(function(){return t.close()})}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(e){return this._anchor.nativeElement.contains(e.target)}},{key:"_getMenuElements",value:function(){var e=this._menu;return null==e?[]:e.menuItems.filter(function(e){return!e.disabled}).map(function(e){return e.elementRef.nativeElement})}},{key:"_positionMenu",value:function(){var e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function(e,t,i,r,a){var o=Array.isArray(i)?i:i.split(Mb),s=function(e){var t=n(e.split("-"),2);return t[0],t[1],[]},l=o.findIndex(function(e){return"auto"===e});l>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(e){null==o.find(function(t){return-1!==t.search("^"+e)})&&o.splice(l++,1,e)});var u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";var c,h=null,f=!1,p=d(o);try{for(p.s();!(c=p.n()).done;)if(s(h=c.value),Lb.positionElements(e,t,h,r)){f=!0;break}}catch(v){p.e(v)}finally{p.f()}return f||(s(h=o[0]),Lb.positionElements(e,t,h,r)),h}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}},{key:"_resetContainer",value:function(){var e=this._renderer;if(this._menu){var t=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,t),e.removeStyle(t,"position"),e.removeStyle(t,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===e){var t=this._renderer,n=this._menu.nativeElement,i=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(i,"position","absolute"),t.setStyle(n,"position","static"),t.setStyle(i,"z-index","1050"),t.appendChild(i,n),t.appendChild(this._document.body,i)}this._applyCustomDropdownClass(this.dropdownClass)}},{key:"_applyCustomDropdownClass",value:function(e,t){var n="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;n&&(t&&this._renderer.removeClass(n,t),e&&this._renderer.addClass(n,e))}},{key:"_applyPlacementClasses",value:function(e){var t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));var n=this._renderer,i=this._elementRef.nativeElement;n.removeClass(i,"dropup"),n.removeClass(i,"dropdown"),t.placement="static"===this.display?null:e;var r=-1!==e.search("^top")?"dropup":"dropdown";n.addClass(i,r);var a=this._bodyContainer;a&&(n.removeClass(a,"dropup"),n.removeClass(a,"dropdown"),n.addClass(a,r))}}}]),e}()).\u0275fac=function(e){return new(e||zb)($o(Fl),$o(d_),$o(Bc),$o(sc),$o(cl),$o(fl),$o(f_,8))},zb.\u0275dir=dt({type:zb,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,v_,1),Mu(n,g_,1)),2&e&&(Ou(i=Lu())&&(t._menu=i.first),Ou(i=Lu())&&(t._anchor=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&Ss("show",t.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Ct]}),zb),b_=((Nb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Nb)},Nb.\u0275mod=ct({type:Nb}),Nb.\u0275inj=Te({}),Nb),__=((Fb=function(){function e(t){v(this,e),this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}return m(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||Fb)(Ei(vb))},Fb.\u0275prov=Ae({factory:function(){return new Fb(Ei(vb))},token:Fb,providedIn:"root"}),Fb),w_=function e(t,n,i){v(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},k_=function(){},x_=(($b=function(){function e(t){v(this,e),this._document=t}return m(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):k_}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(i+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||$b)(Ei(Bc))},$b.\u0275prov=Ae({factory:function(){return new $b(Ei(Bc))},token:$b,providedIn:"root"}),$b),S_=((Gb=function(){function e(t,n){v(this,e),this._el=t,this._zone=n}return m(e,[{key:"ngOnInit",value:function(){var e=this;this._zone.onStable.asObservable().pipe(Ty(1)).subscribe(function(){bb(e._zone,e._el.nativeElement,function(e,t){t&&rb(e),e.classList.add("show")},{animation:e.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return bb(this._zone,this._el.nativeElement,function(e){return e.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),e}()).\u0275fac=function(e){return new(e||Gb)($o(cl),$o(sc))},Gb.\u0275cmp=ot({type:Gb,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(Cs("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),Ss("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Gb),C_=function(){function e(){v(this,e)}return m(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),E_=function(){function e(t,n,i,r){var a=this;v(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new V,this._dismissed=new V,this._hidden=new V,t.instance.dismissEvent.subscribe(function(e){a.dismiss(e)}),this.result=new Promise(function(e,t){a._resolve=e,a._reject=t}),this.result.then(null,function(){})}return m(e,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Cy(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Cy(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&t._dismiss(e)},function(){}):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this,t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ov(void 0);t.subscribe(function(){var t=e._windowCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._windowCmptRef.destroy(),e._contentRef&&e._contentRef.viewRef&&e._contentRef.viewRef.destroy(),e._windowCmptRef=null,e._contentRef=null}),n.subscribe(function(){if(e._backdropCmptRef){var t=e._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._backdropCmptRef.destroy(),e._backdropCmptRef=null}}),yy(t,n).subscribe(function(){e._hidden.next(),e._hidden.complete()})}}]),e}(),R_=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),A_=((Qb=function(){function e(t,n,i){v(this,e),this._document=t,this._elRef=n,this._zone=i,this._closed$=new V,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new _u,this.shown=new V,this.hidden=new V}return m(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){var e=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ty(1)).subscribe(function(){e._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var e=this,t=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},i=yy(bb(this._zone,t,function(){return t.classList.remove("show")},n),bb(this._zone,this._dialogEl.nativeElement,function(){},n));return i.subscribe(function(){e.hidden.next(),e.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}},{key:"_show",value:function(){var e=this,t={animation:this.animation,runningTransition:"continue"};yy(bb(this._zone,this._elRef.nativeElement,function(e,t){t&&rb(e),e.classList.add("show")},t),bb(this._zone,this._dialogEl.nativeElement,function(){},t)).subscribe(function(){e.shown.next(),e.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var e=this,t=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Xm(t,"keydown").pipe(Cy(e._closed$),lv(function(e){return e.which===Ab.Escape})).subscribe(function(t){e.keyboard?requestAnimationFrame(function(){t.defaultPrevented||e._zone.run(function(){return e.dismiss(R_.ESC)})}):"static"===e.backdrop&&e._bumpBackdrop()});var n=!1;Xm(e._dialogEl.nativeElement,"mousedown").pipe(Cy(e._closed$),Vy(function(){return n=!1}),Fy(function(){return Xm(t,"mouseup").pipe(Cy(e._closed$),Ty(1))}),lv(function(e){var n=e.target;return t===n})).subscribe(function(){n=!0}),Xm(t,"click").pipe(Cy(e._closed$)).subscribe(function(i){var r=i.target;t===r&&("static"===e.backdrop?e._bumpBackdrop():!0!==e.backdrop||n||e._zone.run(function(){return e.dismiss(R_.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var e=this._elRef.nativeElement;if(!e.contains(document.activeElement)){var t=e.querySelector("[ngbAutofocus]"),n=Pb(e)[0];(t||n||e).focus()}}},{key:"_restoreFocus",value:function(){var e,t=this,n=this._document.body,i=this._elWithFocus;e=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()}),t._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&bb(this._zone,this._elRef.nativeElement,function(e){var t=e.classList;return t.add("modal-static"),function(){return t.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),e}()).\u0275fac=function(e){return new(e||Qb)($o(Bc),$o(cl),$o(sc))},Qb.\u0275cmp=ot({type:Qb,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&Pu(nb,3),2&e&&Ou(n=Lu())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(qo("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),Cs("modal d-block"+(t.windowClass?" "+t.windowClass:"")),Ss("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:tb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(fs(),Ko(0,"div",0,1),Ko(2,"div",2),ps(3),Xo(),Xo()),2&e&&Cs("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),Qb),T_=((Xb=function(){function e(t,i,r,a,o,s){var l=this;v(this,e),this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new V,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new _u,this._activeWindowCmptHasChanged.subscribe(function(){if(l._windowCmpts.length){var e=l._windowCmpts[l._windowCmpts.length-1];(function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];l._ngZone.runOutsideAngular(function(){var e=Xm(t,"focusin").pipe(Cy(i),H(function(e){return e.target}));Xm(t,"keydown").pipe(Cy(i),lv(function(e){return e.which===Ab.Tab}),Hy(e)).subscribe(function(e){var i=n(e,2),r=i[0],a=i[1],o=n(Pb(t),2),s=o[0],l=o[1];a!==s&&a!==t||!r.shiftKey||(l.focus(),r.preventDefault()),a!==l||r.shiftKey||(s.focus(),r.preventDefault())}),r&&Xm(t,"click").pipe(Cy(i),Hy(e),H(function(e){return e[1]})).subscribe(function(e){return e.focus()})})})(0,e.location.nativeElement,l._activeWindowCmptHasChanged),l._revertAriaHidden(),l._setAriaHidden(e.location.nativeElement)}})}return m(e,[{key:"open",value:function(e,t,n,i){var r=this,a=i.container instanceof HTMLElement?i.container:ib(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),l=function(){r._modalRefs.length||(o.removeClass(r._document.body,"modal-open"),r._revertAriaHidden())};if(!a)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var u=new C_,c=this._getContentRef(e,i.injector||t,n,u,i),h=!1!==i.backdrop?this._attachBackdrop(e,a):void 0,d=this._attachWindowComponent(e,a,c),f=new E_(d,c,h,i.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.result.then(s,s),f.result.then(l,l),u.close=function(e){f.close(e)},u.dismiss=function(e){f.dismiss(e)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,i),h.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),f}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(e){this._modalRefs.forEach(function(t){return t.dismiss(e)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(S_).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var i=e.resolveComponentFactory(A_).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach(function(n){ib(t[n])&&(e[n]=t[n])})}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach(function(n){ib(t[n])&&(e[n]=t[n])})}},{key:"_getContentRef",value:function(e,t,n,i,r){return n?n instanceof Hl?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,r):new w_([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new w_([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new w_([[t]])}},{key:"_createFromComponent",value:function(e,t,n,i,r){var a=e.resolveComponentFactory(n),o=Ao.create({providers:[{provide:C_,useValue:i}],parent:t}),s=a.create(o),l=s.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new w_([[l]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&(t._modalRefs.splice(n,1),t._activeInstances.emit(t._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())})}}]),e}()).\u0275fac=function(e){return new(e||Xb)(Ei(Ac),Ei(Ao),Ei(Bc),Ei(x_),Ei(dl),Ei(sc))},Xb.\u0275prov=Ae({factory:function(){return new Xb(Ei(Ac),Ei(fo),Ei(Bc),Ei(x_),Ei(dl),Ei(sc))},token:Xb,providedIn:"root"}),Xb),I_=((Kb=function(){function e(t,n,i,r){v(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=i,this._config=r}return m(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||Kb)(Ei(ol),Ei(Ao),Ei(T_),Ei(__))},Kb.\u0275prov=Ae({factory:function(){return new Kb(Ei(ol),Ei(fo),Ei(T_),Ei(__))},token:Kb,providedIn:"root"}),Kb),D_=((Zb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Zb)},Zb.\u0275mod=ct({type:Zb}),Zb.\u0275inj=Te({providers:[I_]}),Zb),O_=((Yb=function(){function e(t){v(this,e),this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}return m(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||Yb)(Ei(vb))},Yb.\u0275prov=Ae({factory:function(){return new Yb(Ei(vb))},token:Yb,providedIn:"root"}),Yb),P_=function(e){return ib(e)&&""!==e},M_=0,L_=((c_=function e(t){v(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||c_)($o(Hl))},c_.\u0275dir=dt({type:c_,selectors:[["ng-template","ngbNavContent",""]]}),c_),F_=((u_=function(){function e(t,n){v(this,e),this.elementRef=n,this.disabled=!1,this.shown=new _u,this.hidden=new _u,this._nav=t}return m(e,[{key:"ngAfterContentChecked",value:function(){this.contentTpl=this.contentTpls.first}},{key:"ngOnInit",value:function(){ib(this.domId)||(this.domId="ngb-nav-"+M_++)}},{key:"active",get:function(){return this._nav.activeId===this.id}},{key:"id",get:function(){return P_(this._id)?this._id:this.domId}},{key:"panelDomId",get:function(){return"".concat(this.domId,"-panel")}},{key:"isPanelInDom",value:function(){return(ib(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}]),e}()).\u0275fac=function(e){return new(e||u_)($o(we(function(){return N_})),$o(cl))},u_.\u0275dir=dt({type:u_,selectors:[["","ngbNavItem",""]],contentQueries:function(e,t,n){var i;1&e&&Mu(n,L_,0),2&e&&Ou(i=Lu())&&(t.contentTpls=i)},hostVars:2,hostBindings:function(e,t){2&e&&Ss("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),u_),N_=((l_=function(){function e(t,n,i,r){v(this,e),this.role=t,this._cd=i,this._document=r,this.activeIdChange=new _u,this.shown=new _u,this.hidden=new _u,this.destroy$=new V,this.navItemChange$=new V,this.navChange=new _u,this.animation=n.animation,this.destroyOnHide=n.destroyOnHide,this.orientation=n.orientation,this.roles=n.roles,this.keyboard=n.keyboard}return m(e,[{key:"click",value:function(e){e.disabled||this._updateActiveId(e.id)}},{key:"onKeyDown",value:function(e){var t=this;if("tablist"===this.roles&&this.keyboard){var n=e.which,i=this.links.filter(function(e){return!e.navItem.disabled}),r=i.length,a=-1;if(i.forEach(function(e,n){e.elRef.nativeElement===t._document.activeElement&&(a=n)}),r){switch(n){case Ab.ArrowLeft:if("vertical"===this.orientation)return;a=(a-1+r)%r;break;case Ab.ArrowRight:if("vertical"===this.orientation)return;a=(a+1)%r;break;case Ab.ArrowDown:if("horizontal"===this.orientation)return;a=(a+1)%r;break;case Ab.ArrowUp:if("horizontal"===this.orientation)return;a=(a-1+r)%r;break;case Ab.Home:a=0;break;case Ab.End:a=r-1}"changeWithArrows"===this.keyboard&&this.select(i[a].navItem.id),i[a].elRef.nativeElement.focus(),e.preventDefault()}}}},{key:"select",value:function(e){this._updateActiveId(e,!1)}},{key:"ngAfterContentInit",value:function(){var e=this;if(!ib(this.activeId)){var t=this.items.first?this.items.first.id:null;P_(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe(Cy(this.destroy$)).subscribe(function(){return e._notifyItemChanged(e.activeId)})}},{key:"ngOnChanges",value:function(e){var t=e.activeId;t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"_updateActiveId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.activeId!==e){var n=!1;t&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:function(){n=!0}}),n||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}},{key:"_notifyItemChanged",value:function(e){this.navItemChange$.next(this._getItemById(e))}},{key:"_getItemById",value:function(e){return this.items&&this.items.find(function(t){return t.id===e})||null}}]),e}()).\u0275fac=function(e){return new(e||l_)(si("role"),$o(O_),$o(Fl),$o(Bc))},l_.\u0275dir=dt({type:l_,selectors:[["","ngbNav",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,F_,0),Mu(n,z_,1)),2&e&&(Ou(i=Lu())&&(t.items=i),Ou(i=Lu())&&(t.links=i))},hostVars:6,hostBindings:function(e,t){1&e&&os("keydown.arrowLeft",function(e){return t.onKeyDown(e)})("keydown.arrowRight",function(e){return t.onKeyDown(e)})("keydown.arrowDown",function(e){return t.onKeyDown(e)})("keydown.arrowUp",function(e){return t.onKeyDown(e)})("keydown.Home",function(e){return t.onKeyDown(e)})("keydown.End",function(e){return t.onKeyDown(e)}),2&e&&(qo("aria-orientation","vertical"===t.orientation&&"tablist"===t.roles?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),Ss("nav",!0)("flex-column","vertical"===t.orientation))},inputs:{animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[Ct]}),l_),z_=((s_=function(){function e(t,n,i,r){v(this,e),this.role=t,this.navItem=n,this.nav=i,this.elRef=r}return m(e,[{key:"hasNavItemClass",value:function(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}]),e}()).\u0275fac=function(e){return new(e||s_)(si("role"),$o(F_),$o(N_),$o(cl))},s_.\u0275dir=dt({type:s_,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,t){1&e&&os("click",function(e){return t.nav.click(t.navItem),e.preventDefault()}),2&e&&(Hs("id",t.navItem.domId),qo("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.navItem.disabled?-1:void 0)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),Ss("nav-link",!0)("nav-item",t.hasNavItemClass())("active",t.navItem.active)("disabled",t.navItem.disabled))}}),s_),V_=((o_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||o_)},o_.\u0275mod=ct({type:o_}),o_.\u0275inj=Te({imports:[[Bh]]}),o_),j_=((a_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||a_)},a_.\u0275mod=ct({type:a_}),a_.\u0275inj=Te({imports:[[Bh]]}),a_),B_=((r_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||r_)},r_.\u0275mod=ct({type:r_}),r_.\u0275inj=Te({imports:[[Bh]]}),r_),H_=((i_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||i_)},i_.\u0275mod=ct({type:i_}),i_.\u0275inj=Te({imports:[[Bh]]}),i_),q_=((n_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||n_)},n_.\u0275mod=ct({type:n_}),n_.\u0275inj=Te({imports:[[Bh]]}),n_),U_=((t_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||t_)},t_.\u0275mod=ct({type:t_}),t_.\u0275inj=Te({imports:[[Bh]]}),t_),W_=((e_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||e_)},e_.\u0275mod=ct({type:e_}),e_.\u0275inj=Te({imports:[[Bh]]}),e_),G_=((Jb=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Jb)},Jb.\u0275mod=ct({type:Jb}),Jb.\u0275inj=Te({}),Jb);new ui("live announcer delay",{providedIn:"root",factory:function(){return 100}});var $_,Y_,Z_=(($_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||$_)},$_.\u0275mod=ct({type:$_}),$_.\u0275inj=Te({imports:[[Bh]]}),$_),K_=[wb,kb,xb,Sb,Rb,h_,b_,D_,V_,j_,B_,H_,q_,U_,W_,G_,Z_],X_=((Y_=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Y_)},Y_.\u0275mod=ct({type:Y_}),Y_.\u0275inj=Te({imports:[K_,wb,kb,xb,Sb,Rb,h_,b_,D_,V_,j_,B_,H_,q_,U_,W_,G_,Z_]}),Y_);function Q_(e,t){if(1&e&&(Ko(0,"span"),Ns(1),Xo()),2&e){var n=hs();pa(1),zs(n._placeholder)}}function J_(e,t){if(1&e){var n=ns();Ko(0,"span",14),Ns(1),Ko(2,"a",15),os("click",function(e){Zt(n);var i=t.$implicit;return hs().onItemClick(e,i)}),Ns(3,"x"),Xo(),Xo()}if(2&e){var i=t.$implicit;Yo("hidden",t.index>hs()._settings.itemsShowLimit-1),pa(1),Vs(" ",i.text," ")}}function ew(e,t){if(1&e&&(Ko(0,"span",16),Ns(1),Xo()),2&e){var n=hs();pa(1),Vs("+",n.itemShowRemaining(),"")}}function tw(e,t){if(1&e){var n=ns();Ko(0,"li",17),os("click",function(){return Zt(n),hs().toggleSelectAll()}),Qo(1,"input",18),Ko(2,"div"),Ns(3),Xo(),Xo()}if(2&e){var i=hs();pa(1),Yo("checked",i.isAllItemsSelected())("disabled",i.disabled||i.isLimitSelectionReached()),pa(2),zs(i.isAllItemsSelected()?i._settings.unSelectAllText:i._settings.selectAllText)}}function nw(e,t){if(1&e){var n=ns();Ko(0,"li",19),Ko(1,"input",20),os("ngModelChange",function(e){return Zt(n),hs().filter.text=e})("ngModelChange",function(e){return Zt(n),hs().onFilterTextChange(e)}),Xo(),Xo()}if(2&e){var i=hs();pa(1),Yo("readOnly",i.disabled)("placeholder",i._settings.searchPlaceholderText)("ngModel",i.filter.text)}}function iw(e,t){if(1&e){var n=ns();Ko(0,"li",21),os("click",function(e){Zt(n);var i=t.$implicit;return hs().onItemClick(e,i)}),Qo(1,"input",22),Ko(2,"div"),Ns(3),Xo(),Xo()}if(2&e){var i=t.$implicit,r=hs();pa(1),Yo("checked",r.isSelected(i))("disabled",r.disabled||r.isLimitSelectionReached()&&!r.isSelected(i)||i.isDisabled),pa(2),zs(i.text)}}function rw(e,t){if(1&e&&(Ko(0,"li",23),Ko(1,"h5"),Ns(2),Xo(),Xo()),2&e){var n=hs();pa(2),zs(n._settings.noDataAvailablePlaceholderText)}}var aw,ow,sw,lw,uw,cw=function e(t){v(this,e),"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)},hw={provide:ig,useExisting:we(function(){return fw}),multi:!0},dw=function(){},fw=((sw=function(){function e(t){v(this,e),this.cdr=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new cw(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new _u,this.onDropDownClose=new _u,this.onSelect=new _u,this.onDeSelect=new _u,this.onSelectAll=new _u,this.onDeSelectAll=new _u,this.onTouchedCallback=dw,this.onChangeCallback=dw}return m(e,[{key:"placeholder",set:function(e){this._placeholder=e||"Select"}},{key:"settings",set:function(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}},{key:"data",set:function(e){var t=this;if(e){var n=e[0];this._sourceDataType=typeof n,this._sourceDataFields=this.getFields(n),this._data=e.map(function(e){return new cw("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})})}else this._data=[]}},{key:"onFilterTextChange",value:function(e){this.onFilterChange.emit(e)}},{key:"onItemClick",value:function(e,t){if(this.disabled||t.isDisabled)return!1;var n=this.isSelected(t),i=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(t):i&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}},{key:"writeValue",value:function(e){var t=this;if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){var n=e[0];this.selectedItems=[new cw("string"==typeof n||"number"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField],isDisabled:n[this._settings.disabledField]})]}}catch(r){}else{var i=e.map(function(e){return new cw("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})});this.selectedItems=this._settings.limitSelection>0?i.splice(0,this._settings.limitSelection):i}else this.selectedItems=[];this.onChangeCallback(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"onTouched",value:function(){this.closeDropdown(),this.onTouchedCallback()}},{key:"trackByFn",value:function(e,t){return t.id}},{key:"isSelected",value:function(e){var t=!1;return this.selectedItems.forEach(function(n){e.id===n.id&&(t=!0)}),t}},{key:"isLimitSelectionReached",value:function(){return this._settings.limitSelection===this.selectedItems.length}},{key:"isAllItemsSelected",value:function(){var e=this._data.filter(function(e){return e.isDisabled}).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&this._data.length===this.selectedItems.length+e}},{key:"showButton",value:function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}},{key:"itemShowRemaining",value:function(){return this.selectedItems.length-this._settings.itemsShowLimit}},{key:"addSelected",value:function(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}},{key:"removeSelected",value:function(e){var t=this;this.selectedItems.forEach(function(n){e.id===n.id&&t.selectedItems.splice(t.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}},{key:"emittedValue",value:function(e){var t=this,n=[];if(Array.isArray(e))e.map(function(e){n.push(t.objectify(e))});else if(e)return this.objectify(e);return n}},{key:"objectify",value:function(e){if("object"===this._sourceDataType){var t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}},{key:"toggleDropdown",value:function(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}},{key:"closeDropdown",value:function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}},{key:"toggleSelectAll",value:function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(function(e){return!e.isDisabled}).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},{key:"getFields",value:function(e){var t=[];if("object"!=typeof e)return t;for(var n in e)t.push(n);return t}}]),e}()).\u0275fac=function(e){return new(e||sw)($o(Fl))},sw.\u0275cmp=ot({type:sw,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&os("blur",function(){return t.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[il([hw])],decls:16,vars:17,consts:[["tabindex","=0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px"],["style","padding-right: 6px;",4,"ngIf"],[3,"ngClass"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox","aria-label","multiselect-item",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(Ko(0,"div",0),os("blur",function(){return t.onTouched()})("clickOutside",function(){return t.closeDropdown()}),Ko(1,"div"),Ko(2,"span",1),os("click",function(e){return t.toggleDropdown(e)}),Wo(3,Q_,2,1,"span",2),Wo(4,J_,4,2,"span",3),Ko(5,"span",4),Wo(6,ew,2,1,"span",5),Qo(7,"span",6),Xo(),Xo(),Xo(),Ko(8,"div",7),Ko(9,"ul",8),Wo(10,tw,4,3,"li",9),Wo(11,nw,2,3,"li",10),Xo(),Ko(12,"ul",11),Wo(13,iw,4,3,"li",12),pu(14,"multiSelectFilter"),Wo(15,rw,3,1,"li",13),Xo(),Xo(),Xo()),2&e&&(pa(1),Ss("disabled",t.disabled),pa(2),Yo("ngIf",0==t.selectedItems.length),pa(1),Yo("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),pa(2),Yo("ngIf",t.itemShowRemaining()>0),pa(1),Yo("ngClass",t._settings.defaultOpen?"dropdown-up":"dropdown-down"),pa(1),Yo("hidden",!t._settings.defaultOpen),pa(2),Yo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),pa(1),Yo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),pa(1),xs("max-height",t._settings.maxHeight+"px"),pa(1),Yo("ngForOf",gu(14,14,t._data,t.filter)),pa(2),Yo("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[pw,kh,_h,yh,lg,Ng,ym]},pipes:function(){return[vw]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),sw),pw=((ow=function(){function e(t){v(this,e),this._elementRef=t,this.clickOutside=new _u}return m(e,[{key:"onClick",value:function(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||ow)($o(cl))},ow.\u0275dir=dt({type:ow,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&os("click",function(e){return t.onClick(e,e.target)},!1,Cr)},outputs:{clickOutside:"clickOutside"}}),ow),vw=((aw=function(){function e(){v(this,e)}return m(e,[{key:"transform",value:function(e,t){var n=this;return e&&t?e.filter(function(e){return n.applyFilter(e,t)}):e}},{key:"applyFilter",value:function(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}}]),e}()).\u0275fac=function(e){return new(e||aw)},aw.\u0275pipe=ft({name:"multiSelectFilter",type:aw,pure:!1}),aw),gw=((uw=lw=function(){function e(){v(this,e)}return m(e,null,[{key:"forRoot",value:function(){return{ngModule:lw}}}]),e}()).\u0275fac=function(e){return new(e||uw)},uw.\u0275mod=ct({type:uw}),uw.\u0275inj=Te({imports:[[Bh,$m]]}),uw);function mw(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",11),Ko(2,"label",12),Ns(3),Xo(),Qo(4,"input",13),Xo(),Xo()),2&e){var n=hs().$implicit;pa(2),vs("for",n.id),pa(1),Vs("",n.label,": "),pa(1),vs("id",n.id),vs("formControlName",n.id)}}function yw(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",14),Ko(2,"label",12),Ns(3),Xo(),Qo(4,"input",15),Xo(),Xo()),2&e){var n=hs().$implicit;pa(2),vs("for",n.id),pa(1),Vs("",n.label,": \xa0\xa0\xa0"),pa(1),vs("id",n.id),vs("formControlName",n.id)}}function bw(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",14),Ko(2,"label",12),Ns(3),Xo(),Qo(4,"input",15),Xo(),Xo()),2&e){var n=hs().$implicit;pa(2),vs("for",n.id),pa(1),Vs("",n.label,": \xa0\xa0\xa0"),pa(1),vs("id",n.id),vs("formControlName",n.id)}}function _w(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",16),Qo(2,"input",17),Ko(3,"label",18),Ns(4),Xo(),Xo(),Xo()),2&e){var n=hs().$implicit;pa(2),vs("id",n.id),vs("formControlName",n.id),pa(1),vs("for",n.id),pa(1),zs(n.label)}}function ww(e,t){if(1&e&&(Ko(0,"option"),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),Vs(" ",n," ")}}function kw(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",11),Ko(2,"label",12),Ns(3),Xo(),Ko(4,"select",19),Wo(5,ww,2,1,"option",6),Xo(),Xo(),Xo()),2&e){var n=hs().$implicit;pa(2),vs("for",n.id),pa(1),zs(n.label),pa(1),vs("id",n.id),vs("formControlName",n.id),Yo("value",n.options[0]),pa(1),Yo("ngForOf",n.options)}}function xw(e,t){if(1&e&&(Ko(0,"div"),Qo(1,"ng-multiselect-dropdown",20),Xo()),2&e){var n=hs().$implicit,i=hs();pa(1),vs("formControlName",n.id),Yo("settings",i.repDropdownSettings)("data",n.options)("placeholder",n.label)}}function Sw(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",9),Wo(2,mw,5,4,"div",10),Wo(3,yw,5,4,"div",10),Wo(4,bw,5,4,"div",10),Wo(5,_w,5,4,"div",10),Wo(6,kw,6,6,"div",10),Wo(7,xw,2,4,"div",10),Xo(),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngSwitch",n.type),pa(1),Yo("ngSwitchCase","textBox"),pa(1),Yo("ngSwitchCase","number"),pa(1),Yo("ngSwitchCase","decimal"),pa(1),Yo("ngSwitchCase","boolean"),pa(1),Yo("ngSwitchCase","select"),pa(1),Yo("ngSwitchCase","multi_select")}}var Cw,Ew=((Cw=function(){function e(t,n){v(this,e),this.activeModal=t,this.modalService=n,this.params=[],this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}return m(e,[{key:"ngOnInit",value:function(){var e=this,t={};this.report.params.forEach(function(n){e.add_fields(n,t)}),this.report.filter_params&&(console.log("adding params)"),this.filterParams.forEach(function(n){e.add_fields(n,t)})),this.myFormGroup=new hm(t)}},{key:"add_fields",value:function(e,t){console.log("adding field"),t[e.id]=new cm("select"===e.type&&e.options.length>0?e.options[0]:""),this.params.push(e)}},{key:"onSubmit",value:function(){this.activeModal.close(this.myFormGroup.value)}}]),e}()).\u0275fac=function(e){return new(e||Cw)($o(C_),$o(I_))},Cw.\u0275cmp=ot({type:Cw,selectors:[["app-report-params-dialog"]],inputs:{report:"report",filterParams:"filterParams"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","tabindex","-1","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"form-group",2,"margin-top","1rem !important"],["type","submit","value","Run Report",1,"btn","btn-primary"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],[3,"for"],["type","text",3,"id","formControlName"],[1,"form-group",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","number",3,"id","formControlName"],[1,"form-check",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[1,"custom-select",3,"id","formControlName","value"],[2,"padding-left","10px !important","padding-top","7px !important",3,"settings","data","formControlName","placeholder"]],template:function(e,t){1&e&&(Jo(0),Ko(1,"div",0),Ko(2,"h3",1),Ns(3),Xo(),Ko(4,"button",2),os("click",function(){return t.activeModal.dismiss("Cross click")}),Ko(5,"span",3),Ns(6,"\xd7"),Xo(),Xo(),Xo(),Ko(7,"div",4),Ko(8,"form",5),os("ngSubmit",function(){return t.onSubmit()}),Wo(9,Sw,8,7,"div",6),Ko(10,"div",7),Qo(11,"input",8),Xo(),Xo(),Xo(),es()),2&e&&(pa(3),Vs("Report Parameters - ",t.report.title,""),pa(5),Yo("formGroup",t.myFormGroup),pa(1),Yo("ngForOf",t.params))},directives:[bm,zg,Cm,_h,Dh,Oh,lg,Ng,Rm,wm,ag,Om,Pm,qm,fw],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),Cw);function Rw(e){return new P(function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?X(n):Km()).subscribe(t)})}function Aw(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Tw(e,t,n))}}var Tw=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Iw(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Iw=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e)).accumulator=i,o._seed=r,o.hasSeed=a,o.index=0,o}return m(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}}]),n}(A),Dw=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Ow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Pw(e))}}var Pw=function(){function e(t){v(this,e),this.defaultValue=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Mw(e,this.defaultValue))}}]),e}(),Mw=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return m(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(A);function Lw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zw;return function(t){return t.lift(new Fw(e))}}var Fw=function(){function e(t){v(this,e),this.errorFactory=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Nw(e,this.errorFactory))}}]),e}(),Nw=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return m(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(A);function zw(){return new Dw}function Vw(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?lv(function(t,n){return e(t,n,i)}):D,Ty(1),n?Ow(t):Lw(function(){return new Dw}))}}function jw(e){return function(t){var n=new Gw(e),i=t.lift(n);return n.caught=i}}var Bw,Hw,qw,Uw,Ww,Gw=function(){function e(t){v(this,e),this.selector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new $w(e,this.selector,this.caught))}}]),e}(),$w=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).selector=i,a.caught=r,a}return m(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void r(h(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new Q(this);this.add(i);var a=ee(t,i);a!==i&&this.add(a)}}}]),n}(J),Yw=function(){function e(t){v(this,e),this.reportsService=t,this.reportResultSubject=new dy({status:"PENDING",info:"",response:null}),this.reportResult$=this.reportResultSubject.asObservable()}return m(e,[{key:"requestReport",value:function(e,t,n,i,r,a,o,s){this.reportName=e,this.reportFormat=t,this.species=n,this.genSeqs=i,this.genFilters=r,this.repSeqs=a,this.repFilters=o,this.params=s,this.fetchReport()}},{key:"fetchReport",value:function(){var e=this;this.pollCount=0,this.reportsService.getReportsRunApi(this.reportName,this.reportFormat,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params).subscribe(function(t){var n;e.fetchReportStatus(t.id).pipe((n=function(t){return"PENDING"===t.status&&e.reportResultSubject.next(t.info?{status:t.status,info:t.info.stage,response:t}:{status:t.status,info:t.status,response:t}),e.pollCount+=1,"SUCCESS"===t.status||"FAILURE"===t.status},function(e){return ry(0,3e3).pipe(Aw(function(e){return++e},0),Vy(function(e){if(e>40)throw new Error("Error: max attempts")}),(t=e,Fy(function(){return t})),Vw(n));var t})).subscribe(function(t){e.reportResultSubject.next("SUCCESS"===t.status?"ok"===t.results.status?{status:t.status,info:"",response:t}:{status:"FAILURE",info:t.results.description,response:t}:{status:"FAILURE",info:"return code:"+t.status+" "+t.description,response:t})},function(t){e.reportResultSubject.next({status:"FAILURE",info:"Timeout waiting for report",response:null})})},function(t){e.reportResultSubject.next({status:"FAILURE",info:"Error: "+e.formatError(t),response:null}),e.pollCount=999})}},{key:"fetchReportStatus",value:function(e){var t=this;return Rw(function(){return t.reportsService.getReportsStatus(e)}).pipe(jw(function(e){return ov({status:"FAILURE",description:t.formatError(e)})}))}},{key:"formatError",value:function(e){return"error"in e&&"message"in e.error&&e.error.message?e.error.message:"message"in e&&e.message?e.message:"statusText"in e&&e.statusText?e.status+". "+e.name+": "+e.statusText:e.status}}]),e}(),Zw=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"encodeKey",value:function(e){return(e=r(h(n.prototype),"encodeKey",this).call(this,e)).replace(/\+/gi,"%2B")}},{key:"encodeValue",value:function(e){return(e=r(h(n.prototype),"encodeValue",this).call(this,e)).replace(/\+/gi,"%2B")}}]),n}(pv),Kw=new ui("basePath"),Xw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials}return m(e,[{key:"selectHeaderContentType",value:function(e){var t=this;if(0!=e.length){var n=e.find(function(e){return t.isJsonMime(e)});return void 0===n?e[0]:n}}},{key:"selectHeaderAccept",value:function(e){var t=this;if(0!=e.length){var n=e.find(function(e){return t.isJsonMime(e)});return void 0===n?e[0]:n}}},{key:"isJsonMime",value:function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!=e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}]),e}(),Qw=((Ww=function(){function e(t,n,i){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new fv,this.configuration=new Xw,n&&(this.basePath=n),i&&(this.configuration=i,this.basePath=n||i.basePath||this.basePath)}return m(e,[{key:"canConsumeForm",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;)if("multipart/form-data"===t.value)return!0}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getAssemblyApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter species was null or undefined when calling getAssemblyApi.");if(null==t)throw new Error("Required parameter dataSets was null or undefined when calling getAssemblyApi.");var r=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(r=r.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/genomic/assemblies/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:r,observe:n,reportProgress:i})}},{key:"getDataSetApi",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetApi.");var i=this.defaultHeaders,r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(i=i.set("Accept",r)),this.httpClient.get("".concat(this.basePath,"/genomic/data_sets/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:i,observe:t,reportProgress:n})}},{key:"getFeaturePosApi",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"body",a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(null==e)throw new Error("Required parameter species was null or undefined when calling getFeaturePosApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getFeaturePosApi.");if(null==n)throw new Error("Required parameter refSeqName was null or undefined when calling getFeaturePosApi.");if(null==i)throw new Error("Required parameter featureString was null or undefined when calling getFeaturePosApi.");var o=this.defaultHeaders,s=this.configuration.selectHeaderAccept(["application/json"]);return null!=s&&(o=o.set("Accept",s)),this.httpClient.get("".concat(this.basePath,"/genomic/feature_pos/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n)),"/").concat(encodeURIComponent(String(i))),{withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:a})}},{key:"getSequencesApi",value:function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSequencesApi.");var u=new gv({encoder:new Zw});null!=n&&(u=u.set("page_number",n)),null!=i&&(u=u.set("page_size",i)),null!=r&&(u=u.set("filter",r)),null!=a&&(u=u.set("sort_by",a)),null!=o&&(u=u.set("cols",o));var c=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(c=c.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/genomic/sequences/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:u,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:l})}},{key:"getSpeciesApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(n=n.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/genomic/species"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}},{key:"getSubjectInfoApi",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSubjectInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSubjectInfoApi.");if(null==n)throw new Error("Required parameter subject was null or undefined when calling getSubjectInfoApi.");var a=this.defaultHeaders,o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(a=a.set("Accept",o)),this.httpClient.get("".concat(this.basePath,"/genomic/subject_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n))),{withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:r})}},{key:"getSubjectsApi",value:function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSubjectsApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSubjectsApi.");var u=new gv({encoder:new Zw});null!=n&&(u=u.set("page_number",n)),null!=i&&(u=u.set("page_size",i)),null!=r&&(u=u.set("filter",r)),null!=a&&(u=u.set("sort_by",a)),null!=o&&(u=u.set("cols",o));var c=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(c=c.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/genomic/subjects/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:u,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:l})}}]),e}()).\u0275fac=function(e){return new(e||Ww)(Ei(Fv),Ei(Kw,8),Ei(Xw,8))},Ww.\u0275prov=Ae({token:Ww,factory:Ww.\u0275fac}),Ww),Jw=((Uw=function(){function e(t,n,i){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new fv,this.configuration=new Xw,n&&(this.basePath=n),i&&(this.configuration=i,this.basePath=n||i.basePath||this.basePath)}return m(e,[{key:"canConsumeForm",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;)if("multipart/form-data"===t.value)return!0}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getReportsApi",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new gv({encoder:new Zw});null!=e&&(a=a.set("species",e)),null!=t&&(a=a.set("genomic_datasets",t)),null!=n&&(a=a.set("rep_datasets",n));var o=this.defaultHeaders,s=this.configuration.selectHeaderAccept(["application/json"]);return null!=s&&(o=o.set("Accept",s)),this.httpClient.get("".concat(this.basePath,"/reports/reports/list"),{params:a,withCredentials:this.configuration.withCredentials,headers:o,observe:i,reportProgress:r})}},{key:"getReportsRunApi",value:function(e,t,n,i,r,a,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"body",u=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(null==e)throw new Error("Required parameter reportName was null or undefined when calling getReportsRunApi.");var c=new gv({encoder:new Zw});null!=t&&(c=c.set("format",t)),null!=n&&(c=c.set("species",n)),null!=i&&(c=c.set("genomic_datasets",i)),null!=r&&(c=c.set("genomic_filters",r)),null!=a&&(c=c.set("rep_datasets",a)),null!=o&&(c=c.set("rep_filters",o)),null!=s&&(c=c.set("params",s));var h=this.defaultHeaders,d=this.configuration.selectHeaderAccept(["application/json"]);return null!=d&&(h=h.set("Accept",d)),this.httpClient.get("".concat(this.basePath,"/reports/reports/run/").concat(encodeURIComponent(String(e))),{params:c,withCredentials:this.configuration.withCredentials,headers:h,observe:l,reportProgress:u})}},{key:"getReportsStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter jobId was null or undefined when calling getReportsStatus.");var i=this.defaultHeaders,r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(i=i.set("Accept",r)),this.httpClient.get("".concat(this.basePath,"/reports/reports/status/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:i,observe:t,reportProgress:n})}}]),e}()).\u0275fac=function(e){return new(e||Uw)(Ei(Fv),Ei(Kw,8),Ei(Xw,8))},Uw.\u0275prov=Ae({token:Uw,factory:Uw.\u0275fac}),Uw),ek=((qw=function(){function e(t,n,i){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new fv,this.configuration=new Xw,n&&(this.basePath=n),i&&(this.configuration=i,this.basePath=n||i.basePath||this.basePath)}return m(e,[{key:"canConsumeForm",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;)if("multipart/form-data"===t.value)return!0}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getDataSetApi",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetApi.");var i=this.defaultHeaders,r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(i=i.set("Accept",r)),this.httpClient.get("".concat(this.basePath,"/repseq/ref_seqs/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:i,observe:t,reportProgress:n})}},{key:"getDataSetInfoApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getDataSetInfoApi.");var r=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(r=r.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/repseq/dataset_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:r,observe:n,reportProgress:i})}},{key:"getNovelsApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(n=n.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/repseq/all_novels"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}},{key:"getNovelsSpApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter species was null or undefined when calling getNovelsSpApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getNovelsSpApi.");var r=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(r=r.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/repseq/novels/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:r,observe:n,reportProgress:i})}},{key:"getSampleInfoApi",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSampleInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSampleInfoApi.");if(null==n)throw new Error("Required parameter sample was null or undefined when calling getSampleInfoApi.");var a=this.defaultHeaders,o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(a=a.set("Accept",o)),this.httpClient.get("".concat(this.basePath,"/repseq/sample_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n))),{withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:r})}},{key:"getSamplesApi",value:function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSamplesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSamplesApi.");var u=new gv({encoder:new Zw});null!=n&&(u=u.set("page_number",n)),null!=i&&(u=u.set("page_size",i)),null!=r&&(u=u.set("filter",r)),null!=a&&(u=u.set("sort_by",a)),null!=o&&(u=u.set("cols",o));var c=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(c=c.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/repseq/samples/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:u,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:l})}},{key:"getSequencesApi",value:function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSequencesApi.");var u=new gv({encoder:new Zw});null!=n&&(u=u.set("page_number",n)),null!=i&&(u=u.set("page_size",i)),null!=r&&(u=u.set("filter",r)),null!=a&&(u=u.set("sort_by",a)),null!=o&&(u=u.set("cols",o));var c=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(c=c.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/repseq/sequences/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:u,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:l})}},{key:"getSpeciesApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(n=n.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/repseq/species"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}]),e}()).\u0275fac=function(e){return new(e||qw)(Ei(Fv),Ei(Kw,8),Ei(Xw,8))},qw.\u0275prov=Ae({token:qw,factory:qw.\u0275fac}),qw),tk=((Hw=function(){function e(t,n,i){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new fv,this.configuration=new Xw,n&&(this.basePath=n),i&&(this.configuration=i,this.basePath=n||i.basePath||this.basePath)}return m(e,[{key:"canConsumeForm",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;)if("multipart/form-data"===t.value)return!0}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getConfigApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(n=n.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/system/config"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}},{key:"getLoginApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter username was null or undefined when calling getLoginApi.");if(null==t)throw new Error("Required parameter password was null or undefined when calling getLoginApi.");var r=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(r=r.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/system/login/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:r,observe:n,reportProgress:i})}},{key:"getRefreshApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(n=n.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/system/refresh"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}]),e}()).\u0275fac=function(e){return new(e||Hw)(Ei(Fv),Ei(Kw,8),Ei(Xw,8))},Hw.\u0275prov=Ae({token:Hw,factory:Hw.\u0275fac}),Hw),nk=((Bw=function(){function e(t,n){if(v(this,e),t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!n)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}return m(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:Xw,useFactory:t}]}}}]),e}()).\u0275fac=function(e){return new(e||Bw)(Ei(Bw,12),Ei(Fv,8))},Bw.\u0275mod=ct({type:Bw}),Bw.\u0275inj=Te({providers:[Qw,Jw,ek,tk],imports:[[]]}),Bw);function ik(e,t){if(1&e&&(Ko(0,"div"),Ns(1),Xo()),2&e){var n=hs();pa(1),zs(n.statusText)}}function rk(e,t){if(1&e&&(Ko(0,"div"),Ns(1),Xo()),2&e){var n=hs();pa(1),zs(n.errorText)}}function ak(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"button",7),os("click",function(){return Zt(n),hs().requestReport()}),Ns(2,"Retry"),Xo(),Xo()}}var ok,sk,lk=((sk=function(){function e(t,n){v(this,e),this.activeModal=t,this.reportsService=n,this.statusText="",this.lastStatusText="",this.errorText="",this.reportTitle="",this.enableRetry=!1,this.reportResult$Subscription=null}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.reportTitle=this.report.title,this.reportRequest=new Yw(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(function(t){"PENDING"===t.status?(e.lastStatusText===t.info?e.statusText=e.statusText+".":(e.statusText=t.info,e.lastStatusText=t.info),e.errorText=""):"FAILURE"===t.status?(e.statusText="",e.errorText=t.info,e.enableRetry=!0):"SUCCESS"===t.status&&e.activeModal.close(t.response)}),this.requestReport()}},{key:"requestReport",value:function(){this.enableRetry=!1,this.lastStatusText="",this.statusText="",this.errorText="",this.reportRequest.requestReport(this.report.name,this.format,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params)}}]),e}()).\u0275fac=function(e){return new(e||sk)($o(C_),$o(Jw))},sk.\u0275cmp=ot({type:sk,selectors:[["app-report-run-dialog"]],inputs:{report:"report",format:"format",params:"params",species:"species",genSeqs:"genSeqs",genFilters:"genFilters",repSeqs:"repSeqs",repFilters:"repFilters"},decls:13,vars:4,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"h4",1),Ns(2),Xo(),Ko(3,"button",2),os("click",function(){return t.activeModal.close({status:"Cancelled"})}),Ko(4,"span",3),Ns(5,"\xd7"),Xo(),Xo(),Xo(),Ko(6,"div",4),Wo(7,ik,2,1,"div",5),Wo(8,rk,2,1,"div",5),Xo(),Ko(9,"div",6),Ko(10,"button",7),os("click",function(){return t.activeModal.close({status:"Cancelled"})}),Ns(11,"Cancel"),Xo(),Wo(12,ak,3,0,"div",5),Xo()),2&e&&(pa(2),Vs("Preparing Report - ",t.reportTitle,""),pa(5),Yo("ngIf",""!==t.statusText),pa(1),Yo("ngIf",""!==t.errorText),pa(4),Yo("ngIf",t.enableRetry))},directives:[kh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),sk),uk=((ok=function e(t){v(this,e),this.activeModal=t}).\u0275fac=function(e){return new(e||ok)($o(C_))},ok.\u0275cmp=ot({type:ok,selectors:[["app-report-error-dialog"]],inputs:{report:"report",errorMessage:"errorMessage"},decls:11,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"h4",1),Ns(2),Xo(),Ko(3,"button",2),os("click",function(){return t.activeModal.close("Cancel")}),Ko(4,"span",3),Ns(5,"\xd7"),Xo(),Xo(),Xo(),Ko(6,"div",4),Ns(7),Xo(),Ko(8,"div",5),Ko(9,"button",6),os("click",function(){return t.activeModal.close("OK")}),Ns(10,"OK"),Xo(),Xo()),2&e&&(pa(2),zs(t.report),pa(5),Vs(" ",t.errorMessage," "))},styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),ok);function ck(e){return function(t){return t.lift(new hk(e))}}var hk=function(){function e(t){v(this,e),this.callback=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new dk(e,this.callback))}}]),e}(),dk=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).add(new C(i)),r}return n}(A),fk=function(){function e(t,n){v(this,e),this.notifier=t,this.source=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new pk(e,this.notifier,this.source))}}]),e}(),pk=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).notifier=i,a.source=r,a}return m(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,i=this.retries,a=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{t=new V;try{i=(0,this.notifier)(t)}catch(o){return r(h(n.prototype),"error",this).call(this,o)}a=ee(i,new Q(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=a,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}]),n}(J);function vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=t;return function(r){return r.pipe((a=function(r){return r.pipe(te(function(r){if(i-- >0){var a=e+(t-i)*n;return ov(r).pipe(Zy(a))}return Wy(r.message)}))},function(e){return e.lift(new fk(a,e))}));var a}}var gk,mk,yk,bk=((yk=function e(){v(this,e),this.selection=new dy({species:"Human",datasets:[],assemblies:[],repSeqs:["Human_IGH"],repDatasetDescriptions:[{dataset:"Human_IGH",description:""}]}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:yk,factory:yk.\u0275fac=function(e){return new(e||yk)},providedIn:"root"}),yk),_k=((mk=function(){function e(t,n){v(this,e),this.reportsService=t,this.geneTableService=n,this.reportListSubject=new dy([]),this.globalReportFilterParamsSubject=new dy(null),this.loadingSubject=new dy(!1),this.errorSubject=new dy(null),this.globalReportFilterParams$=this.globalReportFilterParamsSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.load()}return m(e,[{key:"load",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.geneTableSelection=t,e.reload()})}},{key:"reload",value:function(){var e=this;this.loadingSubject.next(!0),this.errorSubject.next(null),this.reportsService.getReportsApi(this.geneTableSelection.species,this.geneTableSelection.datasets.join(","),this.geneTableSelection.repSeqs.join(",")).pipe(vk(),jw(function(t){return e.errorSubject.next(t),[]}),ck(function(){e.loadingSubject.next(!1)})).subscribe(function(t){for(var n=[],i=t.reports,r=0,a=Object.keys(i);r<a.length;r++){var o=a[r];n.push({name:o,title:i[o].title,description:i[o].description,thumbnail:i[o].thumbnail,params:i[o].params,filter_params:i[o].filter_params,scope:i[o].scope,format:i[o].format})}e.reportListSubject.next(n),e.globalReportFilterParamsSubject.next(t.filters)})}},{key:"connect",value:function(){return this.reportListSubject.asObservable()}},{key:"disconnect",value:function(){this.reportListSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete()}}]),e}()).\u0275fac=function(e){return new(e||mk)(Ei(Jw),Ei(bk))},mk.\u0275prov=Ae({token:mk,factory:mk.\u0275fac,providedIn:"root"}),mk),wk=((gk=function(){function e(t,n,i,r){var a=this;v(this,e),this.modalService=t,this.reportsService=n,this.reportsListDataSource=i,this.httpClient=r,this.globalReportFilterParamsSubscription=null,this.globalReportFilters=null,this.reportWindow=null,this.reportRequest=null,this.lastReportInfo="",this.globalReportFilterParamsSubscription=this.reportsListDataSource.globalReportFilterParams$.subscribe(function(e){a.globalReportFilters=e}),this.reportRequest=new Yw(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(function(e){a.reportWindow&&("PENDING"===e.status?e.info===a.lastReportInfo?a.reportWindow.document.getElementById("status_line").innerHTML=a.reportWindow.document.getElementById("status_line").innerHTML+".":(a.reportWindow.document.getElementById("status_line").innerHTML=e.info,a.lastReportInfo=e.info):"FAILURE"===e.status?(a.reportWindow.close(),a.reportWindow=null,a.displayError(e.info)):"SUCCESS"===e.status&&(a.reportWindow.location=e.response.results.url))})}return m(e,[{key:"runReport",value:function(e,t,n,i,r,a,o,s){var l=this;if(!s){if(e.params.length>0||e.filter_params){var u=this.modalService.open(Ew,{size:"m"});u.componentInstance.report=e;var c=null;return e.filter_params&&(c=e.scope.length>1?this.globalReportFilters.combined:e.scope.indexOf("rep_sample")>=0?this.globalReportFilters.rep:this.globalReportFilters.gen),u.componentInstance.filterParams=c,void u.result.then(function(s){s&&l.sendReportRequest(e,t,n,s,i,r,a,o)},function(){})}s={}}this.sendReportRequest(e,t,n,s,i,r,a,o)}},{key:"sendReportRequest",value:function(e,t,n,i,r,a,o,s){i=JSON.stringify(i),"html"!==t?this.sendDownloadReportRequest(e,t,n,r.join(","),JSON.stringify(a),o.join(","),JSON.stringify(s),i):this.sendHtmlReportRequest(e,t,n,r.join(","),JSON.stringify(a),o.join(","),JSON.stringify(s),i)}},{key:"sendDownloadReportRequest",value:function(e,t,n,i,r,a,o,s){var l=this,u=this.modalService.open(lk,{size:"m"});u.componentInstance.report=e,u.componentInstance.format=t,u.componentInstance.species=n,u.componentInstance.genSeqs=i,u.componentInstance.genFilters=r,u.componentInstance.repSeqs=a,u.componentInstance.repFilters=o,u.componentInstance.params=s,u.result.then(function(e){if("SUCCESS"===e.status){var t=(new fv).set("authorization","Bearer my JWT");l.httpClient.get(e.results.url,{headers:t,responseType:"blob"}).subscribe(function(t){var n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download",e.results.filename),document.body.appendChild(n),n.click()})}})}},{key:"sendHtmlReportRequest",value:function(e,t,n,i,r,a,o,s){this.reportWindow=window.open("","_blank"),this.reportWindow.document.write('<h3>Preparing your report...</h3><p id="status_line"></p>'),this.reportRequest.requestReport(e.name,t,n,i,r,a,o,s)}},{key:"displayError",value:function(e){var t=this.modalService.open(uk,{size:"m"});t.componentInstance.report="Error running report",t.componentInstance.errorMessage=e,t.result.then()}}]),e}()).\u0275fac=function(e){return new(e||gk)(Ei(I_),Ei(Jw),Ei(_k),Ei(Fv))},gk.\u0275prov=Ae({token:gk,factory:gk.\u0275fac,providedIn:"root"}),gk),kk=function(){function e(t,n,i,r,a,o){v(this,e),this.appProtected=t,this.userName=n,this._accessToken=i,this._accessTokenExpirationDate=r,this._refreshToken=a,this._refreshTokenExpirationDate=o}return m(e,[{key:"accessToken",get:function(){return!this._accessTokenExpirationDate||new Date>this._accessTokenExpirationDate?(console.log("access token expired in User"),null):this._accessToken},set:function(e){this._accessToken=e}},{key:"refreshToken",get:function(){return!this._refreshTokenExpirationDate||new Date>this._refreshTokenExpirationDate?null:this._refreshToken}},{key:"accessTokenExpirationDate",set:function(e){this._accessTokenExpirationDate=e}}]),e}(),xk=function e(t,n,i,r){v(this,e),this.app_protected=t,this.wp_news_url=n,this.wp_help_url=i,this.wp_rest=r};function Sk(e){return function(t){return 0===e?Km():t.lift(new Ck(e))}}var Ck=function(){function e(t){if(v(this,e),this.total=t,this.total<0)throw new Ay}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Ek(e,this.total))}}]),e}(),Ek=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return m(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var a=t++%n;e.next(i[a])}e.complete()}}]),n}(A),Rk=function e(t,n){v(this,e),this.id=t,this.url=n},Ak=function(e){a(n,e);var t=s(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(r=t.call(this,e,i)).navigationTrigger=a,r.restoredState=o,r}return m(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Rk),Tk=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a}return m(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Rk),Ik=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i)).reason=r,a}return m(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Rk),Dk=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i)).error=r,a}return m(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Rk),Ok=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return m(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rk),Pk=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return m(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rk),Mk=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o){var s;return v(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=a,s.shouldActivate=o,s}return m(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Rk),Lk=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return m(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rk),Fk=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=a,o}return m(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rk),Nk=function(){function e(t){v(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),zk=function(){function e(t){v(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Vk=function(){function e(t){v(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),jk=function(){function e(t){v(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Bk=function(){function e(t){v(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Hk=function(){function e(t){v(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),qk=function(){function e(t,n,i){v(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return m(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Uk=function(){function e(t){v(this,e),this.params=t||{}}return m(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Wk(e){return new Uk(e)}function Gk(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function $k(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},a=0;a<i.length;a++){var o=i[a],s=e[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Yk(e,t){var n,i=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!i||!r||i.length!=r.length)return!1;for(var a=0;a<i.length;a++)if(!Zk(e[n=i[a]],t[n]))return!1;return!0}function Zk(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=i(e).sort(),r=i(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Kk(e){return Array.prototype.concat.apply([],e)}function Xk(e){return e.length>0?e[e.length-1]:null}function Qk(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Jk(e){return as(e)?e:is(e)?X(Promise.resolve(e)):ov(e)}function ex(e,t,n){return n?function(e,t){return Yk(e,t)}(e.queryParams,t.queryParams)&&tx(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Zk(e[n],t[n])})}(e.queryParams,t.queryParams)&&nx(e.root,t.root)}function tx(e,t){if(!sx(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!tx(e.children[n],t.children[n]))return!1}return!0}function nx(e,t){return ix(e,t,t.segments)}function ix(e,t,n){if(e.segments.length>n.length)return!!sx(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!sx(e.segments,n))return!1;for(var i in t.children){if(!e.children[i])return!1;if(!nx(e.children[i],t.children[i]))return!1}return!0}var r=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!sx(e.segments,r)&&!!e.children.primary&&ix(e.children.primary,t,a)}var rx=function(){function e(t,n,i){v(this,e),this.root=t,this.queryParams=n,this.fragment=i}return m(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Wk(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return cx.serialize(this)}}]),e}(),ax=function(){function e(t,n){var i=this;v(this,e),this.segments=t,this.children=n,this.parent=null,Qk(n,function(e,t){return e.parent=i})}return m(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return hx(this)}}]),e}(),ox=function(){function e(t,n){v(this,e),this.path=t,this.parameters=n}return m(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Wk(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return yx(this)}}]),e}();function sx(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var lx=function e(){v(this,e)},ux=function(){function e(){v(this,e)}return m(e,[{key:"parse",value:function(e){var t=new xx(e);return new rx(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,i;return"/".concat(dx(e.root,!0)).concat((n=e.queryParams,i=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(px(e),"=").concat(px(t))}).join("&"):"".concat(px(e),"=").concat(px(t))}),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),cx=new ux;function hx(e){return e.segments.map(function(e){return yx(e)}).join("/")}function dx(e,t){if(!e.hasChildren())return hx(e);if(t){var n=e.children.primary?dx(e.children.primary,!1):"",i=[];return Qk(e.children,function(e,t){"primary"!==t&&i.push("".concat(t,":").concat(dx(e,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(e,t){var n=[];return Qk(e.children,function(e,i){"primary"===i&&(n=n.concat(t(e,i)))}),Qk(e.children,function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))}),n}(e,function(t,n){return"primary"===n?[dx(e.children.primary,!1)]:["".concat(n,":").concat(dx(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(hx(e),"/").concat(r[0]):"".concat(hx(e),"/(").concat(r.join("//"),")")}function fx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function px(e){return fx(e).replace(/%3B/gi,";")}function vx(e){return fx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gx(e){return decodeURIComponent(e)}function mx(e){return gx(e.replace(/\+/g,"%20"))}function yx(e){return"".concat(vx(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(vx(e),"=").concat(vx(t[e]))}).join("")));var t}var bx=/^[^\/()?;=#]+/;function _x(e){var t=e.match(bx);return t?t[0]:""}var wx=/^[^=?&#]+/,kx=/^[^?&#]+/,xx=function(){function e(t){v(this,e),this.url=t,this.remaining=t}return m(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ax([],{}):new ax([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new ax(e,t)),n}},{key:"parseSegment",value:function(){var e=_x(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new ox(gx(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=_x(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=_x(this.remaining);i&&(n=i,this.capture(n))}e[gx(t)]=gx(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(wx);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(kx);return t?t[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=mx(t),a=mx(n);if(e.hasOwnProperty(r)){var o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(a)}else e[r]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=_x(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");var a=this.parseChildren();t[r]=1===Object.keys(a).length?a.primary:new ax([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Sx=function(){function e(t){v(this,e),this._root=t}return m(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Cx(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Cx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Ex(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Ex(e,this._root).map(function(e){return e.value})}}]),e}();function Cx(e,t){if(e===t.value)return t;var n,i=d(t.children);try{for(i.s();!(n=i.n()).done;){var r=Cx(e,n.value);if(r)return r}}catch(a){i.e(a)}finally{i.f()}return null}function Ex(e,t){if(e===t.value)return[t];var n,i=d(t.children);try{for(i.s();!(n=i.n()).done;){var r=Ex(e,n.value);if(r.length)return r.unshift(t),r}}catch(a){i.e(a)}finally{i.f()}return[]}var Rx=function(){function e(t,n){v(this,e),this.value=t,this.children=n}return m(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ax(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Tx=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).snapshot=i,Lx(u(r),e),r}return m(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Sx);function Ix(e,t){var n=function(e,t){var n=new Px([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Mx("",new Rx(n,[]))}(e,t),i=new dy([new ox("",{})]),r=new dy({}),a=new dy({}),o=new dy({}),s=new dy(""),l=new Dx(i,r,o,s,a,"primary",t,n.root);return l.snapshot=n.root,new Tx(new Rx(l,[]),n)}var Dx=function(){function e(t,n,i,r,a,o,s,l){v(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=l}return m(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H(function(e){return Wk(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(function(e){return Wk(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Ox(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var Px=function(){function e(t,n,i,r,a,o,s,l,u,c,h){v(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return m(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Wk(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Wk(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Mx=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,i)).url=e,Lx(u(r),i),r}return m(n,[{key:"toString",value:function(){return Fx(this._root)}}]),n}(Sx);function Lx(e,t){t.value._routerState=e,t.children.forEach(function(t){return Lx(e,t)})}function Fx(e){var t=e.children.length>0?" { ".concat(e.children.map(Fx).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Nx(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Yk(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Yk(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Yk(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Yk(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function zx(e,t){var n,i;return Yk(e.params,t.params)&&sx(n=e.url,i=t.url)&&n.every(function(e,t){return Yk(e.parameters,i[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||zx(e.parent,t.parent))}function Vx(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=t.value;var r=function(e,t,n){return t.children.map(function(t){var i,r=d(n.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(e.shouldReuseRoute(t.value,a.value.snapshot))return Vx(e,t,a)}}catch(o){r.e(o)}finally{r.f()}return Vx(e,t)})}(e,t,n);return new Rx(i,r)}if(e.shouldAttach(t.value)){var a=e.retrieve(t.value);if(null!==a){var o=a.route;return jx(t,o),o}}var s,l=new Dx(new dy((s=t.value).url),new dy(s.params),new dy(s.queryParams),new dy(s.fragment),new dy(s.data),s.outlet,s.component,s),u=t.children.map(function(t){return Vx(e,t)});return new Rx(l,u)}function jx(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)jx(e.children[n],t.children[n])}function Bx(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Hx(e){return"object"==typeof e&&null!=e&&e.outlets}function qx(e,t,n,i,r){var a={};return i&&Qk(i,function(e,t){a[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new rx(n.root===e?t:Ux(n.root,e,t),a,r)}function Ux(e,t,n){var i={};return Qk(e.children,function(e,r){i[r]=e===t?n:Ux(e,t,n)}),new ax(e.segments,i)}var Wx=function(){function e(t,n,i){if(v(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Bx(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(Hx);if(r&&r!==Xk(i))throw new Error("{outlets:{}} has to be the last command")}return m(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Gx=function e(t,n,i){v(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function $x(e,t,n){if(e||(e=new ax([],{})),0===e.segments.length&&e.hasChildren())return Yx(e,t,n);var i=function(e,t,n){for(var i=0,r=t,a={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return a;var o=e.segments[r],s=n[i];if(Hx(s))break;var l="".concat(s),u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Qx(l,u,o))return a;i+=2}else{if(!Qx(l,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var a=new ax(e.segments.slice(0,i.pathIndex),{});return a.children.primary=new ax(e.segments.slice(i.pathIndex),e.children),Yx(a,0,r)}return i.match&&0===r.length?new ax(e.segments,{}):i.match&&!e.hasChildren()?Zx(e,t,n):i.match?Yx(e,0,r):Zx(e,t,n)}function Yx(e,t,n){if(0===n.length)return new ax(e.segments,{});var i=function(e){return Hx(e[0])?e[0].outlets:{primary:e}}(n),r={};return Qk(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=$x(e.children[i],t,n))}),Qk(e.children,function(e,t){void 0===i[t]&&(r[t]=e)}),new ax(e.segments,r)}function Zx(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){var a=n[r];if(Hx(a)){var o=Kx(a.outlets);return new ax(i,o)}if(0===r&&Bx(n[0]))i.push(new ox(e.segments[t].path,Xx(n[0]))),r++;else{var s=Hx(a)?a.outlets.primary:"".concat(a),l=r<n.length-1?n[r+1]:null;s&&l&&Bx(l)?(i.push(new ox(s,Xx(l))),r+=2):(i.push(new ox(s,{})),r++)}}return new ax(i,{})}function Kx(e){var t={};return Qk(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Zx(new ax([],{}),0,e))}),t}function Xx(e){var t={};return Qk(e,function(e,n){return t[n]="".concat(e)}),t}function Qx(e,t,n){return e==n.path&&Yk(t,n.parameters)}var Jx=function(){function e(t,n,i,r){v(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return m(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Nx(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=Ax(t);e.children.forEach(function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]}),Qk(r,function(e,t){i.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,r=Ax(e),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(r[s],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=Ax(t);e.children.forEach(function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new Hk(e.value.snapshot))}),e.children.length&&this.forwardEvent(new jk(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(Nx(i),i===r)if(i.component){var a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),eS(s.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function eS(e){Nx(e.value),e.children.forEach(eS)}var tS=function e(t,n){v(this,e),this.routes=t,this.module=n};function nS(e){return"function"==typeof e}function iS(e){return e instanceof rx}var rS=Symbol("INITIAL_VALUE");function aS(){return Fy(function(e){return py(e.map(function(e){return e.pipe(Ty(1),Oy(rS))})).pipe(Aw(function(e,t){var n=!1;return t.reduce(function(e,i,r){if(e!==rS)return e;if(i===rS&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||iS(i))return i}return e},e)},rS),lv(function(e){return e!==rS}),H(function(e){return iS(e)?e:!0===e}),Ty(1))})}var oS,sS=((oS=function e(){v(this,e)}).\u0275fac=function(e){return new(e||oS)},oS.\u0275cmp=ot({type:oS,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Qo(0,"router-outlet")},directives:function(){return[cC]},encapsulation:2}),oS);function lS(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];uS(i,cS(t,i))}}function uS(e,t){e.children&&lS(e.children,t)}function cS(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function hS(e){var t=e.children&&e.children.map(hS),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=sS),n}function dS(e){return e.outlet||"primary"}function fS(e,t){var n=e.filter(function(e){return dS(e)===t});return n.push.apply(n,i(e.filter(function(e){return dS(e)!==t}))),n}var pS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vS(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},pS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(t.matcher||$k)(n,e,t);if(!r)return Object.assign({},pS);var a={};Qk(r.posParams,function(e,t){a[t]=e.path});var o=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function gS(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return mS(e,t,n)&&"primary"!==dS(n)})}(e,n,i)){var a=new ax(t,function(e,t,n,i){var r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var a,o=d(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&"primary"!==dS(s)){var l=new ax([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,r[dS(s)]=l}}}catch(u){o.e(u)}finally{o.f()}return r}(e,t,i,new ax(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return mS(e,t,n)})}(e,n,i)){var o=new ax(e.segments,function(e,t,n,i,r,a){var o,s={},l=d(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(mS(e,n,u)&&!r[dS(u)]){var c=new ax([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===a?e.segments.length:t.length,s[dS(u)]=c}}}catch(h){l.e(h)}finally{l.f()}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new ax(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function mS(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function yS(e,t,n,i){return!!(dS(e)===i||"primary"!==i&&mS(t,n,e))&&("**"===e.path||vS(t,e,n).matched)}function bS(e,t,n){return 0===t.length&&!e.children[n]}var _S=function e(t){v(this,e),this.segmentGroup=t||null},wS=function e(t){v(this,e),this.urlTree=t};function kS(e){return new P(function(t){return t.error(new _S(e))})}function xS(e){return new P(function(t){return t.error(new wS(e))})}function SS(e){return new P(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var CS=function(){function e(t,n,i,r,a){v(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Wl)}return m(e,[{key:"apply",value:function(){var e=this,t=gS(this.urlTree.root,[],[],this.config).segmentGroup,n=new ax(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(H(function(t){return e.createUrlTree(ES(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(jw(function(t){if(t instanceof wS)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof _S)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(H(function(n){return t.createUrlTree(ES(n),e.queryParams,e.fragment)})).pipe(jw(function(e){if(e instanceof _S)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new ax([],{primary:e}):e;return new rx(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H(function(e){return new ax([],e)})):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){for(var i=this,r=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a];"primary"===s?r.unshift(s):r.push(s)}return X(r).pipe(sv(function(r){var a=n.children[r],o=fS(t,r);return i.expandSegmentGroup(e,o,a,r).pipe(H(function(e){return{segment:e,outlet:r}}))}),Aw(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?lv(function(t,n){return e(t,n,i)}):D,Sk(1),n?Ow(t):Lw(function(){return new Dw}))}}())}},{key:"expandSegment",value:function(e,t,n,i,r,a){var o=this;return X(n).pipe(sv(function(s){return o.expandSegmentAgainstRoute(e,t,n,s,i,r,a).pipe(jw(function(e){if(e instanceof _S)return ov(null);throw e}))}),Vw(function(e){return!!e}),jw(function(e,n){if(e instanceof Dw||"EmptyError"===e.name){if(bS(t,i,r))return ov(new ax([],{}));throw new _S(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,a,o){return yS(i,t,r,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,a):kS(t):kS(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xS(a):this.lineralizeSegments(n,a).pipe(te(function(n){var a=new ax(n,{});return r.expandSegment(e,a,t,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,a){var o=this,s=vS(t,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return kS(t);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?xS(d):this.lineralizeSegments(i,d).pipe(te(function(i){return o.expandSegment(e,t,n,i.concat(r.slice(c)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i,r){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?ov(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(H(function(e){return n._loadedConfig=e,new ax(i,{})})):ov(new ax(i,{}));var o=vS(t,n,i),s=o.matched,l=o.consumedSegments,u=o.lastChild;if(!s)return kS(t);var c=i.slice(u);return this.getChildConfig(e,n,i).pipe(te(function(e){var i=e.module,o=e.routes,s=gS(t,l,c,o),u=s.segmentGroup,h=s.slicedSegments,d=new ax(u.segments,u.children);if(0===h.length&&d.hasChildren())return a.expandChildren(i,o,d).pipe(H(function(e){return new ax(l,e)}));if(0===o.length&&0===h.length)return ov(new ax(l,{}));var f=dS(n)===r;return a.expandSegment(i,d,o,h,f?"primary":r,!0).pipe(H(function(e){return new ax(l.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?ov(new tS(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ov(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(te(function(n){return n?i.configLoader.load(e.injector,t).pipe(H(function(e){return t._loadedConfig=e,e})):function(e){return new P(function(t){return t.error(Gk("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):ov(new tS([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var i=this,r=t.canLoad;return r&&0!==r.length?ov(r.map(function(i){var r,a=e.get(i);if(function(e){return e&&nS(e.canLoad)}(a))r=a.canLoad(t,n);else{if(!nS(a))throw new Error("Invalid CanLoad guard");r=a(t,n)}return Jk(r)})).pipe(aS(),Vy(function(e){if(iS(e)){var t=Gk('Redirecting to "'.concat(i.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),H(function(e){return!0===e})):ov(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return ov(n);if(i.numberOfChildren>1||!i.children.primary)return SS(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new rx(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Qk(e,function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,a=this.createSegments(e,t.segments,n,i),o={};return Qk(t.children,function(t,a){o[a]=r.createSegmentGroup(e,t,n,i)}),new ax(a,o)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map(function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(i),a;i++}}catch(o){r.e(o)}finally{r.f()}return e}}]),e}();function ES(e){for(var t={},n=0,i=Object.keys(e.children);n<i.length;n++){var r=i[n],a=ES(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new ax(e.segments.concat(t.segments),t.children)}return e}(new ax(e.segments,t))}var RS=function e(t){v(this,e),this.path=t,this.route=this.path[this.path.length-1]},AS=function e(t,n){v(this,e),this.component=t,this.route=n};function TS(e,t,n){var i=e._root;return DS(i,t?t._root:null,n,[i.value])}function IS(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function DS(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Ax(t);return e.children.forEach(function(e){!function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!sx(e.url,t.url);case"pathParamsOrQueryParamsChange":return!sx(e.url,t.url)||!Yk(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zx(e,t)||!Yk(e.queryParams,t.queryParams);case"paramsChange":default:return!zx(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new RS(i)):(a.data=o.data,a._resolvedData=o._resolvedData),DS(e,t,a.component?s?s.children:null:n,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new AS(s.outlet.component,o))}else o&&OS(t,s,r),r.canActivateChecks.push(new RS(i)),DS(e,null,a.component?s?s.children:null:n,i,r)}(e,a[e.value.outlet],n,i.concat([e.value]),r),delete a[e.value.outlet]}),Qk(a,function(e,t){return OS(e,n.getContext(t),r)}),r}function OS(e,t,n){var i=Ax(e),r=e.value;Qk(i,function(e,i){OS(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new AS(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var PS=function e(){v(this,e)};function MS(e){return new P(function(t){return t.error(e)})}var LS=function(){function e(t,n,i,r,a,o){v(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return m(e,[{key:"recognize",value:function(){var e=gS(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new Px([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Rx(n,t),r=new Mx(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=Ox(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,a=Object.keys(t.children);r<a.length;r++){var o=a[r],s=t.children[o],l=fS(e,o),u=this.processSegmentGroup(l,s,o);if(null===u)return null;n.push.apply(n,i(u))}var c=FS(n);return c.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,i){var r,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=this.processSegmentAgainstRoute(o,t,n,i);if(null!==s)return s}}catch(l){a.e(l)}finally{a.f()}return bS(t,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo||!yS(e,t,n,i))return null;var r,a=[],o=[];if("**"===e.path){var s=n.length>0?Xk(n).parameters:{};r=new Px(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VS(e),dS(e),e.component,e,NS(t),zS(t)+n.length,jS(e))}else{var l=vS(t,e,n);if(!l.matched)return null;a=l.consumedSegments,o=n.slice(l.lastChild),r=new Px(a,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VS(e),dS(e),e.component,e,NS(t),zS(t)+a.length,jS(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=gS(t,a,o,u.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(u,h);return null===f?null:[new Rx(r,f)]}if(0===u.length&&0===d.length)return[new Rx(r,[])];var p=dS(e)===i,v=this.processSegment(u,h,d,p?"primary":i);return null===v?null:[new Rx(r,v)]}}]),e}();function FS(e){var t,n=[],r=new Set,a=d(e);try{var o=function(){var e,a=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(a))return n.push(a),"continue";var o=n.find(function(e){return a.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,i(a.children)),r.add(o)):n.push(a)};for(a.s();!(t=a.n()).done;)o()}catch(h){a.e(h)}finally{a.f()}var s,l=d(r);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=FS(u.children);n.push(new Rx(u.value,c))}}catch(h){l.e(h)}finally{l.f()}return n.filter(function(e){return!r.has(e)})}function NS(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function zS(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function VS(e){return e.data||{}}function jS(e){return e.resolve||{}}function BS(e){return Fy(function(t){var n=e(t);return n?X(n).pipe(H(function(){return t})):ov(t)})}var HS=function e(){v(this,e)},qS=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(function(){function e(){v(this,e)}return m(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),US=new ui("ROUTES"),WS=function(){function e(t,n,i,r){v(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return m(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var i=this.loadModuleFactory(t.loadChildren).pipe(H(function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new tS(Kk(r.injector.get(US,void 0,ze.Self|ze.Optional)).map(hS),r)}),jw(function(e){throw t._loader$=void 0,e}));return t._loader$=new he(i,function(){return new V}).pipe(se()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?X(this.loader.load(e)):Jk(e()).pipe(te(function(e){return e instanceof Gl?ov(e):X(t.compiler.compileModuleAsync(e))}))}}]),e}(),GS=function e(){v(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new $S,this.attachRef=null},$S=function(){function e(){v(this,e),this.contexts=new Map}return m(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new GS,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),YS=function(){function e(){v(this,e)}return m(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function ZS(e){throw e}function KS(e,t,n){return t.parse("/")}function XS(e,t){return ov(null)}var QS,JS,eC,tC=((eC=function(){function e(t,n,i,r,a,o,s,l){var u=this;v(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=ZS,this.malformedUriErrorHandler=KS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:XS,afterPreactivation:XS},this.urlHandlingStrategy=new YS,this.routeReuseStrategy=new qS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(Wl),this.console=a.get(Yu);var c=a.get(sc);this.isNgZoneEnabled=c instanceof sc&&sc.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new rx(new ax([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WS(o,s,function(e){return u.triggerEvent(new Nk(e))},function(e){return u.triggerEvent(new zk(e))}),this.routerState=Ix(this.currentUrlTree,this.rootComponentType),this.transitions=new dy({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(lv(function(e){return 0!==e.id}),H(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Fy(function(e){var i,r,a,o=!1,s=!1;return ov(e).pipe(Vy(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fy(function(e){var i,r,a,o,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ov(e).pipe(Fy(function(e){var i=t.transitions.getValue();return n.next(new Ak(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?Zm:Promise.resolve(e)}),(i=t.ngModule.injector,r=t.configLoader,a=t.urlSerializer,o=t.config,Fy(function(e){return function(e,t,n,i,r){return new CS(e,t,n,i,r).apply()}(i,r,a,e.extractedUrl,o).pipe(H(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))})),Vy(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,i,r,a){return te(function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new LS(e,t,n,i,r,a).recognize();return null===o?MS(new PS):ov(o)}catch(s){return MS(s)}}(e,n,i.urlAfterRedirects,(o=i.urlAfterRedirects,t.serializeUrl(o)),r,a).pipe(H(function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})}));var o})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Vy(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var i=new Ok(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)}));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,c=e.source,h=e.restoredState,d=e.extras,f=new Ak(l,t.serializeUrl(u),c,h);n.next(f);var p=Ix(u,t.rootComponentType).snapshot;return ov(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Zm}),BS(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),Vy(function(e){var n=new Pk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),H(function(e){return Object.assign(Object.assign({},e),{guards:TS(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return te(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?ov(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return X(e).pipe(te(function(e){return function(e,t,n,i,r){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?ov(a.map(function(a){var o,s=IS(a,t,r);if(function(e){return e&&nS(e.canDeactivate)}(s))o=Jk(s.canDeactivate(e,t,n,i));else{if(!nS(s))throw new Error("Invalid CanDeactivate guard");o=Jk(s(e,t,n,i))}return o.pipe(Vw())})).pipe(aS()):ov(!0)}(e.component,e.route,n,t,i)}),Vw(function(e){return!0!==e},!0))}(s,i,r,e).pipe(te(function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return X(t).pipe(sv(function(t){return Sy(function(e,t){return null!==e&&t&&t(new Vk(e)),ov(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new Bk(e)),ov(!0)}(t.route,i),function(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Rw(function(){return ov(t.guards.map(function(r){var a,o=IS(r,t.node,n);if(function(e){return e&&nS(e.canActivateChild)}(o))a=Jk(o.canActivateChild(i,e));else{if(!nS(o))throw new Error("Invalid CanActivateChild guard");a=Jk(o(i,e))}return a.pipe(Vw())})).pipe(aS())})});return ov(r).pipe(aS())}(e,t.path,n),function(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?ov(i.map(function(i){return Rw(function(){var r,a=IS(i,t,n);if(function(e){return e&&nS(e.canActivate)}(a))r=Jk(a.canActivate(t,e));else{if(!nS(a))throw new Error("Invalid CanActivate guard");r=Jk(a(t,e))}return r.pipe(Vw())})})).pipe(aS()):ov(!0)}(e,t.route,n))}),Vw(function(e){return!0!==e},!0))}(i,o,e,t):ov(n)}),H(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),Vy(function(e){if(iS(e.guardsResult)){var n=Gk('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var i=new Mk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(i)}),lv(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new Ik(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0}),BS(function(e){if(e.guards.canActivateChecks.length)return ov(e).pipe(Vy(function(e){var n=new Lk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Fy(function(e){var i,r,a=!1;return ov(e).pipe((i=t.paramsInheritanceStrategy,r=t.ngModule.injector,te(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return ov(e);var a=0;return X(n).pipe(sv(function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return ov({});var a={};return X(r).pipe(te(function(r){return function(e,t,n,i){var r=IS(e,t,i);return Jk(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(Vy(function(e){a[r]=e}))}),Sk(1),te(function(){return Object.keys(a).length===r.length?ov(a):Zm}))}(e._resolve,e,t,i).pipe(H(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ox(e,n).resolve),null}))}(e.route,t,i,r)}),Vy(function(){return a++}),Sk(1),te(function(t){return a===n.length?ov(e):Zm}))})),Vy({next:function(){return a=!0},complete:function(){if(!a){var i=new Ik(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),e.resolve(!1)}}}))}),Vy(function(e){var n=new Fk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),BS(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),H(function(e){var n=function(e,t,n){var i=Vx(e,t._root,n?n._root:void 0);return new Tx(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),Vy(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(i=t.rootContexts,r=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},H(function(e){return new Jx(r,e.targetRouterState,e.currentRouterState,a).activate(i),e})),Vy({next:function(){o=!0},complete:function(){o=!0}}),ck(function(){if(!o&&!s){t.resetUrlToCurrentUrlTree();var i=new Ik(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null}),jw(function(i){if(s=!0,(l=i)&&l.ngNavigationCancelingError){var r=iS(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var a=new Ik(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(a),r?setTimeout(function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new Dk(e.id,t.serializeUrl(e.extractedUrl),i);n.next(o);try{e.resolve(t.errorHandler(i))}catch(u){e.reject(u)}}var l;return Zm}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,i=n.state,r=n.urlTree,a={replaceUrl:!0};if(i){var o=Object.assign({},i);delete o.navigationId,0!==Object.keys(o).length&&(a.state=o)}e.scheduleNavigation(r,t,i,a)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){lS(e),this.config=e.map(hS),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,a=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,l=n||this.routerState.root,u=s?this.currentUrlTree.fragment:a,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,a){if(0===n.length)return qx(t.root,t.root,t,r,a);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wx(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,a){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Qk(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(i(e),[{outlets:o}])}if(r.segmentPath)return[].concat(i(e),[r.segmentPath])}return"string"!=typeof r?[].concat(i(e),[r]):0===a?(r.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[].concat(i(e),[r])},[]);return new Wx(n,t,r)}(n);if(o.toRoot())return qx(t.root,new ax([],{}),t,r,a);var s=function(e,t,n){if(e.isAbsolute)return new Gx(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new Gx(i,i===t.root,0)}var r=Bx(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,a=n;a>r;){if(a-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Gx(i,!1,r-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),l=s.processChildren?Yx(s.segmentGroup,s.index,o.commands):$x(s.segmentGroup,s.index,o.commands);return qx(s.segmentGroup,l,t,r,a)}(l,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=iS(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(iS(e))return ex(this.currentUrlTree,e,t);var n=this.parseUrl(e);return ex(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return null!=i&&(t[n]=i),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Tk(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,i,r){if(this.disposed)return Promise.resolve(!1);var a,o,s,l=this.getTransition(),u="imperative"!==t&&"imperative"===(null==l?void 0:l.source),c=(this.lastSuccessfulId===l.id||this.currentNavigation?l.rawUrl:l.urlAfterRedirects).toString()===e.toString();if(u&&c)return Promise.resolve(!0);r?(a=r.resolve,o=r.reject,s=r.promise):s=new Promise(function(e,t){a=e,o=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){return new(e||eC)(Ei(hi),Ei(lx),Ei($S),Ei(sh),Ei(Ao),Ei(Ic),Ei(rc),Ei(void 0))},eC.\u0275prov=Ae({token:eC,factory:eC.\u0275fac}),eC),nC=((JS=function(){function e(t,n,i,r,a){v(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new V,null==i&&r.setAttribute(a.nativeElement,"tabindex","0")}return m(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:rC(this.skipLocationChange),replaceUrl:rC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rC(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||JS)($o(tC),$o(Dx),si("tabindex"),$o(fl),$o(cl))},JS.\u0275dir=dt({type:JS,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&os("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ct]}),JS),iC=((QS=function(){function e(t,n,i){var r=this;v(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new V,this.subscription=t.events.subscribe(function(e){e instanceof Tk&&r.updateTargetUrlAndHref()})}return m(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i,r){if(0!==e||t||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:rC(this.skipLocationChange),replaceUrl:rC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rC(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||QS)($o(tC),$o(Dx),$o(Jc))},QS.\u0275dir=dt({type:QS,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&os("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(Hs("href",t.href,mr),qo("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ct]}),QS);function rC(e){return""===e||!!e}var aC,oC,sC,lC,uC=((oC=function(){function e(t,n,i,r,a,o){var s=this;v(this,e),this.router=t,this.element=n,this.renderer=i,this.cdr=r,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof Tk&&s.update()})}return m(e,[{key:"ngAfterContentInit",value:function(){var e=this;ov(this.links.changes,this.linksWithHrefs.changes,ov(null)).pipe(re()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(i(this.links.toArray()),i(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=X(n).pipe(re()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}()).\u0275fac=function(e){return new(e||oC)($o(tC),$o(cl),$o(fl),$o(Fl),$o(nC,8),$o(iC,8))},oC.\u0275dir=dt({type:oC,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,nC,1),Mu(n,iC,1)),2&e&&(Ou(i=Lu())&&(t.links=i),Ou(i=Lu())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ct]}),oC),cC=((aC=function(){function e(t,n,i,r,a){v(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new _u,this.deactivateEvents=new _u,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return m(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new hC(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||aC)($o($S),$o(Yl),$o(ol),si("name"),$o(Fl))},aC.\u0275dir=dt({type:aC,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),aC),hC=function(){function e(t,n,i){v(this,e),this.route=t,this.childContexts=n,this.parent=i}return m(e,[{key:"get",value:function(e,t){return e===Dx?this.route:e===$S?this.childContexts:this.parent.get(e,t)}}]),e}(),dC=function e(){v(this,e)},fC=function(){function e(){v(this,e)}return m(e,[{key:"preload",value:function(e,t){return ov(null)}}]),e}(),pC=((lC=function(){function e(t,n,i,r,a){v(this,e),this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new WS(n,i,function(e){return t.triggerEvent(new Nk(e))},function(e){return t.triggerEvent(new zk(e))})}return m(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(lv(function(e){return e instanceof Tk}),sv(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(Wl);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var o=a._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(e,a)):a.children&&i.push(this.processRoutes(e,a.children))}}catch(s){r.e(s)}finally{r.f()}return X(i).pipe(re(),H(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?ov(t._loadedConfig):n.loader.load(e.injector,t)).pipe(te(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}()).\u0275fac=function(e){return new(e||lC)(Ei(tC),Ei(Ic),Ei(rc),Ei(Ao),Ei(dC))},lC.\u0275prov=Ae({token:lC,factory:lC.\u0275fac}),lC),vC=((sC=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return m(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Ak?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tk&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof qk&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new qk(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||sC)(Ei(tC),Ei(Uh),Ei(void 0))},sC.\u0275prov=Ae({token:sC,factory:sC.\u0275fac}),sC),gC=new ui("ROUTER_CONFIGURATION"),mC=new ui("ROUTER_FORROOT_GUARD"),yC=[sh,{provide:lx,useClass:ux},{provide:tC,useFactory:function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,c=new tC(null,e,t,n,i,r,a,Kk(o));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,c),s.enableTracing){var h=Vc();c.events.subscribe(function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return c},deps:[lx,$S,sh,Ao,Ic,rc,US,gC,[function(){return function e(){v(this,e)}}(),new Pi],[HS,new Pi]]},$S,{provide:Dx,useFactory:function(e){return e.routerState.root},deps:[tC]},{provide:Ic,useClass:Pc},pC,fC,function(){function e(){v(this,e)}return m(e,[{key:"preload",value:function(e,t){return t().pipe(jw(function(){return ov(null)}))}}]),e}(),{provide:gC,useValue:{enableTracing:!1}}];function bC(){return new kc("Router",tC)}var _C,wC=((_C=function(){function e(t,n){v(this,e)}return m(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[yC,CC(t),{provide:mC,useFactory:SC,deps:[[tC,new Pi,new Mi]]},{provide:gC,useValue:n||{}},{provide:Jc,useFactory:xC,deps:[Hc,[new Oi(rh),new Pi],gC]},{provide:vC,useFactory:kC,deps:[tC,Uh,gC]},{provide:dC,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fC},{provide:kc,multi:!0,useFactory:bC},[RC,{provide:ju,multi:!0,useFactory:AC,deps:[RC]},{provide:DC,useFactory:TC,deps:[RC]},{provide:$u,multi:!0,useExisting:DC}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[CC(t)]}}}]),e}()).\u0275fac=function(e){return new(e||_C)(Ei(mC,8),Ei(tC,8))},_C.\u0275mod=ct({type:_C}),_C.\u0275inj=Te({}),_C);function kC(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new vC(e,t,n)}function xC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new oh(e,t):new ah(e,t)}function SC(e){return"guarded"}function CC(e){return[{provide:ci,multi:!0,useValue:e},{provide:US,multi:!0,useValue:e}]}var EC,RC=((EC=function(){function e(t){v(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new V}return m(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Wc,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),i=e.injector.get(tC),r=e.injector.get(gC);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return e.initNavigation?ov(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(gC),n=this.injector.get(pC),i=this.injector.get(vC),r=this.injector.get(tC),a=this.injector.get(Ac);e===a.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}()).\u0275fac=function(e){return new(e||EC)(Ei(Ao))},EC.\u0275prov=Ae({token:EC,factory:EC.\u0275fac}),EC);function AC(e){return e.appInitializer.bind(e)}function TC(e){return e.bootstrapListener.bind(e)}var IC,DC=new ui("Router Initializer"),OC=((IC=function(){function e(t,n,i){v(this,e),this.http=t,this.router=n,this.systemService=i,this.user=new dy(null),this.sysConfig=new dy(new xk(!0,"","","")),this.userData=null}return m(e,[{key:"initialize",value:function(){var e=this;return this.systemService.getConfigApi().pipe(jw(function(e){return console.log("error in getconfigapi call"),console.log(e),Wy(e)}),Vy(function(t){console.log("auth: calling config api"),e.sysConfig.next(t),e.userData=new kk(t.app_protected,"Anonymous","",null,"",null),e.user.next(e.userData),e.userData.appProtected&&(console.log("app is protected"),e.autoLogin())}))}},{key:"login",value:function(e,t,n){var i=this;return this.systemService.getLoginApi(e,t).pipe(jw(this.handleError),Vy(function(e){i.handleAuthentication(e.username,e.access_token,e.access_token_lifetime,e.refresh_token,e.refresh_token_lifetime,n)}))}},{key:"autoLogin",value:function(){console.log("in auth.autoLogin: checking for stored token");var e=JSON.parse(localStorage.getItem("authData"));if(e){var t=new kk(!0,e.userName,e._accessToken,new Date(e._accessTokenExpirationDate),e._refreshToken,new Date(e._refreshTokenExpirationDate));if(t.refreshToken){console.log("Loaded valid refresh token from store: refreshing access"),this.user.next(t),this.userData=t;var n=new Date(e._refreshTokenExpirationDate).getTime()-(new Date).getTime();this.refresh(),this.autoLogout(n)}console.log("auth.autoLogin succeeded")}else console.log("stored token not found")}},{key:"logout",value:function(){console.log("in auth.logout: refresh token expired"),this.userData=new kk(!0,"","",null,"",null),this.user.next(this.userData),this.router.navigate(["/"]),localStorage.removeItem("authData"),this.accessTokenExpirationTimer&&clearTimeout(this.accessTokenExpirationTimer),this.refreshTokenExpirationTimer&&clearTimeout(this.refreshTokenExpirationTimer),this.refreshTokenExpirationTimer=null}},{key:"autoLogout",value:function(e){console.log("in auth.autologout"),this.refreshTokenExpirationTimer=setTimeout(function(){},e)}},{key:"refresh",value:function(){var e=this;console.log("in auth.refresh: refreshing access token"),this.systemService.getRefreshApi().pipe(jw(function(t){return console.log("error refreshing access token"),e.logout(),Wy(t)})).subscribe(function(t){console.log("refreshed access token"),e.handleRefresh(t.access_token,t.access_token_lifetime)})}},{key:"autoRefresh",value:function(e){var t=this;console.log("in auth.autorefresh"),this.accessTokenExpirationTimer&&clearTimeout(this.accessTokenExpirationTimer),console.log("setting access token timer"),this.accessTokenExpirationTimer=setTimeout(function(){t.refresh()},e)}},{key:"handleAuthentication",value:function(e,t,n,i,r,a){console.log("in auth.handleauthentication");var o=new Date((new Date).getTime()+1e3*n),s=new Date((new Date).getTime()+1e3*r),l=new kk(!0,e,t,o,i,s);this.user.next(l),this.userData=l,this.autoLogout(1e3*r),this.autoRefresh(1e3*n),a&&localStorage.setItem("authData",JSON.stringify(l))}},{key:"handleRefresh",value:function(e,t){console.log("in handlerefresh"),this.userData.accessToken=e,this.userData.accessTokenExpirationDate=new Date((new Date).getTime()+1e3*t),this.autoRefresh(1e3*t),this.user.next(this.userData)}},{key:"handleError",value:function(e){return Wy("Bad user name or password")}}]),e}()).\u0275fac=function(e){return new(e||IC)(Ei(Fv),Ei(tC),Ei(tk))},IC.\u0275prov=Ae({token:IC,factory:IC.\u0275fac}),IC),PC=function(){return["./samplerep","null"]};function MC(e,t){if(1&e){var n=ns();Ko(0,"li",10),Ko(1,"a",11),Ns(2," AIRR-Seq Data "),Xo(),Ko(3,"div",12),Ko(4,"a",13),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(5,"Explore AIRR-Seq Data"),Xo(),Ko(6,"a",14),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(7,"Samples"),Xo(),Ko(8,"a",15),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(9,"Germline Genes"),Xo(),Xo(),Xo()}2&e&&(pa(6),Yo("routerLink",lu(1,PC)))}var LC=function(){return["./genesample","null"]},FC=function(){return["./genebrowser","Human","Human_IGH"]};function NC(e,t){if(1&e){var n=ns();Ko(0,"li",10),Ko(1,"a",16),Ns(2," Genomic Data "),Xo(),Ko(3,"div",12),Ko(4,"a",14),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(5,"Subjects"),Xo(),Ko(6,"a",17),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(7,"Genes"),Xo(),Ko(8,"a",14),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(9,"Gene Browser"),Xo(),Xo(),Xo()}2&e&&(pa(4),Yo("routerLink",lu(2,LC)),pa(4),Yo("routerLink",lu(3,FC)))}function zC(e,t){if(1&e){var n=ns();Ko(0,"li",18),Ko(1,"a",19),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(2,"Reports"),Xo(),Xo()}}function VC(e,t){if(1&e){var n=ns();Ko(0,"li",10),Ko(1,"a",20),Ns(2," Help / About "),Xo(),Ko(3,"div",12),Ko(4,"a",21),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(5,"User Guide"),Xo(),Ko(6,"a",22),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(7,"Quick Reference"),Xo(),Ko(8,"a",23),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(9,"Guide to Reports (pdf)"),Xo(),Ko(10,"a",24),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(11,"Glossary (pdf)"),Xo(),Ko(12,"a",25),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(13,"Licensing"),Xo(),Xo(),Xo()}}function jC(e,t){if(1&e){var n=ns();Ko(0,"li",18),Ko(1,"a",26),os("click",function(){return Zt(n),hs().isMenuCollapsed=!0}),Ns(2,"Login"),Xo(),Xo()}}function BC(e,t){if(1&e){var n=ns();Ko(0,"li",18),Ko(1,"a",26),os("click",function(){return Zt(n),hs().onLogout()}),Ns(2,"Logout"),Xo(),Xo()}}var HC,qC,UC=function(){return{exact:!0}},WC=((qC=function(){function e(t,n){v(this,e),this.authService=t,this.router=n,this.isMenuCollapsed=!0,this.displayLogin=!1,this.displayLogout=!1,this.displayProtected=!0}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.user.subscribe(function(t){t.appProtected?t.accessToken?(console.log("protected and we have an access token"),e.displayLogin=!1,e.displayLogout=!0,e.displayProtected=!0):(console.log("protected and no access token"),e.displayLogin=!0,e.displayLogout=!1,e.displayProtected=!1):(console.log("app is not protected"),e.displayLogin=!1,e.displayLogout=!1,e.displayProtected=!0)})}},{key:"onLogout",value:function(){this.authService.logout(),this.router.navigate(["/auth"])}}]),e}()).\u0275fac=function(e){return new(e||qC)($o(OC),$o(tC))},qC.\u0275cmp=ot({type:qC,selectors:[["app-header"]],decls:14,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent"],["type","button","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],["ngbNav","",1,"navbar-nav","mr-auto"],["ngbNavItem","","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions","click"],["ngbNavLink","","routerLink","/",1,"nav-link",2,"padding","0"],["src","./assets/img/logo_white_2.png","alt","VDJlogo","height","40",1,"navbar-brand",2,"padding","0"],["ngbDropdown","","class","nav-item dropdown",4,"ngIf"],["ngbNavItem","","class","nav-item","routerLinkActive","active",4,"ngIf"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","id","navbarAIRRSeq","role","button",1,"nav-link"],["ngbDropdownMenu","","aria-labelledby","navbarHelpAbout",1,"dropdown-menu"],["ngbDropdownItem","","routerLink","./datarep",1,"dropdown-item",3,"click"],["ngbDropdownItem","",1,"dropdown-item",3,"routerLink","click"],["ngbDropdownItem","","routerLink","./generep",1,"dropdown-item",3,"click"],["ngbDropdownToggle","","id","navbarGenomic","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","routerLink","./genetable",1,"dropdown-item",3,"click"],["ngbNavItem","","routerLinkActive","active",1,"nav-item"],["ngbNavLink","","routerLink","/reports",1,"nav-link",3,"click"],["ngbDropdownToggle","","id","navbarHelpAbout","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","href","./user-guide",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./quick-ref",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/report_documentation.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/glossary.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./licensing",1,"dropdown-item",3,"click"],["ngbNavLink","","routerLink","/auth",1,"nav-link",3,"click"]],template:function(e,t){1&e&&(Ko(0,"nav",0),Ko(1,"button",1),os("click",function(){return t.isMenuCollapsed=!t.isMenuCollapsed}),Qo(2,"span",2),Xo(),Ko(3,"div",3),Ko(4,"ul",4),Ko(5,"li",5),os("click",function(){return t.isMenuCollapsed=!0}),Ko(6,"a",6),Qo(7,"img",7),Xo(),Xo(),Wo(8,MC,10,2,"li",8),Wo(9,NC,10,4,"li",8),Wo(10,zC,3,0,"li",9),Wo(11,VC,14,0,"li",8),Wo(12,jC,3,0,"li",9),Wo(13,BC,3,0,"li",9),Xo(),Xo(),Xo()),2&e&&(pa(3),Yo("ngbCollapse",t.isMenuCollapsed),pa(2),Yo("routerLinkActiveOptions",lu(8,UC)),pa(3),Yo("ngIf",t.displayProtected),pa(1),Yo("ngIf",t.displayProtected),pa(1),Yo("ngIf",t.displayProtected),pa(1),Yo("ngIf",t.displayProtected),pa(1),Yo("ngIf",t.displayLogin),pa(1),Yo("ngIf",t.displayLogout))},directives:[f_,Eb,N_,F_,uC,z_,iC,kh,y_,m_,v_,p_],styles:[".nav-item[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{font-size:16px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}),qC),GC=((HC=function e(){v(this,e),this.title="digby"}).\u0275fac=function(e){return new(e||HC)},HC.\u0275cmp=ot({type:HC,selectors:[["app-root"]],features:[il([wk])],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"div",2),Qo(3,"app-header"),Xo(),Xo(),Ko(4,"div",1),Ko(5,"div",2),Qo(6,"router-outlet"),Xo(),Xo(),Xo())},directives:[WC,cC],styles:[""]}),HC);function $C(e,t){if(1&e&&(Ko(0,"option",10),Ns(1),Xo()),2&e){var n=t.$implicit;Yo("ngValue",n),pa(1),zs(n.name)}}function YC(e,t){if(1&e){var n=ns();Ko(0,"div",1),Ko(1,"div",2),Ko(2,"div",3),Ko(3,"label",11),Ns(4,"Genomic Sets"),Xo(),Xo(),Ko(5,"ng-multiselect-dropdown",12),os("ngModelChange",function(e){return Zt(n),hs().selectedGen=e})("ngModelChange",function(){return Zt(n),hs().refSeqChange()}),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(5),Cs("selector-dropdown"),Yo("settings",i.genDropdownSettings)("data",i.datasets)("ngModel",i.selectedGen)("placeholder","Select Datasets")}}function ZC(e,t){if(1&e){var n=ns();Ko(0,"div",1),Ko(1,"div",2),Ko(2,"div",3),Ko(3,"label",13),Ns(4,"Genomic Assemblies"),Xo(),Xo(),Ko(5,"ng-multiselect-dropdown",14),os("ngModelChange",function(e){return Zt(n),hs().selectedAssembly=e})("ngModelChange",function(){return Zt(n),hs().assemblyChange()}),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(5),Cs("selector-dropdown"),Yo("settings",i.genAssemblyDropdownSettings)("data",i.assemblies)("ngModel",i.selectedAssembly)("placeholder","Select Datasets")}}function KC(e,t){if(1&e){var n=ns();Ko(0,"div",1),Ko(1,"div",2),Ko(2,"div",3),Ko(3,"label",15),Ns(4,"AIRR-seq Sets"),Xo(),Xo(),Ko(5,"ng-multiselect-dropdown",16),os("ngModelChange",function(e){return Zt(n),hs().selectedRep=e})("ngModelChange",function(){return Zt(n),hs().repSeqChange()}),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(5),Cs("selector-dropdown"),Yo("settings",i.repDropdownSettings)("data",i.repSeqs)("ngModel",i.selectedRep)("placeholder","Select Datasets")}}function XC(e,t){1&e&&(Ko(0,"div",17),Ko(1,"span",18),Ns(2,"Loading..."),Xo(),Xo())}function QC(e,t){if(1&e&&(Ko(0,"div",19),Ko(1,"div",20),Ko(2,"h4"),Ns(3),Xo(),Xo(),Xo()),2&e){var n=hs();pa(3),Vs("Error loading data: ",n.error,"")}}var JC,eE=((JC=function(){function e(t,n,i){v(this,e),this.genomicService=t,this.repseqService=n,this.geneTableService=i,this.species=null,this.selectedSpecies=null,this.notifiedUpdates={species:!1,refSeq:!1,repSeq:!1,assemblies:!1},this.datasets=[],this.assemblies=[],this.repSeqs=[],this.selectedGen=[],this.selectedAssembly=[],this.selectedRep=[],this.repDatasetDescriptions=[],this.initializing=!1,this.error=null,this.geneTableServiceSubscription=null,this.genDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.genAssemblyDropdownSettings={singleSelection:!0,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}return m(e,[{key:"ngOnInit",value:function(){this.isFetching=!0}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.species?!t.species||e.selectedSpecies&&t.species===e.selectedSpecies.name?(t.repSeqs&&tE(new Set(t.repSeqs),new Set(e.selectedRep.map(function(e){return e.text}))).size&&(e.selectedRep=e.repSeqs.filter(function(e){return t.repSeqs.indexOf(e.text)>=0})),t.datasets&&tE(new Set(t.datasets),new Set(e.selectedGen.map(function(e){return e.text}))).size&&(e.selectedGen=e.datasets.filter(function(e){return t.datasets.indexOf(e.text)>=0})),t.assemblies&&tE(new Set(t.assemblies),new Set(e.selectedAssembly.map(function(e){return e.text}))).size&&(e.selectedAssembly=e.assemblies.filter(function(e){return t.assemblies.indexOf(e.text)>=0}))):(e.selectedSpecies=e.species.filter(function(e){return e.name===t.species})[0],e.updateGen(t.datasets),e.updateRep(t.repSeqs)):(e.initializing=!0,e.updateSpecies(t))})})}},{key:"updateSpecies",value:function(e){var t=this;this.genomicService.getSpeciesApi().pipe(vk(),jw(function(e){return t.isFetching=!1,t.error=e,Zm})).subscribe(function(n){t.isFetching=!1;var i=1;t.species=[];var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s={id:i,name:o};t.species.push(s),o===e.species&&(t.selectedSpecies=s),i+=1}}catch(l){a.e(l)}finally{a.f()}t.updateGen(e.datasets),t.updateRep(e.repSeqs)},function(e){t.isFetching=!1,t.error=e.message})}},{key:"updateGen",value:function(e){var t=this;this.genomicService.getDataSetApi(this.selectedSpecies.name).pipe(vk(),jw(function(e){return t.isFetching=!1,t.error=e,Zm})).subscribe(function(n){t.isFetching=!1,t.datasets=[],t.selectedGen=[];var i,r=1,a=d(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.datasets.push({id:r,text:o.dataset}),e&&e.indexOf(o.ref_seq)>=0&&t.selectedGen.push({id:r,text:o.dataset}),r+=1}}catch(s){a.e(s)}finally{a.f()}0===t.selectedGen.length&&t.datasets.length>0&&t.selectedGen.push(t.datasets[0]),t.notifiedUpdates.refSeq=!0,t.onSelectionChange(),t.updateAssemblies(t.geneTableService.selection.value.assemblies)},function(e){t.isFetching=!1,t.error=e.message})}},{key:"updateAssemblies",value:function(e){var t=this;this.selectedGen.length>0?this.genomicService.getAssemblyApi(this.selectedSpecies.name,this.selectedGen.map(function(e){return e.text}).join()).pipe(vk(),jw(function(e){return t.isFetching=!1,t.error=e,Zm})).subscribe(function(n){t.isFetching=!1,t.assemblies=[],t.selectedAssembly=[];var i,r=1,a=d(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.assemblies.push({id:r,text:o.assembly}),e&&e.indexOf(o.ref_seq)>=0&&t.selectedAssembly.push({id:r,text:o.dataset}),r+=1}}catch(s){a.e(s)}finally{a.f()}0===t.selectedAssembly.length&&t.assemblies.length>0&&t.selectedAssembly.push(t.assemblies[0])},function(e){t.isFetching=!1,t.error=e.message}):(this.assemblies=[],this.selectedAssembly=[]),this.notifiedUpdates.assemblies=!0,this.onSelectionChange()}},{key:"updateRep",value:function(e){var t=this;this.repseqService.getDataSetApi(this.selectedSpecies.name).pipe(vk(),jw(function(e){return t.isFetching=!1,t.error=e,Zm})).subscribe(function(n){t.isFetching=!1,t.repSeqs=[],t.selectedRep=[],t.repDatasetDescriptions=n;var i,r=1,a=d(n);try{for(a.s();!(i=a.n()).done;){var o=i.value.dataset;t.repSeqs.push({id:r,text:o}),e.indexOf(o)>=0&&t.selectedRep.push({id:r,text:o}),r+=1}}catch(s){a.e(s)}finally{a.f()}0===t.selectedRep.length&&t.repSeqs.length>0&&t.selectedRep.push(t.repSeqs[0]),t.notifiedUpdates.repSeq=!0,t.onSelectionChange()},function(e){t.isFetching=!1,t.error=e.message})}},{key:"handleError",value:function(e){this.isFetching=!1,this.error=e.message}},{key:"speciesChange",value:function(){this.notifiedUpdates.species=!0,this.selectedGen=[],this.selectedRep=[],this.selectedAssembly=[],"None"!==this.selectedSpecies.name&&(this.geneTableService.selection.value.species===this.selectedSpecies.name?(this.updateGen(this.geneTableService.selection.value.datasets),this.updateRep(this.geneTableService.selection.value.repSeqs)):(this.updateGen([]),this.updateRep([])))}},{key:"repSeqChange",value:function(){this.notifiedUpdates.repSeq=!0,(tE(new Set(this.geneTableService.selection.value.repSeqs),new Set(this.selectedRep.map(function(e){return e.text}))).size||this.initializing)&&this.onSelectionChange(),this.initializing=!1}},{key:"assemblyChange",value:function(){this.notifiedUpdates.repSeq=!0,(tE(new Set(this.geneTableService.selection.value.repSeqs),new Set(this.selectedAssembly.map(function(e){return e.text}))).size||this.initializing)&&this.onSelectionChange(),this.initializing=!1}},{key:"refSeqChange",value:function(){this.notifiedUpdates.refSeq=!0,tE(new Set(this.geneTableService.selection.value.datasets),new Set(this.selectedGen.map(function(e){return e.text}))).size&&this.onSelectionChange()}},{key:"onSelectionChange",value:function(){(!this.notifiedUpdates.species||this.notifiedUpdates.repSeq&&this.notifiedUpdates.refSeq&&this.notifiedUpdates.assemblies)&&this.selectedSpecies&&(this.notifiedUpdates={species:!1,refSeq:!1,repSeq:!1,assemblies:!1},this.geneTableService.selection.next({species:this.selectedSpecies.name,datasets:this.selectedGen.map(function(e){return e.text}),assemblies:this.selectedAssembly.map(function(e){return e.text}),repSeqs:this.selectedRep.map(function(e){return e.text}),repDatasetDescriptions:this.repDatasetDescriptions}))}}]),e}()).\u0275fac=function(e){return new(e||JC)($o(Qw),$o(ek),$o(bk))},JC.\u0275cmp=ot({type:JC,selectors:[["app-gene-table-selector"]],inputs:{showGenomic:"showGenomic",showAssembly:"showAssembly",showRepseq:"showRepseq"},decls:13,vars:7,consts:[[1,"form-row","align-items-center"],[1,"col-auto","my-1"],[1,"input-group"],[1,"input-group-prepend"],["for","selectSpecies",1,"input-group-text"],["id","selectSpecies",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-auto my-1",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngValue"],["for","selectGenomic",1,"input-group-text",2,"height","38px"],["id","selectGenomic",3,"settings","data","ngModel","placeholder","ngModelChange"],["for","selectAssembly",1,"input-group-text",2,"height","38px"],["id","selectAssembly",3,"settings","data","ngModel","placeholder","ngModelChange"],["for","selectAIRR",1,"input-group-text",2,"height","38px"],["id","selectAIRR",3,"settings","data","ngModel","placeholder","ngModelChange"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"div",2),Ko(3,"div",3),Ko(4,"label",4),Ns(5,"Species"),Xo(),Xo(),Ko(6,"select",5),os("ngModelChange",function(e){return t.selectedSpecies=e})("ngModelChange",function(){return t.speciesChange()}),Wo(7,$C,2,2,"option",6),Xo(),Xo(),Xo(),Wo(8,YC,6,6,"div",7),Wo(9,ZC,6,6,"div",7),Wo(10,KC,6,6,"div",7),Xo(),Wo(11,XC,3,0,"div",8),Wo(12,QC,4,1,"div",9)),2&e&&(pa(6),Yo("ngModel",t.selectedSpecies),pa(1),Yo("ngForOf",t.species),pa(1),Yo("ngIf",t.showGenomic),pa(1),Yo("ngIf",t.showAssembly),pa(1),Yo("ngIf",t.showRepseq),pa(1),Yo("ngIf",t.isFetching),pa(1),Yo("ngIf",t.error))},directives:[Om,Ng,ym,_h,kh,Pm,qm,fw],styles:[".selector-dropdown .dropdown-btn{line-height:24px!important;height:38px!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-color:#ced4da!important}"],encapsulation:2}),JC);function tE(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.has(a)?i.delete(a):i.add(a)}}catch(o){r.e(o)}finally{r.f()}return i}var nE,iE,rE=f("LvDl"),aE=((iE=function(){function e(t){v(this,e),this.activeModal=t,this.width=50,this.gapped=!1,this.fasta=!1,this.gappedAvailable=!1}return m(e,[{key:"ngOnInit",value:function(){this.gappedAvailable=this.content.gapped&&this.content.gapped.length>0,this.format_sequence()}},{key:"format_sequence",value:function(){var e,t=1;if(this.displayContent="",e=this.gapped?this.content.gapped?this.content.gapped:"":this.content.ungapped?this.content.ungapped:""){this.fasta&&(this.displayContent+=">"+this.name+"<br>");var n,i=d(this.chunkSubstr(e,this.width));try{for(i.s();!(n=i.n()).done;){var r=n.value;this.fasta?this.displayContent+=r+"<br>":(this.displayContent+=rE.padEnd(t.toString(),5),r.length>10&&(this.displayContent+=rE.repeat(" ",r.length-10)+rE.padStart((t+r.length-1).toString(),5)),this.displayContent+="<br>"+r+"<br><br>",t+=r.length)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"chunkSubstr",value:function(e,t){for(var n=Math.ceil(e.length/t),i=new Array(n),r=0,a=0;r<n;++r,a+=t)i[r]=e.substr(a,t);return i}},{key:"onGappedClick",value:function(e){this.gapped=!this.gapped,e.textContent=this.gapped?"Ungapped":"Gapped",this.format_sequence()}},{key:"onFastaClick",value:function(e){this.fasta=!this.fasta,e.textContent=this.fasta?"Numbered":"FASTA",this.format_sequence()}}]),e}()).\u0275fac=function(e){return new(e||iE)($o(C_))},iE.\u0275cmp=ot({type:iE,selectors:[["app-seq-modal"]],inputs:{name:"name",content:"content"},decls:18,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"lead"],[2,"width","600px","margin-left","auto","margin-right","auto",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"disabled","click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"h4",1),Ns(2),Xo(),Ko(3,"button",2),os("click",function(){return t.activeModal.dismiss("Cross click")}),Ko(4,"span",3),Ns(5,"\xd7"),Xo(),Xo(),Xo(),Ko(6,"div",4),Ko(7,"pre",5),Ns(8,"    "),Qo(9,"div",6),Ns(10,"\n  "),Xo(),Xo(),Ko(11,"div",7),Ko(12,"button",8),os("click",function(e){return t.onGappedClick(e.target)}),Ns(13,"Gapped"),Xo(),Ko(14,"button",9),os("click",function(e){return t.onFastaClick(e.target)}),Ns(15,"FASTA"),Xo(),Ko(16,"button",9),os("click",function(){return t.activeModal.close("Close click")}),Ns(17,"Close"),Xo(),Xo()),2&e&&(pa(2),zs(t.name),pa(7),Yo("innerHTML",t.displayContent,gr),pa(3),Yo("disabled",!t.gappedAvailable))},styles:[""]}),iE),oE=function(){function e(t){v(this,e),this.genomicService=t,this.geneSequenceSubject=new dy([]),this.choicesSubject=new dy({}),this.loadingSubject=new dy(!1),this.errorSubject=new dy(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return m(e,[{key:"loadGeneSequences",value:function(e,t,n,i,r,a,o){var s=this;t="Test"===t?"Human_IGH":t,this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSequencesApi(e,t,n,i,r,a,o).pipe(vk(),jw(function(e){return s.errorSubject.next(e),[]}),ck(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("sequences")?s.geneSequenceSubject.next(e.sequences):s.geneSequenceSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.geneSequenceSubject.next([]))}},{key:"connect",value:function(e){return this.geneSequenceSubject.asObservable()}},{key:"disconnect",value:function(e){this.geneSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}();function sE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?n.some(function(t){return e[t]}):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function lE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny;return function(n){return n.lift(new uE(e,t))}}var uE=function(){function e(t,n){v(this,e),this.dueTime=t,this.scheduler=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new cE(e,this.dueTime,this.scheduler))}}]),e}(),cE=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).dueTime=i,a.scheduler=r,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return m(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(hE,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(A);function hE(e){e.debouncedNext()}function dE(e){return null!=e&&"false"!="".concat(e)}function fE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function pE(e){return Array.isArray(e)?e:[e]}function vE(e){return null==e?"":"string"==typeof e?e:"".concat(e,"px")}function gE(e){return e instanceof cl?e.nativeElement:e}try{nE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(gG){nE=!1}var mE,yE,bE,_E,wE,kE,xE=((bE=function e(t){v(this,e),this._platformId=t,this.isBrowser=this._platformId?Hh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(e){return new(e||bE)(Ei(Gu))},bE.\u0275prov=Ae({factory:function(){return new bE(Ei(Gu))},token:bE,providedIn:"root"}),bE),SE=((yE=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yE)},yE.\u0275mod=ct({type:yE}),yE.\u0275inj=Te({}),yE),CE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function EE(){if(mE)return mE;if("object"!=typeof document||!document)return mE=new Set(CE);var e=document.createElement("input");return mE=new Set(CE.filter(function(t){return e.setAttribute("type",t),e.type===t}))}function RE(e){return function(){if(null==_E&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return _E=!0}}))}finally{_E=_E||!1}return _E}()?e:!!e.capture}function AE(e){if(function(){if(null==kE){var e="undefined"!=typeof document?document.head:null;kE=!(!e||!e.createShadowRoot&&!e.attachShadow)}return kE}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}var TE,IE,DE,OE,PE=((OE=function(){function e(){v(this,e)}return m(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).\u0275fac=function(e){return new(e||OE)},OE.\u0275prov=Ae({factory:function(){return new OE},token:OE,providedIn:"root"}),OE),ME=((DE=function(){function e(t){v(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return m(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach(function(t,n){return e._cleanupObserver(n)})}},{key:"observe",value:function(e){var t=this,n=gE(e);return new P(function(e){var i=t._observeElement(n).subscribe(e);return function(){i.unsubscribe(),t._unobserveElement(n)}})}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new V,n=this._mutationObserverFactory.create(function(e){return t.next(e)});n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,i=t.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}}}]),e}()).\u0275fac=function(e){return new(e||DE)(Ei(PE))},DE.\u0275prov=Ae({factory:function(){return new DE(Ei(PE))},token:DE,providedIn:"root"}),DE),LE=((IE=function(){function e(t,n,i){v(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=i,this.event=new _u,this._disabled=!1,this._currentSubscription=null}return m(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=dE(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=fE(e),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){e._currentSubscription=(e.debounce?t.pipe(lE(e.debounce)):t).subscribe(e.event)})}},{key:"_unsubscribe",value:function(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||IE)($o(ME),$o(cl),$o(sc))},IE.\u0275dir=dt({type:IE,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),IE),FE=((TE=function e(){v(this,e)}).\u0275fac=function(e){return new(e||TE)},TE.\u0275mod=ct({type:TE}),TE.\u0275inj=Te({providers:[PE]}),TE);function NE(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var zE,VE=0,jE=new Map,BE=null,HE=((zE=function(){function e(t){v(this,e),this._document=t}return m(e,[{key:"describe",value:function(e,t,n){if(this._canBeDescribed(e,t)){var i=qE(t,n);"string"!=typeof t?(UE(t),jE.set(i,{messageElement:t,referenceCount:0})):jE.has(i)||this._createMessageElement(t,n),this._isElementDescribedByMessage(e,i)||this._addMessageReference(e,i)}}},{key:"removeDescription",value:function(e,t,n){if(t&&this._isElementNode(e)){var i=qE(t,n);if(this._isElementDescribedByMessage(e,i)&&this._removeMessageReference(e,i),"string"==typeof t){var r=jE.get(i);r&&0===r.referenceCount&&this._deleteMessageElement(i)}BE&&0===BE.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");BE&&this._deleteMessagesContainer(),jE.clear()}},{key:"_createMessageElement",value:function(e,t){var n=this._document.createElement("div");UE(n),n.textContent=e,t&&n.setAttribute("role",t),this._createMessagesContainer(),BE.appendChild(n),jE.set(qE(e,t),{messageElement:n,referenceCount:0})}},{key:"_deleteMessageElement",value:function(e){var t=jE.get(e),n=t&&t.messageElement;BE&&n&&BE.removeChild(n),jE.delete(e)}},{key:"_createMessagesContainer",value:function(){if(!BE){var e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode&&e.parentNode.removeChild(e),(BE=this._document.createElement("div")).id="cdk-describedby-message-container",BE.style.visibility="hidden",BE.classList.add("cdk-visually-hidden"),this._document.body.appendChild(BE)}}},{key:"_deleteMessagesContainer",value:function(){BE&&BE.parentNode&&(BE.parentNode.removeChild(BE),BE=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(e){var t=NE(e,"aria-describedby").filter(function(e){return 0!=e.indexOf("cdk-describedby-message")});e.setAttribute("aria-describedby",t.join(" "))}},{key:"_addMessageReference",value:function(e,t){var n,i,r,a,o=jE.get(t);n=e,i="aria-describedby",r=o.messageElement.id,(a=NE(n,i)).some(function(e){return e.trim()==r.trim()})||(a.push(r.trim()),n.setAttribute(i,a.join(" "))),e.setAttribute("cdk-describedby-host",""),o.referenceCount++}},{key:"_removeMessageReference",value:function(e,t){var n,i,r,a,o=jE.get(t);o.referenceCount--,n=e,i="aria-describedby",r=o.messageElement.id,(a=NE(n,i).filter(function(e){return e!=r.trim()})).length?n.setAttribute(i,a.join(" ")):n.removeAttribute(i),e.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(e,t){var n=NE(e,"aria-describedby"),i=jE.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}},{key:"_canBeDescribed",value:function(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;var n=null==t?"":"".concat(t).trim(),i=e.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}},{key:"_isElementNode",value:function(e){return e.nodeType===this._document.ELEMENT_NODE}}]),e}()).\u0275fac=function(e){return new(e||zE)(Ei(Bc))},zE.\u0275prov=Ae({factory:function(){return new zE(Ei(Bc))},token:zE,providedIn:"root"}),zE);function qE(e,t){return"string"==typeof e?"".concat(t||"","/").concat(e):e}function UE(e){e.id||(e.id="cdk-describedby-message-"+VE++)}var WE,GE=function(){function e(t){var n=this;v(this,e),this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new V,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(e){return e.disabled},this._pressedLetters=[],this.tabOut=new V,this.change=new V,t instanceof ku&&t.changes.subscribe(function(e){if(n._activeItem){var t=e.toArray().indexOf(n._activeItem);t>-1&&t!==n._activeItemIndex&&(n._activeItemIndex=t)}})}return m(e,[{key:"skipPredicate",value:function(e){return this._skipPredicateFn=e,this}},{key:"withWrap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=e,this}},{key:"withVerticalOrientation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=e,this}},{key:"withHorizontalOrientation",value:function(e){return this._horizontal=e,this}},{key:"withAllowedModifierKeys",value:function(e){return this._allowedModifierKeys=e,this}},{key:"withTypeAhead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Vy(function(t){return e._pressedLetters.push(t)}),lE(t),lv(function(){return e._pressedLetters.length>0}),H(function(){return e._pressedLetters.join("")})).subscribe(function(t){for(var n=e._getItemsArray(),i=1;i<n.length+1;i++){var r=(e._activeItemIndex+i)%n.length,a=n[r];if(!e._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(r);break}}e._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=e,this}},{key:"setActiveItem",value:function(e){var t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(e){var t=this,n=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!e[n]||t._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||sE(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(e){var t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}},{key:"_setActiveInWrapMode",value:function(e){for(var t=this._getItemsArray(),n=1;n<=t.length;n++){var i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}},{key:"_setActiveItemByIndex",value:function(e,t){var n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}},{key:"_getItemsArray",value:function(){return this._items instanceof ku?this._items.toArray():this._items}}]),e}(),$E=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"setActiveItem",value:function(e){this.activeItem&&this.activeItem.setInactiveStyles(),r(h(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(GE),YE=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._origin="program",e}return m(n,[{key:"setFocusOrigin",value:function(e){return this._origin=e,this}},{key:"setActiveItem",value:function(e){r(h(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(GE),ZE=((WE=function(){function e(t){v(this,e),this._platform=t}return m(e,[{key:"isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"isVisible",value:function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}},{key:"isTabbable",value:function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(gG){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){if(-1===XE(n))return!1;if(!this.isVisible(n))return!1}var i=e.nodeName.toLowerCase(),r=XE(e);return e.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}},{key:"isFocusable",value:function(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||KE(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}]),e}()).\u0275fac=function(e){return new(e||WE)(Ei(xE))},WE.\u0275prov=Ae({factory:function(){return new WE(Ei(xE))},token:WE,providedIn:"root"}),WE);function KE(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function XE(e){if(!KE(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var QE,JE,eR=function(){function e(t,n,i,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];v(this,e),this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return a.focusLastTabbableElement()},this.endAnchorListener=function(){return a.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return m(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], [cdkFocusRegion").concat(e,"], [cdk-focus-").concat(e,"]")),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-".concat(e))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]):t[n].hasAttribute("cdk-focus-region-".concat(e))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){var t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ty(1)).subscribe(e)}}]),e}(),tR=((JE=function(){function e(t,n,i){v(this,e),this._checker=t,this._ngZone=n,this._document=i}return m(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new eR(e,this._checker,this._ngZone,this._document,t)}}]),e}()).\u0275fac=function(e){return new(e||JE)(Ei(ZE),Ei(sc),Ei(Bc))},JE.\u0275prov=Ae({factory:function(){return new JE(Ei(ZE),Ei(sc),Ei(Bc))},token:JE,providedIn:"root"}),JE),nR=((QE=function(){function e(t,n,i){v(this,e),this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return m(e,[{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=dE(e)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(e){this._autoCapture=dE(e)}},{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"ngOnChanges",value:function(e){var t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}},{key:"_captureFocus",value:function(){var e,t,n=null===(e=this._document)||void 0===e?void 0:e.activeElement;this._previouslyFocusedElement=(null===(t=null==n?void 0:n.shadowRoot)||void 0===t?void 0:t.activeElement)||n,this.focusTrap.focusInitialElementWhenReady()}}]),e}()).\u0275fac=function(e){return new(e||QE)($o(cl),$o(tR),$o(Bc))},QE.\u0275dir=dt({type:QE,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Ct]}),QE);"undefined"!=typeof Element&&Element;var iR,rR,aR=new ui("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),oR=new ui("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),sR=((rR=function(){function e(t,n,i,r){v(this,e),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=t||this._createLiveElement()}return m(e,[{key:"announce",value:function(e){for(var t,i,r,a=this,o=this._defaultOptions,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return 1===l.length&&"number"==typeof l[0]?r=l[0]:(i=(t=n(l,2))[0],r=t[1]),this.clear(),clearTimeout(this._previousTimeout),i||(i=o&&o.politeness?o.politeness:"polite"),null==r&&o&&(r=o.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(function(){return new Promise(function(t){clearTimeout(a._previousTimeout),a._previousTimeout=setTimeout(function(){a._liveElement.textContent=e,t(),"number"==typeof r&&(a._previousTimeout=setTimeout(function(){return a.clear()},r))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}]),e}()).\u0275fac=function(e){return new(e||rR)(Ei(aR,8),Ei(sc),Ei(Bc),Ei(oR,8))},rR.\u0275prov=Ae({factory:function(){return new rR(Ei(aR,8),Ei(sc),Ei(Bc),Ei(oR,8))},token:rR,providedIn:"root"}),rR),lR=((iR=function(){function e(t,n,i,r){v(this,e),this._elementRef=t,this._liveAnnouncer=n,this._contentObserver=i,this._ngZone=r,this._politeness="polite"}return m(e,[{key:"politeness",get:function(){return this._politeness},set:function(e){var t=this;this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(function(){return t._contentObserver.observe(t._elementRef).subscribe(function(){var e=t._elementRef.nativeElement.textContent;e!==t._previousAnnouncedText&&(t._liveAnnouncer.announce(e,t._politeness),t._previousAnnouncedText=e)})}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||iR)($o(cl),$o(sR),$o(ME),$o(sc))},iR.\u0275dir=dt({type:iR,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),iR);function uR(e){return 0===e.buttons}function cR(e){var t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}var hR,dR=new ui("cdk-focus-monitor-default-options"),fR=RE({passive:!0,capture:!0}),pR=((hR=function(){function e(t,n,i,r){var a=this;v(this,e),this._ngZone=t,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){a._lastTouchTarget=null,a._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(e){if(!a._lastTouchTarget){var t=uR(e)?"keyboard":"mouse";a._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=function(e){cR(e)?a._lastTouchTarget||a._setOriginForCurrentEventQueue("keyboard"):(null!=a._touchTimeoutId&&clearTimeout(a._touchTimeoutId),a._lastTouchTarget=vR(e),a._touchTimeoutId=setTimeout(function(){return a._lastTouchTarget=null},650))},this._windowFocusListener=function(){a._windowFocused=!0,a._windowFocusTimeoutId=setTimeout(function(){return a._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(e){for(var t=vR(e),n="focus"===e.type?a._onFocus:a._onBlur,i=t;i;i=i.parentElement)n.call(a,e,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return m(e,[{key:"monitor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=gE(e);if(!this._platform.isBrowser||1!==n.nodeType)return ov(null);var i=AE(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return t&&(r.checkChildren=!0),r.subject;var a={checkChildren:t,subject:new V,rootNode:i};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject}},{key:"stopMonitoring",value:function(e){var t=gE(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(e,t,i){var r=this,a=gE(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(function(e){var i=n(e,2),a=i[0],o=i[1];return r._originChanged(a,t,o)}):(this._setOriginForCurrentEventQueue(t),"function"==typeof a.focus&&a.focus(i))}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach(function(t,n){return e.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_getFocusOrigin",value:function(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}},{key:"_setClasses",value:function(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){t._origin=e,0===t._detectionMode&&(t._originTimeoutId=setTimeout(function(){return t._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(e){var t=vR(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);n&&(n.checkChildren||t===vR(e))&&this._originChanged(t,this._getFocusOrigin(e),n)}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run(function(){return e.next(t)})}},{key:"_registerGlobalListeners",value:function(e){var t=this;if(this._platform.isBrowser){var n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",t._rootNodeFocusAndBlurListener,fR),n.addEventListener("blur",t._rootNodeFocusAndBlurListener,fR)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var e=t._getDocument(),n=t._getWindow();e.addEventListener("keydown",t._documentKeydownListener,fR),e.addEventListener("mousedown",t._documentMousedownListener,fR),e.addEventListener("touchstart",t._documentTouchstartListener,fR),n.addEventListener("focus",t._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(e){var t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){var n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fR),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fR),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,fR),i.removeEventListener("mousedown",this._documentMousedownListener,fR),i.removeEventListener("touchstart",this._documentTouchstartListener,fR),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}},{key:"_getClosestElementsInfo",value:function(e){var t=[];return this._elementInfo.forEach(function(n,i){(i===e||n.checkChildren&&i.contains(e))&&t.push([i,n])}),t}}]),e}()).\u0275fac=function(e){return new(e||hR)(Ei(sc),Ei(xE),Ei(Bc,8),Ei(dR,8))},hR.\u0275prov=Ae({factory:function(){return new hR(Ei(sc),Ei(xE),Ei(Bc,8),Ei(dR,8))},token:hR,providedIn:"root"}),hR);function vR(e){return e.composedPath?e.composedPath()[0]:e.target}var gR,mR,yR,bR,_R,wR=((yR=function(){function e(t,n){v(this,e),this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new _u}return m(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(t){return e.cdkFocusChange.emit(t)})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||yR)($o(cl),$o(pR))},yR.\u0275dir=dt({type:yR,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),yR),kR=((mR=function(){function e(t,n){v(this,e),this._platform=t,this._document=n}return m(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");var t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}]),e}()).\u0275fac=function(e){return new(e||mR)(Ei(xE),Ei(Bc))},mR.\u0275prov=Ae({factory:function(){return new mR(Ei(xE),Ei(Bc))},token:mR,providedIn:"root"}),mR),xR=((gR=function e(t){v(this,e),t._applyBodyHighContrastModeCssClasses()}).\u0275fac=function(e){return new(e||gR)(Ei(kR))},gR.\u0275mod=ct({type:gR}),gR.\u0275inj=Te({imports:[[SE,FE]]}),gR),SR=new ui("cdk-dir-doc",{providedIn:"root",factory:function(){return Ri(Bc)}}),CR=((_R=function(){function e(t){if(v(this,e),this.value="ltr",this.change=new _u,t){var n=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return m(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||_R)(Ei(SR,8))},_R.\u0275prov=Ae({factory:function(){return new _R(Ei(SR,8))},token:_R,providedIn:"root"}),_R),ER=((bR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||bR)},bR.\u0275mod=ct({type:bR}),bR.\u0275inj=Te({}),bR),RR=new gl("11.2.13");function AR(e,t){if(1&e&&Qo(0,"mat-pseudo-checkbox",4),2&e){var n=hs();Yo("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}function TR(e,t){if(1&e&&(Ko(0,"span",5),Ns(1),Xo()),2&e){var n=hs();pa(1),Vs("(",n.group.label,")")}}var IR,DR=["*"],OR=new gl("11.2.13"),PR=new ui("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),MR=((IR=function(){function e(t,n,i){v(this,e),this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return m(e,[{key:"_getWindow",value:function(){var e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return _c()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&OR.full!==RR.full&&console.warn("The Angular Material version ("+OR.full+") does not match the Angular CDK version ("+RR.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}()).\u0275fac=function(e){return new(e||IR)(Ei(kR),Ei(PR,8),Ei(Bc))},IR.\u0275mod=ct({type:IR}),IR.\u0275inj=Te({imports:[[ER],ER]}),IR);function LR(e){return function(e){a(n,e);var t=s(n);function n(){var e;v(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r)))._disabled=!1,e}return m(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=dE(e)}}]),n}(e)}function FR(e,t){return function(e){a(i,e);var n=s(i);function i(){var e;v(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).defaultColor=t,e.color=t,e}return m(i,[{key:"color",get:function(){return this._color},set:function(e){var t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),t&&this._elementRef.nativeElement.classList.add("mat-".concat(t)),this._color=t)}}]),i}(e)}function NR(e){return function(e){a(n,e);var t=s(n);function n(){var e;v(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r)))._disableRipple=!1,e}return m(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=dE(e)}}]),n}(e)}function zR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){a(i,e);var n=s(i);function i(){var e;v(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a)))._tabIndex=t,e.defaultTabIndex=t,e}return m(i,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?fE(e):this.defaultTabIndex}}]),i}(e)}function VR(e){return function(e){a(n,e);var t=s(n);function n(){var e;v(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).errorState=!1,e.stateChanges=new V,e}return m(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}(e)}var jR,BR=new ui("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Ri(Zu)}}),HR=function(){function e(){v(this,e),this._localeChanges=new V,this.localeChanges=this._localeChanges}return m(e,[{key:"getValidDateOrNull",value:function(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}},{key:"deserialize",value:function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}},{key:"setLocale",value:function(e){this.locale=e,this._localeChanges.next()}},{key:"compareDate",value:function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}},{key:"sameDate",value:function(e,t){if(e&&t){var n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}},{key:"clampDate",value:function(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}]),e}(),qR=new ui("mat-date-formats");try{jR="undefined"!=typeof Intl}catch(gG){jR=!1}var UR={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},WR=YR(31,function(e){return String(e+1)}),GR={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},$R=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function YR(e,t){for(var n=Array(e),i=0;i<e;i++)n[i]=t(i);return n}var ZR,KR,XR,QR,JR,eA,tA,nA,iA,rA,aA,oA=((KR=function(e){a(n,e);var t=s(n);function n(e,i){var a,o;return v(this,n),(o=t.call(this)).useUtcForDisplay=!0,r((a=u(o),h(n.prototype)),"setLocale",a).call(a,e),o.useUtcForDisplay=!i.TRIDENT,o._clampDate=i.TRIDENT||i.EDGE,o}return m(n,[{key:"getYear",value:function(e){return e.getFullYear()}},{key:"getMonth",value:function(e){return e.getMonth()}},{key:"getDate",value:function(e){return e.getDate()}},{key:"getDayOfWeek",value:function(e){return e.getDay()}},{key:"getMonthNames",value:function(e){var t=this;if(jR){var n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return YR(12,function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,e,1)))})}return UR[e]}},{key:"getDateNames",value:function(){var e=this;if(jR){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return YR(31,function(n){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,n+1)))})}return WR}},{key:"getDayOfWeekNames",value:function(e){var t=this;if(jR){var n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return YR(7,function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,0,e+1)))})}return GR[e]}},{key:"getYearName",value:function(e){if(jR){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}},{key:"clone",value:function(e){return new Date(e.getTime())}},{key:"createDate",value:function(e,t,n){var i=this._createDateWithOverflow(e,t,n);return i.getMonth(),i}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}},{key:"format",value:function(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(jR){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}},{key:"addCalendarYears",value:function(e,t){return this.addCalendarMonths(e,12*t)}},{key:"addCalendarMonths",value:function(e,t){var n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}},{key:"toIso8601",value:function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}},{key:"deserialize",value:function(e){if("string"==typeof e){if(!e)return null;if($R.test(e)){var t=new Date(e);if(this.isValid(t))return t}}return r(h(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return e instanceof Date}},{key:"isValid",value:function(e){return!isNaN(e.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(e,t,n){var i=new Date;return i.setFullYear(e,t,n),i.setHours(0,0,0,0),i}},{key:"_2digit",value:function(e){return("00"+e).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(e){return e.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(e,t){var n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}]),n}(HR)).\u0275fac=function(e){return new(e||KR)(Ei(BR,8),Ei(xE))},KR.\u0275prov=Ae({token:KR,factory:KR.\u0275fac}),KR),sA=((ZR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||ZR)},ZR.\u0275mod=ct({type:ZR}),ZR.\u0275inj=Te({providers:[{provide:HR,useClass:oA}],imports:[[SE]]}),ZR),lA={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},uA=((QR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||QR)},QR.\u0275mod=ct({type:QR}),QR.\u0275inj=Te({providers:[{provide:qR,useValue:lA}],imports:[[sA]]}),QR),cA=((XR=function(){function e(){v(this,e)}return m(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).\u0275fac=function(e){return new(e||XR)},XR.\u0275prov=Ae({factory:function(){return new XR},token:XR,providedIn:"root"}),XR),hA=function(){function e(t,n,i){v(this,e),this._renderer=t,this.element=n,this.config=i,this.state=3}return m(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),dA={enterDuration:450,exitDuration:400},fA=RE({passive:!0}),pA=["mousedown","touchstart"],vA=["mouseup","mouseleave","touchend","touchcancel"],gA=function(){function e(t,n,i,r){v(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gE(i))}return m(e,[{key:"fadeInRipple",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},dA),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);var o=i.radius||function(e,t,n){var i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),s=e-r.left,l=t-r.top,u=a.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=l-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new hA(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var e=h===n._mostRecentTransientRipple;h.state=1,i.persistent||e&&n._isPointerDown||h.fadeOut()},u),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,i=Object.assign(Object.assign({},dA),e.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(function(){e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(e){return e.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(e){e.config.persistent||e.fadeOut()})}},{key:"setupTriggerEvents",value:function(e){var t=gE(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(pA))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vA),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=uR(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled&&!cR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){e.forEach(function(e){t._triggerElement.addEventListener(e,t,fA)})})}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(pA.forEach(function(t){e._triggerElement.removeEventListener(t,e,fA)}),this._pointerUpEventsRegistered&&vA.forEach(function(t){e._triggerElement.removeEventListener(t,e,fA)}))}}]),e}(),mA=new ui("mat-ripple-global-options"),yA=((nA=function(){function e(t,n,i,r,a){v(this,e),this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gA(this,n,t,i)}return m(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}]),e}()).\u0275fac=function(e){return new(e||nA)($o(cl),$o(sc),$o(xE),$o(mA,8),$o(iv,8))},nA.\u0275dir=dt({type:nA,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&Ss("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),nA),bA=((tA=function e(){v(this,e)}).\u0275fac=function(e){return new(e||tA)},tA.\u0275mod=ct({type:tA}),tA.\u0275inj=Te({imports:[[MR,SE],MR]}),tA),_A=((eA=function e(t){v(this,e),this._animationMode=t,this.state="unchecked",this.disabled=!1}).\u0275fac=function(e){return new(e||eA)($o(iv,8))},eA.\u0275cmp=ot({type:eA,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&Ss("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),eA),wA=((JR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||JR)},JR.\u0275mod=ct({type:JR}),JR.\u0275inj=Te({imports:[[MR]]}),JR),kA=new ui("MAT_OPTION_PARENT_COMPONENT"),xA=LR(function e(){v(this,e)}),SA=0,CA=((iA=function(e){a(n,e);var t=s(n);function n(e){var i,r;return v(this,n),(i=t.call(this))._labelId="mat-optgroup-label-"+SA++,i._inert=null!==(r=null==e?void 0:e.inertGroups)&&void 0!==r&&r,i}return n}(xA)).\u0275fac=function(e){return new(e||iA)($o(kA,8))},iA.\u0275dir=dt({type:iA,inputs:{label:"label"},features:[Io]}),iA),EA=new ui("MatOptgroup"),RA=0,AA=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e),this.source=t,this.isUserInput=n},TA=((aA=function(){function e(t,n,i,r){v(this,e),this._element=t,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+RA++,this.onSelectionChange=new _u,this._stateChanges=new V}return m(e,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=dE(e)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(e,t){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(e){13!==e.keyCode&&32!==e.keyCode||sE(e)||(this._selectViaInteraction(),e.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new AA(this,e))}}]),e}()).\u0275fac=function(e){return new(e||aA)($o(cl),$o(Fl),$o(void 0),$o(CA))},aA.\u0275dir=dt({type:aA,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),aA),IA=((rA=function(e){a(n,e);var t=s(n);function n(e,i,r,a){return v(this,n),t.call(this,e,i,r,a)}return n}(TA)).\u0275fac=function(e){return new(e||rA)($o(cl),$o(Fl),$o(kA,8),$o(EA,8))},rA.\u0275cmp=ot({type:rA,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&os("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(Hs("id",t.id),qo("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),Ss("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[Io],ngContentSelectors:DR,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(fs(),Wo(0,AR,1,2,"mat-pseudo-checkbox",0),Ko(1,"span",1),ps(2),Xo(),Wo(3,TR,2,1,"span",2),Qo(4,"div",3)),2&e&&(Yo("ngIf",t.multiple),pa(3),Yo("ngIf",t.group&&t.group._inert),pa(1),Yo("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[kh,yA,_A],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),rA);function DA(e,t,n){if(n.length){for(var i=t.toArray(),r=n.toArray(),a=0,o=0;o<e+1;o++)i[o].group&&i[o].group===r[a]&&a++;return a}return 0}var OA,PA,MA,LA=((OA=function e(){v(this,e)}).\u0275fac=function(e){return new(e||OA)},OA.\u0275mod=ct({type:OA}),OA.\u0275inj=Te({imports:[[bA,Bh,MR,wA]]}),OA),FA=["mat-button",""],NA=["*"],zA=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],VA=FR(LR(NR(function e(t){v(this,e),this._elementRef=t}))),jA=((MA=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;v(this,n),(a=t.call(this,e))._focusMonitor=i,a._animationMode=r,a.isRoundButton=a._hasHostAttributes("mat-fab","mat-mini-fab"),a.isIconButton=a._hasHostAttributes("mat-icon-button");var o,s=d(zA);try{for(s.s();!(o=s.n()).done;){var l=o.value;a._hasHostAttributes(l)&&a._getHostElement().classList.add(l)}}catch(u){s.e(u)}finally{s.f()}return e.nativeElement.classList.add("mat-button-base"),a.isRoundButton&&(a.color="accent"),a}return m(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.some(function(t){return e._getHostElement().hasAttribute(t)})}}]),n}(VA)).\u0275fac=function(e){return new(e||MA)($o(cl),$o(pR),$o(iv,8))},MA.\u0275cmp=ot({type:MA,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&Pu(yA,1),2&e&&Ou(n=Lu())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(qo("disabled",t.disabled||null),Ss("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Io],attrs:FA,ngContentSelectors:NA,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(fs(),Ko(0,"span",0),ps(1),Xo(),Qo(2,"span",1),Qo(3,"span",2)),2&e&&(pa(2),Ss("mat-button-ripple-round",t.isRoundButton||t.isIconButton),Yo("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[yA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),MA),BA=((PA=function e(){v(this,e)}).\u0275fac=function(e){return new(e||PA)},PA.\u0275mod=ct({type:PA}),PA.\u0275inj=Te({imports:[[bA,MR],MR]}),PA),HA=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return m(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(Jm),qA=new(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(ty))(HA),UA=1,WA=Promise.resolve(),GA={};function $A(e){return e in GA&&(delete GA[e],!0)}var YA=function(e){var t=UA++;return GA[t]=!0,WA.then(function(){return $A(t)&&e()}),t},ZA=function(e){$A(e)},KA=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return m(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=YA(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(ZA(t),e.scheduled=void 0)}}]),n}(Jm),XA=new(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(ty))(KA),QA=function(){function e(t){v(this,e),this.durationSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new JA(e,this.durationSelector))}}]),e}(),JA=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return m(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=ee(t,new Q(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(J);function eT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny;return t=function(){return ry(e,n)},function(e){return e.lift(new QA(t))}}var tT=function(){function e(){v(this,e)}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new nT(e))}}]),e}(),nT=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).hasPrev=!1,i}return m(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(A),iT=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return m(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?r(h(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?r(h(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?r(h(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(Jm),rT=new(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(ty))(iT),aT=function(e){a(n,e);var t=s(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(r=t.call(this,e)).scheduler=i,r.delay=a,r}return m(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new oT(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Yy.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Yy.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Yy.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(A),oT=function e(t,n){v(this,e),this.notification=t,this.destination=n},sT=function(e){a(n,e);var t=s(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return v(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return m(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}r(h(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new lT(this._getNow(),e)),this._trimBufferThenGetEvents()),r(h(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,a=i.length;if(this.closed)throw new F;if(this.isStopped||this.hasError?t=C.EMPTY:(this.observers.push(e),t=new N(this,e)),r&&e.add(e=new aT(e,r)),n)for(var o=0;o<a&&!e.closed;o++)e.next(i[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||rT).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,a=0;a<r&&!(e-i[a].time<n);)a++;return r>t&&(a=Math.max(a,r-t)),a>0&&i.splice(0,a),i}}]),n}(V),lT=function e(t,n){v(this,e),this.time=t,this.value=n},uT=function e(){v(this,e)};function cT(e){return e&&"function"==typeof e.connect}var hT,dT,fT,pT,vT,gT,mT=function(){function e(){v(this,e)}return m(e,[{key:"applyChanges",value:function(e,t,n,i,r){e.forEachOperation(function(e,i,a){var o,s;if(null==e.previousIndex){var l=n(e,i,a);o=t.createEmbeddedView(l.templateRef,l.context,l.index),s=1}else null==a?(t.remove(i),s=3):(o=t.get(i),t.move(o,a),s=2);r&&r({context:null==o?void 0:o.context,operation:s,record:e})})}},{key:"detach",value:function(){}}]),e}(),yT=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v(this,e),this._multiple=n,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new V,i&&i.length&&(n?i.forEach(function(e){return t._markSelected(e)}):this._markSelected(i[0]),this._selectedToEmit.length=0)}return m(e,[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach(function(t){return e._markSelected(t)}),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach(function(t){return e._unmarkSelected(t)}),this._emitChangeEvent()}},{key:"toggle",value:function(e){this.isSelected(e)?this.deselect(e):this.select(e)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(e){return this._selection.has(e)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(e){this._multiple&&this.selected&&this._selected.sort(e)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}},{key:"_unmarkSelected",value:function(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}},{key:"_unmarkAll",value:function(){var e=this;this.isEmpty()||this._selection.forEach(function(t){return e._unmarkSelected(t)})}},{key:"_verifyValueAssignment",value:function(e){}}]),e}(),bT=new ui("_ViewRepeater"),_T=((pT=function(){function e(t,n,i){v(this,e),this._ngZone=t,this._platform=n,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return m(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new P(function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(eT(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):ov()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(lv(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,r){t._scrollableContainsElement(r,e)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=gE(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Xm(e._getWindow().document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||pT)(Ei(sc),Ei(xE),Ei(Bc,8))},pT.\u0275prov=Ae({factory:function(){return new pT(Ei(sc),Ei(xE),Ei(Bc,8))},token:pT,providedIn:"root"}),pT),wT=((fT=function(){function e(t,n,i){var r=this;v(this,e),this._platform=t,this._change=new V,this._changeListener=function(e){r._change.next(e)},this._document=i,n.runOutsideAngular(function(){if(t.isBrowser){var e=r._getWindow();e.addEventListener("resize",r._changeListener),e.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return m(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(eT(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||fT)(Ei(xE),Ei(sc),Ei(Bc,8))},fT.\u0275prov=Ae({factory:function(){return new fT(Ei(xE),Ei(sc),Ei(Bc,8))},token:fT,providedIn:"root"}),fT),kT=((dT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||dT)},dT.\u0275mod=ct({type:dT}),dT.\u0275inj=Te({}),dT),xT=((hT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hT)},hT.\u0275mod=ct({type:hT}),hT.\u0275inj=Te({imports:[[ER,SE,kT],ER,kT]}),hT),ST=function(){function e(){v(this,e)}return m(e,[{key:"attach",value:function(e){return this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),CT=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this)).component=e,o.viewContainerRef=i,o.injector=r,o.componentFactoryResolver=a,o}return n}(ST),ET=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this)).templateRef=e,a.viewContainerRef=i,a.context=r,a}return m(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,r(h(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,r(h(n.prototype),"detach",this).call(this)}}]),n}(ST),RT=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this)).element=e instanceof cl?e.nativeElement:e,i}return n}(ST),AT=function(){function e(){v(this,e),this._isDisposed=!1,this.attachDomPortal=null}return m(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e instanceof CT?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ET?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof RT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),TT=function(e){a(n,e);var t=s(n);function n(e,i,a,o,s){var l,c;return v(this,n),(c=t.call(this)).outletElement=e,c._componentFactoryResolver=i,c._appRef=a,c._defaultInjector=o,c.attachDomPortal=function(e){var t=e.element,i=c._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),c.outletElement.appendChild(t),c._attachedPortal=e,r((l=u(c),h(n.prototype)),"setDisposeFn",l).call(l,function(){i.parentNode&&i.parentNode.replaceChild(t,i)})},c._document=s,c}return m(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=i.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),i.detectChanges(),this.setDisposeFn(function(){var e=n.indexOf(i);-1!==e&&n.remove(e)}),this._attachedPortal=e,i}},{key:"dispose",value:function(){r(h(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(AT),IT=((gT=function(e){a(n,e);var t=s(n);function n(e,i,a){var o,s;return v(this,n),(s=t.call(this))._componentFactoryResolver=e,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new _u,s.attachDomPortal=function(e){var t=e.element,i=s._document.createComment("dom-portal");e.setAttachedHost(u(s)),t.parentNode.insertBefore(i,t),s._getRootNode().appendChild(t),s._attachedPortal=e,r((o=u(s),h(n.prototype)),"setDisposeFn",o).call(o,function(){i.parentNode&&i.parentNode.replaceChild(t,i)})},s._document=a,s}return m(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&r(h(n.prototype),"detach",this).call(this),e&&r(h(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){r(h(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=t.createComponent(i,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),r(h(n.prototype),"setDisposeFn",this).call(this,function(){return a.destroy()}),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return r(h(n.prototype),"setDisposeFn",this).call(this,function(){return t._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}]),n}(AT)).\u0275fac=function(e){return new(e||gT)($o(ol),$o(Yl),$o(Bc))},gT.\u0275dir=dt({type:gT,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Io]}),gT),DT=((vT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||vT)},vT.\u0275mod=ct({type:vT}),vT.\u0275inj=Te({}),vT),OT=function(){function e(t,n){v(this,e),this.predicate=t,this.inclusive=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new PT(e,this.predicate,this.inclusive))}}]),e}(),PT=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e)).predicate=i,a.inclusive=r,a.index=0,a}return m(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(A),MT=function(){if(null==wE){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wE=!1;if("scrollBehavior"in document.documentElement.style)wE=!0;else{var e=Element.prototype.scrollTo;wE=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return wE}(),LT=function(){function e(t,n){v(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return m(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=vE(-this._previousScrollPosition.left),e.style.top=vE(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),MT&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MT&&(t.scrollBehavior=i,n.scrollBehavior=r)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}(),FT=function(){function e(t,n,i,r){var a=this;v(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run(function(){return a._overlayRef.detach()})}}return m(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),NT=function(){function e(){v(this,e)}return m(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function zT(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function VT(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var jT,BT,HT,qT,UT,WT=function(){function e(t,n,i,r){v(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return m(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),i=n.width,r=n.height;zT(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),GT=((jT=function e(t,n,i,r){var a=this;v(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new NT},this.close=function(e){return new FT(a._scrollDispatcher,a._ngZone,a._viewportRuler,e)},this.block=function(){return new LT(a._viewportRuler,a._document)},this.reposition=function(e){return new WT(a._scrollDispatcher,a._viewportRuler,a._ngZone,e)},this._document=r}).\u0275fac=function(e){return new(e||jT)(Ei(_T),Ei(wT),Ei(sc),Ei(Bc))},jT.\u0275prov=Ae({factory:function(){return new jT(Ei(_T),Ei(wT),Ei(sc),Ei(Bc))},token:jT,providedIn:"root"}),jT),$T=function e(t){if(v(this,e),this.scrollStrategy=new NT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];void 0!==t[r]&&(this[r]=t[r])}},YT=function e(t,n,i,r,a){v(this,e),this.offsetX=i,this.offsetY=r,this.panelClass=a,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},ZT=function e(t,n){v(this,e),this.connectionPair=t,this.scrollableViewProperties=n},KT=((qT=function(){function e(t){v(this,e),this._attachedOverlays=[],this._document=t}return m(e,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(e){this.remove(e),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}]),e}()).\u0275fac=function(e){return new(e||qT)(Ei(Bc))},qT.\u0275prov=Ae({factory:function(){return new qT(Ei(Bc))},token:qT,providedIn:"root"}),qT),XT=((HT=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this,e))._keydownListener=function(e){for(var t=i._attachedOverlays,n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}},i}return m(n,[{key:"add",value:function(e){r(h(n.prototype),"add",this).call(this,e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(KT)).\u0275fac=function(e){return new(e||HT)(Ei(Bc))},HT.\u0275prov=Ae({factory:function(){return new HT(Ei(Bc))},token:HT,providedIn:"root"}),HT),QT=((BT=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(e){for(var t=e.composedPath?e.composedPath()[0]:e.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var a=n[i];if(!(a._outsidePointerEvents.observers.length<1)&&a.hasAttached()){if(a.overlayElement.contains(t))break;a._outsidePointerEvents.next(e)}}},r}return m(n,[{key:"add",value:function(e){if(r(h(n.prototype),"add",this).call(this,e),!this._isAttached){var t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(KT)).\u0275fac=function(e){return new(e||BT)(Ei(Bc),Ei(xE))},BT.\u0275prov=Ae({factory:function(){return new BT(Ei(Bc),Ei(xE))},token:BT,providedIn:"root"}),BT),JT=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),eI=((UT=function(){function e(t,n){v(this,e),this._platform=n,this._document=t}return m(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||JT)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),JT?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),e}()).\u0275fac=function(e){return new(e||UT)(Ei(Bc),Ei(xE))},UT.\u0275prov=Ae({factory:function(){return new UT(Ei(Bc),Ei(xE))},token:UT,providedIn:"root"}),UT),tI=function(){function e(t,n,i,r,a,o,s,l,u){var c=this;v(this,e),this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new V,this._attachments=new V,this._detachments=new V,this._locationChanges=C.EMPTY,this._backdropClickHandler=function(e){return c._backdropClick.next(e)},this._keydownEvents=new V,this._outsidePointerEvents=new V,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return m(e,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ty(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=vE(this._config.width),e.height=vE(this._config.height),e.minWidth=vE(this._config.minWidth),e.minHeight=vE(this._config.minHeight),e.maxWidth=vE(this._config.maxWidth),e.maxHeight=vE(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(e,t,n){var i=e.classList;pE(t).forEach(function(e){e&&(n?i.add(e):i.remove(e))})}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.pipe(Cy(oe(e._attachments,e._detachments))).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}]),e}(),nI=/([A-Za-z%]+)$/,iI=function(){function e(t,n,i,r,a){v(this,e),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}return m(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){var t=this;this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,i=this._overlayRect,r=this._viewportRect,a=[],o=d(this._preferredPositions);try{for(o.s();!(t=o.n()).done;){var s=t.value,l=this._getOriginPoint(n,s),u=this._getOverlayPoint(l,i,s),c=this._getOverlayFit(u,i,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(c,u,r)?a.push({position:s,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!e||e.overlayFit.visibleArea<c.visibleArea)&&(e={overlayFit:c,overlayPoint:u,originPoint:l,position:s,overlayRect:i})}}catch(y){o.e(y)}finally{o.f()}if(a.length){var h,f=null,p=-1,v=d(a);try{for(v.s();!(h=v.n()).done;){var g=h.value,m=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);m>p&&(p=m,f=g)}}catch(y){v.e(y)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&rI(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}}},{key:"_getOverlayFit",value:function(e,t,n,i){var r=oI(t),a=e.x,o=e.y,s=this._getOffset(i,"x"),l=this._getOffset(i,"y");s&&(a+=s),l&&(o+=l);var u=0-o,c=o+r.height-n.height,h=this._subtractOverflows(r.width,0-a,a+r.width-n.width),d=this._subtractOverflows(r.height,u,c),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:r.width*r.height===f,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var i=n.bottom-t.y,r=n.right-t.x,a=aI(this._overlayRef.getConfig().minHeight),o=aI(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=o&&o<=r;return(e.fitsInViewportVertically||null!=a&&a<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var i,r,a=oI(t),o=this._viewportRect,s=Math.max(e.x+a.width-o.width,0),l=Math.max(e.y+a.height-o.height,0),u=Math.max(o.top-n.top-e.y,0),c=Math.max(o.left-n.left-e.x,0);return i=a.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-n.left-e.x:0,r=a.height<=o.height?u||-l:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:i,y:r},{x:e.x+i,y:e.y+r}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new ZT(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(t," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,i,r,a,o,s,l=this._viewportRect,u=this._isRtl();if("top"===t.overlayY)i=e.y,n=l.height-i+this._viewportMargin;else if("bottom"===t.overlayY)r=l.height-e.y+2*this._viewportMargin,n=l.height-r+this._viewportMargin;else{var c=Math.min(l.bottom-e.y+l.top,e.y),h=this._lastBoundingBoxSize.height;n=2*c,i=e.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=e.y-h/2)}if("end"===t.overlayX&&!u||"start"===t.overlayX&&u)s=l.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!u||"end"===t.overlayX&&u)o=e.x,a=l.right-e.x;else{var d=Math.min(l.right-e.x+l.left,e.x),f=this._lastBoundingBoxSize.width;a=2*d,o=e.x-d,a>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.x-f/2)}return{top:i,left:o,bottom:r,right:s,width:a,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=vE(n.height),i.top=vE(n.top),i.bottom=vE(n.bottom),i.width=vE(n.width),i.left=vE(n.left),i.right=vE(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=vE(r)),a&&(i.maxWidth=vE(a))}this._lastBoundingBoxSize=n,rI(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){rI(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){rI(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){var o=this._viewportRuler.getViewportScrollPosition();rI(n,this._getExactOverlayY(t,e,o)),rI(n,this._getExactOverlayX(t,e,o))}else n.position="static";var s="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(s+="translateX(".concat(l,"px) ")),u&&(s+="translateY(".concat(u,"px)")),n.transform=s.trim(),a.maxHeight&&(i?n.maxHeight=vE(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(i?n.maxWidth=vE(a.maxWidth):r&&(n.maxWidth="")),rI(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var i={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=a,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=vE(r.y),i}},{key:"_getExactOverlayX",value:function(e,t,n){var i={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":i.left=vE(r.x),i}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:VT(e,n),isOriginOutsideView:zT(e,n),isOverlayClipped:VT(t,n),isOverlayOutsideView:zT(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce(function(e,t){return e-Math.max(t,0)},e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&pE(e).forEach(function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){e._pane.classList.remove(t)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof cl)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}]),e}();function rI(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function aI(e){if("number"!=typeof e&&null!=e){var t=n(e.split(nI),2),i=t[0],r=t[1];return r&&"px"!==r?null:parseFloat(i)}return e||null}function oI(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var sI,lI,uI,cI,hI,dI=function(){function e(t,n,i,r,a,o,s){v(this,e),this._preferredPositions=[],this._positionStrategy=new iI(i,r,a,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n),this.onPositionChange=this._positionStrategy.positionChanges}return m(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,i){var r=new YT(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}}]),e}(),fI=function(){function e(){v(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return m(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,a=n.maxWidth,o=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),pI=((lI=function(){function e(t,n,i,r){v(this,e),this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r}return m(e,[{key:"global",value:function(){return new fI}},{key:"connectedTo",value:function(e,t,n){return new dI(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new iI(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}()).\u0275fac=function(e){return new(e||lI)(Ei(wT),Ei(Bc),Ei(xE),Ei(eI))},lI.\u0275prov=Ae({factory:function(){return new lI(Ei(wT),Ei(Bc),Ei(xE),Ei(eI))},token:lI,providedIn:"root"}),lI),vI=0,gI=((sI=function(){function e(t,n,i,r,a,o,s,l,u,c,h){v(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=o,this._ngZone=s,this._document=l,this._directionality=u,this._location=c,this._outsideClickDispatcher=h}return m(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new $T(e);return r.direction=r.direction||this._directionality.value,new tI(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+vI++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(Ac)),new TT(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}()).\u0275fac=function(e){return new(e||sI)(Ei(GT),Ei(eI),Ei(ol),Ei(pI),Ei(XT),Ei(Ao),Ei(sc),Ei(Bc),Ei(CR),Ei(sh),Ei(QT))},sI.\u0275prov=Ae({token:sI,factory:sI.\u0275fac}),sI),mI=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yI=new ui("cdk-connected-overlay-scroll-strategy"),bI=((cI=function e(t){v(this,e),this.elementRef=t}).\u0275fac=function(e){return new(e||cI)($o(cl))},cI.\u0275dir=dt({type:cI,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),cI),_I=((uI=function(){function e(t,n,i,r,a){v(this,e),this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.EMPTY,this._attachSubscription=C.EMPTY,this._detachSubscription=C.EMPTY,this._positionSubscription=C.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new _u,this.positionChange=new _u,this.attach=new _u,this.detach=new _u,this.overlayKeydown=new _u,this.overlayOutsideClick=new _u,this._templatePortal=new ET(n,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return m(e,[{key:"offsetX",get:function(){return this._offsetX},set:function(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=dE(e)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(e){this._lockPosition=dE(e)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(e){this._flexibleDimensions=dE(e)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(e){this._growAfterOpen=dE(e)}},{key:"push",get:function(){return this._push},set:function(e){this._push=dE(e)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}},{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var e=this;this.positions&&this.positions.length||(this.positions=mI);var t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(function(){return e.attach.emit()}),this._detachSubscription=t.detachments().subscribe(function(){return e.detach.emit()}),t.keydownEvents().subscribe(function(t){e.overlayKeydown.next(t),27!==t.keyCode||e.disableClose||sE(t)||(t.preventDefault(),e._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(function(t){e.overlayOutsideClick.next(t)})}},{key:"_buildConfig",value:function(){var e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new $T({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}},{key:"_updatePositionStrategy",value:function(e){var t=this,n=this.positions.map(function(e){return{originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||t.offsetX,offsetY:e.offsetY||t.offsetY,panelClass:e.panelClass||void 0}});return e.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}},{key:"_attachOverlay",value:function(){var e=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(t){e.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new OT(e,t))}}(function(){return e.positionChange.observers.length>0})).subscribe(function(t){e.positionChange.emit(t),0===e.positionChange.observers.length&&e._positionSubscription.unsubscribe()}))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||uI)($o(gI),$o(Hl),$o(Yl),$o(yI),$o(CR,8))},uI.\u0275dir=dt({type:uI,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ct]}),uI),wI={provide:yI,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},kI=((hI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hI)},hI.\u0275mod=ct({type:hI}),hI.\u0275inj=Te({providers:[gI,wI],imports:[[ER,DT,xT],xT]}),hI),xI=["underline"],SI=["connectionContainer"],CI=["inputContainer"],EI=["label"];function RI(e,t){1&e&&(Jo(0),Ko(1,"div",14),Qo(2,"div",15),Qo(3,"div",16),Qo(4,"div",17),Xo(),Ko(5,"div",18),Qo(6,"div",15),Qo(7,"div",16),Qo(8,"div",17),Xo(),es())}function AI(e,t){1&e&&(Ko(0,"div",19),ps(1,1),Xo())}function TI(e,t){if(1&e&&(Jo(0),ps(1,2),Ko(2,"span"),Ns(3),Xo(),es()),2&e){var n=hs(2);pa(3),zs(n._control.placeholder)}}function II(e,t){1&e&&ps(0,3,["*ngSwitchCase","true"])}function DI(e,t){1&e&&(Ko(0,"span",23),Ns(1," *"),Xo())}function OI(e,t){if(1&e){var n=ns();Ko(0,"label",20,21),os("cdkObserveContent",function(){return Zt(n),hs().updateOutlineGap()}),Wo(2,TI,4,1,"ng-container",12),Wo(3,II,1,0,"ng-content",12),Wo(4,DI,2,0,"span",22),Xo()}if(2&e){var i=hs();Ss("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Yo("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),qo("for",i._control.id)("aria-owns",i._control.id),pa(2),Yo("ngSwitchCase",!1),pa(1),Yo("ngSwitchCase",!0),pa(1),Yo("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function PI(e,t){1&e&&(Ko(0,"div",24),ps(1,4),Xo())}function MI(e,t){if(1&e&&(Ko(0,"div",25,26),Qo(2,"span",27),Xo()),2&e){var n=hs();pa(2),Ss("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function LI(e,t){1&e&&(Ko(0,"div"),ps(1,5),Xo()),2&e&&Yo("@transitionMessages",hs()._subscriptAnimationState)}function FI(e,t){if(1&e&&(Ko(0,"div",31),Ns(1),Xo()),2&e){var n=hs(2);Yo("id",n._hintLabelId),pa(1),zs(n.hintLabel)}}function NI(e,t){if(1&e&&(Ko(0,"div",28),Wo(1,FI,2,2,"div",29),ps(2,6),Qo(3,"div",30),ps(4,7),Xo()),2&e){var n=hs();Yo("@transitionMessages",n._subscriptAnimationState),pa(1),Yo("ngIf",n.hintLabel)}}var zI,VI,jI,BI,HI,qI,UI=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],WI=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],GI=new ui("MatError"),$I={transitionMessages:Md("transitionMessages",[zd("enter",Nd({opacity:1,transform:"translateY(0%)"})),Vd("void => enter",[Nd({opacity:0,transform:"translateY(-5px)"}),Ld("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},YI=((zI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||zI)},zI.\u0275dir=dt({type:zI}),zI),ZI=new ui("MatHint"),KI=((jI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jI)},jI.\u0275dir=dt({type:jI,selectors:[["mat-label"]]}),jI),XI=((VI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||VI)},VI.\u0275dir=dt({type:VI,selectors:[["mat-placeholder"]]}),VI),QI=new ui("MatPrefix"),JI=new ui("MatSuffix"),eD=((BI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||BI)},BI.\u0275dir=dt({type:BI,selectors:[["","matSuffix",""]],features:[il([{provide:JI,useExisting:BI}])]}),BI),tD=0,nD=FR(function e(t){v(this,e),this._elementRef=t},"primary"),iD=new ui("MAT_FORM_FIELD_DEFAULT_OPTIONS"),rD=new ui("MatFormField"),aD=((qI=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s,l,u){var c;return v(this,n),(c=t.call(this,e))._elementRef=e,c._changeDetectorRef=i,c._dir=a,c._defaults=o,c._platform=s,c._ngZone=l,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new V,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-"+tD++,c._labelId="mat-form-field-label-"+tD++,c.floatLabel=c._getDefaultFloatLabelState(),c._animationsEnabled="NoopAnimations"!==u,c.appearance=o&&o.appearance?o.appearance:"legacy",c._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,c}return m(n,[{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=dE(e)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(t.controlType)),t.stateChanges.pipe(Oy(null)).subscribe(function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Cy(this._destroyed)).subscribe(function(){return e._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe(Cy(e._destroyed)).subscribe(function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()})}),oe(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Oy(null)).subscribe(function(){e._processHints(),e._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Oy(null)).subscribe(function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cy(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?e._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return e.updateOutlineGap()})}):e.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Xm(this._label.nativeElement,"transitionend").pipe(Ty(1)).subscribe(function(){e._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push.apply(e,i(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find(function(e){return"start"===e.align}):null,n=this._hintChildren?this._hintChildren.find(function(e){return"end"===e.align}):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push.apply(e,i(this._errorChildren.map(function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var t=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),a=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var o=i.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(o),l=e.children,u=this._getStartEnd(l[0].getBoundingClientRect()),c=0,h=0;h<l.length;h++)c+=l[h].offsetWidth;t=Math.abs(u-s)-5,n=c>0?.75*c+10:0}for(var d=0;d<r.length;d++)r[d].style.width="".concat(t,"px");for(var f=0;f<a.length;f++)a[f].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}},{key:"_isAttachedToDOM",value:function(){var e=this._elementRef.nativeElement;if(e.getRootNode){var t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}]),n}(nD)).\u0275fac=function(e){return new(e||qI)($o(cl),$o(Fl),$o(cl),$o(CR,8),$o(iD,8),$o(xE),$o(sc),$o(iv,8))},qI.\u0275cmp=ot({type:qI,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,YI,1),Mu(n,YI,3),Mu(n,KI,1),Mu(n,KI,3),Mu(n,XI,1),Mu(n,GI,1),Mu(n,ZI,1),Mu(n,QI,1),Mu(n,JI,1)),2&e&&(Ou(i=Lu())&&(t._controlNonStatic=i.first),Ou(i=Lu())&&(t._controlStatic=i.first),Ou(i=Lu())&&(t._labelChildNonStatic=i.first),Ou(i=Lu())&&(t._labelChildStatic=i.first),Ou(i=Lu())&&(t._placeholderChild=i.first),Ou(i=Lu())&&(t._errorChildren=i),Ou(i=Lu())&&(t._hintChildren=i),Ou(i=Lu())&&(t._prefixChildren=i),Ou(i=Lu())&&(t._suffixChildren=i))},viewQuery:function(e,t){var n;1&e&&(Pu(xI,1),Pu(SI,3),Pu(CI,1),Pu(EI,1)),2&e&&(Ou(n=Lu())&&(t.underlineRef=n.first),Ou(n=Lu())&&(t._connectionContainerRef=n.first),Ou(n=Lu())&&(t._inputContainerRef=n.first),Ou(n=Lu())&&(t._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&Ss("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[il([{provide:rD,useExisting:qI}]),Io],ngContentSelectors:WI,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(fs(UI),Ko(0,"div",0),Ko(1,"div",1,2),os("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),Wo(3,RI,9,0,"ng-container",3),Wo(4,AI,2,0,"div",4),Ko(5,"div",5,6),ps(7),Ko(8,"span",7),Wo(9,OI,5,16,"label",8),Xo(),Xo(),Wo(10,PI,2,0,"div",9),Xo(),Wo(11,MI,3,4,"div",10),Ko(12,"div",11),Wo(13,LI,2,1,"div",12),Wo(14,NI,5,2,"div",13),Xo(),Xo()),2&e&&(pa(3),Yo("ngIf","outline"==t.appearance),pa(1),Yo("ngIf",t._prefixChildren.length),pa(5),Yo("ngIf",t._hasFloatingLabel()),pa(1),Yo("ngIf",t._suffixChildren.length),pa(1),Yo("ngIf","outline"!=t.appearance),pa(1),Yo("ngSwitch",t._getDisplayedMessages()),pa(1),Yo("ngSwitchCase","error"),pa(1),Yo("ngSwitchCase","hint"))},directives:[kh,Dh,Oh,LE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$I.transitionMessages]},changeDetection:0}),qI),oD=((HI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||HI)},HI.\u0275mod=ct({type:HI}),HI.\u0275inj=Te({imports:[[Bh,MR,FE],MR]}),HI),sD=["trigger"],lD=["panel"];function uD(e,t){if(1&e&&(Ko(0,"span",8),Ns(1),Xo()),2&e){var n=hs();pa(1),zs(n.placeholder)}}function cD(e,t){if(1&e&&(Ko(0,"span",12),Ns(1),Xo()),2&e){var n=hs(2);pa(1),zs(n.triggerValue)}}function hD(e,t){1&e&&ps(0,0,["*ngSwitchCase","true"])}function dD(e,t){1&e&&(Ko(0,"span",9),Wo(1,cD,2,1,"span",10),Wo(2,hD,1,0,"ng-content",11),Xo()),2&e&&(Yo("ngSwitch",!!hs().customTrigger),pa(2),Yo("ngSwitchCase",!0))}function fD(e,t){if(1&e){var n=ns();Ko(0,"div",13),Ko(1,"div",14,15),os("@transformPanel.done",function(e){return Zt(n),hs()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return Zt(n),hs()._handleKeydown(e)}),ps(3,1),Xo(),Xo()}if(2&e){var i=hs();Yo("@transformPanelWrap",void 0),pa(1),Bs("mat-select-panel ",i._getPanelTheme(),""),xs("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),Yo("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),qo("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var pD,vD,gD,mD,yD,bD=[[["mat-select-trigger"]],"*"],_D=["mat-select-trigger","*"],wD={transformPanelWrap:Md("transformPanelWrap",[Vd("* => void",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}("@transformPanel",[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:e}}()],{optional:!0}))]),transformPanel:Md("transformPanel",[zd("void",Nd({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),zd("showing",Nd({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),zd("showing-multiple",Nd({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Vd("void => *",Ld("120ms cubic-bezier(0, 0, 0.2, 1)")),Vd("* => void",Ld("100ms 25ms linear",Nd({opacity:0})))])},kD=0,xD=new ui("mat-select-scroll-strategy"),SD=new ui("MAT_SELECT_CONFIG"),CD={provide:xD,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},ED=function e(t,n){v(this,e),this.source=t,this.value=n},RD=NR(zR(LR(VR(function e(t,n,i,r,a){v(this,e),this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=r,this.ngControl=a})))),AD=new ui("MatSelectTrigger"),TD=((vD=function(e){a(n,e);var t=s(n);function n(e,r,a,o,s,l,c,h,d,f,p,g,m,y){var b,_,w,k;return v(this,n),(b=t.call(this,s,o,c,h,f))._viewportRuler=e,b._changeDetectorRef=r,b._ngZone=a,b._dir=l,b._parentFormField=d,b.ngControl=f,b._liveAnnouncer=m,b._defaultOptions=y,b._panelOpen=!1,b._compareWith=function(e,t){return e===t},b._uid="mat-select-"+kD++,b._triggerAriaLabelledBy=null,b._destroy=new V,b._onChange=function(){},b._onTouched=function(){},b._valueId="mat-select-value-"+kD++,b._panelDoneAnimatingStream=new V,b._overlayPanelClass=(null===(_=b._defaultOptions)||void 0===_?void 0:_.overlayPanelClass)||"",b._focused=!1,b.controlType="mat-select",b._required=!1,b._multiple=!1,b._disableOptionCentering=null!==(k=null===(w=b._defaultOptions)||void 0===w?void 0:w.disableOptionCentering)&&void 0!==k&&k,b.ariaLabel="",b.optionSelectionChanges=Rw(function(){var e=b.options;return e?e.changes.pipe(Oy(e),Fy(function(){return oe.apply(void 0,i(e.map(function(e){return e.onSelectionChange})))})):b._ngZone.onStable.pipe(Ty(1),Fy(function(){return b.optionSelectionChanges}))}),b.openedChange=new _u,b._openedStream=b.openedChange.pipe(lv(function(e){return e}),H(function(){})),b._closedStream=b.openedChange.pipe(lv(function(e){return!e}),H(function(){})),b.selectionChange=new _u,b.valueChange=new _u,b.ngControl&&(b.ngControl.valueAccessor=u(b)),null!=(null==y?void 0:y.typeaheadDebounceInterval)&&(b._typeaheadDebounceInterval=y.typeaheadDebounceInterval),b._scrollStrategyFactory=g,b._scrollStrategy=b._scrollStrategyFactory(),b.tabIndex=parseInt(p)||0,b.id=b.id,b}return m(n,[{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(e){this._required=dE(e),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=dE(e)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(e){this._disableOptionCentering=dE(e)}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(e){this._typeaheadDebounceInterval=fE(e)}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var e=this;this._selectionModel=new yT(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Py(),Cy(this._destroy)).subscribe(function(){return e._panelDoneAnimating(e.panelOpen)})}},{key:"ngAfterContentInit",value:function(){var e=this;this._initKeyManager(),this._selectionModel.changed.pipe(Cy(this._destroy)).subscribe(function(e){e.added.forEach(function(e){return e.select()}),e.removed.forEach(function(e){return e.deselect()})}),this.options.changes.pipe(Oy(null),Cy(this._destroy)).subscribe(function(){e._resetOptions(),e._initializeSelection()})}},{key:"ngDoCheck",value:function(){var e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){var t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map(function(e){return e.viewValue});return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}},{key:"_handleClosedKeydown",value:function(e){var t=e.keyCode,n=40===t||38===t||37===t||39===t,i=13===t||32===t,r=this._keyManager;if(!r.isTyping()&&i&&!sE(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){var a=this.selected;r.onKeydown(e);var o=this.selected;o&&a!==o&&this._liveAnnouncer.announce(o.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(e){var t=this._keyManager,n=e.keyCode,i=40===n||38===n,r=t.isTyping();if(i&&e.altKey)e.preventDefault(),this.close();else if(r||13!==n&&32!==n||!t.activeItem||sE(e))if(!r&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();var a=this.options.some(function(e){return!e.disabled&&!e.selected});this.options.forEach(function(e){e.disabled||(a?e.select():e.deselect())})}else{var o=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==o&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var e=this;this.overlayDir.positionChange.pipe(Ty(1)).subscribe(function(){e._changeDetectorRef.detectChanges(),e._positioningSettled()})}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then(function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value),e.stateChanges.next()})}},{key:"_setSelectionByValue",value:function(e){var t=this;if(this._selectionModel.selected.forEach(function(e){return e.setInactiveStyles()}),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(function(e){return t._selectValue(e)}),this._sortValues();else{var n=this._selectValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(e){var t=this,n=this.options.find(function(n){if(t._selectionModel.isSelected(n))return!1;try{return null!=n.value&&t._compareWith(n.value,e)}catch(i){return!1}});return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var e=this;this._keyManager=new $E(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Cy(this._destroy)).subscribe(function(){e.panelOpen&&(!e.multiple&&e._keyManager.activeItem&&e._keyManager.activeItem._selectViaInteraction(),e.focus(),e.close())}),this._keyManager.change.pipe(Cy(this._destroy)).subscribe(function(){e._panelOpen&&e.panel?e._scrollOptionIntoView(e._keyManager.activeItemIndex||0):e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()})}},{key:"_resetOptions",value:function(){var e=this,t=oe(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Cy(t)).subscribe(function(t){e._onSelect(t.source,t.isUserInput),t.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())}),oe.apply(void 0,i(this.options.map(function(e){return e._stateChanges}))).pipe(Cy(t)).subscribe(function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()})}},{key:"_onSelect",value:function(e,t){var n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;if(this.multiple){var t=this.options.toArray();this._selectionModel.sort(function(n,i){return e.sortComparator?e.sortComparator(n,i,t):t.indexOf(n)-t.indexOf(i)}),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(e){var t;t=this.multiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_canOpen",value:function(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_getPanelAriaLabelledby",value:function(){var e;if(this.ariaLabel)return null;var t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_getTriggerAriaLabelledby",value:function(){var e;if(this.ariaLabel)return null;var t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId(),n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}},{key:"_panelDoneAnimating",value:function(e){this.openedChange.emit(e)}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}]),n}(RD)).\u0275fac=function(e){return new(e||vD)($o(wT),$o(Fl),$o(sc),$o(cA),$o(cl),$o(CR,8),$o(vm,8),$o(Cm,8),$o(rD,8),$o(Lg,10),si("tabindex"),$o(xD),$o(sR),$o(SD,8))},vD.\u0275dir=dt({type:vD,viewQuery:function(e,t){var n;1&e&&(Pu(sD,1),Pu(lD,1),Pu(_I,1)),2&e&&(Ou(n=Lu())&&(t.trigger=n.first),Ou(n=Lu())&&(t.panel=n.first),Ou(n=Lu())&&(t.overlayDir=n.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Io,Ct]}),vD),ID=((pD=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._scrollTop=0,e._triggerFontSize=0,e._transformOrigin="top",e._offsetY=0,e._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],e}return m(n,[{key:"_calculateOverlayScroll",value:function(e,t,n){var i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}},{key:"ngOnInit",value:function(){var e=this;r(h(n.prototype),"ngOnInit",this).call(this),this._viewportRuler.change().pipe(Cy(this._destroy)).subscribe(function(){e.panelOpen&&(e._triggerRect=e.trigger.nativeElement.getBoundingClientRect(),e._changeDetectorRef.markForCheck())})}},{key:"open",value:function(){var e=this;r(h(n.prototype),"_canOpen",this).call(this)&&(r(h(n.prototype),"open",this).call(this),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ty(1)).subscribe(function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(e._triggerFontSize,"px"))}))}},{key:"_scrollOptionIntoView",value:function(e){var t,n,i,r=DA(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=(n=a,(t=(e+r)*a)<(i=this.panel.nativeElement.scrollTop)?t:t+n>i+256?Math.max(0,t-256+n):i)}},{key:"_positioningSettled",value:function(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}},{key:"_panelDoneAnimating",value:function(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),r(h(n.prototype),"_panelDoneAnimating",this).call(this,e)}},{key:"_getChangeEvent",value:function(e){return new ED(this,e)}},{key:"_calculateOverlayOffsetX",value:function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._isRtl(),r=this.multiple?56:32;if(this.multiple)e=40;else if(this.disableOptionCentering)e=16;else{var a=this._selectionModel.selected[0]||this.options.first;e=a&&a.group?32:16}i||(e*=-1);var o=0-(t.left+e-(i?r:0)),s=t.right+e-n.width+(i?0:r);o>0?e+=o+8:s>0&&(e-=s+8),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(e,t,n){var i,r=this._getItemHeight(),a=(r-this._triggerRect.height)/2,o=Math.floor(256/r);return this.disableOptionCentering?0:(i=0===this._scrollTop?e*r:this._scrollTop===n?(e-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-256)%r):t-r/2,Math.round(-1*i-a))}},{key:"_checkOverlayWithinViewport",value:function(e){var t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,256)-a-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):a>i?this._adjustPanelDown(a,i,e):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(e,t){var n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(e,t,n){var i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_calculateOverlayPosition",value:function(){var e,t=this._getItemHeight(),n=this._getItemCount(),i=Math.min(n*t,256),r=n*t-i;e=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),e+=DA(e,this.options,this.optionGroups);var a=i/2;this._scrollTop=this._calculateOverlayScroll(e,a,r),this._offsetY=this._calculateOverlayOffsetY(e,a,r),this._checkOverlayWithinViewport(r)}},{key:"_getOriginBasedOnOption",value:function(){var e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-t+e/2,"px 0px")}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}}]),n}(TD)).\u0275fac=function(e){return DD(e||pD)},pD.\u0275cmp=ot({type:pD,selectors:[["mat-select"]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,AD,1),Mu(n,IA,1),Mu(n,EA,1)),2&e&&(Ou(i=Lu())&&(t.customTrigger=i.first),Ou(i=Lu())&&(t.options=i),Ou(i=Lu())&&(t.optionGroups=i))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&os("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(qo("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),Ss("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[il([{provide:YI,useExisting:pD},{provide:kA,useExisting:pD}]),Io],ngContentSelectors:_D,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(fs(bD),Ko(0,"div",0,1),os("click",function(){return t.toggle()}),Ko(3,"div",2),Wo(4,uD,2,1,"span",3),Wo(5,dD,3,2,"span",4),Xo(),Ko(6,"div",5),Qo(7,"div",6),Xo(),Xo(),Wo(8,fD,4,14,"ng-template",7),os("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){var n=Go(1);qo("aria-owns",t.panelOpen?t.id+"-panel":null),pa(3),Yo("ngSwitch",t.empty),qo("id",t._valueId),pa(1),Yo("ngSwitchCase",!0),pa(1),Yo("ngSwitchCase",!1),pa(3),Yo("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[bI,Dh,Oh,_I,Ph,yh],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[wD.transformPanelWrap,wD.transformPanel]},changeDetection:0}),pD),DD=ai(ID),OD=((gD=function e(){v(this,e)}).\u0275fac=function(e){return new(e||gD)},gD.\u0275mod=ct({type:gD}),gD.\u0275inj=Te({providers:[CD],imports:[[Bh,kI,LA,MR],kT,oD,LA,MR]}),gD),PD=new Set,MD=((yD=function(){function e(t){v(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):LD}return m(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!PD.has(e))try{mD||((mD=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(mD)),mD.sheet&&(mD.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),PD.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}]),e}()).\u0275fac=function(e){return new(e||yD)(Ei(xE))},yD.\u0275prov=Ae({factory:function(){return new yD(Ei(xE))},token:yD,providedIn:"root"}),yD);function LD(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var FD,ND=((FD=function(){function e(t,n){v(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new V}return m(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return zD(pE(e)).some(function(e){return t._registerQuery(e).mql.matches})}},{key:"observe",value:function(e){var t=this,n=py(zD(pE(e)).map(function(e){return t._registerQuery(e).observable}));return(n=Sy(n.pipe(Ty(1)),n.pipe(function(e){return e.lift(new Jy(1))},lE(0)))).pipe(H(function(e){var t={matches:!1,breakpoints:{}};return e.forEach(function(e){var n=e.matches,i=e.query;t.matches=t.matches||n,t.breakpoints[i]=n}),t}))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),i={observable:new P(function(e){var i=function(n){return t._zone.run(function(){return e.next(n)})};return n.addListener(i),function(){n.removeListener(i)}}).pipe(Oy(n),H(function(t){var n=t.matches;return{query:e,matches:n}}),Cy(this._destroySubject)),mql:n};return this._queries.set(e,i),i}}]),e}()).\u0275fac=function(e){return new(e||FD)(Ei(MD),Ei(sc))},FD.\u0275prov=Ae({factory:function(){return new FD(Ei(MD),Ei(sc))},token:FD,providedIn:"root"}),FD);function zD(e){return e.map(function(e){return e.split(",")}).reduce(function(e,t){return e.concat(t)}).map(function(e){return e.trim()})}var VD,jD,BD,HD,qD={tooltipState:Md("state",[zd("initial, void, hidden",Nd({opacity:0,transform:"scale(0)"})),zd("visible",Nd({transform:"scale(1)"})),Vd("* => visible",Ld("200ms cubic-bezier(0, 0, 0.2, 1)",(VD=[Nd({opacity:0,transform:"scale(0)",offset:0}),Nd({opacity:.5,transform:"scale(0.99)",offset:.5}),Nd({opacity:1,transform:"scale(1)",offset:1})],{type:5,steps:VD}))),Vd("* => hidden",Ld("100ms cubic-bezier(0, 0, 0.2, 1)",Nd({opacity:0})))])},UD=RE({passive:!0}),WD=new ui("mat-tooltip-scroll-strategy"),GD={provide:WD,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}},$D=new ui("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),YD=((HD=function(){function e(t,n,i,r,a,o,s,l,u,c,h,d){var f=this;v(this,e),this._overlay=t,this._elementRef=n,this._scrollDispatcher=i,this._viewContainerRef=r,this._ngZone=a,this._platform=o,this._ariaDescriber=s,this._focusMonitor=l,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new V,this._handleKeydown=function(e){f._isTooltipVisible()&&27===e.keyCode&&!sE(e)&&(e.preventDefault(),e.stopPropagation(),f._ngZone.run(function(){return f.hide(0)}))},this._scrollStrategy=u,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),a.runOutsideAngular(function(){n.nativeElement.addEventListener("keydown",f._handleKeydown)})}return m(e,[{key:"position",get:function(){return this._position},set:function(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=dE(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}},{key:"message",get:function(){return this._message},set:function(e){var t=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(function(){Promise.resolve().then(function(){t._ariaDescriber.describe(t._elementRef.nativeElement,t.message,"tooltip")})}))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}},{key:"ngAfterViewInit",value:function(){var e=this;this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Cy(this._destroyed)).subscribe(function(t){t?"keyboard"===t&&e._ngZone.run(function(){return e.show()}):e._ngZone.run(function(){return e.hide(0)})})}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(function(t){var i=n(t,2),r=i[0],a=i[1];e.removeEventListener(r,a,UD)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new CT(ZD,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Cy(this._destroyed)).subscribe(function(){return e._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(e)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var e=this;if(this._overlayRef)return this._overlayRef;var t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return n.positionChanges.pipe(Cy(this._destroyed)).subscribe(function(t){e._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&e._tooltipInstance.isVisible()&&e._ngZone.run(function(){return e.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Cy(this._destroyed)).subscribe(function(){return e._detach()}),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n||"below"==n?e={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?e={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(e={originX:"end",originY:"center"});var i=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:i.x,originY:i.y}}}},{key:"_getOverlayPosition",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n?e={overlayX:"center",overlayY:"bottom"}:"below"==n?e={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?e={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(e={overlayX:"start",overlayY:"center"});var i=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:i.x,overlayY:i.y}}}},{key:"_updateTooltipMessage",value:function(){var e=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ty(1),Cy(this._destroyed)).subscribe(function(){e._tooltipInstance&&e._overlayRef.updatePosition()}))}},{key:"_setTooltipClass",value:function(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}},{key:"_setupPointerEnterEventsIfNeeded",value:function(){var e=this;!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",function(){e._setupPointerExitEventsIfNeeded(),e.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",function(){e._setupPointerExitEventsIfNeeded(),clearTimeout(e._touchstartTimeout),e._touchstartTimeout=setTimeout(function(){return e.show()},500)}])),this._addListeners(this._passiveListeners))}},{key:"_setupPointerExitEventsIfNeeded",value:function(){var e,t=this;if(!this._pointerExitEventsInitialized){this._pointerExitEventsInitialized=!0;var n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",function(){return t.hide()}],["wheel",function(e){return t._wheelListener(e)}]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var i=function(){clearTimeout(t._touchstartTimeout),t.hide(t._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),(e=this._passiveListeners).push.apply(e,n)}}},{key:"_addListeners",value:function(e){var t=this;e.forEach(function(e){var i=n(e,2),r=i[0],a=i[1];t._elementRef.nativeElement.addEventListener(r,a,UD)})}},{key:"_platformSupportsMouseEvents",value:function(){return!this._platform.IOS&&!this._platform.ANDROID}},{key:"_wheelListener",value:function(e){if(this._isTooltipVisible()){var t=(this._document||document).elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t===n||n.contains(t)||this.hide()}}},{key:"_disableNativeGesturesIfNecessary",value:function(){var e=this.touchGestures;if("off"!==e){var t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}]),e}()).\u0275fac=function(e){return new(e||HD)($o(gI),$o(cl),$o(_T),$o(Yl),$o(sc),$o(xE),$o(HE),$o(pR),$o(WD),$o(CR,8),$o($D,8),$o(Bc))},HD.\u0275dir=dt({type:HD,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),HD),ZD=((BD=function(){function e(t,n){v(this,e),this._changeDetectorRef=t,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new V,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}return m(e,[{key:"show",value:function(e){var t=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){t._visibility="visible",t._showTimeoutId=null,t._markForCheck()},e)}},{key:"hide",value:function(e){var t=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(function(){t._visibility="hidden",t._hideTimeoutId=null,t._markForCheck()},e)}},{key:"afterHidden",value:function(){return this._onHide}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(e){var t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||BD)($o(Fl),$o(ND))},BD.\u0275cmp=ot({type:BD,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&os("click",function(){return t._handleBodyInteraction()},!1,Er)("auxclick",function(){return t._handleBodyInteraction()},!1,Er),2&e&&xs("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){var n;(1&e&&(Ko(0,"div",0),os("@state.start",function(){return t._animationStart()})("@state.done",function(e){return t._animationDone(e)}),pu(1,"async"),Ns(2),Xo()),2&e)&&(Ss("mat-tooltip-handset",null==(n=vu(1,5,t._isHandset))?null:n.matches),Yo("ngClass",t.tooltipClass)("@state",t._visibility),pa(2),zs(t.message))},directives:[yh],pipes:[Nh],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[qD.tooltipState]},changeDetection:0}),BD),KD=((jD=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jD)},jD.\u0275mod=ct({type:jD}),jD.\u0275inj=Te({providers:[GD],imports:[[xR,Bh,kI,MR],MR,kT]}),jD);function XD(e,t){if(1&e&&(Ko(0,"mat-option",19),Ns(1),Xo()),2&e){var n=t.$implicit;Yo("value",n),pa(1),Vs(" ",n," ")}}function QD(e,t){if(1&e){var n=ns();Ko(0,"mat-form-field",16),Ko(1,"mat-select",17),os("selectionChange",function(e){return Zt(n),hs(2)._changePageSize(e.value)}),Wo(2,XD,2,2,"mat-option",18),Xo(),Xo()}if(2&e){var i=hs(2);Yo("appearance",i._formFieldAppearance)("color",i.color),pa(1),Yo("value",i.pageSize)("disabled",i.disabled)("aria-label",i._intl.itemsPerPageLabel),pa(1),Yo("ngForOf",i._displayedPageSizeOptions)}}function JD(e,t){if(1&e&&(Ko(0,"div",20),Ns(1),Xo()),2&e){var n=hs(2);pa(1),zs(n.pageSize)}}function eO(e,t){if(1&e&&(Ko(0,"div",12),Ko(1,"div",13),Ns(2),Xo(),Wo(3,QD,3,6,"mat-form-field",14),Wo(4,JD,2,1,"div",15),Xo()),2&e){var n=hs();pa(2),Vs(" ",n._intl.itemsPerPageLabel," "),pa(1),Yo("ngIf",n._displayedPageSizeOptions.length>1),pa(1),Yo("ngIf",n._displayedPageSizeOptions.length<=1)}}function tO(e,t){if(1&e){var n=ns();Ko(0,"button",21),os("click",function(){return Zt(n),hs().firstPage()}),xn(),Ko(1,"svg",7),Qo(2,"path",22),Xo(),Xo()}if(2&e){var i=hs();Yo("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),qo("aria-label",i._intl.firstPageLabel)}}function nO(e,t){if(1&e){var n=ns();xn(),Sn(),Ko(0,"button",23),os("click",function(){return Zt(n),hs().lastPage()}),xn(),Ko(1,"svg",7),Qo(2,"path",24),Xo(),Xo()}if(2&e){var i=hs();Yo("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),qo("aria-label",i._intl.lastPageLabel)}}var iO,rO,aO,oO,sO=((iO=function e(){v(this,e),this.changes=new V,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(e,t,n){if(0==n||0==t)return"0 of ".concat(n);var i=e*t;return"".concat(i+1," \u2013 ").concat(i<(n=Math.max(n,0))?Math.min(i+t,n):i+t," of ").concat(n)}}).\u0275fac=function(e){return new(e||iO)},iO.\u0275prov=Ae({factory:function(){return new iO},token:iO,providedIn:"root"}),iO),lO={provide:sO,deps:[[new Pi,new Mi,sO]],useFactory:function(e){return e||new sO}},uO=new ui("MAT_PAGINATOR_DEFAULT_OPTIONS"),cO=LR(function(e){a(n,e);var t=s(n);function n(){var e;v(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r)))._isInitialized=!1,e._pendingSubscribers=[],e.initialized=new P(function(t){e._isInitialized?e._notifySubscriber(t):e._pendingSubscribers.push(t)}),e}return m(n,[{key:"_markInitialized",value:function(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}},{key:"_notifySubscriber",value:function(e){e.next(),e.complete()}}]),n}(function e(){v(this,e)})),hO=((oO=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;if(v(this,n),(a=t.call(this))._intl=e,a._changeDetectorRef=i,a._pageIndex=0,a._length=0,a._pageSizeOptions=[],a._hidePageSize=!1,a._showFirstLastButtons=!1,a.page=new _u,a._intlChanges=e.changes.subscribe(function(){return a._changeDetectorRef.markForCheck()}),r){var o=r.pageSize,s=r.pageSizeOptions,u=r.hidePageSize,c=r.showFirstLastButtons;null!=o&&(a._pageSize=o),null!=s&&(a._pageSizeOptions=s),null!=u&&(a._hidePageSize=u),null!=c&&(a._showFirstLastButtons=c)}return l(a)}return m(n,[{key:"pageIndex",get:function(){return this._pageIndex},set:function(e){this._pageIndex=Math.max(fE(e),0),this._changeDetectorRef.markForCheck()}},{key:"length",get:function(){return this._length},set:function(e){this._length=fE(e),this._changeDetectorRef.markForCheck()}},{key:"pageSize",get:function(){return this._pageSize},set:function(e){this._pageSize=Math.max(fE(e),0),this._updateDisplayedPageSizeOptions()}},{key:"pageSizeOptions",get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map(function(e){return fE(e)}),this._updateDisplayedPageSizeOptions()}},{key:"hidePageSize",get:function(){return this._hidePageSize},set:function(e){this._hidePageSize=dE(e)}},{key:"showFirstLastButtons",get:function(){return this._showFirstLastButtons},set:function(e){this._showFirstLastButtons=dE(e)}},{key:"ngOnInit",value:function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe()}},{key:"nextPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}}},{key:"previousPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}}},{key:"firstPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}}},{key:"lastPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}}},{key:"hasPreviousPage",value:function(){return this.pageIndex>=1&&0!=this.pageSize}},{key:"hasNextPage",value:function(){var e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}},{key:"getNumberOfPages",value:function(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}},{key:"_changePageSize",value:function(e){var t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(t)}},{key:"_nextButtonsDisabled",value:function(){return this.disabled||!this.hasNextPage()}},{key:"_previousButtonsDisabled",value:function(){return this.disabled||!this.hasPreviousPage()}},{key:"_updateDisplayedPageSizeOptions",value:function(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(function(e,t){return e-t}),this._changeDetectorRef.markForCheck())}},{key:"_emitPageEvent",value:function(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}]),n}(cO)).\u0275fac=function(e){return new(e||oO)($o(sO),$o(Fl),$o(void 0))},oO.\u0275dir=dt({type:oO,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[Io]}),oO),dO=((aO=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),a=t.call(this,e,i,r),r&&null!=r.formFieldAppearance&&(a._formFieldAppearance=r.formFieldAppearance),a}return n}(hO)).\u0275fac=function(e){return new(e||aO)($o(sO),$o(Fl),$o(uO,8))},aO.\u0275cmp=ot({type:aO,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Io],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"div",1),Wo(2,eO,5,3,"div",2),Ko(3,"div",3),Ko(4,"div",4),Ns(5),Xo(),Wo(6,tO,3,5,"button",5),Ko(7,"button",6),os("click",function(){return t.previousPage()}),xn(),Ko(8,"svg",7),Qo(9,"path",8),Xo(),Xo(),Sn(),Ko(10,"button",9),os("click",function(){return t.nextPage()}),xn(),Ko(11,"svg",7),Qo(12,"path",10),Xo(),Xo(),Wo(13,nO,3,5,"button",11),Xo(),Xo(),Xo()),2&e&&(pa(2),Yo("ngIf",!t.hidePageSize),pa(3),Vs(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),pa(1),Yo("ngIf",t.showFirstLastButtons),pa(1),Yo("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),qo("aria-label",t._intl.previousPageLabel),pa(3),Yo("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),qo("aria-label",t._intl.nextPageLabel),pa(3),Yo("ngIf",t.showFirstLastButtons))},directives:[kh,jA,YD,aD,ID,_h,IA],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),aO),fO=((rO=function e(){v(this,e)}).\u0275fac=function(e){return new(e||rO)},rO.\u0275mod=ct({type:rO}),rO.\u0275inj=Te({providers:[lO],imports:[[Bh,BA,OD,KD,MR]]}),rO),pO=[[["caption"]],[["colgroup"],["col"]]],vO=["caption","colgroup, col"];function gO(e){return function(e){a(n,e);var t=s(n);function n(){var e;v(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r)))._sticky=!1,e._hasStickyChanged=!1,e}return m(n,[{key:"sticky",get:function(){return this._sticky},set:function(e){var t=this._sticky;this._sticky=dE(e),this._hasStickyChanged=t!==this._sticky}},{key:"hasStickyChanged",value:function(){var e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}}]),n}(e)}var mO,yO,bO,_O,wO,kO,xO,SO,CO,EO,RO,AO,TO,IO,DO,OO,PO,MO,LO,FO,NO=new ui("CDK_TABLE"),zO=((bO=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||bO)($o(Hl))},bO.\u0275dir=dt({type:bO,selectors:[["","cdkCellDef",""]]}),bO),VO=((yO=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||yO)($o(Hl))},yO.\u0275dir=dt({type:yO,selectors:[["","cdkHeaderCellDef",""]]}),yO),jO=((mO=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||mO)($o(Hl))},mO.\u0275dir=dt({type:mO,selectors:[["","cdkFooterCellDef",""]]}),mO),BO=gO(function e(){v(this,e)}),HO=((_O=function(e){a(n,e);var t=s(n);function n(e){var i;return v(this,n),(i=t.call(this))._table=e,i._stickyEnd=!1,i}return m(n,[{key:"name",get:function(){return this._name},set:function(e){this._setNameInput(e)}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(e){var t=this._stickyEnd;this._stickyEnd=dE(e),this._hasStickyChanged=t!==this._stickyEnd}},{key:"_updateColumnCssClassName",value:function(){this._columnCssClassName=["cdk-column-".concat(this.cssClassFriendlyName)]}},{key:"_setNameInput",value:function(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}]),n}(BO)).\u0275fac=function(e){return new(e||_O)($o(NO,8))},_O.\u0275dir=dt({type:_O,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,zO,1),Mu(n,VO,1),Mu(n,jO,1)),2&e&&(Ou(i=Lu())&&(t.cell=i.first),Ou(i=Lu())&&(t.headerCell=i.first),Ou(i=Lu())&&(t.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[il([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:_O}]),Io]}),_O),qO=function e(t,n){v(this,e);var i,r=n.nativeElement.classList,a=d(t._columnCssClassName);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.add(o)}}catch(s){a.e(s)}finally{a.f()}},UO=((kO=function(e){a(n,e);var t=s(n);function n(e,i){return v(this,n),t.call(this,e,i)}return n}(qO)).\u0275fac=function(e){return new(e||kO)($o(HO),$o(cl))},kO.\u0275dir=dt({type:kO,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Io]}),kO),WO=((wO=function(e){a(n,e);var t=s(n);function n(e,i){return v(this,n),t.call(this,e,i)}return n}(qO)).\u0275fac=function(e){return new(e||wO)($o(HO),$o(cl))},wO.\u0275dir=dt({type:wO,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[Io]}),wO),GO=function e(){v(this,e),this.tasks=[],this.endTasks=[]},$O=new ui("_COALESCED_STYLE_SCHEDULER"),YO=((SO=function(){function e(t){v(this,e),this._ngZone=t,this._currentSchedule=null,this._destroyed=new V}return m(e,[{key:"schedule",value:function(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}},{key:"scheduleEnd",value:function(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_createScheduleIfNeeded",value:function(){var e=this;this._currentSchedule||(this._currentSchedule=new GO,this._getScheduleObservable().pipe(Cy(this._destroyed)).subscribe(function(){for(;e._currentSchedule.tasks.length||e._currentSchedule.endTasks.length;){var t=e._currentSchedule;e._currentSchedule=new GO;var n,i=d(t.tasks);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(o){i.e(o)}finally{i.f()}var r,a=d(t.endTasks);try{for(a.s();!(r=a.n()).done;)(0,r.value)()}catch(o){a.e(o)}finally{a.f()}}e._currentSchedule=null}))}},{key:"_getScheduleObservable",value:function(){return this._ngZone.isStable?X(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ty(1))}}]),e}()).\u0275fac=function(e){return new(e||SO)(Ei(sc))},SO.\u0275prov=Ae({token:SO,factory:SO.\u0275fac}),SO),ZO=((xO=function(){function e(t,n){v(this,e),this.template=t,this._differs=n}return m(e,[{key:"ngOnChanges",value:function(e){if(!this._columnsDiffer){var t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(e){return this instanceof XO?e.headerCell.template:this instanceof JO?e.footerCell.template:e.cell.template}}]),e}()).\u0275fac=function(e){return new(e||xO)($o(Hl),$o(Tl))},xO.\u0275dir=dt({type:xO,features:[Ct]}),xO),KO=gO(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(ZO)),XO=((CO=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i))._table=r,a}return m(n,[{key:"ngOnChanges",value:function(e){r(h(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(KO)).\u0275fac=function(e){return new(e||CO)($o(Hl),$o(Tl),$o(NO,8))},CO.\u0275dir=dt({type:CO,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Io,Ct]}),CO),QO=gO(function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(ZO)),JO=((DO=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i))._table=r,a}return m(n,[{key:"ngOnChanges",value:function(e){r(h(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(QO)).\u0275fac=function(e){return new(e||DO)($o(Hl),$o(Tl),$o(NO,8))},DO.\u0275dir=dt({type:DO,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Io,Ct]}),DO),eP=((IO=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this,e,i))._table=r,a}return n}(ZO)).\u0275fac=function(e){return new(e||IO)($o(Hl),$o(Tl),$o(NO,8))},IO.\u0275dir=dt({type:IO,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Io]}),IO),tP=((TO=function(){function e(t){v(this,e),this._viewContainer=t,e.mostRecentCellOutlet=this}return m(e,[{key:"ngOnDestroy",value:function(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}]),e}()).\u0275fac=function(e){return new(e||TO)($o(Yl))},TO.\u0275dir=dt({type:TO,selectors:[["","cdkCellOutlet",""]]}),TO.mostRecentCellOutlet=null,TO),nP=((AO=function e(){v(this,e)}).\u0275fac=function(e){return new(e||AO)},AO.\u0275cmp=ot({type:AO,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&ts(0,0)},directives:[tP],encapsulation:2}),AO),iP=((RO=function e(){v(this,e)}).\u0275fac=function(e){return new(e||RO)},RO.\u0275cmp=ot({type:RO,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&ts(0,0)},directives:[tP],encapsulation:2}),RO),rP=((EO=function e(t){v(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||EO)($o(Hl))},EO.\u0275dir=dt({type:EO,selectors:[["ng-template","cdkNoDataRow",""]]}),EO),aP=["top","bottom","left","right"],oP=function(){function e(t,n,i,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0;v(this,e),this._isNativeHtmlTable=t,this._stickCellCss=n,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:"".concat(n,"-border-elem-top"),bottom:"".concat(n,"-border-elem-bottom"),left:"".concat(n,"-border-elem-left"),right:"".concat(n,"-border-elem-right")}}return m(e,[{key:"clearStickyPositioning",value:function(e,t){var n,i=this,r=[],a=d(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(var s=0;s<o.children.length;s++)r.push(o.children[s])}}}catch(l){a.e(l)}finally{a.f()}this._scheduleStyleChanges(function(){var e,n=d(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;i._removeStickyStyle(a,t)}}catch(l){n.e(l)}finally{n.f()}})}},{key:"updateStickyColumns",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length&&this._isBrowser&&(t.some(function(e){return e})||n.some(function(e){return e}))){var a=e[0],o=a.children.length,s=this._getCellWidths(a,r),l=this._getStickyStartColumnPositions(s,t),u=this._getStickyEndColumnPositions(s,n),c=t.lastIndexOf(!0),h=n.indexOf(!0);this._scheduleStyleChanges(function(){var r,a="rtl"===i.direction,f=a?"right":"left",p=a?"left":"right",v=d(e);try{for(v.s();!(r=v.n()).done;)for(var g=r.value,m=0;m<o;m++){var y=g.children[m];t[m]&&i._addStickyStyle(y,f,l[m],m===c),n[m]&&i._addStickyStyle(y,p,u[m],m===h)}}catch(b){v.e(b)}finally{v.f()}i._positionListener&&(i._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:s.slice(0,c+1).map(function(e,n){return t[n]?e:null})}),i._positionListener.stickyEndColumnsUpdated({sizes:-1===h?[]:s.slice(h).map(function(e,t){return n[t+h]?e:null}).reverse()}))})}else this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}},{key:"stickRows",value:function(e,t,n){var i=this;if(this._isBrowser){for(var r="bottom"===n?e.slice().reverse():e,a="bottom"===n?t.slice().reverse():t,o=[],s=[],l=[],u=0,c=0;u<r.length;u++)if(o[u]=c,a[u]){var h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];var f=h.getBoundingClientRect().height;c+=f,s[u]=f}var p=a.lastIndexOf(!0);this._scheduleStyleChanges(function(){for(var e,t,u=0;u<r.length;u++)if(a[u]){var c,h=o[u],f=u===p,v=d(l[u]);try{for(v.s();!(c=v.n()).done;){var g=c.value;i._addStickyStyle(g,n,h,f)}}catch(m){v.e(m)}finally{v.f()}}"top"===n?null===(e=i._positionListener)||void 0===e||e.stickyHeaderRowsUpdated({sizes:s,elements:l}):null===(t=i._positionListener)||void 0===t||t.stickyFooterRowsUpdated({sizes:s,elements:l})})}}},{key:"updateStickyFooterContainer",value:function(e,t){var n=this;if(this._isNativeHtmlTable){var i=e.querySelector("tfoot");this._scheduleStyleChanges(function(){t.some(function(e){return!e})?n._removeStickyStyle(i,["bottom"]):n._addStickyStyle(i,"bottom",0,!1)})}}},{key:"_removeStickyStyle",value:function(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.style[r]="",e.classList.remove(this._borderCellCss[r])}}catch(a){i.e(a)}finally{i.f()}aP.some(function(n){return-1===t.indexOf(n)&&e.style[n]})?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(e,t,n,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]="".concat(n,"px"),e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}},{key:"_getCalculatedZIndex",value:function(e){var t,n={top:100,bottom:10,left:1,right:1},i=0,r=d(aP);try{for(r.s();!(t=r.n()).done;){var a=t.value;e.style[a]&&(i+=n[a])}}catch(o){r.e(o)}finally{r.f()}return i?"".concat(i):""}},{key:"_getCellWidths",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;for(var n=[],i=e.children,r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}},{key:"_getStickyStartColumnPositions",value:function(e,t){for(var n=[],i=0,r=0;r<e.length;r++)t[r]&&(n[r]=i,i+=e[r]);return n}},{key:"_getStickyEndColumnPositions",value:function(e,t){for(var n=[],i=0,r=e.length;r>0;r--)t[r]&&(n[r]=i,i+=e[r]);return n}},{key:"_scheduleStyleChanges",value:function(e){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(e):e()}}]),e}(),sP=new ui("CDK_SPL"),lP=((FO=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||FO)($o(Yl),$o(cl))},FO.\u0275dir=dt({type:FO,selectors:[["","rowOutlet",""]]}),FO),uP=((LO=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||LO)($o(Yl),$o(cl))},LO.\u0275dir=dt({type:LO,selectors:[["","headerRowOutlet",""]]}),LO),cP=((MO=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||MO)($o(Yl),$o(cl))},MO.\u0275dir=dt({type:MO,selectors:[["","footerRowOutlet",""]]}),MO),hP=((PO=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||PO)($o(Yl),$o(cl))},PO.\u0275dir=dt({type:PO,selectors:[["","noDataRowOutlet",""]]}),PO),dP=((OO=function(){function e(t,n,i,r,a,o,s,l,u,c,h){v(this,e),this._differs=t,this._changeDetectorRef=n,this._elementRef=i,this._dir=a,this._platform=s,this._viewRepeater=l,this._coalescedStyleScheduler=u,this._stickyPositioningListener=c,this._viewportRuler=h,this._onDestroy=new V,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new dy({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return m(e,[{key:"trackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"dataSource",get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(e){this._multiTemplateDataRows=dE(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}},{key:"fixedLayout",get:function(){return this._fixedLayout},set:function(e){this._fixedLayout=dE(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}},{key:"ngOnInit",value:function(){var e=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(t,n){return e.trackBy?e.trackBy(n.dataIndex,n.data):n}),this._viewportRuler&&this._viewportRuler.change().pipe(Cy(this._onDestroy)).subscribe(function(){e._forceRecalculateCellWidths=!0})}},{key:"ngAfterContentChecked",value:function(){this._cacheRowDefs(),this._cacheColumnDefs();var e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),cT(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var e=this;this._renderRows=this._getAllRenderRows();var t=this._dataDiffer.diff(this._renderRows);if(t){var n=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,n,function(t,n,i){return e._getEmbeddedViewArgs(t.item,i)},function(e){return e.item.data},function(t){1===t.operation&&t.context&&e._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var a=t.item;e._renderRow(e._rowOutlet,a.rowDef,r,{$implicit:a.data})}else if(null==r)n.remove(i);else{var o=n.get(i);n.move(o,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(function(e){n.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}else this._updateNoDataRow()}},{key:"addColumnDef",value:function(e){this._customColumnDefs.add(e)}},{key:"removeColumnDef",value:function(e){this._customColumnDefs.delete(e)}},{key:"addRowDef",value:function(e){this._customRowDefs.add(e)}},{key:"removeRowDef",value:function(e){this._customRowDefs.delete(e)}},{key:"addHeaderRowDef",value:function(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}},{key:"setNoDataRow",value:function(e){this._customNoDataRow=e}},{key:"updateStickyHeaderRowStyles",value:function(){var e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");var n=this._headerRowDefs.map(function(e){return e.sticky});this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(function(e){return e.resetStickyChanged()})}},{key:"updateStickyFooterRowStyles",value:function(){var e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");var n=this._footerRowDefs.map(function(e){return e.sticky});this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(function(e){return e.resetStickyChanged()})}},{key:"updateStickyColumnStyles",value:function(){var e=this,t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([].concat(i(t),i(n),i(r)),["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach(function(t,n){e._addStickyColumnStyles([t],e._headerRowDefs[n])}),this._rowDefs.forEach(function(t){for(var i=[],r=0;r<n.length;r++)e._renderRows[r].rowDef===t&&i.push(n[r]);e._addStickyColumnStyles(i,t)}),r.forEach(function(t,n){e._addStickyColumnStyles([t],e._footerRowDefs[n])}),Array.from(this._columnDefsByName.values()).forEach(function(e){return e.resetStickyChanged()})}},{key:"_getAllRenderRows",value:function(){var e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var i=this._data[n],r=this._getRenderRowsForData(i,n,t.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(var a=0;a<r.length;a++){var o=r[a],s=this._cachedRenderRowsMap.get(o.data);s.has(o.rowDef)?s.get(o.rowDef).push(o):s.set(o.rowDef,[o]),e.push(o)}}return e}},{key:"_getRenderRowsForData",value:function(e,t,n){return this._getRowDefs(e,t).map(function(i){var r=n&&n.has(i)?n.get(i):[];if(r.length){var a=r.shift();return a.dataIndex=t,a}return{data:e,rowDef:i,dataIndex:t}})}},{key:"_cacheColumnDefs",value:function(){var e=this;this._columnDefsByName.clear(),fP(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(function(t){e._columnDefsByName.has(t.name),e._columnDefsByName.set(t.name,t)})}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=fP(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=fP(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=fP(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);var e=this._rowDefs.filter(function(e){return!e.when});this._defaultRowDef=e[0]}},{key:"_renderUpdatedColumns",value:function(){var e=function(e,t){return e||!!t.getColumnsDiff()},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();var n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();var i=this._footerRowDefs.reduce(e,!1);return i&&this._forceRenderFooterRows(),t||n||i}},{key:"_switchDataSource",value:function(e){this._data=[],cT(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}},{key:"_observeRenderChanges",value:function(){var e,t,n=this;this.dataSource&&(cT(this.dataSource)?e=this.dataSource.connect(this):(t=this.dataSource)&&(t instanceof P||"function"==typeof t.lift&&"function"==typeof t.subscribe)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ov(this.dataSource)),this._renderChangeSubscription=e.pipe(Cy(this._onDestroy)).subscribe(function(e){n._data=e||[],n.renderRows()}))}},{key:"_forceRenderHeaderRows",value:function(){var e=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(t,n){return e._renderRow(e._headerRowOutlet,t,n)}),this.updateStickyHeaderRowStyles()}},{key:"_forceRenderFooterRows",value:function(){var e=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(t,n){return e._renderRow(e._footerRowOutlet,t,n)}),this.updateStickyFooterRowStyles()}},{key:"_addStickyColumnStyles",value:function(e,t){var n=this,i=Array.from(t.columns||[]).map(function(e){return n._columnDefsByName.get(e)}),r=i.map(function(e){return e.sticky}),a=i.map(function(e){return e.stickyEnd});this._stickyStyler.updateStickyColumns(e,r,a,!this._fixedLayout||this._forceRecalculateCellWidths)}},{key:"_getRenderedRows",value:function(e){for(var t=[],n=0;n<e.viewContainer.length;n++){var i=e.viewContainer.get(n);t.push(i.rootNodes[0])}return t}},{key:"_getRowDefs",value:function(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(function(n){return!n.when||n.when(t,e)});else{var i=this._rowDefs.find(function(n){return n.when&&n.when(t,e)})||this._defaultRowDef;i&&n.push(i)}return n}},{key:"_getEmbeddedViewArgs",value:function(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}},{key:"_renderRow",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.viewContainer.createEmbeddedView(t.template,i,n);return this._renderCellTemplateForItem(t,i),r}},{key:"_renderCellTemplateForItem",value:function(e,t){var n,i=d(this._getCellTemplates(e));try{for(i.s();!(n=i.n()).done;){var r=n.value;tP.mostRecentCellOutlet&&tP.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,t)}}catch(a){i.e(a)}finally{i.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var e=this._rowOutlet.viewContainer,t=0,n=e.length;t<n;t++){var i=e.get(t).context;i.count=n,i.first=0===t,i.last=t===n-1,i.even=t%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[t].dataIndex,i.renderIndex=t):i.index=this._renderRows[t].dataIndex}}},{key:"_getCellTemplates",value:function(e){var t=this;return e&&e.columns?Array.from(e.columns,function(n){var i=t._columnDefsByName.get(n);return e.extractCellTemplate(i)}):[]}},{key:"_applyNativeTableSections",value:function(){for(var e=this._document.createDocumentFragment(),t=0,n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];t<n.length;t++){var i=n[t],r=this._document.createElement(i.tag);r.setAttribute("role","rowgroup");var a,o=d(i.outlets);try{for(o.s();!(a=o.n()).done;){var s=a.value;r.appendChild(s.elementRef.nativeElement)}}catch(l){o.e(l)}finally{o.f()}e.appendChild(r)}this._elementRef.nativeElement.appendChild(e)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}},{key:"_checkStickyStates",value:function(){var e=function(e,t){return e||t.hasStickyChanged()};this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}},{key:"_setupStickyStyler",value:function(){var e=this;this._stickyStyler=new oP(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ov()).pipe(Cy(this._onDestroy)).subscribe(function(t){e._stickyStyler.direction=t,e.updateStickyColumnStyles()})}},{key:"_getOwnDefs",value:function(e){var t=this;return e.filter(function(e){return!e._table||e._table===t})}},{key:"_updateNoDataRow",value:function(){var e=this._customNoDataRow||this._noDataRow;if(e){var t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){var n=this._noDataRowOutlet.viewContainer;t?n.createEmbeddedView(e.templateRef):n.clear(),this._isShowingNoDataRow=t}}}}]),e}()).\u0275fac=function(e){return new(e||OO)($o(Tl),$o(Fl),$o(cl),si("role"),$o(CR,8),$o(Bc),$o(xE),$o(bT,8),$o($O,8),$o(sP,12),$o(wT,8))},OO.\u0275cmp=ot({type:OO,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,rP,1),Mu(n,HO,1),Mu(n,eP,1),Mu(n,XO,1),Mu(n,JO,1)),2&e&&(Ou(i=Lu())&&(t._noDataRow=i.first),Ou(i=Lu())&&(t._contentColumnDefs=i),Ou(i=Lu())&&(t._contentRowDefs=i),Ou(i=Lu())&&(t._contentHeaderRowDefs=i),Ou(i=Lu())&&(t._contentFooterRowDefs=i))},viewQuery:function(e,t){var n;1&e&&(Pu(lP,3),Pu(uP,3),Pu(cP,3),Pu(hP,3)),2&e&&(Ou(n=Lu())&&(t._rowOutlet=n.first),Ou(n=Lu())&&(t._headerRowOutlet=n.first),Ou(n=Lu())&&(t._footerRowOutlet=n.first),Ou(n=Lu())&&(t._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&Ss("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[il([{provide:NO,useExisting:OO},{provide:bT,useClass:mT},{provide:$O,useClass:YO},{provide:sP,useValue:null}])],ngContentSelectors:vO,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(fs(pO),ps(0),ps(1,1),ts(2,0),ts(3,1),ts(4,2),ts(5,3))},directives:[uP,lP,hP,cP],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),OO);function fP(e,t){return e.concat(Array.from(t))}var pP,vP,gP,mP,yP,bP,_P,wP,kP,xP,SP,CP,EP,RP,AP,TP,IP=((pP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||pP)},pP.\u0275mod=ct({type:pP}),pP.\u0275inj=Te({imports:[[xT]]}),pP),DP=[[["caption"]],[["colgroup"],["col"]]],OP=["caption","colgroup, col"],PP=((vP=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).stickyCssClass="mat-table-sticky",e.needsPositionStickyOnElement=!1,e}return n}(dP)).\u0275fac=function(e){return MP(e||vP)},vP.\u0275cmp=ot({type:vP,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,t){2&e&&Ss("mat-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[il([{provide:bT,useClass:mT},{provide:dP,useExisting:vP},{provide:NO,useExisting:vP},{provide:$O,useClass:YO}]),Io],ngContentSelectors:OP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(fs(DP),ps(0),ps(1,1),ts(2,0),ts(3,1),ts(4,2),ts(5,3))},directives:[uP,lP,hP,cP],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),vP),MP=ai(PP),LP=((gP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(zO)).\u0275fac=function(e){return FP(e||gP)},gP.\u0275dir=dt({type:gP,selectors:[["","matCellDef",""]],features:[il([{provide:zO,useExisting:gP}]),Io]}),gP),FP=ai(LP),NP=((mP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(VO)).\u0275fac=function(e){return zP(e||mP)},mP.\u0275dir=dt({type:mP,selectors:[["","matHeaderCellDef",""]],features:[il([{provide:VO,useExisting:mP}]),Io]}),mP),zP=ai(NP),VP=((yP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return m(n,[{key:"name",get:function(){return this._name},set:function(e){this._setNameInput(e)}},{key:"_updateColumnCssClassName",value:function(){r(h(n.prototype),"_updateColumnCssClassName",this).call(this),this._columnCssClassName.push("mat-column-".concat(this.cssClassFriendlyName))}}]),n}(HO)).\u0275fac=function(e){return jP(e||yP)},yP.\u0275dir=dt({type:yP,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[il([{provide:HO,useExisting:yP},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:yP}]),Io]}),yP),jP=ai(VP),BP=((bP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(UO)).\u0275fac=function(e){return HP(e||bP)},bP.\u0275dir=dt({type:bP,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Io]}),bP),HP=ai(BP),qP=((_P=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(WO)).\u0275fac=function(e){return UP(e||_P)},_P.\u0275dir=dt({type:_P,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Io]}),_P),UP=ai(qP),WP=((wP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(XO)).\u0275fac=function(e){return GP(e||wP)},wP.\u0275dir=dt({type:wP,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[il([{provide:XO,useExisting:wP}]),Io]}),wP),GP=ai(WP),$P=((kP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(eP)).\u0275fac=function(e){return YP(e||kP)},kP.\u0275dir=dt({type:kP,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[il([{provide:eP,useExisting:kP}]),Io]}),kP),YP=ai($P),ZP=((xP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(nP)).\u0275fac=function(e){return KP(e||xP)},xP.\u0275cmp=ot({type:xP,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[il([{provide:nP,useExisting:xP}]),Io],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&ts(0,0)},directives:[tP],encapsulation:2}),xP),KP=ai(ZP),XP=((SP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(iP)).\u0275fac=function(e){return QP(e||SP)},SP.\u0275cmp=ot({type:SP,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[il([{provide:iP,useExisting:SP}]),Io],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&ts(0,0)},directives:[tP],encapsulation:2}),SP),QP=ai(XP),JP=((CP=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(rP)).\u0275fac=function(e){return eM(e||CP)},CP.\u0275dir=dt({type:CP,selectors:[["ng-template","matNoDataRow",""]],features:[il([{provide:rP,useExisting:CP}]),Io]}),CP),eM=ai(JP),tM=((EP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||EP)},EP.\u0275mod=ct({type:EP}),EP.\u0275inj=Te({imports:[[IP,MR],MR]}),EP),nM=[{id:"name",name:"Name",hidden:!1,type:"string",size:"large-col",description:"Allele name (reference allele name with SNPs in VDJbase format)"},{id:"imgt_name",name:"IMGT Name",hidden:!1,type:"string",size:"large-col",description:"Corresponding IMGT name, if any"},{id:"type",name:"Type",hidden:!1,type:"string",size:"small-col",description:"Type of gene (V, D, J, C) or element"},{id:"novel",name:"Novel",hidden:!1,type:"boolean",size:"small-col",description:"True if this allele is not in the reference set used by the pipeline"},{id:"functional",name:"Functional",hidden:!1,type:"boolean",size:"small-col",description:"True if the gene or element matches canonical/expected functional characteristics"},{id:"notes",name:"Notes",hidden:!1,type:"string",size:"small-col",description:"Notes on functionality"},{id:"deleted",name:"Deleted",hidden:!1,type:"boolean",size:"small-col",description:"True if is record indicates that the associated gene is deleted in the corresponding haplotypes"},{id:"sequence",name:"Sequence",hidden:!1,type:"string",size:"small-col",description:"Sequence of the allele (click to display)"},{id:"gapped_sequence",name:"Gapped",hidden:!0,type:"string",size:"small-col",description:"IMGT-gapped sequence of the allele (click to display)"},{id:"appearances",name:"Appearances",hidden:!1,type:"integer",size:"small-col",description:"Number of subjects in which the allele has been inferred (click for list)"},{id:"dataset",name:"Dataset",hidden:!0,type:"string",size:"small-col",description:"The dataset in which the allele was determined"}],iM=function(e){return e[e.TEXT_MODE=0]="TEXT_MODE",e[e.NUMBER_MODE=1]="NUMBER_MODE",e[e.DATE_MODE=2]="DATE_MODE",e[e.BOOL_MODE=3]="BOOL_MODE",e}({}),rM=((TP=function(){function e(){v(this,e)}return m(e,[{key:"loadSavedInfo",value:function(e,t){if(t){if(!localStorage)return;var n=localStorage.getItem("table-params-".concat(t));if(n&&"{}"!==n)try{var i=JSON.parse(n);return i=new Map(i)}catch(gG){n=null}return!n&&t&&this.saveInfo(e,t),e}}},{key:"saveInfo",value:function(e,t){if(t){if(!localStorage)return;var n=Array.from(e),i=JSON.stringify(n);localStorage.setItem("table-params-".concat(t),i)}}},{key:"mapToObj",value:function(e){return Array.from(e).reduce(function(e,t){var i=n(t,2),r=i[0],a=i[1];return e[r]=a,e},{})}}]),e}()).\u0275fac=function(e){return new(e||TP)},TP.\u0275prov=Ae({token:TP,factory:TP.\u0275fac}),TP),aM=((AP=function e(){v(this,e),this.selection=new dy({names:[],onlySelected:!1}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:AP,factory:AP.\u0275fac=function(e){return new(e||AP)},providedIn:"root"}),AP),oM=((RP=function e(){v(this,e),this.selection=new dy({ids:[]}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:RP,factory:RP.\u0275fac=function(e){return new(e||RP)},providedIn:"root"}),RP),sM=["*"];function lM(e){return Error('Unable to find icon with the name "'.concat(e,'"'))}function uM(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(e,'".'))}function cM(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(e,'".'))}var hM,dM=function e(t,n,i){v(this,e),this.url=t,this.svgText=n,this.options=i},fM=((hM=function(){function e(t,n,i,r){v(this,e),this._httpClient=t,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}return m(e,[{key:"addSvgIcon",value:function(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}},{key:"addSvgIconLiteral",value:function(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}},{key:"addSvgIconInNamespace",value:function(e,t,n,i){return this._addSvgIconConfig(e,t,new dM(n,null,i))}},{key:"addSvgIconResolver",value:function(e){return this._resolvers.push(e),this}},{key:"addSvgIconLiteralInNamespace",value:function(e,t,n,i){var r=this._sanitizer.sanitize(vr.HTML,n);if(!r)throw cM(n);return this._addSvgIconConfig(e,t,new dM("",r,i))}},{key:"addSvgIconSet",value:function(e,t){return this.addSvgIconSetInNamespace("",e,t)}},{key:"addSvgIconSetLiteral",value:function(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}},{key:"addSvgIconSetInNamespace",value:function(e,t,n){return this._addSvgIconSetConfig(e,new dM(t,null,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(e,t,n){var i=this._sanitizer.sanitize(vr.HTML,t);if(!i)throw cM(t);return this._addSvgIconSetConfig(e,new dM("",i,n))}},{key:"registerFontClassAlias",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._fontCssClassesByAlias.set(e,t),this}},{key:"classNameForFontAlias",value:function(e){return this._fontCssClassesByAlias.get(e)||e}},{key:"setDefaultFontSetClass",value:function(e){return this._defaultFontSetClass=e,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(e){var t=this,n=this._sanitizer.sanitize(vr.RESOURCE_URL,e);if(!n)throw uM(e);var i=this._cachedIconsByUrl.get(n);return i?ov(pM(i)):this._loadSvgIconFromConfig(new dM(e,null)).pipe(Vy(function(e){return t._cachedIconsByUrl.set(n,e)}),H(function(e){return pM(e)}))}},{key:"getNamedSvgIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=vM(t,e),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(t,e))return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):Wy(lM(n))}},{key:"ngOnDestroy",value:function(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(e){return e.svgText?ov(pM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(H(function(e){return pM(e)}))}},{key:"_getSvgFromIconSetConfigs",value:function(e,t){var n=this,i=this._extractIconWithNameFromAnySet(e,t);return i?ov(i):Qv(t.filter(function(e){return!e.svgText}).map(function(e){return n._loadSvgIconSetFromConfig(e).pipe(jw(function(t){var i=n._sanitizer.sanitize(vr.RESOURCE_URL,e.url);return n._errorHandler.handleError(new Error("Loading icon set URL: ".concat(i," failed: ").concat(t.message))),ov(null)}))})).pipe(H(function(){var i=n._extractIconWithNameFromAnySet(e,t);if(!i)throw lM(e);return i}))}},{key:"_extractIconWithNameFromAnySet",value:function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.svgText&&i.svgText.indexOf(e)>-1){var r=this._svgElementFromConfig(i),a=this._extractSvgIconFromSet(r,e,i.options);if(a)return a}}return null}},{key:"_loadSvgIconFromConfig",value:function(e){var t=this;return this._fetchIcon(e).pipe(Vy(function(t){return e.svgText=t}),H(function(){return t._svgElementFromConfig(e)}))}},{key:"_loadSvgIconSetFromConfig",value:function(e){return e.svgText?ov(null):this._fetchIcon(e).pipe(Vy(function(t){return e.svgText=t}))}},{key:"_extractSvgIconFromSet",value:function(e,t,n){var i=e.querySelector('[id="'.concat(t,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var a=this._svgElementFromString("<svg></svg>");return a.appendChild(r),this._setSvgAttributes(a,n)}},{key:"_svgElementFromString",value:function(e){var t=this._document.createElement("DIV");t.innerHTML=e;var n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(e){for(var t=this._svgElementFromString("<svg></svg>"),n=e.attributes,i=0;i<n.length;i++){var r=n[i],a=r.name,o=r.value;"id"!==a&&t.setAttribute(a,o)}for(var s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}},{key:"_setSvgAttributes",value:function(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}},{key:"_fetchIcon",value:function(e){var t,n=this,i=e.url,r=e.options,a=null!==(t=null==r?void 0:r.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error('Cannot fetch icon from URL "'.concat(i,'".'));var o=this._sanitizer.sanitize(vr.RESOURCE_URL,i);if(!o)throw uM(i);var s=this._inProgressUrlFetches.get(o);if(s)return s;var l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(ck(function(){return n._inProgressUrlFetches.delete(o)}),ve());return this._inProgressUrlFetches.set(o,l),l}},{key:"_addSvgIconConfig",value:function(e,t,n){return this._svgIconConfigs.set(vM(e,t),n),this}},{key:"_addSvgIconSetConfig",value:function(e,t){var n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}},{key:"_svgElementFromConfig",value:function(e){if(!e.svgElement){var t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}},{key:"_getIconConfigFromResolvers",value:function(e,t){for(var n=0;n<this._resolvers.length;n++){var i=this._resolvers[n](t,e);if(i)return(r=i).url&&r.options?new dM(i.url,null,i.options):new dM(i,null)}var r}}]),e}()).\u0275fac=function(e){return new(e||hM)(Ei(Fv,8),Ei(Ad),Ei(Bc,8),Ei(kr))},hM.\u0275prov=Ae({factory:function(){return new hM(Ei(Fv,8),Ei(Ad),Ei(Bc,8),Ei(kr))},token:hM,providedIn:"root"}),hM);function pM(e){return e.cloneNode(!0)}function vM(e,t){return e+":"+t}var gM,mM,yM=FR(function e(t){v(this,e),this._elementRef=t}),bM=new ui("mat-icon-location",{providedIn:"root",factory:function(){var e=Ri(Bc),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}}),_M=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wM=_M.map(function(e){return"[".concat(e,"]")}).join(", "),kM=/^url\(['"]?#(.*?)['"]?\)$/,xM=((mM=function(e){a(i,e);var t=s(i);function i(e,n,r,a,o){var s;return v(this,i),(s=t.call(this,e))._iconRegistry=n,s._location=a,s._errorHandler=o,s._inline=!1,s._currentIconFetch=C.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true"),s}return m(i,[{key:"inline",get:function(){return this._inline},set:function(e){this._inline=dE(e)}},{key:"svgIcon",get:function(){return this._svgIcon},set:function(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}},{key:"fontSet",get:function(){return this._fontSet},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}},{key:"_splitIconName",value:function(e){if(!e)return["",""];var t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error('Invalid icon name: "'.concat(e,'"'))}}},{key:"ngOnInit",value:function(){this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var e=this._elementsWithExternalReferences;if(e&&e.size){var t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(e){this._clearSvgElement();for(var t=e.querySelectorAll("style"),n=0;n<t.length;n++)t[n].textContent+=" ";var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}},{key:"_clearSvgElement",value:function(){var e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){var n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(e){return"string"==typeof e?e.trim().split(" ")[0]:e}},{key:"_prependPathToReferences",value:function(e){var t=this._elementsWithExternalReferences;t&&t.forEach(function(t,n){t.forEach(function(t){n.setAttribute(t.name,"url('".concat(e,"#").concat(t.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(e){for(var t=e.querySelectorAll(wM),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(e){_M.forEach(function(i){var r=t[e],a=r.getAttribute(i),o=a?a.match(kM):null;if(o){var s=n.get(r);s||(s=[],n.set(r,s)),s.push({name:i,value:o[1]})}})},r=0;r<t.length;r++)i(r)}},{key:"_updateSvgIcon",value:function(e){var t=this;if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){var i=n(this._splitIconName(e),2),r=i[0],a=i[1];r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe(Ty(1)).subscribe(function(e){return t._setSvgElement(e)},function(e){t._errorHandler.handleError(new Error("Error retrieving icon ".concat(r,":").concat(a,"! ").concat(e.message)))})}}}]),i}(yM)).\u0275fac=function(e){return new(e||mM)($o(cl),$o(fM),si("aria-hidden"),$o(bM),$o(kr))},mM.\u0275cmp=ot({type:mM,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(qo("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),Ss("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Io],ngContentSelectors:sM,decls:1,vars:0,template:function(e,t){1&e&&(fs(),ps(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),mM),SM=((gM=function e(){v(this,e)}).\u0275fac=function(e){return new(e||gM)},gM.\u0275mod=ct({type:gM}),gM.\u0275inj=Te({imports:[[MR],MR]}),gM);function CM(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}function EM(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function RM(e,t){var n=t?"":"none";EM(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function AM(e,t){var n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function TM(e){var t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function IM(e,t){return e.getPropertyValue(t).split(",").map(function(e){return e.trim()})}function DM(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function OM(e,t,n){var i=e.top,r=e.bottom,a=e.left,o=e.right;return n>=i&&n<=r&&t>=a&&t<=o}function PM(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function MM(e,t,n,i){var r=e.top,a=e.right,o=e.bottom,s=e.left,l=e.width*t,u=e.height*t;return i>r-u&&i<o+u&&n>s-l&&n<a+l}var LM=function(){function e(t,n){v(this,e),this._document=t,this._viewportRuler=n,this.positions=new Map}return m(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){t.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:DM(e)})})}},{key:"handleScroll",value:function(e){var t=e.target,n=this.positions.get(t);if(!n)return null;var i,r,a=t===this._document?t.documentElement:t,o=n.scrollPosition;if(t===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,r=s.left}else i=t.scrollTop,r=t.scrollLeft;var l=o.top-i,u=o.left-r;return this.positions.forEach(function(e,n){e.clientRect&&t!==n&&a.contains(n)&&PM(e.clientRect,l,u)}),o.top=i,o.left=r,{top:l,left:u}}}]),e}();function FM(e){var t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(var r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?jM(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||VM(e,t),NM("canvas",e,t,jM),NM("input, textarea, select",e,t,VM),t}function NM(e,t,n,i){var r=t.querySelectorAll(e);if(r.length)for(var a=n.querySelectorAll(e),o=0;o<r.length;o++)i(r[o],a[o])}var zM=0;function VM(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name="mat-clone-".concat(t.name,"-").concat(zM++))}function jM(e,t){var n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(gG){}}var BM=RE({passive:!0}),HM=RE({passive:!1}),qM=function(){function e(t,n,i,r,a,o){var s=this;v(this,e),this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new V,this._pointerMoveSubscription=C.EMPTY,this._pointerUpSubscription=C.EMPTY,this._scrollSubscription=C.EMPTY,this._resizeSubscription=C.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new V,this.started=new V,this.released=new V,this.ended=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.moved=this._moveEvents,this._pointerDown=function(e){if(s.beforeStarted.next(),s._handles.length){var t=s._handles.find(function(t){var n=e.target;return!!n&&(n===t||t.contains(n))});!t||s._disabledHandles.has(t)||s.disabled||s._initializeDragSequence(t,e)}else s.disabled||s._initializeDragSequence(s._rootElement,e)},this._pointerMove=function(e){var t=s._getPointerPositionOnPage(e);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),e.preventDefault();var n=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._lastKnownPointerPosition=t,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,t);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:e,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(t.x-s._pickupPositionOnPage.x)+Math.abs(t.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var r=Date.now()>=s._dragStartTime+s._getDragStartDelay(e),a=s._dropContainer;if(!r)return void s._endDragSequence(e);a&&(a.isDragging()||a.isReceiving())||(e.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(e)}))}},this._pointerUp=function(e){s._endDragSequence(e)},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new LM(i,a),o.registerDragItem(this)}return m(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var t=dE(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return RM(e,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var t=this;this._handles=e.map(function(e){return gE(e)}),this._handles.forEach(function(e){return RM(e,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(e){t._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var t=this,n=gE(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,HM),n.addEventListener("touchstart",t._pointerDown,BM)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var t=this;return this._boundaryElement=e?gE(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&GM(this._rootElement),GM(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),RM(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),RM(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&GM(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&GM(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var t=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(e),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(t._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){$M(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,i=n.parentNode,r=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(o,n),AM(n,!1),this._document.body.appendChild(i.replaceChild(a,n)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(r),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,t){var n=this;this._parentDragRef&&t.stopPropagation();var i=this.isDragging(),r=$M(t),a=!r&&0!==t.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(i||a||s)){this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){n._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=DM(this._boundaryElement));var l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);var u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(e){var t=this;AM(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=t._dropContainer,i=n.getItemIndex(t),r=t._getPointerPositionOnPage(e),a=t._getDragDistance(t._getPointerPositionOnPage(e)),o=n._isOverContainer(r.x,r.y);t.ended.next({source:t,distance:a}),t.dropped.next({item:t,currentIndex:i,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:o,distance:a}),n.drop(t,i,t._initialIndex,t._initialContainer,o,a),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,t){var n=this,i=e.x,r=e.y,a=t.x,o=t.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,r);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,r,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(a,o),this._dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this._preview.style.transform=UM(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,t=this._previewTemplate,n=this.previewClass,i=t?t.template:null;if(i&&t){var r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),e=YM(a,this._document),this._previewRef=a,t.matchSize?ZM(e,r):e.style.transform=UM(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;ZM(e=FM(o),o.getBoundingClientRect())}return EM(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),RM(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(t){return e.classList.add(t)}):e.classList.add(n)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=UM(t.left,t.top);var n=function(e){var t=getComputedStyle(e),n=IM(t,"transition-property"),i=n.find(function(e){return"transform"===e||"all"===e});if(!i)return 0;var r=n.indexOf(i),a=IM(t,"transition-duration"),o=IM(t,"transition-delay");return TM(a[r])+TM(o[r])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var i=function n(i){(!i||i.target===e._preview&&"transform"===i.propertyName)&&(e._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(i,1.5*n);e._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var e,t=this._placeholderTemplate,n=t?t.template:null;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=YM(this._placeholderRef,this._document)):e=FM(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,t){var n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():n,a=$M(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-o.left),y:r.top-n.top+(a.pageY-r.top-o.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var t=this._getViewportScrollPosition(),n=$M(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,r=n.pageY-t.top;if(this._ownerSVGElement){var a=this._ownerSVGElement.getScreenCTM();if(a){var o=this._ownerSVGElement.createSVGPoint();return o.x=i,o.y=r,o.matrixTransform(a.inverse())}}return{x:i,y:r}}},{key:"_getConstrainedPointerPosition",value:function(e){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(e,this):e,i=n.x,r=n.y;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(i=this._pickupPositionOnPage.x),this._boundaryRect){var a=this._pickupPositionInElement,o=a.x,s=a.y,l=this._boundaryRect,u=this._previewRect,c=l.top+s,h=l.bottom-(u.height-s);i=WM(i,l.left+o,l.right-(u.width-o)),r=WM(r,c,h)}return{x:i,y:r}}},{key:"_updatePointerDirectionDelta",value:function(e){var t=e.x,n=e.y,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),o=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>r.x?1:-1,r.x=t),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,RM(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,HM),e.removeEventListener("touchstart",this._pointerDown,BM)}},{key:"_applyRootElementTransform",value:function(e,t){var n=UM(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(e){var t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,t=e.x,n=e.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===r.width&&0===r.height)){var a=i.left-r.left,o=r.right-i.right,s=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(a>0&&(t+=a),o>0&&(t-=o)):t=0,i.height>r.height?(s>0&&(n+=s),l>0&&(n-=l)):n=0,t===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(e){var t=this.dragStartDelay;return"number"==typeof t?t:$M(e)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(e){var t=this._parentPositions.handleScroll(e);if(t){var n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&PM(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=AE(this._rootElement)),this._cachedShadowRoot}}]),e}();function UM(e,t){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}function WM(e,t,n){return Math.max(t,Math.min(n,e))}function GM(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $M(e){return"t"===e.type[0]}function YM(e,t){var n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];var i=t.createElement("div");return n.forEach(function(e){return i.appendChild(e)}),i}function ZM(e,t){e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.transform=UM(t.left,t.top)}function KM(e,t,n){var i=XM(t,e.length-1),r=XM(n,e.length-1);if(i!==r){for(var a=e[i],o=r<i?-1:1,s=i;s!==r;s+=o)e[s]=e[s+o];e[r]=a}}function XM(e,t){return Math.max(0,Math.min(t,e))}var QM=function(){function e(t,n,i,r,a){var o=this;v(this,e),this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.sorted=new V,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=C.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new V,this._cachedShadowRoot=null,this._startScrollInterval=function(){o._stopScrolling(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny;return(!iy(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=ny),new P(function(n){return n.add(t.schedule(CM,e,{subscriber:n,counter:0,period:e})),n})}(0,qA).pipe(Cy(o._stopScrollTimers)).subscribe(function(){var e=o._scrollNode,t=o.autoScrollStep;1===o._verticalScrollDirection?eL(e,-t):2===o._verticalScrollDirection&&eL(e,t),1===o._horizontalScrollDirection?tL(e,-t):2===o._horizontalScrollDirection&&tL(e,t)})},this.element=gE(t),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new LM(i,a)}return m(e,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,t,n,i){var r;this._draggingStarted(),null==i?-1===(r=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(r=this._getItemIndexFromPointerPosition(e,t,n)):r=i;var a=this._activeDraggables,o=a.indexOf(e),s=e.getPlaceholderElement(),l=a[r];if(l===e&&(l=a[r+1]),o>-1&&a.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){var u=l.getRootElement();u.parentElement.insertBefore(s,u),a.splice(r,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){var c=a[0].getRootElement();c.parentNode.insertBefore(s,c),a.unshift(e)}else gE(this.element).appendChild(s),a.push(e);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,t,n,i,r,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:a})}},{key:"withItems",value:function(e){var t=this,n=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(t)}),this.isDragging()&&(n.filter(function(e){return e.isDragging()}).every(function(t){return-1===e.indexOf(t)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=gE(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(i(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?JM("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,t,n,i){if(!this.sortingDisabled&&this._clientRect&&MM(this._clientRect,.05,t,n)){var r=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,i);if(!(-1===a&&r.length>0)){var o="horizontal"===this._orientation,s=JM(r,function(t){return t.drag===e}),l=r[a],u=l.clientRect,c=s>a?1:-1,h=this._getItemOffsetPx(r[s].clientRect,u,c),d=this._getSiblingOffsetPx(s,r,c),f=r.slice();KM(r,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:e}),r.forEach(function(t,n){if(f[n]!==t){var i=t.drag===e,r=i?h:d,a=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,o?(a.style.transform="translate3d(".concat(Math.round(t.offset),"px, 0, 0)"),PM(t.clientRect,0,r)):(a.style.transform="translate3d(0, ".concat(Math.round(t.offset),"px, 0)"),PM(t.clientRect,r,0))}}),this._previousSwap.overlaps=OM(u,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(e,t){var i=this;if(!this.autoScrollDisabled){var r,a=0,o=0;if(this._parentPositions.positions.forEach(function(s,l){var u;l!==i._document&&s.clientRect&&!r&&MM(s.clientRect,.05,e,t)&&(u=n(function(e,t,n,i){var r=nL(t,i),a=iL(t,n),o=0,s=0;if(r){var l=e.scrollTop;1===r?l>0&&(o=1):e.scrollHeight-l>e.clientHeight&&(o=2)}if(a){var u=e.scrollLeft;1===a?u>0&&(s=1):e.scrollWidth-u>e.clientWidth&&(s=2)}return[o,s]}(l,s.clientRect,e,t),2),a=u[0],o=u[1],(a||o)&&(r=l))}),!a&&!o){var s=this._viewportRuler.getViewportSize(),l=s.width,u=s.height,c={width:l,height:u,top:0,right:l,bottom:u,left:0};a=nL(c,t),o=iL(c,e),r=window}!r||a===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=a,this._horizontalScrollDirection=o,this._scrollNode=r,(a||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=gE(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=gE(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var t=e.getVisibleElement();return{drag:e,offset:0,clientRect:DM(t)}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var t=gE(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,r=t[e].clientRect,a=t[e+-1*n],o=r[i?"width":"height"]*n;if(a){var s=i?"left":"top",l=i?"right":"bottom";-1===n?o-=a.clientRect[s]-r[l]:o+=r[s]-a.clientRect[l]}return o}},{key:"_getItemOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,r=i?t.left-e.left:t.top-e.top;return-1===n&&(r+=i?t.width-e.width:t.height-e.height),r}},{key:"_shouldEnterAsFirstChild",value:function(e,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var r=n[n.length-1].clientRect;return i?e>=r.right:t>=r.bottom}var a=n[0].clientRect;return i?e<=a.left:t<=a.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,t,n,i){var r=this,a="horizontal"===this._orientation,o=JM(this._itemPositions,function(o,s,l){var u=o.drag,c=o.clientRect;if(u===e)return l.length<2;if(i){var h=a?i.x:i.y;if(u===r._previousSwap.drag&&r._previousSwap.overlaps&&h===r._previousSwap.delta)return!1}return a?t>=Math.floor(c.left)&&t<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,t){return null!=this._clientRect&&OM(this._clientRect,e,t)}},{key:"_getSiblingContainerFromPosition",value:function(e,t,n){return this._siblings.find(function(i){return i._canReceive(e,t,n)})}},{key:"_canReceive",value:function(e,t,n){if(!this._clientRect||!OM(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;var i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;var r=gE(this.element);return i===r||r.contains(i)}},{key:"_startReceiving",value:function(e,t){var n=this,i=this._activeSiblings;!i.has(e)&&t.every(function(e){return n.enterPredicate(e,n)||n._draggables.indexOf(e)>-1})&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){if(e.isDragging()){var n=e._parentPositions.handleScroll(t);n&&(e._itemPositions.forEach(function(e){PM(e.clientRect,n.top,n.left)}),e._itemPositions.forEach(function(t){var n=t.drag;e._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=AE(gE(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,t=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(e,t)})}}]),e}();function JM(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function eL(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function tL(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function nL(e,t){var n=e.top,i=e.bottom,r=.05*e.height;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}function iL(e,t){var n=e.left,i=e.right,r=.05*e.width;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}var rL,aL,oL,sL,lL,uL,cL=RE({passive:!1,capture:!0}),hL=((rL=function(){function e(t,n){var i=this;v(this,e),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new V,this.pointerUp=new V,this.scroll=new V,this._preventDefaultWhileDragging=function(e){i._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&e.preventDefault(),i.pointerMove.next(e))},this._document=n}return m(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var t=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._persistentTouchmoveListener,cL)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,cL)}},{key:"startDragging",value:function(e,t){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var i=t.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(e){return n.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return n.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:cL}),i||this._globalListeners.set("mousemove",{handler:function(e){return n.pointerMove.next(e)},options:cL}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(e,t){n._document.addEventListener(t,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(t){return e.removeDragItem(t)}),this._dropInstances.forEach(function(t){return e.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(t,n){e._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}]),e}()).\u0275fac=function(e){return new(e||rL)(Ei(sc),Ei(Bc))},rL.\u0275prov=Ae({factory:function(){return new rL(Ei(sc),Ei(Bc))},token:rL,providedIn:"root"}),rL),dL={dragStartThreshold:5,pointerDirectionChangeThreshold:5},fL=((aL=function(){function e(t,n,i,r){v(this,e),this._document=t,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=r}return m(e,[{key:"createDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dL;return new qM(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new QM(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}()).\u0275fac=function(e){return new(e||aL)(Ei(Bc),Ei(sc),Ei(wT),Ei(hL))},aL.\u0275prov=Ae({factory:function(){return new aL(Ei(Bc),Ei(sc),Ei(wT),Ei(hL))},token:aL,providedIn:"root"}),aL),pL=new ui("CDK_DRAG_PARENT"),vL=new ui("CdkDropListGroup"),gL=new ui("CDK_DRAG_CONFIG"),mL=0,yL=new ui("CdkDropList"),bL=((oL=function(){function e(t,n,i,r,a,o,s){var l=this;v(this,e),this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new V,this.connectedTo=[],this.id="cdk-drop-list-"+mL++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new _u,this.entered=new _u,this.exited=new _u,this.sorted=new _u,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=function(e,t){return l.enterPredicate(e.data,t.data)},this._dropListRef.sortPredicate=function(e,t,n){return l.sortPredicate(e,t.data,n.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),o&&o._items.add(this)}return m(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=dE(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,t){return e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe(Oy(this._dir.value),Cy(this._destroyed)).subscribe(function(e){return t.withDirection(e)}),t.beforeStarted.subscribe(function(){var i=pE(n.connectedTo).map(function(t){return"string"==typeof t?e._dropLists.find(function(e){return e.id===t}):t});if(n._group&&n._group._items.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),!n._scrollableParentsResolved){var r=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(e){return e.getElementRef().nativeElement});n._dropListRef.withScrollableParents(r),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=dE(n.sortingDisabled),t.autoScrollDisabled=dE(n.autoScrollDisabled),t.autoScrollStep=fE(n.autoScrollStep,2),t.connectedTo(i.filter(function(e){return e&&e!==n}).map(function(e){return e._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(e){var t=this;e.beforeStarted.subscribe(function(){t._syncItemsWithRef(),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:t,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:t,item:e.item.data}),t._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){t.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:t,item:e.item.data})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),t._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.draggingDisabled,i=e.sortingDisabled,r=e.listAutoScrollDisabled,a=e.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=a||"vertical",t&&(this.lockAxis=t)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}()).\u0275fac=function(e){return new(e||oL)($o(cl),$o(fL),$o(Fl),$o(_T),$o(CR,8),$o(vL,12),$o(gL,8))},oL.\u0275dir=dt({type:oL,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(qo("id",t.id),Ss("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[il([{provide:vL,useValue:void 0},{provide:yL,useExisting:oL}])]}),oL._dropLists=[],oL),_L=new ui("CdkDragHandle"),wL=((sL=function(){function e(t,n){v(this,e),this.element=t,this._stateChanges=new V,this._disabled=!1,this._parentDrag=n}return m(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=dE(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}()).\u0275fac=function(e){return new(e||sL)($o(cl),$o(pL,12))},sL.\u0275dir=dt({type:sL,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[il([{provide:_L,useExisting:sL}])]}),sL),kL=new ui("CdkDragPlaceholder"),xL=new ui("CdkDragPreview"),SL=((uL=function(){function e(t){v(this,e),this.templateRef=t,this._matchSize=!1}return m(e,[{key:"matchSize",get:function(){return this._matchSize},set:function(e){this._matchSize=dE(e)}}]),e}()).\u0275fac=function(e){return new(e||uL)($o(Hl))},uL.\u0275dir=dt({type:uL,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[il([{provide:xL,useExisting:uL}])]}),uL),CL=((lL=function(){function e(t,n,i,r,a,o,s,l,u,c,h){var d=this;v(this,e),this.element=t,this.dropContainer=n,this._ngZone=r,this._viewContainerRef=a,this._dir=s,this._changeDetectorRef=u,this._selfHandle=c,this._parentDrag=h,this._destroyed=new V,this.started=new _u,this.released=new _u,this.ended=new _u,this.entered=new _u,this.exited=new _u,this.dropped=new _u,this.moved=new P(function(e){var t=d._dragRef.moved.pipe(H(function(e){return{source:d,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){t.unsubscribe()}}),this._dragRef=l.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),o&&this._assignDefaults(o),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return m(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=dE(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe(Ty(1),Cy(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe(Oy(e._handles),Vy(function(t){var n=t.filter(function(t){return t._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),Fy(function(e){return oe.apply(void 0,i(e.map(function(e){return e._stateChanges.pipe(Oy(e))})))}),Cy(e._destroyed)).subscribe(function(t){var n=e._dragRef,i=t.element.nativeElement;t.disabled?n.disableHandle(i):n.enableHandle(i)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,t=this.rootElementSelector?EL(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?EL(this.element.nativeElement,e):gE(e):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var e=n._dir,i=n.dragStartDelay,r=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,a=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:fE(i),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(Ty(1)).subscribe(function(){var i,r;if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var a=n.element.nativeElement.parentElement;a;){if(null===(i=a.classList)||void 0===i?void 0:i.contains("cdk-drag")){t.withParent((null===(r=e._dragInstances.find(function(e){return e.element.nativeElement===a}))||void 0===r?void 0:r._dragRef)||null);break}a=a.parentElement}})}},{key:"_handleEvents",value:function(e){var t=this;e.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){t.released.emit({source:t})}),e.ended.subscribe(function(e){t.ended.emit({source:t,distance:e.distance}),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:e.container.data,item:t,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:e.container.data,item:t})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:t,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.dragStartDelay,i=e.constrainPosition,r=e.previewClass,a=e.boundaryElement,o=e.draggingDisabled,s=e.rootElementSelector;this.disabled=null!=o&&o,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),r&&(this.previewClass=r),a&&(this.boundaryElement=a),s&&(this.rootElementSelector=s)}}]),e}()).\u0275fac=function(e){return new(e||lL)($o(cl),$o(yL,12),$o(Bc),$o(sc),$o(Yl),$o(gL,8),$o(CR,8),$o(fL),$o(Fl),$o(_L,10),$o(pL,12))},lL.\u0275dir=dt({type:lL,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var i;1&e&&(Mu(n,xL,1),Mu(n,kL,1),Mu(n,_L,1)),2&e&&(Ou(i=Lu())&&(t._previewTemplate=i.first),Ou(i=Lu())&&(t._placeholderTemplate=i.first),Ou(i=Lu())&&(t._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&Ss("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[il([{provide:pL,useExisting:lL}]),Ct]}),lL._dragInstances=[],lL);function EL(e,t){for(var n=e.parentElement;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}var RL,AL,TL=((AL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||AL)},AL.\u0275mod=ct({type:AL}),AL.\u0275inj=Te({providers:[fL],imports:[kT]}),AL),IL=((RL=function(){function e(){v(this,e)}return m(e,[{key:"loadSavedColumnInfo",value:function(e,t){if(t){if(!localStorage)return;var n=localStorage.getItem("".concat(t,"-columns"));return n?JSON.parse(n):(t&&this.saveColumnInfo(e,t),this.saveColumnInfo(e),e)}}},{key:"saveColumnInfo",value:function(e,t){if(t){if(!localStorage)return;localStorage.setItem("".concat(t,"-columns"),JSON.stringify(e))}}}]),e}()).\u0275fac=function(e){return new(e||RL)},RL.\u0275prov=Ae({token:RL,factory:RL.\u0275fac}),RL),DL=["mat-menu-item",""],OL=["*"];function PL(e,t){if(1&e){var n=ns();Ko(0,"div",0),os("keydown",function(e){return Zt(n),hs()._handleKeydown(e)})("click",function(){return Zt(n),hs().closed.emit("click")})("@transformMenu.start",function(e){return Zt(n),hs()._onAnimationStart(e)})("@transformMenu.done",function(e){return Zt(n),hs()._onAnimationDone(e)}),Ko(1,"div",1),ps(2),Xo(),Xo()}if(2&e){var i=hs();Yo("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),qo("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var ML,LL,FL,NL,zL,VL,jL,BL={transformMenu:Md("transformMenu",[zd("void",Nd({opacity:0,transform:"scale(0.8)"})),Vd("void => enter",Ld("120ms cubic-bezier(0, 0, 0.2, 1)",Nd({opacity:1,transform:"scale(1)"}))),Vd("* => void",Ld("100ms 25ms linear",Nd({opacity:0})))]),fadeInItems:Md("fadeInItems",[zd("showing",Nd({opacity:1})),Vd("void => *",[Nd({opacity:0}),Ld("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},HL=new ui("MatMenuContent"),qL=((ML=function(){function e(t,n,i,r,a,o,s){v(this,e),this._template=t,this._componentFactoryResolver=n,this._appRef=i,this._injector=r,this._viewContainerRef=a,this._document=o,this._changeDetectorRef=s,this._attached=new V}return m(e,[{key:"attach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new ET(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new TT(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var t=this._template.elementRef.nativeElement;t.parentNode.insertBefore(this._outlet.outletElement,t),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),e}()).\u0275fac=function(e){return new(e||ML)($o(Hl),$o(ol),$o(Ac),$o(Ao),$o(Yl),$o(Bc),$o(Fl))},ML.\u0275dir=dt({type:ML,selectors:[["ng-template","matMenuContent",""]],features:[il([{provide:HL,useExisting:ML}])]}),ML),UL=new ui("MAT_MENU_PANEL"),WL=NR(LR(function e(){v(this,e)})),GL=((LL=function(e){a(n,e);var t=s(n);function n(e,i,r,a){var o;return v(this,n),(o=t.call(this))._elementRef=e,o._focusMonitor=r,o._parentMenu=a,o.role="menuitem",o._hovered=new V,o._focused=new V,o._highlighted=!1,o._triggersSubmenu=!1,a&&a.addItem&&a.addItem(u(o)),o}return m(n,[{key:"focus",value:function(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}},{key:"ngAfterViewInit",value:function(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){for(var e,t,n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons"),r=0;r<i.length;r++){var a=i[r];null===(e=a.parentNode)||void 0===e||e.removeChild(a)}return(null===(t=n.textContent)||void 0===t?void 0:t.trim())||""}}]),n}(WL)).\u0275fac=function(e){return new(e||LL)($o(cl),$o(Bc),$o(pR),$o(UL,8))},LL.\u0275cmp=ot({type:LL,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&os("click",function(e){return t._checkDisabled(e)})("mouseenter",function(){return t._handleMouseEnter()}),2&e&&(qo("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),Ss("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Io],attrs:DL,ngContentSelectors:OL,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(fs(),ps(0),Qo(1,"div",0)),2&e&&(pa(1),Yo("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[yA],encapsulation:2,changeDetection:0}),LL),$L=new ui("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),YL=0,ZL=((NL=function(){function e(t,n,i){v(this,e),this._elementRef=t,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new ku,this._tabSubscription=C.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new V,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _u,this.close=this.closed,this.panelId="mat-menu-panel-"+YL++}return m(e,[{key:"xPosition",get:function(){return this._xPosition},set:function(e){this._xPosition=e,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(e){this._yPosition=e,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(e){this._overlapTrigger=dE(e)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=dE(e)}},{key:"panelClass",set:function(e){var t=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(function(e){t._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(function(e){t._classList[e]=!0}),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(e){this.panelClass=e}},{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var e=this;this._updateDirectDescendants(),this._keyManager=new YE(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(function(){return e.closed.emit("tab")}),this._directDescendantItems.changes.pipe(Oy(this._directDescendantItems),Fy(function(e){return oe.apply(void 0,i(e.map(function(e){return e._focused})))})).subscribe(function(t){return e._keyManager.updateActiveItem(t)})}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Oy(this._directDescendantItems),Fy(function(e){return oe.apply(void 0,i(e.map(function(e){return e._hovered})))}))}},{key:"addItem",value:function(e){}},{key:"removeItem",value:function(e){}},{key:"_handleKeydown",value:function(e){var t=e.keyCode,n=this._keyManager;switch(t){case 27:sE(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==t&&40!==t||n.setFocusOrigin("keyboard"),n.onKeydown(e)}}},{key:"focusFirstItem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.pipe(Ty(1)).subscribe(function(){return e._focusFirstItem(t)}):this._focusFirstItem(t)}},{key:"_focusFirstItem",value:function(e){var t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(e){var t="mat-elevation-z".concat(Math.min(4+e,24)),n=Object.keys(this._classList).find(function(e){return e.startsWith("mat-elevation-z")});n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}},{key:"setPositionClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===t,n["mat-menu-below"]="below"===t}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(e){this._animationDone.next(e),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var e=this;this._allItems.changes.pipe(Oy(this._allItems)).subscribe(function(t){e._directDescendantItems.reset(t.filter(function(t){return t._parentMenu===e})),e._directDescendantItems.notifyOnChanges()})}}]),e}()).\u0275fac=function(e){return new(e||NL)($o(cl),$o(sc),$o($L))},NL.\u0275dir=dt({type:NL,contentQueries:function(e,t,n){var i;1&e&&(Mu(n,HL,1),Mu(n,GL,1),Mu(n,GL,0)),2&e&&(Ou(i=Lu())&&(t.lazyContent=i.first),Ou(i=Lu())&&(t._allItems=i),Ou(i=Lu())&&(t.items=i))},viewQuery:function(e,t){var n;1&e&&Pu(Hl,1),2&e&&Ou(n=Lu())&&(t.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),NL),KL=((FL=function(e){a(n,e);var t=s(n);function n(e,i,r){return v(this,n),t.call(this,e,i,r)}return n}(ZL)).\u0275fac=function(e){return new(e||FL)($o(cl),$o(sc),$o($L))},FL.\u0275cmp=ot({type:FL,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,t){2&e&&qo("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[il([{provide:UL,useExisting:FL}]),Io],ngContentSelectors:OL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(fs(),Wo(0,PL,3,6,"ng-template"))},directives:[yh],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[BL.transformMenu,BL.fadeInItems]},changeDetection:0}),FL),XL=new ui("mat-menu-scroll-strategy"),QL={provide:XL,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},JL=RE({passive:!0}),eF=((jL=function(){function e(t,n,i,r,a,o,s,l){var u=this;v(this,e),this._overlay=t,this._element=n,this._viewContainerRef=i,this._menuItemInstance=o,this._dir=s,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.EMPTY,this._hoverSubscription=C.EMPTY,this._menuCloseSubscription=C.EMPTY,this._handleTouchStart=function(e){cR(e)||(u._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _u,this.onMenuOpen=this.menuOpened,this.menuClosed=new _u,this.onMenuClose=this.menuClosed,this._scrollStrategy=r,this._parentMaterialMenu=a instanceof ZL?a:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,JL),o&&(o._triggersSubmenu=this.triggersSubmenu())}return m(e,[{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(e){this.menu=e}},{key:"menu",get:function(){return this._menu},set:function(e){var t=this;e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(function(e){t._destroyMenu(e),"click"!==e&&"tab"!==e||!t._parentMaterialMenu||t._parentMaterialMenu.closed.emit(e)})))}},{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,JL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var e=this;if(!this._menuOpen){this._checkMenu();var t=this._createOverlay(),n=t.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(function(){return e.closeMenu()}),this._initMenu(),this.menu instanceof ZL&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}},{key:"_destroyMenu",value:function(e){var t=this;if(this._overlayRef&&this.menuOpen){var n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),!this.restoreFocus||"keydown"!==e&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy),this._openedBy=void 0,n instanceof ZL?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(lv(function(e){return"void"===e.toState}),Ty(1),Cy(n.lazyContent._attached)).subscribe({next:function(){return n.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n.lazyContent&&n.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var e=0,t=this.menu.parentMenu;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}},{key:"_setIsMenuOpen",value:function(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}},{key:"_checkMenu",value:function(){}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new $T({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(e){var t=this;this.menu.setPositionClasses&&e.positionChanges.subscribe(function(e){t.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}},{key:"_setPosition",value:function(e){var t=n("before"===this.menu.xPosition?["end","start"]:["start","end"],2),i=t[0],r=t[1],a=n("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=a[0],s=a[1],l=o,u=s,c=i,h=r,d=0;this.triggersSubmenu()?(h=i="before"===this.menu.xPosition?"start":"end",r=c="end"===i?"start":"end",d="bottom"===o?8:-8):this.menu.overlapTrigger||(l="top"===o?"bottom":"top",u="top"===s?"bottom":"top"),e.withPositions([{originX:i,originY:l,overlayX:c,overlayY:o,offsetY:d},{originX:r,originY:l,overlayX:h,overlayY:o,offsetY:d},{originX:i,originY:u,overlayX:c,overlayY:s,offsetY:-d},{originX:r,originY:u,overlayX:h,overlayY:s,offsetY:-d}])}},{key:"_menuClosingActions",value:function(){var e=this,t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return oe(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:ov(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(lv(function(t){return t!==e._menuItemInstance}),lv(function(){return e._menuOpen})):ov(),n)}},{key:"_handleMousedown",value:function(e){uR(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}},{key:"_handleKeydown",value:function(e){var t=e.keyCode;13!==t&&32!==t||(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===t&&"ltr"===this.dir||37===t&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}},{key:"_handleClick",value:function(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var e=this;this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(lv(function(t){return t===e._menuItemInstance&&!t.disabled}),Zy(0,XA)).subscribe(function(){e._openedBy="mouse",e.menu instanceof ZL&&e.menu._isAnimating?e.menu._animationDone.pipe(Ty(1),Zy(0,XA),Cy(e._parentMaterialMenu._hovered())).subscribe(function(){return e.openMenu()}):e.openMenu()}))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new ET(this.menu.templateRef,this._viewContainerRef)),this._portal}}]),e}()).\u0275fac=function(e){return new(e||jL)($o(gI),$o(cl),$o(Yl),$o(XL),$o(UL,8),$o(GL,10),$o(CR,8),$o(pR))},jL.\u0275dir=dt({type:jL,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&os("mousedown",function(e){return t._handleMousedown(e)})("keydown",function(e){return t._handleKeydown(e)})("click",function(e){return t._handleClick(e)}),2&e&&qo("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),jL),tF=((VL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||VL)},VL.\u0275mod=ct({type:VL}),VL.\u0275inj=Te({providers:[QL],imports:[MR]}),VL),nF=((zL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||zL)},zL.\u0275mod=ct({type:zL}),zL.\u0275inj=Te({providers:[QL],imports:[[Bh,MR,bA,kI,tF],kT,MR,tF]}),zL),iF=["input"],rF=function(){return{enterDuration:150}},aF=["*"],oF=new ui("mat-checkbox-default-options",{providedIn:"root",factory:sF});function sF(){return{color:"accent",clickAction:"check-indeterminate"}}var lF,uF,cF,hF,dF,fF=0,pF={color:"accent",clickAction:"check-indeterminate"},vF={provide:ig,useExisting:we(function(){return yF}),multi:!0},gF=function e(){v(this,e)},mF=zR(FR(NR(LR(function e(t){v(this,e),this._elementRef=t})))),yF=((cF=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s,l){var u;return v(this,n),(u=t.call(this,e))._changeDetectorRef=i,u._focusMonitor=r,u._ngZone=a,u._animationMode=s,u._options=l,u.ariaLabel="",u.ariaLabelledby=null,u._uniqueId="mat-checkbox-"+ ++fF,u.id=u._uniqueId,u.labelPosition="after",u.name=null,u.change=new _u,u.indeterminateChange=new _u,u._onTouched=function(){},u._currentAnimationClass="",u._currentCheckState=0,u._controlValueAccessorChangeFn=function(){},u._checked=!1,u._disabled=!1,u._indeterminate=!1,u._options=u._options||pF,u.color=u.defaultColor=u._options.color||pF.color,u.tabIndex=parseInt(o)||0,u}return m(n,[{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"required",get:function(){return this._required},set:function(e){this._required=dE(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){t||Promise.resolve().then(function(){e._onTouched(),e._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"checked",get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t=dE(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(e){var t=e!=this._indeterminate;this._indeterminate=dE(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(e){var t=this._currentCheckState,n=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var i=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){n.classList.remove(i)},1e3)})}}},{key:"_emitChangeEvent",value:function(){var e=new gF;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(e){var t,n=this,i=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===i?this.disabled||"noop"!==i||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(function(){n._indeterminate=!1,n.indeterminateChange.emit(n._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}},{key:"_onInteractionEvent",value:function(e){e.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(e,t){if("NoopAnimations"===this._animationMode)return"";var n="";switch(e){case 0:if(1===t)n="unchecked-checked";else{if(3!=t)return"";n="unchecked-indeterminate"}break;case 2:n=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-".concat(n)}},{key:"_syncIndeterminate",value:function(e){var t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}]),n}(mF)).\u0275fac=function(e){return new(e||cF)($o(cl),$o(Fl),$o(pR),$o(sc),si("tabindex"),$o(iv,8),$o(oF,8))},cF.\u0275cmp=ot({type:cF,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var n;1&e&&(Pu(iF,1),Pu(yA,1)),2&e&&(Ou(n=Lu())&&(t._inputElement=n.first),Ou(n=Lu())&&(t.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(Hs("id",t.id),qo("tabindex",null),Ss("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[il([vF]),Io],ngContentSelectors:aF,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(fs(),Ko(0,"label",0,1),Ko(2,"span",2),Ko(3,"input",3,4),os("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),Xo(),Ko(5,"span",5),Qo(6,"span",6),Xo(),Qo(7,"span",7),Ko(8,"span",8),xn(),Ko(9,"svg",9),Qo(10,"path",10),Xo(),Sn(),Qo(11,"span",11),Xo(),Xo(),Ko(12,"span",12,13),os("cdkObserveContent",function(){return t._onLabelTextChange()}),Ko(14,"span",14),Ns(15,"\xa0"),Xo(),ps(16),Xo(),Xo()),2&e){var n=Go(1),i=Go(13);qo("for",t.inputId),pa(2),Ss("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),pa(1),Yo("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),qo("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),pa(2),Yo("matRippleTrigger",n)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",lu(19,rF))}},directives:[yA,LE],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),cF),bF=((uF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||uF)},uF.\u0275mod=ct({type:uF}),uF.\u0275inj=Te({}),uF),_F=((lF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||lF)},lF.\u0275mod=ct({type:lF}),lF.\u0275inj=Te({imports:[[bA,MR,FE,bF],MR,bF]}),lF),wF=["*",[["mat-card-footer"]]],kF=["*","mat-card-footer"],xF=((dF=function e(t){v(this,e),this._animationMode=t}).\u0275fac=function(e){return new(e||dF)($o(iv,8))},dF.\u0275cmp=ot({type:dF,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&Ss("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:kF,decls:2,vars:0,template:function(e,t){1&e&&(fs(wF),ps(0),ps(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),dF),SF=((hF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hF)},hF.\u0275mod=ct({type:hF}),hF.\u0275inj=Te({imports:[[MR],MR]}),hF);function CF(e,t){if(1&e&&(Ko(0,"mat-card",12),Ko(1,"mat-icon"),Ns(2,"drag_handle"),Xo(),Ko(3,"mat-checkbox",13),Ns(4),Xo(),Xo()),2&e){var n=hs().$implicit;pa(3),Yo("checked",!n.hidden),pa(1),Vs(" ",n.name," ")}}var EF=function(e,t){return{columnIndex:e,columnTitle:t}};function RF(e,t){if(1&e){var n=ns();Ko(0,"div",8),os("cdkDragDropped",function(e){return Zt(n),hs().columnMenuDropped(e)}),Ko(1,"mat-icon",9),Ns(2,"drag_handle"),Xo(),Ko(3,"mat-checkbox",10),os("click",function(e){return e.stopPropagation()})("change",function(){Zt(n);var e=t.$implicit;return hs().toggleSelectedColumn(e.id)}),Ns(4),Xo(),Wo(5,CF,5,2,"mat-card",11),Xo()}if(2&e){var i=t.$implicit;Yo("cdkDragData",cu(5,EF,t.index,i.id)),pa(3),Yo("disabled",i.preventBeingHidden)("checked",!i.hidden)("matTooltip",i.description),pa(1),Vs(" ",i.name," ")}}function AF(e,t){if(1&e&&(Ko(0,"div",16),Ns(1),Xo()),2&e){var n=hs().$implicit;pa(1),Vs(" ",n," ")}}function TF(e,t){if(1&e){var n=ns();Ko(0,"div",17),Ko(1,"mat-checkbox",18),os("click",function(e){return e.stopPropagation()})("change",function(){Zt(n);var e=t.$implicit;return hs(2).toggleSelectedColumn(e.id)}),Ns(2),Xo(),Xo()}if(2&e){var i=t.$implicit;pa(1),Yo("hidden",!i.hidden)("matTooltip",i.description),pa(1),Vs(" ",i.name," ")}}function IF(e,t){if(1&e&&(Ko(0,"div"),Wo(1,AF,2,1,"div",14),Wo(2,TF,3,3,"div",15),Xo()),2&e){var n=t.$implicit,i=hs();pa(1),Yo("ngIf","Selection"!==n),pa(1),Yo("ngForOf",i.classifiedColumnInfo[n])}}var DF=["*"];function OF(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.has(a)?i.delete(a):i.add(a)}}catch(o){r.e(o)}finally{r.f()}return i}var PF,MF=((PF=function(){function e(t,n){v(this,e),this.elementRef=t,this.columnSorterService=n,this.columnsChange=new _u}return m(e,[{key:"ngOnInit",value:function(){var e=this.columnSorterService.loadSavedColumnInfo(this.columnInfo,this.saveName),t=new Set(this.columnInfo.map(function(e){return e.id})),n=new Set(e.map(function(e){return e.id})),i=new Set(this.columnInfo.map(function(e){return e.name})),r=new Set(e.map(function(e){return e.name}));this.initialColumnInfo=Object(rE.cloneDeep)(this.columnInfo),OF(i,r).size||OF(t,n).size||(this.columnInfo=e),this.selectedColumnInfo=this.columnInfo.filter(function(e){return!e.hidden}),this.reorderColumns(),this.emitColumns(!1)}},{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.classList+="va-mat-button-no-input"}},{key:"reorderColumns",value:function(){var e=this.selectedColumnInfo;if(e=e.concat(this.columnInfo.filter(function(e){return e.hidden})),this.classifiedColumnInfo={},"section"in this.columnInfo[0]){var t,n=d(this.columnInfo);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.hidden&&(i.section in this.classifiedColumnInfo||(this.classifiedColumnInfo[i.section]=[]),this.classifiedColumnInfo[i.section].push(i))}}catch(r){n.e(r)}finally{n.f()}}else this.classifiedColumnInfo.Selection=this.columnInfo.filter(function(e){return e.hidden});this.sections=Object.keys(this.classifiedColumnInfo),this.columnInfo=e}},{key:"columnMenuDropped",value:function(e){KM(this.selectedColumnInfo,e.item.data.columnIndex,e.currentIndex),this.reorderColumns(),this.emitColumns(!0)}},{key:"toggleSelectedColumn",value:function(e){var t=this.columnInfo.find(function(t){return t.id===e});t.hidden=!t.hidden,this.selectedColumnInfo=this.columnInfo.filter(function(e){return!e.hidden}),this.reorderColumns(),this.emitColumns(!0)}},{key:"onResetColumns",value:function(){this.columnInfo=Object(rE.cloneDeep)(this.initialColumnInfo),this.selectedColumnInfo=this.columnInfo.filter(function(e){return!e.hidden}),this.reorderColumns(),this.emitColumns(!0)}},{key:"emitColumns",value:function(e){var t=this;window.requestAnimationFrame(function(){t.columnInfo.filter(function(e){return!e.hidden}).map(function(e){return e.id}),t.columnsChange.emit(t.columnInfo.filter(function(e){return!e.hidden}).map(function(e){return e.id})),e&&t.columnSorterService.saveColumnInfo(t.columnInfo,t.saveName)})}}]),e}()).\u0275fac=function(e){return new(e||PF)($o(cl),$o(IL))},PF.\u0275cmp=ot({type:PF,selectors:[["digby-table-column-sorter"],["button","digby-table-column-sorter",""]],inputs:{columns:"columns",saveName:"saveName",columnInfo:"columnInfo"},outputs:{columnsChange:"columnsChange"},features:[il([IL])],ngContentSelectors:DF,decls:12,vars:3,consts:[[2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["columnMenu","matMenu"],["cdkDropList","","dkDropListLockAxis","y","cdkDropListOrientation","vertical",1,"digby-table-dragable-container"],["digby-table-column-clear","","id","col-clear-button",2,"border-width","0px !important",3,"click"],[1,"primary-icon",2,"padding-left","0px !important"],["for","col-clear-button",1,"form-check-label"],["class","dragable-row","cdkDrag","",3,"cdkDragData","cdkDragDropped",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"dragable-row",3,"cdkDragData","cdkDragDropped"],["cdkDragHandle",""],["matTooltipPosition","left","matTooltipClass","digby-table-tooltip",3,"disabled","checked","matTooltip","click","change"],["class","digby-table-drag-preview",4,"cdkDragPreview"],[1,"digby-table-drag-preview"],[3,"checked"],["class","digby-table-section-header",4,"ngIf"],["class","digby-table-undragable dragable-row",4,"ngFor","ngForOf"],[1,"digby-table-section-header"],[1,"digby-table-undragable","dragable-row"],["matTooltipPosition","left","matTooltipClass","digby-table-tooltip",3,"hidden","matTooltip","click","change"]],template:function(e,t){1&e&&(fs(),Ko(0,"button",0),ps(1),Xo(),Ko(2,"mat-menu",null,1),Ko(4,"div",2),Ko(5,"button",3),os("click",function(){return t.onResetColumns()}),Ko(6,"mat-icon",4),Ns(7,"clear"),Xo(),Xo(),Ko(8,"label",5),Ns(9,"Reset Columns"),Xo(),Wo(10,RF,6,8,"div",6),Wo(11,IF,3,2,"div",7),Xo(),Xo()),2&e&&(Yo("matMenuTriggerFor",Go(3)),pa(10),Yo("ngForOf",t.selectedColumnInfo),pa(1),Yo("ngForOf",t.sections))},directives:[eF,KL,bL,xM,_h,CL,wL,yF,YD,SL,xF,kh],styles:[".va-mat-button-no-input{border:none;background:transparent;outline:none}.digby-table-dragable-container{min-width:200px}.digby-table-dragable-container .dragable-row{width:100%;line-height:14px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.digby-table-dragable-container .dragable-row mat-checkbox,.digby-table-dragable-container .dragable-row mat-icon{vertical-align:top}.digby-table-dragable-container .dragable-row mat-icon{opacity:.15;transition:opacity .5s;margin-right:8px;padding-left:4px;color:#616161;cursor:-webkit-grab;cursor:grab}.digby-table-dragable-container .dragable-row:hover mat-icon{opacity:1}.digby-table-drag-preview{padding:4px 8px 4px 4px!important;cursor:-webkit-grabbing!important;cursor:grabbing!important;margin-top:-4px;margin-left:-4px;font-size:14px}.digby-table-drag-preview mat-checkbox,.digby-table-drag-preview mat-icon{vertical-align:top}.digby-table-drag-preview mat-icon{margin-right:8px;padding-left:4px;color:#616161}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .3s cubic-bezier(0,0,.2,1)}.digby-table-undragable{padding:0 0 0 32px!important}.digby-table-section-header{line-height:16px;font-size:14px;font-weight:700;padding:0 0 0 8px!important}.digby-table-tooltip{font-size:14px}"],encapsulation:2,changeDetection:0}),PF);function LF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return Math.abs(e-t)<n}function FF(e,t,n,i){var r={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=n),t.right&&(r.right+=n),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function NF(e){var t=e.clientY,n=e.rect;return t>=n.top&&t<=n.bottom}function zF(e){var t=e.clientX,n=e.rect;return t>=n.left&&t<=n.right}function VF(e){var t=e.clientX,n=e.clientY,i=e.elm,r=e.allowedEdges,a=e.cursorPrecision,o=i.nativeElement.getBoundingClientRect(),s={};return r.left&&LF(t,o.left,a)&&NF({clientY:n,rect:o})&&(s.left=!0),r.right&&LF(t,o.right,a)&&NF({clientY:n,rect:o})&&(s.right=!0),r.top&&LF(n,o.top,a)&&zF({clientX:t,rect:o})&&(s.top=!0),r.bottom&&LF(n,o.bottom,a)&&zF({clientX:t,rect:o})&&(s.bottom=!0),s}var jF=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function BF(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function HF(e){var t=e.edges,n=e.initialRectangle,i=e.newRectangle,r={};return Object.keys(t).forEach(function(e){r[e]=(i[e]||0)-(n[e]||0)}),r}var qF,UF,WF,GF,$F,YF,ZF=((qF=function(){function e(t,n,i,r){v(this,e),this.platformId=t,this.renderer=n,this.elm=i,this.zone=r,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=jF,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new _u,this.resizing=new _u,this.resizeEnd=new _u,this.mouseup=new V,this.mousedown=new V,this.mousemove=new V,this.destroy$=new V,this.resizeEdges$=new V,this.pointerEventListeners=KF.getInstance(n,r)}return m(e,[{key:"ngOnInit",value:function(){var e,t=this,i=oe(this.pointerEventListeners.pointerDown,this.mousedown),r=oe(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Vy(function(t){var n=t.event;e&&n.preventDefault()}),ve()),a=oe(this.pointerEventListeners.pointerUp,this.mouseup),o=function(){e&&e.clonedNode&&(t.elm.nativeElement.parentElement.removeChild(e.clonedNode),t.renderer.setStyle(t.elm.nativeElement,"visibility","inherit"))},s=function(){return Object.assign({},jF,t.resizeCursors)};this.resizeEdges$.pipe(Oy(this.resizeEdges),H(function(){return t.resizeEdges&&Object.keys(t.resizeEdges).some(function(e){return!!t.resizeEdges[e]})}),Fy(function(e){return e?r:Zm}),eT(this.mouseMoveThrottleMS),Cy(this.destroy$)).subscribe(function(n){var i=VF({clientX:n.clientX,clientY:n.clientY,elm:t.elm,allowedEdges:t.resizeEdges,cursorPrecision:t.resizeCursorPrecision}),r=s();if(!e){var a=BF(i,r);t.renderer.setStyle(t.elm.nativeElement,"cursor",a)}t.setElementClass(t.elm,"resize-left-hover",!0===i.left),t.setElementClass(t.elm,"resize-right-hover",!0===i.right),t.setElementClass(t.elm,"resize-top-hover",!0===i.top),t.setElementClass(t.elm,"resize-bottom-hover",!0===i.bottom)}),i.pipe(te(function(o){function s(e){return{clientX:e.clientX-o.clientX,clientY:e.clientY-o.clientY}}var l=function(){var n={x:1,y:1};return e&&(t.resizeSnapGrid.left&&e.edges.left?n.x=+t.resizeSnapGrid.left:t.resizeSnapGrid.right&&e.edges.right&&(n.x=+t.resizeSnapGrid.right),t.resizeSnapGrid.top&&e.edges.top?n.y=+t.resizeSnapGrid.top:t.resizeSnapGrid.bottom&&e.edges.bottom&&(n.y=+t.resizeSnapGrid.bottom)),n};function u(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return oe(r.pipe(Ty(1)).pipe(H(function(e){return[,e]})),r.pipe(function(e){return e.lift(new tT)})).pipe(H(function(e){var t=n(e,2),i=t[0],r=t[1];return[i?s(i):i,s(r)]})).pipe(lv(function(e){var t=n(e,2),i=t[0],r=t[1];if(!i)return!0;var a=l(),o=u(i,a),s=u(r,a);return o.x!==s.x||o.y!==s.y})).pipe(H(function(e){var t=n(e,2)[1],i=l();return{clientX:Math.round(t.clientX/i.x)*i.x,clientY:Math.round(t.clientY/i.y)*i.y}})).pipe(Cy(oe(a,i)))})).pipe(lv(function(){return!!e})).pipe(H(function(t){var n=t.clientX,i=t.clientY;return FF(e.startingRect,e.edges,n,i)})).pipe(lv(function(e){return t.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0)})).pipe(lv(function(n){return!t.validateResize||t.validateResize({rectangle:n,edges:HF({edges:e.edges,initialRectangle:e.startingRect,newRectangle:n})})}),Cy(this.destroy$)).subscribe(function(n){e&&e.clonedNode&&(t.renderer.setStyle(e.clonedNode,"height","".concat(n.height,"px")),t.renderer.setStyle(e.clonedNode,"width","".concat(n.width,"px")),t.renderer.setStyle(e.clonedNode,"top","".concat(n.top,"px")),t.renderer.setStyle(e.clonedNode,"left","".concat(n.left,"px"))),t.zone.run(function(){t.resizing.emit({edges:HF({edges:e.edges,initialRectangle:e.startingRect,newRectangle:n}),rectangle:n})}),e.currentRect=n}),i.pipe(H(function(e){var n=e.clientX,i=e.clientY;return e.edges||VF({clientX:n,clientY:i,elm:t.elm,allowedEdges:t.resizeEdges,cursorPrecision:t.resizeCursorPrecision})})).pipe(lv(function(e){return Object.keys(e).length>0}),Cy(this.destroy$)).subscribe(function(n){e&&o();var i=function(e,t){var n=0,i=0,r=e.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(function(e){return r[e]}).find(function(e){return!!e});if(a&&a.includes("translate")&&(n=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};var o=e.nativeElement.getBoundingClientRect();return{height:o.height,width:o.width,top:o.top-i,bottom:o.bottom-i,left:o.left-n,right:o.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}(t.elm,t.ghostElementPositioning);e={edges:n,startingRect:i,currentRect:i};var r=s(),a=BF(e.edges,r);t.renderer.setStyle(document.body,"cursor",a),t.setElementClass(t.elm,"resize-active",!0),t.enableGhostResize&&(e.clonedNode=t.elm.nativeElement.cloneNode(!0),t.elm.nativeElement.parentElement.appendChild(e.clonedNode),t.renderer.setStyle(t.elm.nativeElement,"visibility","hidden"),t.renderer.setStyle(e.clonedNode,"position",t.ghostElementPositioning),t.renderer.setStyle(e.clonedNode,"left","".concat(e.startingRect.left,"px")),t.renderer.setStyle(e.clonedNode,"top","".concat(e.startingRect.top,"px")),t.renderer.setStyle(e.clonedNode,"height","".concat(e.startingRect.height,"px")),t.renderer.setStyle(e.clonedNode,"width","".concat(e.startingRect.width,"px")),t.renderer.setStyle(e.clonedNode,"cursor",BF(e.edges,r)),t.renderer.addClass(e.clonedNode,"resize-ghost-element"),e.clonedNode.scrollTop=e.startingRect.scrollTop,e.clonedNode.scrollLeft=e.startingRect.scrollLeft),t.zone.run(function(){t.resizeStart.emit({edges:HF({edges:n,initialRectangle:i,newRectangle:i}),rectangle:FF(i,{},0,0)})})}),a.pipe(Cy(this.destroy$)).subscribe(function(){e&&(t.renderer.removeClass(t.elm.nativeElement,"resize-active"),t.renderer.setStyle(document.body,"cursor",""),t.renderer.setStyle(t.elm.nativeElement,"cursor",""),t.zone.run(function(){t.resizeEnd.emit({edges:HF({edges:e.edges,initialRectangle:e.startingRect,newRectangle:e.currentRect}),rectangle:e.currentRect})}),o(),e=null)})}},{key:"ngOnChanges",value:function(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}},{key:"ngOnDestroy",value:function(){Hh(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}},{key:"setElementClass",value:function(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}]),e}()).\u0275fac=function(e){return new(e||qF)($o(Gu),$o(fl),$o(cl),$o(sc))},qF.\u0275dir=dt({type:qF,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[Ct]}),qF),KF=function(){function e(t,n){v(this,e),this.pointerDown=new P(function(e){var i,r;return n.runOutsideAngular(function(){i=t.listen("document","mousedown",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchstart",function(t){e.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})})}),function(){i(),r()}}).pipe(ve()),this.pointerMove=new P(function(e){var i,r;return n.runOutsideAngular(function(){i=t.listen("document","mousemove",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchmove",function(t){e.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})})}),function(){i(),r()}}).pipe(ve()),this.pointerUp=new P(function(e){var i,r,a;return n.runOutsideAngular(function(){i=t.listen("document","mouseup",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchend",function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}),a=t.listen("document","touchcancel",function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})}),function(){i(),r(),a()}}).pipe(ve())}return m(e,null,[{key:"getInstance",value:function(t,n){return e.instance||(e.instance=new e(t,n)),e.instance}}]),e}(),XF=((UF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||UF)},UF.\u0275mod=ct({type:UF}),UF.\u0275inj=Te({}),UF),QF=RE({passive:!0}),JF=((GF=function(){function e(t,n){v(this,e),this._platform=t,this._ngZone=n,this._monitoredElements=new Map}return m(e,[{key:"monitor",value:function(e){var t=this;if(!this._platform.isBrowser)return Zm;var n=gE(e),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new V,a="cdk-text-field-autofilled",o=function(e){"cdk-text-field-autofill-start"!==e.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===e.animationName&&n.classList.contains(a)&&(n.classList.remove(a),t._ngZone.run(function(){return r.next({target:e.target,isAutofilled:!1})})):(n.classList.add(a),t._ngZone.run(function(){return r.next({target:e.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",o,QF),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",o,QF)}}),r}},{key:"stopMonitoring",value:function(e){var t=gE(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}},{key:"ngOnDestroy",value:function(){var e=this;this._monitoredElements.forEach(function(t,n){return e.stopMonitoring(n)})}}]),e}()).\u0275fac=function(e){return new(e||GF)(Ei(xE),Ei(sc))},GF.\u0275prov=Ae({factory:function(){return new GF(Ei(xE),Ei(sc))},token:GF,providedIn:"root"}),GF),eN=((WF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||WF)},WF.\u0275mod=ct({type:WF}),WF.\u0275inj=Te({imports:[[SE]]}),WF),tN=new ui("MAT_INPUT_VALUE_ACCESSOR"),nN=["button","checkbox","file","hidden","image","radio","range","reset","submit"],iN=0,rN=VR(function e(t,n,i,r){v(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}),aN=((YF=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s,l,u,c,h){var d;v(this,n),(d=t.call(this,s,a,o,r))._elementRef=e,d._platform=i,d.ngControl=r,d._autofillMonitor=u,d._formField=h,d._uid="mat-input-"+iN++,d.focused=!1,d.stateChanges=new V,d.controlType="mat-input",d.autofilled=!1,d._disabled=!1,d._required=!1,d._type="text",d._readonly=!1,d._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(e){return EE().has(e)});var f=d._elementRef.nativeElement,p=f.nodeName.toLowerCase();return d._inputValueAccessor=l||f,d._previousNativeValue=d.value,d.id=d.id,i.IOS&&c.runOutsideAngular(function(){e.nativeElement.addEventListener("keyup",function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),d._isServer=!d._platform.isBrowser,d._isNativeSelect="select"===p,d._isTextarea="textarea"===p,d._isNativeSelect&&(d.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),d}return m(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=dE(e),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=dE(e)}},{key:"type",get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea&&EE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(e){this._readonly=dE(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(t){e.autofilled=t.isAutofilled,e.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_focusChanged",value:function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var e,t,n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}},{key:"_validateType",value:function(){nN.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(rN)).\u0275fac=function(e){return new(e||YF)($o(cl),$o(xE),$o(Lg,10),$o(vm,8),$o(Cm,8),$o(cA),$o(tN,10),$o(JF),$o(sc),$o(rD,8))},YF.\u0275dir=dt({type:YF,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&os("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(Hs("disabled",t.disabled)("required",t.required),qo("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState&&!t.empty)("aria-required",t.required),Ss("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[il([{provide:YI,useExisting:YF}]),Io,Ct]}),YF),oN=(($F=function e(){v(this,e)}).\u0275fac=function(e){return new(e||$F)},$F.\u0275mod=ct({type:$F}),$F.\u0275inj=Te({providers:[cA],imports:[[eN,oD,MR],eN,oD]}),$F),sN=["filterMenu"];function lN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"filter_list"),Xo())}function uN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_downward"),Xo())}function cN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_upward"),Xo())}function hN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",9),Ko(2,"button",10),os("click",function(){return Zt(n),hs().onSortAsc()}),Ns(3,"Sort Ascending"),Xo(),Xo(),Xo()}}function dN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",5),Ko(2,"div",11),Ko(3,"button",10),os("click",function(){return Zt(n),hs().onSortDesc()}),Ns(4,"Sort Descending"),Xo(),Xo(),Xo(),Xo()}}function fN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",5),Ko(2,"button",12),os("click",function(){return Zt(n),hs().onSortClear()}),Ns(3,"Clear Sort"),Xo(),Xo(),Xo()}}function pN(e,t){if(1&e&&(Ko(0,"mat-option",17),Ns(1),Xo()),2&e){var n=t.$implicit;Yo("value",n),pa(1),Vs(" ",n.name," ")}}function vN(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",5),Ko(2,"span",14),Ns(3,"and"),Xo(),Xo(),Ko(4,"div",5),Ko(5,"mat-form-field",18),os("click",function(e){return e.stopPropagation()}),Ko(6,"input",20),os("ngModelChange",function(e){return Zt(n),hs(3).operand2Input=e}),Xo(),Xo(),Xo(),es()}if(2&e){var i=hs(3);pa(6),Yo("ngModel",i.operand2Input)}}function gN(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",5),Ko(2,"mat-form-field",18),os("click",function(e){return e.stopPropagation()}),Ko(3,"input",19),os("ngModelChange",function(e){return Zt(n),hs(2).operand1Input=e}),Xo(),Xo(),Xo(),Wo(4,vN,7,1,"ng-container",1),Ko(5,"div",5),Ko(6,"button",12),os("click",function(){return Zt(n),hs(2).onClearFilter()}),Ns(7,"Clear Filter"),Xo(),Xo(),Qo(8,"div",13),es()}if(2&e){var i=hs(2);pa(3),Yo("ngModel",i.operand1Input),pa(1),Yo("ngIf",3===i.selectedOperator.operands)}}function mN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",5),Qo(2,"div",13),Ko(3,"mat-form-field",14),Ko(4,"mat-select",15),os("valueChange",function(e){return Zt(n),hs().selectedOperator=e}),Wo(5,pN,2,2,"mat-option",16),Xo(),Xo(),Xo(),Wo(6,gN,9,2,"ng-container",1),Xo()}if(2&e){var i=hs();pa(4),Yo("value",i.selectedOperator)("compareWith",i.compareFn),pa(1),Yo("ngForOf",i.operatorList),pa(1),Yo("ngIf",i.selectedOperator)}}function yN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",5),Ko(2,"button",12),os("click",function(){return Zt(n),hs().onClearSelection()}),Ns(3,"Clear Selection"),Xo(),Xo(),Xo()}}var bN,_N=((bN=function(){function e(){v(this,e),this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new _u,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Begins with",operands:2,operator:"ilike",postfix:"%"},{name:"Ends with",operands:2,operator:"ilike",prefix:"%"},{name:"Includes",operands:2,operator:"ilike",prefix:"%",postfix:"%"},{name:"Matches",operands:2,operator:"ilike"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[],this.compareFn=this.compareByValue}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0}),this.setFilter$&&this.setFilter$.subscribe(function(t){t&&(t.op1.length>0?(e.selectedOperator=t.operator,e.operand1Input=t.op1,e.operand2Input=t.op2,e.onValidation()):(e.selectedOperator=null,e.operand1Input="",e.operand2Input="",e.onValidation()))})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands&&e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:(this.selectedOperator.prefix?this.selectedOperator.prefix:"")+this.operand1Input+(this.selectedOperator.postfix?this.selectedOperator.postfix:"")}),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}},{key:"compareByValue",value:function(e,t){return e&&t&&e.name===t.name}}]),e}()).\u0275fac=function(e){return new(e||bN)},bN.\u0275cmp=ot({type:bN,selectors:[["app-text-filter"]],viewQuery:function(e,t){var n;1&e&&(Pu(sN,1),Pu(fw,1)),2&e&&(Ou(n=Lu())&&(t.matMenuTrigger=n.first),Ou(n=Lu())&&(t.ngMultiSelect=n.first))},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$",setFilter$:"setFilter$",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},decls:22,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"container","content-centered",3,"click"],[1,"row"],[1,"col-4","ml-auto"],["mat-flat-button","","color","primary",1,"float-right",2,"min-width","0px",3,"click"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[1,"col-8",2,"padding-left","0px","padding-right","16px"],["mat-button","",1,"float-left",3,"click"],[1,"col-12",2,"padding-left","0px"],["mat-button","",3,"click"],[1,"dropdown-divider"],[1,"col-12"],["placeholder","Select Filter",3,"value","compareWith","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Filter value","name","operand1Input",3,"ngModel","ngModelChange"],["matInput","","placeholder","Filter value 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Ko(0,"button",0),Ko(1,"span"),Wo(2,lN,2,0,"mat-icon",1),Wo(3,uN,2,0,"mat-icon",1),Wo(4,cN,2,0,"mat-icon",1),Ko(5,"mat-icon"),Ns(6,"arrow_drop_down"),Xo(),Xo(),Xo(),Ko(7,"mat-menu",2,3),Ko(9,"div",4),os("click",function(e){return e.stopPropagation()}),Ko(10,"form"),Ko(11,"div",5),Wo(12,hN,4,0,"div",1),Ko(13,"div",6),Ko(14,"button",7),os("click",function(){return t.onValidation()}),Ns(15," OK "),Xo(),Xo(),Xo(),Wo(16,dN,5,0,"div",1),Wo(17,fN,4,0,"div",1),Wo(18,mN,7,4,"div",1),Wo(19,yN,4,0,"div",1),Ko(20,"div"),Ko(21,"ng-multiselect-dropdown",8),os("ngModelChange",function(e){return t.selectedItems=e}),Xo(),Xo(),Xo(),Xo(),Xo()),2&e&&(Yo("matMenuTriggerFor",Go(8)),pa(2),Yo("ngIf",t.selectedOperator||t.selectedItems.length>0),pa(1),Yo("ngIf","desc"===t.selectedSort),pa(1),Yo("ngIf","asc"===t.selectedSort),pa(8),Yo("ngIf",t.showSort),pa(4),Yo("ngIf",t.showSort),pa(1),Yo("ngIf",t.selectedSort),pa(1),Yo("ngIf",t.showTextFilter),pa(1),Yo("ngIf",t.selectedItems.length),pa(2),Cs("filter-dropdown"),Yo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[jA,eF,kh,xM,KL,bm,zg,vm,fw,Ng,ym,aD,ID,_h,IA,aN,lg],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important;min-width:240px!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),bN),wN=["filterMenu"];function kN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"filter_list"),Xo())}function xN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_upward"),Xo())}function SN(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_downward"),Xo())}function CN(e,t){if(1&e){var n=ns();Ko(0,"div",6),Ko(1,"button",8),os("click",function(){return Zt(n),hs().onSortClear()}),Ns(2,"Clear Sort"),Xo(),Xo()}}function EN(e,t){if(1&e&&(Ko(0,"mat-option",16),Ns(1),Xo()),2&e){var n=t.$implicit;Yo("value",n),pa(1),Vs(" ",n.name," ")}}function RN(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",6),Ko(2,"span",5),Ns(3,"and"),Xo(),Xo(),Ko(4,"div",6),Ko(5,"mat-form-field",17),os("click",function(e){return e.stopPropagation()}),Ko(6,"input",20),os("ngModelChange",function(e){return Zt(n),hs(2).operand2Input=e}),Xo(),Xo(),Xo(),es()}if(2&e){var i=hs(2);pa(6),Yo("ngModel",i.operand2Input)}}function AN(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",6),Ko(2,"mat-form-field",17),os("click",function(e){return e.stopPropagation()}),Ko(3,"input",18),os("ngModelChange",function(e){return Zt(n),hs().operand1Input=e}),Xo(),Xo(),Xo(),Wo(4,RN,7,1,"ng-container",1),Ko(5,"div",6),Ko(6,"button",19),os("click",function(){return Zt(n),hs().onClearFilter()}),Ns(7,"Clear Filter"),Xo(),Xo(),Qo(8,"div",12),es()}if(2&e){var i=hs();pa(3),Yo("ngModel",i.operand1Input),pa(1),Yo("ngIf",3===i.selectedOperator.operands)}}function TN(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",6),Ko(2,"button",19),os("click",function(){return Zt(n),hs().onClearSelection()}),Ns(3,"Clear Selection"),Xo(),Xo(),Xo()}}var IN,DN=((IN=function(){function e(){v(this,e),this.predicateEmitter=new _u,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||IN)},IN.\u0275cmp=ot({type:IN,selectors:[["app-number-filter"]],viewQuery:function(e,t){var n;1&e&&Pu(wN,1),2&e&&Ou(n=Lu())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:31,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Numeric operand 1","name","operand1Input",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["matInput","","placeholder","Numeric operand 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Ko(0,"button",0),Ko(1,"span"),Wo(2,kN,2,0,"mat-icon",1),Wo(3,xN,2,0,"mat-icon",1),Wo(4,SN,2,0,"mat-icon",1),Ko(5,"mat-icon"),Ns(6,"arrow_drop_down"),Xo(),Xo(),Xo(),Ko(7,"mat-menu",2,3),Ko(9,"div",4),os("click",function(e){return e.stopPropagation()}),Ko(10,"form",5),Ko(11,"div",6),Ko(12,"div",7),Ko(13,"button",8),os("click",function(){return t.onSortAsc()}),Ns(14,"Sort Ascending"),Xo(),Xo(),Ko(15,"div",9),Ko(16,"button",10),os("click",function(){return t.onValidation()}),Ns(17," OK "),Xo(),Xo(),Xo(),Ko(18,"div",6),Ko(19,"button",8),os("click",function(){return t.onSortDesc()}),Ns(20,"Sort Descending"),Xo(),Xo(),Wo(21,CN,3,0,"div",11),Ko(22,"div",6),Qo(23,"div",12),Ko(24,"mat-form-field",5),Ko(25,"mat-select",13),os("valueChange",function(e){return t.selectedOperator=e}),Wo(26,EN,2,2,"mat-option",14),Xo(),Xo(),Xo(),Wo(27,AN,9,2,"ng-container",1),Wo(28,TN,4,0,"div",1),Ko(29,"div"),Ko(30,"ng-multiselect-dropdown",15),os("ngModelChange",function(e){return t.selectedItems=e}),Xo(),Xo(),Xo(),Xo(),Xo()),2&e&&(Yo("matMenuTriggerFor",Go(8)),pa(2),Yo("ngIf",t.selectedOperator||t.selectedItems.length>0),pa(1),Yo("ngIf","desc"===t.selectedSort),pa(1),Yo("ngIf","asc"===t.selectedSort),pa(17),Yo("ngIf",t.selectedSort),pa(4),Yo("value",t.selectedOperator),pa(1),Yo("ngForOf",t.operatorList),pa(1),Yo("ngIf",t.selectedOperator),pa(1),Yo("ngIf",t.selectedItems.length),pa(2),Cs("filter-dropdown"),Yo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[jA,eF,kh,xM,KL,bm,zg,vm,aD,ID,_h,fw,Ng,ym,IA,aN,lg],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),IN);function ON(e,t){}var PN,MN,LN=function e(){v(this,e),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},FN={dialogContainer:Md("dialogContainer",[zd("void, exit",Nd({opacity:0,transform:"scale(0.7)"})),zd("enter",Nd({transform:"none"})),Vd("* => enter",Ld("150ms cubic-bezier(0, 0, 0.2, 1)",Nd({transform:"none",opacity:1}))),Vd("* => void, * => exit",Ld("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Nd({opacity:0})))])},NN=((MN=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s){var l;return v(this,n),(l=t.call(this))._elementRef=e,l._focusTrapFactory=i,l._changeDetectorRef=r,l._config=o,l._focusMonitor=s,l._animationStateChanged=new _u,l._elementFocusedBeforeDialogWasOpened=null,l._closeInteractionType=null,l.attachDomPortal=function(e){return l._portalOutlet.hasAttached(),l._portalOutlet.attachDomPortal(e)},l._ariaLabelledBy=o.ariaLabelledBy||null,l._document=a,l}return m(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){var t=this._getActiveElement(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var e=this._elementRef.nativeElement,t=this._getActiveElement();return e===t||e.contains(t)}},{key:"_getActiveElement",value:function(){var e,t=this._document.activeElement;return(null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement)||t}}]),n}(AT)).\u0275fac=function(e){return new(e||MN)($o(cl),$o(tR),$o(Fl),$o(Bc,8),$o(LN),$o(pR))},MN.\u0275dir=dt({type:MN,viewQuery:function(e,t){var n;1&e&&Pu(IT,3),2&e&&Ou(n=Lu())&&(t._portalOutlet=n.first)},features:[Io]}),MN),zN=((PN=function(e){a(n,e);var t=s(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._state="enter",e}return m(n,[{key:"_onAnimationDone",value:function(e){var t=e.toState,n=e.totalTime;"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(e){var t=e.toState,n=e.totalTime;"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(NN)).\u0275fac=function(e){return VN(e||PN)},PN.\u0275cmp=ot({type:PN,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&ss("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(Hs("id",t._id),qo("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),qs("@dialogContainer",t._state))},features:[Io],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&Wo(0,ON,0,0,"ng-template",0)},directives:[IT],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[FN.dialogContainer]}}),PN),VN=ai(zN),jN=0,BN=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+jN++;v(this,e),this._overlayRef=t,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new V,this._afterClosed=new V,this._beforeClosed=new V,this._state=0,n._id=r,n._animationStateChanged.pipe(lv(function(e){return"opened"===e.state}),Ty(1)).subscribe(function(){i._afterOpened.next(),i._afterOpened.complete()}),n._animationStateChanged.pipe(lv(function(e){return"closed"===e.state}),Ty(1)).subscribe(function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()}),t.detachments().subscribe(function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()}),t.keydownEvents().pipe(lv(function(e){return 27===e.keyCode&&!i.disableClose&&!sE(e)})).subscribe(function(e){e.preventDefault(),HN(i,"keyboard")}),t.backdropClick().subscribe(function(){i.disableClose?i._containerInstance._recaptureFocus():HN(i,"mouse")})}return m(e,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(lv(function(e){return"closing"===e.state}),Ty(1)).subscribe(function(n){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout(function(){return t._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),e}();function HN(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}var qN,UN,WN,GN=new ui("MatDialogData"),$N=new ui("mat-dialog-default-options"),YN=new ui("mat-dialog-scroll-strategy"),ZN={provide:YN,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.block()}}},KN=((WN=function(){function e(t,n,i,r,a,o,s,l,u){var c=this;v(this,e),this._overlay=t,this._injector=n,this._defaultOptions=i,this._parentDialog=r,this._overlayContainer=a,this._dialogRefConstructor=s,this._dialogContainerType=l,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new V,this._afterOpenedAtThisLevel=new V,this._ariaHiddenElements=new Map,this.afterAllClosed=Rw(function(){return c.openDialogs.length?c._getAfterAllClosed():c._getAfterAllClosed().pipe(Oy(void 0))}),this._scrollStrategy=o}return m(e,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(e,t){var n=this;(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new LN)).id&&this.getDialogById(t.id);var i=this._createOverlay(t),r=this._attachDialogContainer(i,t),a=this._attachDialogContent(e,r,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(function(){return n._removeOpenDialog(a)}),this.afterOpened.next(a),r._initializeWithAttachedContent(),a}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(e){return this.openDialogs.find(function(t){return t.id===e})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)}},{key:"_getOverlayConfig",value:function(e){var t=new $T({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}},{key:"_attachDialogContainer",value:function(e,t){var n=Ao.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:LN,useValue:t}]}),i=new CT(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}},{key:"_attachDialogContent",value:function(e,t,n,i){var r=new this._dialogRefConstructor(n,t,i.id);if(e instanceof Hl)t.attachTemplatePortal(new ET(e,null,{$implicit:i.data,dialogRef:r}));else{var a=this._createInjector(i,r,t),o=t.attachComponentPortal(new CT(e,i.viewContainerRef,a));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(e,t,n){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||i&&i.get(CR,null)||r.push({provide:CR,useValue:{value:e.direction,change:ov()}}),Ao.create({parent:i||this._injector,providers:r})}},{key:"_removeOpenDialog",value:function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(e){for(var t=e.length;t--;)e[t].close()}}]),e}()).\u0275fac=function(e){return new(e||WN)($o(gI),$o(Ao),$o(void 0),$o(void 0),$o(eI),$o(void 0),$o(hi),$o(hi),$o(ui))},WN.\u0275dir=dt({type:WN}),WN),XN=((UN=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s,l){return v(this,n),t.call(this,e,i,a,s,l,o,BN,zN,GN)}return n}(KN)).\u0275fac=function(e){return new(e||UN)(Ei(gI),Ei(Ao),Ei(sh,8),Ei($N,8),Ei(YN),Ei(UN,12),Ei(eI))},UN.\u0275prov=Ae({token:UN,factory:UN.\u0275fac}),UN),QN=((qN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||qN)},qN.\u0275mod=ct({type:qN}),qN.\u0275inj=Te({providers:[XN,ZN],imports:[[kI,DT,MR],MR]}),qN),JN=["mat-calendar-body",""];function ez(e,t){if(1&e&&(Ko(0,"tr",2),Ko(1,"td",3),Ns(2),Xo(),Xo()),2&e){var n=hs();pa(1),xs("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),qo("colspan",n.numCols),pa(1),Vs(" ",n.label," ")}}function tz(e,t){if(1&e&&(Ko(0,"td",7),Ns(1),Xo()),2&e){var n=hs(2);xs("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),qo("colspan",n._firstRowOffset),pa(1),Vs(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function nz(e,t){if(1&e){var n=ns();Ko(0,"td",8),os("click",function(e){Zt(n);var i=t.$implicit;return hs(2)._cellClicked(i,e)}),Ko(1,"div",9),Ns(2),Xo(),Qo(3,"div",10),Xo()}if(2&e){var i=t.$implicit,r=t.index,a=hs().index,o=hs();xs("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Ss("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",o._isActiveCell(a,r))("mat-calendar-body-range-start",o._isRangeStart(i.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",o._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(i.compareValue,a,r))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(i.compareValue,a,r))("mat-calendar-body-comparison-start",o._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",o._isInPreview(i.compareValue)),Yo("ngClass",i.cssClasses)("tabindex",o._isActiveCell(a,r)?0:-1),qo("data-mat-row",a)("data-mat-col",r)("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",o._isSelected(i.compareValue)),pa(1),Ss("mat-calendar-body-selected",o._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",o.todayValue===i.compareValue),pa(1),Vs(" ",i.displayValue," ")}}function iz(e,t){if(1&e&&(Ko(0,"tr",4),Wo(1,tz,2,6,"td",5),Wo(2,nz,4,46,"td",6),Xo()),2&e){var n=t.$implicit,i=t.index,r=hs();pa(1),Yo("ngIf",0===i&&r._firstRowOffset),pa(1),Yo("ngForOf",n)}}function rz(e,t){if(1&e&&(Ko(0,"th",5),Ns(1),Xo()),2&e){var n=t.$implicit;qo("aria-label",n.long),pa(1),zs(n.narrow)}}var az=["*"];function oz(e,t){}function sz(e,t){if(1&e){var n=ns();Ko(0,"mat-month-view",5),os("activeDateChange",function(e){return Zt(n),hs().activeDate=e})("_userSelection",function(e){return Zt(n),hs()._dateSelected(e)}),Xo()}if(2&e){var i=hs();Yo("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)}}function lz(e,t){if(1&e){var n=ns();Ko(0,"mat-year-view",6),os("activeDateChange",function(e){return Zt(n),hs().activeDate=e})("monthSelected",function(e){return Zt(n),hs()._monthSelectedInYearView(e)})("selectedChange",function(e){return Zt(n),hs()._goToDateInView(e,"month")}),Xo()}if(2&e){var i=hs();Yo("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function uz(e,t){if(1&e){var n=ns();Ko(0,"mat-multi-year-view",7),os("activeDateChange",function(e){return Zt(n),hs().activeDate=e})("yearSelected",function(e){return Zt(n),hs()._yearSelectedInMultiYearView(e)})("selectedChange",function(e){return Zt(n),hs()._goToDateInView(e,"year")}),Xo()}if(2&e){var i=hs();Yo("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function cz(e,t){}var hz=["button"];function dz(e,t){1&e&&(xn(),Ko(0,"svg",3),Qo(1,"path",4),Xo())}var fz,pz,vz=[[["","matDatepickerToggleIcon",""]]],gz=["[matDatepickerToggleIcon]"],mz=((fz=function(){function e(){v(this,e),this.changes=new V,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return m(e,[{key:"formatYearRange",value:function(e,t){return"".concat(e," \u2013 ").concat(t)}}]),e}()).\u0275fac=function(e){return new(e||fz)},fz.\u0275prov=Ae({factory:function(){return new fz},token:fz,providedIn:"root"}),fz),yz=function e(t,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6?arguments[6]:void 0;v(this,e),this.value=t,this.displayValue=n,this.ariaLabel=i,this.enabled=r,this.cssClasses=a,this.compareValue=o,this.rawValue=s},bz=((pz=function(){function e(t,n){var i=this;v(this,e),this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new _u,this.previewChange=new _u,this._enterHandler=function(e){if(i._skipNextFocus&&"focus"===e.type)i._skipNextFocus=!1;else if(e.target&&i.isRange){var t=i._getCellFromElement(e.target);t&&i._ngZone.run(function(){return i.previewChange.emit({value:t.enabled?t:null,event:e})})}},this._leaveHandler=function(e){null!==i.previewEnd&&i.isRange&&e.target&&_z(e.target)&&i._ngZone.run(function(){return i.previewChange.emit({value:null,event:e})})},n.runOutsideAngular(function(){var e=t.nativeElement;e.addEventListener("mouseenter",i._enterHandler,!0),e.addEventListener("focus",i._enterHandler,!0),e.addEventListener("mouseleave",i._leaveHandler,!0),e.addEventListener("blur",i._leaveHandler,!0)})}return m(e,[{key:"_cellClicked",value:function(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}},{key:"_isSelected",value:function(e){return this.startValue===e||this.endValue===e}},{key:"ngOnChanges",value:function(e){var t=e.numCols,n=this.rows,i=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!t&&this._cellWidth||(this._cellWidth=100/i+"%")}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}},{key:"_isActiveCell",value:function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe(Ty(1)).subscribe(function(){var n=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(e._skipNextFocus=!0),n.focus())})})}},{key:"_isRangeStart",value:function(e){return wz(e,this.startValue,this.endValue)}},{key:"_isRangeEnd",value:function(e){return kz(e,this.startValue,this.endValue)}},{key:"_isInRange",value:function(e){return xz(e,this.startValue,this.endValue,this.isRange)}},{key:"_isComparisonStart",value:function(e){return wz(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isComparisonBridgeStart",value:function(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;var i=this.rows[t][n-1];if(!i){var r=this.rows[t-1];i=r&&r[r.length-1]}return i&&!this._isRangeEnd(i.compareValue)}},{key:"_isComparisonBridgeEnd",value:function(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;var i=this.rows[t][n+1];if(!i){var r=this.rows[t+1];i=r&&r[0]}return i&&!this._isRangeStart(i.compareValue)}},{key:"_isComparisonEnd",value:function(e){return kz(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isInComparisonRange",value:function(e){return xz(e,this.comparisonStart,this.comparisonEnd,this.isRange)}},{key:"_isComparisonIdentical",value:function(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}},{key:"_isPreviewStart",value:function(e){return wz(e,this.previewStart,this.previewEnd)}},{key:"_isPreviewEnd",value:function(e){return kz(e,this.previewStart,this.previewEnd)}},{key:"_isInPreview",value:function(e){return xz(e,this.previewStart,this.previewEnd,this.isRange)}},{key:"_getCellFromElement",value:function(e){var t;if(_z(e)?t=e:_z(e.parentNode)&&(t=e.parentNode),t){var n=t.getAttribute("data-mat-row"),i=t.getAttribute("data-mat-col");if(n&&i)return this.rows[parseInt(n)][parseInt(i)]}return null}}]),e}()).\u0275fac=function(e){return new(e||pz)($o(cl),$o(sc))},pz.\u0275cmp=ot({type:pz,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Ct],attrs:JN,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(Wo(0,ez,3,6,"tr",0),Wo(1,iz,3,2,"tr",1)),2&e&&(Yo("ngIf",t._firstRowOffset<t.labelMinRequiredCells),pa(1),Yo("ngForOf",t.rows))},directives:[kh,_h,yh],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.mat-datepicker-dialog .mat-dialog-container{position:relative;overflow:visible}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),pz);function _z(e){return"TD"===e.nodeName}function wz(e,t,n){return null!==n&&t!==n&&e<n&&e===t}function kz(e,t,n){return null!==t&&t!==n&&e>=t&&e===n}function xz(e,t,n,i){return i&&null!==t&&null!==n&&t!==n&&e>=t&&e<=n}var Sz,Cz,Ez,Rz,Az=function e(t,n){v(this,e),this.start=t,this.end=n},Tz=((Cz=function(){function e(t,n){v(this,e),this.selection=t,this._adapter=n,this._selectionChanged=new V,this.selectionChanged=this._selectionChanged,this.selection=t}return m(e,[{key:"updateSelection",value:function(e,t){var n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}},{key:"ngOnDestroy",value:function(){this._selectionChanged.complete()}},{key:"_isValidDateInstance",value:function(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}},{key:"clone",value:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Cz)(Ei(void 0),Ei(HR))},Cz.\u0275prov=Ae({token:Cz,factory:Cz.\u0275fac}),Cz),Iz=((Sz=function(e){a(n,e);var t=s(n);function n(e){return v(this,n),t.call(this,null,e)}return m(n,[{key:"add",value:function(e){r(h(n.prototype),"updateSelection",this).call(this,e,this)}},{key:"isValid",value:function(){return null!=this.selection&&this._isValidDateInstance(this.selection)}},{key:"isComplete",value:function(){return null!=this.selection}},{key:"clone",value:function(){var e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}]),n}(Tz)).\u0275fac=function(e){return new(e||Sz)(Ei(HR))},Sz.\u0275prov=Ae({token:Sz,factory:Sz.\u0275fac}),Sz),Dz={provide:Tz,deps:[[new Pi,new Mi,Tz],HR],useFactory:function(e,t){return e||new Iz(t)}},Oz=new ui("MAT_DATE_RANGE_SELECTION_STRATEGY"),Pz=((Rz=function(){function e(t,n,i,r,a){v(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=r,this._rangeStrategy=a,this._rerenderSubscription=C.EMPTY,this.selectedChange=new _u,this._userSelection=new _u,this.activeDateChange=new _u,this._activeDate=this._dateAdapter.today()}return m(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Az?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oy(null)).subscribe(function(){return e._init()})}},{key:"ngOnChanges",value:function(e){var t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected)}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(e){var t,n,i=e.value,r=this._dateAdapter.getYear(this.activeDate),a=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.createDate(r,a,i);this._selected instanceof Az?(t=this._getDateInCurrentMonth(this._selected.start),n=this._getDateInCurrentMonth(this._selected.end)):t=n=this._getDateInCurrentMonth(this._selected),t===i&&n===i||this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),e.preventDefault()));case 27:return void(null==this._previewEnd||sE(e)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(e){this._matCalendarBody._focusActiveCell(e)}},{key:"_previewChanged",value:function(e){var t=e.event,n=e.value;if(this._rangeStrategy){var i=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(i.start),this._previewEnd=this._getCellCompareValue(i.end),this._changeDetectorRef.detectChanges()}}},{key:"_initWeekdays",value:function(){var e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map(function(e,n){return{long:e,narrow:t[n]}});this._weekdays=n.slice(e).concat(n.slice(0,e))}},{key:"_createWeekCells",value:function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);var r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),a=this._shouldEnableDate(r),o=this._dateAdapter.format(r,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(r,"month"):void 0;this._weeks[this._weeks.length-1].push(new yz(n+1,t[n],o,a,s,this._getCellCompareValue(r),r))}}},{key:"_shouldEnableDate",value:function(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}},{key:"_getDateInCurrentMonth",value:function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}},{key:"_hasSameMonthAndYear",value:function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}},{key:"_getCellCompareValue",value:function(e){if(e){var t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),i=this._dateAdapter.getDate(e);return new Date(t,n,i).getTime()}return null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setRanges",value:function(e){e instanceof Az?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}]),e}()).\u0275fac=function(e){return new(e||Rz)($o(Fl),$o(qR,8),$o(HR,8),$o(CR,8),$o(Oz,8))},Rz.\u0275cmp=ot({type:Rz,selectors:[["mat-month-view"]],viewQuery:function(e,t){var n;1&e&&Pu(bz,1),2&e&&Ou(n=Lu())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Ct],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(Ko(0,"table",0),Ko(1,"thead",1),Ko(2,"tr"),Wo(3,rz,2,2,"th",2),Xo(),Ko(4,"tr"),Qo(5,"th",3),Xo(),Xo(),Ko(6,"tbody",4),os("selectedValueChange",function(e){return t._dateSelected(e)})("previewChange",function(e){return t._previewChanged(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),Xo(),Xo()),2&e&&(pa(3),Yo("ngForOf",t._weekdays),pa(3),Yo("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[_h,bz],encapsulation:2,changeDetection:0}),Rz),Mz=((Ez=function(){function e(t,n,i){v(this,e),this._changeDetectorRef=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=C.EMPTY,this.selectedChange=new _u,this.yearSelected=new _u,this.activeDateChange=new _u,this._activeDate=this._dateAdapter.today()}return m(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Lz(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Az?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oy(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate)-Fz(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,i=[];n<24;n++)i.push(t+n),4==i.length&&(this._years.push(i.map(function(t){return e._createCellForYear(t)})),i=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(e){var t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));var n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));this.selectedChange.emit(this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Fz(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Fz(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_getActiveCell",value:function(){return Fz(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(e){var t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),i=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new yz(e,n,n,this._shouldEnableYear(e),i)}},{key:"_shouldEnableYear",value:function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedYear",value:function(e){if(this._selectedYear=null,e instanceof Az){var t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}]),e}()).\u0275fac=function(e){return new(e||Ez)($o(Fl),$o(HR,8),$o(CR,8))},Ez.\u0275cmp=ot({type:Ez,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var n;1&e&&Pu(bz,1),2&e&&Ou(n=Lu())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Ko(0,"table",0),Ko(1,"thead",1),Ko(2,"tr"),Qo(3,"th",2),Xo(),Xo(),Ko(4,"tbody",3),os("selectedValueChange",function(e){return t._yearSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),Xo(),Xo()),2&e&&(pa(4),Yo("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[bz],encapsulation:2,changeDetection:0}),Ez);function Lz(e,t,n,i,r){var a=e.getYear(t),o=e.getYear(n),s=Nz(e,i,r);return Math.floor((a-s)/24)===Math.floor((o-s)/24)}function Fz(e,t,n,i){return((e.getYear(t)-Nz(e,n,i))%24+24)%24}function Nz(e,t,n){var i=0;return n?i=e.getYear(n)-24+1:t&&(i=e.getYear(t)),i}var zz,Vz,jz,Bz,Hz,qz,Uz,Wz,Gz,$z,Yz,Zz=((jz=function(){function e(t,n,i,r){v(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=C.EMPTY,this.selectedChange=new _u,this.monthSelected=new _u,this.activeDateChange=new _u,this._activeDate=this._dateAdapter.today()}return m(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Az?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oy(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(e){var t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);var i=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){var e=this;this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(n){return n.map(function(n){return e._createCellForMonth(n,t[n])})}),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}},{key:"_createCellForMonth",value:function(e,t){var n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),r=this.dateClass?this.dateClass(n,"year"):void 0;return new yz(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e),r)}},{key:"_shouldEnableMonth",value:function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedMonth",value:function(e){this._selectedMonth=e instanceof Az?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}]),e}()).\u0275fac=function(e){return new(e||jz)($o(Fl),$o(qR,8),$o(HR,8),$o(CR,8))},jz.\u0275cmp=ot({type:jz,selectors:[["mat-year-view"]],viewQuery:function(e,t){var n;1&e&&Pu(bz,1),2&e&&Ou(n=Lu())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Ko(0,"table",0),Ko(1,"thead",1),Ko(2,"tr"),Qo(3,"th",2),Xo(),Xo(),Ko(4,"tbody",3),os("selectedValueChange",function(e){return t._monthSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),Xo(),Xo()),2&e&&(pa(4),Yo("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[bz],encapsulation:2,changeDetection:0}),jz),Kz=0,Xz=((Vz=function(){function e(t,n,i,r,a){v(this,e),this._intl=t,this.calendar=n,this._dateAdapter=i,this._dateFormats=r,this._buttonDescriptionId="mat-calendar-button-"+Kz++,this.calendar.stateChanges.subscribe(function(){return a.markForCheck()})}return m(e,[{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate)-Fz(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,i)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}},{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Lz(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}]),e}()).\u0275fac=function(e){return new(e||Vz)($o(mz),$o(we(function(){return Qz})),$o(HR,8),$o(qR,8),$o(Fl))},Vz.\u0275cmp=ot({type:Vz,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:az,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(fs(),Ko(0,"div",0),Ko(1,"div",1),Ko(2,"button",2),os("click",function(){return t.currentPeriodClicked()}),Ko(3,"span"),Ns(4),Xo(),Qo(5,"div",3),Xo(),Qo(6,"div",4),ps(7),Ko(8,"button",5),os("click",function(){return t.previousClicked()}),Xo(),Ko(9,"button",6),os("click",function(){return t.nextClicked()}),Xo(),Xo(),Xo()),2&e&&(pa(2),qo("aria-label",t.periodButtonLabel)("aria-describedby",t._buttonDescriptionId),pa(1),qo("id",t._buttonDescriptionId),pa(1),zs(t.periodButtonText),pa(1),Ss("mat-calendar-invert","month"!==t.calendar.currentView),pa(3),Yo("disabled",!t.previousEnabled()),qo("aria-label",t.prevButtonLabel),pa(1),Yo("disabled",!t.nextEnabled()),qo("aria-label",t.nextButtonLabel))},directives:[jA,lR],encapsulation:2,changeDetection:0}),Vz),Qz=((zz=function(){function e(t,n,i,r){var a=this;v(this,e),this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new _u,this.yearSelected=new _u,this.monthSelected=new _u,this.viewChanged=new _u(!0),this._userSelection=new _u,this.stateChanges=new V,this._intlChanges=t.changes.subscribe(function(){r.markForCheck(),a.stateChanges.next()})}return m(e,[{key:"startAt",get:function(){return this._startAt},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Az?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(e){var t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}},{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new CT(this.headerComponent||Xz),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell(!1)}},{key:"updateTodaysDate",value:function(){var e=this.currentView;("month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(e){var t=e.value;(this.selected instanceof Az||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}},{key:"_yearSelectedInMultiYearView",value:function(e){this.yearSelected.emit(e)}},{key:"_monthSelectedInYearView",value:function(e){this.monthSelected.emit(e)}},{key:"_goToDateInView",value:function(e,t){this.activeDate=e,this.currentView=t}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}}]),e}()).\u0275fac=function(e){return new(e||zz)($o(mz),$o(HR,8),$o(qR,8),$o(Fl))},zz.\u0275cmp=ot({type:zz,selectors:[["mat-calendar"]],viewQuery:function(e,t){var n;1&e&&(Pu(Pz,1),Pu(Zz,1),Pu(Mz,1)),2&e&&(Ou(n=Lu())&&(t.monthView=n.first),Ou(n=Lu())&&(t.yearView=n.first),Ou(n=Lu())&&(t.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[il([Dz]),Ct],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(Wo(0,oz,0,0,"ng-template",0),Ko(1,"div",1),Wo(2,sz,1,8,"mat-month-view",2),Wo(3,lz,1,6,"mat-year-view",3),Wo(4,uz,1,6,"mat-multi-year-view",4),Xo()),2&e&&(Yo("cdkPortalOutlet",t._calendarHeaderPortal),pa(1),Yo("ngSwitch",t.currentView),pa(1),Yo("ngSwitchCase","month"),pa(1),Yo("ngSwitchCase","year"),pa(1),Yo("ngSwitchCase","multi-year"))},directives:[IT,wR,Dh,Oh,Pz,Zz,Mz],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),zz),Jz={transformPanel:Md("transformPanel",[zd("void",Nd({opacity:0,transform:"scale(1, 0.8)"})),Vd("void => enter",Ld("120ms cubic-bezier(0, 0, 0.2, 1)",Nd({opacity:1,transform:"scale(1, 1)"}))),Vd("* => void",Ld("100ms linear",Nd({opacity:0})))]),fadeInCalendar:Md("fadeInCalendar",[zd("void",Nd({opacity:0})),zd("enter",Nd({opacity:1})),Vd("void => *",Ld("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},eV=0,tV=new ui("mat-datepicker-scroll-strategy"),nV={provide:tV,deps:[gI],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},iV=FR(function e(t){v(this,e),this._elementRef=t}),rV=((qz=function(e){a(n,e);var t=s(n);function n(e,i,r,a,o,s){var l;return v(this,n),(l=t.call(this,e))._changeDetectorRef=i,l._globalModel=r,l._dateAdapter=a,l._rangeSelectionStrategy=o,l._subscriptions=new C,l._animationState="enter",l._animationDone=new V,l._actionsPortal=null,l._closeButtonText=(null==s?void 0:s.closeCalendarLabel)||"Close calendar",l}return m(n,[{key:"ngOnInit",value:function(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel}},{key:"ngAfterViewInit",value:function(){var e=this;this._subscriptions.add(this.datepicker.stateChanges.subscribe(function(){e._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe(),this._animationDone.complete()}},{key:"_handleUserSelection",value:function(e){var t=this._model.selection,n=e.value,i=t instanceof Az;if(i&&this._rangeSelectionStrategy){var r=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(r,this)}else!n||!i&&this._dateAdapter.sameDate(n,t)||this._model.add(n);this._model&&!this._model.isComplete()||this._actionsPortal||this.datepicker.close()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef.markForCheck()}},{key:"_getSelected",value:function(){return this._model.selection}},{key:"_applyPendingSelection",value:function(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}]),n}(iV)).\u0275fac=function(e){return new(e||qz)($o(cl),$o(Fl),$o(Tz),$o(HR),$o(Oz,8),$o(mz))},qz.\u0275cmp=ot({type:qz,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var n;1&e&&Pu(Qz,1),2&e&&Ou(n=Lu())&&(t._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&ss("@transformPanel.done",function(){return t._animationDone.next()}),2&e&&(qs("@transformPanel",t._animationState),Ss("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Io],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"mat-calendar",1),os("yearSelected",function(e){return t.datepicker._selectYear(e)})("monthSelected",function(e){return t.datepicker._selectMonth(e)})("viewChanged",function(e){return t.datepicker._viewChanged(e)})("_userSelection",function(e){return t._handleUserSelection(e)}),Xo(),Wo(2,cz,0,0,"ng-template",2),Ko(3,"button",3),os("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),Ns(4),Xo(),Xo()),2&e&&(Ss("mat-datepicker-content-container-with-actions",t._actionsPortal),pa(1),Yo("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter"),pa(1),Yo("cdkPortalOutlet",t._actionsPortal),pa(1),Ss("cdk-visually-hidden",!t._closeButtonFocused),Yo("color",t.color||"primary"),pa(1),zs(t._closeButtonText))},directives:[nR,Qz,yh,IT,jA],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Jz.transformPanel,Jz.fadeInCalendar]},changeDetection:0}),qz),aV=((Hz=function(){function e(t,n,i,r,a,o,s,l,u){v(this,e),this._dialog=t,this._overlay=n,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=s,this._document=l,this._model=u,this._inputStateChanges=C.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new _u,this.monthSelected=new _u,this.viewChanged=new _u(!0),this.openedStream=new _u,this.closedStream=new _u,this._opened=!1,this.id="mat-datepicker-"+eV++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass="".concat(this.id,"-backdrop"),this.stateChanges=new V,this._scrollStrategy=a}return m(e,[{key:"startAt",get:function(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"color",get:function(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)},set:function(e){this._color=e}},{key:"touchUi",get:function(){return this._touchUi},set:function(e){this._touchUi=dE(e)}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled},set:function(e){var t=dE(e);t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}},{key:"restoreFocus",get:function(){return this._restoreFocus},set:function(e){this._restoreFocus=dE(e)}},{key:"panelClass",get:function(){return this._panelClass},set:function(e){this._panelClass=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\s+/,n=[];if(null!=e){var i,r=Array.isArray(e)?e:"".concat(e).split(t),a=d(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,s="".concat(o).trim();s&&n.push(s)}}catch(l){a.e(l)}finally{a.f()}}return n}(e)}},{key:"opened",get:function(){return this._opened},set:function(e){dE(e)?this.open():this.close()}},{key:"_getMinDate",value:function(){return this.datepickerInput&&this.datepickerInput.min}},{key:"_getMaxDate",value:function(){return this.datepickerInput&&this.datepickerInput.max}},{key:"_getDateFilter",value:function(){return this.datepickerInput&&this.datepickerInput.dateFilter}},{key:"ngOnChanges",value:function(e){var t=e.xPosition||e.yPosition;t&&!t.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}},{key:"select",value:function(e){this._model.add(e)}},{key:"_selectYear",value:function(e){this.yearSelected.emit(e)}},{key:"_selectMonth",value:function(e){this.monthSelected.emit(e)}},{key:"_viewChanged",value:function(e){this.viewChanged.emit(e)}},{key:"registerInput",value:function(e){var t=this;return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(function(){return t.stateChanges.next(void 0)}),this._model}},{key:"registerActions",value:function(e){this._actionsPortal=e}},{key:"removeActions",value:function(e){e===this._actionsPortal&&(this._actionsPortal=null)}},{key:"open",value:function(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}},{key:"close",value:function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(Ty(1)).subscribe(function(){return e._destroyPopup()})}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_applyPendingSelection",value:function(){var e,t,n=(null===(e=this._popupComponentRef)||void 0===e?void 0:e.instance)||(null===(t=this._dialogRef)||void 0===t?void 0:t.componentInstance);null==n||n._applyPendingSelection()}},{key:"_openAsDialog",value:function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(rV,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!1,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(function(){return e.close()}),this._forwardContentValues(this._dialogRef.componentInstance)}},{key:"_openAsPopup",value:function(){var e=this,t=new CT(rV,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(Ty(1)).subscribe(function(){e._popupRef.updatePosition()})}},{key:"_forwardContentValues",value:function(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}},{key:"_createPopup",value:function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),n=new $T({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(n),this._popupRef.overlayElement.setAttribute("role","dialog"),oe(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(lv(function(t){return 27===t.keyCode&&!sE(t)||e.datepickerInput&&sE(t,"altKey")&&38===t.keyCode}))).subscribe(function(t){t&&t.preventDefault(),e.close()})}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_setConnectedPositions",value:function(e){var t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",i="above"===this.yPosition?"bottom":"top",r="top"===i?"bottom":"top";return e.withPositions([{originX:t,originY:r,overlayX:t,overlayY:i},{originX:t,originY:i,overlayX:t,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r}])}}]),e}()).\u0275fac=function(e){return new(e||Hz)($o(XN),$o(gI),$o(sc),$o(Yl),$o(tV),$o(HR,8),$o(CR,8),$o(Bc,8),$o(Tz))},Hz.\u0275dir=dt({type:Hz,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Ct]}),Hz),oV=((Bz=function(e){a(n,e);var t=s(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(aV)).\u0275fac=function(e){return sV(e||Bz)},Bz.\u0275cmp=ot({type:Bz,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[il([Dz,{provide:aV,useExisting:Bz}]),Io],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Bz),sV=ai(oV),lV=function e(t,n){v(this,e),this.target=t,this.targetElement=n,this.value=this.target.value},uV=((Uz=function(){function e(t,n,i){var r=this;v(this,e),this._elementRef=t,this._dateAdapter=n,this._dateFormats=i,this.dateChange=new _u,this.dateInput=new _u,this.stateChanges=new V,this._onTouched=function(){},this._validatorOnChange=function(){},this._cvaOnChange=function(){},this._valueChangesSubscription=C.EMPTY,this._localeSubscription=C.EMPTY,this._parseValidator=function(){return r._lastValueValid?null:{matDatepickerParse:{text:r._elementRef.nativeElement.value}}},this._filterValidator=function(e){var t=r._dateAdapter.getValidDateOrNull(r._dateAdapter.deserialize(e.value));return!t||r._matchesFilter(t)?null:{matDatepickerFilter:!0}},this._minValidator=function(e){var t=r._dateAdapter.getValidDateOrNull(r._dateAdapter.deserialize(e.value)),n=r._getMinDate();return!n||!t||r._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}},this._maxValidator=function(e){var t=r._dateAdapter.getValidDateOrNull(r._dateAdapter.deserialize(e.value)),n=r._getMaxDate();return!n||!t||r._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(function(){r._assignValueProgrammatically(r.value)})}return m(e,[{key:"value",get:function(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue},set:function(e){this._assignValueProgrammatically(e)}},{key:"disabled",get:function(){return!!this._disabled||this._parentDisabled()},set:function(e){var t=dE(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}},{key:"_getValidators",value:function(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}},{key:"_registerModel",value:function(e){var t=this;this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(function(e){if(t._shouldHandleChangeEvent(e)){var n=t._getValueFromModel(e.selection);t._lastValueValid=t._isValidValue(n),t._cvaOnChange(n),t._onTouched(),t._formatValue(n),t.dateInput.emit(new lV(t,t._elementRef.nativeElement)),t.dateChange.emit(new lV(t,t._elementRef.nativeElement))}})}},{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnChanges",value:function(e){(function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=e[i[n]],a=r.previousValue,o=r.currentValue;if(!t.isDateInstance(a)||!t.isDateInstance(o))return!0;if(!t.sameDate(a,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}},{key:"registerOnValidatorChange",value:function(e){this._validatorOnChange=e}},{key:"validate",value:function(e){return this._validator?this._validator(e):null}},{key:"writeValue",value:function(e){this._assignValueProgrammatically(e)}},{key:"registerOnChange",value:function(e){this._cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_onKeydown",value:function(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}},{key:"_onInput",value:function(e){var t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this.dateInput.emit(new lV(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new lV(this,this._elementRef.nativeElement))}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}},{key:"_assignValue",value:function(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}},{key:"_isValidValue",value:function(e){return!e||this._dateAdapter.isValid(e)}},{key:"_parentDisabled",value:function(){return!1}},{key:"_assignValueProgrammatically",value:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}},{key:"_matchesFilter",value:function(e){var t=this._getDateFilter();return!t||t(e)}}]),e}()).\u0275fac=function(e){return new(e||Uz)($o(cl),$o(HR,8),$o(qR,8))},Uz.\u0275dir=dt({type:Uz,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ct]}),Uz),cV={provide:ig,useExisting:we(function(){return dV}),multi:!0},hV={provide:hg,useExisting:we(function(){return dV}),multi:!0},dV=((Yz=function(e){a(n,e);var t=s(n);function n(e,i,a,o){var s,l;return v(this,n),(l=t.call(this,e,i,a))._formField=o,l._closedSubscription=C.EMPTY,l._validator=function(){function e(){v(this,e)}return m(e,null,[{key:"min",value:function(e){return function(e){return function(t){if(ug(t.value)||ug(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}},{key:"max",value:function(e){return function(e){return function(t){if(ug(t.value)||ug(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}},{key:"required",value:function(e){return pg(e)}},{key:"requiredTrue",value:function(e){return function(e){return!0===e.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function(e){return ug(e.value)||fg.test(e.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return function(e){return function(t){return ug(t.value)||!cg(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"maxLength",value:function(e){return function(e){return function(t){return cg(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"pattern",value:function(e){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(e){if(ug(e.value))return null;var i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):vg;var t,n}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return wg(e)}},{key:"composeAsync",value:function(e){return xg(e)}}]),e}().compose(r((s=u(l),h(n.prototype)),"_getValidators",s).call(s)),l}return m(n,[{key:"matDatepicker",set:function(e){var t=this;e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(function(){return t._onTouched()}),this._registerModel(e.registerInput(this)))}},{key:"min",get:function(){return this._min},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}},{key:"max",get:function(){return this._max},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}},{key:"dateFilter",get:function(){return this._dateFilter},set:function(e){var t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"getStartValue",value:function(){return this.value}},{key:"ngOnDestroy",value:function(){r(h(n.prototype),"ngOnDestroy",this).call(this),this._closedSubscription.unsubscribe()}},{key:"_openPopup",value:function(){this._datepicker&&this._datepicker.open()}},{key:"_getValueFromModel",value:function(e){return e}},{key:"_assignValueToModel",value:function(e){this._model&&this._model.updateSelection(e,this)}},{key:"_getMinDate",value:function(){return this._min}},{key:"_getMaxDate",value:function(){return this._max}},{key:"_getDateFilter",value:function(){return this._dateFilter}},{key:"_shouldHandleChangeEvent",value:function(e){return e.source!==this}}]),n}(uV)).\u0275fac=function(e){return new(e||Yz)($o(cl),$o(HR,8),$o(qR,8),$o(rD,8))},Yz.\u0275dir=dt({type:Yz,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&os("input",function(e){return t._onInput(e.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)}),2&e&&(Hs("disabled",t.disabled),qo("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[il([cV,hV,{provide:tN,useExisting:Yz}]),Io]}),Yz),fV=(($z=function e(){v(this,e)}).\u0275fac=function(e){return new(e||$z)},$z.\u0275dir=dt({type:$z,selectors:[["","matDatepickerToggleIcon",""]]}),$z),pV=((Gz=function(){function e(t,n,i){v(this,e),this._intl=t,this._changeDetectorRef=n,this._stateChanges=C.EMPTY;var r=Number(i);this.tabIndex=r||0===r?r:null}return m(e,[{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=dE(e)}},{key:"ngOnChanges",value:function(e){e.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}},{key:"_watchStateChanges",value:function(){var e=this,t=this.datepicker?this.datepicker.stateChanges:ov(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ov(),i=this.datepicker?oe(this.datepicker.openedStream,this.datepicker.closedStream):ov();this._stateChanges.unsubscribe(),this._stateChanges=oe(this._intl.changes,t,n,i).subscribe(function(){return e._changeDetectorRef.markForCheck()})}}]),e}()).\u0275fac=function(e){return new(e||Gz)($o(mz),$o(Fl),si("tabindex"))},Gz.\u0275cmp=ot({type:Gz,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){var i;1&e&&Mu(n,fV,1),2&e&&Ou(i=Lu())&&(t._customIcon=i.first)},viewQuery:function(e,t){var n;1&e&&Pu(hz,1),2&e&&Ou(n=Lu())&&(t._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&os("click",function(e){return t._open(e)}),2&e&&(qo("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),Ss("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Ct],ngContentSelectors:gz,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(fs(vz),Ko(0,"button",0,1),Wo(2,dz,2,0,"svg",2),ps(3),Xo()),2&e&&(Yo("disabled",t.disabled)("disableRipple",t.disableRipple),qo("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),pa(2),Yo("ngIf",!t._customIcon))},directives:[jA,kh],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),Gz),vV=((Wz=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Wz)},Wz.\u0275mod=ct({type:Wz}),Wz.\u0275inj=Te({providers:[mz,nV],imports:[[Bh,BA,QN,kI,xR,DT,MR],kT]}),Wz),gV=["filterMenu"];function mV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"filter_list"),Xo())}function yV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_upward"),Xo())}function bV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_downward"),Xo())}function _V(e,t){if(1&e){var n=ns();Ko(0,"div",6),Ko(1,"button",8),os("click",function(){return Zt(n),hs().onSortClear()}),Ns(2,"Clear Sort"),Xo(),Xo()}}function wV(e,t){if(1&e&&(Ko(0,"mat-option",16),Ns(1),Xo()),2&e){var n=t.$implicit;Yo("value",n),pa(1),Vs(" ",n.name," ")}}function kV(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",6),Ko(2,"span",5),Ns(3,"and"),Xo(),Xo(),Ko(4,"div",6),Ko(5,"mat-form-field",17),os("click",function(e){return e.stopPropagation()}),Ko(6,"input",22),os("ngModelChange",function(e){return Zt(n),hs(2).operand2Input=e}),Xo(),Qo(7,"mat-datepicker-toggle",19),Qo(8,"mat-datepicker",null,20),Xo(),Xo(),es()}if(2&e){var i=Go(9),r=hs(2);pa(6),Yo("matDatepicker",i)("ngModel",r.operand2Input),pa(1),Yo("for",i)}}function xV(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",6),Ko(2,"mat-form-field",17),os("click",function(e){return e.stopPropagation()}),Ko(3,"input",18),os("ngModelChange",function(e){return Zt(n),hs().operand1Input=e}),Xo(),Qo(4,"mat-datepicker-toggle",19),Qo(5,"mat-datepicker",null,20),Xo(),Xo(),Wo(7,kV,10,3,"ng-container",1),Ko(8,"div",6),Ko(9,"button",21),os("click",function(){return Zt(n),hs().onClearFilter()}),Ns(10,"Clear Filter"),Xo(),Xo(),Qo(11,"div",12),es()}if(2&e){var i=Go(6),r=hs();pa(3),Yo("matDatepicker",i)("ngModel",r.operand1Input),pa(1),Yo("for",i),pa(3),Yo("ngIf",3===r.selectedOperator.operands)}}function SV(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",6),Ko(2,"button",21),os("click",function(){return Zt(n),hs().onClearSelection()}),Ns(3,"Clear Selection"),Xo(),Xo(),Xo()}}var CV,EV=((CV=function(){function e(){v(this,e),this.predicateEmitter=new _u,this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||CV)},CV.\u0275cmp=ot({type:CV,selectors:[["app-date-filter"]],viewQuery:function(e,t){var n;1&e&&Pu(gV,1),2&e&&Ou(n=Lu())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:31,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Choose a date","name","operand1Input",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["mat-button","",3,"click"],["matInput","","placeholder","Choose a date","name","operand2Input",3,"matDatepicker","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Ko(0,"button",0),Ko(1,"span"),Wo(2,mV,2,0,"mat-icon",1),Wo(3,yV,2,0,"mat-icon",1),Wo(4,bV,2,0,"mat-icon",1),Ko(5,"mat-icon"),Ns(6,"arrow_drop_down"),Xo(),Xo(),Xo(),Ko(7,"mat-menu",2,3),Ko(9,"div",4),os("click",function(e){return e.stopPropagation()}),Ko(10,"form",5),Ko(11,"div",6),Ko(12,"div",7),Ko(13,"button",8),os("click",function(){return t.onSortAsc()}),Ns(14,"Sort Ascending"),Xo(),Xo(),Ko(15,"div",9),Ko(16,"button",10),os("click",function(){return t.onValidation()}),Ns(17," OK "),Xo(),Xo(),Xo(),Ko(18,"div",6),Ko(19,"button",8),os("click",function(){return t.onSortDesc()}),Ns(20,"Sort Descending"),Xo(),Xo(),Wo(21,_V,3,0,"div",11),Ko(22,"div",6),Qo(23,"div",12),Ko(24,"mat-form-field",5),Ko(25,"mat-select",13),os("valueChange",function(e){return t.selectedOperator=e}),Wo(26,wV,2,2,"mat-option",14),Xo(),Xo(),Xo(),Wo(27,xV,12,4,"ng-container",1),Wo(28,SV,4,0,"div",1),Ko(29,"div"),Ko(30,"ng-multiselect-dropdown",15),os("ngModelChange",function(e){return t.selectedItems=e}),Xo(),Xo(),Xo(),Xo(),Xo()),2&e&&(Yo("matMenuTriggerFor",Go(8)),pa(2),Yo("ngIf",t.selectedOperator||t.selectedItems.length>0),pa(1),Yo("ngIf","desc"===t.selectedSort),pa(1),Yo("ngIf","asc"===t.selectedSort),pa(17),Yo("ngIf",t.selectedSort),pa(4),Yo("value",t.selectedOperator),pa(1),Yo("ngForOf",t.operatorList),pa(1),Yo("ngIf",t.selectedOperator),pa(1),Yo("ngIf",t.selectedItems.length),pa(2),Cs("filter-dropdown"),Yo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[jA,eF,kh,xM,KL,bm,zg,vm,aD,ID,_h,fw,Ng,ym,IA,aN,dV,lg,pV,eD,oV],styles:["button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}li,p{font-size:.9rem!important}"],encapsulation:2}),CV),RV=["filterMenu"];function AV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"filter_list"),Xo())}function TV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_downward"),Xo())}function IV(e,t){1&e&&(Ko(0,"mat-icon"),Ns(1,"arrow_upward"),Xo())}function DV(e,t){if(1&e){var n=ns();Ko(0,"div",6),Ko(1,"button",8),os("click",function(){return Zt(n),hs().onSortClear()}),Ns(2,"Clear Sort"),Xo(),Xo()}}function OV(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"div",6),Ko(2,"button",8),os("click",function(){return Zt(n),hs().onClearSelection()}),Ns(3,"Clear Selection"),Xo(),Xo(),Xo()}}var PV,MV,LV=((PV=function(){function e(){v(this,e),this.predicateEmitter=new _u,this.filterCleared=!1,this.selectedSort=null,this.dropdownSettings={itemsShowLimit:2,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedSort=null,e.selectedItems=[]})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return"boolean"==typeof e.text?e.text?"1":"0":e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||PV)},PV.\u0275cmp=ot({type:PV,selectors:[["app-bool-filter"]],viewQuery:function(e,t){var n;1&e&&Pu(RV,1),2&e&&Ou(n=Lu())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:25,vars:12,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Ko(0,"button",0),Ko(1,"span"),Wo(2,AV,2,0,"mat-icon",1),Wo(3,TV,2,0,"mat-icon",1),Wo(4,IV,2,0,"mat-icon",1),Ko(5,"mat-icon"),Ns(6,"arrow_drop_down"),Xo(),Xo(),Xo(),Ko(7,"mat-menu",2,3),Ko(9,"div",4),os("click",function(e){return e.stopPropagation()}),Ko(10,"form",5),Ko(11,"div",6),Ko(12,"div",7),Ko(13,"button",8),os("click",function(){return t.onSortAsc()}),Ns(14,"Sort Ascending"),Xo(),Xo(),Ko(15,"div",9),Ko(16,"button",10),os("click",function(){return t.onValidation()}),Ns(17," OK "),Xo(),Xo(),Xo(),Ko(18,"div",6),Ko(19,"button",8),os("click",function(){return t.onSortDesc()}),Ns(20,"Sort Descending"),Xo(),Xo(),Wo(21,DV,3,0,"div",11),Wo(22,OV,4,0,"div",1),Ko(23,"div",6),Ko(24,"ng-multiselect-dropdown",12),os("ngModelChange",function(e){return t.selectedItems=e}),Xo(),Xo(),Xo(),Xo(),Xo()),2&e&&(Yo("matMenuTriggerFor",Go(8)),pa(2),Yo("ngIf",t.selectedItems.length>0),pa(1),Yo("ngIf","desc"===t.selectedSort),pa(1),Yo("ngIf","asc"===t.selectedSort),pa(17),Yo("ngIf",t.selectedSort),pa(1),Yo("ngIf",t.selectedItems.length),pa(2),Cs("filter-dropdown"),Yo("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[jA,eF,kh,xM,KL,bm,zg,vm,fw,Ng,ym],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),PV),FV=new ui("EventArgument",{providedIn:"root",factory:function(){return"$event"}}),NV=new ui("DynamicComponentInjector"),zV=((MV=function e(){v(this,e)}).\u0275fac=function(e){return new(e||MV)},MV.\u0275mod=ct({type:MV}),MV.\u0275inj=Te({imports:[[Bh]]}),MV);function VV(e){return new St(void 0,e,!0)}function jV(){}var BV,HV,qV,UV,WV,GV=((WV=function(){function e(t,n,i,r){v(this,e),this.differs=t,this.cfr=n,this.eventArgument=i,this.cdr=r,this.checkInit=this.failInit,this.lastComponentInst=null,this.inputsDiffer=this.differs.find({}).create(),this.compFactory=null,this.outputsShouldDisconnect$=new V,this.outputsChanged=function(){return!1}}return m(e,[{key:"compRef",get:function(){return this.compInjector.componentRef}},{key:"componentInst",get:function(){return this.compRef?this.compRef.instance:null}},{key:"componentInstChanged",get:function(){return this.lastComponentInst!==this.componentInst&&(this.lastComponentInst=this.componentInst,!0)}},{key:"compCdr",get:function(){return this.compRef?this.compRef.injector.get(Fl):null}},{key:"ngOnDestroy",value:function(){this._disconnectOutputs()}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.checkInit=e?jV:this.failInit,this.compInjector=e,t.trackOutputChanges){var n=this.differs.find({}).create();this.outputsChanged=function(e){return!!n.diff(e)}}}},{key:"update",value:function(e,t,n,i){this.checkInit(),this.updateIO(e,t);var r=this.componentInstChanged;if(r||n){var a=this._getInputsChanges();a&&this._updateInputChanges(a),this.updateInputs(r||!this.lastInputChanges)}(r||i)&&this.bindOutputs()}},{key:"maybeUpdate",value:function(){if(this.checkInit(),this.componentInstChanged)return this.updateInputs(!0),void this.bindOutputs();if(this.outputsChanged(this.outputs)&&this.bindOutputs(),this.inputs){var e=this._getInputsChanges();if(e){var t=!!this.lastInputChanges;this._updateInputChanges(e),t&&this.updateInputs()}}}},{key:"updateIO",value:function(e,t){this.inputs=e,this.outputs=t}},{key:"updateInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this._updateCompFactory();var t=this.componentInst,n=this.inputs;n&&t&&(n=this._resolveInputs(n),Object.keys(n).forEach(function(e){return t[e]=n[e]}),this.compCdr&&this.compCdr.markForCheck(),this.notifyOnInputChanges(this.lastInputChanges,e))}},{key:"bindOutputs",value:function(){var e=this;this._disconnectOutputs();var t=this.componentInst,n=this.outputs;n&&t&&(n=this._resolveOutputs(n),Object.keys(n).filter(function(e){return t[e]}).forEach(function(i){return t[i].pipe(Cy(e.outputsShouldDisconnect$)).subscribe(function(t){return e.cdr.markForCheck(),n[i](t)})}))}},{key:"notifyOnInputChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.componentInst.ngOnChanges&&(t&&(e=this._collectFirstChanges()),this.componentInst.ngOnChanges(e))}},{key:"_disconnectOutputs",value:function(){this.outputsShouldDisconnect$.next()}},{key:"_getInputsChanges",value:function(){return this.inputsDiffer.diff(this.inputs)}},{key:"_updateInputChanges",value:function(e){this.lastInputChanges=this._collectChangesFromDiffer(e)}},{key:"_collectFirstChanges",value:function(){var e={},t=this.inputs;return Object.keys(t).forEach(function(n){return e[n]=VV(t[n])}),this._resolveChanges(e)}},{key:"_collectChangesFromDiffer",value:function(e){var t={};return e.forEachAddedItem(function(e){return t[e.key]=VV(e.currentValue)}),e.forEachChangedItem(function(e){return t[e.key]=new St(e.previousValue,e.currentValue,!1)}),this._resolveChanges(t)}},{key:"_resolveCompFactory",value:function(){try{try{return this.cfr.resolveComponentFactory(this.compRef.componentType)}catch(e){return this.cfr.resolveComponentFactory(this.compRef.instance.constructor)}}catch(e){return null}}},{key:"_updateCompFactory",value:function(){this.compFactory=this._resolveCompFactory()}},{key:"_resolveInputs",value:function(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}},{key:"_resolveOutputs",value:function(e){return e=this._processOutputs(e),this.compFactory?this._remapIO(e,this.compFactory.outputs):e}},{key:"_processOutputs",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(i){var r=e[i];n[i]="function"==typeof r?r:r&&t._processOutputArgs(r)}),n}},{key:"_processOutputArgs",value:function(e){var t=this,n=e.handler,r="args"in e?e.args||[]:[this.eventArgument];return function(e){return n.apply(void 0,i(r.map(function(n){return n===t.eventArgument?e:n})))}}},{key:"_resolveChanges",value:function(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}},{key:"_remapIO",value:function(e,t){var n=this,i={};return Object.keys(e).forEach(function(r){var a=n._findPropByTplInMapping(r,t)||r;i[a]=e[r]}),i}},{key:"_findPropByTplInMapping",value:function(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.templateName===e)return r.propName}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"failInit",value:function(){throw Error("IoService: ComponentInjector was not set! Please call init() method!")}}]),e}()).\u0275fac=function(e){return new(e||WV)(Ei(Dl),Ei(ol),Ei(FV),Ei(Fl))},WV.\u0275prov=Ae({token:WV,factory:WV.\u0275fac}),WV),$V=((UV=function(){function e(t,n){v(this,e),this.ioService=t,this.componentInjector=n,this.ioService.init(this.componentInjector)}return m(e,[{key:"inputs",get:function(){return this.ndcDynamicInputs||this.ngComponentOutletNdcDynamicInputs}},{key:"outputs",get:function(){return this.ndcDynamicOutputs||this.ngComponentOutletNdcDynamicOutputs}},{key:"ngOnChanges",value:function(e){this.ioService.update(this.inputs,this.outputs,this.inputsChanged(e),this.outputsChanged(e))}},{key:"ngDoCheck",value:function(){this.ioService.maybeUpdate()}},{key:"inputsChanged",value:function(e){return"ngComponentOutletNdcDynamicInputs"in e||"ndcDynamicInputs"in e}},{key:"outputsChanged",value:function(e){return"ngComponentOutletNdcDynamicOutputs"in e||"ndcDynamicOutputs"in e}}]),e}()).\u0275fac=function(e){return new(e||UV)($o(GV),$o(NV,8))},UV.\u0275dir=dt({type:UV,selectors:[["","ndcDynamicInputs",""],["","ndcDynamicOutputs",""],["","ngComponentOutletNdcDynamicInputs",""],["","ngComponentOutletNdcDynamicOutputs",""]],inputs:{ndcDynamicInputs:"ndcDynamicInputs",ngComponentOutletNdcDynamicInputs:"ngComponentOutletNdcDynamicInputs",ndcDynamicOutputs:"ndcDynamicOutputs",ngComponentOutletNdcDynamicOutputs:"ngComponentOutletNdcDynamicOutputs"},features:[il([GV]),Ct]}),UV),YV=((qV=function e(){v(this,e)}).\u0275fac=function(e){return new(e||qV)},qV.\u0275mod=ct({type:qV}),qV.\u0275inj=Te({imports:[[Bh],zV]}),qV),ZV=((HV=function(){function e(t,n){v(this,e),this.vcr=t,this.cfr=n,this.ndcDynamicCreated=new _u}return m(e,[{key:"ngOnChanges",value:function(e){e.ndcDynamicComponent&&this.createDynamicComponent()}},{key:"createDynamicComponent",value:function(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.cfr.resolveComponentFactory(this.ndcDynamicComponent),0,this._resolveInjector(),this.ndcDynamicContent),this.ndcDynamicCreated.emit(this.componentRef))}},{key:"_resolveInjector",value:function(){var e=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(e=Ao.create({providers:this.ndcDynamicProviders,parent:e})),e}}]),e}()).\u0275fac=function(e){return new(e||HV)($o(Yl),$o(ol))},HV.\u0275cmp=ot({type:HV,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},features:[il([{provide:NV,useExisting:HV}]),Ct],decls:0,vars:0,template:function(e,t){},encapsulation:2}),HV),KV=((BV=function e(){v(this,e)}).\u0275fac=function(e){return new(e||BV)},BV.\u0275mod=ct({type:BV}),BV.\u0275inj=Te({imports:[[Bh,YV],YV]}),BV);new ui("WindowRef",{providedIn:"root",factory:function(){return window}});var XV,QV=((XV=function(){function e(){var t=this;v(this,e),this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new _u,this.inputs=null,this.outputs={predicateEmitter:function(e){return t.predicateEmitter.emit(e)}}}return m(e,[{key:"ngOnInit",value:function(){switch(this.inputs={columnName:this.columnName,choices$:this.choices$,clear$:this.clear$,setFilter$:this.setFilter$,showTextFilter:this.showTextFilter,showSort:this.showSort},this.filterMode){case iM.TEXT_MODE:this.filterImplementationComponent=_N;break;case iM.NUMBER_MODE:this.filterImplementationComponent=DN;break;case iM.DATE_MODE:this.filterImplementationComponent=EV;break;case iM.BOOL_MODE:this.filterImplementationComponent=LV}}}]),e}()).\u0275fac=function(e){return new(e||XV)},XV.\u0275cmp=ot({type:XV,selectors:[["app-filter"]],inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$",setFilter$:"setFilter$",filterMode:"filterMode",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},exportAs:["menuInOtherComponent"],decls:1,vars:3,consts:[[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicOutputs"]],template:function(e,t){1&e&&Qo(0,"ndc-dynamic",0),2&e&&Yo("ndcDynamicComponent",t.filterImplementationComponent)("ndcDynamicInputs",t.inputs)("ndcDynamicOutputs",t.outputs)},directives:[ZV,$V],styles:[""]}),XV),JV=["searchBox"];function ej(e,t){1&e&&(Ko(0,"div",24),Ko(1,"span",25),Ns(2,"Loading..."),Xo(),Xo())}function tj(e,t){if(1&e&&(Ko(0,"div",26),Ko(1,"div",0),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),pu(6,"async"),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(vu(6,1,n.dataSource.error$))}}function nj(e,t){if(1&e){var n=ns();Ko(0,"div",3),Ko(1,"div",27),Ko(2,"input",28),os("ngModelChange",function(e){return Zt(n),hs().isSelectedGenesChecked=e})("change",function(){Zt(n);var e=hs();return e.onSelectedIdsChange(e.isSelectedGenesChecked)}),Xo(),Ko(3,"label",29),Ns(4," Only alleles from selected samples "),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(2),Yo("ngModel",i.isSelectedGenesChecked)}}function ij(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",34,35),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function rj(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",36,35),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}var aj=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function oj(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",33),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Wo(2,ij,3,5,"div",30),Wo(3,rj,3,4,"div",30),Xo()}if(2&e){var i=hs(2).$implicit;Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(8,aj)),pa(1),Vs(" ",i.name," "),pa(1),Yo("ngIf","name"===i.id),pa(1),Yo("ngIf","name"!==i.id)}}function sj(e,t){if(1&e){var n=ns();Ko(0,"mat-cell",38),os("click",function(){Zt(n);var e=t.$implicit;return hs(4).onSequenceClick(e)}),Ns(1),Xo()}if(2&e){var i=t.$implicit,r=hs(3).$implicit;Bs("",r.size," mat-ellipsis"),pa(1),Vs(" ",i[r.id]," ")}}function lj(e,t){1&e&&(Ko(0,"div"),Wo(1,sj,2,4,"mat-cell",37),Xo())}function uj(e,t){if(1&e&&(Ko(0,"mat-cell"),Ns(1),Xo()),2&e){var n=t.$implicit,i=hs(3).$implicit;Cs(i.size),pa(1),Vs(" ",n[i.id]," ")}}function cj(e,t){1&e&&(Ko(0,"div"),Wo(1,uj,2,4,"mat-cell",39),Xo())}function hj(e,t){if(1&e&&(Jo(0),Jo(1,31),Wo(2,oj,4,9,"mat-header-cell",32),Wo(3,lj,2,0,"div",30),Wo(4,cj,2,0,"div",30),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id),pa(2),Yo("ngIf","sequence"===n.id||"gapped_sequence"===n.id),pa(1),Yo("ngIf",!("sequence"===n.id||"gapped_sequence"===n.id))}}function dj(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",33),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",34,35),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,aj)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.NUMBER_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function fj(e,t){if(1&e){var n=ns();Ko(0,"div",38),os("click",function(){Zt(n);var e=hs().$implicit;return hs(3).onAppearancesClick(e)}),Ns(1),Xo()}if(2&e){var i=hs().$implicit,r=hs(2).$implicit;pa(1),Vs(" ",i[r.id]," ")}}function pj(e,t){if(1&e&&(Ko(0,"div"),Ns(1),Xo()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(1),Vs(" ",n[i.id]," ")}}function vj(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,fj,2,1,"div",40),Wo(2,pj,2,1,"div",30),Xo()),2&e){var n=hs(2).$implicit;Cs(n.size),pa(1),Yo("ngIf","appearances"===n.id),pa(1),Yo("ngIf","appearances"!==n.id)}}function gj(e,t){if(1&e&&(Jo(0),Jo(1,31),Wo(2,dj,4,12,"mat-header-cell",32),Wo(3,vj,3,5,"mat-cell",39),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function mj(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",33),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",34,35),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,aj)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.BOOL_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function yj(e,t){1&e&&Qo(0,"i",42)}function bj(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,yj,1,0,"i",41),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id])}}function _j(e,t){if(1&e&&(Jo(0),Jo(1,31),Wo(2,mj,4,12,"mat-header-cell",32),Wo(3,bj,2,4,"mat-cell",39),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function wj(e,t){if(1&e&&(Jo(0),Wo(1,hj,5,3,"ng-container",30),Wo(2,gj,4,1,"ng-container",30),Wo(3,_j,4,1,"ng-container",30),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf","string"===n.type),pa(1),Yo("ngIf","integer"===n.type||"number"===n.type),pa(1),Yo("ngIf","boolean"===n.type)}}function kj(e,t){1&e&&Qo(0,"mat-header-row")}function xj(e,t){1&e&&Qo(0,"mat-row")}function Sj(e,t){if(1&e){var n=ns();Ko(0,"div",43),Ko(1,"div",44),Ko(2,"b"),Ns(3,"Download data for selected genes"),Xo(),Xo(),Ko(4,"div",45),Ns(5," Ungapped sequences (fasta) "),Ko(6,"span"),Ns(7,"\xa0\xa0"),Xo(),Ko(8,"button",46),os("click",function(){return Zt(n),hs().sendReportRequest("download_gen_data","fasta",{type:"Ungapped sequences (fasta)"})}),Qo(9,"i",47),Xo(),Xo(),Ko(10,"div",45),Ns(11," Gapped sequences (fasta) "),Ko(12,"span"),Ns(13,"\xa0\xa0"),Xo(),Ko(14,"button",46),os("click",function(){return Zt(n),hs().sendReportRequest("download_gen_data","fasta",{type:"Gapped sequences (fasta)"})}),Qo(15,"i",47),Xo(),Xo(),Ko(16,"div",45),Ns(17," Gene information (csv) "),Ko(18,"span"),Ns(19,"\xa0\xa0"),Xo(),Ko(20,"button",46),os("click",function(){return Zt(n),hs().sendReportRequest("download_gen_data","csv",{type:"Gene information (csv)"})}),Qo(21,"i",47),Xo(),Xo(),Xo()}}var Cj,Ej=function(){return[25,50,100,250]},Rj=((Cj=function(){function e(t,n,i,r,a,o,s,l){v(this,e),this.genomicService=t,this.geneTableService=n,this.modalService=i,this.genGeneSelectedService=r,this.tableParamsStorageService=a,this.genSampleSelectedService=o,this.router=s,this.reportRunService=l,this.displayedColumns=[],this.allColumns=nM,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=iM,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.genSampleSelectedServiceSubscription=null,this.selectedSampleIds=[],this.samplesSelected=!1,this.isSelectedGenesChecked=!1,this.resizeEvents=new Map,this.clearSubject=new dy(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new dy(null),this.setFilter$=this.setFilterSubject.asObservable(),this.redirectOnLoad=null,this.onlySelectedSamplesSet=!1}return m(e,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-gene-table-widths"),this.dataSource=new oE(this.genomicService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.genSampleSelectedServiceSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){t.species&&t.datasets&&(e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage())}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){if(!t&&(e.applyResizes(),e.redirectOnLoad)){var n=e.redirectOnLoad;e.redirectOnLoad=null,e.router.navigate(n)}}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.filters.length>0&&!e.isSelectedGenesChecked?e.genGeneSelectedService.selection.next({names:t.name,onlySelected:e.onlySelectedSamplesSet}):(e.onlySelectedSamplesSet=!1,e.genGeneSelectedService.selection.next({names:[],onlySelected:e.onlySelectedSamplesSet}))}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.genSampleSelectedServiceSubscription=e.genSampleSelectedService.source.subscribe(function(t){var n,i;n=t.ids,i=e.selectedSampleIds,Aj(Object.keys(n),Object.keys(i))&&Object.keys(n).every(function(e){return Aj(n[e],i[e])})||(e.selectedSampleIds=t.ids,e.samplesSelected=Object.keys(e.selectedSampleIds).length>0,e.isSelectedGenesChecked&&(e.samplesSelected||(e.isSelectedGenesChecked=!1),e.onSelectedIdsChange(null)))}),e.router.events.subscribe(function(t){t instanceof Tk&&e.applyResizes()})}),Xm(this.searchBox.nativeElement,"keyup").pipe(H(function(e){return e.target.value}),lE(1e3),Py()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedIdsChange",value:function(e){this.applyFilter(this.isSelectedGenesChecked&&this.samplesSelected?{field:"subject_id",predicates:[{field:"subject_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"subject_id",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var n,i=d(e.predicates);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.op&&this.filters.push(r)}}catch(o){i.e(o)}finally{i.f()}for(var a=this.sorts.length-1;a>=0;a--)this.sorts[a].field===e.field&&this.sorts.splice(a,1);e.sort.order&&this.sorts.push(e.sort),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var t=function(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.delete(a)}}catch(o){r.e(o)}finally{r.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!t.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!t.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadGeneSequences(this.selection.species,this.selection.datasets.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns))}},{key:"onSequenceClick",value:function(e){var t=this.modalService.open(aE,{size:"lg"});t.componentInstance.name=e.name,t.componentInstance.content={ungapped:e.sequence,gapped:e.gapped_sequence}}},{key:"onAppearancesClick",value:function(e){this.onlySelectedSamplesSet=!0,this.redirectOnLoad=["./genesample","true"],this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"",postfix:""},op1:e.name,op2:""})}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"gen-gene-table-widths")}}},{key:"applyResizes",value:function(){var e,t=d(this.resizeEvents);try{for(t.s();!(e=t.n()).done;){var i=n(e.value,2),r=i[0],a=i[1];this.updateColumnWidth(r,a)}}catch(o){t.e(o)}finally{t.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),i=0;i<n.length;i++)n[i].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var i=this.selection.datasets;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,i,[],[],[],n)}}]),e}()).\u0275fac=function(e){return new(e||Cj)($o(Qw),$o(bk),$o(I_),$o(aM),$o(rM),$o(oM),$o(tC),$o(wk))},Cj.\u0275cmp=ot({type:Cj,selectors:[["app-gene-table-panel"]],viewQuery:function(e,t){var n;1&e&&(Pu(dO,1),Pu(PP,1),Pu(JV,3)),2&e&&(Ou(n=Lu())&&(t.paginator=n.first),Ou(n=Lu())&&(t.table=n.first),Ou(n=Lu())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[il([rM])],decls:41,vars:20,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],[4,"ngFor","ngForOf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["downloadMenu","matMenu"],["matMenuContent",""],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[4,"ngIf"],[3,"matColumnDef"],["mwlResizable","",3,"class","enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],[3,"class","click",4,"matCellDef"],[3,"click"],[3,"class",4,"matCellDef"],[3,"click",4,"ngIf"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-text-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Ko(0,"div",0),Wo(1,ej,3,0,"div",1),pu(2,"async"),Wo(3,tj,7,3,"div",2),pu(4,"async"),Xo(),Ko(5,"div",0),Ko(6,"div",3),Ko(7,"span",4),Ns(8,"Quick search:\xa0"),Xo(),Qo(9,"input",5,6),Xo(),Ko(11,"div",7),Ko(12,"button",8),os("click",function(){return t.clearSelection()}),Ko(13,"mat-icon",9),Ns(14,"delete_sweep"),Xo(),Ko(15,"span",4),Ns(16,"Clear filters"),Xo(),Xo(),Xo(),Ko(17,"div",7),Ko(18,"button",10),os("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Ko(19,"mat-icon",9),Ns(20,"view_column"),Xo(),Ko(21,"span",4),Ns(22,"Arrange Columns"),Xo(),Xo(),Xo(),Ko(23,"div",7),Ko(24,"button",11),Ko(25,"mat-icon",9),Ns(26,"cloud_download"),Xo(),Xo(),Ko(27,"label",12),Ns(28,"Download"),Xo(),Xo(),Wo(29,nj,5,1,"div",13),Ko(30,"div",14),Qo(31,"mat-paginator",15),Xo(),Xo(),Ko(32,"div",0),Ko(33,"div",16),Ko(34,"mat-table",17),Wo(35,wj,4,3,"ng-container",18),Wo(36,kj,1,0,"mat-header-row",19),Wo(37,xj,1,0,"mat-row",20),Xo(),Xo(),Xo(),Ko(38,"mat-menu",21,22),Wo(40,Sj,22,0,"ng-template",23),Xo()),2&e){var n=Go(39);pa(1),Yo("ngIf",vu(2,15,t.dataSource.loading$)),pa(2),Yo("ngIf",vu(4,17,t.dataSource.error$)),pa(15),Yo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","gen-gene-table"),pa(6),Yo("matMenuTriggerFor",n),pa(5),Yo("ngIf",t.samplesSelected),pa(2),Yo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",lu(19,Ej)),pa(3),Yo("dataSource",t.dataSource),pa(1),Yo("ngForOf",t.allColumns),pa(1),Yo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",t.displayedColumns)}},directives:[kh,xM,MF,eF,dO,PP,_h,WP,$P,KL,qL,ag,Ng,ym,VP,NP,BP,ZF,QV,LP,qP,ZP,XP],pipes:[Nh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),Cj);function Aj(e,t){return e.length===t.length&&e.every(function(e){return t.includes(e)})}var Tj,Ij,Dj=((Ij=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ij)},Ij.\u0275cmp=ot({type:Ij,selectors:[["app-genetable"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-gene-table-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!0)("showAssembly",!1)("showRepseq",!1))},directives:[eE,Rj],styles:[""]}),Ij),Oj=((Tj=function(){function e(t,n,i){v(this,e),this.httpClient=t,this.systemService=n,this.authService=i,this.config=null,this.sysConfig=new dy(new xk(!0,"","","")),this.init()}return m(e,[{key:"init",value:function(){var e=this;console.log("wordpress init started"),this.authService.sysConfig.subscribe(function(t){console.log("wordpress init got config update"),e.config=t,e.sysConfig.next(t)})}},{key:"fetchNews",value:function(){return this.httpClient.get("".concat(this.config.vdjbase_news,"&per_page=5")).pipe(vk(),H(function(e){var t=[];for(var n in e)t.push([e[n].title.rendered,e[n].link]);return t}),jw(function(e){return Wy(e)}))}},{key:"fetchHelp",value:function(){return this.httpClient.get("".concat(this.config.vdjbase_help,"&per_page=5")).pipe(vk(),H(function(e){var t=[];for(var n in e)t.push([e[n].title.rendered,e[n].link]);return t}),jw(function(e){return Wy(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Tj)(Ei(Fv),Ei(tk),Ei(OC))},Tj.\u0275prov=Ae({token:Tj,factory:Tj.\u0275fac,providedIn:"root"}),Tj);function Pj(e,t){1&e&&(Ko(0,"div",33),Ko(1,"span",34),Ns(2,"Loading..."),Xo(),Xo())}function Mj(e,t){1&e&&(Ko(0,"div",35),Ko(1,"h4"),Ns(2,"Error loading news"),Xo(),Xo())}function Lj(e,t){1&e&&(Ko(0,"p"),Ns(1,"No posts available!"),Xo())}function Fj(e,t){if(1&e&&(Ko(0,"li"),Ko(1,"a",12),Ns(2),Xo(),Xo()),2&e){var n=t.$implicit;pa(1),vs("href",n[1],mr),pa(1),zs(n[0])}}function Nj(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"ul",36),Wo(2,Fj,3,2,"li",37),Xo(),Xo()),2&e){var n=hs();pa(2),Yo("ngForOf",n.loadedNewsPosts)}}function zj(e,t){1&e&&(Ko(0,"div",33),Ko(1,"span",34),Ns(2,"Loading..."),Xo(),Xo())}function Vj(e,t){1&e&&(Ko(0,"div",35),Ko(1,"h4"),Ns(2,"Error loading help"),Xo(),Xo())}function jj(e,t){1&e&&(Ko(0,"p"),Ns(1,"No posts available!"),Xo())}function Bj(e,t){if(1&e&&(Ko(0,"li"),Ko(1,"a",12),Ns(2),Xo(),Xo()),2&e){var n=t.$implicit;pa(1),vs("href",n[1],mr),pa(1),zs(n[0])}}function Hj(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"ul",36),Wo(2,Bj,3,2,"li",37),Xo(),Xo()),2&e){var n=hs();pa(2),Yo("ngForOf",n.loadedHelpPosts)}}var qj,Uj,Wj,Gj,$j,Yj,Zj,Kj,Xj=((qj=function(){function e(t,n){v(this,e),this.wordpressService=t,this.authService=n,this.loadedNewsPosts=[],this.loadingNews=!1,this.errorNews=null,this.loadedHelpPosts=[],this.loadingHelp=!1,this.errorHelp=null,this.wpConfig=new xk(!0,"","","")}return m(e,[{key:"fillNews",value:function(){var e=this;this.loadingNews=!0,this.wordpressService.fetchNews().subscribe(function(t){e.loadedNewsPosts=t,e.loadingNews=!1},function(t){e.errorNews=t,console.log("error in main"),e.loadingNews=!1})}},{key:"fillHelp",value:function(){var e=this;this.loadingHelp=!0,this.wordpressService.fetchHelp().subscribe(function(t){e.loadedHelpPosts=t,e.loadingHelp=!1},function(t){e.errorHelp=t,console.log("error in main"),e.loadingHelp=!1})}},{key:"ngOnInit",value:function(){var e=this;console.log("home ngoninit"),this.wordpressService.sysConfig.subscribe(function(t){console.log("home has an updated config"),""!=t.wp_rest?(e.wpConfig=t,e.fillNews(),e.fillHelp()):console.log("config is empty")},function(t){e.errorHelp=t,console.log("error in main")})}}]),e}()).\u0275fac=function(e){return new(e||qj)($o(Oj),$o(OC))},qj.\u0275cmp=ot({type:qj,selectors:[["app-home"]],decls:118,vars:10,consts:[[1,"container-fluid"],[1,"text-center","py-1","bg-primary","shadow-none",2,"background-image","url(./assets/img/virions.png)","background-position","center","background-size","100%","background-repeat","repeat","height","200px"],[1,"container-fluid",2,"padding-top","1vw","padding-bottom","5vw"],[1,"row","mt-1","mb-5","ml-1","mr-1"],[1,"col-lg-2","col-md-3","col-sm-4","bg-light",2,"border-radius","2vw"],["src","./assets/img/logo_white_2.png",1,"img-fluid","mt-2"],[2,"font-size","0.75rem"],[1,"pl-1","pr-5","pt-5",2,"background-color","#f5f5f5","color","#000000"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"mat-h1"],[3,"href"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],["href","https://doi.org/10.1093/nar/gkz872"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1038/sj.icb.7100144"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1111/imcb.12288"],["href","https://academic.oup.com/nar/article/48/D1/D1051/5585549#"],["routerLink","./datarep"],["routerLink","./user-guide"],["href","./assets/doc/report_documentation.pdf"],["routerLink","./samplerep/null"],["routerLink","./generep"],["routerLink","./genesample/null"],["routerLink","./genetable"],["routerLink","./genebrowser/Human/Human_IGH"],["href","http://yaarilab.com/"],["href","http://shepherd-group.ismb.lon.ac.uk/research.html"],["href","http://yaarilab.com/contact"],["href","mailto:william@lees.org.uk"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"list-unstyled"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"div",2),Ko(3,"div",3),Ko(4,"div",4),Qo(5,"img",5),Ko(6,"p",6),Ns(7,"Immune Receptor Genotypes and Haplotypes"),Xo(),Xo(),Xo(),Xo(),Xo(),Ko(8,"div",7),Ko(9,"div",8),Ko(10,"div",9),Ko(11,"div",10),Ko(12,"div",9),Ko(13,"div",10),Ko(14,"h1",11),Ns(15,"Latest News ("),Ko(16,"a",12),Ns(17,"more"),Xo(),Ns(18,")"),Xo(),Xo(),Xo(),Wo(19,Pj,3,0,"div",13),Wo(20,Mj,3,0,"div",14),Ko(21,"div"),Wo(22,Lj,2,0,"p",15),Wo(23,Nj,3,1,"div",15),Xo(),Xo(),Ko(24,"div",10),Ko(25,"div",9),Ko(26,"div",10),Ko(27,"h1",11),Ns(28,"Help topics ("),Ko(29,"a",12),Ns(30,"more"),Xo(),Ns(31,")"),Xo(),Xo(),Xo(),Wo(32,zj,3,0,"div",13),Wo(33,Vj,3,0,"div",14),Ko(34,"div"),Wo(35,jj,2,0,"p",15),Wo(36,Hj,3,1,"div",15),Xo(),Xo(),Xo(),Ko(37,"div",9),Ko(38,"div",16),Ko(39,"h1",11),Ns(40,"About VDJbase"),Xo(),Xo(),Xo(),Ko(41,"div",9),Ko(42,"div",16),Ko(43,"p"),Ns(44," VDJbase is a database of adaptive immune receptor genes, genotypes and haplotypes. Our core collection is inferred from immune receptor repertoire sequences, as recently described in "),Ko(45,"a",17),Ns(46,"Nucleic Acids Research"),Xo(),Ns(47,". We are also beginning to add genomically derived material. "),Xo(),Ko(48,"p"),Ns(49," Detailed knowledge of these genes, in humans and key research species, is vital to the understanding of the immune response. Current reference sets, widely used in immune repertoire research, are often incomplete. Problems in the "),Ko(50,"a",18),Ns(51,"human"),Xo(),Ns(52," and "),Ko(53,"a",19),Ns(54,"mouse"),Xo(),Ns(55," sets are long-standing. VDJbase allows researchers to consult inferences from many hundreds of samples, allowing a population-level understanding of genes and alleles to be developed, and hitherto unidentified alleles to be described. "),Xo(),Ko(56,"p"),Ns(57," VDJbase provides customisable reports, which allow users to study gene and allele usage in various ways. Reports, and the data underlying them, are provided under open-source licence. If you use VDJbase in your research, please "),Ko(58,"a",20),Ns(59,"cite our paper"),Xo(),Ns(60,". "),Xo(),Ko(61,"p"),Ns(62," From here you can: "),Xo(),Xo(),Xo(),Ko(63,"div",9),Ko(64,"div",16),Ko(65,"ul"),Ko(66,"li"),Ko(67,"a",21),Ns(68,"Explore the data"),Xo(),Ns(69," available in VDJbase today"),Xo(),Ko(70,"li"),Ns(71,"Read our "),Ko(72,"a",22),Ns(73,"user guide"),Xo(),Ns(74," or find more information on "),Ko(75,"a",23),Ns(76,"reports"),Xo(),Xo(),Qo(77,"br"),Ko(78,"li"),Ns(79,"Browse the "),Ko(80,"a",24),Ns(81,"adaptive immune receptor repertore (AIRR) datasets"),Xo(),Xo(),Ko(82,"li"),Ns(83,"Browse "),Ko(84,"a",25),Ns(85,"alleles"),Xo(),Ns(86," identified from the AIRR datasets"),Xo(),Qo(87,"br"),Ko(88,"li"),Ns(89,"Browse the "),Ko(90,"a",26),Ns(91,"genomically-derived datasets"),Xo(),Xo(),Ko(92,"li"),Ns(93,"Browse "),Ko(94,"a",27),Ns(95,"alleles"),Xo(),Ns(96," identified from the genomically-derived datasets"),Xo(),Ko(97,"li"),Ns(98,"View "),Ko(99,"a",28),Ns(100,"alignments"),Xo(),Ns(101," in a genome browser."),Xo(),Xo(),Ko(102,"p"),Ns(103,"All options are also available from the menu at the top of each page."),Xo(),Ko(104,"p"),Ns(105," VDJbase is jointly developed and maintained by members of the "),Ko(106,"a",29),Ns(107,"Yaari Lab"),Xo(),Ns(108," at the Faculty of Engineering at Bar Ilan University, Israel, and the "),Ko(109,"a",30),Ns(110,"Shepherd Group"),Xo(),Ns(111," at the Institute of Structural and Molecular Biology, Birkbeck College, London. It is hosted at Birkbeck. For further information, please contact "),Ko(112,"a",31),Ns(113,"Gur Yaari"),Xo(),Ns(114," or "),Ko(115,"a",32),Ns(116,"William Lees"),Xo(),Ns(117,". "),Xo(),Xo(),Xo(),Xo(),Xo(),Xo()),2&e&&(pa(16),gs("href","",t.wpConfig.wp_news_url,"/index.php/vdjbase_news",mr),pa(3),Yo("ngIf",t.loadingNews),pa(1),Yo("ngIf",t.errorNews),pa(2),Yo("ngIf",t.loadedNewsPosts.length<1&&!t.loadingNews&&!t.errorNews),pa(1),Yo("ngIf",t.loadedNewsPosts.length>=1&&!t.loadingNews),pa(6),gs("href","",t.wpConfig.wp_help_url,"/index.php/vdjbase_help",mr),pa(3),Yo("ngIf",t.loadingHelp),pa(1),Yo("ngIf",t.errorHelp),pa(2),Yo("ngIf",t.loadedHelpPosts.length<1&&!t.loadingHelp&&!t.errorHelp),pa(1),Yo("ngIf",t.loadedHelpPosts.length>=1&&!t.loadingHelp))},directives:[kh,iC,_h],styles:[""]}),qj),Qj={production:!0,apiBasePath:location.protocol+"//"+location.hostname+"/admin/api",igvBasePath:location.protocol+"//"+location.hostname+"/static/study_data/Genomic/samples"},Jj=f("WuQa"),eB=f.n(Jj),tB=["igv"],nB=(($j=function(){function e(t,n,i){v(this,e),this.geneTableService=t,this.route=n,this.authService=i,this.browser=null,this.geneTableServiceSubscription=null,this.authServiceSubscription=null,this.species=null,this.dataset=null,this.assemblyName=null,this.user=null}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.selection=t,e.reconfigureBrowser()}),this.authServiceSubscription=this.authService.user.subscribe(function(t){e.user=t,t.accessToken&&eB.a.setOauthToken(t.accessToken,location.hostname)})}},{key:"ngOnDestroy",value:function(){this.geneTableServiceSubscription.unsubscribe(),this.authServiceSubscription.unsubscribe()}},{key:"reconfigureBrowser",value:function(){this.species=this.selection.species?this.selection.species:null,this.dataset=this.selection.datasets?this.selection.datasets[0]:null,this.assemblyName=this.selection.assemblies.length>0?this.selection.assemblies[0].replace(" ","_"):null,this.browser&&(eB.a.removeBrowser(this.browser),this.browser=null),this.species&&this.dataset&&this.assemblyName&&this.buildBrowser()}},{key:"buildBrowser",value:function(){var e=this;Zy(0),console.log(this.species);var t=Qj.igvBasePath+"/"+this.species.replace(" ","_")+"/"+this.dataset+"/"+this.species.replace(" ","_")+"_"+this.assemblyName;console.log("BuildBrowser: "+t);var n=document.getElementById("igvdiv");eB.a.createBrowser(n,{reference:{id:this.species,fastaURL:t+".fasta",indexURL:t+".fasta.fai"},search:{url:Qj.apiBasePath+"/genomic/feature_pos/"+this.species+"/"+this.dataset+"/"+this.assemblyName+"/$FEATURE$"}}).then(function(n){Zy(0),e.browser=n,e.browser.loadTrack({name:"Genes",type:"annotation",url:t+".gff3",height:100}).then(function(){e.browser.loadTrack({name:"Samples",type:"alignment",format:"bam",url:t+".bam",indexURL:t+".bam.bai",height:500})})})}}]),e}()).\u0275fac=function(e){return new(e||$j)($o(bk),$o(Dx),$o(OC))},$j.\u0275cmp=ot({type:$j,selectors:[["app-gene-browser-panel"]],viewQuery:function(e,t){var n;1&e&&Pu(tB,3),2&e&&Ou(n=Lu())&&(t.igvdiv=n.first)},inputs:{selection:"selection"},decls:3,vars:0,consts:[["id","igvdiv"],["igv",""]],template:function(e,t){1&e&&(Ko(0,"div"),Qo(1,"div",0,1),Xo())},styles:[""]}),$j),iB=((Gj=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Gj)},Gj.\u0275cmp=ot({type:Gj,selectors:[["app-gene-browser"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-gene-browser-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!0)("showAssembly",!0)("showRepseq",!1))},directives:[eE,nB],styles:[""]}),Gj),rB=((Wj=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Wj)},Wj.\u0275mod=ct({type:Wj}),Wj.\u0275inj=Te({imports:[[MR,Bh],MR]}),Wj),aB=((Uj=function e(){v(this,e),this.changes=new V,this.sortButtonLabel=function(e){return"Change sorting for ".concat(e)}}).\u0275fac=function(e){return new(e||Uj)},Uj.\u0275prov=Ae({factory:function(){return new Uj},token:Uj,providedIn:"root"}),Uj),oB={provide:aB,deps:[[new Pi,new Mi,aB]],useFactory:function(e){return e||new aB}},sB=((Kj=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Kj)},Kj.\u0275mod=ct({type:Kj}),Kj.\u0275inj=Te({providers:[oB],imports:[[Bh,MR]]}),Kj),lB=((Zj=function(){function e(){v(this,e),this.cache=new Map}return m(e,[{key:"get",value:function(e){this.cache.get(e.urlWithParams)}},{key:"put",value:function(e,t){var n=this,i=e.url,r={url:i,response:t,lastRead:Date.now()};this.cache.set(i,r);var a=Date.now()-36e5;this.cache.forEach(function(e){e.lastRead<a&&n.cache.delete(e.url)})}}]),e}()).\u0275fac=function(e){return new(e||Zj)},Zj.\u0275prov=Ae({token:Zj,factory:Zj.\u0275fac}),Zj),uB=((Yj=function(){function e(t){v(this,e),this.cache=t}return m(e,[{key:"intercept",value:function(e,t){var n=this.cache.get(e);return n?ov(n):this.sendRequest(e,t,this.cache)}},{key:"sendRequest",value:function(e,t,n){return t.handle(e).pipe(Vy(function(t){t instanceof Sv&&n.put(e,t)}))}}]),e}()).\u0275fac=function(e){return new(e||Yj)(Ei(lB))},Yj.\u0275prov=Ae({token:Yj,factory:Yj.\u0275fac}),Yj),cB=function(){function e(t){v(this,e),this.repseqService=t,this.repSampleSubject=new dy([]),this.choicesSubject=new dy({}),this.loadingSubject=new dy(!1),this.errorSubject=new dy(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return m(e,[{key:"loadRepSamples",value:function(e,t,n,i,r,a,o){var s=this;t=t.split(",").map(function(e){return"Test"===e?"Human_IGH":e}).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSamplesApi(e,t,n,i,r,a,o).pipe(vk(),jw(function(e){return s.errorSubject.next(e),[]}),ck(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("samples")?s.repSampleSubject.next(e.samples):s.repSampleSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSampleSubject.next([]))}},{key:"connect",value:function(e){return this.repSampleSubject.asObservable()}},{key:"disconnect",value:function(e){this.repSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),hB=[{id:"sample_name",name:"Sample name",section:"Sample",hidden:!1,type:"string",size:"small-col",description:"Sample name as allocated by VDJbase",example:""},{id:"reads",name:"VDJbase reads",section:"Sample",hidden:!1,type:"integer",size:"small-col",description:"Reads processed by VDJbase pipeline",example:""},{id:"study_id",name:"Study ID",section:"Study",hidden:!1,type:"string",size:"large-col",description:"Unique ID assigned by study registry",example:"PRJNA001"},{id:"tissue_label",name:"Tissue",section:"TissuePro",hidden:!1,type:"string",size:"small-col",description:"Label of the concept in the respective ontology",example:""},{id:"complete_sequences",name:"Complete sequences",section:"SeqProtocol",hidden:!1,type:"string",size:"small-col",description:'To be considered `complete`, the procedure used for library construction MUST generate sequences that 1) include the first V gene codon that encodes the mature polypeptide chain (i.e. after the leader sequence) and 2) include the last complete codon of the J gene (i.e. 1 bp 5" of the J->C splice site) and 3) provide sequence information for all positions between 1) and 2). To be considered `complete & untemplated`, the sections of the sequences defined in points 1) to 3) of the previous sentence MUST be untemplated, i.e. MUST NOT overlap with the primers used in library preparation. `mixed` should only be used if the procedure used for library construction will likely produce multiple categories of sequences in the given experiment. It SHOULD NOT be used as a replacement of a NULL value.',example:"partial"},{id:"genotype",name:"Genotype report",section:"Sample",hidden:!1,type:"genotype",size:"small-col",description:"Links to genotype reports",example:""},{id:"haplotypes",name:"Haplotype reports",section:"Sample",hidden:!1,type:"haplotype",size:"large-col",description:"Links to haplotype reports",example:""},{id:"repertoire_id",name:"Repertoire ID",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"Identifier for the repertoire object. This identifier should be globally unique so that repertoires from multiple studies can be combined together without conflict. The repertoire_id is used to link other AIRR data to a Repertoire. Specifically, the Rearrangements Schema includes repertoire_id for referencing the specific Repertoire for that Rearrangement.",example:""},{id:"repertoire_name",name:"Repertoire name",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Short generic display name for the repertoire",example:""},{id:"repertoire_description",name:"Repertoire description",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Generic repertoire description",example:""},{id:"sample_processing_id",name:"Sample processing ID",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Identifier for the sample processing object. This field should be unique within the repertoire. This field can be used to uniquely identify the combination of sample, cell processing, nucleic acid processing and sequencing run information for the repertoire.",example:""},{id:"sample_id",name:"Biological sample ID",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Sample ID assigned by submitter, unique within study",example:"SUP52415"},{id:"sample_type",name:"Sample type",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"The way the sample was obtained, e.g. fine-needle aspirate, organ harvest, peripheral venous puncture",example:"Biopsy"},{id:"tissue_id",name:"Tissue ID",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"anatomic_site",name:"Anatomic site",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"The anatomic location of the tissue, e.g. Inguinal, femur",example:"Iliac crest"},{id:"disease_state_sample",name:"Disease state of sample",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Histopathologic evaluation of the sample",example:"Tumor infiltration"},{id:"collection_time_point_relative",name:"Sample collection time",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Time point at which sample was taken, relative to `Collection time event`",example:"14"},{id:"collection_time_point_relative_unit_id",name:"Sample collection time unit",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"collection_time_point_relative_unit_label",name:"Sample collection time unit",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"collection_time_point_reference",name:"Collection time event",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Event in the study schedule to which `Sample collection time` relates to",example:"Primary vaccination"},{id:"biomaterial_provider",name:"Biomaterial provider",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Name and address of the entity providing the sample",example:"Tissues-R-Us, Tampa, FL, USA"},{id:"sequencing_run_id",name:"Batch number",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"ID of sequencing run assigned by the sequencing facility",example:"160101_M01234"},{id:"total_reads_passing_qc_filter",name:"Total reads passing QC filter",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"Number of usable reads for analysis",example:"10365118"},{id:"sequencing_run_date",name:"Date of sequencing run",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"Date of sequencing run",example:"16/12/2016"},{id:"file_type",name:"Raw sequencing data file type",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"File format for the raw reads or sequences",example:""},{id:"filename",name:"Raw sequencing data file name",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"File name for the raw reads or sequences. The first file in paired-read sequencing.",example:"MS10R-NMonson-C7JR9_S1_R1_001.fastq"},{id:"read_direction",name:"Read direction",section:"Sample",hidden:!0,type:"string",size:"small-col",description:"Read direction for the raw reads or sequences. The first file in paired-read sequencing.",example:"forward"},{id:"paired_filename",name:"Paired file name",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"File name for the second file in paired-read sequencing",example:"MS10R-NMonson-C7JR9_S1_R2_001.fastq"},{id:"paired_read_direction",name:"Paired read direction",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Read direction for the second file in paired-read sequencing",example:"reverse"},{id:"igsnper_plot_path",name:"Igsnper plot path",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Path for igsnper plot",example:""},{id:"sample_group",name:"Sample group",section:"Sample",hidden:!0,type:"string",size:"large-col",description:"Sample group",example:""},{id:"study_title",name:"Study title",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Descriptive study title",example:"Effects of sun light exposure of the Treg repertoire"},{id:"study_type_id",name:"Study type ID",section:"Study",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"study_type_label",name:"Study type",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"study_description",name:"Study description",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Generic study description",example:"Longer description"},{id:"inclusion_exclusion_criteria",name:"Inclusion/exclusion criteria",section:"Study",hidden:!0,type:"string",size:"large-col",description:"List of criteria for inclusion/exclusion for the study",example:"Include: Clinical P. falciparum infection; Exclude: Seropositive for HIV"},{id:"grants",name:"Grant funding agency",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Funding agencies and grant numbers",example:"NIH, award number R01GM987654"},{id:"study_contact",name:"Contact information (study)",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Full contact information of the contact persons for this study This should include an e-mail address and a persistent identifier such as an ORCID ID.",example:"Dr. P. Stibbons, p.stibbons@unseenu.edu, https://orcid.org/0000-0002-1825-0097"},{id:"collected_by",name:"Contact  (data collection)",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Full contact information of the data collector, i.e. the person who is legally responsible for data collection and release. This should include an e-mail address.",example:"Dr. P. Stibbons, p.stibbons@unseenu.edu"},{id:"lab_name",name:"Lab name",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Department of data collector",example:"Department for Planar Immunology"},{id:"lab_address",name:"Lab address",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Institution and institutional address of data collector",example:"School of Medicine, Unseen University, Ankh-Morpork, Disk World"},{id:"submitted_by",name:"Contact  (data deposition)",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Full contact information of the data depositor, i.e. the person submitting the data to a repository. This is supposed to be a short-lived and technical role until the submission is relased.",example:"Adrian Turnipseed, a.turnipseed@unseenu.edu"},{id:"pub_ids",name:"Relevant publications",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Publications describing the rationale and/or outcome of the study",example:"PMID:85642"},{id:"keywords_study",name:"Keywords for study",section:"Study",hidden:!0,type:"string",size:"large-col",description:"",example:""},{id:"adc_publish_date",name:"ADC Publish Date",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Date the study was first published in the AIRR Data Commons.",example:"02/02/2021"},{id:"adc_update_date",name:"ADC Update Date",section:"Study",hidden:!0,type:"string",size:"large-col",description:"Date the study data was updated in the AIRR Data Commons.",example:"02/02/2021"},{id:"num_subjects",name:"Subjects",section:"Study",hidden:!0,type:"integer",size:"small-col",description:"Number of subjects in the study",example:""},{id:"num_samples",name:"Samples",section:"Study",hidden:!0,type:"integer",size:"small-col",description:"Number of samples in the study",example:""},{id:"accession_reference",name:"Study Ref",section:"Study",hidden:!0,type:"string",size:"large-col",description:"URL of the study in the registry",example:""},{id:"study_name",name:"Study name",section:"Study",hidden:!0,type:"string",size:"small-col",description:"Study name",example:""},{id:"subject_id",name:"Subject ID",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Subject ID assigned by submitter, unique within study",example:"SUB856413"},{id:"synthetic",name:"Synthetic library",section:"Patient",hidden:!0,type:"boolean",size:"large-col",description:"TRUE for libraries in which the diversity has been synthetically generated (e.g. phage display)",example:""},{id:"species_id",name:"Species ID",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"species_label",name:"Species",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Label of the concept in the respective ontology",example:""},{id:"organism_id",name:"Organism ID",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"organism_label",name:"Organism",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"sex",name:"Sex",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Biological sex of subject",example:"female"},{id:"age_min",name:"Age minimum",section:"Patient",hidden:!0,type:"number",size:"small-col",description:"Specific age or lower boundary of age range.",example:"60"},{id:"age_max",name:"Age maximum",section:"Patient",hidden:!0,type:"number",size:"small-col",description:"Upper boundary of age range or equal to age_min for specific age. This field should only be null if age_min is null.",example:"80"},{id:"age_unit_id",name:"Age unit ID",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"age_unit_label",name:"Age unit",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Label of the concept in the respective ontology",example:""},{id:"age_event",name:"Age event",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Event in the study schedule to which `Age` refers. For NCBI BioSample this MUST be `sampling`. For other implementations submitters need to be aware that there is currently no mechanism to encode to potential delta between `Age event` and `Sample collection time`, hence the chosen events should be in temporal proximity.",example:"enrollment"},{id:"age",name:"Age",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"",example:""},{id:"ancestry_population",name:"Ancestry population",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Broad geographic origin of ancestry (continent)",example:"list of continents, mixed or unknown"},{id:"ethnicity",name:"Ethnicity",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Ethnic group of subject (defined as cultural/language-based membership)",example:"English, Kurds, Manchu, Yakuts (and other fields from Wikipedia)"},{id:"race",name:"Race",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Racial group of subject (as defined by NIH)",example:"White, American Indian or Alaska Native, Black, Asian, Native Hawaiian or Other Pacific Islander, Other"},{id:"strain_name",name:"Strain name",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Non-human designation of the strain or breed of animal used",example:"C57BL/6J"},{id:"linked_subjects",name:"Relation to other subjects",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Subject ID to which `Relation type` refers",example:"SUB1355648"},{id:"link_type",name:"Relation type",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Relation between subject and `linked_subjects`, can be genetic or environmental (e.g.exposure)",example:"father, daughter, household"},{id:"study_group_description",name:"Study group description",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Designation of study arm to which the subject is assigned to",example:"control"},{id:"disease_diagnosis_id",name:"Diagnosis",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"disease_diagnosis_label",name:"Diagnosis",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"disease_length",name:"Length of disease",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Time duration between initial diagnosis and current intervention",example:"23 months"},{id:"disease_stage",name:"Disease stage",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Stage of disease at current intervention",example:"Stage II"},{id:"prior_therapies",name:"Prior therapies",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"List of all relevant previous therapies applied to subject for treatment of `Diagnosis`",example:"melphalan/prednisone"},{id:"immunogen",name:"Immunogen/agent",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Antigen, vaccine or drug applied to subject at this intervention",example:"bortezomib"},{id:"intervention",name:"Intervention definition",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Description of intervention",example:"systemic chemotherapy, 6 cycles, 1.25 mg/m2"},{id:"medical_history",name:"Other relevant medical history",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Medical history of subject that is relevant to assess the course of disease and/or treatment",example:"MGUS, first diagnosed 5 years prior"},{id:"genotype_process",name:"Genotype acquisition process",section:"Patient",hidden:!0,type:"string",size:"large-col",description:"Information on how the genotype was acquired. Controlled vocabulary.",example:"repertoire_sequencing"},{id:"patient_name",name:"Subject name",section:"Patient",hidden:!0,type:"string",size:"small-col",description:"Subject name as allocated by VDJbase",example:""},{id:"tissue_processing",name:"Tissue processing",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Enzymatic digestion and/or physical methods used to isolate cells from sample",example:"Collagenase A/Dnase I digested, followed by Percoll gradient"},{id:"cell_subset_id",name:"Cell subset ID",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"cell_subset_label",name:"Cell subset",section:"TissuePro",hidden:!0,type:"string",size:"small-col",description:"Label of the concept in the respective ontology",example:""},{id:"cell_phenotype",name:"Cell subset phenotype",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"List of cellular markers and their expression levels used to isolate the cell population",example:"CD19+ CD38+ CD27+ IgM- IgD-"},{id:"cell_species_id",name:"Cell species ID",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"cell_species_label",name:"Cell species",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"single_cell",name:"Single-cell sort",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"TRUE if single cells were isolated into separate compartments",example:""},{id:"cell_number",name:"Number of cells in experiment",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Total number of cells that went into the experiment",example:"1000000"},{id:"cells_per_reaction",name:"Cells per  replicate",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Number of cells for each biological replicate",example:"50000"},{id:"cell_storage",name:"Cell storage",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"TRUE if cells were cryo-preserved between isolation and further processing",example:"TRUE"},{id:"cell_quality",name:"Cell quality",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Relative amount of viable cells after preparation and (if applicable) thawing",example:"90% viability as determined by 7-AAD"},{id:"cell_isolation",name:"Isolation / enrichment",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Description of the procedure used for marker-based isolation or enrich cells",example:"Cells were stained with fluorochrome labeled antibodies and then sorted on a FlowMerlin (CE) cytometer."},{id:"cell_processing_protocol",name:"Processing protocol",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Description of the methods applied to the sample including cell preparation/ isolation/enrichment and nucleic acid extraction. This should closely mirror the Materials and methods section in the manuscript.",example:"Stimulated wih anti-CD3/anti-CD28"},{id:"sub_cell_type",name:"Sub Cell Type",section:"TissuePro",hidden:!0,type:"string",size:"large-col",description:"Sub cell type",example:""},{id:"template_class",name:"Target substrate",section:"SeqProtocol",hidden:!0,type:"string",size:"small-col",description:"The class of nucleic acid that was used as primary starting material for the following procedures",example:"RNA"},{id:"template_quality",name:"Target substrate quality",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Description and results of the quality control performed on the template material",example:"RIN 9.2"},{id:"template_amount",name:"Template amount",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Amount of template that went into the process",example:"1000"},{id:"template_amount_unit_id",name:"Template amount unit ID",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"CURIE of the concept, encoding the ontology and the local ID",example:""},{id:"template_amount_unit_label",name:"Template amount unit",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Label of the concept in the respective ontology",example:""},{id:"library_generation_method",name:"Library generation method",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Generic type of library generation",example:"RT(oligo-dT)+TS(UMI)+PCR"},{id:"library_generation_protocol",name:"Library generation protocol",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Description of processes applied to substrate to obtain a library that is ready for sequencing",example:"cDNA was generated using"},{id:"library_generation_kit_version",name:"Protocol IDs",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"When using a library generation protocol from a commercial provider, provide the protocol version number",example:"v2.1 (2016-09-15)"},{id:"pcr_target_locus",name:"Target locus for PCR",section:"SeqProtocol",hidden:!0,type:"string",size:"small-col",description:"Designation of the target locus. Note that this field uses a controlled vocubulary that is meant to provide a generic classification of the locus, not necessarily the correct designation according to a specific nomenclature.",example:"IGK"},{id:"forward_pcr_primer_target_location",name:"Fwd PCR primer target",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Position of the most distal nucleotide templated by the forward primer or primer mix",example:"IGHV, +23"},{id:"reverse_pcr_primer_target_location",name:"Rev PCR primer target",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Position of the most proximal nucleotide templated by the reverse primer or primer mix",example:"IGHG, +57"},{id:"physical_linkage",name:"Physical linkage",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:'In case an experimental setup is used that physically links nucleic acids derived from distinct `Rearrangements` before library preparation, this field describes the mode of that linkage. All `hetero_*` terms indicate that in case of paired-read sequencing, the two reads should be expected to map to distinct IG/TR loci. `*_head-head` refers to techniques that link the 5" ends of transcripts in a single-cell context. `*_tail-head` refers to techniques that link the 3" end of one transcript to the 5" end of another one in a single-cell context. This term does not provide any information whether a continuous reading-frame between the two is generated. `*_prelinked` refers to constructs in which the linkage was already present on the DNA level (e.g. scFv).',example:"hetero_head-head"},{id:"sequencing_platform",name:"Sequencing platform",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Designation of sequencing instrument used",example:"Alumina LoSeq 1000"},{id:"sequencing_facility",name:"Sequencing facility",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Name and address of sequencing facility",example:"Seqs-R-Us, Vancouver, BC, Canada"},{id:"sequencing_kit",name:"Sequencing kit",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Name, manufacturer, order and lot numbers of sequencing kit",example:"FullSeq 600, Alumina, #M123456C0, 789G1HK"},{id:"read_length",name:"Forward read length",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Read length in bases for the first file in paired-read sequencing",example:"300"},{id:"paired_read_length",name:"Paired read length",section:"SeqProtocol",hidden:!0,type:"string",size:"large-col",description:"Read length in bases for the second file in paired-read sequencing",example:"300"},{id:"data_processing_id",name:"Data processing ID",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"Identifier for the data processing object.",example:""},{id:"primary_annotation",name:"Primary annotation",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"If true, indicates this is the primary or default data processing for the repertoire and its rearrangements. If false, indicates this is a secondary or additional data processing.",example:""},{id:"software_versions",name:"Software tools",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"Version number and / or date, include company pipelines",example:"IgBLAST 1.6"},{id:"paired_reads_assembly",name:"Paired read assembly",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"How paired end reads were assembled into a single receptor sequence",example:"PandaSeq (minimal overlap 50, threshold 0.8)"},{id:"quality_thresholds",name:"Quality thresholds",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"How sequences were removed from (4) based on base quality scores",example:"Average Phred score >=20"},{id:"primer_match_cutoffs",name:"Primer match cutoffs",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"How primers were identified in the sequences, were they removed/masked/etc?",example:"Hamming distance <= 2"},{id:"collapsing_method",name:"Collapsing method",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"The method used for combining multiple sequences from (4) into a single sequence in (5)",example:"MUSCLE 3.8.31"},{id:"data_processing_protocols",name:"Data processing protocols",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"General description of how QC is performed",example:"Data was processed using [...]"},{id:"data_processing_files",name:"Processed data file names",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"",example:""},{id:"germline_database",name:"V(D)J germline reference",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"Source of germline V(D)J genes with version number or date accessed.",example:"ENSEMBL, Homo sapiens build 90, 2017-10-01"},{id:"analysis_provenance_id",name:"Analysis provenance ID",section:"DataPro",hidden:!0,type:"string",size:"large-col",description:"Identifier for machine-readable PROV model of analysis provenance",example:""},{id:"prepro_tool",name:"Preprocessing tool",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Preprocessing tool",example:"PRESTO"},{id:"aligner_tool",name:"Aligner tool",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Aligner tool",example:"IgBLAST"},{id:"aligner_ver",name:"Aligner version",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Aligner version",example:"1.18"},{id:"aligner_reference_v",name:"Aligner ref V",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Aligner ref V",example:"IMGT full - version 2021-06-06"},{id:"aligner_reference_d",name:"Aligner ref D",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Aligner ref D",example:"IMGT full - version 2021-06-06"},{id:"aligner_reference_j",name:"Aligner ref J",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Aligner ref J",example:"IMGT full - version 2021-06-06"},{id:"geno_tool",name:"Genotyping tool",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Genotyping tool",example:"TIgGER"},{id:"geno_ver",name:"Genotyping tool version",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Genotyping tool version",example:"1.2"},{id:"haplotype_tool",name:"Haplotyping tool",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Haplotyping tool",example:"RabHIT"},{id:"haplotype_ver",name:"Haplotyping tool version",section:"GenoDetection",hidden:!0,type:"string",size:"large-col",description:"Haplotyping tool version",example:"1.2"},{id:"single_assignment",name:"Single assignment",section:"GenoDetection",hidden:!0,type:"boolean",size:"large-col",description:"TRUE if the processed reads are restricted to those that have a single V_call",example:"TRUE"},{id:"sample_basis",name:"Sample basis",section:"GenoDetection",hidden:!0,type:"string",size:"small-col",description:"Repertoire or germline",example:"Germline"}];function dB(e,t){1&e&&(Ko(0,"div",3),Ko(1,"span",4),Ns(2,"Loading..."),Xo(),Xo())}function fB(e,t){if(1&e&&(Ko(0,"div",5),Ko(1,"div",6),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(n.error)}}function pB(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"ul"),Ko(2,"span",20),Ns(3),Xo(),Ko(4,"a",21),Qo(5,"i",22),Xo(),Xo(),Xo()),2&e){var n=hs(3).$implicit,i=hs(3);pa(2),vs("matTooltip",n.description),pa(1),Vs("",n.name,":"),pa(1),vs("href",i.sampleInfo[n.id],mr)}}function vB(e,t){if(1&e&&(Ko(0,"ul"),Ko(1,"span",20),Ns(2),Xo(),Ns(3),Xo()),2&e){var n=hs(3).$implicit,i=hs(3);pa(1),vs("matTooltip",n.description),pa(1),Vs("",n.name,":"),pa(1),Vs(" ",i.sampleInfo[n.id],"")}}function gB(e,t){if(1&e&&(Ko(0,"div"),Wo(1,pB,6,3,"div",17),Wo(2,vB,4,3,"ng-template",null,19,Vu),Xo()),2&e){var n=Go(3),i=hs(2).$implicit,r=hs(3);pa(1),Yo("ngIf","string"===i.type&&r.sampleInfo[i.id].startsWith("http"))("ngIfElse",n)}}function mB(e,t){if(1&e&&(Ko(0,"ul"),Ko(1,"span",20),Ns(2),Xo(),Xo()),2&e){var n=hs(2).$implicit;pa(1),vs("matTooltip",n.description),pa(1),Vs("",n.name,":")}}function yB(e,t){if(1&e&&(Ko(0,"div"),Wo(1,gB,4,2,"div",17),Wo(2,mB,3,2,"ng-template",null,18,Vu),Xo()),2&e){var n=Go(3),i=hs().$implicit,r=hs(3);pa(1),Yo("ngIf",r.sampleInfo[i.id])("ngIfElse",n)}}function bB(e,t){if(1&e&&(Ko(0,"div"),Wo(1,yB,4,2,"div",2),Xo()),2&e){var n=t.$implicit,i=hs().$implicit;pa(1),Yo("ngIf",n.section===i)}}function _B(e,t){if(1&e&&(Jo(0),Ko(1,"div",16),Ko(2,"h4"),Ko(3,"b"),Ns(4),Xo(),Xo(),Wo(5,bB,2,1,"div",13),Xo(),es()),2&e){var n=t.$implicit,i=hs(2);pa(4),zs(n),pa(1),Yo("ngForOf",i.allColumns)}}var wB=function(){return["Study","Sample","Patient","TissuePro","SeqProtocol","DataPro","GenoDetection"]};function kB(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",7),Ko(2,"h3",8),Ns(3),Xo(),Ko(4,"button",9),os("click",function(){return Zt(n),hs().activeModal.dismiss("Cross click")}),Ko(5,"span",10),Ns(6,"\xd7"),Xo(),Xo(),Xo(),Ko(7,"div",11),Ko(8,"div",12),Ko(9,"div",6),Wo(10,_B,6,2,"ng-container",13),Xo(),Xo(),Xo(),Ko(11,"div",14),Ko(12,"button",15),os("click",function(){return Zt(n),hs().activeModal.close("Close click")}),Ns(13,"Close"),Xo(),Xo(),es()}if(2&e){var i=hs();pa(3),Vs("Sample Details - ",i.sampleName,""),pa(7),Yo("ngForOf",lu(2,wB))}}var xB,SB,CB,EB,RB=((EB=function(){function e(t,n,i){v(this,e),this.activeModal=t,this.modalService=n,this.repseqService=i,this.loading=!1,this.error=null,this.sampleInfo=null,this.allColumns=hB}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.error=null,this.repseqService.getSampleInfoApi(this.species,this.dataset,this.sampleName).pipe(vk(),jw(function(t){return e.error.next(t),[]}),ck(function(){e.loading=!1})).subscribe(function(t){e.sampleInfo=t})}}]),e}()).\u0275fac=function(e){return new(e||EB)($o(C_),$o(I_),$o(ek))},EB.\u0275cmp=ot({type:EB,selectors:[["app-sample-rep-info"]],inputs:{sampleName:"sampleName",species:"species",dataset:"dataset"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"col-4"],[4,"ngIf","ngIfElse"],["nullVal",""],["plainVal",""],["matTooltipClass","digby-table-tooltip",2,"font-weight","500",3,"matTooltip"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"]],template:function(e,t){1&e&&(Wo(0,dB,3,0,"div",0),Wo(1,fB,6,1,"div",1),Wo(2,kB,14,3,"ng-container",2)),2&e&&(Yo("ngIf",t.loading),pa(1),Yo("ngIf",t.error),pa(1),Yo("ngIf",!t.loading&&!t.error))},directives:[kh,_h,YD],styles:["h4,ul{margin-bottom:.2rem!important}h4{margin-top:1rem!important}.cdk-overlay-container{font-size:14px!important;z-index:1100!important}.digby-table-tooltip{font-size:14px}"],encapsulation:2}),EB),AB=((CB=function e(){v(this,e),this.selection=new dy({names:[],onlySelected:!1}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:CB,factory:CB.\u0275fac=function(e){return new(e||CB)},providedIn:"root"}),CB),TB=((SB=function e(){v(this,e),this.selection=new dy({ids:[]}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:SB,factory:SB.\u0275fac=function(e){return new(e||SB)},providedIn:"root"}),SB),IB=((xB=function e(){v(this,e),this.selection=new dy({filters:[]}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:xB,factory:xB.\u0275fac=function(e){return new(e||xB)},providedIn:"root"}),xB),DB=["searchBox"];function OB(e,t){1&e&&(Ko(0,"div",29),Ko(1,"span",30),Ns(2,"Loading..."),Xo(),Xo())}function PB(e,t){if(1&e&&(Ko(0,"div",31),Ko(1,"div",0),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),pu(6,"async"),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(vu(6,1,n.dataSource.error$))}}function MB(e,t){if(1&e){var n=ns();Ko(0,"div",3),Ko(1,"div",32),Ko(2,"input",33),os("ngModelChange",function(e){return Zt(n),hs().isSelectedSamplesChecked=e})("change",function(){return Zt(n),hs().onSelectedSamplesChange()}),Xo(),Ko(3,"label",34),Ns(4," Only samples with selected genes "),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(2),Yo("ngModel",i.isSelectedSamplesChecked)}}var LB=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function FB(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",40,41),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,LB)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function NB(e,t){if(1&e){var n=ns();Ko(0,"mat-cell",42),os("click",function(){Zt(n);var e=t.$implicit;return hs(3).showInfo(e)}),Ns(1),Xo()}if(2&e){var i=t.$implicit,r=hs(2).$implicit;Cs(r.size),pa(1),Vs(" ",i[r.id]," ")}}function zB(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,FB,4,12,"mat-header-cell",37),Wo(3,NB,2,4,"mat-cell",38),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function VB(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",44,41),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(10,LB)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function jB(e,t){if(1&e&&(Jo(0),Ko(1,"a",45),Qo(2,"i",46),Xo(),es()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(1),vs("href",n[i.id],mr)}}function BB(e,t){if(1&e&&(Jo(0),Ns(1),es()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(1),Vs(" ",n[i.id]," ")}}function HB(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,jB,3,1,"ng-container",35),Wo(2,BB,2,1,"ng-container",35),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id]&&n[i.id].startsWith("http")),pa(1),Yo("ngIf",!n[i.id]||!n[i.id].startsWith("http"))}}function qB(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,VB,4,11,"mat-header-cell",37),Wo(3,HB,3,5,"mat-cell",43),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function UB(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",40,41),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,LB)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.NUMBER_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function WB(e,t){if(1&e&&(Ko(0,"mat-cell"),Ns(1),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),zs(n[i.id])}}function GB(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,UB,4,12,"mat-header-cell",37),Wo(3,WB,2,4,"mat-cell",43),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function $B(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",40,41),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,LB)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.BOOL_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function YB(e,t){1&e&&Qo(0,"i",48)}function ZB(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,YB,1,0,"i",47),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id])}}function KB(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,$B,4,12,"mat-header-cell",37),Wo(3,ZB,2,4,"mat-cell",43),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function XB(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Xo()}if(2&e){var i=hs(2).$implicit;Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(6,LB)),pa(1),Vs(" ",i.name," ")}}var QB=function(e){return{sample:e}};function JB(e,t){if(1&e&&(Ko(0,"mat-cell"),Ko(1,"button",49),Qo(2,"i",50),Xo(),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;hs();var r=Go(42);Cs(i.size),pa(1),Yo("matMenuTriggerFor",r)("matMenuTriggerData",uu(5,QB,n))}}function eH(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,XB,2,7,"mat-header-cell",37),Wo(3,JB,3,7,"mat-cell",43),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function tH(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",39),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Xo()}if(2&e){var i=hs(2).$implicit;Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(6,LB)),pa(1),Vs(" ",i.name," ")}}var nH=function(e,t){return{sample:e,haplo:t}};function iH(e,t){if(1&e&&(Jo(0),Ko(1,"div",52),Ko(2,"button",53),Ns(3),Xo(),Xo(),es()),2&e){var n=hs().$implicit,i=hs(2).$implicit;hs(3);var r=Go(39);pa(2),Yo("matMenuTriggerFor",r)("matMenuTriggerData",cu(3,nH,i,n.key)),pa(1),Vs(" ",n.key," ")}}function rH(e,t){if(1&e&&(Ko(0,"div"),Wo(1,iH,4,6,"ng-container",35),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngIf","path"!==n.key)}}function aH(e,t){if(1&e&&(Ko(0,"div"),Ko(1,"div",51),Ko(2,"div",0),Wo(3,rH,2,1,"div",21),pu(4,"keyvalue"),Xo(),Xo(),Xo()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(3),Yo("ngForOf",vu(4,1,n[i.id]))}}function oH(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,aH,5,3,"div",35),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id])}}function sH(e,t){if(1&e&&(Jo(0),Jo(1,36),Wo(2,tH,2,7,"mat-header-cell",37),Wo(3,oH,2,4,"mat-cell",43),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function lH(e,t){if(1&e&&(Jo(0),Wo(1,zB,4,1,"ng-container",35),Wo(2,qB,4,1,"ng-container",35),Wo(3,GB,4,1,"ng-container",35),Wo(4,KB,4,1,"ng-container",35),Wo(5,eH,4,1,"ng-container",35),Wo(6,sH,4,1,"ng-container",35),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf","string"===n.type&&"sample_name"===n.id),pa(1),Yo("ngIf","string"===n.type&&"sample_name"!==n.id),pa(1),Yo("ngIf","integer"===n.type||"number"===n.type),pa(1),Yo("ngIf","boolean"===n.type),pa(1),Yo("ngIf","genotype"===n.type),pa(1),Yo("ngIf","haplotype"===n.type)}}function uH(e,t){1&e&&Qo(0,"mat-header-row")}function cH(e,t){1&e&&Qo(0,"mat-row")}function hH(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ko(3,"button",60),os("click",function(){Zt(n);var e=hs(),t=e.sample,i=e.haplo;return hs().sendReportRequest("rep_single_haplotype","pdf",t.haplotypes[i].analysis)}),Qo(4,"i",61),Xo(),Ko(5,"span"),Ns(6,"\xa0\xa0"),Xo(),Ko(7,"button",60),os("click",function(){Zt(n);var e=hs(),t=e.sample,i=e.haplo;return hs().sendReportRequest("rep_single_haplotype","html",t.haplotypes[i].analysis)}),Qo(8,"i",59),Xo(),es()}}function dH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function fH(e,t){if(1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ko(3,"a",62),Qo(4,"i",63),Xo(),es()),2&e){var n=hs(),i=n.sample,r=n.haplo;pa(3),vs("href",i.haplotypes.path+i.haplotypes[r].rabhit,mr),vs("download",i.sample_name+"_rabhit.tab")}}function pH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function vH(e,t){if(1&e&&(Ko(0,"div",51),Ko(1,"div",54),Ko(2,"b"),Ns(3),Xo(),Xo(),Ko(4,"div",55),Ns(5),Xo(),Ko(6,"div",56),Ns(7," Haplotype Analysis "),Wo(8,hH,9,0,"ng-container",35),Wo(9,dH,4,0,"ng-container",35),Xo(),Ko(10,"div",57),Ns(11," RabHIT report "),Wo(12,fH,5,2,"ng-container",35),Wo(13,pH,4,0,"ng-container",35),Xo(),Ko(14,"div",55),Ns(15," RAbHIT explained "),Ko(16,"span"),Ns(17,"\xa0\xa0"),Xo(),Ko(18,"a",58),Qo(19,"i",59),Xo(),Xo(),Xo()),2&e){var n=t.sample,i=t.haplo;pa(3),zs(n.sample_name),pa(2),Vs(" Inferred haplotype using ",i," as anchor "),pa(3),Yo("ngIf",n.haplotypes[i].analysis.length>0),pa(1),Yo("ngIf",0===n.haplotypes[i].analysis.length),pa(3),Yo("ngIf",n.haplotypes[i].rabhit.length>0),pa(1),Yo("ngIf",0===n.haplotypes[i].rabhit.length)}}function gH(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ko(3,"button",60),os("click",function(){Zt(n);var e=hs().sample;return hs().sendReportRequest("rep_single_genotype","pdf",e.genotypes.analysis)}),Qo(4,"i",61),Xo(),Ko(5,"span"),Ns(6,"\xa0\xa0"),Xo(),Ko(7,"button",60),os("click",function(){Zt(n);var e=hs().sample;return hs().sendReportRequest("rep_single_genotype","html",e.genotypes.analysis)}),Qo(8,"i",59),Xo(),es()}}function mH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function yH(e,t){if(1&e&&(Jo(0),Ko(1,"a",62),Qo(2,"i",63),Xo(),es()),2&e){var n=hs().sample;pa(1),vs("href",n.genotypes.path+n.genotypes.tigger,mr),vs("download",n.sample_name+"_tigger.tab")}}function bH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function _H(e,t){if(1&e&&(Jo(0),Ko(1,"a",62),Qo(2,"i",63),Xo(),es()),2&e){var n=hs().sample;pa(1),vs("href",n.genotypes.path+n.genotypes.ogrdbstats,mr),vs("download",n.sample_name+"_ogrdbstats.csv")}}function wH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function kH(e,t){if(1&e&&(Jo(0),Ko(1,"a",62),Qo(2,"i",61),Xo(),es()),2&e){var n=hs().sample;pa(1),vs("href",n.genotypes.path+n.genotypes.ogrdbplot,mr),vs("download",n.sample_name+"_ogrdbplot.pdf")}}function xH(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function SH(e,t){if(1&e&&(Ko(0,"div",51),Ko(1,"div",54),Ko(2,"b"),Ns(3),Xo(),Xo(),Ko(4,"div",55),Ns(5," Inferred genotype "),Xo(),Ko(6,"div",64),Ns(7," Genotype Analysis "),Wo(8,gH,9,0,"ng-container",35),Wo(9,mH,4,0,"ng-container",35),Xo(),Ko(10,"div",64),Ns(11," TIgGER report "),Ko(12,"span"),Ns(13,"\xa0\xa0"),Xo(),Wo(14,yH,3,2,"ng-container",35),Wo(15,bH,4,0,"ng-container",35),Xo(),Ko(16,"div",64),Ns(17," OGRDBStats report "),Ko(18,"span"),Ns(19,"\xa0\xa0"),Xo(),Wo(20,_H,3,2,"ng-container",35),Wo(21,wH,4,0,"ng-container",35),Xo(),Ko(22,"div",64),Ns(23," OGRDBStats plots "),Ko(24,"span"),Ns(25,"\xa0\xa0"),Xo(),Wo(26,kH,3,2,"ng-container",35),Wo(27,xH,4,0,"ng-container",35),Xo(),Ko(28,"div",55),Ns(29," TIgGER explained "),Ko(30,"span"),Ns(31,"\xa0\xa0"),Xo(),Ko(32,"a",65),Qo(33,"i",59),Xo(),Xo(),Ko(34,"div",55),Ns(35," OGRDBstats explained "),Ko(36,"span"),Ns(37,"\xa0\xa0"),Xo(),Ko(38,"a",66),Qo(39,"i",59),Xo(),Xo(),Xo()),2&e){var n=t.sample;pa(3),zs(n.sample_name),pa(5),Yo("ngIf",n.genotypes.analysis.length>0),pa(1),Yo("ngIf",0===n.genotypes.analysis.length),pa(5),Yo("ngIf",n.genotypes.tigger.length>0),pa(1),Yo("ngIf",0===n.genotypes.tigger.length),pa(5),Yo("ngIf",n.genotypes.ogrdbstats.length>0),pa(1),Yo("ngIf",0===n.genotypes.ogrdbstats.length),pa(5),Yo("ngIf",n.genotypes.ogrdbplot.length>0),pa(1),Yo("ngIf",0===n.genotypes.ogrdbplot.length)}}function CH(e,t){if(1&e){var n=ns();Ko(0,"div",51),Ko(1,"div",54),Ko(2,"b"),Ns(3,"Download data for selected samples"),Xo(),Xo(),Ko(4,"div",56),Ns(5," Sample info (csv) "),Ko(6,"span"),Ns(7,"\xa0\xa0"),Xo(),Ko(8,"button",60),os("click",function(){return Zt(n),hs().sendReportRequest("download_rep_data","csv",{type:"Sample info (CSV)"})}),Qo(9,"i",61),Xo(),Xo(),Ko(10,"div",56),Ns(11," Sample data (zip) "),Ko(12,"span"),Ns(13,"\xa0\xa0"),Xo(),Ko(14,"button",60),os("click",function(){return Zt(n),hs().sendReportRequest("download_rep_data","zip",{type:"Sample files (ZIP)"})}),Qo(15,"i",67),Xo(),Xo(),Xo()}}var EH,RH,AH,TH,IH,DH,OH=function(){return[25,50,100,250]},PH=((TH=function(){function e(t,n,i,r,a,o,s,l,u,c,h,d){v(this,e),this.repseqService=t,this.geneTableService=n,this.modalService=i,this.repGeneSelectedService=r,this.repSampleSelectedService=a,this.repSampleFilterService=o,this.tableParamsStorageService=s,this.reportsService=l,this.httpClient=u,this.route=c,this.reportRunService=h,this.router=d,this.displayedColumns=["sample_name","reads","lab_name","study_id","tissue_label","genotype","haplotypes"],this.allColumns=hB,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.repGeneSelectedServiceSubscription=null,this.filterModeEnum=iM,this.filters=[],this.sorts=[],this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.choices$Subscription=null,this.loading$Subscription=null,this.resizeEvents=new Map,this.clearSubject=new dy(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new dy(null),this.setFilter$=this.setFilterSubject.asObservable()}return m(e,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-sample-table-widths"),this.dataSource=new cB(this.repseqService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage()}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.repSampleSelectedService.selection.next(e.filters.length>0&&!e.isSelectedSamplesChecked?{ids:t.names_by_dataset}:{ids:[]})}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.repGeneSelectedServiceSubscription=e.repGeneSelectedService.source.subscribe(function(t){var n,i;(n=e.selectedSequenceNames).length===(i=t.names).length&&n.every(function(e){return i.includes(e)})?console.log("---"):(e.selectedSequenceNames=t.names,e.isSelectedSamplesChecked&&0===e.selectedSequenceNames.length?e.isSelectedSamplesChecked=!1:t.onlySelected&&(e.isSelectedSamplesChecked=!0),e.onSelectedSamplesChange())}),e.router.events.subscribe(function(t){t instanceof Tk&&e.applyResizes()})}),Xm(this.searchBox.nativeElement,"keyup").pipe(H(function(e){return e.target.value}),lE(1e3),Py()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedSamplesChange",value:function(){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.repSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var n,i=d(e.predicates);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.op&&this.filters.push(r)}}catch(o){i.e(o)}finally{i.f()}for(var a=this.sorts.length-1;a>=0;a--)this.sorts[a].field===e.field&&this.sorts.splice(a,1);e.sort.order&&this.sorts.push(e.sort),this.repSampleFilterService.selection.next({filters:this.filters}),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var t=function(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.delete(a)}}catch(o){r.e(o)}finally{r.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!t.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!t.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadRepSamples(this.selection.species,this.selection.repSeqs.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showInfo",value:function(e){var t=this.modalService.open(RB,{size:"xl"});t.componentInstance.sampleName=e.sample_name,t.componentInstance.species=this.selection.species,t.componentInstance.dataset=e.dataset}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}},{key:"applyResizes",value:function(){var e,t=d(this.resizeEvents);try{for(t.s();!(e=t.n()).done;){var i=n(e.value,2),r=i[0],a=i[1];this.updateColumnWidth(r,a)}}catch(o){t.e(o)}finally{t.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),i=0;i<n.length;i++)n[i].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var i,r=[],a=this.selection.repSeqs,o="";"rep_single_haplotype"===e?(o="Haplotype Report",r=[{field:"sample_name",op:"in",value:[(n=JSON.parse(n)).name]}],i={haplo_gene:n.hap_gene,sort_order:n.sort_order},a=n.repSeqs):"rep_single_genotype"===e?(o="Genotype Report",r=[{field:"sample_name",op:"in",value:[(n=JSON.parse(n)).name]}],i={sort_order:n.sort_order},a=n.repSeqs):"download_rep_data"===e&&(o="Download Data",i=n,r=this.filters),this.reportRunService.runReport({name:e,title:o,filter_params:[]},t,this.selection.species,[],[],a,r,i)}}]),e}()).\u0275fac=function(e){return new(e||TH)($o(ek),$o(bk),$o(I_),$o(AB),$o(TB),$o(IB),$o(rM),$o(Jw),$o(Fv),$o(Dx),$o(wk),$o(tC))},TH.\u0275cmp=ot({type:TH,selectors:[["app-sample-rep-panel"]],viewQuery:function(e,t){var n;1&e&&(Pu(dO,1),Pu(PP,1),Pu(DB,3)),2&e&&(Ou(n=Lu())&&(t.paginator=n.first),Ou(n=Lu())&&(t.table=n.first),Ou(n=Lu())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[il([rM])],decls:47,vars:20,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["id","deleteButton",2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["for","deleteButton",1,"form-check-label"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],[4,"ngFor","ngForOf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["haploMenu","matMenu"],["matMenuContent",""],["genoMenu","matMenu"],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[4,"ngIf"],[3,"matColumnDef"],["mwlResizable","",3,"class","enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"class","click",4,"matCellDef"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"click"],[3,"class",4,"matCellDef"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],[1,"container"],[1,"col-xs-6"],[1,"btn","btn-secondary","btn-sm","mr-1",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"row","ml-4","mr-2","mb-4"],["href","https://pubmed.ncbi.nlm.nih.gov/31173062","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[3,"href","download"],[1,"fa","fa-save",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],["href","https://pubmed.ncbi.nlm.nih.gov/30814994","target","_blank"],["href","https://github.com/airr-community/ogrdbstats","target","_blank"],[1,"fa","fa-file-zip-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Ko(0,"div",0),Wo(1,OB,3,0,"div",1),pu(2,"async"),Wo(3,PB,7,3,"div",2),pu(4,"async"),Xo(),Ko(5,"div",0),Ko(6,"div",3),Ko(7,"span",4),Ns(8,"Quick search:\xa0"),Xo(),Qo(9,"input",5,6),Xo(),Ko(11,"div",7),Ko(12,"button",8),os("click",function(){return t.clearSelection()}),Ko(13,"mat-icon",9),Ns(14,"delete_sweep"),Xo(),Xo(),Ko(15,"label",10),Ns(16,"Clear filters"),Xo(),Xo(),Ko(17,"div",7),Ko(18,"button",11),os("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Ko(19,"mat-icon",12),Ns(20,"view_column"),Xo(),Xo(),Ko(21,"label",13),Ns(22,"Arrange Columns"),Xo(),Xo(),Ko(23,"div",7),Ko(24,"button",14),Ko(25,"mat-icon",9),Ns(26,"cloud_download"),Xo(),Xo(),Ko(27,"label",15),Ns(28,"Download"),Xo(),Xo(),Wo(29,MB,5,1,"div",16),Ko(30,"div",17),Qo(31,"mat-paginator",18),Xo(),Xo(),Ko(32,"div",0),Ko(33,"div",19),Ko(34,"mat-table",20),Wo(35,lH,7,6,"ng-container",21),Wo(36,uH,1,0,"mat-header-row",22),Wo(37,cH,1,0,"mat-row",23),Xo(),Xo(),Xo(),Ko(38,"mat-menu",24,25),Wo(40,vH,20,6,"ng-template",26),Xo(),Ko(41,"mat-menu",24,27),Wo(43,SH,40,9,"ng-template",26),Xo(),Ko(44,"mat-menu",24,28),Wo(46,CH,16,0,"ng-template",26),Xo()),2&e){var n=Go(45);pa(1),Yo("ngIf",vu(2,15,t.dataSource.loading$)),pa(2),Yo("ngIf",vu(4,17,t.dataSource.error$)),pa(15),Yo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-sample-table"),pa(6),Yo("matMenuTriggerFor",n),pa(5),Yo("ngIf",t.selectedSequenceNames.length),pa(2),Yo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",lu(19,OH)),pa(3),Yo("dataSource",t.dataSource),pa(1),Yo("ngForOf",t.allColumns),pa(1),Yo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",t.displayedColumns)}},directives:[kh,xM,MF,eF,dO,PP,_h,WP,$P,KL,qL,ag,Ng,ym,VP,NP,LP,BP,ZF,QV,qP,ZP,XP],pipes:[Nh,zh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.addr{color:#007bff!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}"],encapsulation:2}),TH),MH=((AH=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||AH)},AH.\u0275cmp=ot({type:AH,selectors:[["app-sample-rep"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-sample-rep-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[eE,PH],styles:[""]}),AH),LH=((RH=function e(){v(this,e)}).\u0275fac=function(e){return new(e||RH)},RH.\u0275mod=ct({type:RH}),RH.\u0275inj=Te({imports:[[MR],MR]}),RH),FH=((EH=function e(){v(this,e)}).\u0275fac=function(e){return new(e||EH)},EH.\u0275mod=ct({type:EH}),EH.\u0275inj=Te({providers:[uA,{provide:BR,useValue:"fr-FR"}],imports:[[Bh,$m,Ym,nF,tM,oN,SF,rB,SM,LH,BA,oD,OD,sB,vV,uA,gw,KV]]}),EH),NH=[{id:"name",name:"Name",hidden:!1,type:"string",size:"large-col",description:"Allele name (reference allele name with SNPs in VDJbase format)"},{id:"gene_name",name:"Gene Name",hidden:!0,type:"string",size:"large-col",description:"Reference gene name"},{id:"pipeline_name",name:"Pipeline Alias",hidden:!0,type:"string",size:"large-col",description:"Processing pipeline name"},{id:"seq",name:"Sequence",hidden:!1,type:"string",size:"small-col",description:"Sequence (click to see in full)"},{id:"seq_len",name:"Seq Length",hidden:!1,type:"integer",size:"small-col",description:"Sequence length"},{id:"similar",name:"Similar",hidden:!1,type:"string",size:"large-col",description:"Names of any other alleles with identical sequence"},{id:"appears",name:"Appearances",hidden:!1,type:"integer",size:"small-col",description:"Number of subjects in which the allele has been inferred (click for list)"},{id:"is_single_allele",name:"Single Allele",hidden:!1,type:"boolean",size:"small-col",description:"True if no other alleles in the reference set have the same sequence"},{id:"low_confidence",name:"Low Confidence",hidden:!1,type:"boolean",size:"small-col",description:"True if the inference of this allele has low confidence markers (see notes)"},{id:"novel",name:"Novel",hidden:!1,type:"boolean",size:"small-col",description:"True if this allele is not in the reference set used by the pipeline"},{id:"max_kdiff",name:"Max kDiff",hidden:!1,type:"number",size:"small-col",description:"The maximum kdiff value with which this allele was inferred, amongst the samples in which it was found"},{id:"dataset",name:"Dataset",hidden:!1,type:"string",size:"small-col",description:"The dataset in which the allele was determined"},{id:"notes_count",name:"Notes",hidden:!1,type:"integer",size:"small-col",description:"The number of notes raised for this allele across all samples in which it was found (click for list)"}],zH=function(){function e(t){v(this,e),this.repseqService=t,this.repSequenceSubject=new dy([]),this.choicesSubject=new dy({}),this.loadingSubject=new dy(!1),this.errorSubject=new dy(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return m(e,[{key:"loadRepSequences",value:function(e,t,n,i,r,a,o){var s=this;t=t.split(",").map(function(e){return"Test"===e?"Human_IGH":e}).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSequencesApi(e,t,r,a,n,i,o).pipe(vk(),jw(function(e){return s.errorSubject.next(e),[]}),ck(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("samples")?s.repSequenceSubject.next(e.samples):s.repSequenceSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSequenceSubject.next([]))}},{key:"connect",value:function(e){return this.repSequenceSubject.asObservable()}},{key:"disconnect",value:function(e){this.repSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),VH=((DH=function(){function e(t){v(this,e),this.sanitizer=t}return m(e,[{key:"transform",value:function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: ".concat(t))}}}]),e}()).\u0275fac=function(e){return new(e||DH)($o(Ad))},DH.\u0275pipe=ft({name:"safe",type:DH,pure:!0}),DH),jH=((IH=function(){function e(t,n){v(this,e),this.activeModal=t,this.sanitizer=n}return m(e,[{key:"ngOnInit",value:function(){this.notes=this.notes.replace(/\n/g,"<br><br>")}}]),e}()).\u0275fac=function(e){return new(e||IH)($o(C_),$o(Ad))},IH.\u0275cmp=ot({type:IH,selectors:[["app-rep-gene-notes"]],inputs:{notes:"notes",sequenceName:"sequenceName"},decls:13,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Jo(0),Ko(1,"div",0),Ko(2,"h3",1),Ns(3),Xo(),Ko(4,"button",2),os("click",function(){return t.activeModal.dismiss("Cross click")}),Ko(5,"span",3),Ns(6,"\xd7"),Xo(),Xo(),Xo(),Ko(7,"div",4),Qo(8,"div",5),pu(9,"safe"),Xo(),Ko(10,"div",6),Ko(11,"button",7),os("click",function(){return t.activeModal.close("Close click")}),Ns(12,"Close"),Xo(),Xo(),es()),2&e&&(pa(3),Vs("Sequence Notes - ",t.sequenceName,""),pa(5),Yo("innerHTML",gu(9,2,t.notes,"html"),gr))},pipes:[VH],styles:[""],encapsulation:2}),IH),BH=["searchBox"];function HH(e,t){1&e&&(Ko(0,"div",25),Ko(1,"span",26),Ns(2,"Loading..."),Xo(),Xo())}function qH(e,t){if(1&e&&(Ko(0,"div",27),Ko(1,"div",0),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),pu(6,"async"),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(vu(6,1,n.dataSource.error$))}}function UH(e,t){if(1&e){var n=ns();Ko(0,"div",3),Ko(1,"div",28),Ko(2,"input",29),os("ngModelChange",function(e){return Zt(n),hs().isSelectedGenesChecked=e})("change",function(){return Zt(n),hs().onSelectedIdsChange()}),Xo(),Ko(3,"label",30),Ns(4," Only genes from selected samples "),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(2),Yo("ngModel",i.isSelectedGenesChecked)}}function WH(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",36,37),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function GH(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",38,37),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}var $H=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function YH(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",35),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Wo(2,WH,3,5,"div",31),Wo(3,GH,3,4,"div",31),Xo()}if(2&e){var i=hs(2).$implicit;Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(8,$H)),pa(1),Vs(" ",i.name," "),pa(1),Yo("ngIf","name"===i.id),pa(1),Yo("ngIf","name"!==i.id)}}function ZH(e,t){if(1&e){var n=ns();Ko(0,"div",41),os("click",function(){Zt(n);var e=hs().$implicit;return hs(3).onSequenceClick(e)}),Ns(1),Xo()}if(2&e){var i=hs().$implicit,r=hs(2).$implicit;pa(1),Vs(" ",i[r.id]," ")}}function KH(e,t){if(1&e){var n=ns();Ko(0,"div",42),os("click",function(){Zt(n);var e=hs().$implicit;return hs(3).onSequenceClick(e)}),Ns(1),Xo()}if(2&e){var i=hs().$implicit,r=hs(2).$implicit;pa(1),Vs(" ",i[r.id]," ")}}function XH(e,t){if(1&e&&(Ko(0,"div"),Ns(1),Xo()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(1),Vs(" ",n[i.id]," ")}}function QH(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,ZH,2,1,"div",39),Wo(2,KH,2,1,"div",40),Wo(3,XH,2,1,"div",31),Xo()),2&e){var n=hs(2).$implicit;Cs(n.size),pa(1),Yo("ngIf","name"===n.id),pa(1),Yo("ngIf","seq"===n.id),pa(1),Yo("ngIf",!("name"===n.id||"seq"===n.id))}}function JH(e,t){if(1&e&&(Jo(0),Jo(1,32),Wo(2,YH,4,9,"mat-header-cell",33),Wo(3,QH,4,6,"mat-cell",34),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function eq(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",35),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",36,37),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,$H)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.NUMBER_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function tq(e,t){if(1&e){var n=ns();Ko(0,"div",41),os("click",function(){Zt(n);var e=hs().$implicit;return hs(3).onAppearancesClick(e)}),Ns(1),Xo()}if(2&e){var i=hs().$implicit,r=hs(2).$implicit;pa(1),Vs(" ",i[r.id]," ")}}function nq(e,t){if(1&e){var n=ns();Ko(0,"div",41),os("click",function(){Zt(n);var e=hs().$implicit;return hs(3).showNotes(e)}),Ns(1),Xo()}if(2&e){var i=hs().$implicit,r=hs(2).$implicit;pa(1),Vs(" ",i[r.id]," ")}}function iq(e,t){if(1&e&&(Ko(0,"div"),Ns(1),Xo()),2&e){var n=hs().$implicit,i=hs(2).$implicit;pa(1),Vs(" ",n[i.id]," ")}}function rq(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,tq,2,1,"div",39),Wo(2,nq,2,1,"div",39),Wo(3,iq,2,1,"div",31),Xo()),2&e){var n=hs(2).$implicit;Cs(n.size),pa(1),Yo("ngIf","appears"===n.id),pa(1),Yo("ngIf","notesCount"===n.id),pa(1),Yo("ngIf","appears"!==n.id&&"notes_count"!=n.id)}}function aq(e,t){if(1&e&&(Jo(0),Jo(1,32),Wo(2,eq,4,12,"mat-header-cell",33),Wo(3,rq,4,6,"mat-cell",34),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function oq(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",35),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",36,37),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,$H)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.BOOL_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function sq(e,t){1&e&&Qo(0,"i",44)}function lq(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,sq,1,0,"i",43),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id])}}function uq(e,t){if(1&e&&(Jo(0),Jo(1,32),Wo(2,oq,4,12,"mat-header-cell",33),Wo(3,lq,2,4,"mat-cell",34),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function cq(e,t){if(1&e&&(Jo(0),Wo(1,JH,4,1,"ng-container",31),Wo(2,aq,4,1,"ng-container",31),Wo(3,uq,4,1,"ng-container",31),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf","string"===n.type),pa(1),Yo("ngIf","integer"===n.type||"number"===n.type),pa(1),Yo("ngIf","boolean"===n.type)}}function hq(e,t){1&e&&Qo(0,"mat-header-row",45)}function dq(e,t){1&e&&Qo(0,"mat-row")}function fq(e,t){if(1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ko(3,"a",51),Qo(4,"i",50),Xo(),es()),2&e){var n=hs().seq;pa(3),vs("href",n.igsnper_plot_path,mr)}}function pq(e,t){1&e&&(Jo(0),Ko(1,"span"),Ns(2,"\xa0\xa0"),Xo(),Ns(3,"Not available "),es())}function vq(e,t){if(1&e&&(Ko(0,"div",46),Ko(1,"div",47),Ko(2,"b"),Ns(3),Xo(),Xo(),Ko(4,"div",48),Ns(5," IgSNPer Analysis "),Wo(6,fq,5,1,"ng-container",31),Wo(7,pq,4,0,"ng-container",31),Xo(),Ko(8,"div",48),Ns(9," IgSNPer explained "),Ko(10,"span"),Ns(11,"\xa0\xa0"),Xo(),Ko(12,"a",49),Qo(13,"i",50),Xo(),Xo(),Xo()),2&e){var n=t.seq;pa(3),Vs("",n.gene_name," allelic variation"),pa(3),Yo("ngIf",n.igsnper_plot_path.length>0),pa(1),Yo("ngIf",0===n.igsnper_plot_path.length)}}function gq(e,t){if(1&e){var n=ns();Ko(0,"div",46),Ko(1,"div",47),Ko(2,"b"),Ns(3,"Download data for selected genes"),Xo(),Xo(),Ko(4,"div",52),Ns(5," Ungapped sequences (fasta) "),Ko(6,"span"),Ns(7,"\xa0\xa0"),Xo(),Ko(8,"button",53),os("click",function(){return Zt(n),hs().sendReportRequest("download_rep_data","fasta",{type:"Ungapped sequences (fasta)"})}),Qo(9,"i",54),Xo(),Xo(),Ko(10,"div",52),Ns(11," Gapped sequences (fasta) "),Ko(12,"span"),Ns(13,"\xa0\xa0"),Xo(),Ko(14,"button",53),os("click",function(){return Zt(n),hs().sendReportRequest("download_rep_data","fasta",{type:"Gapped sequences (fasta)"})}),Qo(15,"i",54),Xo(),Xo(),Ko(16,"div",52),Ns(17," Gene information (csv) "),Ko(18,"span"),Ns(19,"\xa0\xa0"),Xo(),Ko(20,"button",53),os("click",function(){return Zt(n),hs().sendReportRequest("download_rep_data","csv",{type:"Gene information (csv)"})}),Qo(21,"i",54),Xo(),Xo(),Xo()}}var mq,yq=function(){return[25,50,100,250]},bq=((mq=function(){function e(t,n,i,r,a,o,s,l,u){var c=this;v(this,e),this.repseqService=t,this.geneTableService=n,this.modalService=i,this.repGeneSelectedService=r,this.repSampleSelectedService=a,this.tableParamsStorageService=o,this.router=s,this.reportRunService=l,this.route=u,this.displayedColumns=["name","pipeline_name","seq","seq_len","similar","appears","is_single_allele","low_confidence","novel","max_kdiff"],this.allColumns=NH,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=iM,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSampleIds=[],this.isSelectedGenesChecked=!1,this.repSampleSelectedServiceSubscription=null,this.resizeEvents=new Map,this.samplesSelected=!1,this.clearSubject=new dy(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new dy(null),this.setFilter$=this.setFilterSubject.asObservable(),this.redirectOnLoad=null,this.onlySelectedSamplesSet=!1,this.params=null,this.paramState="pre selection",this.route.params.subscribe(function(e){return c.params=e})}return m(e,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-gene-table-widths"),this.dataSource=new zH(this.repseqService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.repSampleSelectedServiceSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.paramState="pre selection",e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){t.species&&t.repSeqs&&(e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage())}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.filters.length>0&&!e.isSelectedGenesChecked?e.repGeneSelectedService.selection.next({names:t.name,onlySelected:e.onlySelectedSamplesSet}):(e.onlySelectedSamplesSet=!1,e.repGeneSelectedService.selection.next({names:[],onlySelected:e.onlySelectedSamplesSet}))}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){if(!t&&(e.applyResizes(),e.redirectOnLoad)){var n=e.redirectOnLoad;e.redirectOnLoad=null,e.router.navigate(n)}}),e.repSampleSelectedServiceSubscription=e.repSampleSelectedService.source.subscribe(function(t){var n,i;n=t.ids,i=e.selectedSampleIds,_q(Object.keys(n),Object.keys(i))&&Object.keys(n).every(function(e){return _q(n[e],i[e])})||(e.selectedSampleIds=t.ids,e.samplesSelected=Object.keys(e.selectedSampleIds).length>0,e.isSelectedGenesChecked&&(e.samplesSelected||(e.isSelectedGenesChecked=!1),e.onSelectedIdsChange()))}),e.router.events.subscribe(function(t){t instanceof Tk&&e.applyResizes()}),setTimeout(function(){void 0!==e.params.species&&"pre selection"==e.paramState&&(e.paramState="post selection",e.geneTableService.selection.next({species:e.params.species,datasets:e.selection.datasets,assemblies:e.selection.assemblies,repSeqs:[e.params.dataset],repDatasetDescriptions:e.selection.repDatasetDescriptions}),setTimeout(function(){e.searchBox.nativeElement.value=e.params.alleleName,e.quickSearch(e.params.alleleName)},2e3))},2e3)}),Xm(this.searchBox.nativeElement,"keyup").pipe(H(function(e){return e.target.value}),lE(750),Py()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedIdsChange",value:function(){this.applyFilter(this.isSelectedGenesChecked&&this.samplesSelected?{field:"sample_id",predicates:[{field:"sample_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"sample_id",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var n,i=d(e.predicates);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.op&&this.filters.push(r)}}catch(o){i.e(o)}finally{i.f()}for(var a=this.sorts.length-1;a>=0;a--)this.sorts[a].field===e.field&&this.sorts.splice(a,1);e.sort.order&&this.sorts.push(e.sort),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var t=function(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.delete(a)}}catch(o){r.e(o)}finally{r.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!t.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!t.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadRepSequences(this.selection.species,this.selection.repSeqs.join(),JSON.stringify(this.filters),JSON.stringify(this.sorts),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showNotes",value:function(e){var t=this.modalService.open(jH,{size:"lg"});t.componentInstance.sequenceName=e.name,t.componentInstance.notes=e.notes}},{key:"onSequenceClick",value:function(e){var t=this.modalService.open(aE,{size:"lg"});t.componentInstance.name=e.name,t.componentInstance.content=e.seq.indexOf(".")<0?{ungapped:e.seq,gapped:""}:{ungapped:e.seq.replace(/\./g,""),gapped:e.seq}}},{key:"onAppearancesClick",value:function(e){this.onlySelectedSamplesSet=!0,this.redirectOnLoad=["./samplerep","true"],this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"",postfix:""},op1:e.name,op2:""})}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-gene-table-widths")}}},{key:"applyResizes",value:function(){var e,t=d(this.resizeEvents);try{for(t.s();!(e=t.n()).done;){var i=n(e.value,2),r=i[0],a=i[1];this.updateColumnWidth(r,a)}}catch(o){t.e(o)}finally{t.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),i=0;i<n.length;i++)n[i].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var i=this.selection.repSeqs;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,[],[],i,[],n)}}]),e}()).\u0275fac=function(e){return new(e||mq)($o(ek),$o(bk),$o(I_),$o(AB),$o(TB),$o(rM),$o(tC),$o(wk),$o(Dx))},mq.\u0275cmp=ot({type:mq,selectors:[["app-rep-gene-table-panel"]],viewQuery:function(e,t){var n;1&e&&(Pu(dO,1),Pu(PP,1),Pu(BH,3)),2&e&&(Ou(n=Lu())&&(t.paginator=n.first),Ou(n=Lu())&&(t.table=n.first),Ou(n=Lu())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[il([rM])],decls:44,vars:20,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],[4,"ngFor","ngForOf"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["geneMenu","matMenu"],["matMenuContent",""],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[4,"ngIf"],[3,"matColumnDef"],["mwlResizable","",3,"class","enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"class",4,"matCellDef"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],[3,"click",4,"ngIf"],["class","mat-ellipsis",3,"click",4,"ngIf"],[3,"click"],[1,"mat-ellipsis",3,"click"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"mat-elevation-z1"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],["href","https://github.com/Immunotools/IgSNPer","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],["target","_blank",3,"href"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-text-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Ko(0,"div",0),Wo(1,HH,3,0,"div",1),pu(2,"async"),Wo(3,qH,7,3,"div",2),pu(4,"async"),Xo(),Ko(5,"div",0),Ko(6,"div",3),Ko(7,"span",4),Ns(8,"Quick search:\xa0"),Xo(),Qo(9,"input",5,6),Xo(),Ko(11,"div",7),Ko(12,"button",8),os("click",function(){return t.clearSelection()}),Ko(13,"mat-icon",9),Ns(14,"delete_sweep"),Xo(),Ko(15,"span",4),Ns(16,"Clear filters"),Xo(),Xo(),Xo(),Ko(17,"div",7),Ko(18,"button",10),os("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Ko(19,"mat-icon",9),Ns(20,"view_column"),Xo(),Ko(21,"span",4),Ns(22,"Arrange Columns"),Xo(),Xo(),Xo(),Ko(23,"div",7),Ko(24,"button",11),Ko(25,"mat-icon",9),Ns(26,"cloud_download"),Xo(),Xo(),Ko(27,"label",12),Ns(28,"Download"),Xo(),Xo(),Wo(29,UH,5,1,"div",13),Ko(30,"div",14),Qo(31,"mat-paginator",15),Xo(),Xo(),Ko(32,"div",0),Ko(33,"div",16),Ko(34,"mat-table",17),Wo(35,cq,4,3,"ng-container",18),Wo(36,hq,1,0,"mat-header-row",19),Wo(37,dq,1,0,"mat-row",20),Xo(),Xo(),Xo(),Ko(38,"mat-menu",21,22),Wo(40,vq,14,3,"ng-template",23),Xo(),Ko(41,"mat-menu",21,24),Wo(43,gq,22,0,"ng-template",23),Xo()),2&e){var n=Go(42);pa(1),Yo("ngIf",vu(2,15,t.dataSource.loading$)),pa(2),Yo("ngIf",vu(4,17,t.dataSource.error$)),pa(15),Yo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-gene-table"),pa(6),Yo("matMenuTriggerFor",n),pa(5),Yo("ngIf",t.samplesSelected),pa(2),Yo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",lu(19,yq)),pa(3),Yo("dataSource",t.dataSource),pa(1),Yo("ngForOf",t.allColumns),pa(1),Yo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",t.displayedColumns)}},directives:[kh,xM,MF,eF,dO,PP,_h,WP,$P,KL,qL,ag,Ng,ym,VP,NP,LP,BP,ZF,QV,qP,ZP,XP],pipes:[Nh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}"],encapsulation:2}),mq);function _q(e,t){return e.length===t.length&&e.every(function(e){return t.includes(e)})}var wq,kq=((wq=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||wq)},wq.\u0275cmp=ot({type:wq,selectors:[["app-rep-gene-table"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-rep-gene-table-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[eE,bq],styles:[""]}),wq),xq=function(){function e(t){v(this,e),this.genomicService=t,this.genSampleSubject=new dy([]),this.choicesSubject=new dy({}),this.loadingSubject=new dy(!1),this.errorSubject=new dy(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return m(e,[{key:"loadGenSamples",value:function(e,t,n,i,r,a,o){var s=this;this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSubjectsApi(e,t,n,i,r,a,o).pipe(vk(),jw(function(e){return s.errorSubject.next(e),[]}),ck(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),e&&e.hasOwnProperty("samples")?s.genSampleSubject.next(e.samples):s.genSampleSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.genSampleSubject.next([]))}},{key:"connect",value:function(e){return this.genSampleSubject.asObservable()}},{key:"disconnect",value:function(e){this.genSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),Sq=[{id:"identifier",name:"Identifier",hidden:!1,type:"string",size:"small-col",description:"VDJbase identifier"},{id:"name_in_study",name:"Name in Study",hidden:!0,type:"string",size:"small-col",description:"Name or identifier of subject used on original study"},{id:"age",name:"Age",hidden:!0,type:"number",size:"small-col",description:"Subject age at time of study"},{id:"sex",name:"Sex",hidden:!0,type:"string",size:"small-col",description:"Subject sex"},{id:"ethnicity",name:"Ethnicity",hidden:!0,type:"string",size:"small-col",description:"Declared ethnicity"},{id:"sequencing_platform",name:"Sequencing Platform",hidden:!0,type:"string",size:"small-col",description:"Sequencing platform used with this sample"},{id:"capture_probes",name:"Capture Probes",hidden:!0,type:"string",size:"small-col",description:"Version of capture probes used with this sample"},{id:"annotation_path",name:"Report",hidden:!1,type:"string",size:"small-col",description:"Annotation report"},{id:"annotation_method",name:"Annotation Method",hidden:!1,type:"string",size:"large-col",description:"Tool used for annotaiton"},{id:"annotation_format",name:"Annotation Format",hidden:!0,type:"number",size:"small-col",description:"Subject age at time of study"},{id:"annotation_reference",name:"Annotation Ref",hidden:!0,type:"string",size:"small-col",description:"Format of annotation report"},{id:"study_name",name:"Study Name",hidden:!1,type:"string",size:"large-col",description:"Name of the study as used by the authors"},{id:"study_date",name:"Study Date",hidden:!1,type:"string",size:"small-col",description:"Date of the study"},{id:"study_description",name:"Study Description",hidden:!1,type:"string",size:"large-col",description:"Brief description of the study"},{id:"institute",name:"Institute",hidden:!1,type:"string",size:"large-col",description:"Institution issuing the study"},{id:"researcher",name:"Researcher",hidden:!0,type:"string",size:"large-col",description:"Researcher issuing the study"},{id:"contact",name:"Contact",hidden:!0,type:"string",size:"large-col",description:"Contact name for the study"},{id:"reference",name:"Reference",hidden:!0,type:"string",size:"large-col",description:"Link to reference for the study"},{id:"dataset",name:"Dataset",hidden:!0,type:"string",size:"small-col",description:"The dataset in which the allele was determined"},{id:"IGHV4_59_coverage",name:"IGHV4-59 Coverage",hidden:!0,type:"number",size:"small-col",description:"IGHV4-59 Coverage"},{id:"IGHV4_59_coverage_var",name:"IGHV4-59 Coverage Variance",hidden:!0,type:"number",size:"small-col",description:"IGHV4-59 Coverage variance"},{id:"IGH_coverage",name:"IGH Coverage",hidden:!0,type:"number",size:"small-col",description:"IGH coverage"}];function Cq(e,t){1&e&&(Ko(0,"div",3),Ko(1,"span",4),Ns(2,"Loading..."),Xo(),Xo())}function Eq(e,t){if(1&e&&(Ko(0,"div",5),Ko(1,"div",6),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(n.error)}}function Rq(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"div",7),Ko(2,"h3",8),Ns(3),Xo(),Ko(4,"button",9),os("click",function(){return Zt(n),hs().activeModal.dismiss("Cross click")}),Ko(5,"span",10),Ns(6,"\xd7"),Xo(),Xo(),Xo(),Ko(7,"div",11),Ko(8,"div",12),Ko(9,"div",6),Ko(10,"div",13),Ko(11,"h4"),Ns(12,"Study"),Xo(),Ko(13,"ul"),Ns(14),Xo(),Ko(15,"ul"),Ns(16),Xo(),Ko(17,"ul"),Ns(18),Xo(),Ko(19,"ul"),Ns(20,"Publication: "),Ko(21,"a",14),Qo(22,"i",15),Xo(),Xo(),Ko(23,"ul"),Ns(24),Xo(),Xo(),Xo(),Ko(25,"div",6),Ko(26,"div",13),Ko(27,"h4"),Ns(28,"Subject"),Xo(),Ko(29,"ul"),Ns(30),Xo(),Ko(31,"ul"),Ns(32),Xo(),Ko(33,"ul"),Ns(34),Xo(),Xo(),Xo(),Xo(),Xo(),Ko(35,"div",16),Ko(36,"button",17),os("click",function(){return Zt(n),hs().activeModal.close("Close click")}),Ns(37,"Close"),Xo(),Xo(),es()}if(2&e){var i=hs();pa(3),Vs("Sample Details - ",i.sampleInfo.identifier,""),pa(11),Vs("Institute: ",i.sampleInfo.institute,""),pa(2),Vs("Researcher: ",i.sampleInfo.researcher,""),pa(2),Vs("Study Description: ",i.sampleInfo.study_description,""),pa(3),vs("href",i.sampleInfo.reference,mr),pa(3),Vs("Contact Info: ",i.sampleInfo.contact,""),pa(6),Vs("Name in Study: ",i.sampleInfo.name_in_study,""),pa(2),Vs("Age: ",i.sampleInfo.sample_age,""),pa(2),Vs("Sex: ",i.sampleInfo.sex,"")}}var Aq,Tq,Iq=((Tq=function(){function e(t,n,i){v(this,e),this.activeModal=t,this.modalService=n,this.genSampleService=i,this.loading=!1,this.error=null,this.sampleInfo=null}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.error=null,this.genSampleService.getSubjectInfoApi(this.species,this.dataset,this.subjectName).pipe(vk(),jw(function(t){return e.error.next(t),[]}),ck(function(){e.loading=!1})).subscribe(function(t){e.sampleInfo=t})}}]),e}()).\u0275fac=function(e){return new(e||Tq)($o(C_),$o(I_),$o(Qw))},Tq.\u0275cmp=ot({type:Tq,selectors:[["app-gen-sample-info"]],inputs:{subjectName:"subjectName",species:"species",dataset:"dataset"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"col-sm"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Wo(0,Cq,3,0,"div",0),Wo(1,Eq,6,1,"div",1),Wo(2,Rq,38,9,"ng-container",2)),2&e&&(Yo("ngIf",t.loading),pa(1),Yo("ngIf",t.error),pa(1),Yo("ngIf",!t.loading&&!t.error))},directives:[kh],styles:[""]}),Tq),Dq=((Aq=function e(){v(this,e),this.selection=new dy({filters:[]}),this.source=this.selection.asObservable()}).\u0275prov=Ae({token:Aq,factory:Aq.\u0275fac=function(e){return new(e||Aq)},providedIn:"root"}),Aq),Oq=["searchBox"];function Pq(e,t){1&e&&(Ko(0,"div",28),Ko(1,"span",29),Ns(2,"Loading..."),Xo(),Xo())}function Mq(e,t){if(1&e&&(Ko(0,"div",30),Ko(1,"div",0),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),pu(6,"async"),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(vu(6,1,n.dataSource.error$))}}function Lq(e,t){if(1&e){var n=ns();Ko(0,"div",3),Ko(1,"div",31),Ko(2,"input",32),os("ngModelChange",function(e){return Zt(n),hs().isSelectedSamplesChecked=e})("change",function(){return Zt(n),hs().onSelectedSamplesChange()}),Xo(),Ko(3,"label",33),Ns(4," Only records with selected genes "),Xo(),Xo(),Xo()}if(2&e){var i=hs();pa(2),Yo("ngModel",i.isSelectedSamplesChecked)}}function Fq(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",38,39),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function Nq(e,t){if(1&e){var n=ns();Ko(0,"div"),Ko(1,"app-filter",40,39),os("predicateEmitter",function(e){return Zt(n),hs(4).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(3).$implicit,r=hs();pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}var zq=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function Vq(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",37),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Wo(2,Fq,3,5,"div",34),Wo(3,Nq,3,4,"div",34),Xo()}if(2&e){var i=hs(2).$implicit;Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(8,zq)),pa(1),Vs(" ",i.name," "),pa(1),Yo("ngIf","identifier"===i.id),pa(1),Yo("ngIf","identifier"!==i.id)}}var jq=function(e){return{sample:e}};function Bq(e,t){if(1&e&&(Jo(0),Ko(1,"button",43),Qo(2,"i",44),Xo(),es()),2&e){var n=hs().$implicit;hs(4);var i=Go(39);pa(1),Yo("matMenuTriggerFor",i)("matMenuTriggerData",uu(2,jq,n))}}function Hq(e,t){1&e&&(Jo(0),Ns(1," NA "),es())}function qq(e,t){if(1&e&&(Ko(0,"mat-cell",42),Wo(1,Bq,3,4,"ng-container",34),Wo(2,Hq,2,0,"ng-container",34),Xo()),2&e){var n=t.$implicit,i=hs(3).$implicit;pa(1),Yo("ngIf",n[i.id].length>0),pa(1),Yo("ngIf",0===n[i.id].length)}}function Uq(e,t){1&e&&(Ko(0,"div"),Wo(1,qq,3,2,"mat-cell",41),Xo())}function Wq(e,t){if(1&e&&(Jo(0),Ko(1,"a",46),Qo(2,"i",47),Xo(),es()),2&e){var n=hs().$implicit,i=hs(3).$implicit;pa(1),vs("href",n[i.id],mr)}}function Gq(e,t){if(1&e&&(Jo(0),Ns(1),es()),2&e){var n=hs().$implicit,i=hs(3).$implicit;pa(1),Vs(" ",n[i.id]," ")}}function $q(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,Wq,3,1,"ng-container",34),Wo(2,Gq,2,1,"ng-container",34),Xo()),2&e){var n=t.$implicit,i=hs(3).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id]&&n[i.id].startsWith("http")),pa(1),Yo("ngIf",!(n[i.id]&&n[i.id].startsWith("http")))}}function Yq(e,t){1&e&&(Ko(0,"div"),Wo(1,$q,3,5,"mat-cell",45),Xo())}function Zq(e,t){if(1&e&&(Jo(0),Jo(1,35),Wo(2,Vq,4,9,"mat-header-cell",36),Wo(3,Uq,2,0,"div",34),Wo(4,Yq,2,0,"div",34),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id),pa(2),Yo("ngIf","annotation_path"===n.id),pa(1),Yo("ngIf","report"!==n.id)}}function Kq(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",37),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",38,39),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,zq)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.NUMBER_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function Xq(e,t){if(1&e&&(Ko(0,"mat-cell"),Ns(1),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Vs(" ",n[i.id]," ")}}function Qq(e,t){if(1&e&&(Jo(0),Jo(1,35),Wo(2,Kq,4,12,"mat-header-cell",36),Wo(3,Xq,2,4,"mat-cell",45),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function Jq(e,t){if(1&e){var n=ns();Ko(0,"mat-header-cell",37),os("resizeEnd",function(e){Zt(n);var t=hs(2).$implicit;return hs().onResizeEnd(e,t.id)}),Ns(1),Ko(2,"app-filter",38,39),os("predicateEmitter",function(e){return Zt(n),hs(3).applyFilter(e)}),Xo(),Xo()}if(2&e){var i=hs(2).$implicit,r=hs();Cs(i.size),Yo("enableGhostResize",!0)("resizeEdges",lu(11,zq)),pa(1),Vs(" ",i.name," "),pa(1),Yo("columnName",i.id)("filterMode",r.filterModeEnum.BOOL_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function eU(e,t){1&e&&Qo(0,"i",49)}function tU(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,eU,1,0,"i",48),Xo()),2&e){var n=t.$implicit,i=hs(2).$implicit;Cs(i.size),pa(1),Yo("ngIf",n[i.id])}}function nU(e,t){if(1&e&&(Jo(0),Jo(1,35),Wo(2,Jq,4,12,"mat-header-cell",36),Wo(3,tU,2,4,"mat-cell",45),es(),es()),2&e){var n=hs().$implicit;pa(1),vs("matColumnDef",n.id)}}function iU(e,t){if(1&e&&(Jo(0),Wo(1,Zq,5,3,"ng-container",34),Wo(2,Qq,4,1,"ng-container",34),Wo(3,nU,4,1,"ng-container",34),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf","string"===n.type),pa(1),Yo("ngIf","integer"===n.type||"number"===n.type),pa(1),Yo("ngIf","boolean"===n.type)}}function rU(e,t){1&e&&Qo(0,"mat-header-row")}function aU(e,t){1&e&&Qo(0,"mat-row")}function oU(e,t){if(1&e&&(Jo(0),Ko(1,"div",52),Ns(2," IGenotyper Report "),Xo(),Ko(3,"div",53),Ns(4," Genotype Analysis"),Ko(5,"span"),Ns(6,"\xa0\xa0"),Xo(),Ko(7,"a",54),Qo(8,"i",55),Xo(),Xo(),es()),2&e){var n=hs().sample;pa(7),vs("href",n.annotation_path,mr)}}function sU(e,t){if(1&e&&(Jo(0),Ko(1,"div",56),Ns(2," VDJbase Annotation Report "),Xo(),Ko(3,"div",53),Ns(4," Features"),Ko(5,"span"),Ns(6,"\xa0\xa0"),Xo(),Ko(7,"a",54),Qo(8,"i",57),Xo(),Xo(),Ko(9,"div",58),Ns(10," Documentation"),Ko(11,"span"),Ns(12,"\xa0\xa0"),Xo(),Ko(13,"a",54),Qo(14,"i",55),Xo(),Xo(),es()),2&e){var n=hs().sample;pa(7),vs("href",n.annotation_path,mr),pa(6),vs("href",n.annotation_reference,mr)}}function lU(e,t){if(1&e&&(Ko(0,"div",50),Ko(1,"div",51),Ko(2,"b"),Ns(3),Xo(),Xo(),Wo(4,oU,9,1,"ng-container",34),Wo(5,sU,15,2,"ng-container",34),Xo()),2&e){var n=t.sample;pa(3),zs(n.name),pa(1),Yo("ngIf","IGenotyper"==n.annotation_method),pa(1),Yo("ngIf","VDJbase"==n.annotation_method)}}function uU(e,t){if(1&e){var n=ns();Ko(0,"div",50),Ko(1,"div",51),Ko(2,"b"),Ns(3,"Download data for selected samples"),Xo(),Xo(),Ko(4,"div",53),Ns(5," Sample info (csv) "),Ko(6,"span"),Ns(7,"\xa0\xa0"),Xo(),Ko(8,"button",59),os("click",function(){return Zt(n),hs().sendReportRequest("download_gen_data","csv",{type:"Sample info (CSV)"})}),Qo(9,"i",60),Xo(),Xo(),Ko(10,"div",53),Ns(11," Sample data (zip) "),Ko(12,"span"),Ns(13,"\xa0\xa0"),Xo(),Ko(14,"button",59),os("click",function(){return Zt(n),hs().sendReportRequest("download_gen_data","zip",{type:"Sample files (ZIP)"})}),Qo(15,"i",61),Xo(),Xo(),Xo()}}var cU,hU,dU=function(){return[25,50,100,250]},fU=((hU=function(){function e(t,n,i,r,a,o,s,l,u,c){v(this,e),this.genSampleService=t,this.geneTableService=n,this.modalService=i,this.genGeneSelectedService=r,this.genSampleSelectedService=a,this.genSampleFilterService=o,this.tableParamsStorageService=s,this.route=l,this.reportRunService=u,this.router=c,this.displayedColumns=["identifier","name_in_study","age","sex","annotation_path","annotation_method","annotation_format","annotation_reference","study_name","study_date","study_description","researcher","reference","contact","dataset"],this.allColumns=Sq,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.genGeneSelectedServiceSubscription=null,this.filterModeEnum=iM,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.resizeEvents=new Map,this.clearSubject=new dy(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new dy(null),this.setFilter$=this.setFilterSubject.asObservable()}return m(e,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-sample-table-widths"),this.dataSource=new xq(this.genSampleService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage()}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.genSampleSelectedService.selection.next(e.filters.length>0&&!e.isSelectedSamplesChecked?{ids:t.names_by_dataset}:{ids:[]})}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.genGeneSelectedServiceSubscription=e.genGeneSelectedService.source.subscribe(function(t){e.selectedSequenceNames=t.names,e.isSelectedSamplesChecked&&0===e.selectedSequenceNames.length?e.isSelectedSamplesChecked=!1:t.onlySelected&&(e.isSelectedSamplesChecked=!0),e.onSelectedSamplesChange()}),e.router.events.subscribe(function(t){t instanceof Tk&&e.applyResizes()})}),Xm(this.searchBox.nativeElement,"keyup").pipe(H(function(e){return e.target.value}),lE(1e3),Py()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedSamplesChange",value:function(){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.genSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var t=this.filters.length-1;t>=0;t--)this.filters[t].field===e.field&&this.filters.splice(t,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var n,i=d(e.predicates);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.op&&this.filters.push(r)}}catch(o){i.e(o)}finally{i.f()}for(var a=this.sorts.length-1;a>=0;a--)this.sorts[a].field===e.field&&this.sorts.splice(a,1);e.sort.order&&this.sorts.push(e.sort),this.genSampleFilterService.selection.next({filters:this.filters}),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var t=function(e,t){var n,i=new Set(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.delete(a)}}catch(o){r.e(o)}finally{r.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!t.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!t.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadGenSamples(this.selection.species,this.selection.datasets.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showInfo",value:function(e){var t=this.modalService.open(Iq,{size:"xl"});t.componentInstance.subjectName=e.identifier,t.componentInstance.species=this.selection.species,t.componentInstance.dataset=e.dataset}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}},{key:"applyResizes",value:function(){var e,t=d(this.resizeEvents);try{for(t.s();!(e=t.n()).done;){var i=n(e.value,2),r=i[0],a=i[1];this.updateColumnWidth(r,a)}}catch(o){t.e(o)}finally{t.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),i=0;i<n.length;i++)n[i].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var i=this.selection.datasets;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,i,this.filters,[],[],n)}}]),e}()).\u0275fac=function(e){return new(e||hU)($o(Qw),$o(bk),$o(I_),$o(aM),$o(oM),$o(Dq),$o(rM),$o(Dx),$o(wk),$o(tC))},hU.\u0275cmp=ot({type:hU,selectors:[["app-gen-sample-panel"]],viewQuery:function(e,t){var n;1&e&&(Pu(dO,1),Pu(PP,1),Pu(Oq,3)),2&e&&(Ou(n=Lu())&&(t.paginator=n.first),Ou(n=Lu())&&(t.table=n.first),Ou(n=Lu())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[il([rM])],decls:45,vars:20,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],[4,"ngFor","ngForOf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["genoMenu","matMenu"],[3,"click"],["matMenuContent",""],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],[4,"ngIf"],[3,"matColumnDef"],["mwlResizable","",3,"class","enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],["class","small-col",4,"matCellDef"],[1,"small-col"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],[3,"class",4,"matCellDef"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],["target","_blank",3,"href"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"row","ml-2","mr-2","mb-1"],[1,"fa","fa-save",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[1,"fa","fa-file-zip-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Ko(0,"div",0),Wo(1,Pq,3,0,"div",1),pu(2,"async"),Wo(3,Mq,7,3,"div",2),pu(4,"async"),Xo(),Ko(5,"div",0),Ko(6,"div",3),Ko(7,"span",4),Ns(8,"Quick search:\xa0"),Xo(),Qo(9,"input",5,6),Xo(),Ko(11,"div",7),Ko(12,"button",8),os("click",function(){return t.clearSelection()}),Ko(13,"mat-icon",9),Ns(14,"delete_sweep"),Xo(),Ko(15,"span",4),Ns(16,"Clear filters"),Xo(),Xo(),Xo(),Ko(17,"div",7),Ko(18,"button",10),os("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Ko(19,"mat-icon",11),Ns(20,"view_column"),Xo(),Xo(),Ko(21,"label",12),Ns(22,"Arrange Columns"),Xo(),Xo(),Ko(23,"div",7),Ko(24,"button",13),Ko(25,"mat-icon",9),Ns(26,"cloud_download"),Xo(),Xo(),Ko(27,"label",14),Ns(28,"Download"),Xo(),Xo(),Wo(29,Lq,5,1,"div",15),Ko(30,"div",16),Qo(31,"mat-paginator",17),Xo(),Xo(),Ko(32,"div",0),Ko(33,"div",18),Ko(34,"mat-table",19),Wo(35,iU,4,3,"ng-container",20),Wo(36,rU,1,0,"mat-header-row",21),Wo(37,aU,1,0,"mat-row",22),Xo(),Xo(),Xo(),Ko(38,"mat-menu",23,24),Ko(40,"div",25),os("click",function(e){return e.stopPropagation()}),Wo(41,lU,6,3,"ng-template",26),Xo(),Xo(),Ko(42,"mat-menu",23,27),Wo(44,uU,16,0,"ng-template",26),Xo()),2&e){var n=Go(43);pa(1),Yo("ngIf",vu(2,15,t.dataSource.loading$)),pa(2),Yo("ngIf",vu(4,17,t.dataSource.error$)),pa(15),Yo("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","gen-sample-table"),pa(6),Yo("matMenuTriggerFor",n),pa(5),Yo("ngIf",t.selectedSequenceNames.length),pa(2),Yo("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",lu(19,dU)),pa(3),Yo("dataSource",t.dataSource),pa(1),Yo("ngForOf",t.allColumns),pa(1),Yo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",t.displayedColumns)}},directives:[kh,xM,MF,eF,dO,PP,_h,WP,$P,KL,qL,ag,Ng,ym,VP,NP,BP,ZF,QV,LP,qP,ZP,XP],pipes:[Nh],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),hU),pU=((cU=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cU)},cU.\u0275cmp=ot({type:cU,selectors:[["app-gen-sample"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-gen-sample-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!0)("showAssembly",!1)("showRepseq",!1))},directives:[eE,fU],styles:[""]}),cU),vU=function(){function e(){v(this,e),this.handlers={}}return m(e,[{key:"shouldDetach",value:function(e){return!0}},{key:"store",value:function(e,t){this.handlers[e.routeConfig.path]=t}},{key:"shouldAttach",value:function(e){return!!e.routeConfig&&!!this.handlers[e.routeConfig.path]}},{key:"retrieve",value:function(e){return e.routeConfig?this.handlers[e.routeConfig.path]:null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}();function gU(e,t){1&e&&(Ko(0,"mat-header-cell"),Ns(1," Name "),Xo())}function mU(e,t){if(1&e&&(Ko(0,"mat-cell"),Ko(1,"b"),Ns(2),Xo(),Xo()),2&e){var n=t.$implicit;pa(2),zs(n.title)}}function yU(e,t){1&e&&(Ko(0,"mat-header-cell"),Ns(1," Thumbnail "),Xo())}function bU(e,t){if(1&e&&(Ko(0,"div"),Qo(1,"img",14),Xo()),2&e){var n=hs().$implicit;pa(1),vs("src",n.thumbnail,mr)}}function _U(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,bU,2,1,"div",13),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.thumbnail)}}function wU(e,t){1&e&&(Ko(0,"mat-header-cell"),Ns(1," Description "),Xo())}function kU(e,t){if(1&e&&(Ko(0,"mat-cell"),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),Vs(" ",n.description," ")}}function xU(e,t){1&e&&(Ko(0,"mat-header-cell"),Ns(1," Run "),Xo())}function SU(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"button",15),os("click",function(){Zt(n);var e=hs().$implicit;return hs(2).runReport(e,"pdf")}),Qo(2,"i",16),Xo(),es()}}function CU(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"button",15),os("click",function(){Zt(n);var e=hs().$implicit;return hs(2).runReport(e,"html")}),Qo(2,"i",17),Xo(),es()}}function EU(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"button",15),os("click",function(){Zt(n);var e=hs().$implicit;return hs(2).runReport(e,"xls")}),Qo(2,"i",18),Xo(),es()}}function RU(e,t){if(1&e){var n=ns();Jo(0),Ko(1,"button",15),os("click",function(){Zt(n);var e=hs().$implicit;return hs(2).runReport(e,"xls")}),Qo(2,"i",19),Xo(),es()}}function AU(e,t){if(1&e&&(Ko(0,"mat-cell"),Wo(1,SU,3,0,"ng-container",13),Wo(2,CU,3,0,"ng-container",13),Wo(3,EU,3,0,"ng-container",13),Wo(4,RU,3,0,"ng-container",13),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.format.indexOf("pdf")>=0),pa(1),Yo("ngIf",n.format.indexOf("html")>=0),pa(1),Yo("ngIf",n.format.indexOf("xls")>=0),pa(1),Yo("ngIf",n.format.indexOf("file")>=0)}}function TU(e,t){1&e&&Qo(0,"mat-header-row")}function IU(e,t){1&e&&Qo(0,"mat-row")}function DU(e,t){if(1&e&&(Ko(0,"p",20),Ns(1),Xo()),2&e){var n=hs().$implicit;pa(1),zs(n.empty)}}function OU(e,t){if(1&e&&(Jo(0),Ko(1,"h2"),Ns(2),Xo(),Ko(3,"mat-table",3),Jo(4,4),Wo(5,gU,2,0,"mat-header-cell",5),Wo(6,mU,3,1,"mat-cell",6),es(),Jo(7,7),Wo(8,yU,2,0,"mat-header-cell",5),Wo(9,_U,2,1,"mat-cell",6),es(),Jo(10,8),Wo(11,wU,2,0,"mat-header-cell",5),Wo(12,kU,2,1,"mat-cell",6),es(),Jo(13,9),Wo(14,xU,2,0,"mat-header-cell",5),Wo(15,AU,5,4,"mat-cell",6),es(),Wo(16,TU,1,0,"mat-header-row",10),Wo(17,IU,1,0,"mat-row",11),Wo(18,DU,2,1,"p",12),Qo(19,"br"),Qo(20,"br"),Xo(),es()),2&e){var n=t.$implicit,i=hs();pa(2),zs(n.title),pa(1),Yo("dataSource",n.source),pa(13),Yo("matHeaderRowDef",i.displayedColumns),pa(1),Yo("matRowDefColumns",i.displayedColumns)}}var PU,MU,LU,FU,NU,zU,VU,jU,BU,HU,qU=((NU=function(){function e(t,n,i,r,a,o,s,l,u,c){v(this,e),this.modalService=t,this.reportsService=n,this.geneTableService=i,this.repSampleFilterService=r,this.genSampleFilterService=a,this.repListDataSource=o,this.genOrRepListDataSource=s,this.reportsListDataSource=l,this.httpClient=u,this.reportRunService=c,this.displayedColumns=["thumbnail","title","description","actions"],this.reportSections=null,this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.genSampleFilterSubscription=null,this.genSampleFilters=[],this.repSampleFilterSubscription=null,this.repSampleFilters=[],this.globalReportFilters=null,this.reportRequest=null,this.reportSections=[{source:o,title:"Reports using just AIRR-seq Sample Data",empty:"Select AIRR-Seq data sets to see reports in this section"},{source:s,title:"Reports using either AIRR-Seq or genomic data, or both",empty:"Select some data sets to see reports in this section"}]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.geneTableSelection=t}),this.genSampleFilterSubscription=this.genSampleFilterService.source.subscribe(function(t){e.genSampleFilters=t.filters}),this.repSampleFilterSubscription=this.repSampleFilterService.source.subscribe(function(t){e.repSampleFilters=t.filters})}},{key:"ngOnDestroy",value:function(){this.geneTableServiceSubscription.unsubscribe(),this.genSampleFilterSubscription.unsubscribe(),this.repSampleFilterSubscription.unsubscribe()}},{key:"runReport",value:function(e,t){this.reportRunService.runReport(e,t,this.geneTableSelection.species,this.geneTableSelection.datasets,this.genSampleFilters,this.geneTableSelection.repSeqs,this.repSampleFilters,null)}},{key:"displayError",value:function(e){var t=this.modalService.open(uk,{size:"m"});t.componentInstance.report="Error running report",t.componentInstance.errorMessage=e,t.result.then()}}]),e}()).\u0275fac=function(e){return new(e||NU)($o(I_),$o(Jw),$o(bk),$o(IB),$o(Dq),$o(UU),$o(WU),$o(_k),$o(Fv),$o(wk))},NU.\u0275cmp=ot({type:NU,selectors:[["app-reports"]],viewQuery:function(e,t){var n;1&e&&Pu(PP,1),2&e&&Ou(n=Lu())&&(t.table=n.first)},decls:17,vars:4,consts:[[3,"showGenomic","showAssembly","showRepseq"],["href","assets/doc/report_documentation.pdf"],[4,"ngFor","ngForOf"],[3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","description"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["style","margin-bottom: 32px",4,"matNoDataRow"],[4,"ngIf"],["height","100",3,"src"],[1,"btn","btn-lg","btn-solid-icon",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"fa","fa-file-excel-o",2,"line-height","inherit"],[1,"fa","fa-save",2,"line-height","inherit"],[2,"margin-bottom","32px"]],template:function(e,t){1&e&&(Qo(0,"app-gene-table-selector",0),Ko(1,"div"),Ko(2,"h2"),Ns(3,"VDJbase Reports"),Xo(),Ko(4,"p"),Ns(5,"Currently available reports run against AIRR-Seq data sets. Reports that run against genomic datasets, or that combine data of both types, will be added in due course."),Xo(),Ko(6,"p"),Ns(7,"Please select above the species and datasets on which you would like to report. Multiple datasets from the same species can be selected. "),Xo(),Ko(8,"p"),Ns(9,"You can refine the samples against which the reports will run by using filters in the Samples windows to display just those samples that you wish to be included."),Xo(),Ko(10,"p"),Ns(11,"To run the report, click on an icon in the Run column corresponding to the output format that you would like (e.g. pdf, on-screen, Excel)"),Xo(),Ko(12,"p"),Ko(13,"a",1),Ns(14,"Click here"),Xo(),Ns(15," for explanation of reports."),Xo(),Wo(16,OU,21,4,"ng-container",2),Xo()),2&e&&(Yo("showGenomic",!0)("showAssembly",!1)("showRepseq",!0),pa(16),Yo("ngForOf",t.reportSections))},directives:[eE,_h,PP,VP,NP,LP,WP,$P,JP,BP,qP,kh,ZP,XP],styles:[""]}),NU),UU=((FU=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this)).reportsService=e,a.geneTableService=i,a.reportsListDataSource=r,a}return m(n,[{key:"connect",value:function(){return this.reportsListDataSource.connect().pipe(H(function(e){return e.filter(function(e){return e.scope.indexOf("rep_sample")>=0})}))}},{key:"disconnect",value:function(){}}]),n}(uT)).\u0275fac=function(e){return new(e||FU)(Ei(Jw),Ei(bk),Ei(_k))},FU.\u0275prov=Ae({token:FU,factory:FU.\u0275fac,providedIn:"any"}),FU),WU=((LU=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return v(this,n),(a=t.call(this)).reportsService=e,a.geneTableService=i,a.reportsListDataSource=r,a}return m(n,[{key:"connect",value:function(){return this.reportsListDataSource.connect().pipe(H(function(e){return e.filter(function(e){return e.scope.indexOf("gen_or_rep_sample")>=0})}))}},{key:"disconnect",value:function(){}}]),n}(uT)).\u0275fac=function(e){return new(e||LU)(Ei(Jw),Ei(bk),Ei(_k))},LU.\u0275prov=Ae({token:LU,factory:LU.\u0275fac,providedIn:"any"}),LU),GU=((MU=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||MU)},MU.\u0275cmp=ot({type:MU,selectors:[["app-quick-ref"]],decls:3,vars:0,consts:[[1,"container"],["src","./assets/img/howto-gene-table.png","width","80%"],["src","./assets/img/howto-gene-browser.png","width","80%"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"img",1),Qo(2,"img",2),Xo())},styles:[""]}),MU),$U=((PU=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||PU)},PU.\u0275cmp=ot({type:PU,selectors:[["app-user-guide"]],decls:20,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm"],[1,"ml1"],["width","40%","height","40%","controls",""],["src","./assets/img/new_ui.mp4","type","video/mp4"],[1,"row",2,"margin-bottom","20px"],["src","/assets/img/genomic.mp4","type","video/mp4"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"h2"),Ns(2,"Video Library"),Xo(),Ko(3,"div",1),Ko(4,"div",2),Ko(5,"p",3),Ns(6,"Exploring AIRR-seq data sets with the new user interface"),Xo(),Xo(),Xo(),Ko(7,"div",1),Ko(8,"video",4),Qo(9,"source",5),Ns(10," Your browser does not support the video tag. "),Xo(),Xo(),Qo(11,"div",6),Ko(12,"div",1),Ko(13,"div",2),Ko(14,"p"),Ns(15,"Genomic data in VDJbase"),Xo(),Xo(),Xo(),Ko(16,"div",1),Ko(17,"video",4),Qo(18,"source",7),Ns(19," Your browser does not support the video tag. "),Xo(),Xo(),Xo())},styles:[""]}),PU),YU=["*"],ZU=new ui("GOOGLE_CHARTS_CONFIG"),KU={mapsApiKey:"",version:"current",safeMode:!1},XU=((HU=function(){function e(t,n,i){v(this,e),this.zone=t,this.localeId=n,this.config=i,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new V,this.config=Object.assign(Object.assign({},KU),i||{})}return m(e,[{key:"isGoogleChartsAvailable",value:function(){return"undefined"!=typeof google&&void 0!==google.charts}},{key:"loadChartPackages",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.loadGoogleCharts().pipe(Fy(function(){return new P(function(t){google.charts.load(e.config.version,{packages:n,language:e.localeId,mapsApiKey:e.config.mapsApiKey,safeMode:e.config.safeMode}),google.charts.setOnLoadCallback(function(){e.zone.run(function(){t.next(),t.complete()})})})}))}},{key:"loadGoogleCharts",value:function(){var e=this;if(this.isGoogleChartsAvailable())return ov(null);if(!this.isLoadingGoogleCharts()){var t=this.createGoogleChartsScript();t.onload=function(){e.zone.run(function(){e.scriptLoadSubject.next(),e.scriptLoadSubject.complete()})},t.onerror=function(){e.zone.run(function(){console.error("Failed to load the google charts script!"),e.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}},{key:"isLoadingGoogleCharts",value:function(){return null!=this.getGoogleChartsScript()}},{key:"getGoogleChartsScript",value:function(){var e=this;return Array.from(document.getElementsByTagName("script")).find(function(t){return t.src===e.scriptSource})}},{key:"createGoogleChartsScript",value:function(){var e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}]),e}()).\u0275fac=function(e){return new(e||HU)(Ei(sc),Ei(Zu),Ei(ZU,8))},HU.\u0275prov=Ae({factory:function(){return new HU(Ei(sc),Ei(Zu),Ei(ZU,8))},token:HU,providedIn:"root"}),HU),QU=((BU=function(){function e(t){v(this,e),this.loaderService=t,this.error=new _u,this.ready=new _u,this.stateChange=new _u,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new sT(1),this.initialized=!1}return m(e,[{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"controlWrapper",get:function(){return this._controlWrapper}},{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.createControlWrapper(),e.initialized=!0})}},{key:"ngOnChanges",value:function(e){this.initialized&&(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options),e.state&&this._controlWrapper.setState(this.state))}},{key:"createControlWrapper",value:function(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}},{key:"addEventListeners",value:function(){var e=this;google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",function(t){return e.ready.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"error",function(t){return e.error.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"statechange",function(t){return e.stateChange.emit(t)})}}]),e}()).\u0275fac=function(e){return new(e||BU)($o(XU))},BU.\u0275cmp=ot({type:BU,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,t){2&e&&Hs("id",t.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[Ct],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),BU),JU=((jU=function(){function e(t,n){v(this,e),this.element=t,this.loaderService=n,this.ready=new _u,this.error=new _u,this.initialized=!1}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.createDataTable(),e.createDashboard(),e.initialized=!0})}},{key:"ngOnChanges",value:function(e){this.initialized&&(e.data||e.columns)&&(this.createDataTable(),this.dashboard.draw(this.dataTable))}},{key:"createDashboard",value:function(){var e=this,t=this.controlWrappers.map(function(e){return e.wrapperReady$}),n=this.controlWrappers.map(function(e){return e.for}).map(function(e){return Array.isArray(e)?py(e.map(function(e){return e.wrapperReady$})):e.wrapperReady$});py([].concat(i(t),i(n))).subscribe(function(){e.dashboard=new google.visualization.Dashboard(e.element.nativeElement),e.initializeBindings(),e.dashboard.draw(e.dataTable)})}},{key:"initializeBindings",value:function(){var e=this;this.controlWrappers.forEach(function(t){if(Array.isArray(t.for)){var n=t.for.map(function(e){return e.chartWrapper});e.dashboard.bind(t.controlWrapper,n)}else e.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}},{key:"createDataTable",value:function(){if(null!=this.data){var e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e)}}},{key:"getDataAsTable",value:function(){return this.columns?[this.columns].concat(i(this.data)):this.data}}]),e}()).\u0275fac=function(e){return new(e||jU)($o(cl),$o(XU))},jU.\u0275cmp=ot({type:jU,selectors:[["dashboard"]],contentQueries:function(e,t,n){var i;1&e&&Mu(n,QU,0),2&e&&Ou(i=Lu())&&(t.controlWrappers=i)},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[Ct],ngContentSelectors:YU,decls:1,vars:0,template:function(e,t){1&e&&(fs(),ps(0))},encapsulation:2,changeDetection:0}),jU),eW=((VU=function(){function e(t,n,i){v(this,e),this.element=t,this.scriptLoaderService=n,this.dashboard=i,this.options={},this.dynamicResize=!1,this.ready=new _u,this.error=new _u,this.select=new _u,this.mouseover=new _u,this.mouseleave=new _u,this.wrapperReadySubject=new sT(1),this.initialized=!1}return m(e,[{key:"chart",get:function(){return this.wrapper?this.wrapper.getChart():null}},{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"chartWrapper",get:function(){return this.wrapper},set:function(e){this.wrapper=e,this.drawChart()}},{key:"ngOnInit",value:function(){var e=this;this.scriptLoaderService.loadChartPackages().subscribe(function(){e.createDataTable(),e.wrapper=new google.visualization.ChartWrapper({container:e.element.nativeElement,chartType:e.type,dataTable:e.dataTable,options:e.mergeOptions()}),e.registerChartEvents(),e.wrapperReadySubject.next(e.wrapper),e.initialized=!0,e.drawChart()})}},{key:"ngOnChanges",value:function(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){var t=!1;(e.data||e.columns||e.formatters)&&(this.createDataTable(),this.wrapper.setDataTable(this.dataTable),t=!0),e.type&&(this.wrapper.setChartType(this.type),t=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),t=!0),t&&this.drawChart()}}},{key:"createDataTable",value:function(){if(null!=this.data){var e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e),this.applyFormatters(this.dataTable)}}},{key:"getDataAsTable",value:function(){return this.columns?[this.columns].concat(i(this.data)):this.data}},{key:"updateResizeListener",value:function(){var e=this;null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),this.dynamicResize&&(this.resizeSubscription=Xm(window,"resize").pipe(lE(100)).subscribe(function(){e.initialized&&e.drawChart()}))}},{key:"mergeOptions",value:function(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}},{key:"applyFormatters",value:function(e){if(null!=this.formatters){var t,n=d(this.formatters);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.formatter.format(e,i.colIndex)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"registerChartEvents",value:function(){var e=this;google.visualization.events.removeAllListeners(this.wrapper);var t=function(e,t,n){google.visualization.events.addListener(e,t,n)};t(this.wrapper,"ready",function(){google.visualization.events.removeAllListeners(e.chart),t(e.chart,"onmouseover",function(t){return e.mouseover.emit(t)}),t(e.chart,"onmouseout",function(t){return e.mouseleave.emit(t)}),t(e.chart,"select",function(){var t=e.chart.getSelection();e.select.emit({selection:t})}),e.ready.emit({chart:e.chart})}),t(this.wrapper,"error",function(t){return e.error.emit(t)})}},{key:"drawChart",value:function(){null==this.dashboard&&this.wrapper.draw()}}]),e}()).\u0275fac=function(e){return new(e||VU)($o(cl),$o(XU),$o(JU,8))},VU.\u0275cmp=ot({type:VU,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[Ct],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),VU),tW=((zU=function(){function e(){v(this,e)}return m(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:ZU,useValue:t}]}}}]),e}()).\u0275fac=function(e){return new(e||zU)},zU.\u0275mod=ct({type:zU}),zU.\u0275inj=Te({}),zU),nW=["datasetInfoTable"];function iW(e,t){1&e&&(Ko(0,"div",4),Ko(1,"span",5),Ns(2,"Loading..."),Xo(),Xo())}function rW(e,t){if(1&e&&(Ko(0,"div",6),Ko(1,"div",7),Ko(2,"h4"),Ns(3,"Error loading table"),Xo(),Ko(4,"p"),Ns(5),Xo(),Xo(),Xo()),2&e){var n=hs();pa(5),zs(n.error)}}function aW(e,t){1&e&&(Ko(0,"mat-header-cell",21),Ns(1," Name "),Xo())}function oW(e,t){if(1&e&&(Ko(0,"mat-cell",21),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.dataset)}}function sW(e,t){1&e&&(Ko(0,"mat-header-cell"),Ns(1," Description "),Xo())}function lW(e,t){if(1&e&&(Ko(0,"mat-cell"),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.description)}}function uW(e,t){1&e&&Qo(0,"mat-header-row",22)}function cW(e,t){1&e&&Qo(0,"mat-row")}var hW=function(){return["name","desc"]};function dW(e,t){if(1&e&&(Jo(0),Ko(1,"h2",8),Ns(2,"Datasets available for species "),Ko(3,"span",9),Ns(4),Xo(),Xo(),Ko(5,"div",10),Ko(6,"mat-table",11,12),Jo(8,13),Wo(9,aW,2,0,"mat-header-cell",14),Wo(10,oW,2,1,"mat-cell",15),es(),Jo(11,16),Wo(12,sW,2,0,"mat-header-cell",17),Wo(13,lW,2,1,"mat-cell",18),es(),Wo(14,uW,1,0,"mat-header-row",19),Wo(15,cW,1,0,"mat-row",20),Xo(),Xo(),es()),2&e){var n=hs();pa(4),zs(n.species),pa(2),Yo("dataSource",n.datasetDescriptions),pa(8),Yo("matHeaderRowDef",lu(5,hW))("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",lu(6,hW))}}var fW=function(){return{position:"none"}},pW=function(e){return{legend:e}},vW=function(){return{left:0,width:"100%",height:"75%"}},gW=function(e){return{chartArea:e}};function mW(e,t){if(1&e&&(Jo(0),Ko(1,"h2",8),Ns(2),Xo(),Ko(3,"p",9),Ns(4),Xo(),Ko(5,"div",7),Ko(6,"div",23),Qo(7,"google-chart",24),Xo(),Ko(8,"div",23),Qo(9,"google-chart",25),Xo(),Ko(10,"div",23),Qo(11,"google-chart",24),Xo(),Ko(12,"div",23),Qo(13,"google-chart",24),Xo(),Xo(),es()),2&e){var n=hs();pa(2),js("Summary of dataset ",n.dataset,": ",n.datasetInfo.total_samples," samples from ",n.datasetInfo.total_subjects," subjects"),pa(2),zs(n.datasetInfo.description),pa(3),Yo("type","BarChart")("title","Sex (no. of individuals)")("data",n.datasetInfo.sex_count)("options",uu(22,pW,lu(21,fW))),pa(2),Yo("type","PieChart")("title","Condition (% individuals)")("data",n.datasetInfo.condition_count)("options",uu(25,gW,lu(24,vW)))("width","100%"),pa(2),Yo("type","PieChart")("title","Cell Type (% samples)")("data",n.datasetInfo.celltype_count)("options",uu(28,gW,lu(27,vW))),pa(2),Yo("type","PieChart")("title","Tissue (% samples)")("data",n.datasetInfo.tissue_count)("options",uu(31,gW,lu(30,vW)))}}function yW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Project ID "),Xo())}function bW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.study_name)}}function _W(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Accession ID "),Xo())}function wW(e,t){1&e&&(Ko(0,"a",41),Qo(1,"i",42),Xo()),2&e&&vs("href",hs().$implicit,mr)}function kW(e,t){if(1&e&&(Ko(0,"span"),Ns(1),Xo()),2&e){var n=hs().$implicit;pa(1),Vs(" ",n,"")}}function xW(e,t){if(1&e&&(Jo(0),Wo(1,wW,2,1,"a",40),Wo(2,kW,2,1,"span",3),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.includes("http")),pa(1),Yo("ngIf",!n.includes("http"))}}function SW(e,t){if(1&e&&(Jo(0),Wo(1,xW,3,2,"ng-container",39),es()),2&e){var n=hs().$implicit;pa(1),Yo("ngForOf",n.study_id.split(","))}}function CW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Wo(1,SW,2,1,"ng-container",3),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.study_id)}}function EW(e,t){1&e&&(Ko(0,"mat-header-cell",43),Ns(1," Lab "),Xo())}function RW(e,t){if(1&e&&(Ko(0,"mat-cell",43),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.lab_address)}}function AW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Subjects "),Xo())}function TW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.num_subjects)}}function IW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Subjects in VDJbase "),Xo())}function DW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.subjects_in_vdjbase)}}function OW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Samples "),Xo())}function PW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.num_samples)}}function MW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Samples in VDJbase "),Xo())}function LW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Ns(1),Xo()),2&e){var n=t.$implicit;pa(1),zs(n.samples_in_vdjbase)}}function FW(e,t){1&e&&(Ko(0,"mat-header-cell",38),Ns(1," Paper "),Xo())}function NW(e,t){1&e&&(Ko(0,"a",41),Qo(1,"i",42),Xo()),2&e&&vs("href",hs().$implicit,mr)}function zW(e,t){if(1&e&&(Ko(0,"span"),Ns(1),Xo()),2&e){var n=hs().$implicit;pa(1),Vs(" ",n,"")}}function VW(e,t){if(1&e&&(Jo(0),Wo(1,NW,2,1,"a",40),Wo(2,zW,2,1,"span",3),es()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.includes("http")),pa(1),Yo("ngIf",!n.includes("http"))}}function jW(e,t){if(1&e&&(Jo(0),Wo(1,VW,3,2,"ng-container",39),es()),2&e){var n=hs().$implicit;pa(1),Yo("ngForOf",n.pub_ids.split(","))}}function BW(e,t){if(1&e&&(Ko(0,"mat-cell",38),Wo(1,jW,2,1,"ng-container",3),Xo()),2&e){var n=t.$implicit;pa(1),Yo("ngIf",n.pub_ids)}}function HW(e,t){1&e&&Qo(0,"mat-header-row",22)}function qW(e,t){1&e&&Qo(0,"mat-row")}var UW=function(){return["name","accession_id","institute","num_subjects","subjects_in_vdjbase","num_samples","samples_in_vdjbase","paper"]};function WW(e,t){if(1&e&&(Jo(0),Ko(1,"div",10),Ko(2,"h2",8),Ns(3),Xo(),Ko(4,"p"),Ns(5,"Samples may be omitted from VDJbase if the associated set of reads is too small for analysis. "),Xo(),Ko(6,"mat-table",11,26),Jo(8,13),Wo(9,yW,2,0,"mat-header-cell",27),Wo(10,bW,2,1,"mat-cell",28),es(),Jo(11,29),Wo(12,_W,2,0,"mat-header-cell",27),Wo(13,CW,2,1,"mat-cell",28),es(),Jo(14,30),Wo(15,EW,2,0,"mat-header-cell",31),Wo(16,RW,2,1,"mat-cell",32),es(),Jo(17,33),Wo(18,AW,2,0,"mat-header-cell",27),Wo(19,TW,2,1,"mat-cell",28),es(),Jo(20,34),Wo(21,IW,2,0,"mat-header-cell",27),Wo(22,DW,2,1,"mat-cell",28),es(),Jo(23,35),Wo(24,OW,2,0,"mat-header-cell",27),Wo(25,PW,2,1,"mat-cell",28),es(),Jo(26,36),Wo(27,MW,2,0,"mat-header-cell",27),Wo(28,LW,2,1,"mat-cell",28),es(),Jo(29,37),Wo(30,FW,2,0,"mat-header-cell",27),Wo(31,BW,2,1,"mat-cell",28),es(),Wo(32,HW,1,0,"mat-header-row",19),Wo(33,qW,1,0,"mat-row",20),Xo(),Xo(),es()),2&e){var n=hs();pa(3),Vs("Studies included in ",n.dataset,":"),pa(3),Yo("dataSource",n.datasetInfo.studies),pa(26),Yo("matHeaderRowDef",lu(5,UW))("matHeaderRowDefSticky",!0),pa(1),Yo("matRowDefColumns",lu(6,UW))}}function GW(e,t){1&e&&(Jo(0),Ko(1,"div",10),Ko(2,"p"),Ns(3,"Please select a single dataset to see its statistics and composition"),Xo(),Xo(),es())}var $W,YW,ZW,KW=((ZW=function(){function e(t,n){v(this,e),this.geneTableService=t,this.repseqService=n,this.geneTableServiceSubscription=null,this.species=null,this.dataset=null,this.datasetDescriptions=null,this.datasetInfo=null,this.loading=!1,this.error=null}return m(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.species=t.species,e.dataset=t.repSeqs,e.datasetDescriptions=t.repDatasetDescriptions,void 0!==e.datasetInfoTable&&e.datasetInfoTable.renderRows(),e.datasetInfo=null,1===e.dataset.length&&(e.error=null,e.loading=!0,e.repseqService.getDataSetInfoApi(e.species,e.dataset[0]).subscribe(function(t){e.loading=!1,e.datasetInfo=t}))},function(t){e.error=t})})}}]),e}()).\u0275fac=function(e){return new(e||ZW)($o(bk),$o(ek))},ZW.\u0275cmp=ot({type:ZW,selectors:[["app-rep-explore-data-panel"]],viewQuery:function(e,t){var n;1&e&&Pu(nW,1),2&e&&Ou(n=Lu())&&(t.datasetInfoTable=n.first)},decls:8,vars:6,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"mt-5"],[1,"font-italic"],[1,"container"],[3,"dataSource"],["datasetInfoTable",""],["matColumnDef","name"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matHeaderCellDef"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matCellDef"],["matColumnDef","desc"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[2,"width","30% !important","flex","0 0 30% !important"],[1,"mat-elevation-z1"],[1,"col-lg-3","col-md-6","col-sm-12"],[3,"type","title","data","options"],[3,"type","title","data","options","width"],["datasetStudyTable",""],["class","small-col",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","accession_id"],["matColumnDef","institute"],["class","large-col",4,"matHeaderCellDef"],["class","large-col",4,"matCellDef"],["matColumnDef","num_subjects"],["matColumnDef","subjects_in_vdjbase"],["matColumnDef","num_samples"],["matColumnDef","samples_in_vdjbase"],["matColumnDef","paper"],[1,"small-col"],[4,"ngFor","ngForOf"],[3,"href",4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"large-col"]],template:function(e,t){1&e&&(Ko(0,"div",0),Wo(1,iW,3,0,"div",1),Wo(2,rW,6,1,"div",2),Wo(3,dW,16,7,"ng-container",3),Wo(4,mW,14,33,"ng-container",3),Wo(5,WW,34,7,"ng-container",3),Ns(6,"> "),Wo(7,GW,4,0,"ng-container",3),Xo()),2&e&&(pa(1),Yo("ngIf",t.loading),pa(1),Yo("ngIf",t.error),pa(1),Yo("ngIf",!t.loading&&!t.error),pa(1),Yo("ngIf",!t.loading&&!t.error&&t.datasetInfo),pa(1),Yo("ngIf",!t.loading&&!t.error&&t.datasetInfo),pa(2),Yo("ngIf",!t.loading&&!t.error&&!t.datasetInfo))},directives:[kh,PP,VP,NP,LP,WP,$P,BP,qP,ZP,XP,eW,_h],styles:[".small-col{width:8%!important;flex:0 0 8%!important}.large-col{width:25%!important;flex:0 0 25%!important}"],encapsulation:2}),ZW),XW=((YW=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||YW)},YW.\u0275cmp=ot({type:YW,selectors:[["app-rep-explore-data"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Ko(0,"div",0),Qo(1,"app-gene-table-selector",1),Qo(2,"app-rep-explore-data-panel"),Xo()),2&e&&(pa(1),Yo("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[eE,KW],styles:[""]}),YW),QW=(($W=function(){function e(){v(this,e)}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||$W)},$W.\u0275cmp=ot({type:$W,selectors:[["app-licensing"]],decls:25,vars:0,consts:[[1,"container"],["href","https://creativecommons.org/publicdomain/zero/1.0/legalcode"],["href","https://github.com/williamdlees/digby"],["href","https://github.com/williamdlees/digby_backend"],["href","https://bitbucket.org/yaarilab/vdjbasevis"],["href","https://bitbucket.org/yaarilab/processpipeline"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"h1"),Ns(2,"Content"),Xo(),Ko(3,"p"),Ns(4,"Information provided on this site and any reports that are created here are published under a "),Ko(5,"a",1),Ns(6,"CC0 (Creative Commons 0) license"),Xo(),Ns(7,"."),Xo(),Ko(8,"h1"),Ns(9,"Source Code"),Xo(),Ko(10,"p"),Ns(11,"Source Code is available at the following links:"),Xo(),Ko(12,"ul"),Ko(13,"li"),Ko(14,"a",2),Ns(15,"Website front-end"),Xo(),Xo(),Ko(16,"li"),Ko(17,"a",3),Ns(18,"Website back-end"),Xo(),Xo(),Ko(19,"li"),Ko(20,"a",4),Ns(21,"Reporting package"),Xo(),Xo(),Ko(22,"li"),Ko(23,"a",5),Ns(24,"Analysis pipeline"),Xo(),Xo(),Xo(),Xo())},styles:[""]}),$W);function JW(e,t){if(1&e&&(Ko(0,"div",5),Ko(1,"p"),Ns(2),Xo(),Xo()),2&e){var n=hs();pa(2),zs(n.error)}}function eG(e,t){1&e&&(Ko(0,"div",6),Ko(1,"span",7),Ns(2,"Loading..."),Xo(),Xo())}function tG(e,t){if(1&e){var n=ns();Ko(0,"form",8,9),os("ngSubmit",function(){Zt(n);var e=Go(1);return hs().onSubmit(e)}),Ko(2,"div",10),Ko(3,"label",11),Ns(4,"User Name"),Xo(),Qo(5,"input",12),Xo(),Ko(6,"div",10),Ko(7,"label",13),Ns(8,"Password"),Xo(),Qo(9,"input",14),Xo(),Ko(10,"div",15),Ko(11,"label"),Ko(12,"input",16),os("ngModelChange",function(e){return Zt(n),hs().stay_logged=e}),Xo(),Ns(13," Stay logged in on this computer "),Xo(),Xo(),Ko(14,"div"),Ko(15,"button",17),Ns(16," Login "),Xo(),Xo(),Xo()}if(2&e){var i=Go(1),r=hs();pa(12),Yo("checked",r.stay_logged)("ngModel",r.stay_logged),pa(3),Yo("disabled",!i.valid)}}var nG,iG=((nG=function(){function e(t,n){v(this,e),this.authService=t,this.router=n,this.isLoading=!1,this.error=null,this.stay_logged=!1}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.user.pipe(Ty(1)).subscribe(function(t){t.accessToken&&e.router.navigate(["/"])})}},{key:"onSubmit",value:function(e){var t=this;if(e.valid){var n=e.value.userName,i=e.value.password;this.isLoading=!0,this.authService.login(n,i,this.stay_logged).subscribe(function(e){console.log(e),t.isLoading=!1,t.router.navigate(["/"])},function(e){console.log(e),t.error=e,t.isLoading=!1}),e.reset()}}}]),e}()).\u0275fac=function(e){return new(e||nG)($o(OC),$o(tC))},nG.\u0275cmp=ot({type:nG,selectors:[["app-auth"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","userName"],["type","text","id","userName","ngModel","","name","userName","required","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","",1,"form-control"],[1,"checkbox"],["type","checkbox","id","stay","name","stay",3,"checked","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(Ko(0,"div",0),Ko(1,"div",1),Wo(2,JW,3,1,"div",2),Wo(3,eG,3,0,"div",3),Wo(4,tG,17,3,"form",4),Xo(),Xo()),2&e&&(pa(2),Yo("ngIf",t.error),pa(1),Yo("ngIf",t.isLoading),pa(1),Yo("ngIf",!t.isLoading))},directives:[kh,bm,zg,vm,lg,Ng,ym,Wm,ag],encapsulation:2}),nG);function rG(e,t){return t?function(n){return n.pipe(rG(function(n,i){return X(e(n,i)).pipe(H(function(e,r){return t(n,e,i,r)}))}))}:function(t){return t.lift(new oG(e))}}var aG,oG=function(){function e(t){v(this,e),this.project=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new sG(e,this.project))}}]),e}(),sG=function(e){a(n,e);var t=s(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e)).project=i,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return m(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new Q(this),n=this.destination;n.add(t);var i=ee(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(J),lG=((aG=function(){function e(t){v(this,e),this.authService=t}return m(e,[{key:"intercept",value:function(e,t){return this.authService.user.pipe(Ty(1),rG(function(n){if(e.url.indexOf(location.hostname)>=0&&e.url.indexOf("/refresh")>=0&&n&&n.appProtected){var i=e.clone({headers:e.headers.set("Authorization","Bearer "+n.refreshToken)});return t.handle(i)}if(!n||!n.appProtected||e.url.indexOf(location.hostname)<0)return t.handle(e);var r=e.clone({headers:e.headers.set("Authorization","Bearer "+n.accessToken)});return t.handle(r)}))}}]),e}()).\u0275fac=function(e){return new(e||aG)(Ei(OC))},aG.\u0275prov=Ae({token:aG,factory:aG.\u0275fac}),aG);function uG(e){return function(){return new Promise(function(t){e.initialize().subscribe().add(t)})}}var cG,hG=((cG=function(){function e(t,n){v(this,e),this.authService=t,this.router=n}return m(e,[{key:"canActivate",value:function(e,t){var n=this;return this.authService.user.pipe(Ty(1),H(function(e){return e&&e.appProtected&&!e.accessToken?(console.log("guarding non-login routes"),n.router.createUrlTree(["/auth"])):(console.log("guards open"),!0)}))}}]),e}()).\u0275fac=function(e){return new(e||cG)(Ei(OC),Ei(tC))},cG.\u0275prov=Ae({token:cG,factory:cG.\u0275fac,providedIn:"root"}),cG);function dG(){return new Xw({basePath:Qj.apiBasePath})}var fG,pG=[{path:"",component:Xj,canActivate:[hG]},{path:"genesample/:onlySelectedSamples",component:pU,canActivate:[hG]},{path:"genetable",component:Dj,canActivate:[hG]},{path:"genebrowser/:speciesName/:refName",component:iB,canActivate:[hG]},{path:"samplerep/:onlySelectedSamples",component:MH,canActivate:[hG]},{path:"generep",component:kq,canActivate:[hG]},{path:"generep/:species/:dataset/:alleleName",component:kq,canActivate:[hG]},{path:"datarep",component:XW,canActivate:[hG]},{path:"reports",component:qU,canActivate:[hG]},{path:"quick-ref",component:GU,canActivate:[hG]},{path:"user-guide",component:$U,canActivate:[hG]},{path:"licensing",component:QW,canActivate:[hG]},{path:"auth",component:iG},{path:"**",component:Xj,canActivate:[hG]}],vG=((fG=function e(){v(this,e)}).\u0275fac=function(e){return new(e||fG)},fG.\u0275mod=ct({type:fG,bootstrap:[GC]}),fG.\u0275inj=Te({providers:[lB,OC,{provide:zv,useClass:uB,multi:!0},{provide:zv,useClass:lG,multi:!0},{provide:HS,useClass:vU},{provide:ju,useFactory:uG,deps:[OC],multi:!0}],imports:[[Od,av,Xv,$m,Ym,X_,oN,tM,fO,sB,rB,wC.forRoot(pG),nk.forRoot(dG),gw.forRoot(),FH,SM,nF,_F,TL,SF,FE,XF,tW,KD]]}),fG);Qj.production&&function(){if(bc)throw new Error("Cannot enable prod mode after platform setup.");yc=!1}(),Id().bootstrapModule(vG).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]])}();
//# sourceMappingURL=main-es5.4481e2fd9d9a52788773.js.map