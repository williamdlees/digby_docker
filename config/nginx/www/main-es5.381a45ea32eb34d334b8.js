!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function o(e,t,n){return(o=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=d();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+924":function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("9AQC");function i(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function a(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var a=Math.min(i+140,r);return a>r-5&&(a=r),a===r&&(i=Math.max(a-140,0)),n=n.slice(i,a),i>0&&(n="'{snip} "+n),a<r&&(n+=" {snip}"),n}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(r.k)(e)&&(Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},"+A1k":function(e,t,n){"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},0:function(e,t,n){e.exports=n("zUnb")},"1qfx":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var r=n("SOwp"),i=n("+A1k"),a=n("8LbN"),o=n("6PXS"),s=n("9AQC"),c=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],l={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},u=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:c,this._describeOperations=!("describeOperations"in e)||e.describeOperations}return t.prototype.setupOnce=function(t,n){var r;try{r=Object(i.a)(e,"mongodb").Collection}catch(o){return void a.a.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},t.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach(function(t){return r._patchOperation(e,t,n)})},t.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Object(o.c)(e.prototype,t,function(e){return function(){for(var a,o,c,l,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u[u.length-1],d=n().getScope(),p=null===(a=d)||void 0===a?void 0:a.getSpan();if("function"!=typeof f||"mapReduce"===t&&2===u.length){var v=null===(o=p)||void 0===o?void 0:o.startChild(i(this,t,u)),m=e.call.apply(e,Object(r.f)([this],u));return Object(s.m)(m)?m.then(function(e){var t;return null===(t=v)||void 0===t||t.finish(),e}):(null===(c=v)||void 0===c||c.finish(),m)}var g=null===(l=p)||void 0===l?void 0:l.startChild(i(this,t,u.slice(0,-1)));return e.call.apply(e,Object(r.f)([this],u.slice(0,-1),[function(e,t){var n;null===(n=g)||void 0===n||n.finish(),f(e,t)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,t,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},a={op:"db",description:t,data:i},o=l[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!s)return a;try{if("mapReduce"===t){var c=Object(r.d)(n,2),u=c[0],h=c[1];i[o[0]]="string"==typeof u?u:u.name||"<anonymous>",i[o[1]]="string"==typeof h?h:h.name||"<anonymous>"}else for(var f=0;f<o.length;f++)i[o[f]]=JSON.stringify(n[f])}catch(d){}return a},t.id="Mongo",t}()}).call(this,n("3UD+")(e))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"6PXS":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g});var r=n("SOwp"),i=n("vFt6"),a=n("9AQC"),o=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n("pRiV"),c=n("+924");function l(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(a){}e[t]=i}}function u(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function h(e){if(Object(a.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(Object(a.f)(e)){var o=e,s={};s.type=o.type;try{s.target=Object(a.c)(o.target)?Object(i.a)(o.target):Object.prototype.toString.call(o.target)}catch(c){s.target="<unknown>"}try{s.currentTarget=Object(a.c)(o.currentTarget)?Object(i.a)(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(c){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(a.g)(e,CustomEvent)&&(s.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o);return s}return e}function f(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r,i=v(e,t);return r=JSON.stringify(i),~-encodeURI(r).split(/%..|./).length>n?f(e,t-1,n):i}function d(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!=typeof global&&e===global?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(a.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(s.a)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function p(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new o),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=d(e);return Object(a.i)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var i=d(t,e);if(Object(a.i)(i))return i;var s=h(t),c=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=p(l,s[l],n-1,r));return r.unmemoize(t),c}function v(e,t){try{return JSON.parse(JSON.stringify(e,function(e,n){return p(e,n,t)}))}catch(n){return"**non-serializable**"}}function m(e,t){void 0===t&&(t=40);var n=Object.keys(h(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(c.d)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Object(c.d)(i,t)}return""}function g(e){var t,n;if(Object(a.h)(e)){var i=e,o={};try{for(var s=Object(r.g)(Object.keys(i)),c=s.next();!c.done;c=s.next()){var l=c.value;void 0!==i[l]&&(o[l]=g(i[l]))}}catch(u){t={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}return Array.isArray(e)?e.map(g):e}},"8LbN":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("9/Zf"),i=Object(r.e)(),a="Sentry Logger ",o=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){i.console.log(a+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){i.console.warn(a+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){i.console.error(a+"[Error]: "+e.join(" "))})},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new o)},"9/Zf":function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return p});var r=n("+A1k"),i=(n("+924"),{});function a(){return Object(r.b)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function o(){var e=a(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}function c(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function l(e){var t=a();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)});var i=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),i}function u(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function h(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(n){e.exception.values[0].mechanism[n]=t[n]})}catch(n){}}function f(){try{return document.location.href}catch(e){return""}}function d(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}function p(e){return e.split(/[\?#]/,1)[0]}},"9AQC":function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"undefined"!=typeof Event&&v(e,Event)}function h(e){return"undefined"!=typeof Element&&v(e,Element)}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function p(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return f}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"g",function(){return v})},CLvp:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=n("+A1k"),i=n("8LbN"),a=n("6PXS"),o=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var o;try{o=Object(r.a)(e,"pg").Client}catch(s){return void i.a.error("Postgres Integration was unable to require `pg` package.")}Object(a.c)(o.prototype,"query",function(e){return function(t,r,i){var a,o,s=null===(o=null===(a=n().getScope())||void 0===a?void 0:a.getSpan())||void 0===o?void 0:o.startChild({description:"string"==typeof t?t:t.text,op:"db"});return"function"==typeof i?e.call(this,t,r,function(e,t){var n;null===(n=s)||void 0===n||n.finish(),i(e,t)}):"function"==typeof r?e.call(this,t,function(e,t){var n;null===(n=s)||void 0===n||n.finish(),r(e,t)}):e.call(this,t,r).then(function(e){var t;return null===(t=s)||void 0===t||t.finish(),e})}})},t.id="Postgres",t}()}).call(this,n("3UD+")(e))},LvDl:function(e,t,n){(function(e){var r;(function(){var i="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",k="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",I="[object Uint16Array]",O="[object Uint32Array]",D=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,N=RegExp(L.source),z=RegExp(F.source),j=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,G=RegExp(q.source),W=/^\s+|\s+$/g,Y=/^\s+/,Z=/\s+$/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,ue=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="["+fe+"]",pe="["+he+"]",ve="\\d+",me="[a-z\\xdf-\\xf6\\xf8-\\xff]",ge="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ye="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+me+"|"+ge+")",xe="(?:"+ke+"|"+ge+")",Ce="(?:"+pe+"|"+ye+")?",Ee="[\\ufe0e\\ufe0f]?"+Ce+"(?:\\u200d(?:"+[be,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*",Re="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Ee,Ae="(?:"+[be+pe+"?",pe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",Te=RegExp("['\u2019]","g"),Ie=RegExp(pe,"g"),Oe=RegExp(ye+"(?="+ye+")|"+Ae+Ee,"g"),De=RegExp([ke+"?"+me+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[de,ke,"$"].join("|")+")",xe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[de,ke+Se,"$"].join("|")+")",ke+"?"+Se+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Re].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ne={};Ne[x]=Ne[C]=Ne[E]=Ne[R]=Ne[A]=Ne[T]=Ne["[object Uint8ClampedArray]"]=Ne[I]=Ne[O]=!0,Ne[s]=Ne[c]=Ne[k]=Ne[l]=Ne[S]=Ne[u]=Ne[h]=Ne[f]=Ne[p]=Ne[v]=Ne[m]=Ne[g]=Ne[y]=Ne[b]=Ne[w]=!1;var ze={};ze[s]=ze[c]=ze[k]=ze[S]=ze[l]=ze[u]=ze[x]=ze[C]=ze[E]=ze[R]=ze[A]=ze[p]=ze[v]=ze[m]=ze[g]=ze[y]=ze[b]=ze[_]=ze[T]=ze["[object Uint8ClampedArray]"]=ze[I]=ze[O]=!0,ze[h]=ze[f]=ze[w]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Be=parseFloat,Ve=parseInt,Ue="object"==typeof global&&global&&global.Object===Object&&global,He="object"==typeof self&&self&&self.Object===Object&&self,$e=Ue||He||Function("return this")(),qe=t&&!t.nodeType&&t,Ge=qe&&"object"==typeof e&&e&&!e.nodeType&&e,We=Ge&&Ge.exports===qe,Ye=We&&Ue.process,Ze=function(){try{return Ge&&Ge.require&&Ge.require("util").types||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Xe=Ze&&Ze.isArrayBuffer,Ke=Ze&&Ze.isDate,Qe=Ze&&Ze.isMap,Je=Ze&&Ze.isRegExp,et=Ze&&Ze.isSet,tt=Ze&&Ze.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function ct(e,t){return!(null==e||!e.length)&&yt(e,t,0)>-1}function lt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ut(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=kt("length");function mt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function gt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function yt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):gt(e,_t,n)}function bt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function _t(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function xt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Ct(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Et(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return function(t){return e(t)}}function At(e,t){return ut(t,function(t){return e[t]})}function Tt(e,t){return e.has(t)}function It(e,t){for(var n=-1,r=e.length;++n<r&&yt(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length;n--&&yt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=St({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Pt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+je[e]}function Ft(e){return Me.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function zt(e,t){return function(n){return e(t(n))}}function jt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function Bt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Ut(e){return Ft(e)?function(e){for(var t=Oe.lastIndex=0;Oe.test(e);)++t;return t}(e):vt(e)}function Ht(e){return Ft(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}var $t=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qt=function e(t){var n,r=(t=null==t?$e:qt.defaults($e.Object(),t,qt.pick($e,Le))).Array,he=t.Date,fe=t.Error,de=t.Function,pe=t.Math,ve=t.Object,me=t.RegExp,ge=t.String,ye=t.TypeError,be=r.prototype,_e=ve.prototype,we=t["__core-js_shared__"],ke=de.prototype.toString,Se=_e.hasOwnProperty,xe=0,Ce=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=_e.toString,Re=ke.call(ve),Ae=$e._,Oe=me("^"+ke.call(Se).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=We?t.Buffer:void 0,je=t.Symbol,Ue=t.Uint8Array,He=Me?Me.allocUnsafe:void 0,qe=zt(ve.getPrototypeOf,ve),Ge=ve.create,Ye=_e.propertyIsEnumerable,Ze=be.splice,vt=je?je.isConcatSpreadable:void 0,St=je?je.iterator:void 0,Gt=je?je.toStringTag:void 0,Wt=function(){try{var e=Ki(ve,"defineProperty");return e({},"",{}),e}catch(t){}}(),Yt=t.clearTimeout!==$e.clearTimeout&&t.clearTimeout,Zt=he&&he.now!==$e.Date.now&&he.now,Xt=t.setTimeout!==$e.setTimeout&&t.setTimeout,Kt=pe.ceil,Qt=pe.floor,Jt=ve.getOwnPropertySymbols,en=Me?Me.isBuffer:void 0,tn=t.isFinite,nn=be.join,rn=zt(ve.keys,ve),an=pe.max,on=pe.min,sn=he.now,cn=t.parseInt,ln=pe.random,un=be.reverse,hn=Ki(t,"DataView"),fn=Ki(t,"Map"),dn=Ki(t,"Promise"),pn=Ki(t,"Set"),vn=Ki(t,"WeakMap"),mn=Ki(ve,"create"),gn=vn&&new vn,yn={},bn=Ea(hn),_n=Ea(fn),wn=Ea(dn),kn=Ea(pn),Sn=Ea(vn),xn=je?je.prototype:void 0,Cn=xn?xn.valueOf:void 0,En=xn?xn.toString:void 0;function Rn(e){if($o(e)&&!Mo(e)&&!(e instanceof On)){if(e instanceof In)return e;if(Se.call(e,"__wrapped__"))return Ra(e)}return new In(e)}var An=function(){function e(){}return function(t){if(!Ho(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function In(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function On(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Nn(e,t){var n=Mo(e),r=!n&&Do(e),i=!n&&!r&&No(e),a=!n&&!r&&!i&&Qo(e),o=n||r||i||a,s=o?Et(e.length,ge):[],c=s.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ia(l,c))||s.push(l);return s}function zn(e){var t=e.length;return t?e[Pr(0,t-1)]:void 0}function jn(e,t){return wa(vi(e),Yn(t,0,e.length))}function Bn(e){return wa(vi(e))}function Vn(e,t,n){(void 0!==n&&!To(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function Un(e,t,n){var r=e[t];Se.call(e,t)&&To(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function Hn(e,t){for(var n=e.length;n--;)if(To(e[n][0],t))return n;return-1}function $n(e,t,n,r){return Jn(e,function(e,i,a){t(r,e,n(e),a)}),r}function qn(e,t){return e&&mi(t,_s(t),e)}function Gn(e,t,n){"__proto__"==t&&Wt?Wt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){for(var n=-1,i=t.length,a=r(i),o=null==e;++n<i;)a[n]=o?void 0:vs(e,t[n]);return a}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,r,i,a){var o,c=1&t,h=2&t,w=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!Ho(e))return e;var D=Mo(e);if(D){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return vi(e,o)}else{var M=ea(e),P=M==f||M==d;if(No(e))return li(e,c);if(M==m||M==s||P&&!i){if(o=h||P?{}:na(e),!c)return h?function(e,t){return mi(e,Ji(e),t)}(e,function(e,t){return e&&mi(t,ws(t),e)}(o,e)):function(e,t){return mi(e,Qi(e),t)}(e,qn(o,e))}else{if(!ze[M])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case k:return ui(e);case l:case u:return new r(+e);case S:return function(e,t){var n=t?ui(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case x:case C:case E:case R:case A:case T:case"[object Uint8ClampedArray]":case I:case O:return hi(e,n);case p:return new r;case v:case b:return new r(e);case g:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case _:return Cn?ve(Cn.call(e)):{}}}(e,M,c)}}a||(a=new Fn);var L=a.get(e);if(L)return L;a.set(e,o),Zo(e)?e.forEach(function(r){o.add(Zn(r,t,n,r,e,a))}):qo(e)&&e.forEach(function(r,i){o.set(i,Zn(r,t,n,i,e,a))});var F=D?void 0:(w?h?$i:Hi:h?ws:_s)(e);return it(F||e,function(r,i){F&&(r=e[i=r]),Un(o,i,Zn(r,t,n,i,e,a))}),o}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var i=n[r],a=e[i];if(void 0===a&&!(i in e)||!(0,t[i])(a))return!1}return!0}function Kn(e,t,n){if("function"!=typeof e)throw new ye(i);return ga(function(){e.apply(void 0,n)},t)}function Qn(e,t,n,r){var i=-1,a=ct,o=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=ut(t,Rt(n))),r?(a=lt,o=!1):t.length>=200&&(a=Tt,o=!1,t=new Ln(t));e:for(;++i<s;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var f=l;f--;)if(t[f]===h)continue e;c.push(u)}else a(t,h,r)||c.push(u)}return c}Rn.templateSettings={escape:j,evaluate:B,interpolate:V,variable:"",imports:{_:Rn}},(Rn.prototype=Tn.prototype).constructor=Rn,(In.prototype=An(Tn.prototype)).constructor=In,(On.prototype=An(Tn.prototype)).constructor=On,Dn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Dn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dn.prototype.get=function(e){var t=this.__data__;if(mn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Dn.prototype.has=function(e){var t=this.__data__;return mn?void 0!==t[e]:Se.call(t,e)},Dn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=Hn(t,e);return!(n<0||(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,0))},Mn.prototype.get=function(e){var t=this.__data__,n=Hn(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return Hn(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,r=Hn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(fn||Mn),string:new Dn}},Pn.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Pn.prototype.get=function(e){return Zi(this,e).get(e)},Pn.prototype.has=function(e){return Zi(this,e).has(e)},Pn.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this};var Jn=bi(sr),er=bi(cr,!0);function tr(e,t){var n=!0;return Jn(e,function(e,r,i){return n=!!t(e,r,i)}),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!Ko(o):n(o,s)))var s=o,c=a}return c}function rr(e,t){var n=[];return Jn(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function ir(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ra),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ir(s,t-1,n,r,i):ht(i,s):r||(i[i.length]=s)}return i}var ar=_i(),or=_i(!0);function sr(e,t){return e&&ar(e,t,_s)}function cr(e,t){return e&&or(e,t,_s)}function lr(e,t){return st(t,function(t){return Bo(e[t])})}function ur(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[Ca(t[n++])];return n&&n==r?e:void 0}function hr(e,t,n){var r=t(e);return Mo(e)?r:ht(r,n(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Gt&&Gt in ve(e)?function(e){var t=Se.call(e,Gt),n=e[Gt];try{e[Gt]=void 0;var r=!0}catch(a){}var i=Ee.call(e);return r&&(t?e[Gt]=n:delete e[Gt]),i}(e):function(e){return Ee.call(e)}(e)}function dr(e,t){return e>t}function pr(e,t){return null!=e&&Se.call(e,t)}function vr(e,t){return null!=e&&t in ve(e)}function mr(e,t,n){for(var i=n?lt:ct,a=e[0].length,o=e.length,s=o,c=r(o),l=1/0,u=[];s--;){var h=e[s];s&&t&&(h=ut(h,Rt(t))),l=on(h.length,l),c[s]=!n&&(t||a>=120&&h.length>=120)?new Ln(s&&h):void 0}h=e[0];var f=-1,d=c[0];e:for(;++f<a&&u.length<l;){var p=h[f],v=t?t(p):p;if(p=n||0!==p?p:0,!(d?Tt(d,v):i(u,v,n))){for(s=o;--s;){var m=c[s];if(!(m?Tt(m,v):i(e[s],v,n)))continue e}d&&d.push(v),u.push(p)}}return u}function gr(e,t,n){var r=null==(e=da(e,t=ai(t,e)))?e:e[Ca(za(t))];return null==r?void 0:nt(r,e,n)}function yr(e){return $o(e)&&fr(e)==s}function br(e,t,n,r,i){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var o=Mo(e),f=Mo(t),d=o?c:ea(e),w=f?c:ea(t),x=(d=d==s?m:d)==m,C=(w=w==s?m:w)==m,E=d==w;if(E&&No(e)){if(!No(t))return!1;o=!0,x=!1}if(E&&!x)return a||(a=new Fn),o||Qo(e)?Vi(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new Ue(e),new Ue(t)));case l:case u:case v:return To(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case p:var s=Nt;case y:if(s||(s=Bt),e.size!=t.size&&!(1&r))return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var f=Vi(s(e),s(t),r,i,a,o);return o.delete(e),f;case _:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,d,n,r,i,a);if(!(1&n)){var R=x&&Se.call(e,"__wrapped__"),A=C&&Se.call(t,"__wrapped__");if(R||A){var T=R?e.value():e,I=A?t.value():t;return a||(a=new Fn),i(T,I,n,r,a)}}return!!E&&(a||(a=new Fn),function(e,t,n,r,i,a){var o=1&n,s=Hi(e),c=s.length;if(c!=Hi(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:Se.call(t,u)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var f=!0;a.set(e,t),a.set(t,e);for(var d=o;++l<c;){var p=e[u=s[l]],v=t[u];if(r)var m=o?r(v,p,u,t,e,a):r(p,v,u,e,t,a);if(!(void 0===m?p===v||i(p,v,n,r,a):m)){f=!1;break}d||(d="constructor"==u)}if(f&&!d){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))}(e,t,n,r,br,i))}function _r(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=ve(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],l=e[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in e))return!1}else{var h=new Fn;if(r)var f=r(l,u,c,e,t,h);if(!(void 0===f?br(u,l,3,r,h):f))return!1}}return!0}function wr(e){return!(!Ho(e)||(t=e,Ce&&Ce in t))&&(Bo(e)?Oe:ae).test(Ea(e));var t}function kr(e){return"function"==typeof e?e:null==e?Gs:"object"==typeof e?Mo(e)?Rr(e[0],e[1]):Er(e):tc(e)}function Sr(e){if(!la(e))return rn(e);var t=[];for(var n in ve(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function xr(e,t){return e<t}function Cr(e,t){var n=-1,i=Lo(e)?r(e.length):[];return Jn(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Er(e){var t=Xi(e);return 1==t.length&&t[0][2]?ha(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Rr(e,t){return oa(e)&&ua(t)?ha(Ca(e),t):function(n){var r=vs(n,e);return void 0===r&&r===t?ms(n,e):br(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&ar(t,function(a,o){if(i||(i=new Fn),Ho(a))!function(e,t,n,r,i,a,o){var s=va(e,n),c=va(t,n),l=o.get(c);if(l)Vn(e,n,l);else{var u=a?a(s,c,n+"",e,t,o):void 0,h=void 0===u;if(h){var f=Mo(c),d=!f&&No(c),p=!f&&!d&&Qo(c);u=c,f||d||p?Mo(s)?u=s:Fo(s)?u=vi(s):d?(h=!1,u=li(c,!0)):p?(h=!1,u=hi(c,!0)):u=[]:Wo(c)||Do(c)?(u=s,Do(s)?u=os(s):Ho(s)&&!Bo(s)||(u=na(c))):h=!1}h&&(o.set(c,u),i(u,c,r,a,o),o.delete(c)),Vn(e,n,u)}}(e,t,o,n,Ar,r,i);else{var s=r?r(va(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Vn(e,o,s)}},ws)}function Tr(e,t){var n=e.length;if(n)return ia(t+=t<0?n:0,n)?e[t]:void 0}function Ir(e,t,n){var r=-1;return t=ut(t.length?t:[Gs],Rt(Yi())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=fi(i[r],a[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(Cr(e,function(e,n,i){return{criteria:ut(t,function(t){return t(e)}),index:++r,value:e}}))}function Or(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=ur(e,o);n(s,o)&&jr(a,ai(o,e),s)}return a}function Dr(e,t,n,r){var i=r?bt:yt,a=-1,o=t.length,s=e;for(e===t&&(t=vi(t)),n&&(s=ut(e,Rt(n)));++a<o;)for(var c=0,l=t[a],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ia(i)?Ze.call(e,i,1):Kr(e,i)}}return e}function Pr(e,t){return e+Qt(ln()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Fr(e,t){return ya(fa(e,t,Gs),e+"")}function Nr(e){return zn(Ts(e))}function zr(e,t){var n=Ts(e);return wa(n,Yn(t,0,n.length))}function jr(e,t,n,r){if(!Ho(e))return e;for(var i=-1,a=(t=ai(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=Ca(t[i]),l=n;if(i!=o){var u=s[c];void 0===(l=r?r(u,c,s):void 0)&&(l=Ho(u)?u:ia(t[i+1])?[]:{})}Un(s,c,l),s=s[c]}return e}var Br=gn?function(e,t){return gn.set(e,t),e}:Gs,Vr=Wt?function(e,t){return Wt(e,"toString",{configurable:!0,enumerable:!1,value:Hs(t),writable:!0})}:Gs;function Ur(e){return wa(Ts(e))}function Hr(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function $r(e,t){var n;return Jn(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function qr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Ko(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Gr(e,t,Gs,n)}function Gr(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,o=t!=t,s=null===t,c=Ko(t),l=void 0===t;i<a;){var u=Qt((i+a)/2),h=n(e[u]),f=void 0!==h,d=null===h,p=h==h,v=Ko(h);if(o)var m=r||p;else m=l?p&&(r||f):s?p&&f&&(r||!d):c?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=t:h<t);m?i=u+1:a=u}return on(a,4294967294)}function Wr(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!To(s,c)){var c=s;a[i++]=0===o?0:o}}return a}function Yr(e){return"number"==typeof e?e:Ko(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(Mo(e))return ut(e,Zr)+"";if(Ko(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=ct,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=lt;else if(a>=200){var l=t?null:Li(e);if(l)return Bt(l);o=!1,i=Tt,c=new Ln}else c=t?[]:s;e:for(;++r<a;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),s.push(u)}else i(c,h,n)||(c!==s&&c.push(h),s.push(u))}return s}function Kr(e,t){return null==(e=da(e,t=ai(t,e)))||delete e[Ca(za(t))]}function Qr(e,t,n,r){return jr(e,t,n(ur(e,t)),r)}function Jr(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Hr(e,r?0:a,r?a+1:i):Hr(e,r?a+1:0,r?i:a)}function ei(e,t){var n=e;return n instanceof On&&(n=n.value()),ft(t,function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))},n)}function ti(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],c=-1;++c<i;)c!=a&&(o[a]=Qn(o[a]||s,e[c],t,n));return Xr(ir(o,1),t,n)}function ni(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;)n(o,e[r],r<a?t[r]:void 0);return o}function ri(e){return Fo(e)?e:[]}function ii(e){return"function"==typeof e?e:Gs}function ai(e,t){return Mo(e)?e:oa(e,t)?[e]:xa(ss(e))}var oi=Fr;function si(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hr(e,t,n)}var ci=Yt||function(e){return $e.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ui(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function hi(e,t){var n=t?ui(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Ko(e),o=void 0!==t,s=null===t,c=t==t,l=Ko(t);if(!s&&!l&&!a&&e>t||a&&o&&c&&!s&&!l||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}function di(e,t,n,i){for(var a=-1,o=e.length,s=n.length,c=-1,l=t.length,u=an(o-s,0),h=r(l+u),f=!i;++c<l;)h[c]=t[c];for(;++a<s;)(f||a<o)&&(h[n[a]]=e[a]);for(;u--;)h[c++]=e[a++];return h}function pi(e,t,n,i){for(var a=-1,o=e.length,s=-1,c=n.length,l=-1,u=t.length,h=an(o-c,0),f=r(h+u),d=!i;++a<h;)f[a]=e[a];for(var p=a;++l<u;)f[p+l]=t[l];for(;++s<c;)(d||a<o)&&(f[p+n[s]]=e[a++]);return f}function vi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function mi(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Gn(n,s,c):Un(n,s,c)}return n}function gi(e,t){return function(n,r){var i=Mo(n)?rt:$n,a=t?t():{};return i(n,e,Yi(r,2),a)}}function yi(e){return Fr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&aa(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=ve(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function bi(e,t){return function(n,r){if(null==n)return n;if(!Lo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=ve(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function _i(e){return function(t,n,r){for(var i=-1,a=ve(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===n(a[c],c,a))break}return t}}function wi(e){return function(t){var n=Ft(t=ss(t))?Ht(t):void 0,r=n?n[0]:t.charAt(0),i=n?si(n,1).join(""):t.slice(1);return r[e]()+i}}function ki(e){return function(t){return ft(Bs(Ds(t).replace(Te,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),r=e.apply(n,t);return Ho(r)?r:n}}function xi(e){return function(t,n,r){var i=ve(t);if(!Lo(t)){var a=Yi(n,3);t=_s(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}function Ci(e){return Ui(function(t){var n=t.length,r=n,a=In.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ye(i);if(a&&!s&&"wrapper"==Gi(o))var s=new In([],!0)}for(r=s?r:n;++r<n;){var c=Gi(o=t[r]),l="wrapper"==c?qi(o):void 0;s=l&&sa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Gi(l[0])].apply(s,l[3]):1==o.length&&sa(o)?s[c]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Mo(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Ei(e,t,n,i,a,o,s,c,l,u){var h=128&t,f=1&t,d=2&t,p=24&t,v=512&t,m=d?void 0:Si(e);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Wi(g),k=Dt(b,w);if(i&&(b=di(b,i,a,p)),o&&(b=pi(b,o,s,p)),y-=k,p&&y<u){var S=jt(b,w);return Mi(e,t,Ei,g.placeholder,n,b,S,c,l,u-y)}var x=f?n:this,C=d?x[e]:e;return y=b.length,c?b=pa(b,c):v&&y>1&&b.reverse(),h&&l<y&&(b.length=l),this&&this!==$e&&this instanceof g&&(C=m||Si(C)),C.apply(x,b)}}function Ri(e,t){return function(n,r){return function(e,t,n,r){return sr(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ti(e){return Ui(function(t){return t=ut(t,Rt(Yi())),Fr(function(n){var r=this;return e(t,function(e){return nt(e,r,n)})})})}function Ii(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Kt(e/Ut(t)));return Ft(t)?si(Ht(r),0,e).join(""):r.slice(0,e)}function Oi(e){return function(t,n,i){return i&&"number"!=typeof i&&aa(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var a=-1,o=an(Kt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Di(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Mi(e,t,n,r,i,a,o,s,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,i,u?a:void 0,u?o:void 0,u?void 0:a,u?void 0:o,s,c,l],f=n.apply(void 0,h);return sa(e)&&ma(f,h),f.placeholder=r,ba(f,e,t)}function Pi(e){var t=pe[e];return function(e,n){if(e=as(e),(n=null==n?0:on(rs(n),292))&&tn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=pn&&1/Bt(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Ks;function Fi(e){return function(t){var n=ea(t);return n==p?Nt(t):n==y?Vt(t):function(e,t){return ut(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ni(e,t,n,o,s,c,l,u){var h=2&t;if(!h&&"function"!=typeof e)throw new ye(i);var f=o?o.length:0;if(f||(t&=-97,o=s=void 0),l=void 0===l?l:an(rs(l),0),u=void 0===u?u:rs(u),f-=s?s.length:0,64&t){var d=o,p=s;o=s=void 0}var v=h?void 0:qi(e),m=[e,t,n,o,s,d,p,c,l,u];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var o=t[3];if(o){var s=e[3];e[3]=s?di(s,o,t[4]):o,e[4]=s?jt(e[3],a):t[4]}(o=t[5])&&(e[5]=(s=e[5])?pi(s,o,t[6]):o,e[6]=s?jt(e[5],a):t[6]),(o=t[7])&&(e[7]=o),128&r&&(e[8]=null==e[8]?t[8]:on(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(m,v),e=m[0],t=m[1],n=m[2],o=m[3],s=m[4],!(u=m[9]=void 0===m[9]?h?0:e.length:an(m[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var i=Si(e);return function a(){for(var o=arguments.length,s=r(o),c=o,l=Wi(a);c--;)s[c]=arguments[c];var u=o<3&&s[0]!==l&&s[o-1]!==l?[]:jt(s,l);return(o-=u.length)<n?Mi(e,t,Ei,a.placeholder,void 0,s,u,void 0,void 0,n-o):nt(this&&this!==$e&&this instanceof a?i:e,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Ei.apply(void 0,m):function(e,t,n,i){var a=1&t,o=Si(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=i.length,h=r(u+c),f=this&&this!==$e&&this instanceof t?o:e;++l<u;)h[l]=i[l];for(;c--;)h[l++]=arguments[++s];return nt(f,a?n:this,h)}}(e,t,n,o);else var g=function(e,t,n){var r=1&t,i=Si(e);return function t(){return(this&&this!==$e&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ba((v?Br:ma)(g,m),e,t)}function zi(e,t,n,r){return void 0===e||To(e,_e[n])&&!Se.call(r,n)?t:e}function ji(e,t,n,r,i,a){return Ho(e)&&Ho(t)&&(a.set(t,e),Ar(e,t,void 0,ji,a),a.delete(t)),e}function Bi(e){return Wo(e)?void 0:e}function Vi(e,t,n,r,i,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var u=-1,h=!0,f=2&n?new Ln:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var d=e[u],p=t[u];if(r)var v=o?r(p,d,u,t,e,a):r(d,p,u,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!pt(t,function(e,t){if(!Tt(f,t)&&(d===e||i(d,e,n,r,a)))return f.push(t)})){h=!1;break}}else if(d!==p&&!i(d,p,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Ui(e){return ya(fa(e,void 0,Ma),e+"")}function Hi(e){return hr(e,_s,Qi)}function $i(e){return hr(e,ws,Ji)}var qi=gn?function(e){return gn.get(e)}:Ks;function Gi(e){for(var t=e.name+"",n=yn[t],r=Se.call(yn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Wi(e){return(Se.call(Rn,"placeholder")?Rn:e).placeholder}function Yi(){var e=Rn.iteratee||Ws;return e=e===Ws?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=_s(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ua(i)]}return t}function Ki(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wr(n)?n:void 0}var Qi=Jt?function(e){return null==e?[]:(e=ve(e),st(Jt(e),function(t){return Ye.call(e,t)}))}:ic,Ji=Jt?function(e){for(var t=[];e;)ht(t,Qi(e)),e=qe(e);return t}:ic,ea=fr;function ta(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,a=!1;++r<i;){var o=Ca(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Uo(i)&&ia(o,i)&&(Mo(e)||Do(e))}function na(e){return"function"!=typeof e.constructor||la(e)?{}:An(qe(e))}function ra(e){return Mo(e)||Do(e)||!!(vt&&e&&e[vt])}function ia(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function aa(e,t,n){if(!Ho(n))return!1;var r=typeof t;return!!("number"==r?Lo(n)&&ia(t,n.length):"string"==r&&t in n)&&To(n[t],e)}function oa(e,t){if(Mo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ko(e))||H.test(e)||!U.test(e)||null!=t&&e in ve(t)}function sa(e){var t=Gi(e),n=Rn[t];if("function"!=typeof n||!(t in On.prototype))return!1;if(e===n)return!0;var r=qi(n);return!!r&&e===r[0]}(hn&&ea(new hn(new ArrayBuffer(1)))!=S||fn&&ea(new fn)!=p||dn&&"[object Promise]"!=ea(dn.resolve())||pn&&ea(new pn)!=y||vn&&ea(new vn)!=w)&&(ea=function(e){var t=fr(e),n=t==m?e.constructor:void 0,r=n?Ea(n):"";if(r)switch(r){case bn:return S;case _n:return p;case wn:return"[object Promise]";case kn:return y;case Sn:return w}return t});var ca=we?Bo:ac;function la(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function ua(e){return e==e&&!Ho(e)}function ha(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in ve(n))}}function fa(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=an(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var c=r(t+1);++a<t;)c[a]=i[a];return c[t]=n(s),nt(e,this,c)}}function da(e,t){return t.length<2?e:ur(e,Hr(t,0,-1))}function pa(e,t){for(var n=e.length,r=on(t.length,n),i=vi(e);r--;){var a=t[r];e[r]=ia(a,n)?i[a]:void 0}return e}function va(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ma=_a(Br),ga=Xt||function(e,t){return $e.setTimeout(e,t)},ya=_a(Vr);function ba(e,t,n){var r=t+"";return ya(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return it(o,function(n){var r="_."+n[0];t&n[1]&&!ct(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(K);return t?t[1].split(Q):[]}(r),n)))}function _a(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wa(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var a=Pr(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var ka,Sa,xa=(ka=So(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)}),t},function(e){return 500===Sa.size&&Sa.clear(),e}),Sa=ka.cache,ka);function Ca(e){if("string"==typeof e||Ko(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ea(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ra(e){if(e instanceof On)return e.clone();var t=new In(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Aa=Fr(function(e,t){return Fo(e)?Qn(e,ir(t,1,Fo,!0)):[]}),Ta=Fr(function(e,t){var n=za(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ir(t,1,Fo,!0),Yi(n,2)):[]}),Ia=Fr(function(e,t){var n=za(t);return Fo(n)&&(n=void 0),Fo(e)?Qn(e,ir(t,1,Fo,!0),void 0,n):[]});function Oa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),gt(e,Yi(t,3),i)}function Da(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):on(i,r-1)),gt(e,Yi(t,3),i,!0)}function Ma(e){return null!=e&&e.length?ir(e,1):[]}function Pa(e){return e&&e.length?e[0]:void 0}var La=Fr(function(e){var t=ut(e,ri);return t.length&&t[0]===e[0]?mr(t):[]}),Fa=Fr(function(e){var t=za(e),n=ut(e,ri);return t===za(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?mr(n,Yi(t,2)):[]}),Na=Fr(function(e){var t=za(e),n=ut(e,ri);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?mr(n,void 0,t):[]});function za(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ja=Fr(Ba);function Ba(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var Va=Ui(function(e,t){var n=null==e?0:e.length,r=Wn(e,t);return Mr(e,ut(t,function(e){return ia(e,n)?+e:e}).sort(fi)),r});function Ua(e){return null==e?e:un.call(e)}var Ha=Fr(function(e){return Xr(ir(e,1,Fo,!0))}),$a=Fr(function(e){var t=za(e);return Fo(t)&&(t=void 0),Xr(ir(e,1,Fo,!0),Yi(t,2))}),qa=Fr(function(e){var t=za(e);return t="function"==typeof t?t:void 0,Xr(ir(e,1,Fo,!0),void 0,t)});function Ga(e){if(!e||!e.length)return[];var t=0;return e=st(e,function(e){if(Fo(e))return t=an(e.length,t),!0}),Et(t,function(t){return ut(e,kt(t))})}function Wa(e,t){if(!e||!e.length)return[];var n=Ga(e);return null==t?n:ut(n,function(e){return nt(t,void 0,e)})}var Ya=Fr(function(e,t){return Fo(e)?Qn(e,t):[]}),Za=Fr(function(e){return ti(st(e,Fo))}),Xa=Fr(function(e){var t=za(e);return Fo(t)&&(t=void 0),ti(st(e,Fo),Yi(t,2))}),Ka=Fr(function(e){var t=za(e);return t="function"==typeof t?t:void 0,ti(st(e,Fo),void 0,t)}),Qa=Fr(Ga),Ja=Fr(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Wa(e,n)});function eo(e){var t=Rn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Ui(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Wn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof On&&ia(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new In(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(i)}),ro=gi(function(e,t,n){Se.call(e,n)?++e[n]:Gn(e,n,1)}),io=xi(Oa),ao=xi(Da);function oo(e,t){return(Mo(e)?it:Jn)(e,Yi(t,3))}function so(e,t){return(Mo(e)?at:er)(e,Yi(t,3))}var co=gi(function(e,t,n){Se.call(e,n)?e[n].push(t):Gn(e,n,[t])}),lo=Fr(function(e,t,n){var i=-1,a="function"==typeof t,o=Lo(e)?r(e.length):[];return Jn(e,function(e){o[++i]=a?nt(t,e,n):gr(e,t,n)}),o}),uo=gi(function(e,t,n){Gn(e,n,t)});function ho(e,t){return(Mo(e)?ut:Cr)(e,Yi(t,3))}var fo=gi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),po=Fr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&aa(e,t[0],t[1])?t=[]:n>2&&aa(t[0],t[1],t[2])&&(t=[t[0]]),Ir(e,ir(t,1),[])}),vo=Zt||function(){return $e.Date.now()};function mo(e,t,n){return t=n?void 0:t,Ni(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function go(e,t){var n;if("function"!=typeof t)throw new ye(i);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var yo=Fr(function(e,t,n){var r=1;if(n.length){var i=jt(n,Wi(yo));r|=32}return Ni(e,r,t,n,i)}),bo=Fr(function(e,t,n){var r=3;if(n.length){var i=jt(n,Wi(bo));r|=32}return Ni(t,r,e,n,i)});function _o(e,t,n){var r,a,o,s,c,l,u=0,h=!1,f=!1,d=!0;if("function"!=typeof e)throw new ye(i);function p(t){var n=r,i=a;return r=a=void 0,u=t,s=e.apply(i,n)}function v(e){return u=e,c=ga(g,t),h?p(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=o}function g(){var e=vo();if(m(e))return y(e);c=ga(g,function(e){var n=t-(e-l);return f?on(n,o-(e-u)):n}(e))}function y(e){return c=void 0,d&&r?p(e):(r=a=void 0,s)}function b(){var e=vo(),n=m(e);if(r=arguments,a=this,l=e,n){if(void 0===c)return v(l);if(f)return ci(c),c=ga(g,t),p(l)}return void 0===c&&(c=ga(g,t)),s}return t=as(t)||0,Ho(n)&&(h=!!n.leading,o=(f="maxWait"in n)?an(as(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==c&&ci(c),u=0,r=l=a=c=void 0},b.flush=function(){return void 0===c?s:y(vo())},b}var wo=Fr(function(e,t){return Kn(e,1,t)}),ko=Fr(function(e,t,n){return Kn(e,as(t)||0,n)});function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(So.Cache||Pn),n}function xo(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}So.Cache=Pn;var Co=oi(function(e,t){var n=(t=1==t.length&&Mo(t[0])?ut(t[0],Rt(Yi())):ut(ir(t,1),Rt(Yi()))).length;return Fr(function(r){for(var i=-1,a=on(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)})}),Eo=Fr(function(e,t){return Ni(e,32,void 0,t,jt(t,Wi(Eo)))}),Ro=Fr(function(e,t){return Ni(e,64,void 0,t,jt(t,Wi(Ro)))}),Ao=Ui(function(e,t){return Ni(e,256,void 0,void 0,void 0,t)});function To(e,t){return e===t||e!=e&&t!=t}var Io=Di(dr),Oo=Di(function(e,t){return e>=t}),Do=yr(function(){return arguments}())?yr:function(e){return $o(e)&&Se.call(e,"callee")&&!Ye.call(e,"callee")},Mo=r.isArray,Po=Xe?Rt(Xe):function(e){return $o(e)&&fr(e)==k};function Lo(e){return null!=e&&Uo(e.length)&&!Bo(e)}function Fo(e){return $o(e)&&Lo(e)}var No=en||ac,zo=Ke?Rt(Ke):function(e){return $o(e)&&fr(e)==u};function jo(e){if(!$o(e))return!1;var t=fr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Bo(e){if(!Ho(e))return!1;var t=fr(e);return t==f||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vo(e){return"number"==typeof e&&e==rs(e)}function Uo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ho(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var qo=Qe?Rt(Qe):function(e){return $o(e)&&ea(e)==p};function Go(e){return"number"==typeof e||$o(e)&&fr(e)==v}function Wo(e){if(!$o(e)||fr(e)!=m)return!1;var t=qe(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Re}var Yo=Je?Rt(Je):function(e){return $o(e)&&fr(e)==g},Zo=et?Rt(et):function(e){return $o(e)&&ea(e)==y};function Xo(e){return"string"==typeof e||!Mo(e)&&$o(e)&&fr(e)==b}function Ko(e){return"symbol"==typeof e||$o(e)&&fr(e)==_}var Qo=tt?Rt(tt):function(e){return $o(e)&&Uo(e.length)&&!!Ne[fr(e)]},Jo=Di(xr),es=Di(function(e,t){return e<=t});function ts(e){if(!e)return[];if(Lo(e))return Xo(e)?Ht(e):vi(e);if(St&&e[St])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[St]());var t=ea(e);return(t==p?Nt:t==y?Bt:Ts)(e)}function ns(e){return e?1/0===(e=as(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Yn(rs(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Ko(e))return NaN;if(Ho(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ho(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(W,"");var n=ie.test(e);return n||oe.test(e)?Ve(e.slice(2),n?2:8):re.test(e)?NaN:+e}function os(e){return mi(e,ws(e))}function ss(e){return null==e?"":Zr(e)}var cs=yi(function(e,t){if(la(t)||Lo(t))mi(t,_s(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])}),ls=yi(function(e,t){mi(t,ws(t),e)}),us=yi(function(e,t,n,r){mi(t,ws(t),e,r)}),hs=yi(function(e,t,n,r){mi(t,_s(t),e,r)}),fs=Ui(Wn),ds=Fr(function(e,t){e=ve(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&aa(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=ws(a),s=-1,c=o.length;++s<c;){var l=o[s],u=e[l];(void 0===u||To(u,_e[l])&&!Se.call(e,l))&&(e[l]=a[l])}return e}),ps=Fr(function(e){return e.push(void 0,ji),nt(Ss,void 0,e)});function vs(e,t,n){var r=null==e?void 0:ur(e,t);return void 0===r?n:r}function ms(e,t){return null!=e&&ta(e,t,vr)}var gs=Ri(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n},Hs(Gs)),ys=Ri(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]},Yi),bs=Fr(gr);function _s(e){return Lo(e)?Nn(e):Sr(e)}function ws(e){return Lo(e)?Nn(e,!0):function(e){if(!Ho(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=la(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}(e)}var ks=yi(function(e,t,n){Ar(e,t,n)}),Ss=yi(function(e,t,n,r){Ar(e,t,n,r)}),xs=Ui(function(e,t){var n={};if(null==e)return n;var r=!1;t=ut(t,function(t){return t=ai(t,e),r||(r=t.length>1),t}),mi(e,$i(e),n),r&&(n=Zn(n,7,Bi));for(var i=t.length;i--;)Kr(n,t[i]);return n}),Cs=Ui(function(e,t){return null==e?{}:function(e,t){return Or(e,t,function(t,n){return ms(e,n)})}(e,t)});function Es(e,t){if(null==e)return{};var n=ut($i(e),function(e){return[e]});return t=Yi(t),Or(e,n,function(e,n){return t(e,n[0])})}var Rs=Fi(_s),As=Fi(ws);function Ts(e){return null==e?[]:At(e,_s(e))}var Is=ki(function(e,t,n){return t=t.toLowerCase(),e+(n?Os(t):t)});function Os(e){return js(ss(e).toLowerCase())}function Ds(e){return(e=ss(e))&&e.replace(ce,Mt).replace(Ie,"")}var Ms=ki(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ps=ki(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ls=wi("toLowerCase"),Fs=ki(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ns=ki(function(e,t,n){return e+(n?" ":"")+js(t)}),zs=ki(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),js=wi("toUpperCase");function Bs(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Pe.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var Vs=Fr(function(e,t){try{return nt(e,void 0,t)}catch(n){return jo(n)?n:new fe(n)}}),Us=Ui(function(e,t){return it(t,function(t){t=Ca(t),Gn(e,t,yo(e[t],e))}),e});function Hs(e){return function(){return e}}var $s=Ci(),qs=Ci(!0);function Gs(e){return e}function Ws(e){return kr("function"==typeof e?e:Zn(e,1))}var Ys=Fr(function(e,t){return function(n){return gr(n,e,t)}}),Zs=Fr(function(e,t){return function(n){return gr(e,n,t)}});function Xs(e,t,n){var r=_s(t),i=lr(t,r);null!=n||Ho(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=lr(t,_s(t)));var a=!(Ho(n)&&"chain"in n&&!n.chain),o=Bo(e);return it(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})}),e}function Ks(){}var Qs=Ti(ut),Js=Ti(ot),ec=Ti(pt);function tc(e){return oa(e)?kt(Ca(e)):function(e){return function(t){return ur(t,e)}}(e)}var nc=Oi(),rc=Oi(!0);function ic(){return[]}function ac(){return!1}var oc,sc=Ai(function(e,t){return e+t},0),cc=Pi("ceil"),lc=Ai(function(e,t){return e/t},1),uc=Pi("floor"),hc=Ai(function(e,t){return e*t},1),fc=Pi("round"),dc=Ai(function(e,t){return e-t},0);return Rn.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},Rn.ary=mo,Rn.assign=cs,Rn.assignIn=ls,Rn.assignInWith=us,Rn.assignWith=hs,Rn.at=fs,Rn.before=go,Rn.bind=yo,Rn.bindAll=Us,Rn.bindKey=bo,Rn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Mo(e)?e:[e]},Rn.chain=eo,Rn.chunk=function(e,t,n){t=(n?aa(e,t,n):void 0===t)?1:an(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=r(Kt(i/t));a<i;)s[o++]=Hr(e,a,a+=t);return s},Rn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Rn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(Mo(n)?vi(n):[n],ir(t,1))},Rn.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?ut(e,function(e){if("function"!=typeof e[1])throw new ye(i);return[n(e[0]),e[1]]}):[],Fr(function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}})},Rn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Xn(n,e,t)}}(Zn(e,1))},Rn.constant=Hs,Rn.countBy=ro,Rn.create=function(e,t){var n=An(e);return null==t?n:qn(n,t)},Rn.curry=function e(t,n,r){var i=Ni(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.curryRight=function e(t,n,r){var i=Ni(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.debounce=_o,Rn.defaults=ds,Rn.defaultsDeep=ps,Rn.defer=wo,Rn.delay=ko,Rn.difference=Aa,Rn.differenceBy=Ta,Rn.differenceWith=Ia,Rn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},Rn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},Rn.dropRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0,!0):[]},Rn.dropWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0):[]},Rn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&aa(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Rn.filter=function(e,t){return(Mo(e)?st:rr)(e,Yi(t,3))},Rn.flatMap=function(e,t){return ir(ho(e,t),1)},Rn.flatMapDeep=function(e,t){return ir(ho(e,t),1/0)},Rn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ir(ho(e,t),n)},Rn.flatten=Ma,Rn.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},Rn.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:rs(t)):[]},Rn.flip=function(e){return Ni(e,512)},Rn.flow=$s,Rn.flowRight=qs,Rn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Rn.functions=function(e){return null==e?[]:lr(e,_s(e))},Rn.functionsIn=function(e){return null==e?[]:lr(e,ws(e))},Rn.groupBy=co,Rn.initial=function(e){return null!=e&&e.length?Hr(e,0,-1):[]},Rn.intersection=La,Rn.intersectionBy=Fa,Rn.intersectionWith=Na,Rn.invert=gs,Rn.invertBy=ys,Rn.invokeMap=lo,Rn.iteratee=Ws,Rn.keyBy=uo,Rn.keys=_s,Rn.keysIn=ws,Rn.map=ho,Rn.mapKeys=function(e,t){var n={};return t=Yi(t,3),sr(e,function(e,r,i){Gn(n,t(e,r,i),e)}),n},Rn.mapValues=function(e,t){var n={};return t=Yi(t,3),sr(e,function(e,r,i){Gn(n,r,t(e,r,i))}),n},Rn.matches=function(e){return Er(Zn(e,1))},Rn.matchesProperty=function(e,t){return Rr(e,Zn(t,1))},Rn.memoize=So,Rn.merge=ks,Rn.mergeWith=Ss,Rn.method=Ys,Rn.methodOf=Zs,Rn.mixin=Xs,Rn.negate=xo,Rn.nthArg=function(e){return e=rs(e),Fr(function(t){return Tr(t,e)})},Rn.omit=xs,Rn.omitBy=function(e,t){return Es(e,xo(Yi(t)))},Rn.once=function(e){return go(2,e)},Rn.orderBy=function(e,t,n,r){return null==e?[]:(Mo(t)||(t=null==t?[]:[t]),Mo(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(e,t,n))},Rn.over=Qs,Rn.overArgs=Co,Rn.overEvery=Js,Rn.overSome=ec,Rn.partial=Eo,Rn.partialRight=Ro,Rn.partition=fo,Rn.pick=Cs,Rn.pickBy=Es,Rn.property=tc,Rn.propertyOf=function(e){return function(t){return null==e?void 0:ur(e,t)}},Rn.pull=ja,Rn.pullAll=Ba,Rn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,Yi(n,2)):e},Rn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},Rn.pullAt=Va,Rn.range=nc,Rn.rangeRight=rc,Rn.rearg=Ao,Rn.reject=function(e,t){return(Mo(e)?st:rr)(e,xo(Yi(t,3)))},Rn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=Yi(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Mr(e,i),n},Rn.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Fr(e,t=void 0===t?t:rs(t))},Rn.reverse=Ua,Rn.sampleSize=function(e,t,n){return t=(n?aa(e,t,n):void 0===t)?1:rs(t),(Mo(e)?jn:zr)(e,t)},Rn.set=function(e,t,n){return null==e?e:jr(e,t,n)},Rn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:jr(e,t,n,r)},Rn.shuffle=function(e){return(Mo(e)?Bn:Ur)(e)},Rn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&aa(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),Hr(e,t,n)):[]},Rn.sortBy=po,Rn.sortedUniq=function(e){return e&&e.length?Wr(e):[]},Rn.sortedUniqBy=function(e,t){return e&&e.length?Wr(e,Yi(t,2)):[]},Rn.split=function(e,t,n){return n&&"number"!=typeof n&&aa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Zr(t))&&Ft(e)?si(Ht(e),0,n):e.split(t,n):[]},Rn.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:an(rs(t),0),Fr(function(n){var r=n[t],i=si(n,0,t);return r&&ht(i,r),nt(e,this,i)})},Rn.tail=function(e){var t=null==e?0:e.length;return t?Hr(e,1,t):[]},Rn.take=function(e,t,n){return e&&e.length?Hr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},Rn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},Rn.takeRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!1,!0):[]},Rn.takeWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3)):[]},Rn.tap=function(e,t){return t(e),e},Rn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new ye(i);return Ho(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),_o(e,t,{leading:r,maxWait:t,trailing:a})},Rn.thru=to,Rn.toArray=ts,Rn.toPairs=Rs,Rn.toPairsIn=As,Rn.toPath=function(e){return Mo(e)?ut(e,Ca):Ko(e)?[e]:vi(xa(ss(e)))},Rn.toPlainObject=os,Rn.transform=function(e,t,n){var r=Mo(e),i=r||No(e)||Qo(e);if(t=Yi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Ho(e)&&Bo(a)?An(qe(e)):{}}return(i?it:sr)(e,function(e,r,i){return t(n,e,r,i)}),n},Rn.unary=function(e){return mo(e,1)},Rn.union=Ha,Rn.unionBy=$a,Rn.unionWith=qa,Rn.uniq=function(e){return e&&e.length?Xr(e):[]},Rn.uniqBy=function(e,t){return e&&e.length?Xr(e,Yi(t,2)):[]},Rn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Rn.unset=function(e,t){return null==e||Kr(e,t)},Rn.unzip=Ga,Rn.unzipWith=Wa,Rn.update=function(e,t,n){return null==e?e:Qr(e,t,ii(n))},Rn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,ii(n),r)},Rn.values=Ts,Rn.valuesIn=function(e){return null==e?[]:At(e,ws(e))},Rn.without=Ya,Rn.words=Bs,Rn.wrap=function(e,t){return Eo(ii(t),e)},Rn.xor=Za,Rn.xorBy=Xa,Rn.xorWith=Ka,Rn.zip=Qa,Rn.zipObject=function(e,t){return ni(e||[],t||[],Un)},Rn.zipObjectDeep=function(e,t){return ni(e||[],t||[],jr)},Rn.zipWith=Ja,Rn.entries=Rs,Rn.entriesIn=As,Rn.extend=ls,Rn.extendWith=us,Xs(Rn,Rn),Rn.add=sc,Rn.attempt=Vs,Rn.camelCase=Is,Rn.capitalize=Os,Rn.ceil=cc,Rn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Yn(as(e),t,n)},Rn.clone=function(e){return Zn(e,4)},Rn.cloneDeep=function(e){return Zn(e,5)},Rn.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},Rn.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},Rn.conformsTo=function(e,t){return null==t||Xn(e,t,_s(t))},Rn.deburr=Ds,Rn.defaultTo=function(e,t){return null==e||e!=e?t:e},Rn.divide=lc,Rn.endsWith=function(e,t,n){e=ss(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Yn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Rn.eq=To,Rn.escape=function(e){return(e=ss(e))&&z.test(e)?e.replace(F,Pt):e},Rn.escapeRegExp=function(e){return(e=ss(e))&&G.test(e)?e.replace(q,"\\$&"):e},Rn.every=function(e,t,n){var r=Mo(e)?ot:tr;return n&&aa(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Rn.find=io,Rn.findIndex=Oa,Rn.findKey=function(e,t){return mt(e,Yi(t,3),sr)},Rn.findLast=ao,Rn.findLastIndex=Da,Rn.findLastKey=function(e,t){return mt(e,Yi(t,3),cr)},Rn.floor=uc,Rn.forEach=oo,Rn.forEachRight=so,Rn.forIn=function(e,t){return null==e?e:ar(e,Yi(t,3),ws)},Rn.forInRight=function(e,t){return null==e?e:or(e,Yi(t,3),ws)},Rn.forOwn=function(e,t){return e&&sr(e,Yi(t,3))},Rn.forOwnRight=function(e,t){return e&&cr(e,Yi(t,3))},Rn.get=vs,Rn.gt=Io,Rn.gte=Oo,Rn.has=function(e,t){return null!=e&&ta(e,t,pr)},Rn.hasIn=ms,Rn.head=Pa,Rn.identity=Gs,Rn.includes=function(e,t,n,r){e=Lo(e)?e:Ts(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Xo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&yt(e,t,n)>-1},Rn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),yt(e,t,i)},Rn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=on(t,n)&&e<an(t,n)}(e=as(e),t,n)},Rn.invoke=bs,Rn.isArguments=Do,Rn.isArray=Mo,Rn.isArrayBuffer=Po,Rn.isArrayLike=Lo,Rn.isArrayLikeObject=Fo,Rn.isBoolean=function(e){return!0===e||!1===e||$o(e)&&fr(e)==l},Rn.isBuffer=No,Rn.isDate=zo,Rn.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},Rn.isEmpty=function(e){if(null==e)return!0;if(Lo(e)&&(Mo(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Qo(e)||Do(e)))return!e.length;var t=ea(e);if(t==p||t==y)return!e.size;if(la(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},Rn.isEqual=function(e,t){return br(e,t)},Rn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Rn.isError=jo,Rn.isFinite=function(e){return"number"==typeof e&&tn(e)},Rn.isFunction=Bo,Rn.isInteger=Vo,Rn.isLength=Uo,Rn.isMap=qo,Rn.isMatch=function(e,t){return e===t||_r(e,t,Xi(t))},Rn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Xi(t),n)},Rn.isNaN=function(e){return Go(e)&&e!=+e},Rn.isNative=function(e){if(ca(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(e)},Rn.isNil=function(e){return null==e},Rn.isNull=function(e){return null===e},Rn.isNumber=Go,Rn.isObject=Ho,Rn.isObjectLike=$o,Rn.isPlainObject=Wo,Rn.isRegExp=Yo,Rn.isSafeInteger=function(e){return Vo(e)&&e>=-9007199254740991&&e<=9007199254740991},Rn.isSet=Zo,Rn.isString=Xo,Rn.isSymbol=Ko,Rn.isTypedArray=Qo,Rn.isUndefined=function(e){return void 0===e},Rn.isWeakMap=function(e){return $o(e)&&ea(e)==w},Rn.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==fr(e)},Rn.join=function(e,t){return null==e?"":nn.call(e,t)},Rn.kebabCase=Ms,Rn.last=za,Rn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):on(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):gt(e,_t,i,!0)},Rn.lowerCase=Ps,Rn.lowerFirst=Ls,Rn.lt=Jo,Rn.lte=es,Rn.max=function(e){return e&&e.length?nr(e,Gs,dr):void 0},Rn.maxBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),dr):void 0},Rn.mean=function(e){return wt(e,Gs)},Rn.meanBy=function(e,t){return wt(e,Yi(t,2))},Rn.min=function(e){return e&&e.length?nr(e,Gs,xr):void 0},Rn.minBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),xr):void 0},Rn.stubArray=ic,Rn.stubFalse=ac,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=hc,Rn.nth=function(e,t){return e&&e.length?Tr(e,rs(t)):void 0},Rn.noConflict=function(){return $e._===this&&($e._=Ae),this},Rn.noop=Ks,Rn.now=vo,Rn.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ut(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ii(Qt(i),n)+e+Ii(Kt(i),n)},Rn.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ut(e):0;return t&&r<t?e+Ii(t-r,n):e},Rn.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ut(e):0;return t&&r<t?Ii(t-r,n)+e:e},Rn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ss(e).replace(Y,""),t||0)},Rn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&aa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return on(e+i*(t-e+Be("1e-"+((i+"").length-1))),t)}return Pr(e,t)},Rn.reduce=function(e,t,n){var r=Mo(e)?ft:xt,i=arguments.length<3;return r(e,Yi(t,4),n,i,Jn)},Rn.reduceRight=function(e,t,n){var r=Mo(e)?dt:xt,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},Rn.repeat=function(e,t,n){return t=(n?aa(e,t,n):void 0===t)?1:rs(t),Lr(ss(e),t)},Rn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rn.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var a=null==e?void 0:e[Ca(t[r])];void 0===a&&(r=i,a=n),e=Bo(a)?a.call(e):a}return e},Rn.round=fc,Rn.runInContext=e,Rn.sample=function(e){return(Mo(e)?zn:Nr)(e)},Rn.size=function(e){if(null==e)return 0;if(Lo(e))return Xo(e)?Ut(e):e.length;var t=ea(e);return t==p||t==y?e.size:Sr(e).length},Rn.snakeCase=Fs,Rn.some=function(e,t,n){var r=Mo(e)?pt:$r;return n&&aa(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Rn.sortedIndex=function(e,t){return qr(e,t)},Rn.sortedIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2))},Rn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qr(e,t);if(r<n&&To(e[r],t))return r}return-1},Rn.sortedLastIndex=function(e,t){return qr(e,t,!0)},Rn.sortedLastIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2),!0)},Rn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=qr(e,t,!0)-1;if(To(e[n],t))return n}return-1},Rn.startCase=Ns,Rn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Yn(rs(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},Rn.subtract=dc,Rn.sum=function(e){return e&&e.length?Ct(e,Gs):0},Rn.sumBy=function(e,t){return e&&e.length?Ct(e,Yi(t,2)):0},Rn.template=function(e,t,n){var r=Rn.templateSettings;n&&aa(e,t,n)&&(t=void 0),e=ss(e),t=us({},t,r,zi);var i,a,o=us({},t.imports,r.imports,zi),s=_s(o),c=At(o,s),l=0,u=t.interpolate||le,h="__p += '",f=me((t.escape||le).source+"|"+u.source+"|"+(u===V?te:le).source+"|"+(t.evaluate||le).source+"|$","g"),d="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(f,function(t,n,r,o,s,c){return r||(r=o),h+=e.slice(l,c).replace(ue,Lt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),h+="';\n";var p=Se.call(t,"variable")&&t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(D,""):h).replace(M,"$1").replace(P,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Vs(function(){return de(s,d+"return "+h).apply(void 0,c)});if(v.source=h,jo(v))throw v;return v},Rn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=on(e,4294967295);e-=4294967295;for(var i=Et(r,t=Yi(t));++n<e;)t(n);return i},Rn.toFinite=ns,Rn.toInteger=rs,Rn.toLength=is,Rn.toLower=function(e){return ss(e).toLowerCase()},Rn.toNumber=as,Rn.toSafeInteger=function(e){return e?Yn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},Rn.toString=ss,Rn.toUpper=function(e){return ss(e).toUpperCase()},Rn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e),i=Ht(t);return si(r,It(r,i),Ot(r,i)+1).join("")},Rn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e);return si(r,0,Ot(r,Ht(t))+1).join("")},Rn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e);return si(r,It(r,Ht(t))).join("")},Rn.truncate=function(e,t){var n=30,r="...";if(Ho(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Zr(t.omission):r}var a=(e=ss(e)).length;if(Ft(e)){var o=Ht(e);a=o.length}if(n>=a)return e;var s=n-Ut(r);if(s<1)return r;var c=o?si(o,0,s).join(""):e.slice(0,s);if(void 0===i)return c+r;if(o&&(s+=c.length-s),Yo(i)){if(e.slice(s).search(i)){var l,u=c;for(i.global||(i=me(i.source,ss(ne.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var h=l.index;c=c.slice(0,void 0===h?s:h)}}else if(e.indexOf(Zr(i),s)!=s){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+r},Rn.unescape=function(e){return(e=ss(e))&&N.test(e)?e.replace(L,$t):e},Rn.uniqueId=function(e){var t=++xe;return ss(e)+t},Rn.upperCase=zs,Rn.upperFirst=js,Rn.each=oo,Rn.eachRight=so,Rn.first=Pa,Xs(Rn,(oc={},sr(Rn,function(e,t){Se.call(Rn.prototype,t)||(oc[t]=e)}),oc),{chain:!1}),Rn.VERSION="4.17.15",it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Rn[e].placeholder=Rn}),it(["drop","take"],function(e,t){On.prototype[e]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!t?new On(this):this.clone();return r.__filtered__?r.__takeCount__=on(n,r.__takeCount__):r.__views__.push({size:on(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},On.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),it(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;On.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),it(["head","last"],function(e,t){var n="take"+(t?"Right":"");On.prototype[e]=function(){return this[n](1).value()[0]}}),it(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");On.prototype[e]=function(){return this.__filtered__?new On(this):this[n](1)}}),On.prototype.compact=function(){return this.filter(Gs)},On.prototype.find=function(e){return this.filter(e).head()},On.prototype.findLast=function(e){return this.reverse().find(e)},On.prototype.invokeMap=Fr(function(e,t){return"function"==typeof e?new On(this):this.map(function(n){return gr(n,e,t)})}),On.prototype.reject=function(e){return this.filter(xo(Yi(e)))},On.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new On(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},On.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},sr(On.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Rn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Rn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,s=t instanceof On,c=o[0],l=s||Mo(t),u=function(e){var t=i.apply(Rn,ht([e],o));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,f=!!this.__actions__.length,d=a&&!h,p=s&&!f;if(!a&&l){t=p?t:new On(this);var v=e.apply(t,o);return v.__actions__.push({func:to,args:[u],thisArg:void 0}),new In(v,h)}return d&&p?e.apply(this,o):(v=this.thru(u),d?r?v.value()[0]:v.value():v)})}),it(["pop","push","shift","sort","splice","unshift"],function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Rn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Mo(i)?i:[],e)}return this[n](function(n){return t.apply(Mo(n)?n:[],e)})}}),sr(On.prototype,function(e,t){var n=Rn[t];if(n){var r=n.name+"";Se.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}}),yn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var e=new On(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},On.prototype.reverse=function(){if(this.__filtered__){var e=new On(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},On.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Mo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=on(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,c=s-o,l=r?s:o-1,u=this.__iteratees__,h=u.length,f=0,d=on(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return ei(e,this.__actions__);var p=[];e:for(;c--&&f<d;){for(var v=-1,m=e[l+=t];++v<h;){var g=u[v],y=g.type,b=(0,g.iteratee)(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}p[f++]=m}return p},Rn.prototype.at=no,Rn.prototype.chain=function(){return eo(this)},Rn.prototype.commit=function(){return new In(this.value(),this.__chain__)},Rn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Rn.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var r=Ra(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Rn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof On){var t=e;return this.__actions__.length&&(t=new On(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ua],thisArg:void 0}),new In(t,this.__chain__)}return this.thru(Ua)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,St&&(Rn.prototype[St]=function(){return this}),Rn}();$e._=qt,void 0===(r=(function(){return qt}).call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n("YuTi")(e))},SOwp:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return u});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}},WuQa:function(e,t,n){var r;r=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(e){try{return!!e()}catch(t){return!0}},a=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!o.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:o},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},u={}.toString,h=function(e){return u.call(e).slice(8,-1)},f="".split,d=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==h(e)?f.call(e,""):Object(e)}:Object,p=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return d(p(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=function(e,t){if(!m(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!m(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,b=function(e,t){return y.call(e,t)},_=r.document,w=m(_)&&m(_.createElement),k=function(e){return w?_.createElement(e):{}},S=!a&&!i(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),x=Object.getOwnPropertyDescriptor,C={f:a?x:function(e,t){if(e=v(e),t=g(t,!0),S)try{return x(e,t)}catch(n){}if(b(e,t))return l(!c.f.call(e,t),e[t])}},E=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},R=Object.defineProperty,A={f:a?R:function(e,t,n){if(E(e),t=g(t,!0),E(n),S)try{return R(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},T=a?function(e,t,n){return A.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},I=function(e,t){try{T(r,e,t)}catch(n){r[e]=t}return t},O=r["__core-js_shared__"]||I("__core-js_shared__",{}),D=Function.toString;"function"!=typeof O.inspectSource&&(O.inspectSource=function(e){return D.call(e)});var M,P,L,F=O.inspectSource,N=r.WeakMap,z="function"==typeof N&&/native code/.test(F(N)),j=t(function(e){(e.exports=function(e,t){return O[e]||(O[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),B=0,V=Math.random(),U=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++B+V).toString(36)},H=j("keys"),$=function(e){return H[e]||(H[e]=U(e))},q={};if(z){var G=new(0,r.WeakMap),W=G.get,Y=G.has,Z=G.set;M=function(e,t){return Z.call(G,e,t),t},P=function(e){return W.call(G,e)||{}},L=function(e){return Y.call(G,e)}}else{var X=$("state");q[X]=!0,M=function(e,t){return T(e,X,t),t},P=function(e){return b(e,X)?e[X]:{}},L=function(e){return b(e,X)}}var K,Q,J={set:M,get:P,has:L,enforce:function(e){return L(e)?P(e):M(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=P(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=t(function(e){var t=J.get,n=J.enforce,i=String(String).split("String");(e.exports=function(e,t,a,o){var s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof t||b(a,"name")||T(a,"name",t),n(a).source=i.join("string"==typeof t?t:"")),e!==r?(s?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=a:T(e,t,a)):c?e[t]=a:I(t,a)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||F(this)})}),te=r,ne=function(e){return"function"==typeof e?e:void 0},re=function(e,t){return arguments.length<2?ne(te[e])||ne(r[e]):te[e]&&te[e][t]||r[e]&&r[e][t]},ie=Math.ceil,ae=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?ae:ie)(e)},se=Math.min,ce=function(e){return e>0?se(oe(e),9007199254740991):0},le=Math.max,ue=Math.min,he=function(e,t){var n=oe(e);return n<0?le(n+t,0):ue(n,t)},fe=function(e){return function(t,n,r){var i,a=v(t),o=ce(a.length),s=he(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},de={includes:fe(!0),indexOf:fe(!1)},pe=de.indexOf,ve=function(e,t){var n,r=v(e),i=0,a=[];for(n in r)!b(q,n)&&b(r,n)&&a.push(n);for(;t.length>i;)b(r,n=t[i++])&&(~pe(a,n)||a.push(n));return a},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=me.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return ve(e,ge)}},be={f:Object.getOwnPropertySymbols},_e=re("Reflect","ownKeys")||function(e){var t=ye.f(E(e)),n=be.f;return n?t.concat(n(e)):t},we=function(e,t){for(var n=_e(t),r=A.f,i=C.f,a=0;a<n.length;a++){var o=n[a];b(e,o)||r(e,o,i(t,o))}},ke=/#|\.prototype\./,Se=function(e,t){var n=Ce[xe(e)];return n==Re||n!=Ee&&("function"==typeof t?i(t):!!t)},xe=Se.normalize=function(e){return String(e).replace(ke,".").toLowerCase()},Ce=Se.data={},Ee=Se.NATIVE="N",Re=Se.POLYFILL="P",Ae=Se,Te=C.f,Ie=function(e,t){var n,i,a,o,s,c=e.target,l=e.global,u=e.stat;if(n=l?r:u?r[c]||I(c,{}):(r[c]||{}).prototype)for(i in t){if(o=t[i],a=e.noTargetGet?(s=Te(n,i))&&s.value:n[i],!Ae(l?i:c+(u?".":"#")+i,e.forced)&&void 0!==a){if(typeof o==typeof a)continue;we(o,a)}(e.sham||a&&a.sham)&&T(o,"sham",!0),ee(n,i,o,e)}},Oe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},De=function(e,t,n){if(Oe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Me=function(e){return Object(p(e))},Pe=Array.isArray||function(e){return"Array"==h(e)},Le=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())}),Fe=Le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=j("wks"),ze=r.Symbol,je=Fe?ze:ze&&ze.withoutSetter||U,Be=function(e){return b(Ne,e)||(Ne[e]=Le&&b(ze,e)?ze[e]:je("Symbol."+e)),Ne[e]},Ve=Be("species"),Ue=function(e,t){var n;return Pe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Pe(n.prototype)?m(n)&&null===(n=n[Ve])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},He=[].push,$e=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=5==e||a;return function(s,c,l,u){for(var h,f,p=Me(s),v=d(p),m=De(c,l,3),g=ce(v.length),y=0,b=u||Ue,_=t?b(s,g):n?b(s,0):void 0;g>y;y++)if((o||y in v)&&(f=m(h=v[y],y,p),e))if(t)_[y]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:He.call(_,h)}else if(i)return!1;return a?-1:r||i?i:_}},qe={forEach:$e(0),map:$e(1),filter:$e(2),some:$e(3),every:$e(4),find:$e(5),findIndex:$e(6)},Ge=re("navigator","userAgent")||"",We=r.process,Ye=We&&We.versions,Ze=Ye&&Ye.v8;Ze?Q=(K=Ze.split("."))[0]+K[1]:Ge&&(!(K=Ge.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=Ge.match(/Chrome\/(\d+)/))&&(Q=K[1]);var Xe=Q&&+Q,Ke=Be("species"),Qe=function(e){return Xe>=51||!i(function(){var t=[];return(t.constructor={})[Ke]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Je=Object.defineProperty,et={},tt=function(e){throw e},nt=function(e,t){if(b(et,e))return et[e];t||(t={});var n=[][e],r=!!b(t,"ACCESSORS")&&t.ACCESSORS,o=b(t,0)?t[0]:tt,s=b(t,1)?t[1]:void 0;return et[e]=!!n&&!i(function(){if(r&&!a)return!0;var e={length:-1};r?Je(e,1,{enumerable:!0,get:tt}):e[1]=1,n.call(e,o,s)})},rt=qe.filter,it=Qe("filter"),at=nt("filter");Ie({target:"Array",proto:!0,forced:!it||!at},{filter:function(e){return rt(this,e,arguments.length>1?arguments[1]:void 0)}});var ot=function(e,t){var n=[][e];return!!n&&i(function(){n.call(null,t||function(){throw 1},1)})},st=qe.forEach,ct=ot("forEach"),lt=nt("forEach"),ut=ct&&lt?[].forEach:function(e){return st(this,e,arguments.length>1?arguments[1]:void 0)};Ie({target:"Array",proto:!0,forced:[].forEach!=ut},{forEach:ut});var ht=de.indexOf,ft=[].indexOf,dt=!!ft&&1/[1].indexOf(1,-0)<0,pt=ot("indexOf"),vt=nt("indexOf",{ACCESSORS:!0,1:0});Ie({target:"Array",proto:!0,forced:dt||!pt||!vt},{indexOf:function(e){return dt?ft.apply(this,arguments)||0:ht(this,e,arguments.length>1?arguments[1]:void 0)}});var mt=Math.min,gt=[].lastIndexOf,yt=!!gt&&1/[1].lastIndexOf(1,-0)<0,bt=ot("lastIndexOf"),_t=nt("indexOf",{ACCESSORS:!0,1:0}),wt=!yt&&bt&&_t?gt:function(e){if(yt)return gt.apply(this,arguments)||0;var t=v(this),n=ce(t.length),r=n-1;for(arguments.length>1&&(r=mt(r,oe(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1};Ie({target:"Array",proto:!0,forced:wt!==[].lastIndexOf},{lastIndexOf:wt});var kt,St=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return E(n),function(e){if(!m(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),xt=function(e,t,n){var r,i;return St&&"function"==typeof(r=t.constructor)&&r!==n&&m(i=r.prototype)&&i!==n.prototype&&St(e,i),e},Ct=Object.keys||function(e){return ve(e,me)},Et=a?Object.defineProperties:function(e,t){E(e);for(var n,r=Ct(t),i=r.length,a=0;i>a;)A.f(e,n=r[a++],t[n]);return e},Rt=re("document","documentElement"),At=$("IE_PROTO"),Tt=function(){},It=function(e){return"<script>"+e+"<\/script>"},Ot=function(){try{kt=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;Ot=kt?function(e){e.write(It("")),e.close();var t=e.parentWindow.Object;return e=null,t}(kt):((t=k("iframe")).style.display="none",Rt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(It("document.F=Object")),e.close(),e.F);for(var n=me.length;n--;)delete Ot.prototype[me[n]];return Ot()};q[At]=!0;var Dt=Object.create||function(e,t){var n;return null!==e?(Tt.prototype=E(e),n=new Tt,Tt.prototype=null,n[At]=e):n=Ot(),void 0===t?n:Et(n,t)},Mt="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Pt="["+Mt+"]",Lt=RegExp("^"+Pt+Pt+"*"),Ft=RegExp(Pt+Pt+"*$"),Nt=function(e){return function(t){var n=String(p(t));return 1&e&&(n=n.replace(Lt,"")),2&e&&(n=n.replace(Ft,"")),n}},zt={start:Nt(1),end:Nt(2),trim:Nt(3)},jt=ye.f,Bt=C.f,Vt=A.f,Ut=zt.trim,Ht=r.Number,$t=Ht.prototype,qt="Number"==h(Dt($t)),Gt=function(e){var t,n,r,i,a,o,s,c,l=g(e,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=Ut(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=(a=l.slice(2)).length,s=0;s<o;s++)if((c=a.charCodeAt(s))<48||c>i)return NaN;return parseInt(a,r)}return+l};if(Ae("Number",!Ht(" 0o1")||!Ht("0b1")||Ht("+0x1"))){for(var Wt,Yt=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof e&&(qt?i(function(){$t.valueOf.call(r)}):"Number"!=h(r))?xt(new Ht(Gt(n)),r,e):Gt(n)},Zt=a?jt(Ht):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Xt=0;Zt.length>Xt;Xt++)b(Ht,Wt=Zt[Xt])&&!b(Yt,Wt)&&Vt(Yt,Wt,Bt(Ht,Wt));Yt.prototype=$t,$t.constructor=Yt,ee(r,"Number",Yt)}Ie({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Kt=function(){var e=E(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Qt(e,t){return RegExp(e,t)}var Jt={UNSUPPORTED_Y:i(function(){var e=Qt("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:i(function(){var e=Qt("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},en=RegExp.prototype.exec,tn=String.prototype.replace,nn=en,rn=function(){var e=/a/,t=/b*/g;return en.call(e,"a"),en.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),an=Jt.UNSUPPORTED_Y||Jt.BROKEN_CARET,on=void 0!==/()??/.exec("")[1];(rn||on||an)&&(nn=function(e){var t,n,r,i,a=this,o=an&&a.sticky,s=Kt.call(a),c=a.source,l=0,u=e;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),n=new RegExp("^(?:"+c+")",s)),on&&(n=new RegExp("^"+c+"$(?!\\s)",s)),rn&&(t=a.lastIndex),r=en.call(o?n:a,u),o?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:rn&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),on&&r&&r.length>1&&tn.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var sn=nn;Ie({target:"RegExp",proto:!0,forced:/./.exec!==sn},{exec:sn});var cn,ln=Be("match"),un=function(e){var t;return m(e)&&(void 0!==(t=e[ln])?!!t:"RegExp"==h(e))},hn=function(e){if(un(e))throw TypeError("The method doesn't accept regular expressions");return e},fn=Be("match"),dn=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[fn]=!1,"/./"[e](t)}catch(r){}}return!1},pn=C.f,vn="".endsWith,mn=Math.min,gn=dn("endsWith"),yn=!(gn||(cn=pn(String.prototype,"endsWith"),!cn||cn.writable));Ie({target:"String",proto:!0,forced:!yn&&!gn},{endsWith:function(e){var t=String(p(this));hn(e);var n=arguments.length>1?arguments[1]:void 0,r=ce(t.length),i=void 0===n?r:mn(ce(n),r),a=String(e);return vn?vn.call(t,a,i):t.slice(i-a.length,i)===a}});var bn=Be("species"),_n=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),wn="$0"==="a".replace(/./,"$0"),kn=Be("replace"),Sn=!!/./[kn]&&""===/./[kn]("a","$0"),xn=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Cn=function(e,t,n,r){var a=Be(e),o=!i(function(){var t={};return t[a]=function(){return 7},7!=""[e](t)}),s=o&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[bn]=function(){return n},n.flags="",n[a]=/./[a]),n.exec=function(){return t=!0,null},n[a](""),!t});if(!o||!s||"replace"===e&&(!_n||!wn||Sn)||"split"===e&&!xn){var c=/./[a],l=n(a,""[e],function(e,t,n,r,i){return t.exec===sn?o&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:wn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Sn}),u=l[1];ee(String.prototype,e,l[0]),ee(RegExp.prototype,a,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}r&&T(RegExp.prototype[a],"sham",!0)},En=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Rn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==h(e))throw TypeError("RegExp#exec called on incompatible receiver");return sn.call(e,t)};Cn("search",1,function(e,t,n){return[function(t){var n=p(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),a=String(this),o=i.lastIndex;En(o,0)||(i.lastIndex=0);var s=Rn(i,a);return En(i.lastIndex,o)||(i.lastIndex=o),null===s?-1:s.index}]});var An=Be("species"),Tn=function(e,t){var n,r=E(e).constructor;return void 0===r||null==(n=E(r)[An])?t:Oe(n)},In=function(e){return function(t,n){var r,i,a=String(p(t)),o=oe(n),s=a.length;return o<0||o>=s?e?"":void 0:(r=a.charCodeAt(o))<55296||r>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?e?a.charAt(o):r:e?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}},On={codeAt:In(!1),charAt:In(!0)},Dn=On.charAt,Mn=function(e,t,n){return t+(n?Dn(e,t).length:1)},Pn=[].push,Ln=Math.min,Fn=!i(function(){return!RegExp(4294967295,"y")});Cn("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(p(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!un(e))return t.call(r,e,i);for(var a,o,s,c=[],l=0,u=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(a=sn.call(u,r))&&!((o=u.lastIndex)>l&&(c.push(r.slice(l,a.index)),a.length>1&&a.index<r.length&&Pn.apply(c,a.slice(1)),s=a[0].length,l=o,c.length>=i));)u.lastIndex===a.index&&u.lastIndex++;return l===r.length?!s&&u.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=p(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var o=E(e),s=String(this),c=Tn(o,RegExp),l=o.unicode,u=new c(Fn?o:"^(?:"+o.source+")",(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Fn?"y":"g")),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===s.length)return null===Rn(u,s)?[s]:[];for(var f=0,d=0,p=[];d<s.length;){u.lastIndex=Fn?d:0;var v,m=Rn(u,Fn?s:s.slice(d));if(null===m||(v=Ln(ce(u.lastIndex+(Fn?0:d)),s.length))===f)d=Mn(s,d,l);else{if(p.push(s.slice(f,d)),p.length===h)return p;for(var g=1;g<=m.length-1;g++)if(p.push(m[g]),p.length===h)return p;d=f=v}}return p.push(s.slice(f)),p}]},!Fn);var Nn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var zn in Nn){var jn=r[zn],Bn=jn&&jn.prototype;if(Bn&&Bn.forEach!==ut)try{T(Bn,"forEach",ut)}catch(jk){Bn.forEach=ut}}function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(jk){return void n(jk)}s.done?t(c):Promise.resolve(c).then(r,i)}function Hn(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){Un(a,r,i,o,s,"next",e)}function s(e){Un(a,r,i,o,s,"throw",e)}o(void 0)})}}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t,n){return t&&qn(e.prototype,t),n&&qn(e,n),e}function Wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Kn(e,t,n){return(Kn=Xn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zn(i,n.prototype),i}).apply(null,arguments)}function Qn(e){var t="function"==typeof Map?new Map:void 0;return(Qn=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Kn(e,arguments,Yn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zn(n,e)})(e)}function Jn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e,t){return nr(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||ir()}function tr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nr(e){if(Array.isArray(e))return e}function rr(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=Object.create((t&&t.prototype instanceof u?t:u).prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var l={};function u(){}function h(){}function f(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(S([])));v&&v!==t&&n.call(v,i)&&(d=v);var m=f.prototype=u.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function y(e){function t(r,i,a,o){var s=c(e[r],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},function(e){return t("throw",e,a,o)})}o(s.arg)}var r;this._invoke=function(e,n){function i(){return new Promise(function(r,i){t(e,n,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,f[o]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i){var a=new y(s(t,n,r,i));return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},g(m),m[o]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}});var ar=ye.f,or={}.toString,sr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],cr={f:function(e){return sr&&"[object Window]"==or.call(e)?function(e){try{return ar(e)}catch(jk){return sr.slice()}}(e):ar(v(e))}},lr={f:Be},ur=A.f,hr=function(e){var t=te.Symbol||(te.Symbol={});b(t,e)||ur(t,e,{value:lr.f(e)})},fr=A.f,dr=Be("toStringTag"),pr=function(e,t,n){e&&!b(e=n?e:e.prototype,dr)&&fr(e,dr,{configurable:!0,value:t})},vr=qe.forEach,mr=$("hidden"),gr=Be("toPrimitive"),yr=J.set,br=J.getterFor("Symbol"),_r=Object.prototype,wr=r.Symbol,kr=re("JSON","stringify"),Sr=C.f,xr=A.f,Cr=cr.f,Er=c.f,Rr=j("symbols"),Ar=j("op-symbols"),Tr=j("string-to-symbol-registry"),Ir=j("symbol-to-string-registry"),Or=j("wks"),Dr=r.QObject,Mr=!Dr||!Dr.prototype||!Dr.prototype.findChild,Pr=a&&i(function(){return 7!=Dt(xr({},"a",{get:function(){return xr(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Sr(_r,t);r&&delete _r[t],xr(e,t,n),r&&e!==_r&&xr(_r,t,r)}:xr,Lr=function(e,t){var n=Rr[e]=Dt(wr.prototype);return yr(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},Fr=Fe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof wr},Nr=function e(t,n,r){t===_r&&e(Ar,n,r),E(t);var i=g(n,!0);return E(r),b(Rr,i)?(r.enumerable?(b(t,mr)&&t[mr][i]&&(t[mr][i]=!1),r=Dt(r,{enumerable:l(0,!1)})):(b(t,mr)||xr(t,mr,l(1,{})),t[mr][i]=!0),Pr(t,i,r)):xr(t,i,r)},zr=function(e,t){E(e);var n=v(t),r=Ct(n).concat(Ur(n));return vr(r,function(t){a&&!jr.call(n,t)||Nr(e,t,n[t])}),e},jr=function(e){var t=g(e,!0),n=Er.call(this,t);return!(this===_r&&b(Rr,t)&&!b(Ar,t))&&(!(n||!b(this,t)||!b(Rr,t)||b(this,mr)&&this[mr][t])||n)},Br=function(e,t){var n=v(e),r=g(t,!0);if(n!==_r||!b(Rr,r)||b(Ar,r)){var i=Sr(n,r);return!i||!b(Rr,r)||b(n,mr)&&n[mr][r]||(i.enumerable=!0),i}},Vr=function(e){var t=Cr(v(e)),n=[];return vr(t,function(e){b(Rr,e)||b(q,e)||n.push(e)}),n},Ur=function(e){var t=e===_r,n=Cr(t?Ar:v(e)),r=[];return vr(n,function(e){!b(Rr,e)||t&&!b(_r,e)||r.push(Rr[e])}),r};if(Le||(ee((wr=function(){if(this instanceof wr)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=U(e),n=function e(n){this===_r&&e.call(Ar,n),b(this,mr)&&b(this[mr],t)&&(this[mr][t]=!1),Pr(this,t,l(1,n))};return a&&Mr&&Pr(_r,t,{configurable:!0,set:n}),Lr(t,e)}).prototype,"toString",function(){return br(this).tag}),ee(wr,"withoutSetter",function(e){return Lr(U(e),e)}),c.f=jr,A.f=Nr,C.f=Br,ye.f=cr.f=Vr,be.f=Ur,lr.f=function(e){return Lr(Be(e),e)},a&&(xr(wr.prototype,"description",{configurable:!0,get:function(){return br(this).description}}),ee(_r,"propertyIsEnumerable",jr,{unsafe:!0}))),Ie({global:!0,wrap:!0,forced:!Le,sham:!Le},{Symbol:wr}),vr(Ct(Or),function(e){hr(e)}),Ie({target:"Symbol",stat:!0,forced:!Le},{for:function(e){var t=String(e);if(b(Tr,t))return Tr[t];var n=wr(t);return Tr[t]=n,Ir[n]=t,n},keyFor:function(e){if(!Fr(e))throw TypeError(e+" is not a symbol");if(b(Ir,e))return Ir[e]},useSetter:function(){Mr=!0},useSimple:function(){Mr=!1}}),Ie({target:"Object",stat:!0,forced:!Le,sham:!a},{create:function(e,t){return void 0===t?Dt(e):zr(Dt(e),t)},defineProperty:Nr,defineProperties:zr,getOwnPropertyDescriptor:Br}),Ie({target:"Object",stat:!0,forced:!Le},{getOwnPropertyNames:Vr,getOwnPropertySymbols:Ur}),Ie({target:"Object",stat:!0,forced:i(function(){be.f(1)})},{getOwnPropertySymbols:function(e){return be.f(Me(e))}}),kr){var Hr=!Le||i(function(){var e=wr();return"[null]"!=kr([e])||"{}"!=kr({a:e})||"{}"!=kr(Object(e))});Ie({target:"JSON",stat:!0,forced:Hr},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(m(t)||void 0!==e)&&!Fr(e))return Pe(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Fr(t))return t}),i[1]=t,kr.apply(null,i)}})}wr.prototype[gr]||T(wr.prototype,gr,wr.prototype.valueOf),pr(wr,"Symbol"),q[mr]=!0;var $r=A.f,qr=r.Symbol;if(a&&"function"==typeof qr&&(!("description"in qr.prototype)||void 0!==qr().description)){var Gr={},Wr=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new qr(t):void 0===t?qr():qr(t);return""===t&&(Gr[n]=!0),n};we(Wr,qr);var Yr=Wr.prototype=qr.prototype;Yr.constructor=Wr;var Zr=Yr.toString,Xr="Symbol(test)"==String(qr("test")),Kr=/^Symbol\((.*)\)[^)]+$/;$r(Yr,"description",{configurable:!0,get:function(){var e=m(this)?this.valueOf():this,t=Zr.call(e);if(b(Gr,e))return"";var n=Xr?t.slice(7,-1):t.replace(Kr,"$1");return""===n?void 0:n}}),Ie({global:!0,forced:!0},{Symbol:Wr})}hr("iterator");var Qr=function(e,t,n){var r=g(t);r in e?A.f(e,r,l(0,n)):e[r]=n},Jr=Be("isConcatSpreadable"),ei=Xe>=51||!i(function(){var e=[];return e[Jr]=!1,e.concat()[0]!==e}),ti=Qe("concat"),ni=function(e){if(!m(e))return!1;var t=e[Jr];return void 0!==t?!!t:Pe(e)};Ie({target:"Array",proto:!0,forced:!ei||!ti},{concat:function(e){var t,n,r,i,a,o=Me(this),s=Ue(o,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(ni(a=-1===t?o:arguments[t])){if(c+(i=ce(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in a&&Qr(s,c,a[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Qr(s,c++,a)}return s.length=c,s}});var ri=Be("unscopables"),ii=Array.prototype;null==ii[ri]&&A.f(ii,ri,{configurable:!0,value:Dt(null)});var ai=function(e){ii[ri][e]=!0},oi=qe.find,si=!0,ci=nt("find");"find"in[]&&Array(1).find(function(){si=!1}),Ie({target:"Array",proto:!0,forced:si||!ci},{find:function(e){return oi(this,e,arguments.length>1?arguments[1]:void 0)}}),ai("find");var li,ui,hi,fi={},di=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),pi=$("IE_PROTO"),vi=Object.prototype,mi=di?Object.getPrototypeOf:function(e){return e=Me(e),b(e,pi)?e[pi]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?vi:null},gi=Be("iterator"),yi=!1;[].keys&&("next"in(hi=[].keys())?(ui=mi(mi(hi)))!==Object.prototype&&(li=ui):yi=!0),null==li&&(li={}),b(li,gi)||T(li,gi,function(){return this});var bi={IteratorPrototype:li,BUGGY_SAFARI_ITERATORS:yi},_i=bi.IteratorPrototype,wi=function(){return this},ki=function(e,t,n){var r=t+" Iterator";return e.prototype=Dt(_i,{next:l(1,n)}),pr(e,r,!1),fi[r]=wi,e},Si=bi.IteratorPrototype,xi=bi.BUGGY_SAFARI_ITERATORS,Ci=Be("iterator"),Ei=function(){return this},Ri=function(e,t,n,r,i,a,o){ki(n,t,r);var s,c,l,u=function(e){if(e===i&&v)return v;if(!xi&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,d=e.prototype,p=d[Ci]||d["@@iterator"]||i&&d[i],v=!xi&&p||u(i),m="Array"==t&&d.entries||p;if(m&&(s=mi(m.call(new e)),Si!==Object.prototype&&s.next&&(mi(s)!==Si&&(St?St(s,Si):"function"!=typeof s[Ci]&&T(s,Ci,Ei)),pr(s,h,!0))),"values"==i&&p&&"values"!==p.name&&(f=!0,v=function(){return p.call(this)}),d[Ci]!==v&&T(d,Ci,v),fi[t]=v,i)if(c={values:u("values"),keys:a?v:u("keys"),entries:u("entries")},o)for(l in c)(xi||f||!(l in d))&&ee(d,l,c[l]);else Ie({target:t,proto:!0,forced:xi||f},c);return c},Ai=J.set,Ti=J.getterFor("Array Iterator"),Ii=Ri(Array,"Array",function(e,t){Ai(this,{type:"Array Iterator",target:v(e),index:0,kind:t})},function(){var e=Ti(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");fi.Arguments=fi.Array,ai("keys"),ai("values"),ai("entries");var Oi=[].join,Di=d!=Object,Mi=ot("join",",");Ie({target:"Array",proto:!0,forced:Di||!Mi},{join:function(e){return Oi.call(v(this),void 0===e?",":e)}});var Pi=qe.map,Li=Qe("map"),Fi=nt("map");Ie({target:"Array",proto:!0,forced:!Li||!Fi},{map:function(e){return Pi(this,e,arguments.length>1?arguments[1]:void 0)}});var Ni=Qe("slice"),zi=nt("slice",{ACCESSORS:!0,0:0,1:2}),ji=Be("species"),Bi=[].slice,Vi=Math.max;Ie({target:"Array",proto:!0,forced:!Ni||!zi},{slice:function(e,t){var n,r,i,a=v(this),o=ce(a.length),s=he(e,o),c=he(void 0===t?o:t,o);if(Pe(a)&&("function"!=typeof(n=a.constructor)||n!==Array&&!Pe(n.prototype)?m(n)&&null===(n=n[ji])&&(n=void 0):n=void 0,n===Array||void 0===n))return Bi.call(a,s,c);for(r=new(void 0===n?Array:n)(Vi(c-s,0)),i=0;s<c;s++,i++)s in a&&Qr(r,i,a[s]);return r.length=i,r}});var Ui=Qe("splice"),Hi=nt("splice",{ACCESSORS:!0,0:0,1:2}),$i=Math.max,qi=Math.min;Ie({target:"Array",proto:!0,forced:!Ui||!Hi},{splice:function(e,t){var n,r,i,a,o,s,c=Me(this),l=ce(c.length),u=he(e,l),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=l-u):(n=h-2,r=qi($i(oe(t),0),l-u)),l+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Ue(c,r),a=0;a<r;a++)(o=u+a)in c&&Qr(i,a,c[o]);if(i.length=r,n<r){for(a=u;a<l-r;a++)s=a+n,(o=a+r)in c?c[s]=c[o]:delete c[s];for(a=l;a>l-r+n;a--)delete c[a-1]}else if(n>r)for(a=l-r;a>u;a--)s=a+n-1,(o=a+r-1)in c?c[s]=c[o]:delete c[s];for(a=0;a<n;a++)c[a+u]=arguments[a+2];return c.length=l-r+n,i}});var Gi=Function.prototype,Wi=Gi.toString,Yi=/^\s*function ([^ (]*)/;a&&!("name"in Gi)&&(0,A.f)(Gi,"name",{configurable:!0,get:function(){try{return Wi.call(this).match(Yi)[1]}catch(jk){return""}}});var Zi=i(function(){mi(1)});Ie({target:"Object",stat:!0,forced:Zi,sham:!di},{getPrototypeOf:function(e){return mi(Me(e))}});var Xi={};Xi[Be("toStringTag")]="z";var Ki="[object z]"===String(Xi),Qi=Be("toStringTag"),Ji="Arguments"==h(function(){return arguments}()),ea=Ki?h:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(jk){}}(t=Object(e),Qi))?n:Ji?h(t):"Object"==(r=h(t))&&"function"==typeof t.callee?"Arguments":r};Ki||ee(Object.prototype,"toString",Ki?{}.toString:function(){return"[object "+ea(this)+"]"},{unsafe:!0});var ta=Be("species"),na=function(e){var t=re(e);a&&t&&!t[ta]&&(0,A.f)(t,ta,{configurable:!0,get:function(){return this}})},ra=A.f,ia=ye.f,aa=J.set,oa=Be("match"),sa=r.RegExp,ca=sa.prototype,la=/a/g,ua=/a/g,ha=new sa(la)!==la,fa=Jt.UNSUPPORTED_Y;if(a&&Ae("RegExp",!ha||fa||i(function(){return ua[oa]=!1,sa(la)!=la||sa(ua)==ua||"/a/i"!=sa(la,"i")}))){for(var da=function e(t,n){var r,i=this instanceof e,a=un(t),o=void 0===n;if(!i&&a&&t.constructor===e&&o)return t;ha?a&&!o&&(t=t.source):t instanceof e&&(o&&(n=Kt.call(t)),t=t.source),fa&&(r=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var s=xt(ha?new sa(t,n):sa(t,n),i?this:ca,e);return fa&&r&&aa(s,{sticky:r}),s},pa=function(e){e in da||ra(da,e,{configurable:!0,get:function(){return sa[e]},set:function(t){sa[e]=t}})},va=ia(sa),ma=0;va.length>ma;)pa(va[ma++]);ca.constructor=da,da.prototype=ca,ee(r,"RegExp",da)}na("RegExp");var ga=RegExp.prototype,ya=ga.toString;(i(function(){return"/a/b"!=ya.call({source:"a",flags:"b"})})||"toString"!=ya.name)&&ee(RegExp.prototype,"toString",function(){var e=E(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in ga)?Kt.call(e):n)},{unsafe:!0});var ba=On.charAt,_a=J.set,wa=J.getterFor("String Iterator");Ri(String,"String",function(e){_a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=wa(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=ba(n,r),t.index+=e.length,{value:e,done:!1})}),Cn("match",1,function(e,t,n){return[function(t){var n=p(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),a=String(this);if(!i.global)return Rn(i,a);var o=i.unicode;i.lastIndex=0;for(var s,c=[],l=0;null!==(s=Rn(i,a));){var u=String(s[0]);c[l]=u,""===u&&(i.lastIndex=Mn(a,ce(i.lastIndex),o)),l++}return 0===l?null:c}]});var ka=Math.max,Sa=Math.min,xa=Math.floor,Ca=/\$([$&'`]|\d\d?|<[^>]*>)/g,Ea=/\$([$&'`]|\d\d?)/g;Cn("replace",2,function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=r.REPLACE_KEEPS_$0,o=i?"$":"$0";return[function(n,r){var i=p(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&a||"string"==typeof r&&-1===r.indexOf(o)){var c=n(t,e,this,r);if(c.done)return c.value}var l=E(e),u=String(this),h="function"==typeof r;h||(r=String(r));var f=l.global;if(f){var d=l.unicode;l.lastIndex=0}for(var p=[];;){var v=Rn(l,u);if(null===v)break;if(p.push(v),!f)break;""===String(v[0])&&(l.lastIndex=Mn(u,ce(l.lastIndex),d))}for(var m,g="",y=0,b=0;b<p.length;b++){v=p[b];for(var _=String(v[0]),w=ka(Sa(oe(v.index),u.length),0),k=[],S=1;S<v.length;S++)k.push(void 0===(m=v[S])?m:String(m));var x=v.groups;if(h){var C=[_].concat(k,w,u);void 0!==x&&C.push(x);var R=String(r.apply(void 0,C))}else R=s(_,u,w,k,x,r);w>=y&&(g+=u.slice(y,w)+R,y=w+_.length)}return g+u.slice(y)}];function s(e,n,r,i,a,o){var s=r+e.length,c=i.length,l=Ea;return void 0!==a&&(a=Me(a),l=Ca),t.call(o,l,function(t,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":l=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(u>c){var h=xa(u/10);return 0===h?t:h<=c?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}l=i[u-1]}return void 0===l?"":l})}});var Ra=Be("iterator"),Aa=Be("toStringTag"),Ta=Ii.values;for(var Ia in Nn){var Oa=r[Ia],Da=Oa&&Oa.prototype;if(Da){if(Da[Ra]!==Ta)try{T(Da,Ra,Ta)}catch(jk){Da[Ra]=Ta}if(Da[Aa]||T(Da,Aa,Ia),Nn[Ia])for(var Ma in Ii)if(Da[Ma]!==Ii[Ma])try{T(Da,Ma,Ii[Ma])}catch(jk){Da[Ma]=Ii[Ma]}}}var Pa=[],La=window.document,Fa=Object.getPrototypeOf,Na=Pa.slice,za=Pa.concat,ja=Pa.push,Ba=Pa.indexOf,Va={},Ua=Va.toString,Ha=Va.hasOwnProperty,$a=Ha.toString,qa=$a.call(Object),Ga={},Wa=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Ya=function(e){return null!=e&&e===e.window},Za={type:!0,src:!0,noModule:!0};function Xa(e,t,n){var r,i=(t=t||La).createElement("script");if(i.text=e,n)for(r in Za)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function Ka(e){return null==e?e+"":"object"===Vn(e)||"function"==typeof e?Va[Ua.call(e)]||"object":Vn(e)}var Qa="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",Ja=function e(t,n){return new e.fn.init(t,n)},eo=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function to(e){var t=!!e&&"length"in e&&e.length,n=Ka(e);return!Wa(e)&&!Ya(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}Ja.fn=Ja.prototype={jquery:Qa,constructor:Ja,length:0,toArray:function(){return Na.call(this)},get:function(e){return null==e?Na.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ja.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ja.each(this,e)},map:function(e){return this.pushStack(Ja.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Na.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ja,sort:Pa.sort,splice:Pa.splice},Ja.extend=Ja.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"===Vn(o)||Wa(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(r=e[t])&&(l&&r&&(Ja.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&Ja.isPlainObject(n)?n:{},o[t]=Ja.extend(l,a,r)):void 0!==r&&(o[t]=r));return o},Ja.extend({expando:"jQuery"+(Qa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==Ua.call(e)||(t=Fa(e))&&("function"!=typeof(n=Ha.call(t,"constructor")&&t.constructor)||$a.call(n)!==qa))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){Xa(e)},each:function(e,t){var n,r=0;if(to(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(eo,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(to(Object(e))?Ja.merge(n,"string"==typeof e?[e]:e):ja.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Ba.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,o=[];if(to(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&o.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&o.push(i);return za.apply([],o)},guid:1,support:Ga}),"function"==typeof Symbol&&(Ja.fn[Symbol.iterator]=Pa[Symbol.iterator]),Ja.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Va["[object "+t+"]"]=t.toLowerCase()});var no=function(e){var t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_="sizzle"+1*new Date,w=e.document,k=0,S=0,x=oe(),C=oe(),E=oe(),R=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,T=[],I=T.pop,O=T.push,D=T.push,M=T.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",j=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",B=new RegExp(F+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),$=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),q=new RegExp(j),G=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},ie=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(T=M.call(w.childNodes),w.childNodes)}catch(Se){D={apply:T.length?function(e,t){O.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var a,s,l,u,h,p,g,y=t&&t.ownerDocument,k=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&f(t),t=t||d,v)){if(11!==k&&(h=K.exec(e)))if(a=h[1]){if(9===k){if(!(l=t.getElementById(a)))return r;if(l.id===a)return r.push(l),r}else if(y&&(l=y.getElementById(a))&&b(t,l)&&l.id===a)return r.push(l),r}else{if(h[2])return D.apply(r,t.getElementsByTagName(e)),r;if((a=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&!E[e+" "]&&(!m||!m.test(e))){if(1!==k)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=_),s=(p=o(e)).length;s--;)p[s]="#"+u+" "+ge(p[s]);g=p.join(","),y=Q.test(e)&&ve(t.parentNode)||t}if(g)try{return D.apply(r,y.querySelectorAll(g)),r}catch(S){}finally{u===_&&t.removeAttribute("id")}}}return c(e.replace(V,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[_]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(Se){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:w;return o!==d&&9===o.nodeType&&o.documentElement?(p=(d=o).documentElement,v=!a(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(d.getElementsByClassName),n.getById=ce(function(e){return p.appendChild(e).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=X.test(d.querySelectorAll))&&(ce(function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=X.test(p.compareDocumentPosition),b=t||X.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&b(w,e)?-1:t===d||t.ownerDocument===w&&b(w,t)?1:u?P(u,e)-P(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e===d?-1:t===d?1:i?-1:a?1:u?P(u,e)-P(u,t):0;if(i===a)return ue(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?ue(o[r],s[r]):o[r]===w?-1:s[r]===w?1:0},d):d},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),t=t.replace($,"='$1']"),n.matchesSelector&&v&&!E[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Se){}return ae(t,d,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var i=r.attrHandle[t.toLowerCase()],a=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==a?a:n.attributes||!v?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,a=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(R),h){for(;t=e[a++];)t===e[a]&&(i=r.push(a));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ae.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&x(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,h,f,d,p,v=a!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(m){if(a){for(;v;){for(f=t;f=f[v];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(b=(d=(l=(u=(h=(f=m)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===k&&l[1])&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[v]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[k,d,b];break}}else if(y&&(b=d=(l=(u=(h=(f=t)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===k&&l[1]),!1===b)for(;(f=++d&&f&&f[v]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(y&&((u=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[k,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,a=i(e,t),o=a.length;o--;)e[r=P(e,a[o])]=!(n[r]=a[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(V,"$1"));return r[_]?se(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return ae(e,t).length>0}}),contains:se(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&"parentNode"===a,s=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,c){var l,u,h,f=[k,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(u=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[a])&&l[0]===k&&l[1]===s)return f[2]=l[2];if(u[a]=f,f[2]=e(t,n,c))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,i){for(var a,o=[],s=0,c=e.length,l=null!=t;s<c;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),l&&t.push(s)));return o}function we(e,t,n,r,i,a){return r&&!r[_]&&(r=we(r)),i&&!i[_]&&(i=we(i,a)),se(function(a,o,s,c){var l,u,h,f=[],d=[],p=o.length,v=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!a&&t?v:_e(v,f,e,s,c),g=n?i||(a?e:p||r)?[]:o:m;if(n&&n(m,g,s,c),r)for(l=_e(g,d),r(l,[],s,c),u=l.length;u--;)(h=l[u])&&(g[d[u]]=!(m[d[u]]=h));if(a){if(i||e){if(i){for(l=[],u=g.length;u--;)(h=g[u])&&l.push(m[u]=h);i(null,g=[],l,c)}for(u=g.length;u--;)(h=g[u])&&(l=i?P(a,h):f[u])>-1&&(a[l]=!(o[l]=h))}}else g=_e(g===o?g.splice(p,g.length):g),i?i(null,o,g,c):D.apply(o,g)})}function ke(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],c=o?1:0,u=ye(function(e){return e===t},s,!0),h=ye(function(e){return P(t,e)>-1},s,!0),f=[function(e,n,r){var i=!o&&(r||n!==l)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];c<a;c++)if(n=r.relative[e[c].type])f=[ye(be(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[_]){for(i=++c;i<a&&!r.relative[e[i].type];i++);return we(c>1&&be(f),c>1&&ge(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(V,"$1"),n,c<i&&ke(e.slice(c,i)),i<a&&ke(e=e.slice(i)),i<a&&ge(e))}f.push(n)}return be(f)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,o=ae.tokenize=function(e,t){var n,i,a,o,s,c,l,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(o in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(a=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(i=W[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):C(e,c).slice(0)},s=ae.compile=function(e,t){var n,i=[],a=[],s=E[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=ke(t[n]))[_]?i.push(s):a.push(s);(s=E(e,function(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,c,u){var h,p,m,g=0,y="0",b=a&&[],_=[],w=l,S=a||i&&r.find.TAG("*",u),x=k+=null==w?1:Math.random()||.1,C=S.length;for(u&&(l=o===d||o||u);y!==C&&null!=(h=S[y]);y++){if(i&&h){for(p=0,o||h.ownerDocument===d||(f(h),s=!v);m=e[p++];)if(m(h,o||d,s)){c.push(h);break}u&&(k=x)}n&&((h=!m&&h)&&g--,a&&b.push(h))}if(g+=y,n&&y!==g){for(p=0;m=t[p++];)m(b,_,o,s);if(a){if(g>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(c));_=_e(_)}D.apply(c,_),u&&!a&&_.length>0&&g+t.length>1&&ae.uniqueSort(c)}return u&&(k=x,l=w),b};return n?se(a):a}(a,i))).selector=e}return s},c=ae.select=function(e,t,n,i){var a,c,l,u,h,f="function"==typeof e&&e,d=!i&&o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&v&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(J,ee),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(a=W.needsContext.test(e)?0:c.length;a--&&!r.relative[u=(l=c[a]).type];)if((h=r.find[u])&&(i=h(l.matches[0].replace(J,ee),Q.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(a,1),!(e=i.length&&ge(c)))return D.apply(n,i),n;break}}return(f||s(e,d))(i,t,!v,n,!t||Q.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(R).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||le(L,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(window);Ja.find=no,(Ja.expr=no.selectors)[":"]=Ja.expr.pseudos,Ja.uniqueSort=Ja.unique=no.uniqueSort,Ja.text=no.getText,Ja.isXMLDoc=no.isXML,Ja.contains=no.contains,Ja.escapeSelector=no.escape;var ro=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ja(e).is(n))break;r.push(e)}return r},io=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ao=Ja.expr.match.needsContext;function oo(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var so=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function co(e,t,n){return Wa(t)?Ja.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ja.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ja.grep(e,function(e){return Ba.call(t,e)>-1!==n}):Ja.filter(t,e,n)}Ja.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ja.find.matchesSelector(r,e)?[r]:[]:Ja.find.matches(e,Ja.grep(t,function(e){return 1===e.nodeType}))},Ja.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ja(e).filter(function(){for(t=0;t<r;t++)if(Ja.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ja.find(e,i[t],n);return r>1?Ja.uniqueSort(n):n},filter:function(e){return this.pushStack(co(this,e||[],!1))},not:function(e){return this.pushStack(co(this,e||[],!0))},is:function(e){return!!co(this,"string"==typeof e&&ao.test(e)?Ja(e):e||[],!1).length}});var lo,uo=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ja.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||lo,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:uo.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(Ja.merge(this,Ja.parseHTML(r[1],(t=t instanceof Ja?t[0]:t)&&t.nodeType?t.ownerDocument||t:La,!0)),so.test(r[1])&&Ja.isPlainObject(t))for(r in t)Wa(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=La.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Wa(e)?void 0!==n.ready?n.ready(e):e(Ja):Ja.makeArray(e,this)}).prototype=Ja.fn,lo=Ja(La);var ho=/^(?:parents|prev(?:Until|All))/,fo={children:!0,contents:!0,next:!0,prev:!0};function po(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}Ja.fn.extend({has:function(e){var t=Ja(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ja.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&Ja(e);if(!ao.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Ja.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Ja.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?Ba.call(Ja(e),this[0]):Ba.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ja.uniqueSort(Ja.merge(this.get(),Ja(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ja.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ro(e,"parentNode")},parentsUntil:function(e,t,n){return ro(e,"parentNode",n)},next:function(e){return po(e,"nextSibling")},prev:function(e){return po(e,"previousSibling")},nextAll:function(e){return ro(e,"nextSibling")},prevAll:function(e){return ro(e,"previousSibling")},nextUntil:function(e,t,n){return ro(e,"nextSibling",n)},prevUntil:function(e,t,n){return ro(e,"previousSibling",n)},siblings:function(e){return io((e.parentNode||{}).firstChild,e)},children:function(e){return io(e.firstChild)},contents:function(e){return oo(e,"iframe")?e.contentDocument:(oo(e,"template")&&(e=e.content||e),Ja.merge([],e.childNodes))}},function(e,t){Ja.fn[e]=function(n,r){var i=Ja.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Ja.filter(r,i)),this.length>1&&(fo[e]||Ja.uniqueSort(i),ho.test(e)&&i.reverse()),this.pushStack(i)}});var vo=/[^\x20\t\r\n\f]+/g;function mo(e){return e}function go(e){throw e}function yo(e,t,n,r){var i;try{e&&Wa(i=e.promise)?i.call(e).done(t).fail(n):e&&Wa(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}Ja.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return Ja.each(e.match(vo)||[],function(e,n){t[n]=!0}),t}(e):Ja.extend({},e);var t,n,r,i,a=[],o=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},l={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){Ja.each(n,function(n,r){Wa(r)?e.unique&&l.has(r)||a.push(r):r&&r.length&&"string"!==Ka(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Ja.each(arguments,function(e,t){for(var n;(n=Ja.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(e){return e?Ja.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Ja.extend({Deferred:function(e){var t=[["notify","progress",Ja.Callbacks("memory"),Ja.Callbacks("memory"),2],["resolve","done",Ja.Callbacks("once memory"),Ja.Callbacks("once memory"),0,"resolved"],["reject","fail",Ja.Callbacks("once memory"),Ja.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return Ja.Deferred(function(n){Ja.each(t,function(t,r){var a=Wa(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&Wa(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var i=0;function a(e,t,n,r){return function(){var o=this,s=arguments,c=function(){var c,l;if(!(e<i)){if((c=n.apply(o,s))===t.promise())throw new TypeError("Thenable self-resolution");l=c&&("object"===Vn(c)||"function"==typeof c)&&c.then,Wa(l)?r?l.call(c,a(i,t,mo,r),a(i,t,go,r)):(i++,l.call(c,a(i,t,mo,r),a(i,t,go,r),a(i,t,mo,t.notifyWith))):(n!==mo&&(o=void 0,s=[c]),(r||t.resolveWith)(o,s))}},l=r?c:function(){try{c()}catch(r){Ja.Deferred.exceptionHook&&Ja.Deferred.exceptionHook(r,l.stackTrace),e+1>=i&&(n!==go&&(o=void 0,s=[r]),t.rejectWith(o,s))}};e?l():(Ja.Deferred.getStackHook&&(l.stackTrace=Ja.Deferred.getStackHook()),window.setTimeout(l))}}return Ja.Deferred(function(i){t[0][3].add(a(0,i,Wa(r)?r:mo,i.notifyWith)),t[1][3].add(a(0,i,Wa(e)?e:mo)),t[2][3].add(a(0,i,Wa(n)?n:go))}).promise()},promise:function(e){return null!=e?Ja.extend(e,r):r}},i={};return Ja.each(t,function(e,a){var o=a[2],s=a[5];r[a[1]]=o.add,s&&o.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?void 0:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=Na.call(arguments),a=Ja.Deferred(),o=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?Na.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(yo(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||Wa(i[n]&&i[n].then)))return a.then();for(;n--;)yo(i[n],o(n),a.reject);return a.promise()}});var bo=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ja.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&bo.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ja.readyException=function(e){window.setTimeout(function(){throw e})};var _o=Ja.Deferred();function wo(){La.removeEventListener("DOMContentLoaded",wo),window.removeEventListener("load",wo),Ja.ready()}Ja.fn.ready=function(e){return _o.then(e).catch(function(e){Ja.readyException(e)}),this},Ja.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ja.readyWait:Ja.isReady)||(Ja.isReady=!0,!0!==e&&--Ja.readyWait>0||_o.resolveWith(La,[Ja]))}}),Ja.ready.then=_o.then,"complete"===La.readyState||"loading"!==La.readyState&&!La.documentElement.doScroll?window.setTimeout(Ja.ready):(La.addEventListener("DOMContentLoaded",wo),window.addEventListener("load",wo));var ko=function e(t,n,r,i,a,o,s){var c=0,l=t.length,u=null==r;if("object"===Ka(r))for(c in a=!0,r)e(t,n,c,r[c],!0,o,s);else if(void 0!==i&&(a=!0,Wa(i)||(s=!0),u&&(s?(n.call(t,i),n=null):(u=n,n=function(e,t,n){return u.call(Ja(e),n)})),n))for(;c<l;c++)n(t[c],r,s?i:i.call(t[c],c,n(t[c],r)));return a?t:u?n.call(t):l?n(t[0],r):o},So=/^-ms-/,xo=/-([a-z])/g;function Co(e,t){return t.toUpperCase()}function Eo(e){return e.replace(So,"ms-").replace(xo,Co)}var Ro=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Ao(){this.expando=Ja.expando+Ao.uid++}Ao.uid=1,Ao.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ro(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Eo(t)]=n;else for(r in t)i[Eo(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Eo(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Eo):(t=Eo(t))in r?[t]:t.match(vo)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||Ja.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ja.isEmptyObject(t)}};var To=new Ao,Io=new Ao,Oo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Do=/[A-Z]/g;function Mo(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Do,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Oo.test(e)?JSON.parse(e):e)}(n)}catch(i){}Io.set(e,t,n)}else n=void 0;return n}Ja.extend({hasData:function(e){return Io.hasData(e)||To.hasData(e)},data:function(e,t,n){return Io.access(e,t,n)},removeData:function(e,t){Io.remove(e,t)},_data:function(e,t,n){return To.access(e,t,n)},_removeData:function(e,t){To.remove(e,t)}}),Ja.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=Io.get(a),1===a.nodeType&&!To.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=Eo(r.slice(5)),Mo(a,r,i[r]));To.set(a,"hasDataAttrs",!0)}return i}return"object"===Vn(e)?this.each(function(){Io.set(this,e)}):ko(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=Io.get(a,e))||void 0!==(n=Mo(a,e))?n:void 0;this.each(function(){Io.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Io.remove(this,e)})}}),Ja.extend({queue:function(e,t,n){var r;if(e)return r=To.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=To.access(e,t,Ja.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=Ja.queue(e,t=t||"fx"),r=n.length,i=n.shift(),a=Ja._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,function(){Ja.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return To.get(e,n)||To.access(e,n,{empty:Ja.Callbacks("once memory").add(function(){To.remove(e,[t+"queue",n])})})}}),Ja.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ja.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ja.queue(this,e,t);Ja._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ja.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ja.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ja.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=To.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Po=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lo=new RegExp("^(?:([+-])=|)("+Po+")([a-z%]*)$","i"),Fo=["Top","Right","Bottom","Left"],No=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Ja.contains(e.ownerDocument,e)&&"none"===Ja.css(e,"display")},zo=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,r||[]),t)e.style[a]=o[a];return i},jo={};function Bo(e){var t,n=e.ownerDocument,r=e.nodeName,i=jo[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Ja.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),jo[r]=i,i)}function Vo(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=To.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&No(r)&&(i[a]=Bo(r))):"none"!==n&&(i[a]="none",To.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}Ja.fn.extend({show:function(){return Vo(this,!0)},hide:function(){return Vo(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){No(this)?Ja(this).show():Ja(this).hide()})}});var Uo=/^(?:checkbox|radio)$/i,Ho=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,$o=/^$|^module$|\/(?:java|ecma)script/i,qo={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Go(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&oo(e,t)?Ja.merge([e],n):n}function Wo(e,t){for(var n=0,r=e.length;n<r;n++)To.set(e[n],"globalEval",!t||To.get(t[n],"globalEval"))}qo.optgroup=qo.option,qo.tbody=qo.tfoot=qo.colgroup=qo.caption=qo.thead,qo.th=qo.td;var Yo,Zo,Xo=/<|&#?\w+;/;function Ko(e,t,n,r,i){for(var a,o,s,c,l,u,h=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((a=e[d])||0===a)if("object"===Ka(a))Ja.merge(f,a.nodeType?[a]:a);else if(Xo.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(Ho.exec(a)||["",""])[1].toLowerCase(),o.innerHTML=(c=qo[s]||qo._default)[1]+Ja.htmlPrefilter(a)+c[2],u=c[0];u--;)o=o.lastChild;Ja.merge(f,o.childNodes),(o=h.firstChild).textContent=""}else f.push(t.createTextNode(a));for(h.textContent="",d=0;a=f[d++];)if(r&&Ja.inArray(a,r)>-1)i&&i.push(a);else if(l=Ja.contains(a.ownerDocument,a),o=Go(h.appendChild(a),"script"),l&&Wo(o),n)for(u=0;a=o[u++];)$o.test(a.type||"")&&n.push(a);return h}Yo=La.createDocumentFragment().appendChild(La.createElement("div")),(Zo=La.createElement("input")).setAttribute("type","radio"),Zo.setAttribute("checked","checked"),Zo.setAttribute("name","t"),Yo.appendChild(Zo),Ga.checkClone=Yo.cloneNode(!0).cloneNode(!0).lastChild.checked,Yo.innerHTML="<textarea>x</textarea>",Ga.noCloneChecked=!!Yo.cloneNode(!0).lastChild.defaultValue;var Qo=La.documentElement,Jo=/^key/,es=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ts=/^([^.]*)(?:\.(.+)|)/;function ns(){return!0}function rs(){return!1}function is(){try{return La.activeElement}catch(e){}}function as(e,t,n,r,i,a){var o,s;if("object"===Vn(t)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)as(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=rs;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return Ja().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=Ja.guid++)),e.each(function(){Ja.event.add(this,t,i,r,n)})}Ja.event={global:{},add:function(e,t,n,r,i){var a,o,s,c,l,u,h,f,d,p,v,m=To.get(e);if(m)for(n.handler&&(n=(a=n).handler,i=a.selector),i&&Ja.find.matchesSelector(Qo,i),n.guid||(n.guid=Ja.guid++),(c=m.events)||(c=m.events={}),(o=m.handle)||(o=m.handle=function(t){return Ja.event.triggered!==t.type?Ja.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(vo)||[""]).length;l--;)d=v=(s=ts.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=Ja.event.special[d]||{},h=Ja.event.special[d=(i?h.delegateType:h.bindType)||d]||{},u=Ja.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ja.expr.match.needsContext.test(i),namespace:p.join(".")},a),(f=c[d])||((f=c[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,o)||e.addEventListener&&e.addEventListener(d,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),Ja.event.global[d]=!0)},remove:function(e,t,n,r,i){var a,o,s,c,l,u,h,f,d,p,v,m=To.hasData(e)&&To.get(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(vo)||[""]).length;l--;)if(d=v=(s=ts.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=Ja.event.special[d]||{},f=c[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!i&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(e,u));o&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||Ja.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)Ja.event.remove(e,d+t[l],n,r,!0);Ja.isEmptyObject(c)&&To.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=Ja.event.fix(e),c=new Array(arguments.length),l=(To.get(this,"events")||{})[s.type]||[],u=Ja.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=Ja.event.handlers.call(this,s,l),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(r=((Ja.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,a,o,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(a=[],o={},n=0;n<c;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?Ja(i,this).index(l)>-1:Ja.find(i,this,null,[l]).length),o[i]&&a.push(r);a.length&&s.push({elem:l,handlers:a})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(Ja.Event.prototype,e,{enumerable:!0,configurable:!0,get:Wa(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ja.expando]?e:new Ja.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==is()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===is()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oo(this,"input"))return this.click(),!1},_default:function(e){return oo(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ja.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(Ja.Event=function(e,t){if(!(this instanceof Ja.Event))return new Ja.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ns:rs,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ja.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ja.expando]=!0}).prototype={constructor:Ja.Event,isDefaultPrevented:rs,isPropagationStopped:rs,isImmediatePropagationStopped:rs,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ns,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ns,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ns,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ja.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Jo.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&es.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ja.event.addProp),Ja.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ja.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===r||Ja.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Ja.fn.extend({on:function(e,t,n,r){return as(this,e,t,n,r)},one:function(e,t,n,r){return as(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ja(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===Vn(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=rs),this.each(function(){Ja.event.remove(this,e,n,t)})}});var os=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ss=/<script|<style|<link/i,cs=/checked\s*(?:[^=]|=\s*.checked.)/i,ls=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function us(e,t){return oo(e,"table")&&oo(11!==t.nodeType?t:t.firstChild,"tr")&&Ja(e).children("tbody")[0]||e}function hs(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fs(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ds(e,t){var n,r,i,a,o,s,c,l;if(1===t.nodeType){if(To.hasData(e)&&(a=To.access(e),o=To.set(t,a),l=a.events))for(i in delete o.handle,o.events={},l)for(n=0,r=l[i].length;n<r;n++)Ja.event.add(t,i,l[i][n]);Io.hasData(e)&&(s=Io.access(e),c=Ja.extend({},s),Io.set(t,c))}}function ps(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Uo.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function vs(e,t,n,r){t=za.apply([],t);var i,a,o,s,c,l,u=0,h=e.length,f=h-1,d=t[0],p=Wa(d);if(p||h>1&&"string"==typeof d&&!Ga.checkClone&&cs.test(d))return e.each(function(i){var a=e.eq(i);p&&(t[0]=d.call(this,i,a.html())),vs(a,t,n,r)});if(h&&(a=(i=Ko(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(s=(o=Ja.map(Go(i,"script"),hs)).length;u<h;u++)c=i,u!==f&&(c=Ja.clone(c,!0,!0),s&&Ja.merge(o,Go(c,"script"))),n.call(e[u],c,u);if(s)for(l=o[o.length-1].ownerDocument,Ja.map(o,fs),u=0;u<s;u++)$o.test((c=o[u]).type||"")&&!To.access(c,"globalEval")&&Ja.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Ja._evalUrl&&Ja._evalUrl(c.src):Xa(c.textContent.replace(ls,""),l,c))}return e}function ms(e,t,n){for(var r,i=t?Ja.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||Ja.cleanData(Go(r)),r.parentNode&&(n&&Ja.contains(r.ownerDocument,r)&&Wo(Go(r,"script")),r.parentNode.removeChild(r));return e}Ja.extend({htmlPrefilter:function(e){return e.replace(os,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),c=Ja.contains(e.ownerDocument,e);if(!(Ga.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ja.isXMLDoc(e)))for(o=Go(s),r=0,i=(a=Go(e)).length;r<i;r++)ps(a[r],o[r]);if(t)if(n)for(a=a||Go(e),o=o||Go(s),r=0,i=a.length;r<i;r++)ds(a[r],o[r]);else ds(e,s);return(o=Go(s,"script")).length>0&&Wo(o,!c&&Go(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ja.event.special,a=0;void 0!==(n=e[a]);a++)if(Ro(n)){if(t=n[To.expando]){if(t.events)for(r in t.events)i[r]?Ja.event.remove(n,r):Ja.removeEvent(n,r,t.handle);n[To.expando]=void 0}n[Io.expando]&&(n[Io.expando]=void 0)}}}),Ja.fn.extend({detach:function(e){return ms(this,e,!0)},remove:function(e){return ms(this,e)},text:function(e){return ko(this,function(e){return void 0===e?Ja.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return vs(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||us(this,e).appendChild(e)})},prepend:function(){return vs(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=us(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return vs(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return vs(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ja.cleanData(Go(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ja.clone(this,e,t)})},html:function(e){return ko(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ss.test(e)&&!qo[(Ho.exec(e)||["",""])[1].toLowerCase()]){e=Ja.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(Ja.cleanData(Go(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return vs(this,arguments,function(t){var n=this.parentNode;Ja.inArray(this,e)<0&&(Ja.cleanData(Go(this)),n&&n.replaceChild(t,this))},e)}}),Ja.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ja.fn[e]=function(e){for(var n,r=[],i=Ja(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),Ja(i[o])[t](n),ja.apply(r,n.get());return this.pushStack(r)}});var gs=new RegExp("^("+Po+")(?!px)[a-z%]+$","i"),ys=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},bs=new RegExp(Fo.join("|"),"i");function _s(e,t,n){var r,i,a,o,s=e.style;return(n=n||ys(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||Ja.contains(e.ownerDocument,e)||(o=Ja.style(e,t)),!Ga.pixelBoxStyles()&&gs.test(o)&&bs.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function ws(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qo.appendChild(s).appendChild(c);var e=window.getComputedStyle(c);n="1%"!==e.top,o=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",i=36===c.offsetWidth||"absolute",Qo.removeChild(s),c=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,a,o,s=La.createElement("div"),c=La.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",Ga.clearCloneStyle="content-box"===c.style.backgroundClip,Ja.extend(Ga,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),i}}))}();var ks=/^(none|table(?!-c[ea]).+)/,Ss=/^--/,xs={position:"absolute",visibility:"hidden",display:"block"},Cs={letterSpacing:"0",fontWeight:"400"},Es=["Webkit","Moz","ms"],Rs=La.createElement("div").style;function As(e){var t=Ja.cssProps[e];return t||(t=Ja.cssProps[e]=function(e){if(e in Rs)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Es.length;n--;)if((e=Es[n]+t)in Rs)return e}(e)||e),t}function Ts(e,t,n){var r=Lo.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Is(e,t,n,r,i,a){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=Ja.css(e,n+Fo[o],!0,i)),r?("content"===n&&(c-=Ja.css(e,"padding"+Fo[o],!0,i)),"margin"!==n&&(c-=Ja.css(e,"border"+Fo[o]+"Width",!0,i))):(c+=Ja.css(e,"padding"+Fo[o],!0,i),"padding"!==n?c+=Ja.css(e,"border"+Fo[o]+"Width",!0,i):s+=Ja.css(e,"border"+Fo[o]+"Width",!0,i));return!r&&a>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-c-s-.5))),c}function Os(e,t,n){var r=ys(e),i=_s(e,t,r),a="border-box"===Ja.css(e,"boxSizing",!1,r),o=a;if(gs.test(i)){if(!n)return i;i="auto"}return o=o&&(Ga.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===Ja.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+Is(e,t,n||(a?"border":"content"),o,r,i)+"px"}Ja.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_s(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=Eo(t),c=Ss.test(t),l=e.style;if(c||(t=As(s)),o=Ja.cssHooks[t]||Ja.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:l[t];"string"===(a=Vn(n))&&(i=Lo.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,a,o=20,s=function(){return Ja.css(e,t,"")},c=s(),l=n&&n[3]||(Ja.cssNumber[t]?"":"px"),u=(Ja.cssNumber[t]||"px"!==l&&+c)&&Lo.exec(Ja.css(e,t));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;o--;)Ja.style(e,t,u+l),(1-a)*(1-(a=s()/c||.5))<=0&&(o=0),u/=a;Ja.style(e,t,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2]),i}(e,t,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(Ja.cssNumber[s]?"":"px")),Ga.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,a,o,s=Eo(t);return Ss.test(t)||(t=As(s)),(o=Ja.cssHooks[t]||Ja.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=_s(e,t,r)),"normal"===i&&t in Cs&&(i=Cs[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),Ja.each(["height","width"],function(e,t){Ja.cssHooks[t]={get:function(e,n,r){if(n)return!ks.test(Ja.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Os(e,t,r):zo(e,xs,function(){return Os(e,t,r)})},set:function(e,n,r){var i,a=ys(e),o="border-box"===Ja.css(e,"boxSizing",!1,a),s=r&&Is(e,t,r,o,a);return o&&Ga.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Is(e,t,"border",!1,a)-.5)),s&&(i=Lo.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Ja.css(e,t)),Ts(0,n,s)}}}),Ja.cssHooks.marginLeft=ws(Ga.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_s(e,"marginLeft"))||e.getBoundingClientRect().left-zo(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ja.each({margin:"",padding:"",border:"Width"},function(e,t){Ja.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Fo[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(Ja.cssHooks[e+t].set=Ts)}),Ja.fn.extend({css:function(e,t){return ko(this,function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=ys(e),i=t.length;o<i;o++)a[t[o]]=Ja.css(e,t[o],!1,r);return a}return void 0!==n?Ja.style(e,t,n):Ja.css(e,t)},e,t,arguments.length>1)}}),Ja.fn.delay=function(e,t){return e=Ja.fx&&Ja.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}})},function(){var e=La.createElement("input"),t=La.createElement("select").appendChild(La.createElement("option"));e.type="checkbox",Ga.checkOn=""!==e.value,Ga.optSelected=t.selected,(e=La.createElement("input")).value="t",e.type="radio",Ga.radioValue="t"===e.value}();var Ds,Ms=Ja.expr.attrHandle;Ja.fn.extend({attr:function(e,t){return ko(this,Ja.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ja.removeAttr(this,e)})}}),Ja.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?Ja.prop(e,t,n):(1===a&&Ja.isXMLDoc(e)||(i=Ja.attrHooks[t.toLowerCase()]||(Ja.expr.match.bool.test(t)?Ds:void 0)),void 0!==n?null===n?void Ja.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=Ja.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!Ga.radioValue&&"radio"===t&&oo(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(vo);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ds={set:function(e,t,n){return!1===t?Ja.removeAttr(e,n):e.setAttribute(n,n),n}},Ja.each(Ja.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ms[t]||Ja.find.attr;Ms[t]=function(e,t,r){var i,a,o=t.toLowerCase();return r||(a=Ms[o],Ms[o]=i,i=null!=n(e,t,r)?o:null,Ms[o]=a),i}});var Ps=/^(?:input|select|textarea|button)$/i,Ls=/^(?:a|area)$/i;function Fs(e){return(e.match(vo)||[]).join(" ")}function Ns(e){return e.getAttribute&&e.getAttribute("class")||""}function zs(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(vo)||[]}Ja.fn.extend({prop:function(e,t){return ko(this,Ja.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ja.propFix[e]||e]})}}),Ja.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Ja.isXMLDoc(e)||(i=Ja.propHooks[t=Ja.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ja.find.attr(e,"tabindex");return t?parseInt(t,10):Ps.test(e.nodeName)||Ls.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ga.optSelected||(Ja.propHooks.selected={get:function(e){return null},set:function(e){}}),Ja.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ja.propFix[this.toLowerCase()]=this}),Ja.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,c=0;if(Wa(e))return this.each(function(t){Ja(this).addClass(e.call(this,t,Ns(this)))});if((t=zs(e)).length)for(;n=this[c++];)if(i=Ns(n),r=1===n.nodeType&&" "+Fs(i)+" "){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=Fs(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,c=0;if(Wa(e))return this.each(function(t){Ja(this).removeClass(e.call(this,t,Ns(this)))});if(!arguments.length)return this.attr("class","");if((t=zs(e)).length)for(;n=this[c++];)if(i=Ns(n),r=1===n.nodeType&&" "+Fs(i)+" "){for(o=0;a=t[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");i!==(s=Fs(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=Vn(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Wa(e)?this.each(function(n){Ja(this).toggleClass(e.call(this,n,Ns(this),t),t)}):this.each(function(){var t,i,a,o;if(r)for(i=0,a=Ja(this),o=zs(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=Ns(this))&&To.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":To.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Fs(Ns(n))+" ").indexOf(t)>-1)return!0;return!1}});var js=/\r/g;Ja.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Wa(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,Ja(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Ja.map(i,function(e){return null==e?"":e+""})),(t=Ja.valHooks[this.type]||Ja.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Ja.valHooks[i.type]||Ja.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(js,""):null==n?"":n:void 0}}),Ja.extend({valHooks:{option:{get:function(e){var t=Ja.find.attr(e,"value");return null!=t?t:Fs(Ja.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?a+1:i.length;for(r=a<0?c:o?a:0;r<c;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!oo(n.parentNode,"optgroup"))){if(t=Ja(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=Ja.makeArray(t),o=i.length;o--;)((r=i[o]).selected=Ja.inArray(Ja.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Ja.each(["radio","checkbox"],function(){Ja.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ja.inArray(Ja(e).val(),t)>-1}},Ga.checkOn||(Ja.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Ga.focusin="onfocusin"in window;var Bs=/^(?:focusinfocus|focusoutblur)$/,Vs=function(e){e.stopPropagation()};Ja.extend(Ja.event,{trigger:function(e,t,n,r){var i,a,o,s,c,l,u,h,f=[n||La],d=Ha.call(e,"type")?e.type:e,p=Ha.call(e,"namespace")?e.namespace.split("."):[];if(a=h=o=n=n||La,3!==n.nodeType&&8!==n.nodeType&&!Bs.test(d+Ja.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,(e=e[Ja.expando]?e:new Ja.Event(d,"object"===Vn(e)&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:Ja.makeArray(t,[e]),u=Ja.event.special[d]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!Ya(n)){for(Bs.test((s=u.delegateType||d)+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(n.ownerDocument||La)&&f.push(o.defaultView||o.parentWindow||window)}for(i=0;(a=f[i++])&&!e.isPropagationStopped();)h=a,e.type=i>1?s:u.bindType||d,(l=(To.get(a,"events")||{})[e.type]&&To.get(a,"handle"))&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Ro(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),t)||!Ro(n)||c&&Wa(n[d])&&!Ya(n)&&((o=n[c])&&(n[c]=null),Ja.event.triggered=d,e.isPropagationStopped()&&h.addEventListener(d,Vs),n[d](),e.isPropagationStopped()&&h.removeEventListener(d,Vs),Ja.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var r=Ja.extend(new Ja.Event,n,{type:e,isSimulated:!0});Ja.event.trigger(r,null,t)}}),Ja.fn.extend({trigger:function(e,t){return this.each(function(){Ja.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ja.event.trigger(e,t,n,!0)}}),Ga.focusin||Ja.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ja.event.simulate(t,e.target,Ja.event.fix(e))};Ja.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=To.access(r,t);i||r.addEventListener(e,n,!0),To.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=To.access(r,t)-1;i?To.access(r,t,i):(r.removeEventListener(e,n,!0),To.remove(r,t))}}});var Us,Hs=/\[\]$/,$s=/\r?\n/g,qs=/^(?:submit|button|image|reset|file)$/i,Gs=/^(?:input|select|textarea|keygen)/i;function Ws(e,t,n,r){var i;if(Array.isArray(t))Ja.each(t,function(t,i){n||Hs.test(e)?r(e,i):Ws(e+"["+("object"===Vn(i)&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==Ka(t))r(e,t);else for(i in t)Ws(e+"["+i+"]",t[i],n,r)}Ja.param=function(e,t){var n,r=[],i=function(e,t){var n=Wa(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Ja.isPlainObject(e))Ja.each(e,function(){i(this.name,this.value)});else for(n in e)Ws(n,e[n],t,i);return r.join("&")},Ja.fn.extend({serialize:function(){return Ja.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ja.prop(this,"elements");return e?Ja.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ja(this).is(":disabled")&&Gs.test(this.nodeName)&&!qs.test(e)&&(this.checked||!Uo.test(e))}).map(function(e,t){var n=Ja(this).val();return null==n?null:Array.isArray(n)?Ja.map(n,function(e){return{name:t.name,value:e.replace($s,"\r\n")}}):{name:t.name,value:n.replace($s,"\r\n")}}).get()}}),Ja.fn.extend({wrapAll:function(e){var t;return this[0]&&(Wa(e)&&(e=e.call(this[0])),t=Ja(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Wa(e)?this.each(function(t){Ja(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ja(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Wa(e);return this.each(function(n){Ja(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ja(this).replaceWith(this.childNodes)}),this}}),Ja.expr.pseudos.hidden=function(e){return!Ja.expr.pseudos.visible(e)},Ja.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ga.createHTMLDocument=((Us=La.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Us.childNodes.length),Ja.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(Ga.createHTMLDocument?((r=(t=La.implementation.createHTMLDocument("")).createElement("base")).href=La.location.href,t.head.appendChild(r)):t=La),a=!n&&[],(i=so.exec(e))?[t.createElement(i[1])]:(i=Ko([e],t,a),a&&a.length&&Ja(a).remove(),Ja.merge([],i.childNodes)));var r,i,a},Ja.offset={setOffset:function(e,t,n){var r,i,a,o,s,c,l=Ja.css(e,"position"),u=Ja(e),h={};"static"===l&&(e.style.position="relative"),s=u.offset(),a=Ja.css(e,"top"),c=Ja.css(e,"left"),("absolute"===l||"fixed"===l)&&(a+c).indexOf("auto")>-1?(o=(r=u.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),Wa(t)&&(t=t.call(e,n,Ja.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):u.css(h)}},Ja.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ja.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ja.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ja.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=Ja(e).offset()).top+=Ja.css(e,"borderTopWidth",!0),i.left+=Ja.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ja.css(r,"marginTop",!0),left:t.left-i.left-Ja.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ja.css(e,"position");)e=e.offsetParent;return e||Qo})}}),Ja.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ja.fn[e]=function(r){return ko(this,function(e,r,i){var a;if(Ya(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i},e,r,arguments.length)}}),Ja.each(["top","left"],function(e,t){Ja.cssHooks[t]=ws(Ga.pixelPosition,function(e,n){if(n)return n=_s(e,t),gs.test(n)?Ja(e).position()[t]+"px":n})}),Ja.each({Height:"height",Width:"width"},function(e,t){Ja.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ja.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return ko(this,function(t,n,i){var a;return Ya(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?Ja.css(t,n,s):Ja.style(t,n,i,s)},t,o?i:void 0,o)}})}),Ja.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ja.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Ja.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ja.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Ja.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Wa(e))return r=Na.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(Na.call(arguments)))}).guid=e.guid=e.guid||Ja.guid++,i},Ja.holdReady=function(e){e?Ja.readyWait++:Ja.ready(!0)},Ja.isArray=Array.isArray,Ja.parseJSON=JSON.parse,Ja.nodeName=oo,Ja.isFunction=Wa,Ja.isWindow=Ya,Ja.camelCase=Eo,Ja.type=Ka,Ja.now=Date.now,Ja.isNumeric=function(e){var t=Ja.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Ys=Ja,Zs=Object.assign,Xs=Object.defineProperty,Ks=!Zs||i(function(){if(a&&1!==Zs({b:1},Zs(Xs({},"a",{enumerable:!0,get:function(){Xs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=Zs({},e)[n]||"abcdefghijklmnopqrst"!=Ct(Zs({},t)).join("")})?function(e,t){for(var n=Me(e),r=arguments.length,i=1,o=be.f,s=c.f;r>i;)for(var l,u=d(arguments[i++]),h=o?Ct(u).concat(o(u)):Ct(u),f=h.length,p=0;f>p;)l=h[p++],a&&!s.call(u,l)||(n[l]=u[l]);return n}:Zs;Ie({target:"Object",stat:!0,forced:Object.assign!==Ks},{assign:Ks});var Qs=cr.f,Js=i(function(){return!Object.getOwnPropertyNames(1)});Ie({target:"Object",stat:!0,forced:Js},{getOwnPropertyNames:Qs});var ec=i(function(){Ct(1)});Ie({target:"Object",stat:!0,forced:ec},{keys:function(e){return Ct(Me(e))}});var tc=r.Promise,nc=function(e,t,n){for(var r in t)ee(e,r,t[r],n);return e},rc=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ic=Be("iterator"),ac=Array.prototype,oc=function(e){return void 0!==e&&(fi.Array===e||ac[ic]===e)},sc=Be("iterator"),cc=function(e){if(null!=e)return e[sc]||e["@@iterator"]||fi[ea(e)]},lc=function(e,t,n,r){try{return r?t(E(n)[0],n[1]):t(n)}catch(jk){var i=e.return;throw void 0!==i&&E(i.call(e)),jk}},uc=t(function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,a){var o,s,c,l,u,h,f,d=De(n,r,i?2:1);if(a)o=e;else{if("function"!=typeof(s=cc(e)))throw TypeError("Target is not iterable");if(oc(s)){for(c=0,l=ce(e.length);l>c;c++)if((u=i?d(E(f=e[c])[0],f[1]):d(e[c]))&&u instanceof t)return u;return new t(!1)}o=s.call(e)}for(h=o.next;!(f=h.call(o)).done;)if("object"==typeof(u=lc(o,d,f.value,i))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}),hc=Be("iterator"),fc=!1;try{var dc=0,pc={next:function(){return{done:!!dc++}},return:function(){fc=!0}};pc[hc]=function(){return this},Array.from(pc,function(){throw 2})}catch(jk){}var vc,mc,gc,yc=function(e,t){if(!t&&!fc)return!1;var n=!1;try{var r={};r[hc]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(jk){}return n},bc=/(iphone|ipod|ipad).*applewebkit/i.test(Ge),_c=r.location,wc=r.setImmediate,kc=r.clearImmediate,Sc=r.process,xc=r.MessageChannel,Cc=r.Dispatch,Ec=0,Rc={},Ac=function(e){if(Rc.hasOwnProperty(e)){var t=Rc[e];delete Rc[e],t()}},Tc=function(e){return function(){Ac(e)}},Ic=function(e){Ac(e.data)},Oc=function(e){r.postMessage(e+"",_c.protocol+"//"+_c.host)};wc&&kc||(wc=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Rc[++Ec]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},vc(Ec),Ec},kc=function(e){delete Rc[e]},"process"==h(Sc)?vc=function(e){Sc.nextTick(Tc(e))}:Cc&&Cc.now?vc=function(e){Cc.now(Tc(e))}:xc&&!bc?(gc=(mc=new xc).port2,mc.port1.onmessage=Ic,vc=De(gc.postMessage,gc,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(Oc)?vc="onreadystatechange"in k("script")?function(e){Rt.appendChild(k("script")).onreadystatechange=function(){Rt.removeChild(this),Ac(e)}}:function(e){setTimeout(Tc(e),0)}:(vc=Oc,r.addEventListener("message",Ic,!1)));var Dc,Mc,Pc,Lc,Fc,Nc,zc,jc,Bc={set:wc,clear:kc},Vc=C.f,Uc=Bc.set,Hc=r.MutationObserver||r.WebKitMutationObserver,$c=r.process,qc=r.Promise,Gc="process"==h($c),Wc=Vc(r,"queueMicrotask"),Yc=Wc&&Wc.value;Yc||(Dc=function(){var e,t;for(Gc&&(e=$c.domain)&&e.exit();Mc;){t=Mc.fn,Mc=Mc.next;try{t()}catch(jk){throw Mc?Lc():Pc=void 0,jk}}Pc=void 0,e&&e.enter()},Gc?Lc=function(){$c.nextTick(Dc)}:Hc&&!bc?(Fc=!0,Nc=document.createTextNode(""),new Hc(Dc).observe(Nc,{characterData:!0}),Lc=function(){Nc.data=Fc=!Fc}):qc&&qc.resolve?(zc=qc.resolve(void 0),jc=zc.then,Lc=function(){jc.call(zc,Dc)}):Lc=function(){Uc.call(r,Dc)});var Zc,Xc,Kc,Qc,Jc=Yc||function(e){var t={fn:e,next:void 0};Pc&&(Pc.next=t),Mc||(Mc=t,Lc()),Pc=t},el=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Oe(t),this.reject=Oe(n)},tl={f:function(e){return new el(e)}},nl=function(e,t){if(E(e),m(t)&&t.constructor===e)return t;var n=tl.f(e);return(0,n.resolve)(t),n.promise},rl=function(e){try{return{error:!1,value:e()}}catch(jk){return{error:!0,value:jk}}},il=Bc.set,al=Be("species"),ol="Promise",sl=J.get,cl=J.set,ll=J.getterFor(ol),ul=tc,hl=r.TypeError,fl=r.document,dl=r.process,pl=re("fetch"),vl=tl.f,ml=vl,gl="process"==h(dl),yl=!!(fl&&fl.createEvent&&r.dispatchEvent),bl=Ae(ol,function(){if(F(ul)===String(ul)){if(66===Xe)return!0;if(!gl&&"function"!=typeof PromiseRejectionEvent)return!0}if(Xe>=51&&/native code/.test(ul))return!1;var e=ul.resolve(1),t=function(e){e(function(){},function(){})};return(e.constructor={})[al]=t,!(e.then(function(){})instanceof t)}),_l=bl||!yc(function(e){ul.all(e).catch(function(){})}),wl=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},kl=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;Jc(function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,c,l,u=r[o++],h=a?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{h?(a||(2===t.rejection&&El(e,t),t.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),l=!0)),s===u.promise?d(hl("Promise-chain cycle")):(c=wl(s))?c.call(s,f,d):f(s)):d(i)}catch(jk){p&&!l&&p.exit(),d(jk)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&xl(e,t)})}},Sl=function(e,t,n){var i,a;yl?((i=fl.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),r.dispatchEvent(i)):i={promise:t,reason:n},(a=r["on"+e])?a(i):"unhandledrejection"===e&&function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},xl=function(e,t){il.call(r,function(){var n,r=t.value;if(Cl(t)&&(n=rl(function(){gl?dl.emit("unhandledRejection",r,e):Sl("unhandledrejection",e,r)}),t.rejection=gl||Cl(t)?2:1,n.error))throw n.value})},Cl=function(e){return 1!==e.rejection&&!e.parent},El=function(e,t){il.call(r,function(){gl?dl.emit("rejectionHandled",e):Sl("rejectionhandled",e,t.value)})},Rl=function(e,t,n,r){return function(i){e(t,n,i,r)}},Al=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,kl(e,t,!0))},Tl=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw hl("Promise can't be resolved itself");var a=wl(r);a?Jc(function(){var i={done:!1};try{a.call(r,Rl(e,t,i,n),Rl(Al,t,i,n))}catch(jk){Al(t,i,jk,n)}}):(n.value=r,n.state=1,kl(t,n,!1))}catch(jk){Al(t,{done:!1},jk,n)}}};bl&&(ul=function(e){rc(this,ul,ol),Oe(e),Zc.call(this);var t=sl(this);try{e(Rl(Tl,this,t),Rl(Al,this,t))}catch(jk){Al(this,t,jk)}},(Zc=function(e){cl(this,{type:ol,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=nc(ul.prototype,{then:function(e,t){var n=ll(this),r=vl(Tn(this,ul));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=gl?dl.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&kl(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Xc=function(){var e=new Zc,t=sl(e);this.promise=e,this.resolve=Rl(Tl,e,t),this.reject=Rl(Al,e,t)},tl.f=vl=function(e){return e===ul||e===Kc?new Xc(e):ml(e)},"function"==typeof tc&&(Qc=tc.prototype.then,ee(tc.prototype,"then",function(e,t){var n=this;return new ul(function(e,t){Qc.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof pl&&Ie({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return nl(ul,pl.apply(r,arguments))}}))),Ie({global:!0,wrap:!0,forced:bl},{Promise:ul}),pr(ul,ol,!1),na(ol),Kc=re(ol),Ie({target:ol,stat:!0,forced:bl},{reject:function(e){var t=vl(this);return t.reject.call(void 0,e),t.promise}}),Ie({target:ol,stat:!0,forced:bl},{resolve:function(e){return nl(this,e)}}),Ie({target:ol,stat:!0,forced:_l},{all:function(e){var t=this,n=vl(t),r=n.resolve,i=n.reject,a=rl(function(){var n=Oe(t.resolve),a=[],o=0,s=1;uc(e,function(e){var c=o++,l=!1;a.push(void 0),s++,n.call(t,e).then(function(e){l||(l=!0,a[c]=e,--s||r(a))},i)}),--s||r(a)});return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=vl(t),r=n.reject,i=rl(function(){var i=Oe(t.resolve);uc(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var Il=C.f,Ol="".startsWith,Dl=Math.min,Ml=dn("startsWith"),Pl=!Ml&&!!function(){var e=Il(String.prototype,"startsWith");return e&&!e.writable}();Ie({target:"String",proto:!0,forced:!Pl&&!Ml},{startsWith:function(e){var t=String(p(this));hn(e);var n=ce(Dl(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Ol?Ol.call(t,r,n):t.slice(n,n+r.length)===r}});var Ll=zt.trim;Ie({target:"String",proto:!0,forced:i(function(){return!!Mt.trim()||"\u200b\x85\u180e"!="\u200b\x85\u180e".trim()||"trim"!==Mt.trim.name})},{trim:function(){return Ll(this)}});var Fl=Be("iterator"),Nl=!i(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Fl]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}),zl=function(e){var t,n,r,i,a,o,s=Me(e),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,f=cc(s),d=0;if(h&&(u=De(u,l>2?arguments[2]:void 0,2)),null==f||c==Array&&oc(f))for(n=new c(t=ce(s.length));t>d;d++)o=h?u(s[d],d):s[d],Qr(n,d,o);else for(a=(i=f.call(s)).next,n=new c;!(r=a.call(i)).done;d++)o=h?lc(i,u,[r.value,d],!0):r.value,Qr(n,d,o);return n.length=d,n},jl=/[^\0-\u007E]/,Bl=/[.\u3002\uFF0E\uFF61]/g,Vl="Overflow: input needs wider integers to process",Ul=Math.floor,Hl=String.fromCharCode,$l=function(e){return e+22+75*(e<26)},ql=function(e,t,n){var r=0;for(e=n?Ul(e/700):e>>1,e+=Ul(e/t);e>455;r+=36)e=Ul(e/35);return Ul(r+36*e/(e+38))},Gl=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,a=128,o=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(Hl(n));var c=r.length,l=c;for(c&&r.push("-");l<i;){var u=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=a&&n<u&&(u=n);var h=l+1;if(u-a>Ul((2147483647-o)/h))throw RangeError(Vl);for(o+=(u-a)*h,a=u,t=0;t<e.length;t++){if((n=e[t])<a&&++o>2147483647)throw RangeError(Vl);if(n==a){for(var f=o,d=36;;d+=36){var p=d<=s?1:d>=s+26?26:d-s;if(f<p)break;var v=f-p,m=36-p;r.push(Hl($l(p+v%m))),f=Ul(v/m)}r.push(Hl($l(f))),s=ql(o,h,l==c),o=0,++l}}++o,++a}return r.join("")},Wl=function(e){var t=cc(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return E(t.call(e))},Yl=re("fetch"),Zl=re("Headers"),Xl=Be("iterator"),Kl=J.set,Ql=J.getterFor("URLSearchParams"),Jl=J.getterFor("URLSearchParamsIterator"),eu=/\+/g,tu=Array(4),nu=function(e){return tu[e-1]||(tu[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},ru=function(e){try{return decodeURIComponent(e)}catch(jk){return e}},iu=function(e){var t=e.replace(eu," "),n=4;try{return decodeURIComponent(t)}catch(jk){for(;n;)t=t.replace(nu(n--),ru);return t}},au=/[!'()~]|%20/g,ou={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},su=function(e){return ou[e]},cu=function(e){return encodeURIComponent(e).replace(au,su)},lu=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:iu(r.shift()),value:iu(r.join("="))}))},uu=function(e){this.entries.length=0,lu(this.entries,e)},hu=function(e,t){if(e<t)throw TypeError("Not enough arguments")},fu=ki(function(e,t){Kl(this,{type:"URLSearchParamsIterator",iterator:Wl(Ql(e).entries),kind:t})},"Iterator",function(){var e=Jl(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),du=function e(){rc(this,e,"URLSearchParams");var t,n,r,i,a,o,s,c,l,u=arguments.length>0?arguments[0]:void 0,h=this,f=[];if(Kl(h,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:uu}),void 0!==u)if(m(u))if("function"==typeof(t=cc(u)))for(r=(n=t.call(u)).next;!(i=r.call(n)).done;){if((s=(o=(a=Wl(E(i.value))).next).call(a)).done||(c=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:c.value+""})}else for(l in u)b(u,l)&&f.push({key:l,value:u[l]+""});else lu(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},pu=du.prototype;nc(pu,{append:function(e,t){hu(arguments.length,2);var n=Ql(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){hu(arguments.length,1);for(var t=Ql(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){hu(arguments.length,1);for(var t=Ql(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){hu(arguments.length,1);for(var t=Ql(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){hu(arguments.length,1);for(var t=Ql(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){hu(arguments.length,1);for(var n,r=Ql(this),i=r.entries,a=!1,o=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===o&&(a?i.splice(c--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=Ql(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=Ql(this).entries,r=De(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new fu(this,"keys")},values:function(){return new fu(this,"values")},entries:function(){return new fu(this,"entries")}},{enumerable:!0}),ee(pu,Xl,pu.entries),ee(pu,"toString",function(){for(var e,t=Ql(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(cu(e.key)+"="+cu(e.value));return n.join("&")},{enumerable:!0}),pr(du,"URLSearchParams"),Ie({global:!0,forced:!Nl},{URLSearchParams:du}),Nl||"function"!=typeof Yl||"function"!=typeof Zl||Ie({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(m(t=arguments[1])&&"URLSearchParams"===ea(n=t.body)&&((r=t.headers?new Zl(t.headers):new Zl).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Dt(t,{body:l(0,String(n)),headers:l(0,r)})),i.push(t)),Yl.apply(this,i)}});var vu,mu={URLSearchParams:du,getState:Ql},gu=On.codeAt,yu=r.URL,bu=mu.URLSearchParams,_u=mu.getState,wu=J.set,ku=J.getterFor("URL"),Su=Math.floor,xu=Math.pow,Cu=/[A-Za-z]/,Eu=/[\d+\-.A-Za-z]/,Ru=/\d/,Au=/^(0x|0X)/,Tu=/^[0-7]+$/,Iu=/^\d+$/,Ou=/^[\dA-Fa-f]+$/,Du=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Mu=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Pu=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Lu=/[\u0009\u000A\u000D]/g,Fu=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=zu(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Gu(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(Bl,".").split(".");for(t=0;t<i.length;t++)r.push(jl.test(n=i[t])?"xn--"+Gl(n):n);return r.join(".")}(t),Du.test(t))return"Invalid host";if(null===(n=Nu(t)))return"Invalid host";e.host=n}else{if(Mu.test(t))return"Invalid host";for(n="",r=zl(t),i=0;i<r.length;i++)n+=$u(r[i],Bu);e.host=n}},Nu=function(e){var t,n,r,i,a,o,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=Au.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?Iu:8==a?Tu:Ou).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=xu(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*xu(256,3-r);return s},zu=function(e){var t,n,r,i,a,o,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,u=++l}for(;f();){if(8==l)return;if(":"!=f()){for(t=n=0;n<4&&Ou.test(f());)t=16*t+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,l>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!Ru.test(f()))return;for(;Ru.test(f());){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[l++]=t}else{if(null!==u)return;h++,u=++l}}if(null!==u)for(o=l-u,l=7;0!=l&&o>0;)s=c[l],c[l--]=c[u+o-1],c[u+--o]=s;else if(8!=l)return;return c},ju=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Su(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Bu={},Vu=Ks({},Bu,{" ":1,'"':1,"<":1,">":1,"`":1}),Uu=Ks({},Vu,{"#":1,"?":1,"{":1,"}":1}),Hu=Ks({},Uu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$u=function(e,t){var n=gu(e,0);return n>32&&n<127&&!b(t,e)?e:encodeURIComponent(e)},qu={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Gu=function(e){return b(qu,e.scheme)},Wu=function(e){return""!=e.username||""!=e.password},Yu=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Zu=function(e,t){var n;return 2==e.length&&Cu.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Xu=function(e){var t;return e.length>1&&Zu(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Ku=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Zu(t[0],!0)||t.pop()},Qu=function(e){return"."===e||"%2e"===e.toLowerCase()},Ju={},eh={},th={},nh={},rh={},ih={},ah={},oh={},sh={},ch={},lh={},uh={},hh={},fh={},dh={},ph={},vh={},mh={},gh={},yh={},bh={},_h=function(e,t,n,r){var i,a,o,s,c,l=n||Ju,u=0,h="",f=!1,d=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Pu,"")),t=t.replace(Lu,""),i=zl(t);u<=i.length;){switch(a=i[u],l){case Ju:if(!a||!Cu.test(a)){if(n)return"Invalid scheme";l=th;continue}h+=a.toLowerCase(),l=eh;break;case eh:if(a&&(Eu.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",l=th,u=0;continue}if(n&&(Gu(e)!=b(qu,h)||"file"==h&&(Wu(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Gu(e)&&qu[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=fh:Gu(e)&&r&&r.scheme==e.scheme?l=nh:Gu(e)?l=oh:"/"==i[u+1]?(l=rh,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=gh)}break;case th:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,l=bh;break}l="file"==r.scheme?fh:ih;continue;case nh:if("/"!=a||"/"!=i[u+1]){l=ih;continue}l=sh,u++;break;case rh:if("/"==a){l=ch;break}l=mh;continue;case ih:if(e.scheme=r.scheme,a==vu)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==a||"\\"==a&&Gu(e))l=ah;else if("?"==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",l=yh;else{if("#"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),l=mh;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=bh}break;case ah:if(!Gu(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,l=mh;continue}l=ch}else l=sh;break;case oh:if(l=sh,"/"!=a||"/"!=h.charAt(u+1))continue;u++;break;case sh:if("/"!=a&&"\\"!=a){l=ch;continue}break;case ch:if("@"==a){f&&(h="%40"+h),f=!0,o=zl(h);for(var v=0;v<o.length;v++){var m=o[v];if(":"!=m||p){var g=$u(m,Hu);p?e.password+=g:e.username+=g}else p=!0}h=""}else if(a==vu||"/"==a||"?"==a||"#"==a||"\\"==a&&Gu(e)){if(f&&""==h)return"Invalid authority";u-=zl(h).length+1,h="",l=lh}else h+=a;break;case lh:case uh:if(n&&"file"==e.scheme){l=ph;continue}if(":"!=a||d){if(a==vu||"/"==a||"?"==a||"#"==a||"\\"==a&&Gu(e)){if(Gu(e)&&""==h)return"Invalid host";if(n&&""==h&&(Wu(e)||null!==e.port))return;if(s=Fu(e,h))return s;if(h="",l=vh,n)return;continue}"["==a?d=!0:"]"==a&&(d=!1),h+=a}else{if(""==h)return"Invalid host";if(s=Fu(e,h))return s;if(h="",l=hh,n==uh)return}break;case hh:if(!Ru.test(a)){if(a==vu||"/"==a||"?"==a||"#"==a||"\\"==a&&Gu(e)||n){if(""!=h){var y=parseInt(h,10);if(y>65535)return"Invalid port";e.port=Gu(e)&&y===qu[e.scheme]?null:y,h=""}if(n)return;l=vh;continue}return"Invalid port"}h+=a;break;case fh:if(e.scheme="file","/"==a||"\\"==a)l=dh;else{if(!r||"file"!=r.scheme){l=mh;continue}if(a==vu)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==a)e.host=r.host,e.path=r.path.slice(),e.query="",l=yh;else{if("#"!=a){Xu(i.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),Ku(e)),l=mh;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=bh}}break;case dh:if("/"==a||"\\"==a){l=ph;break}r&&"file"==r.scheme&&!Xu(i.slice(u).join(""))&&(Zu(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),l=mh;continue;case ph:if(a==vu||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Zu(h))l=mh;else if(""==h){if(e.host="",n)return;l=vh}else{if(s=Fu(e,h))return s;if("localhost"==e.host&&(e.host=""),n)return;h="",l=vh}continue}h+=a;break;case vh:if(Gu(e)){if(l=mh,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=vu&&(l=mh,"/"!=a))continue}else e.fragment="",l=bh;else e.query="",l=yh;break;case mh:if(a==vu||"/"==a||"\\"==a&&Gu(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Ku(e),"/"==a||"\\"==a&&Gu(e)||e.path.push("")):Qu(h)?"/"==a||"\\"==a&&Gu(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Zu(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==vu||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=yh):"#"==a&&(e.fragment="",l=bh)}else h+=$u(a,Uu);break;case gh:"?"==a?(e.query="",l=yh):"#"==a?(e.fragment="",l=bh):a!=vu&&(e.path[0]+=$u(a,Bu));break;case yh:n||"#"!=a?a!=vu&&("'"==a&&Gu(e)?e.query+="%27":e.query+="#"==a?"%23":$u(a,Bu)):(e.fragment="",l=bh);break;case bh:a!=vu&&(e.fragment+=$u(a,Vu))}u++}},wh=function e(t){var n,r,i=rc(this,e,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(t),c=wu(i,{type:"URL"});if(void 0!==o)if(o instanceof e)n=ku(o);else if(r=_h(n={},String(o)))throw TypeError(r);if(r=_h(c,s,null,n))throw TypeError(r);var l=c.searchParams=new bu,u=_u(l);u.updateSearchParams(c.query),u.updateURL=function(){c.query=String(l)||null},a||(i.href=Sh.call(i),i.origin=xh.call(i),i.protocol=Ch.call(i),i.username=Eh.call(i),i.password=Rh.call(i),i.host=Ah.call(i),i.hostname=Th.call(i),i.port=Ih.call(i),i.pathname=Oh.call(i),i.search=Dh.call(i),i.searchParams=Mh.call(i),i.hash=Ph.call(i))},kh=wh.prototype,Sh=function(){var e=ku(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",Wu(e)&&(l+=n+(r?":"+r:"")+"@"),l+=ju(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},xh=function(){var e=ku(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(jk){return"null"}return"file"!=t&&Gu(e)?t+"://"+ju(e.host)+(null!==n?":"+n:""):"null"},Ch=function(){return ku(this).scheme+":"},Eh=function(){return ku(this).username},Rh=function(){return ku(this).password},Ah=function(){var e=ku(this),t=e.host,n=e.port;return null===t?"":null===n?ju(t):ju(t)+":"+n},Th=function(){var e=ku(this).host;return null===e?"":ju(e)},Ih=function(){var e=ku(this).port;return null===e?"":String(e)},Oh=function(){var e=ku(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Dh=function(){var e=ku(this).query;return e?"?"+e:""},Mh=function(){return ku(this).searchParams},Ph=function(){var e=ku(this).fragment;return e?"#"+e:""},Lh=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&Et(kh,{href:Lh(Sh,function(e){var t=ku(this),n=String(e),r=_h(t,n);if(r)throw TypeError(r);_u(t.searchParams).updateSearchParams(t.query)}),origin:Lh(xh),protocol:Lh(Ch,function(e){var t=ku(this);_h(t,String(e)+":",Ju)}),username:Lh(Eh,function(e){var t=ku(this),n=zl(String(e));if(!Yu(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=$u(n[r],Hu)}}),password:Lh(Rh,function(e){var t=ku(this),n=zl(String(e));if(!Yu(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=$u(n[r],Hu)}}),host:Lh(Ah,function(e){var t=ku(this);t.cannotBeABaseURL||_h(t,String(e),lh)}),hostname:Lh(Th,function(e){var t=ku(this);t.cannotBeABaseURL||_h(t,String(e),uh)}),port:Lh(Ih,function(e){var t=ku(this);Yu(t)||(""==(e=String(e))?t.port=null:_h(t,e,hh))}),pathname:Lh(Oh,function(e){var t=ku(this);t.cannotBeABaseURL||(t.path=[],_h(t,e+"",vh))}),search:Lh(Dh,function(e){var t=ku(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_h(t,e,yh)),_u(t.searchParams).updateSearchParams(t.query)}),searchParams:Lh(Mh),hash:Lh(Ph,function(e){var t=ku(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_h(t,e,bh)):t.fragment=null})}),ee(kh,"toJSON",function(){return Sh.call(this)},{enumerable:!0}),ee(kh,"toString",function(){return Sh.call(this)},{enumerable:!0}),yu){var Fh=yu.createObjectURL,Nh=yu.revokeObjectURL;Fh&&ee(wh,"createObjectURL",function(e){return Fh.apply(yu,arguments)}),Nh&&ee(wh,"revokeObjectURL",function(e){return Nh.apply(yu,arguments)})}pr(wh,"URL"),Ie({global:!0,forced:!Nl,sham:!a},{URL:wh}),Ie({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var zh=function(e){return function(t,n,r,i){Oe(n);var a=Me(t),o=d(a),s=ce(a.length),c=e?s-1:0,l=e?-1:1;if(r<2)for(;;){if(c in o){i=o[c],c+=l;break}if(c+=l,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=l)c in o&&(i=n(i,o[c],c,a));return i}},jh={left:zh(!1),right:zh(!0)},Bh=jh.left,Vh=ot("reduce"),Uh=nt("reduce",{1:0});Ie({target:"Array",proto:!0,forced:!Vh||!Uh},{reduce:function(e){return Bh(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Hh,$h,qh,Gh,Wh,Yh=function(e){for(var t=Me(this),n=ce(t.length),r=arguments.length,i=he(r>1?arguments[1]:void 0,n),a=r>2?arguments[2]:void 0,o=void 0===a?n:he(a,n);o>i;)t[i++]=e;return t};function Zh(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function Xh(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function Kh(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}Ie({target:"Array",proto:!0},{fill:Yh}),ai("fill"),Wh=function(e,t){var n,r,i,a={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),a[r]="&#"+i+";";return a["\\xa0"]="&#160;",a}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Hh={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(qh=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",Zh("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},Gh=function(e,t){this.__root=e,this.__ctx=t},($h=function(e){if(!(this instanceof $h))return new $h(e);this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox&&(this.__root.setAttribute("viewBox",e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height),this.viewbox=e.viewbox),this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;var t=this.__createElement("rect",{id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"});this.__root.appendChild(t),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}).prototype.setWidth=function(e){this.width=e,this.__root.setAttribute("width",this.width),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height)},$h.prototype.setHeight=function(e){this.height=e,this.__root.setAttribute("height",this.height),this.__root.setAttribute("viewBox",this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e)},$h.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];r.setAttribute(o,t[o])}return r},$h.prototype.__setDefaultStyles=function(){var e,t,n=Object.keys(Hh);for(e=0;e<n.length;e++)this[t=n[e]]=Hh[t].canvas},$h.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},$h.prototype.__getStyleState=function(){var e,t,n={},r=Object.keys(Hh);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n},$h.prototype.__applyStyleToCurrentElement=function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach(function(t){t.setAttribute(e,"")}));var r,i,a,o,s,c=Object.keys(Hh);for(r=0;r<c.length;r++)if(a=this[c[r]],(i=Hh[c[r]]).apply)if(a instanceof Gh){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)o=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[o]=o,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,Zh("url(#{id})",{id:a.__root.getAttribute("id")}))}else if(a instanceof qh)t.setAttribute(i.apply,Zh("url(#{id})",{id:a.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(e)&&i.svg!==a)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!a||-1===a.indexOf("rgba")){var l=i.svgAttr;if("globalAlpha"===c[r]&&t.getAttribute(l=e+"-"+i.svgAttr))continue;t.setAttribute(l,a)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(a),t.setAttribute(i.svgAttr,Zh("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var u=s[4],h=this.globalAlpha;null!=h&&(u*=h),t.setAttribute(i.svgAttr+"-opacity",u)}},$h.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},$h.prototype.getSerializedSvg=function(e){var t,n,r,i,a,o=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Wh),n=0;n<t.length;n++)i=Wh[r=t[n]],(a=new RegExp(r,"gi")).test(o)&&(o=o.replace(a,i));return o},$h.prototype.getSvg=function(){return this.__root},$h.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},$h.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},$h.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",this.__currentElement.setAttribute("transform",r+=e)},$h.prototype.addTrackGroupWithTranslationAndClipRect=function(e,t,n,r,i,a){var o=e+"_clip_rect",s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:a.toString(),width:r.toString(),height:i.toString()}));var c=this.__createElement("g");this.__rootGroup.appendChild(c),c.setAttribute("transform",Zh("translate({x},{y})",{x:t,y:n})),c.setAttribute("id",e+"_group"),c.setAttribute("clip-path",Zh("url(#{id})",{id:o})),this.__currentElement=c},$h.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(Zh("scale({x},{y})",{x:e,y:t}))},$h.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(Zh("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},$h.prototype.translate=function(e,t){this.__addTransform(Zh("translate({x},{y})",{x:e,y:t}))},$h.prototype.transform=function(e,t,n,r,i,a){this.__addTransform(Zh("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:a}))},$h.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},$h.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},$h.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},$h.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Zh("M {x} {y}",{x:e,y:t}))},$h.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},$h.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Zh("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Zh("M {x} {y}",{x:e,y:t}))},$h.prototype.bezierCurveTo=function(e,t,n,r,i,a){this.__currentPosition={x:i,y:a},this.__addPathCommand(Zh("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:a}))},$h.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(Zh("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var Qh=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};$h.prototype.arcTo=function(e,t,n,r,i){var a=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==a&&void 0!==o){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(a===e&&o===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var s=Qh([a-e,o-t]),c=Qh([n-e,r-t]);if(s[0]*c[1]!=s[1]*c[0]){var l=Math.acos(Math.abs(s[0]*c[0]+s[1]*c[1])),u=Qh([s[0]+c[0],s[1]+c[1]]),h=i/Math.sin(l/2),f=e+h*u[0],d=t+h*u[1],p=[-s[1],s[0]],v=[c[1],-c[0]],m=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},g=m(p),y=m(v);this.lineTo(f+p[0]*i,d+p[1]*i),this.arc(f,d,i,g,y)}else this.lineTo(e,t)}}},$h.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},$h.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},$h.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},$h.prototype.fillRect=function(e,t,n,r){var i,a,o,s={x:e,y:t,width:n,height:r};(!this.viewbox||(i=this.viewbox).x<(a=s).x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y)&&(o=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill"))},$h.prototype.strokeRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},$h.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},$h.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,a=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),a.appendChild(i)}else this.__clearCanvas()},$h.prototype.createLinearGradient=function(e,t,n,r){var i=this.__createElement("linearGradient",{id:Xh(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new qh(i,this)},$h.prototype.createRadialGradient=function(e,t,n,r,i,a){var o=this.__createElement("radialGradient",{id:Xh(this.__ids),cx:r+"px",cy:i+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new qh(o,this)},$h.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},$h.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},$h.prototype.__applyText=function(e,t,n,r){var i,a,o=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,a={left:"start",right:"end",center:"middle",start:"start",end:"end"},a[i]||a.start),"dominant-baseline":Kh(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(o,c))},$h.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},$h.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},$h.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},$h.prototype.arc=function(e,t,n,r,i,a){if(r!==i){(r%=2*Math.PI)==(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(a?-1:1))%(2*Math.PI));var o,s=e+n*Math.cos(i),c=t+n*Math.sin(i),l=e+n*Math.cos(r),u=t+n*Math.sin(r),h=a?0:1,f=i-r;f<0&&(f+=2*Math.PI),o=a?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(l,u),this.__addPathCommand(Zh("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:o,sweepFlag:h,endX:s,endY:c})),this.__currentPosition={x:s,y:c}}},$h.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=Xh(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Zh("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},$h.prototype.drawImage=function(){var e,t,n,r,i,a,o,s,c,l,u,h,f,d=Array.prototype.slice.call(arguments),p=d[0],v=0,m=0;if(3===d.length)e=d[1],t=d[2],n=i=p.width,r=a=p.height;else if(5===d.length)e=d[1],t=d[2],n=d[3],r=d[4],i=p.width,a=p.height;else{if(9!==d.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);v=d[1],m=d[2],i=d[3],a=d[4],e=d[5],t=d[6],n=d[7],r=d[8]}o=this.__closestGroupOrSvg();var g="translate("+e+", "+t+")";if(p instanceof $h){if((s=p.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(c=s.childNodes[0];c.childNodes.length;)f=c.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(c.childNodes[0]);if(l=s.childNodes[1]){var y=l.getAttribute("transform");l.setAttribute("transform",y?y+" "+g:g),o.appendChild(l)}}}else"CANVAS"!==p.nodeName&&"IMG"!==p.nodeName||((u=this.__createElement("image")).setAttribute("width",n),u.setAttribute("height",r),u.setAttribute("preserveAspectRatio","none"),(v||m||i!==p.width||a!==p.height)&&((h=this.__document.createElement("canvas")).width=n,h.height=r,h.getContext("2d").drawImage(p,v,m,i,a,0,0,n,r),p=h),u.setAttribute("transform",g),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===p.nodeName?p.toDataURL():p.getAttribute("src")),o.appendChild(u))},$h.prototype.createPattern=function(e,t){var n,r=this.__document.__createElement("pattern"),i=Xh(this.__ids);return r.setAttribute("id",i),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__createElement("image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof $h&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new Gh(r,this)},$h.prototype.setLineDash=function(e){this.lineDash=e&&e.length>0?e.join(","):null},$h.prototype.drawFocusRing=function(){},$h.prototype.createImageData=function(){},$h.prototype.getImageData=function(){},$h.prototype.putImageData=function(){},$h.prototype.globalCompositeOperation=function(){},$h.prototype.setTransform=function(){};var Jh,ef=$h;function tf(e,t){Ys(t).on("mousedown.igv_drag",nf.bind(e))}function nf(e){e.stopPropagation(),e.preventDefault();var t=Math.round(parseFloat(this.style.left.replace("px",""))),n=Math.round(parseFloat(this.style.top.replace("px",""))),r=rf.bind(this),i=af.bind(this);Jh={dragFunction:r,dragEndFunction:i,dx:t-e.screenX,dy:n-e.screenY},Ys(document).on("mousemove.igv_drag",r),Ys(document).on("mouseup.igv_drag",i),Ys(document).on("mouseleave.igv_drag",i),Ys(document).on("mouseexit.igv_drag",i)}function rf(e){if(Jh){e.stopPropagation(),e.preventDefault();var t=Jh.dy+e.screenY;this.style.left=Jh.dx+e.screenX+"px",this.style.top=t+"px"}}function af(e){if(Jh){e.stopPropagation(),e.preventDefault();var t=Jh.dy+e.screenY;this.style.left=Jh.dx+e.screenX+"px",this.style.top=t+"px",Ys(document).off(".igv_drag"),Jh=void 0}}var of=zt.trim,sf=r.parseInt,cf=/^[+-]?0[Xx]/,lf=8!==sf(Mt+"08")||22!==sf(Mt+"0x16")?function(e,t){var n=of(String(e));return sf(n,t>>>0||(cf.test(n)?16:10))}:sf;Ie({target:"Number",stat:!0,forced:Number.parseInt!=lf},{parseInt:lf});var uf=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),hf=t(function(e){var t=A.f,n=U("meta"),r=0,i=Object.isExtensible||function(){return!0},a=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},o=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!b(e,n)){if(!i(e))return"F";if(!t)return"E";a(e)}return e[n].objectID},getWeakData:function(e,t){if(!b(e,n)){if(!i(e))return!0;if(!t)return!1;a(e)}return e[n].weakData},onFreeze:function(e){return uf&&o.REQUIRED&&i(e)&&!b(e,n)&&a(e),e}};q[n]=!0}),ff=function(e,t,n){var a=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=a?"set":"add",c=r[e],l=c&&c.prototype,u=c,h={},f=function(e){var t=l[e];ee(l,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!m(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!m(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!m(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ae(e,"function"!=typeof c||!(o||l.forEach&&!i(function(){(new c).entries().next()}))))u=n.getConstructor(t,e,a,s),hf.REQUIRED=!0;else if(Ae(e,!0)){var d=new u,p=d[s](o?{}:-0,1)!=d,v=i(function(){d.has(1)}),g=yc(function(e){new c(e)}),y=!o&&i(function(){for(var e=new c,t=5;t--;)e[s](t,t);return!e.has(-0)});g||((u=t(function(t,n){rc(t,u,e);var r=xt(new c,t,u);return null!=n&&uc(n,r[s],r,a),r})).prototype=l,l.constructor=u),(v||y)&&(f("delete"),f("has"),a&&f("get")),(y||p)&&f(s),o&&l.clear&&delete l.clear}return h[e]=u,Ie({global:!0,forced:u!=c},h),pr(u,e),o||n.setStrong(u,e,a),u},df=A.f,pf=hf.fastKey,vf=J.set,mf=J.getterFor,gf={getConstructor:function(e,t,n,r){var i=e(function(e,o){rc(e,i,t),vf(e,{type:t,index:Dt(null),first:void 0,last:void 0,size:0}),a||(e.size=0),null!=o&&uc(o,e[r],e,n)}),o=mf(t),s=function(e,t,n){var r,i,s=o(e),l=c(e,t);return l?l.value=n:(s.last=l={index:i=pf(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=l),r&&(r.next=l),a?s.size++:e.size++,"F"!==i&&(s.index[i]=l)),e},c=function(e,t){var n,r=o(e),i=pf(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return nc(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,a?e.size=0:this.size=0},delete:function(e){var t=o(this),n=c(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),a?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),r=De(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),nc(i.prototype,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),a&&df(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=mf(t),a=mf(r);Ri(e,t,function(e,t){vf(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),na(t)}},yf=(ff("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},gf),{trackMenuItemList:function(e){var t,n=new Set(["alignment","annotation","variant","eqtl","snp"]),r=e.track.config&&void 0!==e.track.config.visibilityWindow,i=[];return"sequence"!==e.track.config.type&&(i.push(function(e){var t;return(t=Ys("<div>")).text("Set track name"),{object:t,click:function(){var t;t=function(){var t;t=e.browser.inputDialog.$input.val().trim(),e.browser.setTrackLabelName(e,t=""===t||void 0===t?"untitled":t)},e.browser.inputDialog.configure({label:"Track Name",input:bf(e.track)||"unnamed",click:t}),e.browser.inputDialog.present(Ys(e.trackDiv))}}}(e)),i.push(function(e){var t;return(t=Ys("<div>")).text("Set track height"),{object:t,click:function(){var t;t=function(){var t;void 0!==(t=parseFloat(e.browser.inputDialog.$input.val(),10))&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0,!0),e.track.autoHeight=!1)},e.browser.inputDialog.configure({label:"Track Height",input:e.trackDiv.clientHeight,click:t}),e.browser.inputDialog.present(Ys(e.trackDiv))}}}(e))),("alignment"===(t=e.track).type||"annotation"===t.type||"variant"===t.type||"wig"===t.type)&&i.push(function(e){var t;return(t=Ys("<div>")).text("Set track color"),{object:t,click:function(){e.presentColorPicker()}}}(e)),e.track.menuItemList&&(i=i.concat(e.track.menuItemList())),(r||n.has(e.track.config.type))&&(i.push("<hr/>"),i.push(function(e){var t=Ys("<div>");return t.text("Set visibility window"),{object:t,click:function(){e.browser.inputDialog.configure({label:"Visibility Window",input:e.track.visibilityWindow,click:function(){var t=e.browser.inputDialog.$input.val().trim();""!==t&&void 0!==t||(t=-1),t=Number.parseInt(t),e.track.visibilityWindow=t,e.track.config.visibilityWindow=t,e.updateViews()}}),e.browser.inputDialog.present(Ys(e.trackDiv))}}}(e))),!1!==e.track.removable&&(i.push("<hr/>"),i.push(function(e){var t;return(t=Ys("<div>")).text("Remove track"),{object:t,click:function(){e.browser.removeTrack(e.track)}}}(e))),i},dataRangeMenuItem:function(e){var t;return(t=Ys("<div>")).text("Set data range"),{object:t,click:function(){e.browser.dataRangeDialog.configure({trackView:e}),e.browser.dataRangeDialog.present(Ys(e.trackDiv))}}},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map(function(e,n){var r;if(e.name?(r=Ys("<div>")).text(e.name):e.object?r=e.object:"string"==typeof e.label?(r=Ys("<div>")).html(e.label):"string"==typeof e&&(r=e.startsWith("<")?Ys(e):Ys("<div>"+e+"</div>")),0===n&&r.addClass("igv-track-menu-border-top"),e.click){var i=function(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()};r.on("click",i),r.on("touchend",function(e){i(e)}),r.on("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}return{object:r,init:e.init||void 0}})),n}});function bf(e){return e.trackView.viewports[0].$trackLabel.text()}var _f=c.f,wf=function(e){return function(t){for(var n,r=v(t),i=Ct(r),o=i.length,s=0,c=[];o>s;)n=i[s++],a&&!_f.call(r,n)||c.push(e?[n,r[n]]:r[n]);return c}},kf={entries:wf(!0),values:wf(!1)},Sf=kf.values;function xf(e,t){var n=Ys("<div>",{class:"igv-trackgear-popover-check-container"}),r=Ys("<div>");n.append(r);var i=Ef("check",!0===t?"#444":"transparent");r.append(i);var a=Ys("<div>");return a.text(e),n.append(a),n}function Cf(e,t){return Ys(Ef(e,t))}function Ef(e,t){t=t||"currentColor";var n=Rf[e];n||(console.error("No icon named: ".concat(e)),n=Rf.question);var r='<svg viewBox="0 0 '+n[0]+" "+n[1]+'">';return(r+='<path fill="'+t+'" d="'+n[4]+'"></path>')+"</svg>"}Ie({target:"Object",stat:!0},{values:function(e){return Sf(e)}});var Rf={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]},Af={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"white",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},Tf={A:[0,200,0],C:[0,0,200],T:[255,0,0],G:[209,113,5],a:[0,200,0],c:[0,0,200],t:[255,0,0],g:[209,113,5],N:[80,80,80]},If={A:"rgb(  0, 200,   0)",C:"rgb(  0,   0, 200)",T:"rgb(255,   0,   0)",G:"rgb(209, 113,   5)",a:"rgb(  0, 200,   0)",c:"rgb(  0,   0, 200)",t:"rgb(255,   0,   0)",g:"rgb(209, 113,   5)",N:"rgb(80, 80, 80)"},Of={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};function Df(e){this.colors=Of[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Mf}function Mf(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}Df.prototype.getColor=function(e){return this.colorTable.hasOwnProperty(e)||(this.colorTable[e]=this.nextIdx<this.colors.length?this.colors[this.nextIdx]:this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]},Mf.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),i=6*e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),c=255,l=255,u=255;switch(r){case 0:c=n,l=s,u=a;break;case 1:c=o,l=n,u=a;break;case 2:c=a,l=n,u=s;break;case 3:c=a,l=o,u=n;break;case 4:c=s,l=a,u=n;break;case 5:c=n,l=a,u=o}return[Math.floor(256*c),Math.floor(256*l),Math.floor(256*u)]},Mf.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},Mf.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};var Pf=new Mf,Lf=de.includes,Ff=nt("indexOf",{ACCESSORS:!0,1:0});Ie({target:"Array",proto:!0,forced:!Ff},{includes:function(e){return Lf(this,e,arguments.length>1?arguments[1]:void 0)}}),ai("includes"),Ie({target:"String",proto:!0,forced:!dn("includes")},{includes:function(e){return!!~String(p(this)).indexOf(hn(e),arguments.length>1?arguments[1]:void 0)}});var Nf=function(e,t,n){return Math.min(Math.max(e,t),n)},zf=function(e){return Math.log(e)/Math.LN2};function jf(){this.content=[]}jf.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var i=2*(e+1),a=i-1,o=null;if(a<t){var s=this.content[a],c=s;s<r&&(o=a)}if(i<t&&this.content[i]<(null==o?r:c)&&(o=i),null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},a&&("g"!=/./g.flags||Jt.UNSUPPORTED_Y)&&A.f(RegExp.prototype,"flags",{configurable:!0,get:Kt});var Bf,Vf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Uf=A.f,Hf=r.Int8Array,$f=Hf&&Hf.prototype,qf=r.Uint8ClampedArray,Gf=qf&&qf.prototype,Wf=Hf&&mi(Hf),Yf=$f&&mi($f),Zf=Object.prototype,Xf=Zf.isPrototypeOf,Kf=Be("toStringTag"),Qf=U("TYPED_ARRAY_TAG"),Jf=Vf&&!!St&&"Opera"!==ea(r.opera),ed=!1,td={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},nd=function(e){return m(e)&&b(td,ea(e))};for(Bf in td)r[Bf]||(Jf=!1);if((!Jf||"function"!=typeof Wf||Wf===Function.prototype)&&(Wf=function(){throw TypeError("Incorrect invocation")},Jf))for(Bf in td)r[Bf]&&St(r[Bf],Wf);if((!Jf||!Yf||Yf===Zf)&&(Yf=Wf.prototype,Jf))for(Bf in td)r[Bf]&&St(r[Bf].prototype,Yf);if(Jf&&mi(Gf)!==Yf&&St(Gf,Yf),a&&!b(Yf,Kf))for(Bf in ed=!0,Uf(Yf,Kf,{get:function(){return m(this)?this[Qf]:void 0}}),td)r[Bf]&&T(r[Bf],Qf,Bf);var rd={NATIVE_ARRAY_BUFFER_VIEWS:Jf,TYPED_ARRAY_TAG:ed&&Qf,aTypedArray:function(e){if(nd(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(St){if(Xf.call(Wf,e))return e}else for(var t in td)if(b(td,Bf)){var n=r[t];if(n&&(e===n||Xf.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var i in td){var o=r[i];o&&b(o.prototype,e)&&delete o.prototype[e]}Yf[e]&&!n||ee(Yf,e,n?t:Jf&&$f[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,o;if(a){if(St){if(n)for(i in td)(o=r[i])&&b(o,e)&&delete o[e];if(Wf[e]&&!n)return;try{return ee(Wf,e,n?t:Jf&&Hf[e]||t)}catch(jk){}}for(i in td)!(o=r[i])||o[e]&&!n||ee(o,e,t)}},isView:function(e){var t=ea(e);return"DataView"===t||b(td,t)},isTypedArray:nd,TypedArray:Wf,TypedArrayPrototype:Yf},id=r.ArrayBuffer,ad=r.Int8Array,od=!rd.NATIVE_ARRAY_BUFFER_VIEWS||!i(function(){ad(1)})||!i(function(){new ad(-1)})||!yc(function(e){new ad,new ad(null),new ad(1.5),new ad(e)},!0)||i(function(){return 1!==new ad(new id(2),1,void 0).length}),sd=function(e){if(void 0===e)return 0;var t=oe(e),n=ce(t);if(t!==n)throw RangeError("Wrong length or index");return n},cd=Math.abs,ld=Math.pow,ud=Math.floor,hd=Math.log,fd=Math.LN2,dd=ye.f,pd=A.f,vd=J.get,md=J.set,gd=r.ArrayBuffer,yd=gd,bd=r.DataView,_d=bd&&bd.prototype,wd=Object.prototype,kd=r.RangeError,Sd=function(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?ld(2,-24)-ld(2,-77):0,h=e<0||0===e&&1/e<0?1:0,f=0;for((e=cd(e))!=e||1/0===e?(i=e!=e?1:0,r=c):(r=ud(hd(e)/fd),e*(a=ld(2,-r))<1&&(r--,a*=2),(e+=r+l>=1?u/a:u*ld(2,1-l))*a>=2&&(r++,a/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(e*a-1)*ld(2,t),r+=l):(i=e*ld(2,l-1)*ld(2,t),r=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[f++]=255&r,r/=256,s-=8);return o[--f]|=128*h,o},xd=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,c=r-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===u)u=1-o;else{if(u===a)return n?NaN:l?-1/0:1/0;n+=ld(2,t),u-=o}return(l?-1:1)*n*ld(2,u-t)},Cd=function(e){return[255&e]},Ed=function(e){return[255&e,e>>8&255]},Rd=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Ad=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Td=function(e){return Sd(e,23,4)},Id=function(e){return Sd(e,52,8)},Od=function(e,t){pd(e.prototype,t,{get:function(){return vd(this)[t]}})},Dd=function(e,t,n,r){var i=sd(n),a=vd(e);if(i+t>a.byteLength)throw kd("Wrong index");var o=vd(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+t);return r?c:c.reverse()},Md=function(e,t,n,r,i,a){var o=sd(n),s=vd(e);if(o+t>s.byteLength)throw kd("Wrong index");for(var c=vd(s.buffer).bytes,l=o+s.byteOffset,u=r(+i),h=0;h<t;h++)c[l+h]=u[a?h:t-h-1]};if(Vf){if(!i(function(){gd(1)})||!i(function(){new gd(-1)})||i(function(){return new gd,new gd(1.5),new gd(NaN),"ArrayBuffer"!=gd.name})){for(var Pd,Ld=(yd=function(e){return rc(this,yd),new gd(sd(e))}).prototype=gd.prototype,Fd=dd(gd),Nd=0;Fd.length>Nd;)(Pd=Fd[Nd++])in yd||T(yd,Pd,gd[Pd]);Ld.constructor=yd}St&&mi(_d)!==wd&&St(_d,wd);var zd=new bd(new yd(2)),jd=_d.setInt8;zd.setInt8(0,2147483648),zd.setInt8(1,2147483649),!zd.getInt8(0)&&zd.getInt8(1)||nc(_d,{setInt8:function(e,t){jd.call(this,e,t<<24>>24)},setUint8:function(e,t){jd.call(this,e,t<<24>>24)}},{unsafe:!0})}else yd=function(e){rc(this,yd,"ArrayBuffer");var t=sd(e);md(this,{bytes:Yh.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},bd=function(e,t,n){rc(this,bd,"DataView"),rc(e,yd,"DataView");var r=vd(e).byteLength,i=oe(t);if(i<0||i>r)throw kd("Wrong offset");if(i+(n=void 0===n?r-i:ce(n))>r)throw kd("Wrong length");md(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},a&&(Od(yd,"byteLength"),Od(bd,"buffer"),Od(bd,"byteLength"),Od(bd,"byteOffset")),nc(bd.prototype,{getInt8:function(e){return Dd(this,1,e)[0]<<24>>24},getUint8:function(e){return Dd(this,1,e)[0]},getInt16:function(e){var t=Dd(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Dd(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Ad(Dd(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Ad(Dd(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return xd(Dd(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return xd(Dd(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Md(this,1,e,Cd,t)},setUint8:function(e,t){Md(this,1,e,Cd,t)},setInt16:function(e,t){Md(this,2,e,Ed,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Md(this,2,e,Ed,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Md(this,4,e,Rd,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Md(this,4,e,Rd,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Md(this,4,e,Td,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Md(this,8,e,Id,t,arguments.length>2?arguments[2]:void 0)}});pr(yd,"ArrayBuffer"),pr(bd,"DataView");var Bd={ArrayBuffer:yd,DataView:bd},Vd=function(e,t){var n=function(e){var t=oe(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},Ud=rd.aTypedArrayConstructor,Hd=function(e){var t,n,r,i,a,o,s=Me(e),c=arguments.length,l=c>1?arguments[1]:void 0,u=void 0!==l,h=cc(s);if(null!=h&&!oc(h))for(o=(a=h.call(s)).next,s=[];!(i=o.call(a)).done;)s.push(i.value);for(u&&c>2&&(l=De(l,arguments[2],2)),n=ce(s.length),r=new(Ud(this))(n),t=0;n>t;t++)r[t]=u?l(s[t],t):s[t];return r},$d=t(function(e){var t=ye.f,n=qe.forEach,i=J.get,o=J.set,s=A.f,c=C.f,u=Math.round,h=r.RangeError,f=Bd.ArrayBuffer,d=Bd.DataView,p=rd.NATIVE_ARRAY_BUFFER_VIEWS,v=rd.TYPED_ARRAY_TAG,y=rd.TypedArray,_=rd.TypedArrayPrototype,w=rd.aTypedArrayConstructor,k=rd.isTypedArray,S=function(e,t){for(var n=0,r=t.length,i=new(w(e))(r);r>n;)i[n]=t[n++];return i},x=function(e,t){s(e,t,{get:function(){return i(this)[t]}})},E=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=ea(e))||"SharedArrayBuffer"==t},R=function(e,t){return k(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},I=function(e,t){return R(e,t=g(t,!0))?l(2,e[t]):c(e,t)},O=function(e,t,n){return!(R(e,t=g(t,!0))&&m(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?s(e,t,n):(e[t]=n.value,e)};a?(p||(C.f=I,A.f=O,x(_,"buffer"),x(_,"byteOffset"),x(_,"byteLength"),x(_,"length")),Ie({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:I,defineProperty:O}),e.exports=function(e,a,c){var l=e.match(/\d+$/)[0]/8,g=e+(c?"Clamped":"")+"Array",b="get"+e,w="set"+e,x=r[g],C=x,R=C&&C.prototype,A={},I=function(e,t){s(e,t,{get:function(){return function(e,t){var n=i(e);return n.view[b](t*l+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var r=i(e);c&&(n=(n=u(n))<0?0:n>255?255:255&n),r.view[w](t*l+r.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};p?od&&(C=a(function(e,t,n,r){return rc(e,C,g),xt(m(t)?E(t)?void 0!==r?new x(t,Vd(n,l),r):void 0!==n?new x(t,Vd(n,l)):new x(t):k(t)?S(C,t):Hd.call(C,t):new x(sd(t)),e,C)}),St&&St(C,y),n(t(x),function(e){e in C||T(C,e,x[e])}),C.prototype=R):(C=a(function(e,t,n,r){rc(e,C,g);var i,a,s,c=0,u=0;if(m(t)){if(!E(t))return k(t)?S(C,t):Hd.call(C,t);i=t,u=Vd(n,l);var p=t.byteLength;if(void 0===r){if(p%l)throw h("Wrong length");if((a=p-u)<0)throw h("Wrong length")}else if((a=ce(r)*l)+u>p)throw h("Wrong length");s=a/l}else s=sd(t),i=new f(a=s*l);for(o(e,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new d(i)});c<s;)I(e,c++)}),St&&St(C,y),R=C.prototype=Dt(_)),R.constructor!==C&&T(R,"constructor",C),v&&T(R,v,g),A[g]=C,Ie({global:!0,forced:C!=x,sham:!p},A),"BYTES_PER_ELEMENT"in C||T(C,"BYTES_PER_ELEMENT",l),"BYTES_PER_ELEMENT"in R||T(R,"BYTES_PER_ELEMENT",l),na(g)}):e.exports=function(){}});$d("Uint8",function(e){return function(t,n,r){return e(this,t,n,r)}}),$d("Uint16",function(e){return function(t,n,r){return e(this,t,n,r)}}),$d("Uint32",function(e){return function(t,n,r){return e(this,t,n,r)}});var qd=Math.min,Gd=[].copyWithin||function(e,t){var n=Me(this),r=ce(n.length),i=he(e,r),a=he(t,r),o=arguments.length>2?arguments[2]:void 0,s=qd((void 0===o?r:he(o,r))-a,r-i),c=1;for(a<i&&i<a+s&&(c=-1,a+=s-1,i+=s-1);s-- >0;)a in n?n[i]=n[a]:delete n[i],i+=c,a+=c;return n},Wd=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("copyWithin",function(e,t){return Gd.call(Wd(this),e,t,arguments.length>2?arguments[2]:void 0)});var Yd=qe.every,Zd=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("every",function(e){return Yd(Zd(this),e,arguments.length>1?arguments[1]:void 0)});var Xd=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("fill",function(e){return Yh.apply(Xd(this),arguments)});var Kd=qe.filter,Qd=rd.aTypedArray,Jd=rd.aTypedArrayConstructor;(0,rd.exportTypedArrayMethod)("filter",function(e){for(var t=Kd(Qd(this),e,arguments.length>1?arguments[1]:void 0),n=Tn(this,this.constructor),r=0,i=t.length,a=new(Jd(n))(i);i>r;)a[r]=t[r++];return a});var ep=qe.find,tp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("find",function(e){return ep(tp(this),e,arguments.length>1?arguments[1]:void 0)});var np=qe.findIndex,rp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("findIndex",function(e){return np(rp(this),e,arguments.length>1?arguments[1]:void 0)});var ip=qe.forEach,ap=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("forEach",function(e){ip(ap(this),e,arguments.length>1?arguments[1]:void 0)});var op=de.includes,sp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("includes",function(e){return op(sp(this),e,arguments.length>1?arguments[1]:void 0)});var cp=de.indexOf,lp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("indexOf",function(e){return cp(lp(this),e,arguments.length>1?arguments[1]:void 0)});var up=Be("iterator"),hp=r.Uint8Array,fp=Ii.values,dp=Ii.keys,pp=Ii.entries,vp=rd.aTypedArray,mp=rd.exportTypedArrayMethod,gp=hp&&hp.prototype[up],yp=!!gp&&("values"==gp.name||null==gp.name),bp=function(){return fp.call(vp(this))};mp("entries",function(){return pp.call(vp(this))}),mp("keys",function(){return dp.call(vp(this))}),mp("values",bp,!yp),mp(up,bp,!yp);var _p=rd.aTypedArray,wp=[].join;(0,rd.exportTypedArrayMethod)("join",function(e){return wp.apply(_p(this),arguments)});var kp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("lastIndexOf",function(e){return wt.apply(kp(this),arguments)});var Sp=qe.map,xp=rd.aTypedArray,Cp=rd.aTypedArrayConstructor;(0,rd.exportTypedArrayMethod)("map",function(e){return Sp(xp(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(Cp(Tn(e,e.constructor)))(t)})});var Ep=jh.left,Rp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("reduce",function(e){return Ep(Rp(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)});var Ap=jh.right,Tp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("reduceRight",function(e){return Ap(Tp(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)});var Ip=rd.aTypedArray,Op=Math.floor;(0,rd.exportTypedArrayMethod)("reverse",function(){for(var e,t=Ip(this).length,n=Op(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this});var Dp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("set",function(e){Dp(this);var t=Vd(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Me(e),i=ce(r.length),a=0;if(i+t>n)throw RangeError("Wrong length");for(;a<i;)this[t+a]=r[a++]},i(function(){new Int8Array(1).set({})}));var Mp=rd.aTypedArray,Pp=rd.aTypedArrayConstructor,Lp=[].slice;(0,rd.exportTypedArrayMethod)("slice",function(e,t){for(var n=Lp.call(Mp(this),e,t),r=Tn(this,this.constructor),i=0,a=n.length,o=new(Pp(r))(a);a>i;)o[i]=n[i++];return o},i(function(){new Int8Array(1).slice()}));var Fp=qe.some,Np=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("some",function(e){return Fp(Np(this),e,arguments.length>1?arguments[1]:void 0)});var zp=rd.aTypedArray,jp=[].sort;(0,rd.exportTypedArrayMethod)("sort",function(e){return jp.call(zp(this),e)});var Bp=rd.aTypedArray;(0,rd.exportTypedArrayMethod)("subarray",function(e,t){var n=Bp(this),r=n.length,i=he(e,r);return new(Tn(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ce((void 0===t?r:he(t,r))-i))});var Vp=r.Int8Array,Up=rd.aTypedArray,Hp=rd.exportTypedArrayMethod,$p=[].toLocaleString,qp=[].slice,Gp=!!Vp&&i(function(){$p.call(new Vp(1))});Hp("toLocaleString",function(){return $p.apply(Gp?qp.call(Up(this)):Up(this),arguments)},i(function(){return[1,2].toLocaleString()!=new Vp([1,2]).toLocaleString()})||!i(function(){Vp.prototype.toLocaleString.call([1,2])}));var Wp=rd.exportTypedArrayMethod,Yp=r.Uint8Array,Zp=Yp&&Yp.prototype||{},Xp=[].toString,Kp=[].join;i(function(){Xp.call({})})&&(Xp=function(){return Kp.call(this)}),Wp("toString",Xp,Zp.toString!=Xp);var Qp={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment}};Qp.Zip.CompressionMethod={STORE:0,DEFLATE:8},Qp.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},Qp.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},Qp.Zip.FileHeaderSignature=[80,75,1,2],Qp.Zip.LocalFileHeaderSignature=[80,75,3,4],Qp.Zip.CentralDirectorySignature=[80,75,5,6],Qp.Zip.prototype.addFile=function(e,t){t=t||{};var n,r=e.length,i=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=Qp.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case Qp.Zip.CompressionMethod.STORE:break;case Qp.Zip.CompressionMethod.DEFLATE:i=Qp.CRC32.calc(e),e=this.deflateWithOption(e,t),n=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:n,encrypted:!1,size:r,crc32:i})},Qp.Zip.prototype.setPassword=function(e){this.password=e},Qp.Zip.prototype.compress=function(){var e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C=this.files,E=0,R=0;for(w=0,k=C.length;w<k;++w){if(f=(e=C[w]).option.filename?e.option.filename.length:0,d=e.option.extraField?e.option.extraField.length:0,p=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=Qp.CRC32.calc(e.buffer),e.option.compressionMethod){case Qp.Zip.CompressionMethod.STORE:break;case Qp.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(_=this.createEncryptionKey(e.option.password||this.password),y=e.buffer,(b=new Uint8Array(y.length+12)).set(y,12),y=b,S=0;S<12;++S)y[S]=this.encode(_,11===w?255&e.crc32:256*Math.random()|0);for(x=y.length;S<x;++S)y[S]=this.encode(_,y[S]);e.buffer=y}E+=30+f+e.buffer.length,R+=46+f+p}for(t=new Uint8Array(E+R+(22+(this.comment?this.comment.length:0))),n=0,i=(r=E)+R,w=0,k=C.length;w<k;++w)f=(e=C[w]).option.filename?e.option.filename.length:0,d=0,p=e.option.comment?e.option.comment.length:0,a=n,t[n++]=Qp.Zip.LocalFileHeaderSignature[0],t[n++]=Qp.Zip.LocalFileHeaderSignature[1],t[n++]=Qp.Zip.LocalFileHeaderSignature[2],t[n++]=Qp.Zip.LocalFileHeaderSignature[3],t[r++]=Qp.Zip.FileHeaderSignature[0],t[r++]=Qp.Zip.FileHeaderSignature[1],t[r++]=Qp.Zip.FileHeaderSignature[2],t[r++]=Qp.Zip.FileHeaderSignature[3],t[r++]=20,t[r++]=e.option.os||Qp.Zip.OperatingSystem.MSDOS,t[n++]=t[r++]=20,t[n++]=t[r++]=0,o=0,(e.option.password||this.password)&&(o|=Qp.Zip.Flags.ENCRYPT),t[n++]=t[r++]=255&o,t[n++]=t[r++]=o>>8&255,t[n++]=t[r++]=255&(s=e.option.compressionMethod),t[n++]=t[r++]=s>>8&255,c=e.option.date||new Date,t[n++]=t[r++]=(7&c.getMinutes())<<5|c.getSeconds()/2|0,t[n++]=t[r++]=c.getHours()<<3|c.getMinutes()>>3,t[n++]=t[r++]=(c.getMonth()+1&7)<<5|c.getDate(),t[n++]=t[r++]=(c.getFullYear()-1980&127)<<1|c.getMonth()+1>>3,t[n++]=t[r++]=255&(l=e.crc32),t[n++]=t[r++]=l>>8&255,t[n++]=t[r++]=l>>16&255,t[n++]=t[r++]=l>>24&255,t[n++]=t[r++]=255&(u=e.buffer.length),t[n++]=t[r++]=u>>8&255,t[n++]=t[r++]=u>>16&255,t[n++]=t[r++]=u>>24&255,t[n++]=t[r++]=255&(h=e.size),t[n++]=t[r++]=h>>8&255,t[n++]=t[r++]=h>>16&255,t[n++]=t[r++]=h>>24&255,t[n++]=t[r++]=255&f,t[n++]=t[r++]=f>>8&255,t[n++]=t[r++]=255&d,t[n++]=t[r++]=d>>8&255,t[r++]=255&p,t[r++]=p>>8&255,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255,(v=e.option.filename)&&(t.set(v,n),t.set(v,r),n+=f,r+=f),(m=e.option.extraField)&&(t.set(m,n),t.set(m,r),n+=d,r+=d),(g=e.option.comment)&&(t.set(g,r),r+=p),t.set(e.buffer,n),n+=e.buffer.length;return t[i++]=Qp.Zip.CentralDirectorySignature[0],t[i++]=Qp.Zip.CentralDirectorySignature[1],t[i++]=Qp.Zip.CentralDirectorySignature[2],t[i++]=Qp.Zip.CentralDirectorySignature[3],t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=255&k,t[i++]=k>>8&255,t[i++]=255&k,t[i++]=k>>8&255,t[i++]=255&R,t[i++]=R>>8&255,t[i++]=R>>16&255,t[i++]=R>>24&255,t[i++]=255&E,t[i++]=E>>8&255,t[i++]=E>>16&255,t[i++]=E>>24&255,t[i++]=255&(p=this.comment?this.comment.length:0),t[i++]=p>>8&255,this.comment&&(t.set(this.comment,i),i+=p),t},Qp.Zip.prototype.deflateWithOption=function(e,t){return new Qp.RawDeflate(e,t.deflateOption).compress()},Qp.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},Qp.Zip.prototype.encode=function(e,t){var n=this.getByte(e);return this.updateKeys(e,t),n^t},Qp.Zip.prototype.updateKeys=function(e,t){e[0]=Qp.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=Qp.CRC32.single(e[2],e[1]>>>24)},Qp.Zip.prototype.createEncryptionKey=function(e){var t,n,r=[305419896,591751049,878082192];for(r=new Uint32Array(r),t=0,n=e.length;t<n;++t)this.updateKeys(r,255&e[t]);return r},Qp.Huffman.buildHuffmanTable=function(e){var t,n,r,i,a,o,s,c,l,u,h,f=e.length,d=0,p=Number.POSITIVE_INFINITY;for(c=0,l=f;c<l;++c)e[c]>d&&(d=e[c]),e[c]<p&&(p=e[c]);for(t=1<<d,n=new Uint32Array(t),r=1,i=0,a=2;r<=d;){for(c=0;c<f;++c)if(e[c]===r){for(o=0,s=i,u=0;u<r;++u)o=o<<1|1&s,s>>=1;for(h=r<<16|c,u=o;u<t;u+=a)n[u]=h;++i}++r,i<<=1,a<<=1}return[n,d,p]};var Jp,ev=Qp.Huffman.buildHuffmanTable;function tv(e){return"string"==typeof e||e instanceof String}function nv(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce(function(e,t,n){return n%3==0?e+","+t:e+t}).split("").reverse().join("")+(t[1]?"."+t[1]:"")}Qp.RawInflate=function(e,t){switch(this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.bfinal=!1,this.bufferType=Qp.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case Qp.RawInflate.BufferType.BLOCK:this.op=Qp.RawInflate.MaxBackwardLength,this.output=new Uint8Array(Qp.RawInflate.MaxBackwardLength+this.bufferSize+Qp.RawInflate.MaxCopyLength);break;case Qp.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},Qp.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},Qp.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case Qp.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case Qp.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},Qp.RawInflate.MaxBackwardLength=32768,Qp.RawInflate.MaxCopyLength=258,Qp.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qp.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Qp.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Qp.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Qp.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qp.RawInflate.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return ev(n)}(),Qp.RawInflate.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return ev(n)}(),Qp.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},Qp.RawInflate.prototype.readBits=function(e){var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,a=this.ip;if(a+(e-r+7>>3)>=i.length)throw new Error("input buffer is broken");for(;r<e;)n|=i[a++]<<r,r+=8;return t=n&(1<<e)-1,r-=e,this.bitsbuf=n>>>=e,this.bitsbuflen=r,this.ip=a,t},Qp.RawInflate.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,a=this.input,o=this.ip,s=a.length,c=e[0],l=e[1];i<l&&!(o>=s);)r|=a[o++]<<i,i+=8;if((n=(t=c[r&(1<<l)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=o,65535&t},Qp.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,n=this.input,r=this.ip,i=this.output,a=this.op,o=n.length,s=i.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=o)throw new Error("invalid uncompressed block header: LEN");if(e=n[r++]|n[r++]<<8,r+1>=o)throw new Error("invalid uncompressed block header: NLEN");if(e===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+e>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case Qp.RawInflate.BufferType.BLOCK:for(;a+e>i.length;)e-=t=s-a,i.set(n.subarray(r,r+t),a),r+=t,this.op=a+=t,i=this.expandBufferBlock(),a=this.op;break;case Qp.RawInflate.BufferType.ADAPTIVE:for(;a+e>i.length;)i=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}i.set(n.subarray(r,r+e),a),a+=e,this.ip=r+=e,this.op=a,this.output=i},Qp.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case Qp.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(Qp.RawInflate.FixedLiteralLengthTable,Qp.RawInflate.FixedDistanceTable);break;case Qp.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(Qp.RawInflate.FixedLiteralLengthTable,Qp.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},Qp.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i,a,o,s,c,l=this.readBits(5)+257,u=this.readBits(5)+1,h=this.readBits(4)+4,f=new Uint8Array(Qp.RawInflate.Order.length);for(s=0;s<h;++s)f[Qp.RawInflate.Order[s]]=this.readBits(3);for(e=ev(f),r=new Uint8Array(l+u),s=0,c=l+u;s<c;)switch(i=this.readCodeByTable(e)){case 16:for(o=3+this.readBits(2);o--;)r[s++]=a;break;case 17:for(o=3+this.readBits(3);o--;)r[s++]=0;a=0;break;case 18:for(o=11+this.readBits(7);o--;)r[s++]=0;a=0;break;default:r[s++]=i,a=i}switch(t=ev(r.subarray(0,l)),n=ev(r.subarray(l)),this.bufferType){case Qp.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,n);break;case Qp.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,n);break;default:throw new Error("invalid inflate mode")}},Qp.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,a,o,s,c=n.length-Qp.RawInflate.MaxCopyLength,l=Qp.RawInflate.LengthCodeTable,u=Qp.RawInflate.LengthExtraTable,h=Qp.RawInflate.DistCodeTable,f=Qp.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=c&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=i;else for(s=l[a=i-257],u[a]>0&&(s+=this.readBits(u[a])),o=h[i=this.readCodeByTable(t)],f[i]>0&&(o+=this.readBits(f[i])),r>=c&&(this.op=r,n=this.expandBufferBlock(),r=this.op);s--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},Qp.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,a,o,s,c=n.length,l=Qp.RawInflate.LengthCodeTable,u=Qp.RawInflate.LengthExtraTable,h=Qp.RawInflate.DistCodeTable,f=Qp.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=c&&(c=(n=this.expandBufferAdaptive()).length),n[r++]=i;else for(s=l[a=i-257],u[a]>0&&(s+=this.readBits(u[a])),o=h[i=this.readCodeByTable(t)],f[i]>0&&(o+=this.readBits(f[i])),r+s>c&&(c=(n=this.expandBufferAdaptive()).length);s--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},Qp.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-Qp.RawInflate.MaxBackwardLength),n=this.op-Qp.RawInflate.MaxBackwardLength,r=this.output;return t.set(r.subarray(Qp.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,r.set(r.subarray(n,n+Qp.RawInflate.MaxBackwardLength)),this.op=Qp.RawInflate.MaxBackwardLength,r},Qp.RawInflate.prototype.expandBufferAdaptive=function(e){var t,n,r,i=this.input.length/this.ip+1|0,a=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(this.input.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*i,(t=new Uint8Array(n)).set(a),this.output=t,this.output},Qp.RawInflate.prototype.concatBufferBlock=function(){var e,t,n,r,i,a=0,o=this.output,s=this.blocks,c=new Uint8Array(this.totalpos+(this.op-Qp.RawInflate.MaxBackwardLength));if(0===s.length)return this.output.subarray(Qp.RawInflate.MaxBackwardLength,this.op);for(t=0,n=s.length;t<n;++t)for(r=0,i=(e=s[t]).length;r<i;++r)c[a++]=e[r];for(t=Qp.RawInflate.MaxBackwardLength,n=this.op;t<n;++t)c[a++]=o[t];return this.blocks=[],this.buffer=c,this.buffer},Qp.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer},ev=Qp.Huffman.buildHuffmanTable,Qp.RawInflateStream=function(e,t,n){this.blocks=[],this.bufferSize=n||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.resize=!1,this.sp=0,this.status=Qp.RawInflateStream.Status.INITIALIZED},Qp.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},Qp.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},Qp.RawInflateStream.prototype.decompress=function(e,t){var n=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!n;)switch(this.status){case Qp.RawInflateStream.Status.INITIALIZED:case Qp.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case Qp.RawInflateStream.Status.BLOCK_HEADER_END:case Qp.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case Qp.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case Qp.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case Qp.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case Qp.RawInflateStream.Status.BLOCK_BODY_END:case Qp.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case Qp.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case Qp.RawInflateStream.BlockType.FIXED:case Qp.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case Qp.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=Qp.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},Qp.RawInflateStream.MaxBackwardLength=32768,Qp.RawInflateStream.MaxCopyLength=258,Qp.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qp.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Qp.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Qp.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Qp.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qp.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return ev(n)}(),Qp.RawInflateStream.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return ev(n)}(),Qp.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=Qp.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=Qp.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=Qp.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=Qp.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=Qp.RawInflateStream.Status.BLOCK_HEADER_END},Qp.RawInflateStream.prototype.readBits=function(e){for(var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,a=this.ip;r<e;){if(i.length<=a)return-1;n|=(t=i[a++])<<r,r+=8}return t=n&(1<<e)-1,r-=e,this.bitsbuf=n>>>=e,this.bitsbuflen=r,this.ip=a,t},Qp.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,a=this.input,o=this.ip,s=e[0],c=e[1];i<c;){if(a.length<=o)return-1;r|=a[o++]<<i,i+=8}if((n=(t=s[r&(1<<c)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=o,65535&t},Qp.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,n=this.ip;if(this.status=Qp.RawInflateStream.Status.BLOCK_BODY_START,n+4>=t.length)return-1;if((e=t[n++]|t[n++]<<8)==~(t[n++]|t[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=e,this.status=Qp.RawInflateStream.Status.BLOCK_BODY_END},Qp.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,n=this.output,r=this.op,i=this.blockLength;for(this.status=Qp.RawInflateStream.Status.DECODE_BLOCK_START;i--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=r,this.blockLength=i+1,-1;n[r++]=e[t++]}return i<0&&(this.status=Qp.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=r,0},Qp.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=Qp.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=Qp.RawInflateStream.FixedLiteralLengthTable,this.distTable=Qp.RawInflateStream.FixedDistanceTable,this.status=Qp.RawInflateStream.Status.BLOCK_BODY_END,0},Qp.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},Qp.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},Qp.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i=new Uint8Array(Qp.RawInflateStream.Order.length);if(this.status=Qp.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,n=this.readBits(4)+4,e<0||t<0||n<0)return this.restore_(),-1;try{(function(){var a,o,s,c,l,u,h=0;for(l=0;l<n;++l){if((a=this.readBits(3))<0)throw new Error("not enough input");i[Qp.RawInflateStream.Order[l]]=a}for(r=ev(i),c=new Uint8Array(e+t),l=0,u=e+t;l<u;){if((o=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(o){case 16:if((a=this.readBits(2))<0)throw new Error("not enough input");for(s=3+a;s--;)c[l++]=h;break;case 17:if((a=this.readBits(3))<0)throw new Error("not enough input");for(s=3+a;s--;)c[l++]=0;h=0;break;case 18:if((a=this.readBits(7))<0)throw new Error("not enough input");for(s=11+a;s--;)c[l++]=0;h=0;break;default:c[l++]=o,h=o}}this.litlenTable=ev(c.subarray(0,e)),this.distTable=ev(c.subarray(e))}).call(this)}catch(a){return this.restore_(),-1}return this.status=Qp.RawInflateStream.Status.BLOCK_BODY_END,0},Qp.RawInflateStream.prototype.decodeHuffman=function(){var e,t,n,r,i,a=this.output,o=this.op,s=this.litlenTable,c=this.distTable,l=a.length;for(this.status=Qp.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(s))<0)return this.op=o,this.restore_(),-1;if(256===e)break;if(e<256)o===l&&(l=(a=this.expandBuffer()).length),a[o++]=e;else{if(r=Qp.RawInflateStream.LengthCodeTable[t=e-257],Qp.RawInflateStream.LengthExtraTable[t]>0){if((i=this.readBits(Qp.RawInflateStream.LengthExtraTable[t]))<0)return this.op=o,this.restore_(),-1;r+=i}if((e=this.readCodeByTable(c))<0)return this.op=o,this.restore_(),-1;if(n=Qp.RawInflateStream.DistCodeTable[e],Qp.RawInflateStream.DistExtraTable[e]>0){if((i=this.readBits(Qp.RawInflateStream.DistExtraTable[e]))<0)return this.op=o,this.restore_(),-1;n+=i}for(o+r>=l&&(l=(a=this.expandBuffer()).length);r--;)a[o]=a[o++-n];if(this.ip===this.input.length)return this.op=o,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=o,this.status=Qp.RawInflateStream.Status.DECODE_BLOCK_END},Qp.RawInflateStream.prototype.expandBuffer=function(e){var t,n,r,i=this.input.length/this.ip+1|0,a=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(this.input.length-this.ip)/this.litlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*i,(t=new Uint8Array(n)).set(a),this.output=t,this.output},Qp.RawInflateStream.prototype.concatBuffer=function(){var e,t,n=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,n)):this.output.subarray(this.sp,n),this.sp=n,n>Qp.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=Qp.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+Qp.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(n-Qp.RawInflateStream.MaxBackwardLength,n))),e},Qp.Inflate=function(e,t){var n,r;switch(this.input=e,this.ip=0,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),n=e[this.ip++],r=e[this.ip++],15&n){case Qp.CompressionMethod.DEFLATE:this.method=Qp.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new Qp.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},Qp.Inflate.BufferType=Qp.RawInflate.BufferType,Qp.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==Qp.Adler32(e))throw new Error("invalid adler-32 checksum");return e},Qp.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new Qp.RawInflateStream(this.input,this.ip),this.output=this.rawinflate.output},Qp.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var n=new Uint8Array(this.input.length+e.length);n.set(this.input,0),n.set(e,this.input.length),this.input=n}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},Qp.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,n=t[e++],r=t[e++];if(void 0===n||void 0===r)return-1;switch(15&n){case Qp.CompressionMethod.DEFLATE:this.method=Qp.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=e},Qp.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},Qp.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},Qp.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},Qp.Gunzip.prototype.decodeMember=function(){var e,t,n,r,i,a,o,s,c,l=new Qp.GunzipMember,u=this.input,h=this.ip;if(l.id1=u[h++],l.id2=u[h++],31!==l.id1||139!==l.id2)throw new Error("invalid file signature:"+l.id1+","+l.id2);switch(l.cm=u[h++],l.cm){case 8:break;default:throw new Error("unknown compression method: "+l.cm)}if(l.flg=u[h++],s=u[h++]|u[h++]<<8|u[h++]<<16|u[h++]<<24,l.mtime=new Date(1e3*s),l.xfl=u[h++],l.os=u[h++],(l.flg&Qp.Gzip.FlagsMask.FEXTRA)>0&&(l.xlen=u[h++]|u[h++]<<8,h=this.decodeSubField(h,l.xlen)),(l.flg&Qp.Gzip.FlagsMask.FNAME)>0){for(o=[],a=0;(i=u[h++])>0;)o[a++]=String.fromCharCode(i);l.name=o.join("")}if((l.flg&Qp.Gzip.FlagsMask.FCOMMENT)>0){for(o=[],a=0;(i=u[h++])>0;)o[a++]=String.fromCharCode(i);l.comment=o.join("")}if((l.flg&Qp.Gzip.FlagsMask.FHCRC)>0&&(l.crc16=65535&Qp.CRC32.calc(u,0,h),l.crc16!==(u[h++]|u[h++]<<8)))throw new Error("invalid header crc16");if(u.length-h-4-4<512*(e=u[u.length-4]|u[u.length-3]<<8|u[u.length-2]<<16|u[u.length-1]<<24)&&(r=e),t=new Qp.RawInflate(u,{index:h,bufferSize:r}),l.data=n=t.decompress(),h=t.ip,l.crc32=c=(u[h++]|u[h++]<<8|u[h++]<<16|u[h++]<<24)>>>0,Qp.CRC32.calc(n)!==c)throw new Error("invalid CRC-32 checksum: 0x"+Qp.CRC32.calc(n).toString(16)+" / 0x"+c.toString(16));if(l.isize=e=(u[h++]|u[h++]<<8|u[h++]<<16|u[h++]<<24)>>>0,(4294967295&n.length)!==e)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+e);this.member.push(l),this.ip=h},Qp.Gunzip.prototype.decodeSubField=function(e,t){return e+t},Qp.Gunzip.prototype.concatMember=function(){var e,t,n,r=this.member,i=0,a=0;for(e=0,t=r.length;e<t;++e)a+=r[e].data.length;for(n=new Uint8Array(a),e=0;e<t;++e)n.set(r[e].data,i),i+=r[e].data.length;return n},Qp.GunzipMember=function(){},Qp.GunzipMember.prototype.getName=function(){return this.name},Qp.GunzipMember.prototype.getData=function(){return this.data},Qp.GunzipMember.prototype.getMtime=function(){return this.mtime},Qp.Gzip=function(e,t){this.input=e,this.ip=0,this.op=0,this.flags={},t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},Qp.Gzip.DefaultBufferSize=32768,Qp.Gzip.prototype.compress=function(){var e,t,n,r,i,a,o,s,c=new Uint8Array(Qp.Gzip.DefaultBufferSize),l=0,u=this.input,h=this.ip,f=this.filename,d=this.comment;if(c[l++]=31,c[l++]=139,c[l++]=8,e=0,this.flags.fname&&(e|=Qp.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=Qp.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=Qp.Gzip.FlagsMask.FHCRC),c[l++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,c[l++]=255&t,c[l++]=t>>>8&255,c[l++]=t>>>16&255,c[l++]=t>>>24&255,c[l++]=0,c[l++]=Qp.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(o=0,s=f.length;o<s;++o)(a=f.charCodeAt(o))>255&&(c[l++]=a>>>8&255),c[l++]=255&a;c[l++]=0}if(this.flags.comment){for(o=0,s=d.length;o<s;++o)(a=d.charCodeAt(o))>255&&(c[l++]=a>>>8&255),c[l++]=255&a;c[l++]=0}return this.flags.fhcrc&&(n=65535&Qp.CRC32.calc(c,0,l),c[l++]=255&n,c[l++]=n>>>8&255),this.deflateOptions.outputBuffer=c,this.deflateOptions.outputIndex=l,c=(i=new Qp.RawDeflate(u,this.deflateOptions)).compress(),(l=i.op)+8>c.buffer.byteLength?(this.output=new Uint8Array(l+8),this.output.set(new Uint8Array(c.buffer)),c=this.output):c=new Uint8Array(c.buffer),r=Qp.CRC32.calc(u),c[l++]=255&r,c[l++]=r>>>8&255,c[l++]=r>>>16&255,c[l++]=r>>>24&255,c[l++]=255&(s=u.length),c[l++]=s>>>8&255,c[l++]=s>>>16&255,c[l++]=s>>>24&255,this.ip=h,l<c.length&&(this.output=c=c.subarray(0,l)),c},Qp.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},Qp.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},Qp.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},Qp.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},Qp.Heap.prototype.getChild=function(e){return 2*e+2},Qp.Heap.prototype.push=function(e,t){var n,r,i,a=this.buffer;for(n=this.length,a[this.length++]=t,a[this.length++]=e;n>0&&(r=this.getParent(n),a[n]>a[r]);)i=a[n],a[n]=a[r],a[r]=i,i=a[n+1],a[n+1]=a[r+1],a[r+1]=i,n=r;return this.length},Qp.Heap.prototype.pop=function(){var e,t,n,r,i,a=this.buffer;for(t=a[0],e=a[1],this.length-=2,a[0]=a[this.length],a[1]=a[this.length+1],i=0;!((r=this.getChild(i))>=this.length)&&(r+2<this.length&&a[r+2]>a[r]&&(r+=2),a[r]>a[i]);)n=a[i],a[i]=a[r],a[r]=n,n=a[i+1],a[i+1]=a[r+1],a[r+1]=n,i=r;return{index:e,value:t,length:this.length}},Qp.RawDeflate=function(e,t){this.compressionType=Qp.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.input=e instanceof Array?new Uint8Array(e):e,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},Qp.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},Qp.RawDeflate.Lz77MinLength=3,Qp.RawDeflate.Lz77MaxLength=258,Qp.RawDeflate.WindowSize=32768,Qp.RawDeflate.MaxCodeLength=16,Qp.RawDeflate.HUFMAX=286,Qp.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),Qp.RawDeflate.prototype.compress=function(){var e,t,n,r=this.input;switch(this.compressionType){case Qp.RawDeflate.CompressionType.NONE:for(t=0,n=r.length;t<n;)e=r.subarray(t,t+65535),this.makeNocompressBlock(e,(t+=e.length)===n);break;case Qp.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case Qp.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},Qp.RawDeflate.prototype.makeNocompressBlock=function(e,t){var n,r,i=this.output,a=this.op;for(i=new Uint8Array(this.output.buffer);i.length<=a+e.length+5;)i=new Uint8Array(i.length<<1);return i.set(this.output),i[a++]=(t?1:0)|Qp.RawDeflate.CompressionType.NONE<<1,r=65536+~(n=e.length)&65535,i[a++]=255&n,i[a++]=n>>>8&255,i[a++]=255&r,i[a++]=r>>>8&255,i.set(e,a),i=i.subarray(0,a+=e.length),this.op=a,this.output=i,i},Qp.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var n,r,i=new Qp.BitStream(new Uint8Array(this.output.buffer),this.op);return n=Qp.RawDeflate.CompressionType.FIXED,i.writeBits(t?1:0,1,!0),i.writeBits(n,2,!0),r=this.lz77(e),this.fixedHuffman(r,i),i.finish()},Qp.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y=new Qp.BitStream(new Uint8Array(this.output.buffer),this.op),b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(19);for(n=Qp.RawDeflate.CompressionType.DYNAMIC,y.writeBits(t?1:0,1,!0),y.writeBits(n,2,!0),r=this.lz77(e),s=this.getLengths_(this.freqsLitLen,15),c=this.getCodesFromLengths_(s),l=this.getLengths_(this.freqsDist,7),u=this.getCodesFromLengths_(l),i=286;i>257&&0===s[i-1];i--);for(a=30;a>1&&0===l[a-1];a--);for(h=this.getTreeSymbols_(i,s,a,l),f=this.getLengths_(h.freqs,7),m=0;m<19;m++)_[m]=f[b[m]];for(o=19;o>4&&0===_[o-1];o--);for(d=this.getCodesFromLengths_(f),y.writeBits(i-257,5,!0),y.writeBits(a-1,5,!0),y.writeBits(o-4,4,!0),m=0;m<o;m++)y.writeBits(_[m],3,!0);for(m=0,g=h.codes.length;m<g;m++)if(y.writeBits(d[p=h.codes[m]],f[p],!0),p>=16){switch(m++,p){case 16:v=2;break;case 17:v=3;break;case 18:v=7;break;default:throw"invalid code: "+p}y.writeBits(h.codes[m],v,!0)}return this.dynamicHuffman(r,[c,s],[u,l],y),y.finish()},Qp.RawDeflate.prototype.dynamicHuffman=function(e,t,n,r){var i,a,o,s,c,l,u,h;for(c=t[0],l=t[1],u=n[0],h=n[1],i=0,a=e.length;i<a;++i)if(r.writeBits(c[o=e[i]],l[o],!0),o>256)r.writeBits(e[++i],e[++i],!0),s=e[++i],r.writeBits(u[s],h[s],!0),r.writeBits(e[++i],e[++i],!0);else if(256===o)break;return r},Qp.RawDeflate.prototype.fixedHuffman=function(e,t){var n,r,i;for(n=0,r=e.length;n<r;n++)if(Qp.BitStream.prototype.writeBits.apply(t,Qp.RawDeflate.FixedHuffmanTable[i=e[n]]),i>256)t.writeBits(e[++n],e[++n],!0),t.writeBits(e[++n],5),t.writeBits(e[++n],e[++n],!0);else if(256===i)break;return t},Qp.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},Qp.RawDeflate.Lz77Match.LengthCodeTable=(Jp=function(){var e,t,n=[];for(e=3;e<=258;e++)t=r(e),n[e]=t[2]<<24|t[1]<<16|t[0];function r(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return n}(),new Uint32Array(Jp)),Qp.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},Qp.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.backwardDistance,n=[],r=0;return n[r++]=65535&(e=Qp.RawDeflate.Lz77Match.LengthCodeTable[this.length]),n[r++]=e>>16&255,n[r++]=e>>24,e=this.getDistanceCode_(t),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n},Qp.RawDeflate.prototype.lz77=function(e){var t,n,r,i,a,o,s,c,l,u={},h=Qp.RawDeflate.WindowSize,f=new Uint16Array(2*e.length),d=0,p=0,v=new Uint32Array(286),m=new Uint32Array(30),g=this.lazy;function y(e,t){var n,r,i=e.toLz77Array();for(n=0,r=i.length;n<r;++n)f[d++]=i[n];v[i[0]]++,m[i[3]]++,p=e.length+t-1,c=null}for(v[256]=1,t=0,n=e.length;t<n;++t){for(a=0,r=0,i=Qp.RawDeflate.Lz77MinLength;r<i&&t+r!==n;++r)a=a<<8|e[t+r];if(void 0===u[a]&&(u[a]=[]),o=u[a],p-- >0)o.push(t);else{for(;o.length>0&&t-o[0]>h;)o.shift();if(t+Qp.RawDeflate.Lz77MinLength>=n){for(c&&y(c,-1),r=0,i=n-t;r<i;++r)f[d++]=l=e[t+r],++v[l];break}o.length>0?(s=this.searchLongestMatch_(e,t,o),c?c.length<s.length?(f[d++]=l=e[t-1],++v[l],y(s,0)):y(c,-1):s.length<g?c=s:y(s,0)):c?y(c,-1):(f[d++]=l=e[t],++v[l]),o.push(t)}}return f[d++]=256,v[256]++,this.freqsLitLen=v,this.freqsDist=m,f.subarray(0,d)},Qp.RawDeflate.prototype.searchLongestMatch_=function(e,t,n){var r,i,a,o,s,c,l=0,u=e.length;e:for(o=0,c=n.length;o<c;o++){if(r=n[c-o-1],a=Qp.RawDeflate.Lz77MinLength,l>Qp.RawDeflate.Lz77MinLength){for(s=l;s>Qp.RawDeflate.Lz77MinLength;s--)if(e[r+s-1]!==e[t+s-1])continue e;a=l}for(;a<Qp.RawDeflate.Lz77MaxLength&&t+a<u&&e[r+a]===e[t+a];)++a;if(a>l&&(i=r,l=a),a===Qp.RawDeflate.Lz77MaxLength)break}return new Qp.RawDeflate.Lz77Match(l,t-i)},Qp.RawDeflate.prototype.getTreeSymbols_=function(e,t,n,r){var i,a,o,s,c,l,u=new Uint32Array(e+n),h=new Uint32Array(316),f=new Uint8Array(19);for(a=0,i=0;i<e;i++)u[a++]=t[i];for(i=0;i<n;i++)u[a++]=r[i];for(c=0,i=0,s=u.length;i<s;i+=a){for(a=1;i+a<s&&u[i+a]===u[i];++a);if(o=a,0===u[i])if(o<3)for(;o-- >0;)h[c++]=0,f[0]++;else for(;o>0;)(l=o<138?o:138)>o-3&&l<o&&(l=o-3),l<=10?(h[c++]=17,h[c++]=l-3,f[17]++):(h[c++]=18,h[c++]=l-11,f[18]++),o-=l;else if(h[c++]=u[i],f[u[i]]++,--o<3)for(;o-- >0;)h[c++]=u[i],f[u[i]]++;else for(;o>0;)(l=o<6?o:6)>o-3&&l<o&&(l=o-3),h[c++]=16,h[c++]=l-3,f[16]++,o-=l}return{codes:h.subarray(0,c),freqs:f}},Qp.RawDeflate.prototype.getLengths_=function(e,t){var n,r,i,a,o,s=e.length,c=new Qp.Heap(2*Qp.RawDeflate.HUFMAX),l=new Uint8Array(s);for(a=0;a<s;++a)e[a]>0&&c.push(a,e[a]);if(n=new Array(c.length/2),r=new Uint32Array(c.length/2),1===n.length)return l[c.pop().index]=1,l;for(a=0,o=c.length/2;a<o;++a)n[a]=c.pop(),r[a]=n[a].value;for(i=this.reversePackageMerge_(r,r.length,t),a=0,o=n.length;a<o;++a)l[n[a].index]=i[a];return l},Qp.RawDeflate.prototype.reversePackageMerge_=function(e,t,n){var r,i,a,o,s,c=new Uint16Array(n),l=new Uint8Array(n),u=new Uint8Array(t),h=new Array(n),f=new Array(n),d=new Array(n),p=(1<<n)-t,v=1<<n-1;function m(e){var n=f[e][d[e]];n===t?(m(e+1),m(e+1)):--u[n],++d[e]}for(c[n-1]=t,i=0;i<n;++i)p<v?l[i]=0:(l[i]=1,p-=v),p<<=1,c[n-2-i]=(c[n-1-i]/2|0)+t;for(c[0]=l[0],h[0]=new Array(c[0]),f[0]=new Array(c[0]),i=1;i<n;++i)c[i]>2*c[i-1]+l[i]&&(c[i]=2*c[i-1]+l[i]),h[i]=new Array(c[i]),f[i]=new Array(c[i]);for(r=0;r<t;++r)u[r]=n;for(a=0;a<c[n-1];++a)h[n-1][a]=e[a],f[n-1][a]=a;for(r=0;r<n;++r)d[r]=0;for(1===l[n-1]&&(--u[0],++d[n-1]),i=n-2;i>=0;--i){for(r=0,o=0,s=d[i+1],a=0;a<c[i];a++)(o=h[i+1][s]+h[i+1][s+1])>e[r]?(h[i][a]=o,f[i][a]=t,s+=2):(h[i][a]=e[r],f[i][a]=r,++r);d[i]=0,1===l[i]&&m(i)}return u},Qp.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,n,r,i,a=new Uint16Array(e.length),o=[],s=[],c=0;for(t=0,n=e.length;t<n;t++)o[e[t]]=1+(0|o[e[t]]);for(t=1,n=Qp.RawDeflate.MaxCodeLength;t<=n;t++)s[t]=c,c+=0|o[t],c<<=1;for(t=0,n=e.length;t<n;t++)for(c=s[e[t]],s[e[t]]+=1,a[t]=0,r=0,i=e[t];r<i;r++)a[t]=a[t]<<1|1&c,c>>>=1;return a},Qp.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.verify=t.verify||!1,this.password=t.password},Qp.Unzip.CompressionMethod=Qp.Zip.CompressionMethod,Qp.Unzip.FileHeaderSignature=Qp.Zip.FileHeaderSignature,Qp.Unzip.LocalFileHeaderSignature=Qp.Zip.LocalFileHeaderSignature,Qp.Unzip.CentralDirectorySignature=Qp.Zip.CentralDirectorySignature,Qp.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t},Qp.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Qp.Unzip.FileHeaderSignature[0]||e[t++]!==Qp.Unzip.FileHeaderSignature[1]||e[t++]!==Qp.Unzip.FileHeaderSignature[2]||e[t++]!==Qp.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},Qp.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t},Qp.Unzip.LocalFileHeader.Flags=Qp.Zip.Flags,Qp.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Qp.Unzip.LocalFileHeaderSignature[0]||e[t++]!==Qp.Unzip.LocalFileHeaderSignature[1]||e[t++]!==Qp.Unzip.LocalFileHeaderSignature[2]||e[t++]!==Qp.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},Qp.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===Qp.Unzip.CentralDirectorySignature[0]&&t[e+1]===Qp.Unzip.CentralDirectorySignature[1]&&t[e+2]===Qp.Unzip.CentralDirectorySignature[2]&&t[e+3]===Qp.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},Qp.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==Qp.Unzip.CentralDirectorySignature[0]||t[e++]!==Qp.Unzip.CentralDirectorySignature[1]||t[e++]!==Qp.Unzip.CentralDirectorySignature[2]||t[e++]!==Qp.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},Qp.Unzip.prototype.parseFileHeader=function(){var e,t,n,r,i=[],a={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(t=new Qp.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,i[n]=t,a[t.filename]=n;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=i,this.filenameToIndex=a}},Qp.Unzip.prototype.getFileData=function(e,t){t=t||{};var n,r,i,a,o,s,c,l,u=this.input,h=this.fileHeaderList;if(h||this.parseFileHeader(),void 0===h[e])throw new Error("wrong index");if((n=new Qp.Unzip.LocalFileHeader(this.input,r=h[e].relativeOffset)).parse(),r+=n.length,i=n.compressedSize,0!=(n.flags&Qp.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(s=this.createDecryptionKey(t.password||this.password),c=r,l=r+12;c<l;++c)this.decode(s,u[c]);for(c=r+=12,l=r+(i-=12);c<l;++c)u[c]=this.decode(s,u[c])}switch(n.compression){case Qp.Unzip.CompressionMethod.STORE:a=this.input.subarray(r,r+i);break;case Qp.Unzip.CompressionMethod.DEFLATE:a=new Qp.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(o=Qp.CRC32.calc(a),n.crc32!==o))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+o.toString(16));return a},Qp.Unzip.prototype.getFilenames=function(){var e,t,n,r=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(n=this.fileHeaderList).length;e<t;++e)r[e]=n[e].filename;return r},Qp.Unzip.prototype.decompress=function(e,t){var n;if(this.filenameToIndex||this.parseFileHeader(),void 0===(n=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(n,t)},Qp.Unzip.prototype.setPassword=function(e){this.password=e},Qp.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},Qp.Unzip.prototype.updateKeys=Qp.Zip.prototype.updateKeys,Qp.Unzip.prototype.createDecryptionKey=Qp.Zip.prototype.createEncryptionKey,Qp.Unzip.prototype.getByte=Qp.Zip.prototype.getByte,Qp.Util.stringToByteArray=function(e){var t,n,r=e.split("");for(t=0,n=r.length;t<n;t++)r[t]=(255&r[t].charCodeAt(0))>>>0;return r},Qp.Adler32=function(e){return"string"==typeof e&&(e=Qp.Util.stringToByteArray(e)),Qp.Adler32.update(1,e)},Qp.Adler32.update=function(e,t){for(var n,r=65535&e,i=e>>>16&65535,a=t.length,o=0;a>0;){a-=n=a>Qp.Adler32.OptimizationParameter?Qp.Adler32.OptimizationParameter:a;do{i+=r+=t[o++]}while(--n);r%=65521,i%=65521}return(i<<16|r)>>>0},Qp.Adler32.OptimizationParameter=1024,Qp.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(Qp.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},Qp.BitStream.DefaultBlockSize=32768,Qp.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=new Uint8Array(e.length<<1);return t.set(e),this.buffer=t},Qp.BitStream.prototype.writeBits=function(e,t,n){var r,i=this.buffer,a=this.index,o=this.bitindex,s=i[a];if(n&&t>1&&(e=t>8?function(e){return Qp.BitStream.ReverseTable[255&e]<<24|Qp.BitStream.ReverseTable[e>>>8&255]<<16|Qp.BitStream.ReverseTable[e>>>16&255]<<8|Qp.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:Qp.BitStream.ReverseTable[e]>>8-t),t+o<8)s=s<<t|e,o+=t;else for(r=0;r<t;++r)s=s<<1|e>>t-r-1&1,8==++o&&(o=0,i[a++]=Qp.BitStream.ReverseTable[s],s=0,a===i.length&&(i=this.expandBuffer()));i[a]=s,this.buffer=i,this.bitindex=o,this.index=a},Qp.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=Qp.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},Qp.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,n=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--n;return(t<<n&255)>>>0}(e);return t}(),Qp.CRC32.calc=function(e,t,n){return Qp.CRC32.update(e,0,t,n)},Qp.CRC32.update=function(e,t,n,r){var i=Qp.CRC32.Table,a="number"==typeof n?n:n=0,o="number"==typeof r?r:e.length;for(t^=4294967295,a=7&o;a--;++n)t=t>>>8^i[255&(t^e[n])];for(a=o>>3;a--;n+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^i[255&(t^e[n])])>>>8^i[255&(t^e[n+1])])>>>8^i[255&(t^e[n+2])])>>>8^i[255&(t^e[n+3])])>>>8^i[255&(t^e[n+4])])>>>8^i[255&(t^e[n+5])])>>>8^i[255&(t^e[n+6])])>>>8^i[255&(t^e[n+7])];return(4294967295^t)>>>0},Qp.CRC32.single=function(e,t){return(Qp.CRC32.Table[255&(e^t)]^e>>>8)>>>0},Qp.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Qp.CRC32.Table=new Uint32Array(Qp.CRC32.Table_),Qp.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(Qp.Deflate.DefaultBufferSize),this.compressionType=Qp.Deflate.CompressionType.DYNAMIC;var n,r={};for(n in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)r[n]=t[n];r.outputBuffer=this.output,this.rawDeflate=new Qp.RawDeflate(this.input,r)},Qp.Deflate.DefaultBufferSize=32768,Qp.Deflate.CompressionType=Qp.RawDeflate.CompressionType,Qp.Deflate.compress=function(e,t){return new Qp.Deflate(e,t).compress()},Qp.Deflate.prototype.compress=function(){var e,t,n,r,i,a,o,s=0;switch(o=this.output,e=Qp.CompressionMethod.DEFLATE){case Qp.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(Qp.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(o[s++]=n=t<<4|e,e){case Qp.CompressionMethod.DEFLATE:switch(this.compressionType){case Qp.Deflate.CompressionType.NONE:i=0;break;case Qp.Deflate.CompressionType.FIXED:i=1;break;case Qp.Deflate.CompressionType.DYNAMIC:i=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=i<<6|0,o[s++]=r|=31-(256*n+r)%31,a=Qp.Adler32(this.input),this.rawDeflate.op=s,s=(o=this.rawDeflate.compress()).length,(o=new Uint8Array(o.buffer)).length<=s+4&&(this.output=new Uint8Array(o.length+4),this.output.set(o),o=this.output),(o=o.subarray(0,s+4))[s++]=a>>24&255,o[s++]=a>>16&255,o[s++]=a>>8&255,o[s++]=255&a,o};var rv=function(e){return e.split(/\n|\r\n|\r/g)};function iv(e,t){var n,r,i=[],a=e.length,o=0,s=!1;if(a>0)for(i[o]=e.charAt(0),n=1;n<a;n++)'"'===(r=e.charAt(n))?s=!s:s||r!==t?i[o]+=r:i[++o]="";return i}function av(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)}var ov={rgbListFromHSV:function(){for(var e=[],t=1;t>=.5;t-=.1)for(var n=0;n<1;n+=1/28){var r="rgb("+ov.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(ov.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var r,i,a,o=Math.floor(6*e),s=6*e-o,c=n*(1-t),l=n*(1-s*t),u=n*(1-(1-s)*t);switch(o%6){case 0:r=n,i=u,a=c;break;case 1:r=l,i=n,a=c;break;case 2:r=c,i=n,a=u;break;case 3:r=c,i=l,a=n;break;case 4:r=u,i=c,a=n;break;case 5:r=n,i=c,a=l}return[Math.floor(255*r),Math.floor(255*i),Math.floor(255*a)]},hslToRgb:function(e,t,n){var r,i,a;if(0===t)r=i=a=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=ov.hue2rgb(s,o,e+1/3),i=ov.hue2rgb(s,o,e),a=ov.hue2rgb(s,o,e-1/3)}return[255*r,255*i,255*a]},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},rgbaColor:function(e,t,n,r){return"rgba("+(e=Nf(e,0,255))+","+(t=Nf(t,0,255))+","+(n=Nf(n,0,255))+","+(r=Nf(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=Nf(e,0,255))+","+(t=Nf(t,0,255))+","+(n=Nf(n,0,255))+")"},greyScale:function(e){var t=Nf(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Nf(e,0,255),t=Nf(t,0,255);var n=Math.round(Math.random(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=Nf(e,0,255),t=Nf(t,0,255),"rgb("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=Nf(e,0,255),t=Nf(t,0,255),"rgba("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){var n=this.colorNameToHex(e);n&&(e=n);var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return e.startsWith("rgba")?e:(r&&(e=ov.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):e)},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return(e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1)),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){var n=this.colorNameToHex(e),r=(n?ov.hexToRgb(n):e.startsWith("rgb(")?e:ov.hexToRgb(e)).replace(")","").substring(4).split(","),i=Math.max(0,Math.min(255,Number.parseInt(r[0].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(r[1].trim())+t)),o=Math.max(0,Math.min(255,Number.parseInt(r[2].trim())+t));return"rgb("+i.toString()+","+a.toString()+","+o.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function sv(e,t){var n=Ys("<div>");e.append(n),n.append(Cf("times")),n.on("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}function cv(e,t,n){var r=Object.values(Af);n&&"function"!=typeof n&&(r.splice(11,1),r.unshift(ov.rgbToHex(n)));for(var i=function(){var n=o[a],r=Ys("<div>",{class:"igv-color-swatch"});e.append(r),r.css("background-color",n),"white"===n||(r.hover(function(){r.get(0).style.borderColor=n},function(){r.get(0).style.borderColor="white"}),r.on("click.trackview",function(e){e.stopPropagation(),t(n)}),r.on("touchend.trackview",function(e){e.stopPropagation(),t(n)}))},a=0,o=r;a<o.length;a++)i()}function lv(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function uv(e,t){var n=Ys(t);n.offset();var r=lv(e);return{x:r.x-n.offset().left,y:r.y-n.offset().top}}function hv(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}var fv=yf.trackMenuItemListHelper,dv=function(e,t){this.browser=t,this.$parent=pv.call(this,e)};function pv(e){var t,n=this;return this.$popover=Ys('<div class="igv-popover">'),e.append(this.$popover),t=Ys('<div class="igv-popover-header">'),this.$popover.append(t),sv(t,function(){n.hide()}),this.$popoverContent=Ys("<div>"),this.$popover.append(this.$popoverContent),tf(this.$popover.get(0),t.get(0)),e}function vv(e,t,n){var r,i,a=e,o=Ys(window).width(),s=(Ys(window).height(),e),c=t;return r=s-=n.$parent.offset().left,a+(i={x:s,y:c-=n.$parent.offset().top,width:n.$popover.outerWidth(),height:n.$popover.outerHeight()}).width>o&&(r=s-i.width),{left:r+"px",top:c+"px"}}dv.prototype.hide=function(){this.$popover.hide()},dv.prototype.presentTrackContextMenu=function(e,t){var n=this.$popover;if(Ys(".igv-popover").hide(),t.length>0){t=fv(t,n),this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content");var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)this.$popoverContent.append(o.value.object)}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var c=lv(e);n.css(vv(c.x,c.y,this)),n.show()}},dv.prototype.presentTrackContent=function(e,t,n){Ys(".igv-popover").hide(),void 0!==n&&(this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content"),this.$popoverContent.html(n),this.$popover.css(vv(e,t,this)),this.$popover.show())},dv.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach(function(e){this[e]=void 0})},Ie({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var mv="".repeat||function(e){var t=String(p(this)),n="",r=oe(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},gv=1..toFixed,yv=Math.floor,bv=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},_v=gv&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(function(){gv.call({})});Ie({target:"Number",proto:!0,forced:_v},{toFixed:function(e){var t,n,r,i,a=function(e){if("number"!=typeof e&&"Number"!=h(e))throw TypeError("Incorrect invocation");return+e}(this),o=oe(e),s=[0,0,0,0,0,0],c="",l="0",u=function(e,t){for(var n=-1,r=t;++n<6;)s[n]=(r+=e*s[n])%1e7,r=yv(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)s[t]=yv((n+=s[t])/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+mv.call("0",7-n.length)+n}return t};if(o<0||o>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(c="-",a=-a),a>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(a*bv(2,69,1))-69)<0?a*bv(2,-t,1):a/bv(2,t,1),n*=4503599627370496,(t=52-t)>0){for(u(0,n),r=o;r>=7;)u(1e7,0),r-=7;for(u(bv(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),u(1,1),f(2),l=d()}else u(0,n),u(1<<-t,0),l=d()+mv.call("0",o);return o>0?c+((i=l.length)<=o?"0."+mv.call("0",o-i)+l:l.slice(0,i-o)+"."+l.slice(i-o)):c+l}});var wv=function(e,t){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._super=Object.getPrototypeOf(t.prototype),t};function kv(e){var t=new Set(["boolean","number","string","symbol"]),n=Vn(e);return void 0!==e&&(t.has(n)||e.substring||e.toFixed)}function Sv(e,t){return Object.assign({oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename},t)}function xv(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var Cv=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))}),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},Ev=function(e,t,n){var r=t.start,i=t.end;if(void 0===i)(i=(r-=n/2)+n)>e?r=(i=e)-n:r<0&&(r=0,i=n);else if(i-r<n){var a=(i+r)/2;a-n/2<0?i=(r=0)+n:a+n/2>e?r=(i=e)-n:i=(r=a-n/2)+n}t.start=Math.ceil(r),t.end=Math.floor(i)},Rv=function(e){this.viewport=e,this.browser=e.browser,this.$rulerSweeper=Ys('<div class="igv-ruler-sweeper-div">'),Ys(e.contentDiv).append(this.$rulerSweeper),this.namespace=".sweeper_"+hv(),this.addMouseHandlers()};function Av(e){return this.viewport.genomicState.referenceFrame.start+e*this.viewport.genomicState.referenceFrame.bpPerPixel}Rv.prototype.disableMouseHandlers=function(){Ys(document).off(this.namespace),this.viewport.$viewport.off(this.namespace)},Rv.prototype.addMouseHandlers=function(){var e,t,n,r,i,a,o=this.browser,s=this;this.disableMouseHandlers(),e=t=n=void 0,Ys(this.browser.$root).on("mousedown"+this.namespace,function(a){t=!0,n=uv(a,s.viewport.$viewport).x,!0===e&&(s.$rulerSweeper.show(),i=1,s.$rulerSweeper.css({left:(r=n)+"px"}),s.$rulerSweeper.width(i))}),Ys(this.browser.$root).on("mousemove"+this.namespace,function(o){var c;e&&t&&(c=uv(o,s.viewport.$viewport).x,c=Math.min(c,s.viewport.$viewport.width()),c=Math.max(c,0),a=c-n,i=Math.abs(a),s.$rulerSweeper.width(i),a<0&&s.$rulerSweeper.css({left:(r=n+a)+"px"}))}),Ys(this.browser.$root).on("mouseup"+this.namespace,function(n){var a;!0===e&&!0===t&&(e=t=void 0,s.$rulerSweeper.hide(),(a={}).start=Av.call(s,r),a.end=Av.call(s,r+i),i>1&&(Ev(o.genome.getChromosome(s.viewport.genomicState.referenceFrame.chrName).bpLength,a,o.minimumBases()),s.viewport.genomicState.referenceFrame.bpPerPixel=(Math.round(a.end)-Math.round(a.start))/s.viewport.$viewport.width(),s.viewport.genomicState.referenceFrame.start=Math.round(a.start),o.updateViews(s.viewport.genomicState)))}),this.viewport.$viewport.on("mousedown"+this.namespace,function(t){e=!0})},Rv.prototype.dispose=function(){this.disableMouseHandlers()};var Tv=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))},Iv=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};Iv.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Iv.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var Ov=function(e,t,n,r,i){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=i},Dv=String.fromCharCode,Mv=String.fromCodePoint;Ie({target:"String",stat:!0,forced:!!Mv&&1!=Mv.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],he(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?Dv(t):Dv(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}});var Pv={fileInfoCache:{},isGoogleURL:function(e){return e.includes("googleapis")&&!e.includes("urlshortener")||this.isGoogleCloudURL(e)||this.isGoogleStorageURL(e)||this.isGoogleDrive(e)},isGoogleStorageURL:function(e){return e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")},isGoogleCloudURL:function(e){return e.startsWith("gs://")},isGoogleDrive:function(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0},setApiKey:function(e){this.apiKey=e},translateGoogleCloudURL:function(e){var t,n,r,i,a,o;return t=e.indexOf("/",5),i=e.indexOf("?"),t<0?e:(n=e.substring(5,t),a=i<0?e.substring(t+1):e.substring(t+1,i),r=encodeURIComponent(a),i>0&&(o=e.substring(i)),"https://www.googleapis.com/storage/v1/b/"+n+"/o/"+r+(o?o+"&alt=media":"?alt=media"))},addApiKey:function(e){var t=this.apiKey;if(void 0!==t&&!e.includes("key=")){var n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e},driveDownloadURL:function(e){var t=Lv(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e},getDriveFileInfo:function(e){var t=Lv(e);return om.loadJson("https://www.googleapis.com/drive/v3/files/"+t+"?supportsTeamDrives=true",Sv({}))},loadGoogleProperties:function(e){var t=this;return om.loadArrayBuffer(e).then(function(e){var n,r;n=new Qp.Gunzip(new Uint8Array(e)).decompress(),r=String.fromCharCode.apply(null,n);var i=JSON.parse(r);return t.setApiKey(i.api_key),t.properties=i,i})}};function Lv(e){var t,n;if(e.includes("/open?id=")){if(t=e.indexOf("/open?id=")+9,n=e.indexOf("&"),t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else if(e.includes("/file/d/"))return t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/"),e.substring(t,n)}var Fv={oauthTokens:{},setToken:function(e,t){t?this.oauthTokens[t]=e:this.google.access_token=e},getToken:function(e){var t;if(e){for(var n in this.oauthTokens)if(new RegExp("^"+n.split(/\*+/).map(Nv).join(".*")+"$").test(e)){t=this.oauthTokens[n];break}}else t=this.google.access_token;return t},removeToken:function(e){e?delete this.oauthTokens[e]:delete Fv.google.access_token},google:{setToken:function(e){this.access_token=e}}};function Nv(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function zv(e,t){var n=[],r=0,i=0;for(t=t||e.byteLength-18;r<t;)try{var a=new Uint8Array(e,r,18),o=a[11]<<8|a[10],s=12+o+r,c=1+(a[17]<<8|a[16])-o-19;if(e.byteLength-s<c)break;var l=new Uint8Array(e,s,c),u=new Qp.RawInflate(l),h=u.decompress();r+=u.ip+26,i+=h.byteLength,n.push(h)}catch(m){console.error(m);break}if(1===n.length)return n[0];for(var f=new Uint8Array(i),d=0,p=0;p<n.length;++p){var v=new Uint8Array(n[p]);Vv(v,0,f,d,v.length),d+=v.length}return f}function jv(e){var t=new Uint8Array(e);return t[17]<<8|t[16]+1}var Bv="function"==typeof new Uint8Array(1).subarray;function Vv(e,t,n,r,i){if(0!==i){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&i===e.length?Uv(e,n,r):Bv?Uv(e.subarray(t,t+i),n,r):1===e.BYTES_PER_ELEMENT&&i>100?Uv(new Uint8Array(e.buffer,e.byteOffset+t,i),n,r):function(e,t,n,r,i){for(var a=0;a<i;++a)n[r+a]=e[t+a]}(e,t,n,r,i)}}function Uv(e,t,n){t.set(e,n)}function Hv(e){var t,n;return e instanceof File?e.name:((t=(n=(t=e.lastIndexOf("/"))<0?e:e.substr(t+1)).indexOf("?"))>0&&(n=n.substr(0,t)),n)}function $v(e){return e instanceof File}function qv(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return n.indexOf("gzip")>0?new Qp.Gunzip(i).decompress():i}function Gv(e){for(var t=Wv,n=t.parser.loose.exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}"object"===("undefined"==typeof process?"undefined":Vn(process))&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});var Wv={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function Yv(e){return Zv.apply(this,arguments)}function Zv(){return(Zv=Hn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Promise)){e.next=7;break}return e.next=3,t;case 3:return e.abrupt("return",e.sent);case 7:if("function"!=typeof t){e.next=11;break}return e.abrupt("return",t());case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Xv,Kv={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},Qv=function(e){var t=this;this.$container=Ys("<div>",{class:"igv-alert-dialog-container"}),e.append(this.$container);var n=Ys("<div>");this.$container.append(n);var r=Ys("<div>",{id:"igv-alert-dialog-body"});this.$container.append(r),this.$body=Ys("<div>",{id:"igv-alert-dialog-body-copy"}),r.append(this.$body);var i=Ys("<div>");this.$container.append(i),this.$ok=Ys("<div>"),i.append(this.$ok),this.$ok.text("OK"),this.$ok.on("click",function(){t.$body.html(""),t.$container.hide()}),this.$container.hide()};Qv.prototype.configure=function(e){this.$body.html(e.label)},Qv.prototype.present=function(e,t){var n=this,r=e.message||e;Kv.hasOwnProperty(r)&&(r=Kv[r]),this.$body.html(r),this.$ok.on("click",function(){"function"==typeof t&&t("OK"),n.$body.html(""),n.$container.hide()}),this.$container.show()};var Jv={init:function(e){Xv||(Xv=new Qv(e))},presentAlert:function(e,t){Xv.present(e,t)}};function em(e){this.requestsPerSecond=e.requestsPerSecond,this.promiseImplementation=e.promiseImplementation||Promise,this.lastStartTime=0,this.queued=[]}em.prototype.add=function(e,t){var n=this,r=t||{};return new n.promiseImplementation(function(t,i){n.queued.push({resolve:t,reject:i,promise:e,weight:r.weight||1,signal:r.signal}),n.dequeue()})},em.prototype.addAll=function(e,t){var n=e.map((function(e){return this.add(e,t)}).bind(this));return Promise.all(n)},em.prototype.dequeue=function(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond*this.queued[0].weight+1,n=e-this.lastStartTime;n>=t?this._execute():setTimeout((function(){this.dequeue()}).bind(this),t-n)}},em.prototype._execute=function(){this.lastStartTime=new Date;var e=this.queued.shift();e.signal&&e.signal.aborted?e.reject(new DOMException("","AbortError")):e.promise().then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)})};var tm,nm,rm,im,am=new em({requestsPerSecond:10,promiseImplementation:Promise}),om={load:(tm=Hn(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},!(t instanceof Promise)){e.next=8;break}return e.next=4,t;case 4:return e.abrupt("return",this.load(e.sent,n));case 8:if("function"!=typeof t){e.next=12;break}return e.abrupt("return",this.load(t(),n));case 12:if(!(t instanceof File)){e.next=16;break}return e.abrupt("return",lm(t,n));case 16:if(!t.startsWith("data:")){e.next=20;break}return e.abrupt("return",qv(t));case 20:if(t.startsWith("https://drive.google.com")&&(t=Pv.driveDownloadURL(t)),!mm(t)){e.next=29;break}return e.next=24,gm();case 24:return n.oauthToken=e.sent,e.abrupt("return",am.add(function(){return sm(t,n)}));case 29:return e.abrupt("return",sm(t,n));case 30:case"end":return e.stop()}},e,this)})),function(e,t){return tm.apply(this,arguments)}),loadArrayBuffer:function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?lm(e,t):om.load(e,t)},loadJson:function(e,t){return"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json"),om.load(e,t).then(function(e){return e?JSON.parse(e):e})},loadString:function(e,t){return t=t||{},e instanceof File?function(e,t){var n=(t=t||{}).range?e.slice(t.range.start,t.range.start+t.range.size):e;return new Promise(function(r,i){var a=new FileReader,o=0;t.bgz||e.name.endsWith(".bgz")?o=2:e.name.endsWith(".gz")&&(o=1),a.onload=function(e){return r(0===o?a.result:vm(a.result,o))},a.onerror=function(t){i(a.error+" "+e.name,a)},0===o?a.readAsText(n):a.readAsArrayBuffer(n)})}(e,t):function(e,t){return um.apply(this,arguments)}(e,t)},startup:function(){var e=window.document.location.href;Gv(e),0!==_m||e.includes("localhost")||e.includes("127.0.0.1")||(_m++,om.load("https://data.broadinstitute.org/igv/projects/current/counter_igvjs.php?version=0").then(function(e){}).catch(function(e){}))}};function sm(e,t){return cm.apply(this,arguments)}function cm(){return(cm=Hn(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pm(t),"function"!=typeof(r=(n=n||{}).oauthToken)){e.next=7;break}r=r(),e.next=11;break;case 7:if(!(r instanceof Promise)){e.next=11;break}return e.next=10,r;case 10:r=e.sent;case 11:return r||(r=fm(t)),e.abrupt("return",new Promise(function(e,i){Pv.isGoogleURL(t)&&(t.startsWith("gs://")?t=Pv.translateGoogleCloudURL(t):Pv.isGoogleStorageURL(t)&&(t.includes("altMedia=")||(t+=t.includes("?")?"&altMedia=true":"?altMedia=true")));var a=n.headers||{};r&&dm(a,r);var o=n.range,s=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),o&&s&&!hm(t)&&(t+=t.includes("?")?"&":"?",t+="someRandomSeed="+Math.random().toString(36));var c,l=new XMLHttpRequest,u=n.sendData||n.body,h=n.responseType,f=n.contentType,d=n.mimeType;if(l.open(n.method||(u?"POST":"GET"),t),o&&l.setRequestHeader("Range","bytes="+o.start+"-"+(o.size?o.start+o.size-1:"")),f&&l.setRequestHeader("Content-Type",f),d&&l.overrideMimeType(d),h&&(l.responseType=h),a)for(var p=0,v=Object.keys(a);p<v.length;p++){var m=v[p];l.setRequestHeader(m,a[m])}!0===n.withCredentials&&(l.withCredentials=!0),l.onload=(c=Hn(regeneratorRuntime.mark(function r(i){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0===l.status||l.status>=200&&l.status<=300)){r.next=4;break}o&&206!==l.status&&0!==o.start?(l.response.length>1e5&&Jv.presentAlert("Warning: Range header ignored for URL: ".concat(t,".  This can have performance impacts.")),e(l.response.slice(o.start,o.start+o.size))):e(l.response),r.next=23;break;case 4:if("undefined"==typeof gapi||404!==l.status&&401!==l.status||!Pv.isGoogleURL(t)||n.retries){r.next=22;break}return r.prev=5,n.retries=1,r.next=9,gm();case 9:return n.oauthToken=r.sent,r.next=13,om.load(t,n);case 13:e(r.sent),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(5),g(r.t0);case 20:r.next=23;break;case 22:g(403===l.status?"Access forbidden: "+t:416===l.status?"Unsatisfiable range":l.status);case 23:case"end":return r.stop()}},r,null,[[5,17]])})),function(e){return c.apply(this,arguments)}),l.onerror=function(e){g("Error accessing resource: "+t+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){i(e)};try{l.send(u)}catch(y){i(y)}function g(e){if(!i)throw new Error(e);i(new Error(e))}}));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lm(e,t){return new Promise(function(n,r){var i=new FileReader;if(i.onload=function(e){n(i.result)},i.onerror=function(e){r(null,i)},t.range){var a=e.slice(t.range.start,t.range.start+t.range.size);"arraybuffer"===t.responseType?i.readAsArrayBuffer(a):i.readAsBinaryString(a)}else"arraybuffer"===t.responseType?i.readAsArrayBuffer(e):i.readAsBinaryString(e)})}function um(){return(um=Hn(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=n||{}).filename||Hv(t),i=3,n.bgz?i=2:r.endsWith(".gz")&&(i=1),n.responseType="arraybuffer",e.abrupt("return",om.load(t,n).then(function(e){return vm(e,i)}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hm(e){return e.indexOf("X-Amz-Signature")>-1}function fm(e){var t=Gv(e).host,n=Fv.getToken(t);return!n&&Pv.isGoogleURL(e)&&(n=Fv.google.access_token),n}function dm(e,t){return t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t),e}function pm(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Pv.driveDownloadURL(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}function vm(e,t){if(3===t&&e.byteLength>2){var n=new Uint8Array(e,0,2);31===n[0]&&139===n[1]&&(t=1)}var r;return r=1===t?new Qp.Gunzip(new Uint8Array(e)).decompress():2===t?zv(e):new Uint8Array(e),"TextDecoder"in("undefined"!=typeof self?self:"undefined"!=typeof global?global:window)?(new TextDecoder).decode(r):function(e){for(var t="",n=0;n<e.length;){var r=e[n],i=0,a=0;if(r<=127?(i=0,a=255&r):r<=223?(i=1,a=31&r):r<=239?(i=2,a=15&r):r<=244&&(i=3,a=7&r),e.length-n-i>0)for(var o=0;o<i;)a=a<<6|63&(r=e[n+o+1]),o+=1;else a=65533,i=e.length-n;t+=String.fromCodePoint(a),n+=i+1}return t}(r)}function mm(e){return e.includes("drive.google.com")||e.includes("www.googleapis.com/drive")}function gm(){return ym.apply(this,arguments)}function ym(){return(ym=Hn(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fv.google.access_token){e.next=10;break}if(!(rm&&Date.now()>rm&&im)){e.next=9;break}return t=im,e.next=5,t.reloadAuthResponse();case 5:Fv.google.access_token=(n=e.sent).access_token,rm=n.expires_at;case 9:return e.abrupt("return",Fv.google.access_token);case 10:if(!nm){e.next=12;break}return e.abrupt("return",nm);case 12:if(gapi&&gapi.auth2){e.next=14;break}throw new Error("The Google oAuth API is required but not loaded");case 14:if(gapi.auth2.getAuthInstance()){e.next=18;break}return Jv.presentAlert("Authorization is required, but Google oAuth has not been initalized.  Contact your site administrator for assistance."),e.abrupt("return",void 0);case 18:return(r=new gapi.auth2.SigninOptionsBuilder).setPrompt("select_account"),r.setScope("https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly"),nm=new Promise(function(e,t){Jv.presentAlert("Google Login required",function(){gapi.auth2.getAuthInstance().signIn(r).then(function(t){im=t;var n=t.getAuthResponse();Fv.google.setToken(n.access_token),rm=n.expires_at,e(n.access_token),nm=void 0}).catch(function(e){nm=void 0,t(e)})})}),e.abrupt("return",nm);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}var bm,_m=0,wm=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),km=function(e){"string"==typeof e.fastaURL&&e.fastaURL.startsWith("data:")?(this.file=function(e){var t,n=e.split(","),r=n[0].split(":")[1],i=n[1];i=r.indexOf("base64")>=0?atob(i):decodeURI(i),t=new Uint8Array(i.length);for(var a=0;a<i.length;a++)t[a]=i.charCodeAt(a);for(var o=new Qp.Gunzip(t).decompress(),s="",c=o.length,l=0;l<c;l++)s+=String.fromCharCode(o[l]);return s}(e.fastaURL),this.indexed=!1,this.isDataURI=!0):(this.file=e.fastaURL,this.indexed=!1!==e.indexed,this.indexed&&(this.indexFile=e.indexURL||e.indexFile||this.file+".fai")),this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={},this.config=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&!wm.has(t)&&(n[t]=e[t]);return n}(e)};function Sm(e,t,n){var r=this,i=r.interval;if(i&&i.contains(e,t,n))return Promise.resolve(c(i,t,n));var a=t,o=n;if(n-t<5e4){var s=Math.round(t+(n-t)/2);a=Math.max(0,s-25e3),o=s+25e3}return r.readSequence(e,a,o).then(function(i){return r.interval=new Iv(e,a,o,i),c(r.interval,t,n)});function c(e,t,n){return e.features?e.features.substr(t-e.start,n-t):null}}function xm(e,t,n){this.offsets[e]&&(t-=this.offsets[e],n-=this.offsets[e]);var r="";if(t<0)for(var i=t;i<Math.min(n,0);i++)r+="*";if(n<=0)return Promise.resolve(r);var a=this.sequences[e];return Math.min(n,a.length),Promise.resolve(r+a.substring(t,n))}km.prototype.init=function(){return this.indexed?this.getIndex():this.loadAll()},km.prototype.getSequence=function(e,t,n){return this.indexed?Sm.call(this,e,t,n):xm.call(this,e,t,n)},km.prototype.getIndex=function(){if(this.index)return Promise.resolve(this.index);var e=this;return om.load(e.indexFile,Sv(e.config)).then(function(t){var n=rv(t),r=n.length,i=0,a=0;for(e.index={};i<r;){var o=n[i++].split("\t");if(5===o.length){var s=o[0],c=parseInt(o[1]),l={size:c,position:parseInt(o[2]),basesPerLine:parseInt(o[3]),bytesPerLine:parseInt(o[4])};e.chromosomeNames.push(s),e.index[s]=l,e.chromosomes[s]=new Ov(s,a++,0,c)}}return e.index})},km.prototype.loadAll=function(){var e=this;return this.isDataURI?Promise.resolve(t(this.file)):om.load(e.file,Sv(e.config)).then(t);function t(t){for(var n,r,i=rv(t),a=i.length,o=0,s="",c=void 0,l=0,u=0;o<a;)if((n=i[o++].trim()).startsWith("#")||0===n.length);else if(n.startsWith(">")){s&&(e.chromosomeNames.push(r),e.sequences[r]=s,e.chromosomes[r]=new Ov(r,u++,l,l+s.length,c));var h=n.substr(1).split(/\s+/)[0].split(":");if(r=h[0],s="",l=0,c=void 0,h.length>1&&h[1].indexOf("-")>0){var f=h[1].split("-");2===f.length&&/^[0-9]+$/.test(f[0])&&/^[0-9]+$/.test(f[1]);var d=Number.parseInt(f[0]);Number.parseInt(f[1])>d&&(e.offsets[r]=l=d-1,c=h[1])}}else s+=n;s&&(e.chromosomeNames.push(r),e.sequences[r]=s,e.chromosomes[r]=new Ov(r,u++,l,l+s.length,c))}},km.prototype.readSequence=function(e,t,n){var r,i,a,o,s,c=this;return c.getIndex().then(function(){var l=c.index[e];if(l){i=Math.max(0,t),a=Math.min(l.size,n);var u=l.bytesPerLine,h=l.position;s=u-(o=l.basesPerLine);var f=Math.floor(i/o),d=Math.floor(a/o),p=h+f*u+(r=i-f*o),v=h+d*u+(a-d*o)-1-p+1;return v<=0?(console.error("No sequence for "+e+":"+t+"-"+n),""):om.load(c.file,Sv(c.config,{range:{start:p,size:v}}))}return c.interval=new Iv(e,t,n,null),null}).then(function(e){if(e){var t,n="",c=0,l=e.length;for(r>0&&(t=Math.min(a-i,o-r),n+=e.substr(c,t),c+=t+s);c<l;)t=Math.min(o,l-c),n+=e.substr(c,t),c+=t+s;return n}return null})};var Cm,Em,Rm={loadGenome:(Em=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cytobandURL,r=t.aliasURL,i=new km(t),e.next=5,i.init();case 5:if(!n){e.next=9;break}return e.next=8,Im(n,i.config);case 8:a=e.sent;case 9:if(!r){e.next=13;break}return e.next=12,Om(r,i.config);case 12:o=e.sent;case 13:return e.abrupt("return",new Am(t,i,a,o));case 14:case"end":return e.stop()}},e)})),function(e){return Em.apply(this,arguments)}),getKnownGenomes:(Cm=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t={};return e.forEach(function(e){t[e.id]=e}),bm=t,t},t=Rm.genomeList,!bm){e.next=6;break}return e.abrupt("return",bm);case 6:if(t){e.next=10;break}return e.abrupt("return",{});case 10:if("string"!=typeof t){e.next=17;break}return e.next=13,om.loadJson(t,{});case 13:return e.abrupt("return",n(e.sent));case 17:return e.abrupt("return",n(t));case 18:case"end":return e.stop()}},e)})),function(){return Cm.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.chrName.toLowerCase()}},Am=function(e,t,n,r){this.config=e,this.id=e.id,this.sequence=t,this.chromosomeNames=t.chromosomeNames,this.chromosomes=t.chromosomes,this.ideograms=n,this.wholeGenomeView=void 0===e.wholeGenomeView||e.wholeGenomeView,this.wholeGenomeView&&Object.keys(t.chromosomes).length>1?function(e,t){var n;if(t.chromosomeOrder)e.wgChromosomeNames=t.chromosomeOrder.split(",").map(function(e){return e.trim()}),n=e.wgChromosomeNames.map(function(t){return e.chromosomes[t]}).filter(function(e){return void 0!==e});else{var r=Object.keys(e.chromosomes).map(function(t){return e.chromosomes[t].bpLength}).reduce(function(e,t){return Math.max(e,t)})/50,i=(n=Object.values(e.chromosomes).filter(function(e){return e.bpLength>r})).filter(function(e){return d(e.name.replace("chr",""))}),a=n.filter(function(e){return!d(e.name.replace("chr",""))});i.sort(function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))});var o=i.map(function(e){return e.name}),s=!0,c=!1,l=void 0;try{for(var u,h=a[Symbol.iterator]();!(s=(u=h.next()).done);s=!0)o.push(u.value.name)}catch(p){c=!0,l=p}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}e.wgChromosomeNames=o}var f=n.reduce(function(e,t){return e+t.bpLength},0);function d(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:f}}(this,e):this.wgChromosomeNames=t.chromosomeNames;var i={},a=this;i.all="all",this.chromosomeNames.forEach(function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;i[t.toLowerCase()]=e,"chrM"===e&&(i.mt="chrM"),"MT"===e&&(i.chrm="MT"),i[e.toLowerCase()]=e}),r&&r.forEach(function(e){var t,n;for(n=0;n<e.length;n++)if(a.chromosomes[e[n]]){t=e[n];break}t&&e.forEach(function(e){e!==t&&(i[e.toLowerCase()]=t,i[e]=t)})}),this.chrAliasTable=i};function Tm(){var e={},t=0,n=!0,r=!1,i=void 0;try{for(var a,o=this.wgChromosomeNames[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;e[s]=Math.floor(t),t+=this.getChromosome(s).bpLength}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e}function Im(e,t){if(e.startsWith("data:")){var n=function(e){var t;if(e.startsWith("data:application/gzip;base64"))t=qv(e);else{var n,r=e.split(","),i=r[0].split(":")[1],a=r[1];a=i.indexOf("base64")>=0?atob(a):decodeURI(a),n=new Uint8Array(a.length);for(var o=0;o<a.length;o++)n[o]=a.charCodeAt(o);t=new Qp.Gunzip(n).decompress()}for(var s="",c=t.length,l=0;l<c;l++)s+=String.fromCharCode(t[l]);return s}(e);return Promise.resolve(r(n))}return om.loadString(e,Sv(t)).then(function(e){return r(e)});function r(e){for(var t,n=[],r=0,i=rv(e),a=i.length,o={},s=0;s<a;s++){var c=i[s].split("\t"),l=c[0];if(t||(t=l),l!==t&&(o[t]=n,n=[],t=l,r=0),5===c.length){var u=parseInt(c[1]),h=parseInt(c[2]);n[r++]=new Tv(u,h,c[3],c[4])}}return o}}function Om(e,t){return om.loadString(e,Sv(t)).then(function(e){var t=rv(e),n=[];return t.forEach(function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))}),n})}Am.prototype.showWholeGenomeView=function(){return!1!==this.config.wholeGenomeView},Am.prototype.toJSON=function(){return Object.assign({},this.config,{tracks:void 0})},Am.prototype.getInitialLocus=function(){},Am.prototype.getHomeChromosomeName=function(){if(this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all"))return"all";var e=this.chromosomes[this.chromosomeNames[0]];return e.rangeLocus?e.name+":"+e.rangeLocus:this.chromosomeNames[0]},Am.prototype.getChromosomeName=function(e){return this.chrAliasTable[e.toLowerCase()]||e},Am.prototype.getChromosome=function(e){return e=this.getChromosomeName(e),this.chromosomes[e]},Am.prototype.getCytobands=function(e){return this.ideograms?this.ideograms[e]:null},Am.prototype.getLongestChromosome=function(){var e,t=this.chromosomes;for(var n in t){if(t.hasOwnProperty(n)){var r=t[n];(void 0===e||r.bpLength>e.bpLength)&&(e=r)}return e}},Am.prototype.getChromosomes=function(){return this.chromosomes},Am.prototype.getGenomeCoordinate=function(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t},Am.prototype.getChromosomeCoordinate=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Tm.call(this));var t=void 0,n=0,r=!0,i=!1,a=void 0;try{for(var o,s=this.wgChromosomeNames[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=this.cumulativeOffsets[c];if(l>e)return{chr:t,position:e-n};t=c,n=l}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}},Am.prototype.getCumulativeOffset=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Tm.call(this));var t=this.getChromosomeName(e);return this.cumulativeOffsets[t]},Am.prototype.getGenomeLength=function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach(function(n){t+=e.chromosomes[n].bpLength}),this.bpLength=t}return this.bpLength};var Dm=function(){function e(t,n,r,i){$n(this,e);var a=this;this.guid=hv(),this.trackView=t,this.genomicState=r,this.browser=t.browser,this.$viewport=Ys('<div class="igv-viewport-div">'),n.append(this.$viewport),this.$viewport.data("viewportGUID",this.guid);var o=Ys("<div>",{class:"igv-viewport-content-div"});this.$viewport.append(o),o.height(this.$viewport.height()),this.contentDiv=o.get(0);var s=Ys("<canvas>");if(Ys(this.contentDiv).append(s),this.canvas=s.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(i),"sequence"===t.track.type&&this.$viewport.addClass("igv-viewport-sequence"),"ruler"===t.track.type)this.rulerSweeper=new Rv(this),t.track.appendMultiPanelCloseButton(this.$viewport,this.genomicState),this.$rulerLabel=Ys('<div class = "igv-multi-locus-panel-label-div">'),this.$rulerLabel.click(function(e){a.browser.selectMultiLocusPanelWithGenomicState(a.genomicState)}),Ys(this.contentDiv).append(this.$rulerLabel),!0===Rm.isWholeGenomeView(this.genomicState.referenceFrame)?Fm.call(this):Nm.call(this);else if(Bm.call(this),this.$spinner=Ys('<div class="igv-viewport-spinner">'),this.$spinner.append(Cf("spinner")),this.$viewport.append(this.$spinner),this.stopSpinner(),"sequence"!==t.track.type){this.popover=new dv(this.browser.$content);var c=t.track.name.toLowerCase().split(" ").join("_");c=c+"_"+this.browser.genomicStateList.indexOf(this.genomicState),this.popover.$popover.attr("id",c),this.$zoomInNotice=Mm.call(this,Ys(this.contentDiv))}t.track.name&&(this.$trackLabel=Ys('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(t.track.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide(),this.$trackLabel.click(function(e){var n;e.stopPropagation(),n="function"==typeof t.track.description?t.track.description():t.track.description?t.track.description:t.track.name;var r=lv(e);a.popover.presentTrackContent(r.x,r.y,n)}),this.$trackLabel.mousedown(function(e){e.stopPropagation()}),this.$trackLabel.mouseup(function(e){e.stopPropagation()}),this.$trackLabel.mousemove(function(e){e.stopPropagation()}))}var t,n,r,i,a;return Gn(e,[{key:"isVisible",value:function(){return this.$viewport.width()}},{key:"setTrackLabel",value:function(e){this.trackView.track.name=this.trackView.track.config.name=e,this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}},{key:"setWidth",value:function(e){this.$viewport.outerWidth(e),this.canvas.style.width=this.$viewport.width()+"px",this.canvas.setAttribute("width",this.$viewport.width())}},{key:"startSpinner",value:function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())}},{key:"stopSpinner",value:function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))}},{key:"showMessage",value:function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}},{key:"hideMessage",value:function(e){this.messageDiv&&(this.messageDiv.style.display="none")}},{key:"checkZoomIn",value:function(){return!(!Lm.call(this)||this.$zoomInNotice&&((function(){var e=this.genomicState.referenceFrame;if("all"!==e.chrName.toLowerCase()||this.trackView.track.supportsWholeGenome()){var t="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return void 0!==t&&t>0&&e.bpPerPixel*this.$viewport.width()>t}return!0}).call(this)?(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight&&this.setContentHeight(this.trackView.minHeight||0),1):(this.$zoomInNotice.hide(),0)))}},{key:"shift",value:function(){var e=this.genomicState.referenceFrame;if(this.canvas&&this.tile&&this.tile.chr===e.chrName&&this.tile.bpPerPixel===e.bpPerPixel){var t=Math.round((this.tile.startBP-e.start)/e.bpPerPixel);this.canvas.style.left=t+"px"}}},{key:"setTop",value:function(e){var t=-e,n=t+this.$viewport.height();Ys(this.contentDiv).css("top",e+"px"),(!this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}},{key:"loadFeatures",value:(a=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,h,f,d,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.browser.genome.getChromosome((t=this.genomicState.referenceFrame).chrName).bpLength,r=3*Ys(this.contentDiv).width(),i=r*t.bpPerPixel,a=Math.floor(Math.max(0,t.start-i/3)),o=Math.ceil(Math.min(n,a+i)),!this.loading||this.loading.start!==a||this.loading.end!==o){e.next=10;break}return e.abrupt("return",void 0);case 10:return this.loadingNews={start:a,end:o},this.startSpinner(),e.prev=12,e.next=15,this.getFeatures(this.trackView.track,t.chrName,a,o,t.bpPerPixel);case 15:if(s=e.sent,c=[],g=this.trackView.track.roi,!(l=(m=this.browser.roi)&&g?m.concat(g):m||g)){e.next=47;break}u=!0,h=!1,f=void 0,e.prev=22,d=l[Symbol.iterator]();case 24:if(u=(p=d.next()).done){e.next=33;break}return v=p.value,e.next=28,v.getFeatures(t.chrName,a,o,t.bpPerPixel);case 28:c.push({track:v,features:e.sent});case 30:u=!0,e.next=24;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(22),h=!0,f=e.t0;case 39:e.prev=39,e.prev=40,u||null==d.return||d.return();case 42:if(e.prev=42,!h){e.next=45;break}throw f;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return this.tile=new jm(t.chrName,a,o,t.bpPerPixel,s,c),this.loadingNews=!1,this.hideMessage(),this.stopSpinner(),e.abrupt("return",this.tile);case 54:e.prev=54,e.t1=e.catch(12),this.showMessage("Error loading track data"),console.error(e.t1);case 58:return e.prev=58,this.loadingNews=!1,this.stopSpinner(),e.finish(58);case 62:case"end":return e.stop()}var m,g},e,this,[[12,54,58,62],[22,35,39,47],[40,,42,46]])})),function(){return a.apply(this,arguments)})},{key:"repaint",value:(i=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=this.tile){e.next=4;break}return e.abrupt("return");case 4:if(r=Rm.isWholeGenomeView(this.genomicState.referenceFrame),i=n.features,a=n.roiFeatures,s=(o=this.genomicState).referenceFrame,c=r?s.initialEnd/this.$viewport.width():n.bpPerPixel,l=r?0:n.startBP,u=r?s.initialEnd:n.endBP,h=r?this.$viewport.width():Math.ceil((u-l)/c),f=this.$viewport.height(),d=Math.min(t.getContentHeight(),3*f),0!==h&&0!==d){e.next=18;break}return t.canvas&&Ys(t.canvas).remove(),e.abrupt("return");case 18:p=Math.max(0,-Ys(this.contentDiv).position().top-f),v="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,m={features:i,pixelWidth:h,pixelHeight:d,pixelTop:p,bpStart:l,bpEnd:u,bpPerPixel:c,referenceFrame:s,genomicState:o,selection:t.selection,viewport:t,viewportWidth:t.$viewport.width(),viewportContainerX:s.toPixels(s.start-l),viewportContainerWidth:this.browser.viewportContainerWidth()},(g=Ys("<canvas>").get(0)).style.width=h+"px",g.style.height=d+"px",g.width=v*h,g.height=v*d,(y=g.getContext("2d")).scale(v,v),b=Math.round((l-s.start)/s.bpPerPixel),g.style.position="absolute",g.style.left=b+"px",g.style.top=p+"px",m.context=y,y.translate(0,-p),this.draw(m,i,a),this.canvasVerticalRange={top:p,bottom:p+d},t.canvas&&Ys(t.canvas).remove(),Ys(t.contentDiv).append(g),t.canvas=g,t.ctx=y;case 40:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"draw",value:function(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;e.features=c.features,c.track.draw(e)}}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}},{key:"toSVG",value:(r=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,u,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return n=this.genomicState.referenceFrame,r=t.bpPerPixel,i=t.features,a=t.roiFeatures,o=this.$viewport.width(),s=this.$viewport.height(),c=n.start,l=n.start+o*n.bpPerPixel,u=new ef({width:o,height:s,viewbox:{x:0,y:-Ys(this.contentDiv).position().top,width:o,height:s}}),h={viewport:this,context:u,top:-Ys(this.contentDiv).position().top,pixelTop:0,pixelWidth:o,pixelHeight:s,bpStart:c,bpEnd:l,bpPerPixel:r,referenceFrame:n,genomicState:this.genomicState,selection:this.selection,viewportWidth:o,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},Pm.call(this,h,i,a),e.abrupt("return",u.getSerializedSvg(!0));case 15:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"setContentHeight",value:function(e){e=Math.min(e,32e3),Ys(this.contentDiv).height(e),this.tile&&(this.tile.invalidate=!0)}},{key:"getContentHeight",value:function(){return Ys(this.contentDiv).height()}},{key:"getContentTop",value:function(){return this.contentDiv.offsetTop}},{key:"isLoading",value:function(){return this.loading}},{key:"saveImage",value:function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,i=-Ys(this.canvas).position().left*t,a=(-Ys(this.contentDiv).position().top-e)*t,o=this.ctx.getImageData(i,a,n,r),s=document.createElement("canvas"),c=s.getContext("2d");s.width=o.width,s.height=o.height,c.putImageData(o,0,0),xv((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}}},{key:"renderSVGContext",value:(n=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c,l,u,h,f,d,p,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:r=(r=this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),i=this.browser.genomicStateList.indexOf(this.genomicState),a=r.toLowerCase()+"_genomic_state_index_"+i,0===i&&"function"==typeof this.trackView.track.paintAxis&&(o=this.trackView.controlCanvas.getBoundingClientRect(),t.addTrackGroupWithTranslationAndClipRect(a+"_axis",n.deltaX-o.width,n.deltaY,o.width,o.height,0),t.save(),this.trackView.track.paintAxis(t,o.width,o.height),t.restore()),s=Ys(this.contentDiv).position().top,c=n.deltaX+i*t.multiLocusGap,l=n.deltaY+s,u=this.$viewport.get(0).getBoundingClientRect(),t.addTrackGroupWithTranslationAndClipRect(a,c,l,h=u.width,f=u.height,-s),p=(d=this.genomicState.referenceFrame).start,v=d.bpPerPixel,t.save(),m={context:t,viewport:this,referenceFrame:d,genomicState:this.genomicState,pixelWidth:h,pixelHeight:f,viewportWidth:h,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth(),bpStart:p,bpEnd:p+h*v,bpPerPixel:v,selection:this.selection},Pm.call(this,m,this.tile?this.tile.features:[],this.tile?this.tile.roiFeatures:void 0),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&zm.call(this,t),t.restore();case 21:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"saveSVG",value:function(){var e=this.$viewport.width(),t=this.$viewport.height(),n=new ef({width:e,height:t,viewbox:{x:0,y:-Ys(this.contentDiv).position().top,width:e,height:t}}),r=this.genomicState.referenceFrame,i=r.start,a=r.bpPerPixel,o={viewport:this,context:n,top:-Ys(this.contentDiv).position().top,pixelTop:0,pixelWidth:e,pixelHeight:t,bpStart:i,bpEnd:i+e*a,bpPerPixel:a,referenceFrame:this.genomicState.referenceFrame,genomicState:this.genomicState,selection:this.selection,viewportWidth:e,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()};Pm.call(this,o,this.tile.features),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&zm.call(this,n);var s=o.context.getSerializedSvg(!0),c=URL.createObjectURL(new Blob([s],{type:"application/octet-stream"}));xv((this.$trackLabel?this.$trackLabel.text():this.trackView.track.id)+".svg",c)}},{key:"dispose",value:function(){var e=this;this.popover&&(this.popover.$popover.off(),this.popover.$popover.empty(),this.popover.$popover.remove()),Ys(this.canvas).off(),Ys(this.canvas).empty(),Ys(this.contentDiv).off(),Ys(this.contentDiv).empty(),this.$viewport.off(),this.$viewport.empty(),Object.keys(this).forEach(function(t,n,r){e[t]=void 0})}},{key:"getCachedFeatures",value:function(){return this.tile?this.tile.features:[]}},{key:"checkContentHeight",value:function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t){var n=e.computePixelHeight(t);n!==Ys(this.contentDiv).height()&&this.setContentHeight(n)}}}},{key:"getFeatures",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r,i,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tile||!this.tile.containsRange(n,r,i,a)){e.next=4;break}return e.abrupt("return",this.tile.features);case 4:if("function"!=typeof t.getFeatures){e.next=13;break}return e.next=7,t.getFeatures(n,r,i,a,this);case 7:return this.cachedFeatures=o=e.sent,this.checkContentHeight(),e.abrupt("return",o);case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}},e,this)})),function(e,n,r,i,a){return t.apply(this,arguments)})}]),e}();function Mm(e){var t=Ys('<div class="zoom-in-notice-container">');e.append(t);var n=Ys("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}function Pm(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;e.features=c.features,c.track.draw(e)}}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}function Lm(){return this.browser&&this.browser.genomicStateList&&this.genomicState.referenceFrame}function Fm(){var e=this.browser.genomicStateList.indexOf(this.genomicState),t=this;this.$viewport.on("click.ruler_track_viewport_"+e,function(e){var n,r=uv(e,t.$viewport.get(0)).x,i=Math.round(t.genomicState.referenceFrame.start+t.genomicState.referenceFrame.toBP(r));if(1===t.browser.genomicStateList.length)n=t.browser.genome.getChromosomeCoordinate(i).chr;else{var a=t.browser.genomicStateList.map(function(e){return e.locusSearchString});a[t.browser.genomicStateList.indexOf(t.genomicState)]=t.browser.genome.getChromosomeCoordinate(i).chr,n=a.join(" ")}t.browser.search(n)})}function Nm(){var e=this.browser.genomicStateList.indexOf(this.genomicState);this.$viewport.off(".ruler_track_viewport_"+e)}function zm(e){var t,n,r,i,a,o,s=(t=this.$viewport.get(0),n=this.$trackLabel.get(0),i=(r=t.getBoundingClientRect()).x,a=r.y,{x:(o=n.getBoundingClientRect()).x-i,y:o.y-a,width:o.width,height:o.height}),c=s.x,l=s.y,u=s.width,h=s.height,f=e.measureText(this.$trackLabel.text()).width;e.fillStyle="white",e.fillRect(c,l,u,h),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var d=.25*(u-f),p=.7*(h-12);e.fillText(this.$trackLabel.text(),c+d,l+h-p),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(c,l,u,h)}var jm=function(e,t,n,r,i,a){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=i,this.roiFeatures=a};function Bm(){var e,t=this,n=this.browser,r=0;function i(e){if(t.browser.dragObject||t.browser.isScrolling)return t.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),void(t.enableClick=!1);t.browser.cancelTrackPan(),t.browser.endTrackDrag()}function a(e,t){var n=t.genomicState.referenceFrame,r=uv(e,t.contentDiv),i=uv(e,t.canvas),a=n.start+n.toBP(r.x);if(void 0!==a&&null!==t.tile)return{viewport:t,referenceFrame:n,genomicLocation:a,x:r.x,y:r.y,canvasX:i.x,canvasY:i.y}}this.$viewport.on("contextmenu",function(e){if(t.browser.dragObject)return!1;var n=a(e,t);if(void 0===n)return!1;e.preventDefault();var r=[];"function"==typeof t.trackView.track.contextMenuItemList&&(r=t.trackView.track.contextMenuItemList(n)),r.length>0&&r.push({label:Ys("<HR>")}),r.push({label:"Save Image (PNG)",click:function(){t.saveImage()}}),r.push({label:"Save Image (SVG)",click:function(){t.saveSVG()}}),t.popover&&t.popover.presentTrackContextMenu(e,r)}),this.$viewport.on("mousedown",function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),lv(e)}),this.$viewport.on("touchstart",function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),lv(e)}),this.$viewport.on("mouseup",i),this.$viewport.on("touchend",i),this.$viewport.on("click",function(i){t.enableClick&&function(i){if(3!==i.which&&!i.ctrlKey&&(Ys(".igv-popover").hide(),!n.dragObject&&!n.isScrolling)){i.preventDefault(),i.stopPropagation();var o=uv(i,t.$viewport.get(0)).x,s=uv(i,t.canvas).x,c=t.genomicState.referenceFrame,l=Math.floor(c.start+c.toBP(s)),u=Date.now();if(u-r<n.constants.doubleClickDelay){e&&(window.clearTimeout(e),e=void 0);var h,f=Math.round(c.start+c.toBP(o));if("all"===c.chrName.toLowerCase()){var d=n.genome.getChromosomeCoordinate(f).chr;if(1===n.genomicStateList.length)h=d;else{var p=n.genomicStateList.map(function(e){return e.locusSearchString});p[n.genomicStateList.indexOf(t.genomicState)]=d,h=p.join(" ")}n.search(h)}else n.zoomWithScaleFactor(.5,f,t)}else i.shiftKey&&"function"==typeof t.trackView.track.shiftClick?t.trackView.track.shiftClick(l,i):"function"==typeof t.trackView.track.popupData&&(e=setTimeout(function(){var r=function(e,t){var r=a(e,t);if(void 0!==r){var i,o,s=t.trackView.track,c=s.popupData(r),l=n.fireEvent("trackclick",[s,c]);return void 0===l||!0===l?c&&c.length>0&&(o='<table class="igv-popover-table">',c.forEach(function(e){o+=e.name?'<tr><td class="igv-popover-td"><div class="igv-popover-name-value"><span class="igv-popover-name">'+e.name+'</span><span class="igv-popover-value">'+e.value+"</span></div></td></tr>":"<tr><td>"+e.toString()+"</td></tr>"}),i=o+="</table>"):"string"==typeof l&&(i=l),i}}(i,t);if(r){var o=lv(i);t.popover.presentTrackContent(o.x,o.y,r)}clearTimeout(e),e=void 0},n.constants.doubleClickDelay));r=u}}(i)})}jm.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},jm.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};var Vm={color:1};Vm.parent=Vm,Vm.left=Vm,Vm.right=Vm;var Um=function(){this.root=Vm};function Hm(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==Vm&&t.left.max>=e.low&&Hm.call(this,e,t.left,n),t.right!==Vm&&t.right.min<=e.high&&Hm.call(this,e,t.right,n),n}function $m(e){var t=e.right;e.right=t.left,t.left!==Vm&&(t.left.parent=e),t.parent=e.parent,e.parent===Vm?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Gm.call(this,e)}function qm(e){var t=e.left;e.left=t.right,t.right!==Vm&&(t.right.parent=e),t.parent=e.parent,e.parent===Vm?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Gm.call(this,e)}function Gm(e){for(;e!==Vm;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,i=e.interval.low;e.min=r<i?r:i,e=e.parent}}function Wm(e,t,n){this.low=e,this.high=t,this.value=n}function Ym(e){this.parent=Vm,this.left=Vm,this.right=Vm,this.interval=e,this.color=2}Um.prototype.insert=function(e,t,n){var r=new Ym(new Wm(e,t,n));for(this.treeInsert(r),r.color=2;r!==this.root&&2===r.parent.color;)if(r.parent===r.parent.parent.left){var i=r.parent.parent.right;2===i.color?(r.parent.color=1,i.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.right&&$m.call(this,r=r.parent),r.parent.color=1,r.parent.parent.color=2,qm.call(this,r.parent.parent))}else{var a=r.parent.parent.left;2===a.color?(r.parent.color=1,a.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.left&&qm.call(this,r=r.parent),r.parent.color=1,r.parent.parent.color=2,$m.call(this,r.parent.parent))}this.root.color=1},Um.prototype.findOverlapping=function(e,t){var n=new Wm(e,t,0);if(this.root===Vm)return[];var r=Hm.call(this,n,this.root,[]);return r.length>1&&r.sort(function(e,t){return e.low-t.low}),r},Um.prototype.logIntervals=function(){!function e(t,n){t.left!==Vm&&e(t.left),t.right!==Vm&&e(t.right)}(this.root)},Um.prototype.mapIntervals=function(e){!function t(n){e(n.interval),n.left!==Vm&&t(n.left),n.right!==Vm&&t(n.right)}(this.root)},Um.prototype.treeInsert=function(e){for(var t=this.root,n=Vm;t!==Vm;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===Vm?(this.root=e,e.left=e.right=Vm):e.interval.low<=n.interval.low?n.left=e:n.right=e,Gm.call(this,e)},Wm.prototype.equals=function(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)},Wm.prototype.compareTo=function(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0},Wm.prototype.overlaps=function(e){try{return this.low<=e.high&&e.low<=this.high}catch(t){Jv.presentAlert(t,void 0)}};var Zm=function(e,t,n){if(e&&0!==e.length){var r=function(e){var t=new Um,n=e.length,r=Math.max(10,Math.round(n/100));e.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1});for(var i=function(i){var a=Math.min(n,i+r),o=e.slice(i,a),s=o[0].start,c=s;o.forEach(function(e){c=Math.max(c,e.end)}),t.insert(s,c,o)},a=0;a<n;a+=r)i(a);return t}(e).findOverlapping(t,n);return 0===r.length?[]:(e=[],r.forEach(function(r){for(var i=r.value,a=i.length,o=0;o<a;o++){var s=i[o];if(s.start>n)break;s.end>t&&e.push(s)}}),e.sort(function(e,t){return e.start-t.start}),e)}return[]},Xm=Math.log,Km=Math.LOG10E;Ie({target:"Math",stat:!0},{log10:function(e){return Xm(e)*Km}});var Qm={setProperties:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},strokeLine:function(e,t,n,r,i,a){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,i=Math.floor(i)+.5,a&&(e.save(),Qm.setProperties(e,a)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),a&&e.restore()},fillRect:function(e,t,n,r,i,a){t=Math.round(t),n=Math.round(n),a&&(e.save(),Qm.setProperties(e,a)),e.fillRect(t,n,r,i),a&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),Qm.setProperties(e,r)),Jm(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),Qm.setProperties(e,r)),Jm(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,i,a){if((i||a)&&e.save(),i&&Qm.setProperties(e,i),a){for(var o in e.translate(n,r),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(i||a)&&e.restore()},strokeText:function(e,t,n,r,i,a){if((i||a)&&e.save(),i&&Qm.setProperties(e,i),a){for(var o in e.translate(n,r),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(i||a)&&e.restore()},strokeCircle:function(e,t,n,r,i){i&&(e.save(),Qm.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke(),i&&e.restore()},fillCircle:function(e,t,n,r,i){i&&(e.save(),Qm.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.restore()},drawArrowhead:function(e,t,n,r,i){e.save(),r||(r=5),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===a&&(a=2),e.setLineDash([a,a]),Qm.strokeLine(e,t,n,r,i,o),e.setLineDash([])},roundRect:function(e,t,n,r,i,a,o,s){void 0===s&&(s=!0),void 0===a&&(a=5),e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),s&&e.stroke(),o&&e.fill()},polygon:function(e,t,n,r,i){void 0===i&&(i=!0),e.beginPath();var a=t.length;e.moveTo(t[0],n[0]);for(var o=1;o<a;o++)e.lineTo(t[o],n[o]);e.closePath(),i&&e.stroke(),r&&e.fill()}};function Jm(e,t,n){var r,i=t.length;for(r=0;r<i;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<i;r++)e.lineTo(t[r],n[r]);e.closePath()}var eg=function(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=-Number.MAX_SAFE_INTEGER,this.removable=!1,this.type="ruler"};function tg(e){e.context.save(),Qm.fillRect(e.context,0,0,e.pixelWidth,e.pixelHeight,{fillStyle:"white"});var t=e.pixelHeight,n=!0,r=!1,i=void 0;try{for(var a,o=this.browser.genome.wgChromosomeNames[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=this.browser.genome.getCumulativeOffset(s),l=this.browser.genome.getChromosome(s).bpLength,u=Math.round(c/e.bpPerPixel),h=Math.round(l/e.bpPerPixel);ng.call(this,e.context,u,0,h,t,s)}}catch(f){r=!0,i=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e.context.restore()}function ng(e,t,n,r,i,a){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",Qm.strokeLine(e,t+r,n,t+r,n+i,{strokeStyle:ov.greyScale(191)});var o=a.startsWith("chr")?a.substring(3):a;r>e.measureText(o).width&&Qm.fillText(e,o,t+r/2,n+i/2,{fillStyle:ov.greyScale(68)})}eg.prototype.updateLocusLabel=function(){this.trackView.viewports.forEach(function(e){var t;t=e.genomicState.referenceFrame.showLocus(e.$viewport.width()),e.$rulerLabel.text(t)})},eg.prototype.appendMultiPanelCloseButton=function(e,t){var n,r=this.browser;e.addClass("igv-viewport-ruler"),n=Ys('<div class="igv-multi-locus-panel-close-container">'),e.append(n),n.append(Cf("times-circle")),n.click(function(e){r.removeMultiLocusPanelWithGenomicState(t,!0)})},eg.prototype.getFeatures=function(e,t,n){return Promise.resolve([])},eg.prototype.computePixelHeight=function(e){return this.height},eg.prototype.draw=function(e){if(Rm.isWholeGenomeView(e.referenceFrame))e.viewport.rulerSweeper.disableMouseHandlers(),tg.call(this,e);else{e.viewport.rulerSweeper.addMouseHandlers();var t=1+Math.floor(e.referenceFrame.toBP(e.pixelWidth));new rg(t,e).drawTicks(e,6,2,this.height),Qm.strokeLine(e.context,0,this.height-2,e.pixelWidth,this.height-2)}},eg.prototype.supportsWholeGenome=function(){return!0},eg.prototype.dispose=function(){};var rg=function(e,t){function n(e,t,n,r){this.majorTick=!0===r?2*e:e,this.majorUnit=t,this.halfTick=e/2,this.unitMultiplier=n}(function(e,t){var r,i,a,o,s=t.context.isSVG||!1;e<10&&n.call(this,1,"bp",1,s),(r=Math.floor(Math.log10(e)))>9?(i="gb",a=1e9):r>6?(i="mb",a=1e6):r>3?(i="kb",a=1e3):(i="bp",a=1),o=nv(Math.floor(e/a))+" "+i,this.labelWidthBP=Math.round(t.referenceFrame.toBP(t.context.measureText(o).width)),e/Math.pow(10,r-1)<25?n.call(this,Math.pow(10,r-1),i,a,s):n.call(this,Math.pow(10,r)/2,i,a,s)}).call(this,e,t)};rg.prototype.drawTicks=function(e,t,n,r){var i,a,o,s,c,l,u;for(i=Math.floor(e.bpStart/this.majorTick)-1,c=0,l=0,o=0;o<e.pixelWidth;)a=Math.floor(i*this.majorTick),o=Math.round(e.referenceFrame.toPixels(a-1-e.bpStart+.5)),s=nv(Math.floor(a/this.unitMultiplier))+" "+this.majorUnit,c=e.context.measureText(s).width,l=Math.round(o-c/2),Qm.fillText(e.context,s,l,r-t/.75),Qm.strokeLine(e.context,o,r-t,o,r-n),++i;for(i=Math.floor(e.bpStart/this.halfTick)-1,o=0;o<e.pixelWidth;)a=Math.floor(i*this.halfTick),o=Math.round(e.referenceFrame.toPixels(a-1-e.bpStart+.5)),(u=a/this.unitMultiplier)===Math.floor(u)&&this.majorTick/this.labelWidthBP>8&&(s=nv(Math.floor(u))+" "+this.majorUnit,c=e.context.measureText(s).width,Qm.fillText(e.context,s,l=o-c/2,r-t/.75)),Qm.strokeLine(e.context,o,r-t,o,r-n),++i},rg.prototype.description=function(e){};var ig=yf.trackMenuItemListHelper,ag=function(e){this.$popover=Ys("<div>",{class:"igv-trackgear-popover"}),e.append(this.$popover);var t=Ys("<div>",{class:"igv-trackgear-popover-header"});this.$popover.append(t);var n=this;sv(t,function(){n.$popover.hide()}),this.$popoverContent=Ys("<div>"),this.$popover.append(this.$popoverContent),tf(this.$popover.get(0),t.get(0)),t.on("click.track_gear_popover",function(e){e.stopPropagation(),e.preventDefault()})};ag.prototype.presentMenuList=function(e,t,n){if(n.length>0){this.$popoverContent.empty(),n=ig(n,this.$popover);var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;c.init&&c.init();var l=c.object;0===n.indexOf(c)&&l.removeClass("igv-track-menu-border-top"),l.hasClass("igv-track-menu-border-top")||l.hasClass("igv-trackgear-popover-check-container")||l.is("div")&&l.addClass("igv-trackgear-popover-shim"),this.$popoverContent.append(l)}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}this.$popover.css({left:e+"px",top:t+"px"}),this.$popover.show()}},ag.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach(function(e){this[e]=void 0})};var og,sg,cg=function(e){var t,n=e.$parent,r=e.width,i=e.height,a=e.closeHandler;this.namespace=".generic_container_"+hv();var o=Ys("<div>",{class:"igv-generic-container"});n.append(o),this.$container=o,r&&this.$container.width(r),i&&this.$container.height(i);var s=n.get(0).getBoundingClientRect();this.origin={x:s.x,y:s.y},this.$container.offset({left:this.origin.x,top:this.origin.y}),t=Ys("<div>"),this.$container.append(t);var c=Ys("<i>");t.append(c),c.append(Cf("times")),c.on("mousedown"+this.namespace,function(e){e.stopPropagation()}),c.on("mouseup"+this.namespace,function(e){e.stopPropagation()}),c.on("click"+this.namespace,function(e){e.preventDefault(),e.stopPropagation(),a(e)}),c.on("touchend"+this.namespace,function(e){e.preventDefault(),e.stopPropagation(),a(e)}),tf(this.$container.get(0),t.get(0))},lg=function(e,t,n){var r,i,a=this;this.browser=e,this.track=n,n.trackView=this,i=Ys('<div class="igv-track-div">'),this.trackDiv=i.get(0),t.append(i),this.namespace=".trackview_"+hv(),this.track instanceof eg&&(this.trackDiv.dataset.rulerTrack="rulerTrack"),n.height&&(this.trackDiv.style.height=n.height+"px"),this.appendLeftHandGutter(Ys(this.trackDiv)),this.$viewportContainer=Ys('<div class="igv-viewport-container">'),Ys(this.trackDiv).append(this.$viewportContainer),this.viewports=[],r=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,e.genomicStateList.forEach(function(e){var t;t=new Dm(a,a.$viewportContainer,e,r),a.viewports.push(t)}),this.decorateViewports(),this.configureViewportContainer(this.$viewportContainer,this.viewports),!0===this.track.ignoreTrackMenu||this.appendRightHandGutter(Ys(this.trackDiv)),this.track instanceof eg||fg.call(this,Ys(this.trackDiv),this.$viewportContainer),"sequence"===this.track.type||this.track instanceof eg||this.createColorPicker()};function ug(e){var t=Ys("<div>",{class:"igv-trackgear-container"});e.append(t),t.append(Cf("cog")),this.trackGearPopover=new ag(e),this.trackGearPopover.$popover.hide();var n=this;t.click(function(e){e.preventDefault(),e.stopPropagation(),n.trackGearPopover.presentMenuList(-n.trackGearPopover.$popover.width(),0,yf.trackMenuItemList(n))})}function hg(e,t){var n=window.devicePixelRatio;if(this.leftHandGutter){this.controlCanvas&&Ys(this.controlCanvas).remove();var r=Ys('<canvas class ="igv-track-control-canvas">');this.controlCanvas=r[0],Ys(this.leftHandGutter).append(r),this.controlCanvas.height=n*t,this.controlCanvas.width=n*e,this.controlCanvas.style.height=t+"px",this.controlCanvas.style.width=e+"px",this.controlCtx=this.controlCanvas.getContext("2d"),this.controlCtx.scale(n,n)}}function fg(e,t){var n=this,r=this.browser;this.$trackDragScrim=Ys('<div class="igv-track-drag-scrim">'),t.append(this.$trackDragScrim),this.$trackDragScrim.hide(),n.$trackManipulationHandle=Ys('<div class="igv-track-manipulation-handle">'),e.append(n.$trackManipulationHandle),n.$trackManipulationHandle.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.show(),r.startTrackDrag(n)}),n.$trackManipulationHandle.on("mouseup",function(e){e.preventDefault(),e.stopPropagation(),r.endTrackDrag(),n.$trackDragScrim.hide()}),e.on("mouseenter",function(e){r.dragTrack&&(e.preventDefault(),e.stopPropagation(),r.updateTrackDrag(n))}),n.$trackManipulationHandle.on("mouseleave",function(e){r.dragTrack||(e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.hide())})}function dg(e){return this.viewports.filter(function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.genomicState.referenceFrame,r=n.chrName,i=n.start,a=i+n.toBP(Ys(t.contentDiv).width());return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,i,a,n.bpPerPixel)}return!1})}function pg(){var e,t=this.maxContentHeight();if(this.track.autoHeight?this.setTrackHeight(t,!1):this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ys(this.controlCanvas).width(),Ys(this.controlCanvas).height()),this.scrollbar){var n=this.viewports[0].getContentTop(),r=Math.min(0,this.$viewportContainer.height()-(e=this.viewports.map(function(e){return e.getContentHeight()}),Math.min.apply(Math,tr(e))));n<r&&this.viewports.forEach(function(e){Ys(e.contentDiv).css("top",r+"px")}),this.scrollbar.update()}}function vg(e){var t=e.map(function(e){return e.getContentHeight()});return Math.max.apply(Math,tr(t))}lg.prototype.renderSVGContext=function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.viewports[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=s.browser.genomicStateList.indexOf(s.genomicState),l=s.$viewport.get(0).getBoundingClientRect(),u={deltaX:t.deltaX+c*s.$viewport.width(),deltaY:t.deltaY+l.y};s.renderSVGContext(e,u)}}catch(h){r=!0,i=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},lg.prototype.configureViewportContainer=function(e,t){return"hidden"===e.css("overflow-y")&&(this.scrollbar=new mg(e,t,this.browser.$root),e.append(this.scrollbar.$outerScroll)),e},lg.prototype.removeViewportWithLocusIndex=function(e){this.viewports[e].$viewport.remove(),this.viewports.splice(e,1),this.decorateViewports()},lg.prototype.decorateViewports=function(){var e=this;this.viewports.forEach(function(t,n){var r;r=t.$viewport,e.viewports.length>1?(r.find(".igv-multi-locus-panel-close-container").show(),r.find(".igv-multi-locus-panel-label-div").show()):(r.find(".igv-multi-locus-panel-close-container").hide(),r.find(".igv-multi-locus-panel-label-div").hide()),n<e.viewports.length&&1+n!==e.viewports.length?r.addClass("igv-viewport-div-border-right"):r.removeClass("igv-viewport-div-border-right")})},lg.prototype.appendLeftHandGutter=function(e){var t,n,r=this;t=Ys('<div class="igv-left-hand-gutter">'),this.leftHandGutter=t[0],e.append(t),"function"==typeof this.track.paintAxis&&(this.track.dataRange&&(t.click(function(e){r.browser.dataRangeDialog.configure({trackView:r}),r.browser.dataRangeDialog.present(Ys(r.trackDiv))}),t.addClass("igv-clickable")),n=Ys('<canvas class ="igv-track-control-canvas">'),t.append(n),this.controlCanvas=n.get(0),hg.call(this,t.outerWidth(),t.outerHeight()))},lg.prototype.appendRightHandGutter=function(e){var t=Ys('<div class="igv-right-hand-gutter">');e.append(t),ug.call(this,t)},lg.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:void 0},lg.prototype.setDataRange=function(e,t,n){void 0!==e&&(this.track.dataRange.min=e,this.track.config.min=e),void 0!==t&&(this.track.dataRange.max=t,this.track.config.max=t),this.track.autoscale=n,this.track.config.autoScale=n,n?this.updateViews():this.repaintViews()},lg.prototype.setColor=function(e){this.track.color=e,this.track.config.color=e,this.repaintViews(!0)},lg.prototype.createColorPicker=function(){var e=this,t={$parent:Ys(this.trackDiv),width:384,height:void 0,closeHandler:function(){e.colorPicker.$container.hide(),e.colorPicker.$container.get(0).style.top=0,e.colorPicker.$container.get(0).style.left=0}};this.colorPicker=new cg(t),cv(this.colorPicker.$container,function(t){return e.setColor(t)},this.track.color),this.colorPicker.$container.hide()},lg.prototype.presentColorPicker=function(){this.colorPicker.$container.get(0).style.top=0,this.colorPicker.$container.get(0).style.left=0,this.colorPicker.$container.show()},lg.prototype.setTrackHeight=function(e,t,n){n||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,Ys(this.trackDiv).height(e),"function"!=typeof this.track.computePixelHeight&&(this.viewports.forEach(function(t){t.setContentHeight(e),t.tile&&(t.tile.invalidate=!0)}),this.repaintViews()),hg.call(this,Ys(this.leftHandGutter).outerWidth(),e),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ys(this.controlCanvas).width(),Ys(this.controlCanvas).height()),this.scrollbar&&this.scrollbar.update()},lg.prototype.isLoading=function(){for(var e=0;e<this.viewports.length;e++)if(this.viewports[e].isLoading())return!0},lg.prototype.resize=function(){var e;if(0!=(e=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length)){this.viewports.forEach(function(t){t.setWidth(e)});var t=Ys(this.leftHandGutter);hg.call(this,t.outerWidth(),t.outerHeight()),this.updateViews(!0)}},lg.prototype.repaintViews=function(){this.viewports.forEach(function(e){e.repaint()}),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Ys(this.controlCanvas).width(),Ys(this.controlCanvas).height())},lg.prototype.updateViews=(sg=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C,E,R,A,T,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return");case 2:(n=this.viewports.filter(function(e){return e.isVisible()})).forEach(function(e){e.shift()}),r=dg.call(this,t),i=!0,a=!1,o=void 0,e.prev=8,s=r[Symbol.iterator]();case 10:if(i=(c=s.next()).done){e.next=17;break}return l=c.value,e.next=14,l.loadFeatures();case 14:i=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),a=!0,o=e.t0;case 23:e.prev=23,e.prev=24,i||null==s.return||s.return();case 26:if(e.prev=26,!a){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:if((u=this.browser.dragObject)||!this.track.autoscale){e.next=54;break}for(h=[],f=!0,d=!1,p=void 0,e.prev=37,v=n[Symbol.iterator]();!(f=(m=v.next()).done);f=!0)_=(b=(y=(g=m.value).genomicState.referenceFrame).start)+y.toBP(Ys(g.contentDiv).width()),g.tile&&g.tile.features&&(h=h.concat(Zm(g.tile.features,b,_)));e.next=45;break;case 41:e.prev=41,e.t1=e.catch(37),d=!0,p=e.t1;case 45:e.prev=45,e.prev=46,f||null==v.return||v.return();case 48:if(e.prev=48,!d){e.next=51;break}throw p;case 51:return e.finish(48);case 52:return e.finish(45);case 53:this.track.dataRange="function"==typeof this.track.doAutoscale?this.track.doAutoscale(h):Cv(h);case 54:if(u||!this.track.autoscale&&!this.track.autoscaleGroup){e.next=76;break}for(w=!0,k=!1,S=void 0,e.prev=58,x=n[Symbol.iterator]();!(w=(C=x.next()).done);w=!0)C.value.repaint();e.next=66;break;case 62:e.prev=62,e.t2=e.catch(58),k=!0,S=e.t2;case 66:e.prev=66,e.prev=67,w||null==x.return||x.return();case 69:if(e.prev=69,!k){e.next=72;break}throw S;case 72:return e.finish(69);case 73:return e.finish(66);case 74:e.next=95;break;case 76:for(E=!0,R=!1,A=void 0,e.prev=79,T=r[Symbol.iterator]();!(E=(I=T.next()).done);E=!0)I.value.repaint();e.next=87;break;case 83:e.prev=83,e.t3=e.catch(79),R=!0,A=e.t3;case 87:e.prev=87,e.prev=88,E||null==T.return||T.return();case 90:if(e.prev=90,!R){e.next=93;break}throw A;case 93:return e.finish(90);case 94:return e.finish(87);case 95:pg.call(this);case 96:case"end":return e.stop()}},e,this,[[8,19,23,31],[24,,26,30],[37,41,45,53],[46,,48,52],[58,62,66,74],[67,,69,73],[79,83,87,95],[88,,90,94]])})),function(e){return sg.apply(this,arguments)}),lg.prototype.getInViewFeatures=(og=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return",[]);case 2:return n=dg.call(this,t),r=n.map(function(e){return e.loadFeatures()}),e.next=6,Promise.all(r);case 6:for(i=[],a=!0,o=!1,s=void 0,e.prev=10,c=this.viewports[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)(u=l.value).tile&&u.tile.features&&(d=(f=(h=u.genomicState.referenceFrame).start)+h.toBP(Ys(u.contentDiv).width()),i=i.concat(Zm(u.tile.features,f,d)));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,s=e.t0;case 18:e.prev=18,e.prev=19,a||null==c.return||c.return();case 21:if(e.prev=21,!o){e.next=24;break}throw s;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])})),function(e){return og.apply(this,arguments)}),lg.prototype.checkContentHeight=function(){this.viewports.forEach(function(e){e.checkContentHeight()}),pg.call(this)},lg.prototype.maxContentHeight=function(){return vg(this.viewports)},lg.prototype.dispose=function(){var e=this;this.$trackManipulationHandle&&this.$trackManipulationHandle.off(),this.$innerScroll&&this.$innerScroll.off(),this.scrollbar&&this.scrollbar.dispose(),Ys(document).off(this.namespace),"function"==typeof this.track.dispose&&this.track.dispose();var t=this.track;"function"==typeof t.dispose&&t.dispose(),Object.keys(t).forEach(function(e){t[e]=void 0}),this.viewports.forEach(function(e){e.dispose()}),Object.keys(this).forEach(function(t){e[t]=void 0})},lg.prototype.scrollBy=function(e){this.scrollbar.moveScrollerBy(e)};var mg=function(e,t,n){var r,i=this,a=".trackscrollbar"+hv();this.namespace=a;var o=Ys('<div class="igv-scrollbar-outer-div">');function s(e){e.preventDefault(),e.stopPropagation();var t=lv(e);i.moveScrollerBy(t.y-r),r=t.y}function c(e){Ys(document).off(i.namespace)}this.$outerScroll=o,this.$innerScroll=Ys("<div>"),this.$outerScroll.append(this.$innerScroll),this.$viewportContainer=e,this.viewports=t,this.$innerScroll.on("mousedown",function(e){e.preventDefault();var t=lv(e);r=t.y,Ys(document).on("mousemove"+a,s),Ys(document).on("mouseup"+a,c),Ys(document).on("mouseleave"+a,c),e.stopPropagation()}),this.$innerScroll.on("click",function(e){e.stopPropagation()}),this.$outerScroll.on("click",function(e){i.moveScrollerBy(e.offsetY-i.$innerScroll.height()/2),e.stopPropagation()})};mg.prototype.moveScrollerBy=function(e){var t=this.$innerScroll.position().top+e;this.moveScrollerTo(t)},mg.prototype.moveScrollerTo=function(e){var t=this.$outerScroll.height(),n=this.$innerScroll.height(),r=Math.min(Math.max(0,e),t-n),i=vg(this.viewports),a=-Math.round(r*(i/this.$viewportContainer.height()));this.$innerScroll.css("top",r+"px"),this.viewports.forEach(function(e){e.setTop(a)})},mg.prototype.dispose=function(){Ys(window).off(this.namespace)},mg.prototype.update=function(){var e,t,n;e=this.$viewportContainer.height(),t=vg(this.viewports),n=Math.round(e/t*e),t>e?(this.$outerScroll.show(),this.$innerScroll.height(n)):this.$outerScroll.hide()};var gg=zt.trim,yg=r.parseFloat,bg=1/yg(Mt+"-0")!=-1/0?function(e){var t=gg(String(e)),n=yg(t);return 0===n&&"-"==t.charAt(0)?-0:n}:yg;Ie({target:"Number",stat:!0,forced:Number.parseFloat!=bg},{parseFloat:bg});var _g=kf.entries;function wg(e){return"string"==typeof e||e instanceof String?new kg(e):new Sg(e)}Ie({target:"Object",stat:!0},{entries:function(e){return _g(e)}});var kg=function(e){this.data=e,this.ptr=0};kg.prototype.nextLine=function(){var e=this.ptr,t=this.data.indexOf("\n",e);return t>0?(this.ptr=t+1,t===e?void 0:this.data.substring(e,t).trim()):(this.ptr=this.data.length,e>=this.data.length?void 0:this.data.substring(e).trim())},kg.prototype.nextLineNoTrim=function(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var r=n.length;return this.ptr=r,e>=r?void 0:n.substring(e)};var Sg=function(e){this.data=e,this.length=this.data.length,this.ptr=0};Sg.prototype.nextLine=function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}},Sg.prototype.nextLineNoTrim=Sg.prototype.nextLine;var xg={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},Cg=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram"]);function Eg(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0),"junctions"===e.type?e.type="spliceJunctions":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),void 0===e.sourceType&&e.url&&(e.sourceType="file"),"file"===e.sourceType)if(void 0===e.format){var t=$v(e.url)?e.url.name:e.url;e.format=Rg(t)}else e.format=e.format.toLowerCase();if(void 0===e.type){if(e.type)return;if(e.format)switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":e.type="wig";break;case"vcf":e.type="variant";break;case"seg":e.type="seg";break;case"bam":case"cram":e.type="alignment";break;case"bedpe":case"bedpe-loop":e.type="interaction";break;case"bp":e.type="arc";break;default:e.type="annotation"}}}function Rg(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return Cg.has(n)?n:void 0}}var Ag=Number.MAX_SAFE_INTEGER,Tg=["Name","gene_name","gene","gene_id","alias","locus","name"],Ig=function(e,t,n){var r;if(void 0!==e&&(this.format=e.toLowerCase()),this.nameField=n?n.nameField:void 0,this.skipRows=0,t)this.decode=t;else switch(this.format){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=Vg,this.delimiter=/\s+/;break;case"bedgraph":this.decode=Ug,this.delimiter=/\s+/;break;case"wig":this.decode=Hg,this.delimiter=/\s+/;break;case"gff3":case"gff":case"gtf":this.decode=Wg,this.delimiter="\t";break;case"fusionjuncspan":this.decode=$g,this.delimiter=/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=qg,this.delimiter="\t";break;case"refflat":this.decode=jg,this.delimiter=/\s+/;break;case"genepred":this.decode=Ng,this.delimiter=/\s+/;break;case"genepredext":this.decode=zg,this.delimiter=/\s+/;break;case"ensgene":this.decode=Ng,this.shift=1,this.delimiter=/\s+/;break;case"refgene":this.decode=zg,this.delimiter=/\s+/,this.shift=1;break;case"bed":this.decode=Lg,this.delimiter=n.delimiter||/\s+/;break;case"bedpe":this.skipRows=1,this.decode=Zg,this.delimiter=/\s+/;break;case"bedpe-domain":this.decode=Xg,this.headerLine=!0,this.delimiter=/\s+/;break;case"bedpe-loop":this.decode=Zg,this.delimiter=/\s+/,this.skipRows=1,this.header={colorColumn:7};break;case"snp":this.decode=Kg,this.delimiter="\t";break;case"rmsk":this.decode=Fg,this.delimiter="\t";break;default:void 0!==(r=function(e){return xg&&xg[e]?function(e){for(var t=e.fields,n=["chr","start","end"],r=0;r<t.length;r++){var i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;l===t[r]&&(e[l]=r)}}catch(u){a=!0,o=u}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}return e}(xg[e]):void 0}(this.format))?(this.decode=Qg,this.format=r,this.delimiter=r.delimiter||"\t"):(this.decode=Lg,this.delimiter=/\s+/)}};function Og(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Dg(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}function Mg(e){var t,n={},r=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],a=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;u&&0!==u.trim().length&&(u.endsWith("=")>0?t=u:t?(i.push(t+u),t=void 0):i.push(u))}}catch(g){o=!0,s=g}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}for(var h=0,f=i;h<f.length;h++){var d=f[h];if(!d)return;var p=d.split("=",2);if(2===p.length){var v=p[0].trim(),m=p[1].trim();n[v]=m}}return n}function Pg(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach(function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}),t}function Lg(e,t){var n,r,i,a,o,s,c,l;if(!(e.length<3)){if(s={chr:e[0],start:n=parseInt(e[1]),end:e.length>2?parseInt(e[2]):n+1,score:1e3},e.length>3){if(e[3].indexOf(";")>0){var u=Gg(e[3],"="),h=!0,f=!1,d=void 0;try{for(var p,v=Tg[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var m=p.value;if(u.hasOwnProperty(m)){s.name=u[m],delete u[m];break}}}catch(_){f=!0,d=_}finally{try{h||null==v.return||v.return()}finally{if(f)throw d}}s.attributes=u}s.name?s.nameField=e[3]:s.name=e[3]}if(e.length>4&&(s.score=parseFloat(e[4])),e.length>5&&(s.strand=e[5]),e.length>6&&(s.cdStart=parseInt(e[6])),e.length>7&&(s.cdEnd=parseInt(e[7])),e.length>8&&"."!==e[8]&&"0"!==e[8]&&(s.color=ov.createColorString(e[8])),e.length>11){r=parseInt(e[9]),i=e[10].split(","),a=e[11].split(","),o=[];for(var g=0;g<r;g++)l=(c=n+parseInt(a[g]))+parseInt(i[g]),o.push({start:c,end:l});Bg(o,s.cdStart,s.cdEnd),s.exons=o}if(this.header){var y=this.header.thicknessColumn,b=this.header.colorColumn;b&&b<e.length&&(s.color=ov.createColorString(e[b])),y&&y<e.length&&(s.thickness=e[y])}return s}}function Fg(e,t){if(!(e.length<15))return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function Ng(e,t){var n=void 0===this.shift?0:1;if(!(e.length<9+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),a={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),c=e[9+n].split(","),l=[],u=0;u<o;u++){var h=parseInt(s[u]),f=parseInt(c[u]);l.push({start:h,end:f})}return Bg(l,r,i),a.exons=l,a}}function zg(e,t){var n=void 0===this.shift?0:1;if(!(e.length<11+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),a={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),c=e[9+n].split(","),l=[],u=0;u<o;u++){var h=parseInt(s[u]),f=parseInt(c[u]);l.push({start:h,end:f})}return Bg(l,r,i),a.exons=l,a}}function jg(e,t){var n=void 0===this.shift?0:1;if(!(e.length<10+n)){for(var r=parseInt(e[6+n]),i=parseInt(e[7+n]),a={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:r,cdEnd:i},o=parseInt(e[8+n]),s=e[9+n].split(","),c=e[10+n].split(","),l=[],u=0;u<o;u++){var h=parseInt(s[u]),f=parseInt(c[u]);l.push({start:h,end:f})}return Bg(l,r,i),a.exons=l,a}}function Bg(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=c.end,u=c.start;l<t||u>n?c.utr=!0:(t>=u&&t<=l&&(c.cdStart=t),n>=u&&n<=l&&(c.cdEnd=n))}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}function Vg(e,t){var n,r,i,a,o,s,c;return e.length<9?null:(n=e[0],r=parseInt(e[1]),i=parseInt(e[2]),o=e[3],s=parseFloat(e[4]),a=e[5].trim(),c=parseFloat(e[6]),0===s&&(s=c),{chr:n,start:r,end:i,name:o,score:s,strand:a,signal:c,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])})}function Ug(e,t){if(e.length<3)return null;var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(this.header){var r=this.header.colorColumn;r&&r<e.length&&(n.color=ov.createColorString(e[r]))}return n}function Hg(e,t){var n,r,i;return"fixedStep"===t.format?(r=(n=t.index*t.step+t.start)+t.span,i=parseFloat(e[0]),++t.index,isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):"variableStep"===t.format?e.length<2?null:(r=(n=parseInt(e[0],10)-1)+t.span,i=parseFloat(e[1]),isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):Ug(e)}function $g(e,t){if(!(e.length<7)){var n=e[0],r=e[1],i=parseInt(e[2]),a=parseInt(e[3]),o=parseInt(e[4]),s=parseInt(e[5]),c={chr:n,name:r,junction_left:i,junction_right:a,num_junction_reads:o,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},l=i,u=a;if(s>0)for(var h=e[6].split(","),f=0;f<h.length;f++){var d=h[f].split("-"),p=d[0],v=d[1];p<l&&(l=p),v>u&&(u=v),c.spanning_frag_coords.push({left:p,right:v})}return c.start=l,c.end=u,c}}function qg(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function Gg(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var o,s=e.split(";")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value.trim().split(t,2);if(2===c.length){var l=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),n[l]=u}}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}function Wg(e,t){var n,r,i,a,o,s,c,l,u,h,f=this.format;if(e.length<9)return null;n=e[0],o=e[2],r=parseInt(e[3])-1,i=parseInt(e[4]),s="."===e[5]?0:parseFloat(e[5]),a=e[6],"."===e[7]||parseInt(e[7]);for(var d="gff3"===f?"=":/\s+/,p=Gg(c=e[8],d),v=0,m=Object.entries(p);v<m.length;v++){var g=er(m[v],2),y=g[0],b=g[1],_=y.toLowerCase();if("color"===_||"colour"===_)l=ov.createColorString(b);else if("gff3"===f)try{p[y]=unescape(b)}catch(w){p[y]=b,console.error("Malformed gff3 attibute value: ".concat(b))}}if(this.nameField)u=p[this.nameField];else for(h=0;h<Tg.length;h++)if(p.hasOwnProperty(Tg[h])){this.nameField=Tg[h],u=p[this.nameField];break}return new Yg({id:p.ID||p.transcript_id,parent:p.Parent,name:u,type:o,chr:n,start:r,end:i,score:s,strand:a,color:l,attributeString:c,delim:d})}function Yg(e){Object.assign(this,e)}function Zg(e,t){if(!(e.length<6)){var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};e.length>6&&(n.name=e[6]),e.length>7&&(n.score=e[7]),n.chr=n.chr1===n.chr2?n.chr1:"MIXED",n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2);var r=(n.start1+n.end1)/2,i=(n.start2+n.end2)/2;if(n.m1=r<i?r:i,n.m2=r<i?i:r,this.header){var a=this.header.thicknessColumn,o=this.header.colorColumn;o&&o<e.length&&(n.color=ov.createColorString(e[o])),a&&a<e.length&&(n.thickness=e[a])}return n}}function Xg(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:ov.createColorString(e[6]),score:Number.parseFloat(e[7])}}function Kg(e,t){if(!(e.length<6)){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},i=Math.min(e.length,n.length),a=6;a<i;a++)r[n[a]]=e[a];return r}}function Qg(e,t){if(!(e.length<this.format.fields.length)){var n=this.format,r=n.coords||0,i=e[n.chr],a=parseInt(e[n.start])-r,o={chr:i,start:a,end:void 0!==n.end?parseInt(e[n.end]):a+1};return n.fields&&n.fields.forEach(function(t,r){r!==n.chr&&r!==n.start&&r!==n.end&&(o[t]=e[r])}),o}}Ig.prototype.parseHeader=function(e){var t,n,r;for(r=wg(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=Mg(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var a=Pg(t);n?Object.assign(n,a):n=a}else t.startsWith("##gff-version 3")?(this.format="gff3",n||(n={}),n.format="gff3"):t.startsWith("#gffTags")&&(n||(n={}),n.gffTags=!0);return this.header=n,n},Ig.prototype.parseFeatures=function(e){if(!e)return null;for(var t,n,r=wg(e),i=r.nextLine.bind(r),a=[],o=0,s=this.decode,c=this.format,l=this.delimiter||"\t",u=0;t=i();)if(!(++u<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser")))if("wig"===c&&t.startsWith("fixedStep"))n=Og(t);else if("wig"===c&&t.startsWith("variableStep"))n=Dg(t);else{var h=t.split(l);if(!(h.length<1)){var f=s.call(this,h,n);if(f){if(a.length<Ag)a.push(f);else{var d=Math.floor(Math.random()*o);d<Ag&&(a[d]=f)}o++}}}return a},Yg.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];n.push({name:"type",value:this.type}),n.push({name:"start",value:this.start+1}),n.push({name:"end",value:this.end});var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value.trim().split(this.delim,2);if(2===c.length&&void 0!==c[1]){var l=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),n.push({name:l,value:u})}}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n};var Jg=function(){function e(){$n(this,e)}return Gn(e,[{key:"parseHeader",value:function(e){var t=rv(e),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!s.startsWith("#")){var c=s.split("\t");this.header={headings:c};break}}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return this.header}},{key:"parseFeatures",value:function(e){var t=wg(e),n=t.nextLine.bind(t),r=[];this.header||(this.header=this.parseHeader(n()));for(var i,a=this.header.headings.length-1;i=n();){var o=i.split("\t");o.length>a&&r.push({sampleKey:o[0],sample:o[0],chr:o[1],start:parseInt(o[2]),end:parseInt(o[3]),value:parseFloat(o[a])})}return r}}]),e}(),ey=function(e,t){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.browser=t,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name=e.name||e.label,this.name=e.name?e.name:$v(e.url)?e.url.name:e.url,this.order=e.order,this.color="civic-ws"===e.sourceType?"rgb(155,20,20)":e.color||e.defaultColor||"rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow};function ty(e){var t,n,r=new ay;return r.chr=e[0],r.pos=parseInt(e[1]),r.names=e[2],r.referenceBases=e[3],r.alternateBases=e[4],r.quality=e[5],r.filter=e[6],r.info=(n={},(t=e[7])&&t.split(";").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n),ny(r),r}function ny(e){var t=e.referenceBases,n=e.alternateBases;if(e.info&&(e.type=e.info.VT?e.info.VT:e.info.SVTYPE?"SV":e.info.PERIOD?"STR":oy(n)),"NONVARIANT"===e.type&&(e.heterozygosity=0,e.start=e.pos-1,e.end=e.start+t.length),e.info.END)e.start=e.pos-1,e.end=Number.parseInt(e.info.END);else if("NONVARIANT"!==e.type){var r=n.split(",").filter(function(e){return e.length>0});e.alleles=[],e.start=e.pos,e.end=e.pos;var i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(e.alleles.push(l),"SV"!==e.type&&iy(l)){var u=l.length,h=t.length,f=0;for(t.charCodeAt(0)===l.charCodeAt(0)&&(f++,u--,h--);u>0&&h>0&&l.charCodeAt(f+u-1)===t.charCodeAt(f+h-1);)u--,h--;for(;u>0&&h>0&&l.charCodeAt(f+u-1)===t.charCodeAt(f+h-1);)f++,u--,h--;var d=e.pos+f-1,p=d+Math.max(1,h);e.start=Math.min(e.start,d),e.end=Math.max(e.end,p)}}}catch(v){a=!0,o=v}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}}ey.prototype.getState=function(){var e=Object.assign({},this.config),t=this;return Object.keys(e).forEach(function(n){var r=t[n];r&&(kv(r)||"boolean"==typeof r)&&(e[n]=r)}),e},ey.prototype.supportsWholeGenome=function(){return!1},ey.prototype.clickedFeatures=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:0,i=Math.floor(n)-r,a=Math.floor(n)+r;return Zm(t,i,a)},ey.prototype.setTrackProperties=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];switch(r){case"name":case"useScore":this[r]=e[r];break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":this.displayMode="EXPANDED";break;case"4":case"squish":this.displayMode="SQUISHED";break;case"1":case"dense":this.displayMode="COLLAPSED"}break;case"color":case"altColor":this[r]="rgb("+e[r]+")";break;case"featureVisiblityWindow":this.visibilityWindow=Number.parseInt(e[r])}}},ey.prototype.getVisibilityWindow=function(){return this.visibilityWindow},ey.extractPopupData=function(e,t){var n,r,i=new Set(["row","color"]),a=[];for(var o in e)if(e.hasOwnProperty(o)&&!i.has(o)&&kv(e[o])){var s=e[o];"start"===o&&(s+=1),a.push({name:o,value:s}),"alleles"===o?n=e[o]:"alleleFreqs"===o&&(r=e[o])}if(n&&r){n.endsWith(",")&&(n=n.substr(0,n.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));var c=n.split(","),l=r.split(",");if(l.length>1){for(var u=[],h=0;h<l.length;h++)u.push({a:c[h],af:Number.parseFloat(l[h])});u.sort(function(e,t){return e.af-t.af});var f=u[u.length-1].a;if(1===f.length)for(var d=u.length-2;d>=0;d--){var p=u[d].a;if(1===p.length){var v=ey.getCravatLink(e.chr,e.start+1,f,p,t);v&&(a.push("<hr/>"),a.push(v))}}}}if(e.attributes)for(var m=0,g=Object.keys(e.attributes);m<g.length;m++){var y=g[m];a.push({name:y,value:e.attributes[y]})}return a},ey.prototype.getGenomeId=function(){return this.browser.genome?this.browser.genome.id:void 0},ey.getCravatLink=function(e,t,n,r,i){return"hg38"===i||"GRCh38"===i?"<a target='_blank' href='https://www.cravat.us/CRAVAT/variant.html?variant="+(e.startsWith("chr")?e:"chr"+e)+"_"+t+"_+_"+n+"_"+r+"'>Cravat "+n+"->"+r+"</a>":void 0};var ry=new Set(["A","C","T","G"].map(function(e){return e.charCodeAt(0)}));function iy(e){for(var t=0;t<e.length;t++)if(!ry.has(e.charCodeAt(t)))return!1;return!0}var ay=function(){};function oy(e){if(void 0===e)return"UNKNOWN";if(0===e.trim().length||"<NON_REF>"===e||"<*>"===e||"."===e)return"NONVARIANT";var t=e.split(",").map(function(e){return"<NON_REF>"===e?"NONVARIANT":"OTHER"}),n=t[0],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(o.value!==n)return"MIXED"}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}function sy(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}ay.prototype.popupData=function(e,t){var n,r=this,i=this.end===this.pos?this.pos:"".concat(this.pos,"-").concat(this.end);if(n=[{name:"Chr",value:this.chr},{name:"Pos",value:i},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}],1===this.referenceBases.length&&!oy(this.alternateBases)){var a=this.referenceBases;if(1===a.length)for(var o=this.alternateBases.split(","),s=0;s<o.length;s++){var c=this.alternateBases[s];if(1===c.length){var l=ey.getCravatLink(this.chr,this.pos,a,c,t);l&&(n.push("<hr/>"),n.push(l))}}}return this.hasOwnProperty("heterozygosity")&&n.push({name:"Heterozygosity",value:this.heterozygosity}),this.info&&(n.push("<hr>"),Object.keys(this.info).forEach(function(e){n.push({name:e,value:sy(r.info[e])})})),this.calls&&1===this.calls.length&&(n.push("<hr>"),n.push({name:"Genotype",value:this.alleles[this.calls[0].genotype[0]]+this.alleles[this.calls[0].genotype[1]]})),n},ay.prototype.isRefBlock=function(){return"NONVARIANT"===this.type};var cy=function(){};function ly(e){for(var t={genotypeIndex:-1,fields:e},n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}cy.prototype.parseHeader=function(e){var t={},n=wg(e),r=n.nextLine();if(!r.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(t.version=r.substr(13);(r=n.nextLine())&&r.startsWith("#");){var i=void 0,a={};if(r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){var o=r.indexOf("<"),s=r.lastIndexOf(">");if(!(o>2&&s>0))continue;var c=r.substring(2,o-1);t[c]||(t[c]={});var l=iv(r.substring(o+1,s-1),","),u=!0,h=!1,f=void 0;try{for(var d,p=l[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var v=d.value.split("=");v.length>1&&("ID"===v[0]?i=v[1]:a[v[0]]=v[1])}}catch(y){h=!0,f=y}finally{try{u||null==p.return||p.return()}finally{if(h)throw f}}i&&(t[c][i]=a)}}else if(r.startsWith("#CHROM")){var m=r.split("\t");if(m.length>8){t.callSets=[];for(var g=9;g<m.length;g++)t.callSets.push({id:g,name:m[g]})}}}return this.header=t,t},cy.prototype.parseFeatures=function(e){for(var t,n=[],r=this.header.callSets,i=wg(e),a=8+(r?r.length+1:0);t=i.nextLine();)if(!t.startsWith("#")){var o=t.split("\t");if(o.length===a){var s,c,l=ty(o);l.header=this.header,n.push(l),o.length>9&&function(){var e=ly(o[8].split(":"));l.calls={};for(var t=9;t<o.length;t++){var n=o[t];l.calls[(s=r[t-9]).id]=c={callSetName:s.name,info:{}},n.split(":").forEach(function(t,n){switch(n){case e.genotypeIndex:c.genotype=[],t.split(/[\|\/]/).forEach(function(e){c.genotype.push("."===e?e:parseInt(e))});break;default:c.info[e.fields[n]]=t}})}}()}}return n};var uy=function(){function e(){$n(this,e)}return Gn(e,[{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=this.parseHeader(e),r=wg(e),i=[];t=r.nextLine();){var a=t.split("\t"),o=a[0],s=parseInt(a[1]),c=parseInt(a[2]),l=a.slice(3).map(parseFloat);l.length==n.length&&i.push({chr:o,start:s,end:c,values:l})}return console.warn("Parsed",i.length,"features from",n.length,"samples"),i}},{key:"parseHeader",value:function(e){if(!this.sampleNames){var t=wg(e);this.sampleNames=t.nextLine().split("\t").slice(3),console.warn("Parsed",this.sampleNames.length,"samples from gCNV track file header:",this.sampleNames)}return this.sampleNames}}]),e}(),hy=function(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength};function fy(e,t){this.block=e,this.offset=t}function dy(e,t,n,r){return py.apply(this,arguments)}function py(){return(py=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C,E,R,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,om.loadArrayBuffer(t,Sv(n));case 2:if(a=e.sent,o=[],s=Number.MAX_SAFE_INTEGER,c=0,a){e.next=7;break}return e.abrupt("return");case 7:if(r&&(l=new Qp.Gunzip(new Uint8Array(a)),a=l.decompress().buffer),u=new hy(new DataView(a)),h=u.getInt(),f={},!(21578050===h||r&&21578324===h)){e.next=17;break}if(d=u.getInt(),r)for(u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),p=0;p<d;p++)v=u.getString(),i&&(v=i.getChromosomeName(v)),f[v]=p;for(m=0;m<d;m++){for(g={},y=[],b=u.getInt(),_=0;_<b;_++)if(37450===(w=u.getInt()))u.getInt(),u.getVPointer(),u.getVPointer(),u.getLong(),u.getLong();else for(g[w]=[],k=u.getInt(),S=0;S<k;S++)x=u.getVPointer(),C=u.getVPointer(),x&&C&&(x.block<s&&(s=x.block),C.block>c&&(c=C.block),g[w].push([x,C]));for(E=u.getInt(),R=0;R<E;R++)A=u.getVPointer(),y.push(A);b>0&&(o[m]={binIndex:g,linearIndex:y})}e.next=18;break;case 17:throw new Error(t+" is not a "+(r?"tabix":"bai")+" file");case 18:return e.abrupt("return",new vy(o,s,c,f,r));case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}hy.prototype.available=function(){return this.length-this.position},hy.prototype.remLength=function(){return this.length-this.position},hy.prototype.hasNext=function(){return this.position<this.length-1},hy.prototype.getByte=function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e},hy.prototype.getShort=function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e},hy.prototype.getUShort=function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e},hy.prototype.getInt=function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e},hy.prototype.getUInt=function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e},hy.prototype.getLong=function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var r=0;r<e.length;r++)t=256*t+e[r];return this.position+=8,t},hy.prototype.getString=function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n},hy.prototype.getFixedLengthString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r},hy.prototype.getFixedLengthTrimmedString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r},hy.prototype.getFloat=function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e},hy.prototype.getDouble=function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e},hy.prototype.skip=function(e){return this.position+=e,this.position},hy.prototype.getVPointer=function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new fy(n,t)},fy.prototype.isLessThan=function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset},fy.prototype.isGreaterThan=function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset},fy.prototype.print=function(){return this.block+":"+this.offset};var vy=function(e,t,n,r,i){this.firstAlignmentBlock=t,this.lastAlignmentBlock=n,this.indices=e,this.sequenceIndexMap=r,this.tabix=i};function my(e,t,n){return gy.apply(this,arguments)}function gy(){return(gy=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){var t=e.getString();r&&(t=r.getChromosomeName(t));for(var n=e.getInt(),i=e.getInt(),a=e.getInt(),o=(e.getInt(),e.getInt(),e.getLong()),s=new Array,c=0;c<i;c++){var l=e.getLong();s.push({min:o,max:l}),o=l}return{chr:t,blocks:s,longestFeature:a,binWidth:n}},l=function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()},e.next=4,om.loadArrayBuffer(t,Sv(n));case 4:if(!(i=e.sent)){e.next=14;break}for(a={},o=new hy(new DataView(i)),l(o),s=o.getInt();s-- >0;)c=u(o),a[c.chr]=c;return e.abrupt("return",new yy(a));case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}vy.prototype.blocksForRange=function(e,t,n){var r=this.indices[e];if(r){var i=function(e,t){var n,r=[];for(t>=1<<29&&(t=1<<29),--t,r.push(0),n=1+(e>>26);n<=1+(t>>26);++n)r.push(n);for(n=9+(e>>23);n<=9+(t>>23);++n)r.push(n);for(n=73+(e>>20);n<=73+(t>>20);++n)r.push(n);for(n=585+(e>>17);n<=585+(t>>17);++n)r.push(n);for(n=4681+(e>>14);n<=4681+(t>>14);++n)r.push(n);return r}(t,n),a=[];i.forEach(function(e){if(r.binIndex[e])for(var t=r.binIndex[e],n=t.length,i=0;i<n;++i)a.push({minv:t[i][0],maxv:t[i][1],bin:e})});for(var o=r.linearIndex.length,s=null,c=Math.min(t>>14,o-1),l=Math.min(n>>14,o-1),u=c;u<=l;++u){var h=r.linearIndex[u];h&&(s&&!h.isLessThan(s)||(s=h))}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort(function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var i,a;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(a=e).minv.block-(i=r).maxv.block<65e3&&a.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e))}),n)}(a,s)}return[]};var yy=function(){function e(t){$n(this,e),this.chrIndex=t}return Gn(e,[{key:"blocksForRange",value:function(e,t,n){var r=this.chrIndex[e];if(r){var i=r.blocks,a=r.binWidth,o=Math.max(t-r.longestFeature,0),s=Math.floor(o/a);if(s>=i.length)return[];var c=Math.min(Math.floor((n-1)/a),i.length-1),l=i[s].min,u=i[c].max;return 0==u-l?[]:[{minv:{block:l,offset:0},maxv:{block:u,offset:0}}]}}}]),e}(),by=function(){function e(t){if($n(this,e),this.config=t,t.columns){if(void 0===t.columns.chromosome||void 0===t.columns.position||void 0===t.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=t.columns.position-1,this.chrCol=t.columns.chromosome-1,this.pvalueCol=t.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}return Gn(e,[{key:"parseHeader",value:function(e){var t=wg(e).nextLine();return this.parseHeaderLine(t)}},{key:"parseHeaderLine",value:function(e){if(this.columns=e.split(/\t/),!this.config.columns)for(var t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.pvalueCol=t}return this.columns}},{key:"parseFeatures",value:function(e){if(!e)return null;var t,n=wg(e),r=[],i=n.nextLine();for(this.columns||this.parseHeaderLine(i);t=n.nextLine();){var a=t.split(/\t/);if(a.length===this.columns.length){var o=a[this.chrCol],s=parseInt(a[this.posCol])-1,c=s+1,l=parseFloat(a[this.pvalueCol]);r.push(new _y({chr:o,start:s,end:c,value:l,line:t,columns:this.columns}))}}return r}}]),e}(),_y=function(){function e(t){var n=t.chr,r=t.start,i=t.end,a=t.value,o=t.line,s=t.columns;$n(this,e),this.chr=n,this.start=r,this.end=i,this.value=a,this.line=o,this.columns=s}return Gn(e,[{key:"popupData",value:function(){var e=this.line.split(/\t/);return this.columns.map(function(t,n){return{name:t,value:e[n]}})}}]),e}(),wy=new RegExp("([^:]*)\\(([^)]*)\\)"),ky=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),Sy=function(){function e(t,n,r){$n(this,e),this.nameField=r?r.nameField:void 0,this.skipRows=0,this.decode=n||Ty,this.delimiter="\t"}return Gn(e,[{key:"parseHeader",value:function(e){for(var t,n,r=wg(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=Ey(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var a=Ry(t);n?Object.assign(n,a):n=a}else t.startsWith("##gff-version 3")&&(this.format="gff3",n||(n={}),n.format="gff3");return this.header=n,n}},{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=wg(e),r=n.nextLineNoTrim.bind(n),i=[],a=this.decode,o=this.delimiter||"\t",s=0;t=r();)if(!(++s<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"))){var c=u();if(!(c.length<1))if(this.aed){var l=a.call(this,c,void 0);l&&i.push(l)}else this.aed=Cy(c)}return i;function u(){for(var e,n,i=[],a="",s=!1;t||""===t;){for(e=0;e<t.length;e++)(n=t.charAt(e))===o?s?a+=n:(i.push(a),a=""):'"'===n?e+1<t.length&&'"'===t.charAt(e+1)?(s&&(a+='"'),e++):s=!s:a+=n;if(!s)break;a+="\n",t=r()}return i.push(a),i}}}]),e}();function xy(e){var t=ky.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=wy.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function Cy(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=xy(e[n]),t.columns.push(r);return t}function Ey(e){var t,n={},r=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],a=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;u&&0!==u.trim().length&&(u.endsWith("=")>0?t=u:t?(i.push(t+u),t=void 0):i.push(u))}}catch(g){o=!0,s=g}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}for(var h=0,f=i;h<f.length;h++){var d=f[h];if(!d)return;var p=d.split("=",2);if(2===p.length){var v=p[0].trim(),m=p[1].trim();n[v]=m}}return n}function Ry(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach(function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}),t}function Ay(e,t){var n,r,i=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var a=0;a<t.length;a++)(n=t[a])&&("aed:Integer"===(r=i[a]).type&&(n=parseInt(n)),"bio"===r.namespace?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=ov.createColorString(n)))}function Ty(e,t){var n,r,i,a,o,s,c=0,l=this.aed.columns;if(e.length===l.length){for(s=0;s<e.length;s++)""!==(i=e[s])&&c++,"name"===(a=l[s]).name&&"aed"===a.namespace?n=i:"value"===a.name&&"aed"===a.namespace&&(r=i);if(2===c&&n&&r)return o=xy(n),this.aed.metadata[o.namespace]||(this.aed.metadata[o.namespace]={}),void(this.aed.metadata[o.namespace][o.name]||(this.aed.metadata[o.namespace][o.name]={type:o.type,value:r}));var u=new Ay(this.aed,e);if(u.chr&&(u.start||0===u.start)&&u.end)return u}}Ay.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],i=t.columns[n].name;"sequence"!==i&&"color"!==i&&r&&e.push({name:i,value:r})}return e};var Iy=function(){function e(t,n){var r;$n(this,e),this.config=t||{},this.genome=n,this.indexURL=t.indexURL,this.indexed=t.indexed,$v(this.config.url)?this.filename=this.config.url.name:tv(this.config.url)&&this.config.url.startsWith("data:")?(this.indexed=!1,this.dataURI=t.url):(r=Gv(this.config.url),this.filename=t.filename||r.file),this.format=this.config.format,this.parser=this.getParser(this.format,this.config.decode,this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}var t,n,r,i,a,o;return Gn(e,[{key:"readFeatures",value:(o=Hn(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",this.loadFeaturesWithIndex(t,n,r));case 7:if(!this.dataURI){e.next=11;break}return e.abrupt("return",this.loadFeaturesFromDataURI());case 11:return e.abrupt("return",this.loadFeaturesNoIndex());case 12:case"end":return e.stop()}},e,this)})),function(e,t,n){return o.apply(this,arguments)})},{key:"readHeader",value:(a=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=38;break}if(!this.dataURI){e.next=9;break}return e.next=4,this.loadFeaturesFromDataURI(this.dataURI);case 4:(t=this.header||{}).features=e.sent,e.next=38;break;case 9:if(!this.config.indexURL){e.next=30;break}return e.next=12,this.getIndex();case 12:if(n=e.sent){e.next=15;break}throw new Error("Unable to load index: "+this.config.indexURL);case 15:if(r="vcf"===this.config.format?65e3:1e3,!n.tabix){e.next=23;break}return i=Sv(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),e.next=20,om.loadArrayBuffer(this.config.url,i);case 20:a=jv(e.sent),r=n.firstAlignmentBlock+a;case 23:return o=Sv(this.config,{bgz:n.tabix,range:{start:0,size:r}}),e.next=26,om.loadString(this.config.url,o);case 26:t=this.parser.parseHeader(e.sent),e.next=35;break;case 30:return e.next=32,this.loadFeaturesNoIndex();case 32:(t=this.header||{}).features=e.sent;case 35:return t&&this.parser&&(this.parser.header=t),this.header=t,e.abrupt("return",t);case 38:return e.abrupt("return",this.header);case 39:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"getParser",value:function(e,t,n){switch(e){case"vcf":return new cy(n);case"seg":return new Jg;case"gcnv":return new uy;case"gwas":return new by(n);case"aed":return new Sy(e,t,n);default:return new Ig(e,t,n)}}},{key:"loadFeaturesNoIndex",value:(i=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sv(this.config),e.next=3,om.loadString(this.config.url,t);case 3:return this.header=this.parser.parseHeader(n=e.sent),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),e.abrupt("return",this.parser.parseFeatures(n));case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"loadFeaturesWithIndex",value:(r=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,a=this.parser,s=[],c=this.genome,(l=this.index.blocksForRange((o=this.index.tabix)?this.index.sequenceIndexMap[t]:t,n,r))&&0!==l.length){e.next=11;break}return e.abrupt("return",[]);case 11:u=!0,h=!1,f=void 0,e.prev=14,d=regeneratorRuntime.mark(function e(){var l,u,h,f,d,p,m,g,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b=function(e){for(var i=h?e.slice(h):e,o=a.parseFeatures(i),l=!1,u=0;u<o.length;u++){var f=o[u];if(c.getChromosomeName(f.chr)!==t){if(0===s.length)continue;break}if(f.start>r){s.push(f);break}f.end>=n&&f.start<=r&&(l||(l=!0,u>0&&s.push(o[u-1])),s.push(f))}},u=(l=v.value).minv.block,h=l.minv.offset,f=l.maxv.offset,d=void 0,!o){e.next=17;break}if(p=0,!(f>0)){e.next=14;break}return m=Sv(i,{range:{start:l.maxv.block,size:26}}),e.next=12,om.loadArrayBuffer(i.url,m);case 12:p=jv(e.sent);case 14:d=l.maxv.block+p,e.next=18;break;case 17:d=l.maxv.block;case 18:if(g=Sv(i,{range:{start:u,size:d-u+1}}),!o){e.next=27;break}return e.next=22,om.loadArrayBuffer(i.url,g);case 22:y=zv(e.sent),b(y),e.next=31;break;case 27:return e.next=29,om.loadString(i.url,g);case 29:b(e.sent);case 31:case"end":return e.stop()}},e)}),p=l[Symbol.iterator]();case 17:if(u=(v=p.next()).done){e.next=22;break}return e.delegateYield(d(),"t0",19);case 19:u=!0,e.next=17;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(14),h=!0,f=e.t1;case 28:e.prev=28,e.prev=29,u||null==p.return||p.return();case 31:if(e.prev=31,!h){e.next=34;break}throw f;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return s.sort(function(e,t){return e.start-t.start}),e.abrupt("return",s);case 38:case"end":return e.stop()}},e,this,[[14,24,28,36],[29,,31,35]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"getIndex",value:function(){var e=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index&&this.config.indexURL){e.next=4;break}return e.abrupt("return",this.index);case 4:return e.next=6,this.loadIndex();case 6:return this.index=e.sent,e.abrupt("return",this.index);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadIndex",value:(n=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($v(t=this.config.indexURL)?n=t.name:(r=Gv(t),n=r.file),!(n.endsWith(".tbi")||this.filename.endsWith(".gz")||this.filename.endsWith(".bgz"))){e.next=9;break}return e.next=6,dy(t,this.config,!0,this.genome);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,my(t,this.config,this.genome);case 11:i=e.sent;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"loadFeaturesFromDataURI",value:(t=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=qv(this.dataURI),this.header=this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),n=this.parser.parseFeatures(t),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),Oy=function(e,t,n){this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length};function Dy(e){for(var t=new Um,n=e.length,r=Math.max(10,Math.round(n/10)),i=0;i<n;i+=r){for(var a=Math.min(n,i+r),o=new My(i,a),s=e[i].start,c=s,l=i;l<a;l++)c=Math.max(c,e[l].end);t.insert(s,c,o)}return t}Oy.prototype.containsRange=function(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)},Oy.prototype.queryFeatures=function(e,t,n){var r=this.treeMap[e];if(!r)return[];var i=r.findOverlapping(t,n);if(0===i.length)return[];var a=[],o=this.allFeatures[e];if(o){var s=!0,c=!1,l=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0)for(var f=u.value.value,d=f.start;d<f.end;d++){var p=o[d];if(p.start>n)break;p.end>=t&&a.push(p)}}catch(v){c=!0,l=v}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}a.sort(function(e,t){return e.start-t.start})}return a},Oy.prototype.getAllFeatures=function(){return this.allFeatures},Oy.prototype.buildTreeMap=function(e,t){var n={},r=[];if(this.allFeatures={},e){var i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=l.chr;t&&(u=t.getChromosomeName(u));var h=this.allFeatures[u];h||(r.push(u),this.allFeatures[u]=h=[]),h.push(l)}}catch(b){a=!0,o=b}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,d=!1,p=void 0;try{for(var v,m=r[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g=v.value,y=this.allFeatures[g];y.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}),n[g]=Dy(y)}}catch(b){d=!0,p=b}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}}return n};var My=function e(t,n){$n(this,e),this.start=t,this.end=n},Py=function(){function e(t){$n(this,e),this.config=t}var t;return Gn(e,[{key:"readFeatures",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof this.config.url?this.config.url({chr:t,start:n,end:r}):this.config.url.replace("$CHR",t).replace("$START",n).replace("$END",r),a=Object.assign({},this.config),void 0!==this.config.body&&(a.body="function"==typeof this.config.body?this.config.body({chr:t,start:n,end:r}):this.config.body.replace("$CHR",t).replace("$START",n).replace("$END",r)),e.next=5,om.load(i,a);case 5:if((s=e.sent)&&(o="function"==typeof this.config.parser?this.config.parser(s):tv(s)?JSON.parse(s):s),!this.config.mappings){e.next=52;break}c=Object.keys(this.config.mappings),l=!0,u=!1,h=void 0,e.prev=12,f=o[Symbol.iterator]();case 14:if(l=(d=f.next()).done){e.next=38;break}for(p=d.value,v=!0,m=!1,g=void 0,e.prev=19,y=c[Symbol.iterator]();!(v=(b=y.next()).done);v=!0)p[_=b.value]=p[this.config.mappings[_]];e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),m=!0,g=e.t0;case 27:e.prev=27,e.prev=28,v||null==y.return||y.return();case 30:if(e.prev=30,!m){e.next=33;break}throw g;case 33:return e.finish(30);case 34:return e.finish(27);case 35:l=!0,e.next=14;break;case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(12),u=!0,h=e.t1;case 44:e.prev=44,e.prev=45,l||null==f.return||f.return();case 47:if(e.prev=47,!u){e.next=50;break}throw h;case 50:return e.finish(47);case 51:return e.finish(44);case 52:return e.abrupt("return",o);case 53:case"end":return e.stop()}},e,this,[[12,40,44,52],[19,23,27,35],[28,,30,34],[45,,47,51]])})),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Ly=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};Ly.prototype.readFeatures=function(e,t,n){var r=Math.max(0,Math.floor(t)),i=Math.ceil(n);if(this.genome){var a=this.genome.getChromosome(e);a&&i>a.bpLength&&(i=a.bpLength)}return om.loadJson(this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+i,this.config).then(function(e){return e?(e.forEach(function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,i,a,o;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),i=[];for(var s=0;s<t;s++){var c={start:a=parseInt(n[s]),end:o=parseInt(r[s])};(e.cdsStart>o||e.cdsEnd<e.cdsStart)&&(c.utr=!0),e.cdsStart>=a&&e.cdsStart<=o&&(c.cdStart=e.cdsStart),e.cdsEnd>=a&&e.cdsEnd<=o&&(c.cdEnd=e.cdsEnd),i.push(c)}e.exons=i}(e)}),e):null})};for(var Fy=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna"]),Ny=new Set(["CDS","cds"]),zy=new Set(["start_codon","stop_codon"]),jy=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),By=new Set(["exon","coding-exon"]),Vy=new Set,Uy=0,Hy=[Fy,Ny,zy,jy,By];Uy<Hy.length;Uy++){var $y=Hy[Uy],qy=!0,Gy=!1,Wy=void 0;try{for(var Yy,Zy=$y[Symbol.iterator]();!(qy=(Yy=Zy.next()).done);qy=!0)Vy.add(Yy.value)}catch(Bk){Gy=!0,Wy=Bk}finally{try{qy||null==Zy.return||Zy.return()}finally{if(Gy)throw Wy}}}var Xy=function(){function e(t){$n(this,e),this.format=t.format,t.filterTypes&&(this.filterTypes=new Set(t.filterTypes))}return Gn(e,[{key:"combineFeatures",value:function(e){var t;if("gff3"===this.format){var n=this.combineFeaturesById(e);t=this.combineFeaturesGFF(n)}else t=this.combineFeaturesGTF(e);return t.sort(function(e,t){return e.start-t.start}),t}},{key:"combineFeaturesById",value:function(e){var t=[],n={},r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;if(void 0===c.id)t.push(c);else{var l=n[c.chr];if(l||(n[c.chr]=l={}),l.hasOwnProperty(c.id)){var u=l[c.id];if(u.hasOwnProperty("exons"))u.start=Math.min(u.start,c.start),u.end=Math.max(u.end,c.end),u.exons.push(c);else{var h={id:c.id,type:c.type,chr:c.chr,strand:c.strand,start:Math.min(c.start,u.start),end:Math.max(c.end,u.end),exons:[u,c]};c.parent&&""!==c.parent.trim()&&(h.parent=c.parent),l[c.id]=h}}else l[c.id]=c}}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}for(var f=0,d=Object.keys(n);f<d.length;f++)for(var p=n[d[f]],v=0,m=Object.keys(p);v<m.length;v++)t.push(p[m[v]]);return t}},{key:"combineFeaturesGTF",value:function(e){var t=Object.create(null),n=[],r=new Set,i=this.filterTypes;e=e.filter(function(e){return void 0===i||!i.has(e.type)});var a=!0,o=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(Fy.has(u.type)){var h=u.id;if(void 0!==h){var f=new Ky(u);t[h]=f,n.push(f),r.add(u)}}}}catch(Bk){o=!0,s=Bk}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}var d=!0,p=!1,v=void 0;try{for(var m,g=e[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;if(By.has(y.type)){var b=y.id;if(b){var _=t[b];void 0===_&&(_=new Ky(y),t[b]=_,n.push(_)),_.addExon(y),r.add(y)}}}}catch(Bk){p=!0,v=Bk}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}var w=!0,k=!1,S=void 0;try{for(var x,C=e[Symbol.iterator]();!(w=(x=C.next()).done);w=!0){var E=x.value;if(Ny.has(E.type)||jy.has(E.type)||zy.has(E.type)){var R=E.id;if(R){var A=t[R];void 0===A&&(A=new Ky(E),t[R]=A,n.push(A)),jy.has(E.type)?A.addUTR(E):Ny.has(E.type)?A.addCDS(E):zy.has(E.type),r.add(E)}}}}catch(Bk){k=!0,S=Bk}finally{try{w||null==C.return||C.return()}finally{if(k)throw S}}for(var T=0,I=n;T<I.length;T++){var O=I[T];"function"==typeof O.finish&&O.finish()}var D=e.filter(function(e){return!r.has(e)}),M=!0,P=!1,L=void 0;try{for(var F,N=D[Symbol.iterator]();!(M=(F=N.next()).done);M=!0)n.push(F.value)}catch(Bk){P=!0,L=Bk}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}return n}},{key:"combineFeaturesGFF",value:function(e){var t=Object.create(null),n=[],r=new Set,i=this.filterTypes;e=e.filter(function(e){return void 0===i||!i.has(e.type)});var a=!0,o=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(Fy.has(u.type)){var h=u.id;if(void 0!==h){var f=new Ky(u);t[h]=f,n.push(f),r.add(u)}}}}catch(Bk){o=!0,s=Bk}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}var d=!0,p=!1,v=void 0;try{for(var m,g=e[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;if(By.has(y.type)){var b=q(y);if(b){var _=!0,w=!1,k=void 0;try{for(var S,x=b[Symbol.iterator]();!(_=(S=x.next()).done);_=!0){var C=t[S.value];void 0!==C&&(C.addExon(y),r.add(y))}}catch(Bk){w=!0,k=Bk}finally{try{_||null==x.return||x.return()}finally{if(w)throw k}}}}}}catch(Bk){p=!0,v=Bk}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}var E=!0,R=!1,A=void 0;try{for(var T,I=e[Symbol.iterator]();!(E=(T=I.next()).done);E=!0){var O=T.value;if(Ny.has(O.type)||jy.has(O.type)||zy.has(O.type)){var D=q(O);if(D){var M=!0,P=!1,L=void 0;try{for(var F,N=D[Symbol.iterator]();!(M=(F=N.next()).done);M=!0){var z=t[F.value];void 0!==z&&(jy.has(O.type)?z.addUTR(O):Ny.has(O.type)?z.addCDS(O):zy.has(O.type),r.add(O))}}catch(Bk){P=!0,L=Bk}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}}}}}catch(Bk){R=!0,A=Bk}finally{try{E||null==I.return||I.return()}finally{if(R)throw A}}n.forEach(function(e){"function"==typeof e.finish&&e.finish()});var j=e.filter(function(e){return!r.has(e)}),B=!0,V=!1,U=void 0;try{for(var H,$=j[Symbol.iterator]();!(B=(H=$.next()).done);B=!0)n.push(H.value)}catch(Bk){V=!0,U=Bk}finally{try{B||null==$.return||$.return()}finally{if(V)throw U}}return n;function q(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}}]),e}(),Ky=function(e){Object.assign(this,e),this.exons=[]};Ky.prototype.addExon=function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},Ky.prototype.addCDS=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end,t.children||(t.children=[]),t.children.push(e)):(e.cdStart=e.start,e.cdEnd=e.end,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end},Ky.prototype.addUTR=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)),t.children||(t.children=[]),t.children.push(e)):(e.utr=!0,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},Ky.prototype.finish=function(){var e=this.cdStart,t=this.cdEnd;this.exons.sort(function(e,t){return e.start-t.start}),e&&this.exons.forEach(function(n){(n.end<e||n.start>t)&&(n.utr=!0)})},Ky.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];n.push({name:"type",value:this.type}),n.push({name:"start",value:this.start+1}),n.push({name:"end",value:this.end});var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value.trim().split(this.delim,2);if(2===c.length&&void 0!==c[1]){var l=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),n.push({name:l,value:u})}}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var h=!0,f=!1,d=void 0;try{for(var p,v=this.exons[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var m=p.value;if(e>=m.start&&e<m.end){n.push("<hr>");var g=m.popupData(e),y=!0,b=!1,_=void 0;try{for(var w,k=g[Symbol.iterator]();!(y=(w=k.next()).done);y=!0)n.push(w.value)}catch(Bk){b=!0,_=Bk}finally{try{y||null==k.return||k.return()}finally{if(b)throw _}}if(m.children){var S=!0,x=!1,C=void 0;try{for(var E,R=m.children[Symbol.iterator]();!(S=(E=R.next()).done);S=!0){var A=E.value;n.push("<hr>");var T=A.popupData(e),I=!0,O=!1,D=void 0;try{for(var M,P=T[Symbol.iterator]();!(I=(M=P.next()).done);I=!0)n.push(M.value)}catch(Bk){O=!0,D=Bk}finally{try{I||null==P.return||P.return()}finally{if(O)throw D}}}}catch(Bk){x=!0,C=Bk}finally{try{S||null==R.return||R.return()}finally{if(x)throw C}}}}}}catch(Bk){f=!0,d=Bk}finally{try{h||null==v.return||v.return()}finally{if(f)throw d}}return n};var Qy=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};Qy.prototype.readFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,a=t.startsWith("chr")?t:"chr"+t,o=Math.floor(n),s=Math.ceil(r),c=this.url+"?chromosome="+a+"&start="+o+"&end="+s+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+this.datasetId,e.next=3,om.loadJson(c,{withCredentials:i.config.withCredentials});case 3:if(!(l=e.sent)||!l.singleTissueEqtl){e.next=9;break}return l.singleTissueEqtl.forEach(function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId}),e.abrupt("return",l.singleTissueEqtl);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}();var Jy=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};function eb(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},om.loadJson(t,e)}function tb(e){return new Promise(function(t,n){var r=e.results?e.results:[],i=e.url,a=e.body,o=e.decode,s=Pv.apiKey,c="?",l=e.fields;return s&&(i=i+c+"key="+s,c="&"),l&&(i=i+c+"fields="+l),function e(s){s?a.pageToken=s:void 0!==a.pageToken&&delete a.pageToken;var c=JSON.stringify(a);om.loadJson(i,{sendData:c,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then(function(n){var i,a;n?((a=o?o(n):n)&&a.forEach(function(e){r.push(e)}),(i=n.nextPageToken)?e(i):t(r)):t(r)}).catch(function(e){n(e)})}()})}Jy.prototype.readFeatures=function(e,t,n){var r=this,i=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise(function(e,t){om.loadJson(i,{withCredentials:r.config.withCredentials}).then(function(t){t?(t.eqtls.forEach(function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1}),e(t.eqtls)):e(null)}).catch(function(e){t(e)})})};var nb=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};nb.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):tb({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach(function(e){r.add(e)}),t.callSets.forEach(function(e){r.has(e.id)&&n.push(e)}),n}return t.callSets}}).then(function(t){return e.header.callSets=t,e.header}))},nb.prototype.readFeatures=function(e,t,n){var r=this,i=this.genome;return r.readHeader().then(function(e){return new Promise(function(e,t){r.chrAliasTable?e(r.chrAliasTable):r.readMetadata().then(function(t){r.metadata=t.metadata,r.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach(function(e){var t=e.referenceName,n=i.getChromosomeName(t);r.chrAliasTable[n]=t}),e(r.chrAliasTable)})})}).then(function(i){var a=i.hasOwnProperty(e)?i[e]:e;return tb({url:r.url+"/variants/search",fields:r.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(r.variantSetId)?r.variantSetId:[r.variantSetId],callSetIds:r.callSetIds?r.callSetIds:void 0,referenceName:a,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach(function(e){(t=function(e){var t=new ay;return t.chr=e.referenceName,t.start=parseInt(e.start),t.end=parseInt(e.end),t.pos=t.start+1,t.names=sy(e.names,"; "),t.referenceBases=e.referenceBases,t.alternateBases=sy(e.alternateBases),t.quality=e.quality,t.filter=sy(e.filter),t.info={},e.info&&Object.keys(e.info).forEach(function(n){var r,i=e.info[n];r=Array.isArray(i)?i.join(","):i,t.info[n]=r}),t.calls={},e.calls&&e.calls.forEach(function(e){t.calls[e.callSetId]=e}),ny(t),t}(e)).isRefBlock()||n.push(t)}),n}})})},nb.prototype.readMetadata=function(){return eb({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var rb=function(e){this.config=e};function ib(e,t,n,r){if(this.chr=e,this.start=t,this.end=n,this.id=r.id,this.entrezName=r.entrez_name,this.name=r.name,this.actionabilityScore=r.civic_actionability_score,r.coordinates.reference_bases&&(this.refBases=r.coordinates.reference_bases),r.coordinates.variant_bases&&(this.altBases=r.coordinates.variant_bases),r.variant_types&&(this.variant_types=r.variant_types),this.locationString=this.chr+":"+nv(this.start+1)+"-"+nv(this.end),void 0!==this.actionabilityScore){var i;if(this.actionabilityScore<=10)i=.2;else{var a=Math.min(30,this.actionabilityScore);i=.2+.8*Math.log10((a-10)/2)}this.alpha=i}}function ab(e,t){t=t||Number.MAX_SAFE_INTEGER;var n=[];e.sort(function(e,t){return e.start-t.start}),n.push(-1e3);var r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=0,u=Math.min(n.length,t);for(l=0;l<u;l++)if(c.start>n[l]){c.row=l,n[l]=c.end;break}c.row=l,n[l]=c.end}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}rb.prototype.readFeatures=function(e,t,n){return om.loadJson(this.config.url+"/variants/?count=5000").then(function(e){var t=e.records,n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;if(c.coordinates){var l=c.coordinates;l.chromosome&&n.push(new ib(l.chromosome,l.start-1,l.stop,c)),l.chromosome2&&n.push(new ib(l.chromosome2,l.start2-1,l.stop2,c))}}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n})},ib.prototype.popupData=function(){var e=[l("CIViC","https://civicdb.org/links/variants/"+this.id)];if(e.push({name:"Entrez",value:l(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),e.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var t,n=1===this.variant_types.length?"Type":"Types",r=!0,i=!1,a=void 0;try{for(var o,s=this.variant_types[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;t?t+=", "+c.display_name:t=c.display_name}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}e.push({name:n,value:t})}return e.push({name:"Actionability",value:this.actionabilityScore}),e.push({name:"Location",value:this.locationString}),e;function l(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}};var ob=new Set(["bigwig","bw","bigbed","bb","tdf"]),sb=function(){function e(t,n){if($n(this,e),this.config=t||{},this.genome=n,this.sourceType=void 0===t.sourceType?"file":t.sourceType,void 0===t.filterTypes&&(t.filterTypes=["chromosome","gene"]),t.features&&Array.isArray(t.features)){var r=t.features;cb(r),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach(function(e){n.forEach(function(n){e[n]=e[t[n]]})})}(r,t.mappings),this.featureCache=new Oy(r,n),this.static=!0}else"ga4gh"===t.sourceType?(this.reader=new nb(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new Jy(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new Qy(t),this.queryable=!0,this.expandQuery=!!t.expandQuery):"ucscservice"===t.sourceType?(this.reader=new Ly(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new Py(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable,this.expandQuery=!!t.expandQuery):t.reader?(this.reader=t.reader,this.queryable=void 0===t.queryable||t.queryable,this.expandQuery=!!t.expandQuery):"civic-ws"===t.sourceType?(this.reader=new rb(t),this.queryable=!1,this.expandQuery=!!t.expandQuery):(this.reader=new Iy(t,n),void 0!==t.queryable?this.queryable=t.queryable:ob.has(t.format)&&(this.queryable=ob.has(t.format)||this.reader.indexed));this.supportsWG=!this.queryable}var t,n;return Gn(e,[{key:"supportsWholeGenome",value:function(){return this.supportsWG}},{key:"getFileHeader",value:(n=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=10;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=9;break}return e.next=4,this.reader.readHeader();case 4:(t=e.sent)&&(this.header=t,(n=t.features)&&this.ingestFeatures(n),t.format&&(this.config.format=t.format)),this.header=t,e.next=10;break;case 9:this.header={};case 10:return e.abrupt("return",this.header);case 11:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r,i,a){var o,s,c,l,u,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=Hn(regeneratorRuntime.mark(function e(){var i,s,l,u,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=new Iv(c,i=n,s=r),!this.featureCache||!this.static&&!this.featureCache.containsRange(l)&&"all"!==t.toLowerCase()){e.next=7;break}return e.abrupt("return",this.featureCache);case 7:return(!a||a<=0)&&!1!==this.expandQuery?(i=0,s=Number.MAX_SAFE_INTEGER):a>r-n&&!1!==this.expandQuery&&(u=Math.min(4.1*(r-n),a),i=Math.max(0,(n+r-u)/2),s=n+u),l=new Iv(c,i,s),e.next=11,o.readFeatures(c,l.start,l.end);case 11:return h=e.sent,void 0===this.queryable&&(this.queryable=o.indexed),h?this.ingestFeatures(h,l):this.featureCache=new Oy,e.abrupt("return",this.featureCache);case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},h=function(){return f.apply(this,arguments)},o=this.reader,c=(s=this.genome)?s.getChromosomeName(t):t,e.next=7,h.call(this);case 7:if(l=e.sent,u=this.queryable,"all"!==t.toLowerCase()){e.next=22;break}if(!u){e.next=14;break}return e.abrupt("return",[]);case 14:if(!(l.count>5e5)){e.next=19;break}return this.supportsWG=!1,e.abrupt("return",[]);case 19:return e.abrupt("return",this.getWGFeatures(l.getAllFeatures()));case 20:e.next=23;break;case 22:return e.abrupt("return",l.queryFeatures(c,n,r));case 23:case"end":return e.stop()}},e,this)})),function(e,n,r,i,a){return t.apply(this,arguments)})},{key:"ingestFeatures",value:function(e,t){"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(e=new Xy(this.config).combineFeatures(e)),"wig"!==this.config.format&&"junctions"!==this.config.type&&cb(e,this.config.maxRows||500),this.featureCache=new Oy(e,this.genome,t),this.config.searchable&&this.addFeaturesToDB(e)}},{key:"addFeaturesToDB",value:function(e){var t=this;e.forEach(function(e){e.name&&(t.config.browser.featureDB[e.name.toUpperCase()]=e)})}},{key:"getWGFeatures",value:function(e){var t=this.genome,n=new Set(t.wgChromosomeNames),r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t.wgChromosomeNames[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=e[s.value];if(l){var u=!0,h=!1,f=void 0;try{for(var d,p=l[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var v=d.value,m=t.getChromosomeName(v.chr);if(n.has(m)){var g=Object.create(Object.getPrototypeOf(v));Object.assign(g,v),g.realChr=v.chr,g.realStart=v.start,g.realEnd=v.end,g.chr="all",g.start=t.getGenomeCoordinate(v.chr,v.start),g.end=t.getGenomeCoordinate(v.chr,v.end),g.originalFeature=v,g.exons&&delete g.exons,g.popupData=function(e){if("function"==typeof this.originalFeature.popupData)return this.originalFeature.popupData();var n=Object.assign({},this);return n.chr=this.realChr,n.start=this.realStart+1,n.end=this.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd,delete n.px,delete n.py,ey.extractPopupData(n,t.id)},r.push(g)}}}catch(Bk){h=!0,f=Bk}finally{try{u||null==p.return||p.return()}finally{if(h)throw f}}}}}catch(Bk){a=!0,o=Bk}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r.sort(function(e,t){return e.start-t.start}),r}}]),e}();function cb(e,t){if(t=t||1e3,null!=e&&0!==e.length){var n={},r=[];e.forEach(function(e){var t=e.chr,i=n[t];i||(n[t]=i=[],r.push(t)),i.push(e)}),r.forEach(function(e){ab(n[e],t)})}}var lb=r.isFinite;Ie({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&lb(e)}});var ub=function(e,t,n){this.path=e.url,this.bufferSize=n||512e3,this.range={start:-1,size:-1},this.config=e};ub.prototype.dataViewForRange=function(e,t){var n,r,i=this;return i.data&&i.range.start<=e.start&&i.range.start+i.range.size>=e.start+e.size?Promise.resolve(a(i,e,t)):(n=e.size?Math.max(i.bufferSize,e.size):i.bufferSize,om.loadArrayBuffer(i.path,Sv(i.config,{range:r={start:e.start,size:n}})).then(function(n){return i.data=n,i.range=r,a(i,e,t)}));function a(e,t,n){var r=e.data.byteLength,i=t.start-e.range.start;return n?new Uint8Array(e.data,i,r-i):new DataView(e.data,i,r-i)}};var hb=function(e,t){this.path=e.url,this.genome=t,this.rpTreeCache={},this.config=e};function fb(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}function db(e,t,n){this.config=t,this.fileOffset=e,this.path=t.url,this.littleEndian=n}function pb(e){this.items=e;var t,n,r=Number.MAX_SAFE_INTEGER,i=0,a=Number.MAX_SAFE_INTEGER,o=0;for(t=0;t<e.length;t++)n=e[t],r=Math.min(r,n.startChrom),i=Math.max(i,n.endChrom),a=Math.min(a,n.startBase),o=Math.max(o,n.endBase);this.startChrom=r,this.endChrom=i,this.startBase=a,this.endBase=o}function vb(e,t,n){var r=e.getInt(),i=e.getInt(),a=e.getInt(),o=e.getInt(),s=e.getLong(),c=e.getLong(),l={},u=[];this.header={magic:r,blockSize:i,keySize:a,valSize:o,itemCount:s,reserved:c},this.chromToID=l,this.idToChrom=u,function e(r,i){i>=0&&(r.position=i);var o,s,c,h,f,d=r.getByte(),p=(r.getByte(),r.getUShort());if(1===d)for(o=0;o<p;o++)s=r.getFixedLengthTrimmedString(a),c=r.getInt(),r.getInt(),n&&(s=n.getChromosomeName(s)),l[s]=c,u[c]=s;else for(o=0;o<p;o++)s=r.getFixedLengthTrimmedString(a),h=r.getLong(),f=r.position,e(r,h-t),r.position=f}(e,-1)}function mb(e,t,n,r,i){return!!e&&(r>e.startChrom||r===e.startChrom&&i>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase)}function gb(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),yb.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}function yb(){var e=this.basesCovered;e>0&&(this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1)),this.defaultRange={min:this.minVal<0?this.mean-2*this.stddev:0,max:this.maxVal>0?this.mean+2*this.stddev:0})}function bb(e,t,n,r,i,a,o){var s,c=new hy(e),l=c.getInt(),u=c.getInt(),h=c.getInt(),f=c.getInt(),d=c.getInt(),p=c.getByte(),v=(c.getByte(),c.getUShort());if(l>=t&&l<=r)for(;v-- >0;){switch(p){case 1:u=c.getInt(),h=c.getInt(),s=c.getFloat();break;case 2:u=c.getInt(),s=c.getFloat(),h=u+d;break;case 3:s=c.getFloat(),h=u+d,u+=f}if(!(l<t||l===t&&h<n)){if(l>r||l===r&&u>=i)break;Number.isFinite(s)&&a.push({chr:o[l],start:u,end:h,value:s})}}}function _b(e,t,n,r,i,a,o){for(var s=new hy(e);s.remLength()>=13;){var c=s.getInt(),l=o[c],u=s.getInt(),h=s.getInt(),f=s.getString();if(!(c<t||c===t&&h<n)){if(c>r||c===r&&u>=i)break;var d={chr:l,start:u,end:h};a.push(d);var p=f.split("\t");if(p.length>0&&(d.name=p[0]),p.length>1&&(d.score=parseFloat(p[1])),p.length>2&&(d.strand=p[2]),p.length>3&&(d.cdStart=parseInt(p[3])),p.length>4&&(d.cdEnd=parseInt(p[4])),p.length>5&&"."!==p[5]&&"0"!==p[5]&&"-1"!==p[5]){var v=ov.createColorString(p[5]);d.color=v.startsWith("rgb")?v:void 0}if(p.length>8){for(var m=parseInt(p[6]),g=p[7].split(","),y=p[8].split(","),b=[],_=0;_<m;_++){var w=u+parseInt(y[_]),k=w+parseInt(g[_]);b.push({start:w,end:k})}d.exons=b}}}}function wb(e,t,n,r,i,a,o,s){for(var c,l,u,h,f,d,p,v,m,g=new hy(e);g.remLength()>=32;){switch(m=o[c=g.getInt()],l=g.getInt(),u=g.getInt(),h=g.getInt(),f=g.getFloat(),d=g.getFloat(),p=g.getFloat(),g.getFloat(),s){case"min":v=f;break;case"max":v=d;break;default:v=0===h?0:p/h}if(!(c<t||c===t&&u<n)){if(c>r||c===r&&l>=i)break;Number.isFinite(v)&&a.push({chr:m,start:l,end:u,value:v})}}}hb.prototype.readWGFeatures=function(e,t){var n=this;return n.getZoomHeaders().then(function(r){return n.readFeatures(n.chromTree.idToChrom[0],0,n.chromTree.idToChrom[n.chromTree.idToChrom.length-1],Number.MAX_VALUE,e,t)})},hb.prototype.readFeatures=function(e,t,n,r,i,a){var o,s,c,l=this;return l.getZoomHeaders().then(function(e){var t,n=function(e,t){var n,r,i=null;for(n=0;n<t.length;n++)if((r=t[n]).reductionLevel<e){i=r;break}return i}(i,e);return n?(t=n.indexOffset,o=wb):(t=l.header.fullIndexOffset,o="BigWig"===l.type?bb:_b),l.loadRPTree(t)}).then(function(i){return c=l.chromTree.chromToID[n],void 0===(s=l.chromTree.chromToID[e])||void 0===c?void 0:i.findLeafItemsOverlapping(s,t,c,r)}).then(function(e){if(e&&0!==e.length){var n=Number.MAX_VALUE,i=0,u=!0,h=!1,f=void 0;try{for(var d,p=e[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var v=d.value;n=Math.min(n,v.dataOffset),i=Math.max(i,v.dataOffset+v.dataSize)}}catch(Bk){h=!0,f=Bk}finally{try{u||null==p.return||p.return()}finally{if(h)throw f}}return om.loadArrayBuffer(l.config.url,Sv(l.config,{range:{start:n,size:i-n}})).then(function(i){var u=[],h=new Uint8Array(i),f=!0,d=!1,p=void 0;try{for(var v,m=e[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g,y=v.value,b=h.subarray(y.dataOffset-n,y.dataOffset+y.dataSize);g=l.header.uncompressBuffSize>0?new Qp.Inflate(b).decompress():b,o(new DataView(g.buffer),s,t,c,r,u,l.chromTree.idToChrom,a)}}catch(Bk){d=!0,p=Bk}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}return u.sort(function(e,t){return e.start-t.start}),u})}return[]})},hb.prototype.getZoomHeaders=function(){var e=this;return e.zoomLevelHeaders?Promise.resolve(e.zoomLevelHeaders):e.loadHeader().then(function(){return e.zoomLevelHeaders})},hb.prototype.loadHeader=function(){var e=this;return e.header?Promise.resolve(e.header):om.loadArrayBuffer(e.path,Sv(e.config,{range:{start:0,size:64}})).then(function(t){var n;e.littleEndian=!0;var r=new hy(new DataView(t)),i=r.getUInt();if(2291137574===i)e.type="BigWig";else if(2273964779===i)e.type="BigBed";else{e.littleEndian=!1,r.littleEndian=!1,r.position=0;var a=r.getUInt();654085990===a?e.type="BigWig":3958540679===a&&(e.type="BigBed")}return(n={}).bwVersion=r.getUShort(),n.nZoomLevels=r.getUShort(),n.chromTreeOffset=r.getLong(),n.fullDataOffset=r.getLong(),n.fullIndexOffset=r.getLong(),n.fieldCount=r.getUShort(),n.definedFieldCount=r.getUShort(),n.autoSqlOffset=r.getLong(),n.totalSummaryOffset=r.getLong(),n.uncompressBuffSize=r.getInt(),n.reserved=r.getLong(),n}).then(function(n){return e.header=n,t.call(e)});function t(){var e=this;return om.loadArrayBuffer(e.path,Sv(e.config,{range:{start:64,size:e.header.fullDataOffset-64+5}})).then(function(t){var n=e.header.nZoomLevels,r=new hy(new DataView(t));e.zoomLevelHeaders=[],e.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(var i=1;i<=n;i++){var a=n-i,o=new fb(a,r);e.firstZoomDataOffset=Math.min(o.dataOffset,e.firstZoomDataOffset),e.zoomLevelHeaders[a]=o}if(e.header.autoSqlOffset>0&&(r.position=e.header.autoSqlOffset-64,e.autoSql=r.getString()),e.header.totalSummaryOffset>0&&(r.position=e.header.totalSummaryOffset-64,e.totalSummary=new gb(r)),!(e.header.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return r.position=e.header.chromTreeOffset-64,e.chromTree=new vb(r,64,e.genome),r.position=e.header.fullDataOffset-64,e.header.dataCount=r.getInt(),e.header})}},hb.prototype.loadRPTree=function(e){var t=this,n=t.rpTreeCache[e];return n?Promise.resolve(n):(n=new db(e,t.config,t.littleEndian)).load().then(function(){return t.rpTreeCache[e]=n,n})},db.prototype.load=function(){var e=this,t=e.fileOffset+48,n=new ub(e.config,512e3);return e.readNode(t,n).then(function(t){return e.rootNode=t,e})},db.prototype.readNode=function(e,t){var n,r,i=this;return t.dataViewForRange({start:e,size:4},!1).then(function(a){var o,s;return s=(o=new hy(a,i.littleEndian)).getByte(),r=1===s,o.getByte(),n=o.getUShort(),t.dataViewForRange({start:e+=4,size:n*(r?32:24)},!1)}).then(function(e){var t,i=new Array(n),a=new hy(e);if(r){for(t=0;t<n;t++){var o={isLeaf:!0,startChrom:a.getInt(),startBase:a.getInt(),endChrom:a.getInt(),endBase:a.getInt(),dataOffset:a.getLong(),dataSize:a.getLong()};i[t]=o}return new pb(i)}for(t=0;t<n;t++){var s={isLeaf:!1,startChrom:a.getInt(),startBase:a.getInt(),endChrom:a.getInt(),endBase:a.getInt(),childOffset:a.getLong()};i[t]=s}return new pb(i)})},db.prototype.findLeafItemsOverlapping=function(e,t,n,r){var i=this;return new Promise(function(a,o){var s=[],c=new Set,l=new ub(i.config,512e3);c.add(0),function u(h,f){mb(h,e,t,n,r)&&h.items.forEach(function(a){mb(a,e,t,n,r)&&(a.isLeaf?s.push(a):a.childNode?u(a.childNode):(c.add(a.childOffset),i.readNode(a.childOffset,l).then(function(e){a.childNode=e,u(e,a.childOffset)}).catch(o)))}),void 0!==f&&c.delete(f),0===c.size&&a(s)}(i.rootNode,0)})};var kb=function(e,t){this.reader=new hb(e,t),this.genome=t,this.format=e.format||"bigwig",this.wgValues={}};kb.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==t.toLowerCase()){e.next=6;break}return e.next=3,this.getWGValues(a);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.reader.readFeatures(t,n,t,r,i,a);case 8:e.t0=e.sent;case 9:return o=e.t0,"bigwig"===this.format.toLowerCase()||"bw"===this.format.toLowerCase()||ab(o),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),kb.prototype.getDefaultRange=function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0},kb.prototype.defaultVisibilityWindow=function(){if("bigwig"===this.reader.type)return Promise.resolve(void 0);var e=this.genome?this.genome.getGenomeLength():3088286401;return this.reader.loadHeader().then(function(t){return e/t.dataCount*1e3})},kb.prototype.getWGValues=function(e){var t,n=this,r=this.genome;return n.wgValues[e]?Promise.resolve(n.wgValues[e]):(t=r.getGenomeLength()/500,n.reader.readWGFeatures(t,e).then(function(t){var i=[];return t.forEach(function(e){var t,n;n=r.getCumulativeOffset(e.chr),(t=Object.assign({},e)).chr="all",t.start=n+e.start,t.end=n+e.end,i.push(t)}),n.wgValues[e]=i,i}))},kb.prototype.supportsWholeGenome=function(){return!0};var Sb={getTissueInfo:function(e,t){return om.loadJson((t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8"),{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}},xb=new Df("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach(function(e){xb.getColor(e)});var Cb,Eb=wv(ey,function(e,t){this.type="feature",ey.call(this,e,t),void 0===e.maxRows&&(e.maxRows=500),this.maxRows=e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode;var n=e.format?e.format.toLowerCase():void 0;this.featureSource="bigwig"===n||"bigbed"===n?new kb(e,t.genome):new sb(e,t.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight),void 0!==this.height&&this.height||(this.height=100),"spliceJunctions"===e.type&&void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5),e.render?this.render=e.render:"FusionJuncSpan"===e.type?this.render=Ib:"spliceJunctions"===e.type?this.render=Ob:"snp"===e.type?(this.render=Fb,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function"):(this.render=Ab,this.arrowSpacing=30,function(e){function t(){e.trackView&&e.trackView.tile&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",function n(r){e.browser.un&&e===r&&(e.browser.un("trackdrag",t),e.browser.un("trackremoved",n))}))}(this))});function Rb(e,t,n){var r=(e.start-t)/n,i=(e.end-t)/n,a=i-r;return a<3&&(a=3,r-=1.5),{px:r,px1:i,pw:a}}function Ab(e,t,n,r,i,a){var o,s,c=this.browser,l=this.color;if(e.alpha&&1!==e.alpha&&(l=ov.addAlpha(this.color,e.alpha)),this.config.colorBy){var u=e[this.config.colorBy.field];u&&(l=this.config.colorBy.pallete[u])}else e.color&&(l=e.color);i.fillStyle=l,i.strokeStyle=l,"SQUISHED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight/2,s=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight,s=this.margin+this.expandedRowHeight*e.row):(o=this.featureHeight,s=this.margin);var h=s+o/2,f=o/2,d=h-f/2,p=e.exons?e.exons.length:0,v=Rb(e,t,n),m=this.arrowSpacing,g="+"===e.strand?1:"-"===e.strand?-1:0;if(0===p){if(i.fillRect(v.px,s,v.pw,o),0!==g){i.fillStyle="white",i.strokeStyle="white";for(var y=v.px+m/2;y<v.px1;y+=m)Qm.strokeLine(i,y-2*g,h-2,y,h),Qm.strokeLine(i,y-2*g,h+2,y,h);i.fillStyle=l,i.strokeStyle=l}}else{Qm.strokeLine(i,v.px+1,h,v.px1-1,h);for(var b=a.pixelWidth,_=Math.max(0,v.px)+m/2,w=Math.min(b,v.px1),k=_;k<w;k+=m)Qm.strokeLine(i,k-2*g,h-2,k,h),Qm.strokeLine(i,k-2*g,h+2,k,h);for(var S=0;S<p;S++){var x=e.exons[S],C=Math.round((x.start-t)/n),E=Math.round((x.end-t)/n),R=Math.max(1,E-C),A=void 0;if(!(C+R<0)){if(C>b)break;if(x.utr)i.fillRect(C,d,R,f);else if(x.cdStart&&(A=Math.round((x.cdStart-t)/n),i.fillRect(C,d,A-C,f),R-=A-C,C=A),x.cdEnd&&(A=Math.round((x.cdEnd-t)/n),i.fillRect(A,d,E-A,f),R-=E-A,E=A),i.fillRect(C,s,R,o),R>m+5&&0!==g){i.fillStyle="white",i.strokeStyle="white";for(var T=C+m/2;T<E;T+=m)Qm.strokeLine(i,T-2*g,h-2,T,h),Qm.strokeLine(i,T-2*g,h+2,T,h);i.fillStyle=l,i.strokeStyle=l}}}}var I=Math.round(a.viewportContainerX);a.drawLabel&&Tb.call(this,i,e,v.px,v.px1,s,I,I+a.viewportContainerWidth/(c.genomicStateList?c.genomicStateList.length:1),a.genomicState,a)}function Tb(e,t,n,r,i,a,o,s,c){if(void 0!==t.name){var l,u,h;r<a||n>o?(l=n,u=r):(l=Math.max(n,a),u=Math.min(r,o));var f=!1;if(s.selection&&Sb.gtexLoaded&&(f=!0,h=s.selection.colorForGene(t.name)),"SQUISHED"!==this.displayMode){var d,p={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:h||t.color||this.color,strokeStyle:h||t.color||this.color};"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(d={rotate:{angle:45}});var v=l+(u-l)/2,m=function(e,t){return t?e+20:e+25}(i,d),g=e.measureText(t.name);(c.labelAllFeatures||v-g.width/2>c.rowLastX[t.row]||f)&&(c.rowLastX[t.row]=v+g.width/2,c.labelTransform?(e.save(),c.labelTransform(e,v),Qm.fillText(e,t.name,v,m,p,void 0),e.restore()):Qm.fillText(e,t.name,v,m,p,d))}}}function Ib(e,t,n,r,i){var a,o="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;"COLLAPSED"===this.display&&(a=this.margin),("SQUISHED"===this.displayMode&&void 0!==e.row||"EXPANDED"===this.displayMode&&void 0!==e.row)&&(a=this.margin+o*e.row);var s=a+.5*o,c=s-.5*o,l=s+.5*o,u=Math.round((e.junction_left-t)/n),h=Math.round((e.junction_right-t)/n);i.beginPath(),i.moveTo(u,s),i.bezierCurveTo(u,c,h,c,h,s),i.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var f=e.spanning_frag_coords,d=0;d<f.length;d++){var p=f[d],v=Math.round((p.left-t)/n),m=Math.round((p.right-t)/n);i.beginPath(),i.moveTo(v,s),i.bezierCurveTo(v,l,m,l,m,s),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}function Ob(e,t,n,r,i){if(!(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)){var a=parseInt(e.attributes.uniquely_mapped);if(!(a<this.config.minUniquelyMappedReads)){var o=parseInt(e.attributes.multi_mapped),s=a+o;if(!(s<this.config.minTotalReads||s>0&&o/s>this.config.maxFractionMultiMappedReads||parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)){var c,l,u,h=this.margin,f=this.height,d=h+.5*f,p=h,v=h+f-10,m=Math.round((e.start-t)/n),g=Math.round((e.end-t)/n),y=(m+g)/2,b=(m+y)/2,_=(y+g)/2;void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?c=a:"numReads"===this.config.thicknessBasedOn?c=s:"isAnnotatedJunction"===this.config.thicknessBasedOn&&(c="true"===e.attributes.annotated_junction?20:100),c=1+Math.log(c+1)/Math.log(12),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?l=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?l=(e.end-e.start)/1e3:"thickness"===this.config.bounceHeightBasedOn&&(l=2*c),p+=f*Math.max(7-l,0)/10,void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?u=a>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?u=s>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?u="true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?u="+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy&&(u=xb.getColor(e.attributes.motif));var w="";void 0===this.config.labelUniqueReadCount&&void 0===this.config.labelMultiMappedReadCount&&void 0===this.config.labelTotalReadCount?w+=a+(0==o?"":"(+"+o+")"):(this.config.labelTotalReadCount?w+=s:this.config.labelUniqueReadCount&&(w+=a),this.config.labelMultiMappedReadCount&&o>0&&(w+=" (+"+o+")")),this.config.labelAnnotatedJunction&&"true"===e.attributes.annotated_junction&&(w+=this.config.labelAnnotatedJunction),this.config.labelMotif&&e.attributes.motif&&(w+=" ".concat(e.attributes.motif)),i.beginPath(),i.moveTo(m,v),i.bezierCurveTo(b,p,_,p,g,v),i.lineWidth=c,i.strokeStyle=u,i.stroke(),i.fillText(w,y-i.measureText(w).width/2,(7*p+d)/8)}}}}Eb.prototype.postInit=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readFileHeader();case 2:if((t=e.sent)&&this.setTrackProperties(t),!(n=this.config.format)||"bigbed"!==n.toLowerCase()||void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}},e,this)})),Eb.prototype.supportsWholeGenome=function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome},Eb.prototype.readFileHeader=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}},e,this)})),Eb.prototype.getFeatures=(Cb=Hn(regeneratorRuntime.mark(function e(t,n,r,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return Cb.apply(this,arguments)}),Eb.prototype.computePixelHeight=function(e){if("spliceJunctions"===this.type)return this.height;if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;if(e&&"function"==typeof e.forEach){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.row&&s.row>t&&(t=s.row)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)},Eb.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,a=e.pixelWidth,o=e.pixelHeight,s=i+a*r+1;if(this.config.isMergedTrack||Qm.fillRect(n,0,e.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),t){var c=[];e.rowLastX=[];var l=!0,u=!1,h=void 0;try{for(var f,d=t[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value.row||0;void 0===c[p]?c[p]=1:c[p]++,e.rowLastX[p]=-Number.MAX_SAFE_INTEGER}}catch(Bk){u=!0,h=Bk}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}var v=[],m=!0,g=!1,y=void 0;try{for(var b,_=t[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var w=b.value;if(!(w.end<i)){if(w.start>s)break;var k="COLLAPSED"===this.displayMode?0:w.row;e.drawLabel=e.labelAllFeatures||a/c[k]>10;var S=Math.ceil((w.end-i)/r),x=v[k];if((!x||S>x||"spliceJunctions"===this.config.type)&&(this.render.call(this,w,i,r,o,n,e),"spliceJunctions"!==this.config.type)){var C=Math.floor((w.start-i)/r);x&&C-x<=0&&(n.globalAlpha=.5,Qm.strokeLine(n,C,0,C,o,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),v[k]=S}}}}catch(Bk){g=!0,y=Bk}finally{try{m||null==_.return||_.return()}finally{if(g)throw y}}}},Eb.prototype.clickedFeatures=function(e){var t,n=e.y-this.margin,r=ey.prototype.clickedFeatures.call(this,e);switch(this.displayMode){case"SQUISHED":t=Math.floor(n/this.squishedRowHeight);break;case"EXPANDED":t=Math.floor(n/this.expandedRowHeight);break;default:t=void 0}return r.filter(function(e){return void 0===t||void 0===e.row||t===e.row})},Eb.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=e.genomicLocation,r=[],i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u="function"==typeof l.popupData?l.popupData(n):ey.extractPopupData(l,this.getGenomeId());u&&(r.length>0&&r.push("<HR>"),Array.prototype.push.apply(r,u))}}catch(Bk){a=!0,o=Bk}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r},Eb.prototype.menuItemList=function(){var e=this,t=[];return this.render===Fb&&(["function","class"].forEach(function(n){t.push({object:xf("Color by "+n,n===e.colorBy),click:function(){e.colorBy=n,e.trackView.repaintViews()}})}),t.push({object:Ys('<div class="igv-track-menu-border-top">')})),t.push({object:Ys('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(n){t.push({object:xf({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.config.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t},Eb.prototype.description=function(){if(Fb===this.render){var e="<html>"+this.name+"<hr>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',(e+='<span style="color:black">Black</span>: Indel, Insertion, SNP')+"</html>"}return this.name},Eb.prototype.dispose=function(){this.trackView=void 0};var Db=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),Mb=new Set(["coding-synon"]),Pb=new Set(["splice-3","splice-5"]),Lb=new Set(["untranslated-5","untranslated-3"]);function Fb(e,t,n,r,i){var a,o,s,c=Rb(e,t,n),l=this.margin,u=this.snpColors.length;switch(a="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":o=e.func.split(",").map(function(e){return Db.has(e)||Pb.has(e)?u-1:Mb.has(e)?u-2:Lb.has(e)?u-3:0}).reduce(function(e,t){return Math.max(e,t)});break;case"class":o="deletion"===(s=e.class)?u-1:"mnp"===s?u-2:"microsatellite"===s||"named"===s?u-3:0}i.fillStyle=this.snpColors[o],i.fillRect(c.px,l,c.pw,a)}var Nb=function(e,t){this.type="sequence",this.browser=t,this.removable=!1,this.config=e,this.name="",this.id="sequence",this.sequenceType=e.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=e.order||-Number.MAX_SAFE_INTEGER,this.ignoreTrackMenu=!1,this.removable=!1,this.reversed=!1,this.frameTranslate=!1,this.complement={A:"T",C:"G",G:"C",T:"A"},this.translationDict={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"}};function zb(e){return this.color?this.color:"dna"===this.sequenceType?If[e]||"gray":"rgb(0, 0, 150)"}Nb.prototype.menuItemList=function(){var e=this;return[{name:e.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:e.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){e.frameTranslate=!e.frameTranslate,e.frameTranslate?(e.trackView.viewports.forEach(function(e){e.setContentHeight(115)}),e.trackView.setTrackHeight(115)):(e.trackView.viewports.forEach(function(e){e.setContentHeight(25)}),e.trackView.setTrackHeight(25)),e.trackView.repaintViews()}}]},Nb.prototype.translateSequence=function(e){var t=[[],[],[]],n=this;return[0,1,2].forEach(function(r){for(var i,a,o=r;e.length-o>=3;)i={},a=e.slice(o,o+3),n.reversed&&(a=a.split("").reverse().join("")),i.codons=a,i.aminoA=n.translationDict[a.toUpperCase()],t[r].push(i),i=null,o+=3}),t},Nb.prototype.getFeatures=function(e,t,n,r){var i=this.browser;return r&&r>1?Promise.resolve(null):i.genome.sequence.getSequence(e,t,n).then(function(e){return{bpStart:t,sequence:e}})},Nb.prototype.draw=function(e){var t=this,n=e.context;if(e.features){for(var r=e.features.sequence,i=e.features.bpStart,a=1+e.bpStart+e.pixelWidth*e.bpPerPixel,o=i;o<=a;o++){var s=Math.floor(o-i);if(s<r.length){var c=r[s];this.reversed&&(c=this.complement[c.toUpperCase()]);var l=o-e.bpStart,u=l/e.bpPerPixel,h=(l+1)/e.bpPerPixel,f=zb.call(this,c);if(e.bpPerPixel>.1)Qm.fillRect(n,u,5,h-u,10,{fillStyle:f});else{var d=.5*(u+h-n.measureText(c).width);Qm.strokeText(n,c,d,15,{strokeStyle:f})}}}if(this.frameTranslate){var p;p=this.reversed?(p=r.split("").map(function(e){return t.complement[e]})).join(""):r;var v=15,m=this.translateSequence(p),g=!0,y=!1,b=void 0;try{for(var _,w=m[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var k=_.value,S=m.indexOf(k),x=S;v=0===S?v+10:v+30;var C=!0,E=!1,R=void 0;try{for(var A,T=k[Symbol.iterator]();!(C=(A=T.next()).done);C=!0){var I=A.value,O=void 0,D=k.indexOf(I),M=D+x+2*D,P=0==D%2?"rgb(160,160,160)":"rgb(224,224,224)",L=Math.floor(M/e.bpPerPixel),F=Math.floor((M+3)/e.bpPerPixel),N=Math.round((L+F)/2);I.aminoA.indexOf("STOP")>-1?(P="rgb(255, 0, 0)",O="STOP"):O=I.aminoA,"M"===I.aminoA&&(P="rgb(0, 153, 0)",O="START"),Qm.fillRect(n,L,v,F-L,25,{fillStyle:P}),e.bpPerPixel<=.1&&Qm.strokeText(n,O,N-n.measureText(O).width/2,v+15)}}catch(Bk){E=!0,R=Bk}finally{try{C||null==T.return||T.return()}finally{if(E)throw R}}}}catch(Bk){y=!0,b=Bk}finally{try{g||null==w.return||w.return()}finally{if(y)throw b}}}}},Nb.prototype.supportsWholeGenome=function(){return!1},Nb.prototype.computePixelHeight=function(e){return this.height};var jb,Bb,Vb,Ub=function(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}};function Hb(e,t){for(var n=e.getInt(),r=e.getInt(),i=e.getFloat(),a=[],o=t;o-- >0;){for(var s=n,c=[];s-- >0;)c.push(e.getFloat());a.push(c)}return{type:"fixedStep",start:r,span:i,data:a,nTracks:t,nPositions:n}}function $b(e,t){for(var n=e.getInt(),r=e.getFloat(),i=e.getInt(),a=[],o=i;o-- >0;)a.push(e.getInt());e.getInt();for(var s=[],c=t;c-- >0;){o=i;for(var l=[];o-- >0;)l.push(e.getFloat());s.push(l)}return{type:"variableStep",tileStart:n,span:r,start:a,data:s,nTracks:t,nPositions:i}}function qb(e,t,n){for(var r=e.getInt(),i=r,a=[];i-- >0;)a.push(e.getInt());i=r;for(var o=[];i-- >0;)o.push(e.getInt());e.getInt();for(var s=[],c=t;c-- >0;){for(var l=r,u=[];l-- >0;)u.push(e.getFloat());s.push(u)}if("bedWithName"===n){i=r;for(var h=[];i-- >0;)h.push(e.getString())}return{type:n,start:a,end:o,data:s,name:name,nTracks:t,nPositions:r}}Ub.prototype.readHeader=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.magic){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:0,size:64e3}}));case 4:if(t=e.sent,n=new hy(new DataView(t)),this.magic=n.getInt(),this.version=n.getInt(),this.indexPos=n.getLong(),this.indexSize=n.getInt(),n.getInt(),this.version>=2)for(r=n.getInt(),this.windowFunctions=[];r-- >0;)this.windowFunctions.push(n.getString());for(this.trackType=n.getString(),this.trackLine=n.getString(),i=n.getInt(),this.trackNames=[];i-- >0;)this.trackNames.push(n.getString());return this.genomeID=n.getString(),this.flags=n.getInt(),this.compressed=0!=(1&this.flags),e.next=22,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(t=e.sent,n=new hy(new DataView(t)),this.datasetIndex={},a=n.getInt();a-- >0;)o=n.getString(),s=n.getLong(),c=n.getInt(),this.datasetIndex[o]={position:s,size:c};for(this.groupIndex={},a=n.getInt();a-- >0;)l=n.getString(),u=n.getLong(),h=n.getInt(),this.groupIndex[l]={position:u,size:h};return e.abrupt("return",this);case 31:case"end":return e.stop()}},e,this)})),Ub.prototype.readDataset=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.datasetCache[i=t+"_"+n+"_"+r]){e.next=5;break}return e.abrupt("return",this.datasetCache[i]);case 5:return e.next=7,this.readHeader();case 7:if(a=this.version<2?"":"/"+n,o="all"===t.toLowerCase()||void 0===r?"0":r.toString(),void 0!==(c=this.datasetIndex[s="raw"===n?"/"+t+"/raw":"/"+t+"/z"+o+a])){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.next=15,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:c.position,size:c.size}}));case 15:if(l=e.sent){e.next=18;break}return e.abrupt("return",void 0);case 18:for(u=new hy(new DataView(l)),h=u.getInt(),f={};h-- >0;)f[u.getString()]=u.getString();for(d=u.getString(),p=u.getFloat(),v=u.getInt(),m=[];v-- >0;)m.push({position:u.getLong(),size:u.getInt()});return this.datasetCache[i]=g={name:s,attributes:f,dataType:d,tileWidth:p,tiles:m},e.abrupt("return",g);case 30:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),Ub.prototype.readRootGroup=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,!(n=this.groupCache["/"])){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.readGroup("/");case 8:return i=(r=e.sent).chromosomes,(a=r.maxZoom)&&(this.maxZoom=Number(a)),o={},i&&i.split(",").forEach(function(e){var n=t.getChromosomeName(e);o[n]=e}),this.chrAliasTable=o,this.groupCache["/"]=r,e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)})),Ub.prototype.readGroup=(Vb=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.groupCache[t])){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.readHeader();case 7:if(void 0!==(r=this.groupIndex[t])){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.next=12,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:r.position,size:r.size}}));case 12:if(i=e.sent){e.next=15;break}return e.abrupt("return",void 0);case 15:for(a=new hy(new DataView(i)),o={name:t},s=a.getInt();s-- >0;)c=a.getString(),l=a.getString(),o[c]=l;return this.groupCache[t]=o,e.abrupt("return",o);case 21:case"end":return e.stop()}},e,this)})),function(e){return Vb.apply(this,arguments)}),Ub.prototype.readTiles=(Bb=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sort(function(e,t){return e.position-t.position}),0!==(t=t.filter(function(e){return e.size>0})).length){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return a=(r=t[t.length-1]).position+r.size-(i=t[0].position),e.next=10,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:i,size:a}}));case 10:o=e.sent,s=[],c=!0,l=!1,u=void 0,e.prev=15,h=t[Symbol.iterator]();case 17:if(c=(f=h.next()).done){e.next=41;break}if(p=(d=f.value).position-i,!((v=d.size)>0)){e.next=38;break}m=void 0,this.compressed?(g=new Qp.Inflate(new Uint8Array(o,p,v)),y=g.decompress(),m=y.buffer):m=o.slice(p,p+v),b=new hy(new DataView(m)),_=b.getString(),w=void 0,e.t0=_,e.next="fixedStep"===e.t0?30:"variableStep"===e.t0?32:"bed"===e.t0||"bedWithName"===e.t0?34:36;break;case 30:return w=Hb(b,n),e.abrupt("break",37);case 32:return w=$b(b,n),e.abrupt("break",37);case 34:return w=qb(b,n,_),e.abrupt("break",37);case 36:throw"Unknown tile type: "+_;case 37:s.push(w);case 38:c=!0,e.next=17;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(15),l=!0,u=e.t1;case 47:e.prev=47,e.prev=48,c||null==h.return||h.return();case 50:if(e.prev=50,!l){e.next=53;break}throw u;case 53:return e.finish(50);case 54:return e.finish(47);case 55:return e.abrupt("return",s);case 56:case"end":return e.stop()}},e,this,[[15,43,47,55],[48,,50,54]])})),function(e,t){return Bb.apply(this,arguments)}),Ub.prototype.readTile=(jb=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,om.loadArrayBuffer(this.path,Sv(this.config,{range:{start:t.position,size:t.size}}));case 2:r=e.sent,this.compressed&&(i=new Qp.Inflate(new Uint8Array(r)),a=i.decompress(),r=a.buffer),o=new hy(new DataView(r)),s=o.getString(),e.t0=s,e.next="fixedStep"===e.t0?9:"variableStep"===e.t0?10:"bed"===e.t0||"bedWithName"===e.t0?11:12;break;case 9:return e.abrupt("return",Hb(o,n));case 10:return e.abrupt("return",$b(o,n));case 11:return e.abrupt("return",qb(o,n,s));case 12:throw"Unknown tile type: "+s;case 13:case"end":return e.stop()}},e,this)})),function(e,t){return jb.apply(this,arguments)});var Gb=function(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new Ub(e,t)};function Wb(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.end,l=e.data[0],u=0;u<o;u++){var h=s[u],f=c[u];if(!(f<n)){if(h>r)break;a.push({chr:t,start:h,end:f,value:l[u]})}}}function Yb(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.span,l=e.data[0],u=0;u<o;u++){var h=s[u],f=h+c;if(!(f<n)){if(h>r)break;a.push({chr:t,start:h,end:f,value:l[u]})}}}function Zb(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.span,l=e.data[0],u=0;u<o;u++){var h=s+c;if(s>r)break;h>=n&&(Number.isNaN(l[u])||a.push({chr:t,start:s,end:h,value:l[u]})),s=h}}Gb.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x=function(){return(x=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootGroup){e.next=4;break}return e.abrupt("return",this.rootGroup);case 4:return e.next=6,this.reader.readRootGroup();case 6:return this.rootGroup=e.sent,e.abrupt("return",this.rootGroup);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},S=function(){return x.apply(this,arguments)},e.next=4,S.call(this);case 4:if(a=new Iv(t,n,r),o=this.genome,"all"!==t.toLowerCase()){e.next=8;break}return e.abrupt("return",[]);case 8:return a.bpPerPixel=i,e.next=11,S.call(this);case 11:return s=Kb(t,i,o),void 0===(c=this.reader.chrAliasTable[t])&&(c=t),void 0===(l=this.reader.maxZoom)&&(l=-1),u=s>l?"raw":this.windowFunction,e.next=20,this.reader.readDataset(c,u,s);case 20:if(null!=(h=e.sent)){e.next=23;break}return e.abrupt("return",[]);case 23:return f=h.tileWidth,d=Math.floor(n/f),p=Math.floor(r/f),e.next=29,this.reader.readTiles(h.tiles.slice(d,p+1),1);case 29:v=e.sent,m=[],g=!0,y=!1,b=void 0,e.prev=34,_=v[Symbol.iterator]();case 36:if(g=(w=_.next()).done){e.next=51;break}e.t0=(k=w.value).type,e.next="bed"===e.t0?41:"variableStep"===e.t0?43:"fixedStep"===e.t0?45:47;break;case 41:return Wb(k,t,n,r,0,m),e.abrupt("break",48);case 43:return Yb(k,t,n,r,0,m),e.abrupt("break",48);case 45:return Zb(k,t,n,r,0,m),e.abrupt("break",48);case 47:throw"Unknown tile type: "+k.type;case 48:g=!0,e.next=36;break;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e.catch(34),y=!0,b=e.t1;case 57:e.prev=57,e.prev=58,g||null==_.return||_.return();case 60:if(e.prev=60,!y){e.next=63;break}throw b;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return m.sort(function(e,t){return e.start-t.start}),e.abrupt("return",m);case 67:case"end":return e.stop()}},e,this,[[34,53,57,65],[58,,60,64]])}));return function(t,n,r,i){return e.apply(this,arguments)}}(),Gb.prototype.supportsWholeGenome=function(){return!1};var Xb=Math.log(2);function Kb(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/Xb)}function Qb(e,t,n){var r,i,a,o,s,c,l,u={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function h(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(Qm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),s={x:i=l=.95*t,y:a=o=.01*n},Qm.strokeLine(e,r=l-8,a,i,o,u),Qm.fillText(e,h(this.dataRange.max),r+4,a+12,u),c={x:i,y:a=o=.99*n},Qm.strokeLine(e,r,a,i,o,u),Qm.fillText(e,h(this.dataRange.min),r+4,a-4,u),Qm.strokeLine(e,s.x,s.y,c.x,c.y,u))}var Jb=yf.dataRangeMenuItem,e_=wv(ey,function(e,t){this.type="wig",this.featureType="numeric",void 0===e.color&&(e.color="rgb(150,150,150)"),void 0===e.height&&(e.height=50),ey.call(this,e,t);var n=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===n?new kb(e,t.genome):"tdf"===n?new Gb(e,t.genome):new sb(e,t.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.paintAxis=Qb,this.graphType=e.graphType||"bar"});function t_(e){this.thresholds=e.thresholds,this.colors=e.colors}function n_(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}e_.prototype.postInit=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:(t=e.sent)&&this.setTrackProperties(t);case 4:case"end":return e.stop()}},e,this)})),e_.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.windowFunction));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),e_.prototype.menuItemList=function(){var e=this,t=[];return t.push(Jb(this.trackView)),t.push({object:xf("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},e_.prototype.getFileHeader=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}},e,this)})),e_.prototype.draw=function(e){var t,n=this,r=e.features,i=e.context,a=e.bpPerPixel,o=e.bpStart,s=e.pixelHeight,c=o+e.pixelWidth*a+1,l=-1,u=-1;"string"==typeof n.color&&n.color.startsWith("rgb(")&&(t=ov.addAlpha(n.color,.1));var h=function(e){return(n.dataRange.max-e)/(n.dataRange.max-n.dataRange.min)*s};if(r&&r.length>0&&(void 0===n.dataRange.min&&(n.dataRange.min=0),n.dataRange.max>n.dataRange.min)){if(y.end<o)return;if(y.start>c)return;var f=!0,d=!1,p=void 0;try{for(var v,m=r[Symbol.iterator]();!(f=(v=m.next()).done);f=!0)y(v.value)}catch(Bk){d=!0,p=Bk}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}if(n.dataRange.min<0){var g=n.dataRange.max/(n.dataRange.max-n.dataRange.min)*e.pixelHeight;Qm.strokeLine(i,0,g,e.pixelWidth,g,{strokeStyle:t})}}function y(e){if(!(e.value<n.dataRange.min)){var t=h(e.value),r=function(e){return Math.floor((e.start-o)/a)}(e);if(!isNaN(r)){var s=h(0)-t,c=function(e,t){var n=Math.ceil((e.end-o)/a);return Math.max(1,n-t)}(e,r),f=e.value<0&&n.altColor?n.altColor:n.color,d="function"==typeof f?f(e.value):f;if("points"===n.graphType)Qm.fillCircle(i,r+c/2,t,(n.config.pointSize||3)/2,{fillStyle:d,strokeStyle:d});else{var p=r+c;(p>l||e.value>=0&&e.value>u||e.value<0&&e.value<1)&&Qm.fillRect(i,r,t,c,s,{fillStyle:d}),u=e.value,l=p}}}}!function(e){if(n.config.hasOwnProperty("guideLines")){var t=!0,r=!1,i=void 0;try{for(var a,o=n.config.guideLines[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;if(s.hasOwnProperty("color")&&s.hasOwnProperty("y")&&s.hasOwnProperty("dotted")){var c=h(s.y),l={strokeStyle:s.color,strokeWidth:2};s.dotted?Qm.dashedLine(e.context,0,c,e.pixelWidth,c,5,l):Qm.strokeLine(e.context,0,c,e.pixelWidth,c,l)}}}catch(Bk){r=!0,i=Bk}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}}}(e)},e_.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0){var n=[],r=function(e,t,n){for(var r,i,a=0,o=e.length-1,s=a+o>>1;!c(e[s],t,n)&&a<o;)t<e[s].start?o=s-1:t>e[s].end&&(a=s+1),s=a+o>>1;if(c(e[s],t,n)){if(c(r=e[s],t,0))return r;for(i=s;i-- >=0&&(c(e[i]),!n);){if(c(e[i],t,0))return e[i];for(l(e[i],t)<l(r,t)&&(r=e[i]),i=s;i++<e.length&&(c(e[i]),!n);){if(c(e[i],t,0))return e[i];l(e[i],t)<l(r,t)&&(r=e[i])}}return r}return;function c(e,t,n){return t>=e.start-n&&t<=e.end+n}function l(e,t){return Math.min(Math.abs(e.start-t),Math.abs(e.end-t))}}(t,e.genomicLocation,2*e.viewport.genomicState.referenceFrame.bpPerPixel);if(r){var i=r.end-r.start==1?nv(r.start+1):nv(r.start+1)+"-"+nv(r.end);n.push({name:"Position:",value:i}),n.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:nv(r.value)})}return n}return[]},e_.prototype.dispose=function(){this.trackView=void 0},e_.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},e_.prototype.supportsWholeGenome=function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()},t_.prototype.getColor=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.thresholds[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(e<o)return this.colors[this.thresholds.indexOf(o)]}}catch(Bk){n=!0,r=Bk}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.colors[this.colors.length-1]},n_.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var r_=function(){function e(t){$n(this,e),this.color=t}return Gn(e,[{key:"getColor",value:function(){return this.color}}]),e}(),i_=wv(ey,function(e,t){if(ey.call(this,e,t),this.isLog=e.isLog,this.displayMode=e.displayMode||"SQUISHED",this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||12,this.posColorScale=e.posColorScale||new n_({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new n_({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),this.sampleKeys=[],this.featureSource=new sb(this.config,t.genome),e.sort){var n=e.sort;this.sortSamples(n.chr,n.start,n.end,n.direction)}});i_.prototype.postInit=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:case"end":return e.stop()}},e,this)})),i_.prototype.menuItemList=function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};return t.push("<hr/>"),t.push("Sample Height"),["SQUISHED","EXPANDED","FILL"].forEach(function(r){t.push({object:xf(n[r],r===e.displayMode),click:function(){e.displayMode=r,e.config.displayMode=r,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t},i_.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},i_.prototype.draw=function(e){var t=this,n=(zf(2),e.context),r=e.pixelWidth;Qm.fillRect(n,0,e.pixelTop,r,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var i=e.features;if(i&&i.length>0){void 0===t.isLog&&function(e){if(void 0===t.isLog){t.isLog=!1;var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)if(a.value.value<0)return void(t.isLog=!0)}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}(i);var a=e.bpPerPixel,o=e.bpStart,s=o+r*a+1,c=a;this.updateSampleKeys(i);var l,u,h={};switch(this.sampleKeys.forEach(function(e,t){h[e]=t}),this.displayMode){case"FILL":l=e.pixelHeight/this.sampleKeys.length,u=0;break;case"SQUISHED":l=this.squishedRowHeight,u=0;break;default:l=this.expandedRowHeight,u=1}var f=!0,d=!1,p=void 0;try{for(var v,m=i[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g=v.value;if(!(g.end<o)){if(g.start>s)break;var y=g.sampleKey||g.sample;g.row=h[y];var b,_=h[y]*l+u,w=g.value;t.isLog||(w=zf(w/2)),b=w<-.1?t.negColorScale.getColor(w):w>.1?t.posColorScale.getColor(w):"white";var k=Math.max(g.start,o),S=Math.round((k-o)/c),x=Math.min(g.end,s),C=Math.round((x-o)/c),E=Math.max(1,C-S);n.fillStyle=b;var R=l;if(l<.25){var A=.1+2*Math.abs(w);R=Math.min(1,A*l)}g.pixelRect={x:S,y:_,w:E,h:R-2*u},n.fillRect(S,_,E,R-2*u)}}}catch(Bk){d=!0,p=Bk}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}}},i_.prototype.computePixelHeight=function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t},i_.prototype.sortSamples=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f,d,p,v,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,n,r);case 2:this.updateSampleKeys(a=e.sent),o={},s=r-n+1,c=!0,l=!1,u=void 0,e.prev=9,h=a[Symbol.iterator]();case 11:if(c=(f=h.next()).done){e.next=26;break}if(!((d=f.value).end<n)){e.next=15;break}return e.abrupt("continue",23);case 15:if(!(d.start>r)){e.next=17;break}return e.abrupt("break",26);case 17:p=Math.max(n,d.start),v=Math.min(r,d.end),o[m=d.sampleKey||d.sample]=(o[m]||0)+(v-p)/s*d.value;case 23:c=!0,e.next=11;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(9),l=!0,u=e.t0;case 32:e.prev=32,e.prev=33,c||null==h.return||h.return();case 35:if(e.prev=35,!l){e.next=38;break}throw u;case 38:return e.finish(35);case 39:return e.finish(32);case 40:g="ASC"===i?1:-1,this.sampleKeys.sort(function(e,t){var n=o[e],r=o[t];return n||(n=g*Number.MAX_VALUE),r||(r=g*Number.MAX_VALUE),n===r?0:n>r?g:-1*g}),this.trackView.repaintViews();case 43:case"end":return e.stop()}},e,this,[[9,28,32,40],[33,,35,39]])}));return function(t,n,r,i){return e.apply(this,arguments)}}(),i_.prototype.clickedFeatures=function(e){var t,n=ey.prototype.clickedFeatures.call(this,e);return t=e.y,n.filter(function(e){var n=e.pixelRect;return n&&t>=n.y&&t<=n.y+n.h})},i_.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator]();!(r=o.next().done);r=!0);}catch(Bk){i=!0,a=Bk}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t.forEach(function(e){!function(e,t){var n,r=new Set(["row","color","sampleKey","uniqueSampleKey","uniquePatientKey"]);e.hasOwnProperty("realChr")?((n=Object.assign({},e)).chr=e.realChr,n.start=e.realStart,n.end=e.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd):n=e;for(var i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];!r.has(o)&&kv(n[o])&&t.push({name:o,value:n[o]})}}(e,n)}),n},i_.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport.genomicState.referenceFrame,r=e.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",a=n.toBP(2.5);return[{label:"Sort by value",click:function(e){var o={direction:i,chr:n.chrName,start:r-a,end:r+a};!function(e){t.sortSamples(e.chr,e.start,e.end,e.direction)}(o),t.config.sort=o}}]},i_.prototype.supportsWholeGenome=function(){return this.featureSource.supportsWholeGenome()},i_.prototype.updateSampleKeys=function(e){var t=new Set(this.sampleKeys),n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=s.sampleKey||s.sample;t.has(c)||(t.add(c),this.sampleKeys.push(c))}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}};var a_=wv(ey,function(e,t){var n=this;e.tracks&&(ey.call(this,e,t),this.tracks=[],e.tracks.forEach(function(e){e.type||Eg(e),e.isMergedTrack=!0;var r=t.createTrack(e);r?(r.autoscale=!1,n.tracks.push(r)):console.warn("Could not create track "+e)}),Object.defineProperty(this,"height",{get:function(){return this._height},set:function(e){this._height=e;var t=!0,n=!1,r=void 0;try{for(var i,a=this.tracks[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.height=e,o.config.height=e}}catch(Bk){n=!0,r=Bk}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}),this.height=e.height||100)});a_.prototype.getFeatures=function(e,t,n,r){var i=this.tracks.map(function(i){return i.getFeatures(e,t,n,r)});return Promise.all(i)},a_.prototype.draw=function(e){var t,n,r,i,a;for(a=function(e,t){var n=0,r=-Number.MAX_VALUE;return t.forEach(function(e,t){e.forEach(function(e){void 0===e.value||Number.isNaN(e.value)||(n=Math.min(n,e.value),r=Math.max(r,e.value))})}),{min:n,max:r}}(0,r=e.features),t=0,n=this.tracks.length;t<n;t++)(i=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=a,this.tracks[t].draw(i)},a_.prototype.paintAxis=function(e,t,n){var r,i,a;for(r=0,i=this.tracks.length;r<i;r++)if("function"==typeof(a=this.tracks[r]).paintAxis){a.paintAxis(e,t,n);break}},a_.prototype.popupData=function(e){for(var t=[],n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n].popupData(e);t.push.apply(t,tr(i))}return t};var o_=function(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;var t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart};function s_(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}o_.prototype.setSecondAlignment=function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart},o_.prototype.popupData=function(e){var t=[];return t=t.concat(this.firstAlignment.popupData(e)),this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t},o_.prototype.isPaired=function(){return!0},o_.prototype.firstOfPairStrand=function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand};var c_=function(e,t,n,r,i,a,o){this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(n),this.length=n-t,this.alleleFreqThreshold=void 0===o?.2:o,this.coverageMap=new h_(e,t,n,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===r?100:r,this.samplingDepth=void 0===i?1e3:i,this.pairsSupported=void 0===a||a,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new u_(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new p_};function l_(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new d_(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}function u_(e,t,n){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=n.samplingDepth,this.pairsSupported=n.pairsSupported,this.downsampledReads=n.downsampledReads,this.pairsCache=n.pairsCache}function h_(e,t,n,r){this.chr=e,this.bpStart=t,this.length=n-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}function f_(e){this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}function d_(e,t,n){this.start=e,this.end=t,this.counts=n}function p_(e,t){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}function v_(){this.hidden=!1}function m_(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t>=r.start&&t<r.start+r.len)return r}}function g_(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function y_(e,t){return e[t+1]<<8|e[t]}function b_(e,t){return new DataView(e.buffer).getFloat32(t,!0)}c_.prototype.push=function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(l_.call(this),this.currentBucket=new u_(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))},c_.prototype.forEach=function(e){this.alignments.forEach(e)},c_.prototype.finish=function(){void 0!==this.currentBucket&&l_.call(this),this.alignments.sort(function(e,t){return e.start-t.start}),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()},c_.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},c_.prototype.hasDownsampledIntervals=function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0},u_.prototype.addAlignment=function(e){var t,n,r;if(this.pairsSupported&&s_(e)&&(r=this.pairsCache[e.readName]))return r.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&s_(e)?(r=new o_(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments.push(r)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&s_(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),r=new o_(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments[t]=r):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)},h_.prototype.incCounts=function(e){var t=this;if(void 0===e.blocks?m(e):e.blocks.forEach(function(e){m(e)}),e.gaps){var n=!0,r=!1,i=void 0;try{for(var a,o=e.gaps[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if("D"===s.type)for(var c=s.start-t.bpStart,l=c;l<c+s.len;l++)l<0||(this.coverage[l]||(this.coverage[l]=new f_(t.threshold)),this.coverage[l].del++)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}if(e.insertions){var u=!0,h=!1,f=void 0;try{for(var d,p=e.insertions[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var v=d.value.start-this.bpStart;v<0||(this.coverage[v]||(this.coverage[v]=new f_(t.threshold)),this.coverage[v].ins++)}}catch(Bk){h=!0,f=Bk}finally{try{u||null==p.return||p.return()}finally{if(h)throw f}}}function m(n){if("S"!==n.type)for(var r=e.seq,i=e.qual,a=n.seqOffset,o=n.start-t.bpStart,s=0;s<n.len;o++,s++){t.coverage[o]||(t.coverage[o]=new f_(t.threshold));var c=r.charAt(a+s),l=i&&a+s<i.length?i[a+s]:30;t.coverage[o][e.strand?"pos"+c:"neg"+c]+=1,t.coverage[o]["qual"+c]+=l,t.coverage[o].total+=1,t.coverage[o].qual+=l,t.maximum=Math.max(t.coverage[o].total,t.maximum)}}},f_.prototype.isMismatch=function(e){var t,n=this,r=this.threshold*(this.qual?this.qual:this.total);return t=0,["A","T","C","G"].forEach(function(r){r!==e&&(t+=n.qual?n["qual"+r]:n["pos"+r]+n["neg"+r])}),t>=r},d_.prototype.popupData=function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]},p_.prototype.push=function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}},p_.prototype.compute=function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}},v_.prototype.isMapped=function(){return 0==(4&this.flags)},v_.prototype.isPaired=function(){return 0!=(1&this.flags)},v_.prototype.isProperPair=function(){return 0!=(2&this.flags)},v_.prototype.isFirstOfPair=function(){return 0!=(64&this.flags)},v_.prototype.isSecondOfPair=function(){return 0!=(128&this.flags)},v_.prototype.isSecondary=function(){return 0!=(256&this.flags)},v_.prototype.isSupplementary=function(){return 0!=(2048&this.flags)},v_.prototype.isFailsVendorQualityCheck=function(){return 0!=(512&this.flags)},v_.prototype.isDuplicate=function(){return 0!=(1024&this.flags)},v_.prototype.isMateMapped=function(){return 0==(8&this.flags)},v_.prototype.isNegativeStrand=function(){return 0!=(16&this.flags)},v_.prototype.isMateNegativeStrand=function(){return 0!=(32&this.flags)},v_.prototype.tags=function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){for(var t=0,n=e.length,r={};t<n;){var i,a=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]),o=String.fromCharCode(e[t+2]);if("A"===o)i=String.fromCharCode(e[t+3]),t+=4;else if("i"===o||"I"===o)i=g_(e,t+3),t+=7;else if("c"===o||"C"===o)i=e[t+3],t+=4;else if("s"===o||"S"===o)i=y_(e,t+3),t+=5;else if("f"===o)i=b_(e,t+3),t+=7;else if("Z"===o)for(t+=3,i="";;){var s=e[t++];if(0===s)break;i+=String.fromCharCode(s)}else i="B"===o?"Arrays not currently supported":"Error unknown type: "+o;r[a]=i}return r}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict},v_.prototype.popupData=function(e){var t=[];if(e=Math.floor(e),this.insertions){var n=this.seq,r=!0,i=!1,a=void 0;try{for(var o,s=this.insertions[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=c.start;if(e===l||e===l-1)return t.push({name:"Insertion",value:n.substr(c.seqOffset,c.len)}),t.push({name:"Location",value:l}),t}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}t.push({name:"Read Name",value:this.readName}),t.push("<hr>"),t.push({name:"Alignment Start",value:nv(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:d(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:d(this.isSecondary())}),t.push({name:"Supplementary",value:d(this.isSupplementary())}),t.push({name:"Duplicate",value:d(this.isDuplicate())}),t.push({name:"Failed QC",value:d(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:d(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr>");var u=this.tags(),h=!0;for(var f in u)u.hasOwnProperty(f)&&(h?(t.push({name:f,value:u[f],borderTop:!0}),h=!1):t.push({name:f,value:u[f]}));return t.push("<hr>"),t.push({name:"Genomic Location: ",value:nv(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function d(e){return e?"Yes":"No"}},v_.prototype.readBaseAt=function(e){var t=m_(this.blocks,e);if(t){if("*"===this.seq)return"*";var n=t.seqIndexAt(e);return this.seq[n]}},v_.prototype.readBaseQualityAt=function(e){var t=m_(this.blocks,e);if(t){if("*"===this.qual)return 30;var n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}};var __=function(e){e&&Object.assign(this,e)};function w_(e){e||(e={}),this.vendorFailed=void 0===e.vendorFailed||e.vendorFailed,this.duplicates=void 0===e.duplicates||e.duplicates,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mqThreshold=void 0===e.mqThreshold?0:e.mqThreshold,e.readgroups&&(this.readgroups=new Set(e.readgroups))}__.prototype.seqIndexAt=function(e){return Math.floor(e)-this.start+this.seqOffset},w_.prototype.pass=function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0};var k_=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],S_=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],x_=R_(new Uint8Array([66,65,77,1]),0),C_={readHeader:function(e,t,n){return om.loadArrayBuffer(e,t).then(function(e){var t;return t=zv(e),C_.decodeBamHeader(t,n)})},decodeBamHeader:function(e,t){var n,r,i,a,o;if((n=R_(e,0))!==x_)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=R_(e,4);for(var s=0;s<r;++s)String.fromCharCode(e[s+8]);var c=R_(e,r+8),l=r+12;for(i={},a=[],o={},s=0;s<c;++s){for(var u=R_(e,l),h="",f=0;f<u-1;++f)h+=String.fromCharCode(e[l+4+f]);R_(e,l+u+4),i[h]=s,a[s]=h,t&&(o[t.getChromosomeName(h)]=h),l=l+8+u}return{magicNumber:n,size:l,chrNames:a,chrToIndex:i,chrAliasTable:o}},bam_tag2cigar:function(e,t,n,r,i,a){function o(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==a.length||i.start<0)return!1;for(var s=n+(r+1>>1)+r;s+4<t&&"CG"!==String.fromCharCode(e[s])+String.fromCharCode(e[s+1]);){var c=String.fromCharCode(e[s+2]);if("B"===c)s+=8+o(c=String.fromCharCode(e[s+3]))*R_(e,s+4);else if("Z"===c||"H"===c)for(s+=3;0!==e[s++];);else s+=3+o(c)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var l=R_(e,s+4),u=s+8;if(u+4*l>t)return!1;var h="",f=0;a.length=0,s=u;for(var d=0;d<l;++d,s+=4){var p=R_(e,s),v=p>>4,m=S_[15&p];"M"!==m&&"EQ"!==m&&"X"!==m&&"D"!==m&&"N"!==m&&"="!==m||(f+=v),h=h+v+m,a.push({len:v,ltr:m})}return i.cigar=h,i.lengthOnRef=f,!0},decodeBamRecords:function(e,t,n,r,i,a,o,s){for(;t<e.length;){var c=t+R_(e,t)+4,l=new v_,u=R_(e,t+4),h=R_(e,t+8);if(c>e.length)return;if(u<0)t=c;else{if(void 0!==i&&(u>i||h>o))return!0;if(void 0!==i&&u<i)t=c;else{for(var f=R_(e,t+12),d=(65280&f)>>8,p=255&f,v=R_(e,t+16),m=(4294901760&v)>>16,g=65535&v,y=R_(e,t+20),b=R_(e,t+24),_=R_(e,t+28),w=R_(e,t+32),k=[],S=0;S<p-1;++S)k.push(String.fromCharCode(e[t+36+S]));k=k.join("");for(var x=0,C="",E=t+36+p,R=[],A=0;A<g;++A){var T=R_(e,E),I=T>>4,O=S_[15&T];"M"!==O&&"EQ"!==O&&"X"!==O&&"D"!==O&&"N"!==O&&"="!==O||(x+=I),C=C+I+O,E+=4,R.push({len:I,ltr:O})}if(l.chr=r[u],l.start=h,l.flags=m,l.strand=!(16&m),l.readName=k,l.cigar=C,l.lengthOnRef=x,l.fragmentLength=w,l.mq=d,C_.bam_tag2cigar(e,c,E,y,l,R),l.end=l.start+l.lengthOnRef,l.end<a)t=c;else{for(var D=[],M=y+1>>1,P=0;P<M;++P){var L=e[E+P];D.push(k_[(240&L)>>4]),D.push(k_[15&L])}D=D.slice(0,y).join(""),E+=M;for(var F=[],N=0;N<y;++N)F.push(e[E+N]);E+=y,b>=0&&(l.mate={chr:r[b],position:_,strand:!(32&m)}),l.seq=D,l.qual=F,l.tagBA=new Uint8Array(e.buffer.slice(E,c)),this.setPairOrientation(l),(void 0===s||s.pass(l))&&(E_(l,R),n.push(l)),t=c}}}}},decodeSamRecords:function(e,t,n,r,i,a){var o,s,c,l,u,h,f,d,p,v;for(l=(o=rv(e)).length,s=0;s<l;s++)if(u=o[s].split("\t"),(p=new v_).chr=u[2],p.start=Number.parseInt(u[3])-1,p.flags=Number.parseInt(u[1]),p.readName=u[0],p.strand=!(16&p.flags),p.mq=Number.parseInt(u[4]),p.cigar=u[5],p.fragmentLength=Number.parseInt(u[8]),p.seq=u[9],"*"!==p.chr&&p.isMapped()&&p.chr===n){if(p.start>i)break;if(d=0,(v=A_(p.cigar)).forEach(function(e){var t=e.ltr;"M"!==t&&"EQ"!==t&&"X"!==t&&"D"!==t&&"N"!==t&&"="!==t||(d+=e.len)}),p.lengthOnRef=d,!(p.start+d<r)){for(h=u[10],p.qual=[],c=0;c<h.length;c++)p.qual[c]=h.charCodeAt(c)-33;p.tagDict=u.length<11?{}:T_(u.slice(11)),p.isMateMapped()&&(p.mate={chr:"="===(f=u[6])?p.chr:f,position:Number.parseInt(u[7]),strand:!(32&p.flags)}),this.setPairOrientation(p),(void 0===a||a.pass(p))&&(E_(p,v),t.push(p))}}},setReaderDefaults:function(e,t){e.filter=new w_(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>1e4&&(e.samplingDepth=1e4),e.pairsSupported=!!t.viewAsPairs||void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",i=" ",a=" ";e.isFirstOfPair()?(i="1",a="2"):e.isSecondOfPair()&&(i="2",a="1");var o=[],s=e.fragmentLength,c=e.end-e.start;0===s&&(s=(e.start<n.position?n.position+c:n.position-c)-e.start),s>0?(o[0]=t,o[1]=i,o[2]=r,o[3]=a):(o[2]=t,o[3]=i,o[0]=r,o[1]=a),e.pairOrientation=o.join("")}}};function E_(e,t){var n,r,i=[],a=0,o=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;var s=!0,c=!1,l=void 0;try{for(var u,h=t[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value,d=void 0;switch(f.ltr){case"H":case"P":break;case"S":d=o,e.scLengthOnRef+=f.len,0===i.length&&(e.scStart-=f.len,d-=f.len),i.push(new __({start:d,seqOffset:a,len:f.len,type:"S"})),a+=f.len;break;case"N":case"D":void 0===r&&(r=[]),r.push({start:o,len:f.len,type:f.ltr}),o+=f.len;break;case"I":void 0===n&&(n=[]),n.push(new __({start:o,len:f.len,seqOffset:a,type:"I"})),a+=f.len;break;case"M":case"EQ":case"=":case"X":i.push(new __({start:o,seqOffset:a,len:f.len,type:"M"})),a+=f.len,o+=f.len}}}catch(Bk){c=!0,l=Bk}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}e.blocks=i,e.insertions=n,e.gaps=r}function R_(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function A_(e){var t,n,r,i,a,o,s,c,l;for(t=[],n=[],a=null,i=e.length,r=0;r<i;r++)(l=(o=e.charAt(r)).charCodeAt(0))>=48&&l<=57?n.push(o):(s=o,c=Number.parseInt(n.join("")),n=[],null!==a&&a.ltr===s?a.len+=c:t.push(a={len:c,ltr:s}));return t}function T_(e){var t={};return e.forEach(function(e){var n=e.split(":");t[n[0]]=n[2]}),t}var I_=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=tv(e.url)&&e.url.startsWith("data:"),C_.setReaderDefaults(this,e)};function O_(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}I_.prototype.readAlignments=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v,m,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y=function(e,t,n){var r,i,a,o;return i=(r=this.header).chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,a=this.alignmentCache.queryFeatures(i,t,n),o=new c_(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),a.forEach(function(e){o.push(e)}),o.finish(),o},g=function(e){var t=[];this.header=C_.decodeBamHeader(e),C_.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new Oy(t,i)},i=this.genome,!this.alignmentCache){e.next=31;break}for(o=(a=this.header).chrAliasTable.hasOwnProperty(t)?a.chrAliasTable[t]:t,s=this.alignmentCache.queryFeatures(o,n,r),c=new c_(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),l=!0,u=!1,h=void 0,e.prev=11,f=s[Symbol.iterator]();!(l=(d=f.next()).done);l=!0)c.push(d.value);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),u=!0,h=e.t0;case 19:e.prev=19,e.prev=20,l||null==f.return||f.return();case 22:if(e.prev=22,!u){e.next=25;break}throw h;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return c.finish(),e.abrupt("return",c);case 31:if(!this.isDataUri){e.next=38;break}return p=O_(this.bamPath),v=zv(p.buffer),g.call(this,v),e.abrupt("return",y.call(this,t,n,r));case 38:return e.next=40,om.loadArrayBuffer(this.bamPath,Sv(this.config));case 40:return m=zv(e.sent),g.call(this,m),e.abrupt("return",y.call(this,t,n,r));case 44:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26]])}));return function(t,n,r){return e.apply(this,arguments)}}();var D_=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL||function(e,t){var n;if(e instanceof File)throw new Error("Cannot infer an index path for a local File.  Please select explicitly");return e.includes("?")?(n=e.indexOf("?"),e.substring(0,n)+".bai"+e.substring(n)):e+".bai"}(this.bamPath),C_.setReaderDefaults(this,e)};function M_(){return P_.apply(this,arguments)}function P_(){return(P_=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=15;break}return t=this.genome,e.next=4,L_.call(this);case 4:return r=Sv(this.config,{range:{start:(n=e.sent).firstAlignmentBlock,size:26}}),e.next=8,om.loadArrayBuffer(this.bamPath,r);case 8:return i=jv(e.sent),a=Sv(this.config,{range:{start:0,size:n.firstAlignmentBlock+i}}),e.next=14,C_.readHeader(this.bamPath,a,t);case 14:this.header=e.sent;case 15:return e.abrupt("return",this.header);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function L_(){return F_.apply(this,arguments)}function F_(){return(F_=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,this.index){e.next=6;break}return e.next=4,dy(this.baiPath,this.config,!1,t);case 4:return this.index=e.sent,e.abrupt("return",this.index);case 6:return e.abrupt("return",this.index);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function N_(){return z_.apply(this,arguments)}function z_(){return(z_=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=4;break}return e.abrupt("return",this.chrToIndex);case 4:return e.next=6,M_.call(this);case 6:return this.chrToIndex=(t=e.sent).chrToIndex,this.indexToChr=t.chrNames,this.chrAliasTable=t.chrAliasTable,e.abrupt("return",this.chrToIndex);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}D_.prototype.readAlignments=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_.call(this);case 2:if(i=e.sent,a=this.chrAliasTable.hasOwnProperty(t)?this.chrAliasTable[t]:t,o=i[a],s=new c_(t,n,r,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==o){e.next=10;break}return e.abrupt("return",s);case 10:return e.next=12,L_.call(this);case 12:if((c=e.sent.blocksForRange(o,n,r))&&0!==c.length){e.next=16;break}return e.abrupt("return",s);case 16:l=!0,u=!1,h=void 0,e.prev=20,f=c[Symbol.iterator]();case 22:if(l=(d=f.next()).done){e.next=48;break}if(v=void 0,0!==(p=d.value).maxv.offset){e.next=29;break}v=0,e.next=34;break;case 29:return m=Sv(this.config,{range:{start:p.maxv.block,size:26}}),e.next=32,om.loadArrayBuffer(this.bamPath,m);case 32:v=jv(e.sent);case 34:return y={start:g=p.minv.block,size:p.maxv.block+v-g+1},e.next=39,om.loadArrayBuffer(this.bamPath,Sv(this.config,{range:y}));case 39:if(b=zv(e.sent),!C_.decodeBamRecords(b,p.minv.offset,s,this.indexToChr,o,n,r,this.filter)){e.next=44;break}return e.abrupt("break",48);case 44:case 45:l=!0,e.next=22;break;case 48:e.next=54;break;case 50:e.prev=50,e.t0=e.catch(20),u=!0,h=e.t0;case 54:e.prev=54,e.prev=55,l||null==f.return||f.return();case 57:if(e.prev=57,!u){e.next=60;break}throw h;case 60:return e.finish(57);case 61:return e.finish(54);case 62:return s.finish(),e.abrupt("return",s);case 64:case"end":return e.stop()}},e,this,[[20,50,54,62],[55,,57,61]])}));return function(t,n,r){return e.apply(this,arguments)}}();var j_=function(e,t){this.config=e,this.genome=t;var n={},r={};e.sources.sequences.forEach(function(e){if(n[e]=null,t){var i=t.getChromosomeName(e);r[i]=e}}),this.chrAliasTable=r,this.bamReaders=n,C_.setReaderDefaults(this,e)};j_.prototype.readAlignments=function(e,t,n){var r=this,i=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e;if(this.bamReaders.hasOwnProperty(i)&&"none"!==this.bamReaders[i]){var a,o=r.bamReaders[i];if(!o){a={url:r.config.sources.url.replace("$CHR",i)},r.config.sources.indexURL&&(a.indexURL=r.config.sources.indexURL.replace("$CHR",i));var s=Object.assign(r.config,a);o=new D_(s),r.bamReaders[i]=o}return o.readAlignments(i,t,n).catch(function(o){return console.error(o),Jv.presentAlert(a.url),r.bamReaders[i]="none",new c_(e,t,n)})}return Promise.resolve(new c_(e,t,n))};var B_=function(e,t){this.config=e,this.genome=t,C_.setReaderDefaults(this,e)};function V_(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=Sv(this.config);return C_.readHeader(n,r,t).then(function(t){return e.header=t,t})}B_.prototype.readAlignments=function(e,t,n){var r=this;return V_.call(r).then(function(i){var a;return a=i.chrAliasTable.hasOwnProperty(e)?i.chrAliasTable[e]:e,om.loadString(r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+a+":"+t+"-"+n,Sv(r.config)).then(function(i){var o;return o=new c_(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),C_.decodeSamRecords(i,o,a,t,n,r.filter),o})})};var U_=function(e,t){this.config=e,this.genome=t,C_.setReaderDefaults(this,e)};function H_(e){var t=[];return e.forEach(function(e){if(e.url.startsWith("data:"))t.push(Promise.resolve(function(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}(e.url)));else{var n={};e.headers&&(n.headers=e.headers,n.headers.hasOwnProperty("referer")&&delete n.headers.referer),t.push(new Promise(function(t,r){om.loadArrayBuffer(e.url,n).then(function(e){t(new Uint8Array(e))})}))}}),Promise.all(t)}function $_(e){var t=0;e.forEach(function(e){t+=e.length});var n=0,r=new Uint8Array(t);return e.forEach(function(e){r.set(e,n),n+=e.length}),r}U_.prototype.readAlignments=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.format||"BAM"===this.config.format.toUpperCase()){e.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:return a=this.genome,o=this.header&&this.header.chrAliasTable.hasOwnProperty(t)?this.header.chrAliasTable[t]:t,s=(this.config.url?this.config.url+this.config.endpoint:this.config.endpoint+"/reads/")+this.config.id+"?format=BAM&referenceName="+o+"&start="+n+"&end="+r,e.next=8,om.loadJson(s,this.config);case 8:return c=e.sent,e.next=11,H_(c.htsget.urls);case 11:if(l=$_(e.sent),u=zv(l.buffer),this.header=C_.decodeBamHeader(h=u,a),f=this.header.chrToIndex[t],d=new c_(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),C_.decodeBamRecords(h,this.header.size,d,this.header.chrNames,f,n,r),d.finish(),0!==d.alignments.length){e.next=29;break}if(void 0!==f||!this.header.chrAliasTable.hasOwnProperty(t)||i){e.next=26;break}return e.abrupt("return",this.readAlignments(o=this.header.chrAliasTable[t],n,r,1));case 26:return e.abrupt("return",d);case 27:e.next=30;break;case 29:return e.abrupt("return",d);case 30:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),ff("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},gf),hr("hasInstance"),hr("species"),hr("toStringTag");var q_=qe.some,G_=ot("some"),W_=nt("some");Ie({target:"Array",proto:!0,forced:!G_||!W_},{some:function(e){return q_(this,e,arguments.length>1?arguments[1]:void 0)}}),na("Array");var Y_=Bd.ArrayBuffer;Ie({global:!0,forced:r.ArrayBuffer!==Y_},{ArrayBuffer:Y_}),na("ArrayBuffer");var Z_=Be("hasInstance"),X_=Function.prototype;Z_ in X_||A.f(X_,Z_,{value:function(e){if("function"!=typeof this||!m(e))return!1;if(!m(this.prototype))return e instanceof this;for(;e=mi(e);)if(this.prototype===e)return!0;return!1}}),pr(r.JSON,"JSON",!0),pr(Math,"Math",!0),Ie({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var K_=hf.onFreeze,Q_=Object.freeze,J_=i(function(){Q_(1)});Ie({target:"Object",stat:!0,forced:J_,sham:!uf},{freeze:function(e){return Q_&&m(e)?Q_(K_(e)):e}});var ew=C.f,tw=i(function(){ew(1)});Ie({target:"Object",stat:!0,forced:!a||tw,sham:!a},{getOwnPropertyDescriptor:function(e,t){return ew(v(e),t)}}),Ie({target:"String",proto:!0,forced:i(function(){var e="".sub('"');return e!==e.toLowerCase()||e.split('"').length>3})},{sub:function(){return"<sub>"+String(p(this))+"</sub>"}}),$d("Float32",function(e){return function(t,n,r){return e(this,t,n,r)}}),$d("Float64",function(e){return function(t,n,r){return e(this,t,n,r)}}),$d("Int32",function(e){return function(t,n,r){return e(this,t,n,r)}}),Ie({global:!0,bind:!0,enumerable:!0,forced:!r.setImmediate||!r.clearImmediate},{setImmediate:Bc.set,clearImmediate:Bc.clear});var nw=eval,rw=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==Vn(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t){var n=function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(Qn(Error)),r=function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n);e.exports={CramBufferOverrunError:function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(r),CramMalformedError:r,CramUnimplementedError:function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(Qn(Error)),CramSizeLimitError:function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n),CramArgumentError:function(e){function t(){return $n(this,t),Jn(this,Yn(t).apply(this,arguments))}return Wn(t,e),t}(n)}},function(e,t,n){(function(e){var r=n(37),i=n(38),a=n(19);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var h=!0,f=0;f<c;f++)if(l(e,a+f)!==l(t,f)){h=!1;break}if(h)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return U(B(t,e.length-n),e,n,r)}function _(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function k(e,t,n,r){return U(V(t),e,n,r)}function S(e,t,n,r){return U(function(e,t){for(var n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,l=e[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(r.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),u=e.slice(t,n),h=0;h<s;++h)if(l[h]!==u[h]){a=l[h],o=u[h];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=j(e[a]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,a){return a||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:B(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Vn(window))&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(9),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var a=n(7);a.inherits=n(4);var o=n(21),s=n(16);a.inherits(h,o);for(var c=i(s.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(0).CramBufferOverrunError,i={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0};e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if($n(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!i[n])throw new TypeError("invalid data type ".concat(n))}return Gn(e,[{key:"_getBits",value:function(e,t,n){var i=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new r("read error during decoding. the file seems to be truncated.");for(var a=n;a;a-=1)i<<=1,i|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return i}}]),e}()},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==Vn(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==Vn(e)&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Vn(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(1).Buffer)},function(e,t,n){var r=n(72),i=n(0).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,a=e[r];if(a<128?(n=a,r+=1):a<192?(n=16383&(a<<8|e[r+1]),r+=2):a<224?(n=2097151&(a<<16|e[r+1]<<8|e[r+2]),r+=3):a<240?(n=268435455&(a<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&a)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new i("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.parse(e),a=i.offset,o=i.result;return o._endPosition=a+r,o._size=a-n,o},tinyMemoize:function(e,t){var n=e.prototype[t],r="_memo_".concat(t);e.prototype[t]=function(){return r in this||(this[r]=n.call(this)),this[r]}},sequenceMD5:function(e){return r(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){(function(t){e.exports=!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function(){e.apply(null,a)})}}}:t}).call(this,n(3))},function(e,t,n){var r=n(1),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=Vn(n))throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o.set(a=e[t],i),i+=a.length;return o}},o={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),a=function e(){$n(this,e),this.F=void 0,this.C=void 0};function o(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var s={FC:a,AriDecoder:function e(){$n(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new a;this.R=null},Symbol:function e(){$n(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new r("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new r("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:o,advanceSymbolStep:function(e,t,n){return o(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,a){if((e=r*(e>>a)+(e&(1<<a)-1)-n)<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}};e.exports=s},function(e,t){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==Vn(e)&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),o=(l=n.slice()).length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,a,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,a=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(21)).Stream=t,t.Readable=t,t.Writable=n(16),t.Duplex=n(5),t.Transform=n(25),t.PassThrough=n(46)},function(e,t,n){(function(t,r,i){var a=n(9);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;y.WritableState=g;var l=n(7);l.inherits=n(4);var u,h={deprecate:n(45)},f=n(22),d=n(10).Buffer,p=i.Uint8Array||function(){},v=n(23);function m(){}function g(e,t){s=s||n(5);var r=t instanceof s;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),x(e,t))}(e,n,r,t,i);else{var o=k(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?c(_,e,n,o,i):_(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(5),!(u.call(y,this)||this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var a=0,s=!0;n;)r[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;r.allBuffers=s,b(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk;if(b(e,t,!1,t.objectMode?1:c.length,c,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function x(e,t){var n=k(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(y,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===y&&e&&e._writableState instanceof g}})):u=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(d.isBuffer(r=e)||r instanceof p);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(3),n(43).setImmediate,n(2))},function(e,t){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){var r=n(36);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(1).Buffer,i=n(39).Transform,a=n(51),o=n(27),s=n(26).ok,c=n(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(a),h=0;h<u.length;h++){var f=u[h];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:a[f],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(d),v=0;v<p.length;v++){var m=p[v];d[d[m]]=m}function g(e,t,n){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=c?o=new RangeError(l):t=r.concat(i,a),i=[],e.close(),n(o,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)}),e.on("end",s),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");return e._processChunk(t,e._finishFlushFlag)}function b(e){if(!(this instanceof b))return new b(e);R.call(this,e,a.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);R.call(this,e,a.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,a.GZIP)}function k(e){if(!(this instanceof k))return new k(e);R.call(this,e,a.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);R.call(this,e,a.DEFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);R.call(this,e,a.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);R.call(this,e,a.UNZIP)}function E(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function R(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!E(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!E(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var c=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(c=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function T(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=b,t.Inflate=_,t.Gzip=w,t.Gunzip=k,t.DeflateRaw=S,t.InflateRaw=x,t.Unzip=C,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new _(e)},t.createDeflateRaw=function(e){return new S(e)},t.createInflateRaw=function(e){return new x(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new C(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new w(t),e,n)},t.gzipSync=function(e,t){return y(new w(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new S(t),e,n)},t.deflateRawSync=function(e,t){return y(new S(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new C(t),e,n)},t.unzipSync=function(e,t){return y(new C(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new _(t),e,n)},t.inflateSync=function(e,t){return y(new _(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new k(t),e,n)},t.gunzipSync=function(e,t){return y(new k(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new x(t),e,n)},t.inflateRawSync=function(e,t){return y(new x(t),e)},o.inherits(R,i),R.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(a.Z_SYNC_FLUSH,function(){s(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())})}else e.nextTick(i)},R.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},R.prototype.flush=function(t,n){var i=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=a.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",function(){return i.flush(t,n)}):(this._flushFlag=t,this.write(r.alloc(0),"",n))},R.prototype.close=function(t){A(this,t),e.nextTick(T,this)},R.prototype._transform=function(e,t,n){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},R.prototype._processChunk=function(e,t,n){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,u=this,h="function"==typeof n;if(!h){var f,d=[],p=0;this.on("error",function(e){f=e}),s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&y(v[0],v[1]));if(this._hadError)throw f;if(p>=c)throw A(this),new RangeError(l);var m=r.concat(d,p);return A(this),m}s(this._handle,"zlib binding closed");var g=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function y(c,l){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var f=a-l;if(s(f>=0,"have should not go down"),f>0){var v=u._buffer.slice(u._offset,u._offset+f);u._offset+=f,h?u.push(v):(d.push(v),p+=v.length)}if((0===l||u._offset>=u._chunkSize)&&(a=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===l){if(o+=i-c,i=c,!h)return!0;var m=u._handle.write(t,e,o,i,u._buffer,u._offset,u._chunkSize);return m.callback=y,void(m.buffer=e)}if(!h)return!1;n()}}g.buffer=e,g.callback=y},o.inherits(b,R),o.inherits(_,R),o.inherits(w,R),o.inherits(k,R),o.inherits(S,R),o.inherits(x,R),o.inherits(C,R)}).call(this,n(3))},function(e,t,n){(function(t,r){var i=n(9);e.exports=b;var a,o=n(19);b.ReadableState=y,n(14);var s=function(e,t){return e.listeners(t).length},c=n(22),l=n(10).Buffer,u=t.Uint8Array||function(){},h=n(7);h.inherits=n(4);var f=n(40),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,v=n(41),m=n(23);h.inherits(b,c);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(a=a||n(5));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(24).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(5),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,n,r,i){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}}(e,o)):(i||(a=function(e,t){var n,r;return l.isBuffer(r=t)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):E(e,o)):w(e,o,t,!1))):r||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(24).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var k=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),I(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(i+=o===a.length?a:a.slice(0,e),0==(e-=o)){o===a.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0==(e-=o)){o===a.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):x(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var c=t&&!1===t.end||e===r.stdout||e===r.stderr?y:l;function l(){d("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",v),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",u);var h=!1,f=!1;function p(t){d("ondata"),f=!1,!1!==e.write(t)||f||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function v(t){d("onerror",t),y(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){d("onfinish"),e.removeListener("close",m),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",m),e.once("finish",g),e.emit("pipe",n),a.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=P(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(A,this))}return n},b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<g.length;a++)e.on(g[a],this.emit.bind(this,g[a]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,n(2),n(3))},function(e,t,n){e.exports=n(14).EventEmitter},function(e,t,n){var r=n(9);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(10).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var r=n(5),i=n(7);function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(27),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,c="foo"===(function(){}).name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var h=e.exports=g,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(c||!a.isFunction(e))return a.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||m(e,!0,t,"==",h.ok)}function y(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==Vn(e)||null!==t&&"object"==Vn(t)){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var c=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),o=b(t);if(i&&!o||!i&&o)return!1;if(i)return y(e=s.call(e),t=s.call(t),n);var c,l,u=k(e),h=k(t);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),l=u.length-1;l>=0;l--)if(u[l]!==h[l])return!1;for(l=u.length-1;l>=0;l--)if(!y(e[c=u[l]],t[c],n,r))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i&&!n;if((!e&&a.isError(i)&&o&&_(i,n)||s)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(v(this.actual),128)+" "+this.operator+" "+p(v(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=d(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},a.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(e,t,n){e!=t&&m(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){y(e,t,!1)||m(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){y(e,t,!0)||m(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){y(e,t,!1)&&m(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){w(!0,e,t,n)},h.doesNotThrow=function(e,t,n){w(!1,e,t,n)},h.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n(2))},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),c=r[n];n<a;c=r[++n])v(c)||!_(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(n,i){if(y(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=u(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(S(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var c,l="",_=!1,x=["{","}"];return d(n)&&(_=!0,x=["[","]"]),S(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(l=" "+RegExp.prototype.toString.call(n)),w(n)&&(l=" "+Date.prototype.toUTCString.call(n)),k(n)&&(l=" "+h(n)),0!==o.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=_?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)C(t,String(o))?a.push(f(e,t,n,r,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(f(e,t,n,r,i,!0))}),a}(e,n,r,s,o):o.map(function(t){return f(e,n,r,s,t,_)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,x)):x[0]+l+x[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=e.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),C(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==Vn(e)&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function k(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function S(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.debuglog=function(e){if(y(a)&&(a=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==Vn(e)},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=k,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Vn(e)||void 0===e},t.isBuffer=n(52),t.log=function(){},t.inherits=n(4),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(2),n(3))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if($n(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=er(a.value,1),s=o[0],e.next=9,s;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=er(a.value,2),s=o[1],e.next=9,s;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this.cache[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=a.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:s=!0,c=!1,l=void 0,e.prev=29,u=this.oldCache[Symbol.iterator]();case 31:if(s=(h=u.next()).done){e.next=41;break}if(d=er(f=h.value,1),e.t1=this.cache.has(d[0]),e.t1){e.next=38;break}return e.next=38,f;case 38:s=!0,e.next=31;break;case 41:e.next=47;break;case 43:e.prev=43,e.t2=e.catch(29),c=!0,l=e.t2;case 47:e.prev=47,e.prev=48,s||null==u.return||u.return();case 50:if(e.prev=50,!c){e.next=53;break}throw l;case 53:return e.finish(50);case 54:return e.finish(47);case 55:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[29,43,47,55],[48,,50,54]])})},{key:"size",get:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)this.cache.has(i.value)||e++}catch(Bk){n=!0,r=Bk}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this._size+e}}]),e}()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var a={},o={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function c(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return S}else{if(e<=-v)return x;if(e+1>=v)return k}return e<0?c(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=l;var u=Math.pow;function h(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(e.substring(1),t,n).neg();for(var i=c(u(n,8)),a=g,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+s),n);if(s<8){var f=c(u(n,s));a=a.mul(f).add(c(l))}else a=(a=a.mul(i)).add(c(l))}return a.unsigned=t,a}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?h(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=h,r.fromValue=f;var d=4294967296,p=d*d,v=p/2,m=s(1<<24),g=s(0);r.ZERO=g;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var _=s(1,!0);r.UONE=_;var w=s(-1);r.NEG_ONE=w;var k=l(-1,2147483647,!1);r.MAX_VALUE=k;var S=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var x=l(0,-2147483648,!1);r.MIN_VALUE=x;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(u(e,6),this.unsigned),a=this,o="";;){var s=a.div(i),l=(a.sub(s.mul(i)).toInt()>>>0).toString(e);if((a=s).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(b)},C.neg=C.negate,C.add=function(e){i(e)||(e=f(e));var t=0,n=0,r=0,a=0;return r+=(a+=(65535&this.low)+(65535&e.low))>>>16,n+=(r+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),l((r&=65535)<<16|(a&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},C.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(i(e)||(e=f(e)),n)return l(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,r=this.low>>>16,a=65535&this.low,o=65535&e.high,s=e.low>>>16,u=65535&e.low,h=0,d=0,p=0,v=0;return p+=(v+=a*u)>>>16,d+=(p+=r*u)>>>16,p&=65535,d+=(p+=a*s)>>>16,h+=(d+=t*u)>>>16,d&=65535,h+=(d+=r*s)>>>16,d&=65535,h+=(d+=a*o)>>>16,h+=(this.high>>>16)*u+t*s+r*o+a*(e.high>>>16),l((p&=65535)<<16|(v&=65535),(h&=65535)<<16|(d&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,a;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;a=y}else{if(this.eq(x))return e.eq(b)||e.eq(w)?x:e.eq(x)?b:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(r=this.sub(e.mul(t)),a=t.add(r.div(e)));if(e.eq(x))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:u(2,o-48),h=c(t),d=h.mul(e);d.isNegative()||d.gt(r);)d=(h=c(t-=s,this.unsigned)).mul(e);h.isZero()&&(h=b),a=a.add(h),r=r.sub(d)}return a},C.div=C.divide,C.modulo=function(e){return i(e)||(e=f(e)),n?l((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return i(e)||(e=f(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return i(e)||(e=f(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return i(e)||(e=f(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(87),i=n(94),a=n(97);function o(e){var t=r.parse(e);return"file:"===t.protocol?new a(unescape(t.pathname)):new i(e)}e.exports={LocalFile:a,RemoteFile:i,fromUrl:o,open:function(e,t,n){if(n)return n;if(e)return o(e);if(t)return new a(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=i.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return new n(function(n,i){a.push(function(e){if(e)return i(e);for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(1===a.length||!t)return n(a[0]);var s={};a.forEach(function(e,n){var r=t[n];r&&(s[r]=e)}),n(s)}),e.call.apply(e,[r].concat(a))})}}i.argumentNames=r,i.Promise=void 0,t.promisify=i},function(e,t,n){var r=n(18),i=n(99),a=n(100);e.exports={CramFile:r,IndexedCramFile:i,CraiIndex:a}},function(e,t,n){(function(t){var r=n(20),i=n(61),a=n(30),o=n(0),s=o.CramUnimplementedError,c=o.CramMalformedError,l=n(62),u=n(66),h=u.cramFileDefinition,f=u.getSectionParsers,d=n(71),p=n(33).open,v=n(8),m=v.parseItem,g=v.tinyMemoize,y=n(98).parseHeaderText,b=function(){function e(t){$n(this,e),this.file=p(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new a({maxSize:this.options.cacheSize})}var n,o,u,v,g,b,_,w,k;return Gn(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(k=Hn(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(h.maxLength),e.next=3,this.file.read(n,0,h.maxLength,0);case 3:if(2===(r=h.parser.parse(n).result).majorVersion||3===r.majorVersion){e.next=6;break}throw new s("CRAM version ".concat(r.majorVersion," not supported"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"getSamHeader",value:(w=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new c("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return r=(n=e.sent.content).readInt32LE(0),i=n.toString("utf8",4,4+r),e.abrupt("return",y(i));case 12:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getSectionParsers",value:(_=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return e.abrupt("return",f(e.sent.majorVersion));case 5:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"getContainerById",value:(b=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=(n=e.sent).cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent.size,a=n.cramContainerHeader1,s=0;case 10:if(!(s<=t)){e.next=35;break}if(!(r+a.maxLength+8>=i)){e.next=13;break}return e.abrupt("return");case 13:return o=this.getContainerAtPosition(r),e.next=16,o.getHeader();case 16:if(l=e.sent){e.next=19;break}throw new c("container ".concat(t," not found in file"));case 19:if(0!==s){e.next=31;break}r=l._endPosition,u=0;case 22:if(!(u<l.numBlocks)){e.next=29;break}return e.next=25,this.readBlock(r);case 25:r=e.sent._endPosition;case 26:u+=1,e.next=22;break;case 29:e.next=32;break;case 31:r+=l._size+l.length;case 32:s+=1,e.next=10;break;case 35:return e.abrupt("return",o);case 36:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"checkCrc32",value:(g=Hn(regeneratorRuntime.mark(function e(n,r,a,o){var s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.allocUnsafe(r),e.next=3,this.file.read(s,0,r,n);case 3:if((l=i.unsigned(s))===a){e.next=6;break}throw new c("crc mismatch in ".concat(o,": recorded CRC32 = ").concat(a,", but calculated CRC32 = ").concat(l));case 6:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return g.apply(this,arguments)})},{key:"containerCount",value:(v=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent.size,r=t.cramContainerHeader1,i=0,a=t.cramFileDefinition.maxLength;case 9:if(!(a+r.maxLength+8<n)){e.next=31;break}return e.next=12,this.getContainerAtPosition(a).getHeader();case 12:if(o=e.sent){e.next=15;break}return e.abrupt("break",31);case 15:if(0!==i){e.next=27;break}a=o._endPosition,s=0;case 18:if(!(s<o.numBlocks)){e.next=25;break}return e.next=21,this.readBlock(a);case 21:a=e.sent._endPosition;case 22:s+=1,e.next=18;break;case 25:e.next=28;break;case 27:a+=o._size+o.length;case 28:i+=1;case 29:e.next=9;break;case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new d(this,e)}},{key:"readBlockHeader",value:(u=Hn(regeneratorRuntime.mark(function e(n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent.cramBlockHeader,e.next=6,this.file.stat();case 6:if(!(n+r.maxLength>=e.sent.size)){e.next=10;break}return e.abrupt("return");case 10:return i=t.allocUnsafe(r.maxLength),e.next=13,this.file.read(i,0,r.maxLength,n);case 13:return e.abrupt("return",m(i,r.parser,0,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_parseSection",value:(o=Hn(regeneratorRuntime.mark(function e(n,r){var i,a,o,s,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:n.maxLength,!(a=l.length>3?l[3]:void 0)){e.next=6;break}o=a,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(!(r+i>=e.sent.size)){e.next=12;break}return e.abrupt("return");case 12:return o=t.allocUnsafe(i),e.next=15,this.file.read(o,0,i,r);case 15:if((s=m(o,n.parser,0,r))._size===i){e.next=18;break}throw new c("section read error: requested size ".concat(i," does not equal parsed size ").concat(s._size));case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)r.gunzipSync(t).copy(n);else{if("rans"!==e)throw new s("".concat(e," decompression not yet implemented"));l.uncompress(t,n)}}},{key:"readBlock",value:(n=Hn(regeneratorRuntime.mark(function e(n){var r,i,a,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return r=e.sent.majorVersion,e.next=6,this.getSectionParsers();case 6:return i=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(o=(a=e.sent)._endPosition,a.contentPosition=a._endPosition,s=t.allocUnsafe(a.uncompressedSize),"raw"===a.compressionMethod){e.next=20;break}return c=t.allocUnsafe(a.compressedSize),e.next=17,this.read(c,0,a.compressedSize,o);case 17:this._uncompress(a.compressionMethod,c,s),e.next=22;break;case 20:return e.next=22,this.read(s,0,a.uncompressedSize,o);case 22:if(a.content=s,!(r>=3)){e.next=35;break}return e.next=25,this._parseSection(i.cramBlockCrc32,o+a.compressedSize);case 25:if(a.crc32=(l=e.sent).crc32,e.t0=this.validateChecksums,!e.t0){e.next=31;break}return e.next=31,this.checkCrc32(n,a._size+a.compressedSize,a.crc32,"block data");case 31:a._endPosition=l._endPosition,a._size=a.compressedSize+i.cramBlockCrc32.maxLength,e.next=36;break;case 35:a._endPosition=o+a.compressedSize,a._size=a.compressedSize;case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();"getDefinition getSectionParsers getSamHeader".split(" ").forEach(function(e){return g(b,e)}),e.exports=b}).call(this,n(1).Buffer)},function(e,t,n){t.byteLength=function(e){var t=l(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],o=n[1],s=new a(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),c=0,u=o>0?r-4:r,h=0;h<u;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===o&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[c++]=255&t),1===o&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a=[],o=t;o<n;o+=3)a.push(r[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+h],h+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*c-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*v}},function(e,t,n){e.exports=i;var r=n(14).EventEmitter;function i(){r.call(this)}n(4)(i,r),i.Readable=n(15),i.Writable=n(47),i.Duplex=n(48),i.Transform=n(49),i.PassThrough=n(50),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(10).Buffer,i=n(42);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,a,o,s,c=1,l={},u=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[c]=i,r(c),c++},f.clearImmediate=d}function d(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(3))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=a;var r=n(25),i=n(7);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(4),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(16)},function(e,t,n){e.exports=n(5)},function(e,t,n){e.exports=n(15).Transform},function(e,t,n){e.exports=n(15).PassThrough},function(e,t,n){(function(e,r){var i=n(26),a=n(53),o=n(54),s=n(57),c=n(60);for(var l in c)t[l]=c[l];function u(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},u.prototype.write=function(e,t,n,r,i,a,o){return this._write(!0,e,t,n,r,i,a,o)},u.prototype.writeSync=function(e,t,n,r,i,a,o){return this._write(!1,e,t,n,r,i,a,o)},u.prototype._write=function(n,a,o,s,c,l,u,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),c=0,s=0),this.strm.avail_in=c,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=l,this.strm.next_out=u,this.flush=a,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return r.nextTick(function(){f._process(),f._after()}),this},u.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},u.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},u.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(e,n,r,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,a,o),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(e,n,r,i,c){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=u}).call(this,n(1).Buffer,n(3))},function(e,t){e.exports=function(e){return e&&"object"==Vn(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(11),a=n(55),o=n(28),s=n(29),c=n(56),l=-2,u=258,h=262,f=103,d=113,p=666;function v(e,t){return e.msg=c[t],t}function m(e){return(e<<1)-(e>4?9:0)}function g(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,f=e.w_mask,d=e.prev,p=e.strstart+u,v=l[a+o-1],m=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===m&&l[n+o-1]===v&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<p);if(r=u-(p-a),a=p-u,r>o){if(e.match_start=t,o=r,r>=s)break;v=l[a+o-1],m=l[a+o]}}}while((t=d[t&f])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function S(e){var t,n,r,a,c,l,u,f,d,p,v=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=v+(v-h)){i.arraySet(e.window,e.window,v,v,0),e.match_start-=v,e.strstart-=v,e.block_start-=v,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=v?r-v:0}while(--n);t=n=v;do{r=e.prev[--t],e.prev[t]=r>=v?r-v:0}while(--n);a+=v}if(0===e.strm.avail_in)break;if(u=e.window,f=e.strstart+e.lookahead,p=void 0,(p=(l=e.strm).avail_in)>(d=a)&&(p=d),n=0===p?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=o(l.adler,u,p,f):2===l.state.wrap&&(l.adler=s(l.adler,u,p,f)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[c=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function x(e,t){for(var n,r;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):v(e,l)}function T(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,g(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function I(e,t,n,r,a,o){if(!e)return l;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return v(e,l);8===r&&(r=9);var c=new R;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,T(e)}r=[new E(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&b(e,!1),1)}),new E(4,4,8,4,x),new E(4,5,16,8,x),new E(4,6,32,32,x),new E(4,4,16,16,C),new E(8,16,32,32,C),new E(8,16,128,128,C),new E(8,32,128,256,C),new E(32,128,258,1024,C),new E(32,258,258,4096,C)],t.deflateInit=function(e,t){return I(e,t,8,15,8,0)},t.deflateInit2=I,t.deflateReset=T,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||t>5||t<0)return e?v(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return v(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,_(i,31),_(i,139),_(i,8),i.gzhead?(_(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),_(i,255&i.gzhead.time),_(i,i.gzhead.time>>8&255),_(i,i.gzhead.time>>16&255),_(i,i.gzhead.time>>24&255),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(_(i,255&i.gzhead.extra.length),_(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(_(i,0),_(i,0),_(i,0),_(i,0),_(i,0),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,w(i,h),0!==i.strstart&&(w(i,e.adler>>>16),w(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending!==i.pending_buf_size));)_(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,_(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,_(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(_(i,255&e.adler),_(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(n)&&4!==t)return v(e,-5);if(i.status===p&&0!==e.avail_in)return v(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var k=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=u){if(S(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+u;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=u-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==k&&4!==k||(i.status=p),1===k||3===k)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(_(i,255&e.adler),_(i,e.adler>>8&255),_(i,e.adler>>16&255),_(i,e.adler>>24&255),_(i,255&e.total_in),_(i,e.total_in>>8&255),_(i,e.total_in>>16&255),_(i,e.total_in>>24&255)):(w(i,e.adler>>>16),w(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==d&&t!==p?v(e,l):(e.state=null,t===d?v(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,r,a,s,c,u,h,f,d=t.length;if(!e||!e.state)return l;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(11);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);i(l);var u=new Array(60);i(u);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,v,m,g=new Array(30);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function k(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){k(e,n[2*t],n[2*t+1])}function x(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=x(a[s]++,s))}}function E(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function T(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function I(e,t,n){var r,i,s,c,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?S(e,i,t):(S(e,(s=f[i])+256+1,t),0!==(c=a[s])&&k(e,i-=d[s],c),S(e,s=_(--r),n),0!==(c=o[s])&&k(e,r-=g[s],c))}while(l<e.last_lit);S(e,256,t)}function O(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)T(e,a,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],T(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,T(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=c[2*c[2*(r=e.heap[n])+1]+1]+1)>p&&(a=p,v++),c[2*r+1]=a,r>l||(e.bl_count[a]++,o=0,r>=d&&(o=f[r-d]),e.opt_len+=(s=c[2*r])*(a+o),h&&(e.static_len+=s*(u[2*r+1]+o)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>l||(c[2*i+1]!==a&&(e.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),r--)}}(e,t),C(a,l,e.bl_count)}function D(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4))}function M(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<l)do{S(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(S(e,i,e.bl_tree),s--),S(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(S(e,17,e.bl_tree),k(e,s-3,3)):(S(e,18,e.bl_tree),k(e,s-11,7));s=0,a=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4)}}i(g);var P=!1;function L(e,t,n,i){k(e,0+(i?1:0),3),function(e,t,n,i){R(e),w(e,n),w(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){P||(function(){var e,t,n,r,i,c=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<a[r];e++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,e=0;e<1<<o[r];e++)h[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,e=0;e<1<<o[r]-7;e++)h[256+i++]=r;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,c[8]++;for(;e<=255;)l[2*e+1]=9,e++,c[9]++;for(;e<=279;)l[2*e+1]=7,e++,c[7]++;for(;e<=287;)l[2*e+1]=8,e++,c[8]++;for(C(l,287,c),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=x(e,5);p=new y(l,a,257,286,15),v=new y(u,o,0,30,15),m=new y(new Array(0),s,0,19,7)}(),P=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,v),e.bl_desc=new b(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,E(e)},t._tr_stored_block=L,t._tr_flush_block=function(e,t,n,r){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),o=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(i=e.opt_len+3+7>>>3)&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?L(e,t,n,r):4===e.strategy||a===i?(k(e,2+(r?1:0),3),I(e,l,u)):(k(e,4+(r?1:0),3),function(e,t,n,r){var i;for(k(e,t-257,5),k(e,n-1,5),k(e,r-4,4),i=0;i<r;i++)k(e,e.bl_tree[2*c[i]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),I(e,e.dyn_ltree,e.dyn_dtree)),E(e),r&&R(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){k(e,2,3),S(e,256,l),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(11),i=n(28),a=n(29),o=n(58),s=n(59),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):c}function v(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function m(e,t){var n,r;return e?(r=new f,e.state=r,r.window=null,0!==(n=v(e,t))&&(e.state=null),n):c}var g,y,b=!0;function _(e){if(b){var t;for(g=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=g,e.lenbits=9,e.distcode=y,e.distbits=5}function w(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=p,t.inflateReset2=v,t.inflateResetKeep=d,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var n,f,d,p,v,m,g,y,b,k,S,x,C,E,R,A,T,I,O,D,M,P,L,F,N=0,z=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===l&&(n.mode=13),v=e.next_out,d=e.output,p=e.next_in,f=e.input,y=n.hold,b=n.bits,k=m=e.avail_in,S=g=e.avail_out,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=u;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:l,y=0,b=0;break;case 2:for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,z[2]=y>>>16&255,z[3]=y>>>24&255,n.check=a(n.check,z,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=a(n.check,z,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>m&&(x=m),x&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,p,x,M)),512&n.flags&&(n.check=a(n.check,f,x,p)),m-=x,p+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;x=0;do{M=f[p+x++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&x<m);if(512&n.flags&&(n.check=a(n.check,f,x,p)),m-=x,p+=x,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;x=0;do{M=f[p+x++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&x<m);if(512&n.flags&&(n.check=a(n.check,f,x,p)),m-=x,p+=x,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}e.adler=n.check=h(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(x>m&&(x=m),x>g&&(x=g),0===x)break e;r.arraySet(d,f,p,x,v),m-=x,p+=x,g-=x,v+=x,n.length-=x;break}n.mode=l;break;case 17:for(;b<14;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(n.nlen=257+(31&y),b-=5,n.ndist=1+(31&(y>>>=5)),b-=5,n.ncode=4+(15&(y>>>=5)),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.lens[j[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P=s(0,n.lens,0,19,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(T<16)y>>>=R,b-=R,n.lens[n.have++]=T;else{if(16===T){for(F=R+2;b<F;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y>>>=R,b-=R,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}M=n.lens[n.have-1],x=3+(3&y),y>>>=2,b-=2}else if(17===T){for(F=R+3;b<F;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}b-=R,M=0,x=3+(7&(y>>>=R)),y>>>=3,b-=3}else{for(F=R+7;b<F;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}b-=R,M=0,x=11+(127&(y>>>=R)),y>>>=7,b-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;x--;)n.lens[n.have++]=M}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L={bits:n.lenbits}),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L={bits:n.distbits}),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(m>=6&&g>=258){e.next_out=v,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,o(e,S),v=e.next_out,d=e.output,g=e.avail_out,p=e.next_in,f=e.input,m=e.avail_in,y=n.hold,b=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;A=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(A&&0==(240&A)){for(I=R,O=A,D=T;A=(N=n.lencode[D+((y&(1<<I+O)-1)>>I)])>>>16&255,T=65535&N,!(I+(R=N>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=R,b-=R,n.back+=R,n.length=T,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=l;break}if(64&A){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(N=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&N,!((R=N>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(0==(240&A)){for(I=R,O=A,D=T;A=(N=n.distcode[D+((y&(1<<I+O)-1)>>I)])>>>16&255,T=65535&N,!(I+(R=N>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=R,b-=R,n.back+=R,64&A){e.msg="invalid distance code",n.mode=u;break}n.offset=T,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===g)break e;if(n.offset>(x=S-g)){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}C=x>n.wnext?n.wsize-(x-=n.wnext):n.wnext-x,x>n.length&&(x=n.length),E=n.window}else E=d,C=v-n.offset,x=n.length;x>g&&(x=g),g-=x,n.length-=x;do{d[v++]=E[C++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;d[v++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===m)break e;m--,y|=f[p++]<<b,b+=8}if(e.total_out+=S-=g,n.total+=S,S&&(e.adler=n.check=n.flags?a(n.check,d,S,v-S):i(n.check,d,S,v-S)),S=g,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=u;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case u:P=-3;break e;case 31:return-4;case 32:default:return c}return e.next_out=v,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,(n.wsize||S!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(S-=e.avail_out,e.total_in+=k-=e.avail_in,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?a(n.check,d,S,e.next_out-S):i(n.check,d,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===S||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:w(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C,E;C=e.input,i=(r=e.next_in)+(e.avail_in-5),E=e.output,o=(a=e.next_out)-(t-e.avail_out),s=a+(e.avail_out-257),c=(n=e.state).dmax,l=n.wsize,u=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=C[r++]<<p,d+=C[r++]<<(p+=8),p+=8),b=v[d&g];t:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))E[a++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(p<_&&(d+=C[r++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=C[r++]<<p,d+=C[r++]<<(p+=8),p+=8),b=m[d&y];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,p<(_&=15)&&(d+=C[r++]<<p,(p+=8)<_&&(d+=C[r++]<<p,p+=8)),(k+=d&(1<<_)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=_,p-=_,k>(_=a-o)){if((_=k-_)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,x=f,0===h){if(S+=l-_,_<w){w-=_;do{E[a++]=f[S++]}while(--_);S=a-k,x=E}}else if(h<_){if(S+=l+h-_,(_-=h)<w){w-=_;do{E[a++]=f[S++]}while(--_);if(S=0,h<w){w-=_=h;do{E[a++]=f[S++]}while(--_);S=a-k,x=E}}}else if(S+=h-_,_<w){w-=_;do{E[a++]=f[S++]}while(--_);S=a-k,x=E}for(;w>2;)E[a++]=x[S++],E[a++]=x[S++],E[a++]=x[S++],w-=3;w&&(E[a++]=x[S++],w>1&&(E[a++]=x[S++]))}else{S=a-k;do{E[a++]=E[S++],E[a++]=E[S++],E[a++]=E[S++],w-=3}while(w>2);w&&(E[a++]=E[S++],w>1&&(E[a++]=E[S++]))}break}}break}}while(r<i&&a<s);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},function(e,t,n){var r=n(11),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,l,u,h,f){var d,p,v,m,g,y,b,_,w,k=f.bits,S=0,x=0,C=0,E=0,R=0,A=0,T=0,I=0,O=0,D=0,M=null,P=0,L=new r.Buf16(16),F=new r.Buf16(16),N=null,z=0;for(S=0;S<=15;S++)L[S]=0;for(x=0;x<c;x++)L[t[n+x]]++;for(R=k,E=15;E>=1&&0===L[E];E--);if(R>E&&(R=E),0===E)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(C=1;C<E&&0===L[C];C++);for(R<C&&(R=C),I=1,S=1;S<=15;S++)if(I<<=1,(I-=L[S])<0)return-1;if(I>0&&(0===e||1!==E))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+L[S];for(x=0;x<c;x++)0!==t[n+x]&&(h[F[t[n+x]]++]=x);if(0===e?(M=N=h,y=19):1===e?(M=i,P-=257,N=a,z-=257,y=256):(M=o,N=s,y=-1),D=0,x=0,S=C,g=u,A=R,T=0,v=-1,m=(O=1<<R)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){b=S-T,h[x]<y?(_=0,w=h[x]):h[x]>y?(_=N[z+h[x]],w=M[P+h[x]]):(_=96,w=0),d=1<<S-T,C=p=1<<A;do{l[g+(D>>T)+(p-=d)]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<S-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,x++,0==--L[S]){if(S===E)break;S=t[n+h[x]]}if(S>R&&(D&m)!==v){for(0===T&&(T=R),g+=C,I=1<<(A=S-T);A+T<E&&!((I-=L[A+T])<=0);)A++,I<<=1;if(O+=1<<A,1===e&&O>852||2===e&&O>592)return 1;l[v=D&m]=R<<24|A<<16|g-u|0}}return 0!==D&&(l[g+D]=S-T<<24|64<<16|0),f.bits=R,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(1).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function a(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+Vn(e))}function o(e,t){e=a(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,o=0;o<e.length;o++)n=i[255&(n^e[o])]^n>>>8;return-1^n}function s(){return e=o.apply(null,arguments),(t=a(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),s.signed=function(){return o.apply(null,arguments)},s.unsigned=function(){return o.apply(null,arguments)>>>0},e.exports=s},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(12),a=n(63),o=n(64),s=n(65),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;$n(this,e),this._buffer=t,this._position=n,this.length=t.length}return Gn(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return n.fill(0),n;var u=new c(e,l),h=u.get();if(0!==h&&1!==h)throw new r("Invalid rANS order ".concat(h));if(u.getInt()!==u.remaining()-4)throw new r("Incorrect input length.");var f=u.getInt(),d=new c(n||t.allocUnsafe(f));if(d.length<f)throw new r("Output buffer too small to fit ".concat(f," bytes."));switch(h){case 0:return function(e,t){for(var n=new i.AriDecoder,r=new Array(256),s=0;s<r.length;s+=1)r[s]=new i.Symbol;return a.readStatsO0(e,n,r),o.uncompress(e,n,r,t),t}(u,d);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new i.AriDecoder;for(var o=new Array(256),c=0;c<o.length;c+=1){o[c]=new Array(256);for(var l=0;l<o[c].length;l+=1)o[c][l]=new i.Symbol}return a.readStatsO1(e,n,o),s.uncompress(e,t,n,o),t}(u,d);default:throw new r("Invalid rANS order: ".concat(h))}}}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),a=n(12);function o(e){if(!e)throw new r("assertion failed")}e.exports={readStatsO0:function(e,t,n){var r=0,s=0,c=255&e.get();do{null==t.fc[c]&&(t.fc[c]=new a.FC),t.fc[c].F=255&e.get(),t.fc[c].F>=128&&(t.fc[c].F&=-129,t.fc[c].F=(127&t.fc[c].F)<<8|255&e.get()),t.fc[c].C=s,a.symbolInit(n[c],t.fc[c].C,t.fc[c].F),t.R||(t.R=new Array(i.TOTFREQ)),t.R.fill(c,s,s+t.fc[c].F),s+=t.fc[c].F,0===r&&c+1===(255&e.getByteAt(e.position()))?(c=255&e.get(),r=255&e.get()):0!==r?(r-=1,c+=1):c=255&e.get()}while(0!==c);o(s<i.TOTFREQ)},readStatsO1:function(e,t,n){var r=0,s=255&e.get();do{var c=0,l=0,u=255&e.get();null==t[s]&&(t[s]=new a.AriDecoder);do{null==t[s].fc[u]&&(t[s].fc[u]=new a.FC),t[s].fc[u].F=255&e.get(),t[s].fc[u].F>=128&&(t[s].fc[u].F&=-129,t[s].fc[u].F=(127&t[s].fc[u].F)<<8|255&e.get()),t[s].fc[u].C=l,0===t[s].fc[u].F&&(t[s].fc[u].F=i.TOTFREQ),null==n[s][u]&&(n[s][u]=new a.RansDecSymbol),a.symbolInit(n[s][u],t[s].fc[u].C,t[s].fc[u].F),null==t[s].R&&(t[s].R=new Array(i.TOTFREQ)),t[s].R.fill(u,l,l+t[s].fc[u].F),o((l+=t[s].fc[u].F)<=i.TOTFREQ),0===c&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),c=255&e.get()):0!==c?(c-=1,u+=1):u=255&e.get()}while(0!==u);0===r&&s+1===(255&e.getByteAt(e.position()))?(s=255&e.get(),r=255&e.get()):0!==r?(r-=1,s+=1):s=255&e.get()}while(0!==s)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),a=n(12);e.exports={uncompress:function(e,t,n,o){for(var s,c=e.getInt(),l=e.getInt(),u=e.getInt(),h=e.getInt(),f=o.remaining(),d=-4&f,p=0;p<d;p+=4){var v=t.R[a.get(c,i.TF_SHIFT)],m=t.R[a.get(l,i.TF_SHIFT)],g=t.R[a.get(u,i.TF_SHIFT)],y=t.R[a.get(h,i.TF_SHIFT)];o.putAt(p,v),o.putAt(p+1,m),o.putAt(p+2,g),o.putAt(p+3,y),c=a.advanceSymbolStep(c,n[255&v],i.TF_SHIFT),l=a.advanceSymbolStep(l,n[255&m],i.TF_SHIFT),u=a.advanceSymbolStep(u,n[255&g],i.TF_SHIFT),h=a.advanceSymbolStep(h,n[255&y],i.TF_SHIFT),c=a.renormalize(c,e),l=a.renormalize(l,e),u=a.renormalize(u,e),h=a.renormalize(h,e)}switch(o.setPosition(d),3&f){case 0:break;case 1:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s);break;case 2:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(l,i.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],i.TF_SHIFT),o.put(s);break;case 3:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(l,i.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(u,i.TF_SHIFT)],a.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),o.put(s);break;default:throw new r("invalid output size encountered during rANS decoding")}o.setPosition(0)}}},function(e,t,n){var r=n(13),i=n(12);e.exports={uncompress:function(e,t,n,a){for(var o=t.remaining(),s=e.getInt(),c=e.getInt(),l=e.getInt(),u=e.getInt(),h=o>>2,f=0,d=h,p=2*h,v=3*h,m=0,g=0,y=0,b=0;f<h;f+=1,d+=1,p+=1,v+=1){var _=255&n[m].R[i.get(s,r.TF_SHIFT)],w=255&n[g].R[i.get(c,r.TF_SHIFT)],k=255&n[y].R[i.get(l,r.TF_SHIFT)],S=255&n[b].R[i.get(u,r.TF_SHIFT)];t.putAt(f,_),t.putAt(d,w),t.putAt(p,k),t.putAt(v,S),s=i.advanceSymbolStep(s,a[m][_],r.TF_SHIFT),c=i.advanceSymbolStep(c,a[g][w],r.TF_SHIFT),l=i.advanceSymbolStep(l,a[y][k],r.TF_SHIFT),u=i.advanceSymbolStep(u,a[b][S],r.TF_SHIFT),s=i.renormalize(s,e),c=i.renormalize(c,e),l=i.renormalize(l,e),u=i.renormalize(u,e),m=_,g=w,y=k,b=S}for(;v<o;v+=1){var x=255&n[b].R[i.get(u,r.TF_SHIFT)];t.putAt(v,x),u=i.advanceSymbol(u,e,a[b][x],r.TF_SHIFT),b=x}}}},function(e,t,n){var r=n(67).Parser,i=(new r).itf8(),a={parser:(new r).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},o={parser:(new r).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},s={parser:(new r).uint32("crc32"),maxLength:4},c=(new r).itf8("size").buffer("entries",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),i=[],a=0;a<r.length;a+=3)i.push(r.substr(a,3));return i}var n,r=[],i=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(i,n)),i=n+1);return n>i&&r.push(t(i,n)),r}}),l=(new r).uint8(null,{formatter:function(e){return!!e}}),u=(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:l,UI:l,PI:l,RN:l,AP:l,RR:l,SM:(new r).array(null,{type:"uint8",length:5}),TD:(new r).nest(null,{type:c,formatter:function(e){return e.entries}})}})});function h(e){var t={};return e.entries.forEach(function(e){var n=e.key,r=e.value;t[n]&&console.warn("duplicate key ".concat(n," in map")),t[n]=r}),t}var f={cramFileDefinition:a,cramBlockHeader:o,cramBlockCrc32:s},d={cramUnmappedSliceHeader:function(e){var t=0,n=(new r).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new r).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new r).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new r,1:(new r).itf8("blockContentId"),2:(new r).itf8("offset").itf8("M"),3:r.start().itf8("numCodes").array("symbols",{length:"numCodes",type:i}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:i}),4:r.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new r).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new r).itf8("offset").itf8("length"),7:(new r).itf8("offset").itf8("K"),8:(new r).itf8("offset").itf8("log2m"),9:(new r).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new r;return{parser:t=t.nest("preservation",{type:u,formatter:h}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:h}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:h})}},cramContainerHeader1:function(e){var t=(new r).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new r).itf8("numLandmarks").array("landmarks",{type:(new r).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:a,getSectionParsers:function(e){var t=Object.assign({},f);return Object.keys(d).forEach(function(n){t[n]=d[n](e)}),t}}},function(e,t,n){(function(e){var r=n(68),i=n(70).Context,a=n(31);"undefined"!=typeof window&&(window.Buffer=e);var o={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8},s={},c=[];!function(){var e;for(e=1;e<=32;e++)c.push(e)}();var l={};Object.keys(o).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach(function(e){l[e.toLowerCase()]=e});var u=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};u.start=function(){return new u},Object.keys(o).forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in u.prototype||(u.prototype[t]=function(e,n){return this[t+this.endian](e,n)})}),c.forEach(function(e){u.prototype["bit"+e.toString()]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}}),u.prototype.namely=function(e){return s[e]=this,this.alias=e,this},u.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},u.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},u.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},u.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!s[t.type]&&Object.keys(o).indexOf(l[t.type])<0)throw new Error('Specified primitive type "'+t.type+'" is not supported.');return this.setNextParser("array",e,t)},u.prototype.choice=function(e,t){if(1==arguments.length&&"object"==Vn(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach(function(n){if(!t.choices[n])throw new Error("Choice Case "+n+" of "+e+" is not valid.");if("string"==typeof t.choices[n]&&!s[t.choices[n]]&&Object.keys(o).indexOf(l[t.choices[n]])<0)throw new Error('Specified primitive type "'+t.choices[n]+'" is not supported.')},this),this.setNextParser("choice",e,t)},u.prototype.nest=function(e,t){if(1==arguments.length&&"object"==Vn(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof u||s[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof u||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},u.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: "+e)}return this},u.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},u.prototype.getCode=function(){var e=new i;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},u.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},u.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),e.pushCode(this.constructorFn?"var vars = new constructorFn();":"var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},u.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach(function(t){s[t].addAliasedCode(e)})},u.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { "+this.getCode()+" })";this.compiled=r.runInThisContext(e)},u.prototype.sizeOf=function(){var e=NaN;if(Object.keys(o).indexOf(this.type)>=0)e=o[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=o[l[this.options.type]]:this.options.type instanceof u&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},u.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,a)},u.prototype.setNextParser=function(e,t,n){var r=new u;return r.type=l[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},u.prototype.generate=function(e){this.type&&(this["generate"+this.type](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},u.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(Vn(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},u.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(o).forEach(function(e){u.prototype["generate"+e]=function(t){t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",o[e])}}),u.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach(function(e){n+=e.options.length});var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),a=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",a),e.pushCode("var {2} = ({0} << 8) | {1};",i,a,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var o=0,s="be"===this.endian;e.bitFields.forEach(function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,s?n-o-t.options.length:o,(1<<t.options.length)-1),o+=t.options.length}),e.bitFields=[]}},u.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},u.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},u.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},u.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),a=e.generateVariable(this.varName),c=e.generateTmpVariable(),h=this.options.key,f="string"==typeof h;if(e.pushCode(f?"{0} = {};":"{0} = [];",a),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(s[r]){var d=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",d,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",c,d),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",c,l[r]),e.pushCode("offset += {0};",o[l[r]]);else r instanceof u&&(e.pushCode("var {0} = {};",c),e.pushScope(c),r.generate(e),e.popScope());f?e.pushCode("{0}[{2}.{1}] = {2};",a,h,c):e.pushCode("{0}.push({1});",a,c),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,c)},u.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(s[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),l[n]),e.pushCode("offset += {0};",o[l[n]]);else n instanceof u&&(e.pushPath(t),n.generate(e),e.popPath(t))},u.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach(function(t){var n=this.options.choices[t];isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")},this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},u.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof u)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(s[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},u.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},u.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},u.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},u.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=u}).call(this,n(1).Buffer)},function(e,t,n){var r=n(69),i=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},a=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},o=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),s=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval2","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function c(){}c.prototype={};var l=t.Script=function(e){if(!(this instanceof l))return new l(e);this.code=e};l.prototype.runInContext=function(e){if(!(e instanceof c))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,l=n.eval2,u=n.execScript;!l&&u&&(u.call(n,"null"),l=n.eval2),a(i(e),function(t){n[t]=e[t]}),a(s,function(t){e[t]&&(n[t]=e[t])});var h=i(n),f=l.call(n,this.code);return a(i(n),function(t){(t in e||-1===r(h,t))&&(e[t]=n[t])}),a(s,function(t){t in e||o(e,t,n[t])}),document.body.removeChild(t),f},l.prototype.runInThisContext=function(){return nw(this.code)},l.prototype.runInNewContext=function(e){var t=l.createContext(e),n=this.runInContext(t);return a(i(t),function(n){e[n]=t[n]}),n},a(i(l.prototype),function(e){t[e]=l[e]=function(t){var n=l(t);return n[e].apply(n,[].slice.call(arguments,1))}}),t.createScript=function(e){return t.Script(e)},t.createContext=l.createContext=function(e){var t=new c;return"object"==Vn(e)&&a(i(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){var n=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};n.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},n.prototype.generateOption=function(e){switch(Vn(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"("+e+").call("+this.generateVariable()+", vars)"}},n.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=n.interpolate.apply(this,e);this.pushCode(this.isAsync?"return process.nextTick(function() { callback(new Error("+t+"), vars); });":"throw new Error("+t+");")},n.prototype.generateTmpVariable=function(){return"$tmp"+this.tmpVariableCount++},n.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+=n.interpolate.apply(this,e)+"\n"},n.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},n.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},n.prototype.pushScope=function(e){this.scopes.push([e])},n.prototype.popScope=function(){this.scopes.pop()},n.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},n.prototype.markResolved=function(e){this.references[e].resolved=!0},n.prototype.markRequested=function(e){e.forEach((function(e){this.references[e].requested=!0}).bind(this))},n.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter(function(t){return!e[t].resolved&&!e[t].requested})},n.interpolate=function(e){var t=e.match(/{\d+}/g),n=Array.prototype.slice.call(arguments,1);return t&&t.forEach(function(t){var r=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,n[r].toString())}),e},t.Context=n},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(8),a=i.itf8Size,o=i.parseItem,s=i.tinyMemoize,c=n(75),l=n(78),u=function(){function e(t,n){$n(this,e),this.file=t,this.filePosition=n}var n,i,s,u;return Gn(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(u=Hn(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.file.getSectionParsers();case 6:return t=e.sent,e.next=9,this.getFirstBlock();case 9:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=12;break}throw new r("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 12:return i=o(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),e.abrupt("return",(n.content=i,n));case 14:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"getFirstBlock",value:(s=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return e.abrupt("return",this.file.readBlock(e.sent._endPosition));case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",new l(t.content));case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new c(this,e,t)}},{key:"_readContainerHeader",value:(n=Hn(regeneratorRuntime.mark(function e(n){var r,i,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return i=(r=e.sent).cramContainerHeader1,s=r.cramContainerHeader2,e.next=7,this.file.stat();case 7:if(!(n>=(c=e.sent.size))){e.next=11;break}return e.abrupt("return");case 11:return l=t.allocUnsafe(i.maxLength),e.next=14,this.file.read(l,0,i.maxLength,n);case 14:if(u=o(l,i.parser),h=a(u.numLandmarks),!(n+u.length>=c)){e.next=17;break}return e.abrupt("return",void console.warn("".concat(this.file,": container header at ").concat(n," indicates that the container has length ").concat(u.length,", which extends beyond the length of the file. Skipping this container.")));case 17:return f=t.allocUnsafe(s.maxLength(u.numLandmarks)),e.next=20,this.file.read(f,0,s.maxLength(u.numLandmarks),n+u._size-h);case 20:if(d=o(f,s.parser),e.t0=this.file.validateChecksums&&void 0!==d.crc32,!e.t0){e.next=25;break}return e.next=25,this.file.checkCrc32(n,u._size+d._size-h-4,d.crc32,"container header beginning at position ".concat(n));case 25:return e.abrupt("return",Object.assign(u,d,{_size:u._size+d._size-h,_endPosition:u._size+d._size-h+n}));case 26:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach(function(e){return s(u,e)}),e.exports=u}).call(this,n(1).Buffer)},function(e,t,n){var r,i,a,o,s;r=n(73),i=n(32).utf8,a=n(74),o=n(32).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,h=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var p=s._ff,v=s._gg,m=s._hh,g=s._ii;for(d=0;d<n.length;d+=16){var y=l,b=u,_=h,w=f;l=p(l,u,h,f,n[d+0],7,-680876936),f=p(f,l,u,h,n[d+1],12,-389564586),h=p(h,f,l,u,n[d+2],17,606105819),u=p(u,h,f,l,n[d+3],22,-1044525330),l=p(l,u,h,f,n[d+4],7,-176418897),f=p(f,l,u,h,n[d+5],12,1200080426),h=p(h,f,l,u,n[d+6],17,-1473231341),u=p(u,h,f,l,n[d+7],22,-45705983),l=p(l,u,h,f,n[d+8],7,1770035416),f=p(f,l,u,h,n[d+9],12,-1958414417),h=p(h,f,l,u,n[d+10],17,-42063),u=p(u,h,f,l,n[d+11],22,-1990404162),l=p(l,u,h,f,n[d+12],7,1804603682),f=p(f,l,u,h,n[d+13],12,-40341101),h=p(h,f,l,u,n[d+14],17,-1502002290),l=v(l,u=p(u,h,f,l,n[d+15],22,1236535329),h,f,n[d+1],5,-165796510),f=v(f,l,u,h,n[d+6],9,-1069501632),h=v(h,f,l,u,n[d+11],14,643717713),u=v(u,h,f,l,n[d+0],20,-373897302),l=v(l,u,h,f,n[d+5],5,-701558691),f=v(f,l,u,h,n[d+10],9,38016083),h=v(h,f,l,u,n[d+15],14,-660478335),u=v(u,h,f,l,n[d+4],20,-405537848),l=v(l,u,h,f,n[d+9],5,568446438),f=v(f,l,u,h,n[d+14],9,-1019803690),h=v(h,f,l,u,n[d+3],14,-187363961),u=v(u,h,f,l,n[d+8],20,1163531501),l=v(l,u,h,f,n[d+13],5,-1444681467),f=v(f,l,u,h,n[d+2],9,-51403784),h=v(h,f,l,u,n[d+7],14,1735328473),l=m(l,u=v(u,h,f,l,n[d+12],20,-1926607734),h,f,n[d+5],4,-378558),f=m(f,l,u,h,n[d+8],11,-2022574463),h=m(h,f,l,u,n[d+11],16,1839030562),u=m(u,h,f,l,n[d+14],23,-35309556),l=m(l,u,h,f,n[d+1],4,-1530992060),f=m(f,l,u,h,n[d+4],11,1272893353),h=m(h,f,l,u,n[d+7],16,-155497632),u=m(u,h,f,l,n[d+10],23,-1094730640),l=m(l,u,h,f,n[d+13],4,681279174),f=m(f,l,u,h,n[d+0],11,-358537222),h=m(h,f,l,u,n[d+3],16,-722521979),u=m(u,h,f,l,n[d+6],23,76029189),l=m(l,u,h,f,n[d+9],4,-640364487),f=m(f,l,u,h,n[d+12],11,-421815835),h=m(h,f,l,u,n[d+15],16,530742520),l=g(l,u=m(u,h,f,l,n[d+2],23,-995338651),h,f,n[d+0],6,-198630844),f=g(f,l,u,h,n[d+7],10,1126891415),h=g(h,f,l,u,n[d+14],15,-1416354905),u=g(u,h,f,l,n[d+5],21,-57434055),l=g(l,u,h,f,n[d+12],6,1700485571),f=g(f,l,u,h,n[d+3],10,-1894986606),h=g(h,f,l,u,n[d+10],15,-1051523),u=g(u,h,f,l,n[d+1],21,-2054922799),l=g(l,u,h,f,n[d+8],6,1873313359),f=g(f,l,u,h,n[d+15],10,-30611744),h=g(h,f,l,u,n[d+6],15,-1560198380),u=g(u,h,f,l,n[d+13],21,1309151649),l=g(l,u,h,f,n[d+4],6,-145523070),f=g(f,l,u,h,n[d+11],10,-1120210379),h=g(h,f,l,u,n[d+2],15,718787259),u=g(u,h,f,l,n[d+9],21,-343485551),l=l+y>>>0,u=u+b>>>0,h=h+_>>>0,f=f+w>>>0}return r.endian([l,u,h,f])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)t.push(8*r+6*a<=8*e.length?n.charAt(i>>>6*(3-a)&63):"=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var r=n(0),i=r.CramMalformedError,a=r.CramBufferOverrunError,o=r.CramArgumentError,s=n(8),c=s.parseItem,l=s.tinyMemoize,u=s.sequenceMD5,h=n(17),f=n(76);function d(e,t,n,r){if(!r)throw new i("could not resolve intra-slice mate pairs, file seems truncated or malformed");var a=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=h.BAM_FPAIRED,r.flags&h.BAM_FUNMAP&&(n.flags|=h.BAM_FMUNMAP),n.flags&h.BAM_FUNMAP&&(r.flags|=h.BAM_FMUNMAP),r.flags&h.BAM_FREVERSE&&(n.flags|=h.BAM_FMREVERSE),n.flags&h.BAM_FREVERSE&&(r.flags|=h.BAM_FMREVERSE),void 0===n.templateLength&&(a?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var a=e[n.mateRecordNumber];if(!a)throw new i("intra-slice mate record not found, this file seems malformed");r.push.apply(r,tr(t(a)))}return r}(n),a=r.map(function(e){return e.alignmentStart}),o=r.map(function(e){return e.alignmentStart+e.readLength-1}),s=Math.max.apply(Math,tr(o))-Math.min.apply(Math,tr(a))+1;s>=0&&r.forEach(function(e){if(void 0!==e.templateLength)throw new i("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=s})}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var p=function(){function e(t,n){$n(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,r,s,l,h,p;return Gn(e,[{key:"getHeader",value:function(){var e=Hn(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(r=e.sent).contentType){e.next=13;break}r.content=c(r.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=16;break;case 13:if("UNMAPPED_SLICE_HEADER"===r.contentType){e.next=15;break}throw new i("error reading slice header block, invalid content type ".concat(r._contentType));case 15:r.content=c(r.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBlocks",value:(p=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:n=(t=e.sent)._endPosition,r=new Array(t.content.numBlocks),i=0;case 6:if(!(i<r.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:r[i]=e.sent,n=r[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getCoreDataBlock",value:(h=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(l=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t={},e.abrupt("return",(e.sent.forEach(function(e){"EXTERNAL_DATA"===e.contentType&&(t[e.contentId]=e)}),t));case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getBlockByContentId",value:(s=Hn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return e.t0=t,e.abrupt("return",e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"getReferenceRegion",value:(r=Hn(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(r=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new i("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>r.uncompressedSize)){e.next=14;break}throw new i("Embedded reference is too small");case 14:return e.abrupt("return",{seq:r.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((a=e.sent).length===t.refSeqSpan){e.next=23;break}throw new o("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:a,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords(function(){return!0})}},{key:"_fetchRecords",value:(n=Hn(regeneratorRuntime.mark(function e(){var t,n,r,o,s,c,l,h,p,v,m,g,y,b,_,w,k=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return n=e.sent,e.next=9,this.getHeader();case 9:return r=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(o=e.sent,!(t>1&&this.file.options.checkSequenceMD5&&r.content.refSeqId>=0&&"0000000000000000"!==r.content.md5.join(""))){e.next=21;break}return e.next=16,this.getReferenceRegion();case 16:if(!(s=e.sent)){e.next=21;break}if(c=s.start,l=s.end,h=u(s.seq),p=r.content.md5.map(function(e){return(e<16?"0":"")+e.toString(16)}).join(""),h===p){e.next=21;break}throw new i("MD5 checksum reference mismatch for ref ".concat(r.content.refSeqId," pos ").concat(c,"..").concat(l,". recorded MD5: ").concat(p,", calculated MD5: ").concat(h));case 21:return e.next=23,this.getCoreDataBlock();case 23:v=e.sent,m={lastAlignmentStart:r.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},g=function(e){var t=n.getCodecForDataSeries(e);if(!t)throw new i("no codec defined for ".concat(e," data series"));return t.decode(k,v,o,m)},y=new Array(r.content.numRecords),b=0;case 28:if(!(b<y.length)){e.next=42;break}e.prev=29,y[b]=f(this,g,n,r,v,o,m,t,b),y[b].uniqueId=r.contentPosition+r.content.recordCounter+b+1,e.next=39;break;case 33:if(e.prev=33,e.t0=e.catch(29),!(e.t0 instanceof a)){e.next=38;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),y=y.filter(function(e){return!!e}),e.abrupt("break",42);case 38:throw e.t0;case 39:b+=1,e.next=28;break;case 42:for(_=0;_<y.length;_+=1)(w=y[_].mateRecordNumber)>=0&&d(y,_,y[_],y[w]);return e.abrupt("return",y);case 44:case"end":return e.stop()}},e,this,[[29,33]])})),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,u,h,f,d,p,v=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.file.featureCache.get(n=this.container.filePosition+this.containerPosition))||(r=this._fetchRecords(),this.file.featureCache.set(n,r)),e.next=5,r;case 5:if(e.t0=t,!(i=e.sent.filter(e.t0)).length||!this.file.fetchReferenceSequenceCallback){e.next=21;break}return e.next=10,this.getHeader();case 10:if(!((a=e.sent).content.refSeqId>=0||-2===a.content.refSeqId)){e.next=21;break}return o=a.content.refSeqId>=0?a.content.refSeqId:void 0,e.next=15,this.container.getCompressionScheme();case 15:for(s=e.sent,c={},l=0;l<i.length;l+=1)(h=c[u=void 0!==o?o:i[l].sequenceId])||(c[u]=h={id:u,start:i[l].alignmentStart,end:-1/0}),(f=i[l].alignmentStart+(i[l].lengthOnRef||i[l].readLength)-1)>h.end&&(h.end=f),i[l].alignmentStart<h.start&&(h.start=i[l].alignmentStart);return e.next=20,Promise.all(Object.values(c).map(function(){var e=Hn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=-1!==t.id&&t.start<=t.end,!e.t0){e.next=5;break}return e.next=4,v.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 4:t.seq=e.sent;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 20:for(d=0;d<i.length;d+=1)(p=c[void 0!==o?o:i[d].sequenceId])&&p.seq&&i[d].addReferenceSequence(p,s);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach(function(e){return l(p,e)}),e.exports=p},function(e,t,n){(function(t){var r=n(0),i=r.CramMalformedError,a=r.CramUnimplementedError,o=n(31),s=n(77),c=n(17);function l(e){var t=e.indexOf(0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function u(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return l(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=o.fromBytesLE(n);if(r.greaterThan(Number.MAX_SAFE_INTEGER)||r.lessThan(Number.MIN_SAFE_INTEGER))throw new a("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var s=l(n);return Number.parseInt(s.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new i("invalid tag value array type '".concat(t,"'"));for(var a=er(r,2),o=a[0],s=a[1],c=new Array(n),l=5,u=0;u<n;u+=1)c[u]=e[o](l),l+=s;return c}(n);throw new i("Unrecognized tag type ".concat(e))}function h(e){if(e instanceof t)return l(e);if(e.length&&e.indexOf){if(!e[e.length-1]){var n=e.indexOf(0);return String.fromCharCode.apply(String,tr(e.slice(0,n)))}return String.fromCharCode.apply(String,tr(e))}return String(e)}e.exports=function(e,t,n,r,a,o,l,f,d){var p=new s;if(p.flags=t("BF"),p.cramFlags=t("CF"),p.sequenceId=f>1&&-2===r.content.refSeqId?t("RI"):r.content.refSeqId,p.readLength=t("RL"),p.alignmentStart=t("AP"),n.APdelta&&(p.alignmentStart+=l.lastAlignmentStart),l.lastAlignmentStart=p.alignmentStart,p.readGroupId=t("RG"),n.readNamesIncluded&&(p.readName=h(t("RN"))),p.isDetached()){var v={};v.flags=t("MF"),n.readNamesIncluded||(v.readName=h(t("RN")),p.readName=v.readName),v.sequenceId=t("NS"),v.alignmentStart=t("NP"),(v.flags||v.sequenceId>-1)&&(p.mate=v),p.templateSize=t("TS"),v.flags&c.CRAM_M_UNMAP&&(p.flags|=c.BAM_FMUNMAP),v.flags&c.CRAM_M_REVERSE&&(p.flags|=c.BAM_FMREVERSE)}else p.hasMateDownStream()&&(p.mateRecordNumber=t("NF")+d+1);var m=t("TL");if(m<0)throw new i("invalid TL index");for(var g=n.getTagNames(m),y=g.length,b=0;b<y;b+=1){var _=g[b],w=_.substr(0,2),k=_.substr(2,1),S=n.getCodecForTag(_);if(!S)throw new i("no codec defined for auxiliary tag ".concat(_));var x=S.decode(e,a,o,l);p.tags[w]=u(k,x)}if(p.isSegmentUnmapped())if(p.isUnknownBases())p.readBases=null,p.qualityScores=null;else{for(var C=new Array(p.readLength),E=0;E<C.length;E+=1)C[E]=t("BA");if(p.readBases=String.fromCharCode.apply(String,C),p.isPreservingQualityScores()){for(var R=0;R<C.length;R+=1)C[R]=t("QS");p.qualityScores=C}}else{var A=t("FN");A&&(p.readFeatures=function(e,t,n,r,a){var o=0,s=e.alignmentStart-1,c=new Array(t);function l(e){var t=er(e,2),r=t[0],i=n(t[1]);return"character"===r?String.fromCharCode(i):"string"===r?i.toString("utf8"):"numArray"===r?i.toArray():i}for(var u=0;u<t;u+=1){var h=String.fromCharCode(n("FC")),f=n("FP"),d={code:h},p={B:["character","BA"],S:["string",a>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[h];if(!p)throw new i('invalid read feature code "'.concat(h,'"'));d.data=l(p);var v={B:["number","QS"]}[h];v&&(d.data=[d.data,l(v)]),d.pos=o+=f,d.refPos=s+=f,"D"===h||"N"===h?s+=d.data:"H"===h?s-=d.data:"I"===h||"S"===h?s-=d.data.length:"i"===h&&(s-=1),c[u]=d}return c}(p,A,t,0,f));var T=p.readLength;if(p.readFeatures&&p.readFeatures.forEach(function(e){var t=e.code,n=e.data;"D"===t||"N"===t?T+=n:"I"===t||"S"===t?T-=n.length:"i"===t&&(T-=1)}),Number.isNaN(T)&&(console.warn("".concat(p.readName||"".concat(p.sequenceId,":").concat(p.alignmentStart)," record has invalid read features")),T=p.readLength),p.lengthOnRef=T,p.mappingQuality=t("MQ"),p.isPreservingQualityScores()){for(var I=new Array(p.readLength),O=0;O<I.length;O+=1)I[O]=t("QS");p.qualityScores=I}}return p}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(17),i={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};e.exports=function(){function e(){$n(this,e),this.tags={}}return Gn(e,[{key:"isPaired",value:function(){return!!(this.flags&r.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!(this.flags&r.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!(this.flags&r.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!(this.flags&r.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!(this.flags&r.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!(this.flags&r.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!(this.flags&r.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!(this.flags&r.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!(this.flags&r.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!(this.flags&r.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!(this.flags&r.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!(this.flags&r.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",i=n,a=0;r.length<e.readLength;)if(a<e.readFeatures.length&&e.readFeatures[a].pos===r.length+1){var o=e.readFeatures[a];a+=1,"b"===o.code?(r+=o.data,i+=1):"B"===o.code?(r+=o.data[0],i+=1):"X"===o.code?(r+=o.sub,i+=1):"I"===o.code?r+=o.data:"D"===o.code?i+=o.data:"i"===o.code?r+=o.data:"N"===o.code?i+=o.data:"S"===o.code&&(r+=o.data)}else if(a<e.readFeatures.length){var s=t.seq.substr(i,e.readFeatures[a].pos-r.length-1);r+=s,i+=s.length}else{var c=t.seq.substr(i,e.readLength-r.length);r+=c,i+=c.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var i=[],a=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&a>0&&(a=-a),a>0?(i[0]=e,i[1]=n,i[2]=t,i[3]=r):(i[2]=e,i[3]=n,i[0]=t,i[1]=r),i.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){this.readFeatures&&this.readFeatures.forEach(function(n){"X"===n.code&&function(e,t,n,r){if(t){var a=t.seq.charAt(r.refPos-t.start);a&&(r.ref=a);var o=i[a];void 0===o&&(o=4);var s=n.substitutionMatrix[o][r.data];s&&(r.sub=s)}}(0,e,t,n)}),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach(function(n){"_"!==n.charAt(0)&&(t[n]=e[n])}),t.readBases=this.getReadBases(),t}}]),e}()},function(e,t,n){var r=n(0).CramMalformedError,i=n(79).instantiateCodec,a={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"};e.exports=function(){function e(t){$n(this,e),Object.assign(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return Gn(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=i(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=a[e];if(!n)throw new r("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=i(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach(function(n){/Cache$/.test(n)||(t[n]=e[n])}),t}}]),e}()},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(80),a=n(81),o=n(82),s=n(83),c=n(84),l=n(85),u={1:a,3:i,4:s,5:o,6:c,7:n(86),9:l};function h(e){return u[e]}e.exports={getCodecClassWithId:h,instantiateCodec:function e(t,n){var i=h("ignore"===n?0:t.codecId);if(!i)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new i(t.parameters,n,e)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if($n(this,t),e=Jn(this,Yn(t).call(this,n,r)),!["byte","int"].includes(e.dataType))throw new TypeError("".concat(e.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return e.buildCodeBook(),e.buildCodes(),e.buildCaches(),0===e.sortedCodes[0].bitLength&&(e._decode=e._decodeZeroLengthCode),Jn(e)}return Wn(t,e),Gn(t,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=t.sort(function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol}),this.codeBook={},t.forEach(function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)})}},{key:"buildCodes",value:function(){var e=this;this.codes={};var t=0,n=-1;Object.entries(this.codeBook).forEach(function(i){var a=er(i,2),o=a[0],s=a[1];o=parseInt(o,10),s.forEach(function(i){var a={bitLength:o,value:i};n+=1;var s=o-t;if(a.bitCode=n<<=s,t+=s,function(e){var t=e-(e>>1)&1431655765;return 16843009*((t=(858993459&t)+(t>>2&858993459))+(t>>4)&252645135)>>24}(n)>o)throw new r("Symbol out of range");e.codes[i]=a})})}},{key:"buildCaches",value:function(){this.sortedCodes=Object.values(this.codes).sort(function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode}),this.sortedByValue=Object.values(this.codes).sort(function(e,t){return e.value-t.value}),this.sortedValuesByBitCode=this.sortedCodes.map(function(e){return e.value}),this.sortedBitCodes=this.sortedCodes.map(function(e){return e.bitCode}),this.sortedBitLengthsByBitCode=this.sortedCodes.map(function(e){return e.bitLength});var e=Math.max.apply(Math,tr(this.sortedBitCodes));this.bitCodeToValue=new Array(e+1).fill(-1);for(var t=0;t<this.sortedBitCodes.length;t+=1)this.bitCodeToValue[this.sortedCodes[t].bitCode]=t}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var i=t.content,a=0,o=0,s=0;s<this.sortedCodes.length;s+=1){var c=this.sortedCodes[s].bitLength;o<<=c-a,o|=this._getBits(i,n,c-a),a=c;var l=this.bitCodeToValue[o];if(l>-1&&this.sortedBitLengthsByBitCode[l]===c)return this.sortedValuesByBitCode[l];for(var u=s;this.sortedCodes[u+1].bitLength===c&&u<this.sortedCodes.length;u+=1)s+=1}throw new r("Huffman symbol not found.")}}]),t}(i)},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,a=r.CramMalformedError,o=r.CramBufferOverrunError,s=n(6),c=n(8).parseItf8;e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if($n(this,t),"int"===(e=Jn(this,Yn(t).call(this,n,r))).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new i("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new a("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decodeData(o,s)}},{key:"_decodeInt",value:function(e,t){var n=er(c(e.content,t.bytePosition),2),r=n[0];return t.bytePosition+=n[1],r}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new o("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),t}(s)},function(e,t,n){var r=n(0),i=r.CramBufferOverrunError,a=r.CramMalformedError,o=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if($n(this,t),e=Jn(this,Yn(t).call(this,n,r)),"byteArray"!==r)throw new TypeError("byteArrayStop codec does not support data type ".concat(r));return e._decode=e._decodeByteArray,Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new a("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decode(o,s)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,a=t.bytePosition,o=t.bytePosition;n[o]!==r&&o<n.length;){if(o===n.length)throw new i("byteArrayStop reading beyond length of data buffer?");o+=1}return t.bytePosition=o+1,n.slice(a,o)}}]),t}(o)},function(e,t,n){var r=n(8).tinyMemoize,i=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if($n(this,t),(e=Jn(this,Yn(t).call(this,n,r))).instantiateCodec=i,"byteArray"!==r)throw new TypeError("byteArrayLength does not support data type ".concat(r));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i=this._getLengthCodec().decode(e,t,n,r),a=this._getDataCodec(),o=new Array(i),s=0;s<i;s+=1)o[s]=a.decode(e,t,n,r);return o}},{key:"_getLengthCodec",value:function(){return this.instantiateCodec(this.parameters.lengthsEncoding,"int")}},{key:"_getDataCodec",value:function(){return this.instantiateCodec(this.parameters.valuesEncoding,"byte")}}]),t}(n(6));"_getLengthCodec _getDataCodec".split(" ").forEach(function(e){return r(i,e)}),e.exports=i},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if($n(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by BETA codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if($n(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i=1;0===this._getBits(t.content,r.coreBlock,1);)i+=1;return(this._getBits(t.content,r.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if($n(this,t),"int"!==(e=Jn(this,Yn(t).call(this,n,i))).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return Jn(e)}return Wn(t,e),Gn(t,[{key:"decode",value:function(e,t,n,r){for(var i,a=0;this._getBits(t.content,r.coreBlock,1);)a+=1;return(0===a?this._getBits(t.content,r.coreBlock,i=this.parameters.K):1<<(i=a+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,i))-this.parameters.offset}}]),t}(i)},function(e,t,n){var r=n(88),i=n(90);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(91);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+Vn(e));var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=c.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(S||w&&!g[w])){for(var x,C,E=-1,R=0;R<f.length;R++)-1!==(A=b.indexOf(f[R]))&&(-1===E||A<E)&&(E=A);for(-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(x=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(x)),E=-1,R=0;R<h.length;R++){var A;-1!==(A=b.indexOf(h[R]))&&(-1===E||A<E)&&(E=A)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var I=this.hostname.split(/\./),O=(R=0,I.length);R<O;R++){var D=I[R];if(D&&!D.match(d)){for(var M="",P=0,L=D.length;P<L;P++)D.charCodeAt(P)>127?M+="x":M+=D[P];if(!M.match(d)){var F=I.slice(0,R),N=I.slice(R+1),z=D.match(p);z&&(F.push(z[1]),N.unshift(z[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=F.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"";this.host=(this.hostname||"")+j,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[k])for(R=0,O=u.length;R<O;R++){var B=u[R];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var H=b.indexOf("?");return-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(j=this.pathname||"")+(this.search||"")),this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===w[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=w.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=w.slice(-1)[0],x=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,E=w.length;E>=0;E--)"."===(S=w[E])?w.splice(E,1):".."===S?(w.splice(E,1),C++):C&&(w.splice(E,1),C--);if(!b&&!_)for(;C--;C)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),x&&"/"!==w.join("/").substr(-1)&&w.push("");var R,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return k&&(n.hostname=n.host=A?"":w.length?w.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),(b=b||n.host&&w.length)&&!A&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;!function(a){Vn(r);var o,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function v(e){throw new RangeError(f[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(h,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return m(e,function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)}).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=c)e=d(e/35);return d(r+36*e/(e+38))}function k(e){var t,n,r,i,a,o,l,u,h,f,p,m=[],g=e.length,y=0,_=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=y,o=1,l=c;i>=g&&v("invalid-input"),((u=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||u>d((s-y)/o))&&v("overflow"),y+=u*o,!(u<(h=l<=k?1:l>=k+26?26:l-k));l+=c)o>d(s/(f=c-h))&&v("overflow"),o*=f;k=w(y-a,t=m.length+1,0==a),d(y/t)>s-_&&v("overflow"),_+=d(y/t),y%=t,m.splice(y++,0,_)}return b(m)}function S(e){var t,n,r,i,a,o,l,u,h,f,m,g,b,k,S,x=[];for(g=(e=y(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(m=e[o])<128&&x.push(p(m));for(r=i=x.length,i&&x.push("-");r<g;){for(l=s,o=0;o<g;++o)(m=e[o])>=t&&m<l&&(l=m);for(l-t>d((s-n)/(b=r+1))&&v("overflow"),n+=(l-t)*b,t=l,o=0;o<g;++o)if((m=e[o])<t&&++n>s&&v("overflow"),m==t){for(u=n,h=c;!(u<(f=h<=a?1:h>=a+26?26:h-a));h+=c)x.push(p(_(f+(S=u-f)%(k=c-f),0))),u=d(S/k);x.push(p(_(u,0))),a=w(n,b,r==i),n=0,++r}++n,++t}return x.join("")}o={version:"1.4.1",ucs2:{decode:y,encode:b},decode:k,encode:S,toASCII:function(e){return g(e,function(e){return u.test(e)?"xn--"+S(e):e})},toUnicode:function(e){return g(e,function(e){return l.test(e)?k(e.slice(4).toLowerCase()):e})}},void 0===(i=(function(){return o}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n(89)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==Vn(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(92),t.encode=t.stringify=n(93)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t=t||"&");var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,f,d,p,v=e[u].replace(s,"%20"),m=v.indexOf(n);m>=0?(h=v.substr(0,m),f=v.substr(m+1)):(h=v,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(o,d)?i(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(Vn(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==Vn(e)?a(o(e),function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var r=n(95),i=n(96);e.exports=function(){function e(t){var n=this;$n(this,e),this.position=0,this.url=t,this.cache=new i({fetch:function(e,t){return n._fetch(e,t)}})}var n,a,o;return Gn(e,[{key:"_fetch",value:(o=Hn(regeneratorRuntime.mark(function e(n,i){var a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},i<1/0?a.range="bytes=".concat(n,"-").concat(n+i):i===1/0&&0!==n&&(a.range="bytes=".concat(n,"-")),e.next=4,r(this.url,{method:"GET",headers:a,redirect:"follow",mode:"cors"});case 4:if((200!==(o=e.sent).status||0!==n)&&206!==o.status){e.next=13;break}return e.t0=t,e.next=9,o.arrayBuffer();case 9:return e.t1=e.sent,s=e.t0.from.call(e.t0,e.t1),c=/\/(\d+)$/.exec(o.headers.get("content-range")),e.abrupt("return",(this._stat=c&&c[1]?{size:parseInt(c[1],10)}:{size:void 0},s));case 13:throw new Error("HTTP ".concat(o.status," fetching ").concat(this.url));case 14:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null===r&&(this.position+=n),this.cache.get(e,t,n,r)}},{key:"readFile",value:(a=Hn(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"stat",value:(n=Hn(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),e}()}).call(this,n(1).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function v(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),h(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),h(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),h(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];w.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise(function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL"),r(new w("response"in s?s.response:s.responseText,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=b,e.Response=w),t.Headers=f,t.Request=b,t.Response=w,t.fetch=S}({})}(n),delete n.fetch.polyfill,e.exports=t=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,t.default=n.fetch},function(e,t,n){var r=n(30);e.exports=function(){function e(t){var n=t.fetch,i=t.size,a=void 0===i?1e7:i,o=t.chunkSize,s=void 0===o?32768:o;if($n(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=s,this.lruCache=new r({maxSize:Math.floor(a/s)})}var t;return Gn(e,[{key:"get",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),o=Math.floor((i+r)/this.chunkSize),s=new Array(o-a+1),c=function(e){s[e-a]=f._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},l=a;l<=o;l+=1)c(l);return e.next=7,Promise.all(s);case 7:h=i-(u=e.sent)[0].chunkNumber*this.chunkSize,u.forEach(function(e){var s=e.chunkNumber,c=0,l=f.chunkSize,u=n+(s-a)*f.chunkSize-h;s===a&&(u=n,c=h),s===o&&(l=i+r-s*f.chunkSize),e.data.copy(t,u,c,l)});case 10:case"end":return e.stop()}},e,this)})),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}()},function(e,t,n){n(34),e.exports=function(){function e(t){$n(this,e),this.position=0,this.filename=t,this.fd=null(this.filename,"r")}var t,n,r;return Gn(e,[{key:"read",value:(r=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2?a[2]:void 0,null===(i=a.length>3?a[3]:void 0)&&(this.position+=r),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r,e.t5=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._stat,e.t0){e.next=9;break}return e.t1=null,e.next=5,this.fd;case 5:return e.t2=e.sent,e.next=8,(0,e.t1)(e.t2);case 8:this._stat=e.sent;case 9:return e.abrupt("return",this._stat);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}()},function(e,t){e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return t.forEach(function(e){var t=function(e){return nr(e)||rr(e)||ir()}(e.split(/\t/)),r=t[0],i=t.slice(1).map(function(e){var t=er(e.split(":",2),2);return{tag:t[0],value:t[1]}});r&&n.push({tag:r.substr(1),data:i})}),n}}},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,a=r.CramSizeLimitError,o=n(18);e.exports=function(){function e(t){if($n(this,e),this.cram=t.cram?t.cram:new o({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof o))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return Gn(e,[{key:"getRecordsForRange",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r){var o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C,E,R,A,T,I,O,D=this,M=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=M.length>3&&void 0!==M[3]?M[3]:{}).viewAsPairs=s.viewAsPairs||!1,s.pairAcrossChr=s.pairAcrossChr||!1,s.maxInsertSize=s.maxInsertSize||2e5,"string"!=typeof t){e.next=3;break}throw new i("string sequence names not yet supported");case 3:return c=t,e.next=6,this.index.getEntriesForRange(c,n,r);case 6:if(!((u=(l=e.sent).map(function(e){return e.sliceBytes}).reduce(function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=10;break}throw new a("data size of ".concat(u.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 10:return h=function(e){return e.sequenceId===t&&e.alignmentStart<=r&&e.alignmentStart+e.lengthOnRef>=n},e.next=13,Promise.all(l.map(function(e){return D.getRecordsInSlice(e,h)}));case 13:if(f=e.sent,d=(o=Array.prototype).concat.apply(o,tr(f)),!s.viewAsPairs){e.next=36;break}for(p={},v={},m=0;m<d.length;m+=1)y=d[m].uniqueId,p[g=d[m].readName]||(p[g]=0),p[g]+=1,v[y]=1;for(b={},Object.entries(p).forEach(function(e){var t=er(e,2);1===t[1]&&(b[t[0]]=!0)}),_=[],w=0;w<d.length;w+=1)b[d[w].readName]&&d[w].mate&&(d[w].mate.sequenceId===c||s.pairAcrossChr)&&Math.abs(d[w].alignmentStart-d[w].mate.alignmentStart)<s.maxInsertSize&&(k=this.index.getEntriesForRange(d[w].mate.sequenceId,d[w].mate.alignmentStart,d[w].mate.alignmentStart+1),_.push(k));return e.next=24,Promise.all(_);case 24:for(S=e.sent,x=[],C=0;C<S.length;C+=1)(E=x).push.apply(E,tr(S[C]));if(x=x.sort(function(e,t){return e.toString().localeCompare(t.toString())}).filter(function(e,t,n){return!t||e.toString()!==n[t-1].toString()}),R=[],A=[],!((T=x.map(function(e){return e.sliceBytes}).reduce(function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=31;break}throw new Error("mate data size of ".concat(T.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 31:return x.forEach(function(e){var t=D.cram.featureCache.get(e.toString());t||(t=D.getRecordsInSlice(e,function(){return!0}),D.cram.featureCache.set(e.toString(),t)),R.push(t);var n=t.then(function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];b[r.readName]&&!v[r.uniqueId]&&t.push(r)}return t});A.push(n)}),e.next=34,Promise.all(A);case 34:(I=e.sent).length&&(O=I.reduce(function(e,t){return e.concat(t)}),d=d.concat(O));case 36:return e.abrupt("return",d);case 37:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.sliceStart,r=e.sliceBytes;return this.cram.getContainerAtPosition(e.containerStart).getSlice(n,r).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}()},function(e,t,n){var r=(0,n(34).promisify)(n(20).gunzip),i=n(33).open,a=n(0).CramMalformedError,o=function(){function e(t){$n(this,e),Object.assign(this,t)}return Gn(e,[{key:"toString",value:function(){return"".concat(this.start,":").concat(this.span,":").concat(this.containerStart,":").concat(this.sliceStart,":").concat(this.sliceBytes)}}]),e}();function s(e,t){if(t.some(function(e){return void 0===e}))throw new a("invalid .crai index file");var n=er(t,6),r=n[0],i=n[1],s=n[2],c=n[3],l=n[4],u=n[5];e[r]||(e[r]=[]),e[r].push(new o({start:i,span:s,containerStart:c,sliceStart:l,sliceBytes:u}))}e.exports=function(){function e(t){$n(this,e);var n=i(t.url,t.path,t.filehandle);this.readFile=n.readFile.bind(n),this.index=this.parseIndex()}var t,n;return Gn(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then(function(e){return 31===e[0]&&139===e[1]?r(e):e}).then(function(t){for(var n=[],r="",i=0;i<t.length;i+=1){var o=t[i];if(o>=48&&o<=57||!r&&45===o)r+=String.fromCharCode(o);else if(9===o)n.push(Number.parseInt(r,10)),r="";else if(10===o)n.push(Number.parseInt(r,10)),r="",s(e,n),n=[];else if(13!==o&&32!==o)throw new a("invalid .crai index file")}return r&&n.push(Number.parseInt(r,10)),6===n.length&&s(e,n),Object.entries(e).forEach(function(t){var n=er(t,2);e[n[0]]=n[1].sort(function(e,t){return e.start-t.start||e.span-t.span})}),e})}},{key:"getIndex",value:function(){return this.index}},{key:"hasDataForReferenceSequence",value:(n=Hn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:if(e.t0=t,i=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:o=function(e){return e.start>=r?-1:e.start+e.span<=n?1:0},c=0,l=(a=i.length)-1;case 8:if(!(c<=l)){e.next=19;break}if(!((u=o(i[s=Math.round((l+c)/2)]))>0)){e.next=14;break}c=s+1,e.next=17;break;case 14:if(u<0){e.next=16;break}return e.abrupt("break",19);case 16:l=s-1;case 17:e.next=8;break;case 19:for(h=s;h&&!o(i[h-1]);)h-=1;for(f=s;f<a-1&&!o(i[f+1]);)f+=1;return d=i[h].start,e.abrupt("return",i[f].start+i[f].span>=n&&r>=d?i.slice(h,f+1):[]);case 25:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),e}()}]),iw=function(e,t,n){this.config=e,this.browser=n,this.genome=t,this.cramFile=new rw.CramFile({filehandle:new ow(e.url,e),seqFetch:e.seqFetch||aw.bind(this),checkSequenceMD5:void 0===e.checkSequenceMD5||e.checkSequenceMD5});var r=new ow(e.indexURL,e);this.indexedCramFile=new rw.IndexedCramFile({cram:this.cramFile,index:new rw.CraiIndex({filehandle:r}),fetchSizeLimit:3e7}),C_.setReaderDefaults(this,e)};function aw(e,t,n){var r=this.genome.sequence,i=this.genome;return this.getHeader().then(function(a){var o=i.getChromosomeName(a.chrNames[e]);return r.getSequence(o,t-1,n)})}iw.prototype.getHeader=function(){if(this.header)return Promise.resolve(this.header);var e=this,t=this.genome;return this.cramFile.getSamHeader().then(function(n){var r={},i=[],a={},o=[],s=!0,c=!1,l=void 0;try{for(var u,h=n[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value;if("SQ"===f.tag){var d=!0,p=!1,v=void 0;try{for(var m,g=f.data[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;if("SN"===y.tag){var b=y.value;r[b]=i.length,i.push(b),t&&(a[t.getChromosomeName(b)]=b);break}}}catch(Bk){p=!0,v=Bk}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}}else"RG"===f.tag&&o.push(f.data)}}catch(Bk){c=!0,l=Bk}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return e.header={chrNames:i,chrToIndex:r,chrAliasTable:a,readGroups:o},e.header})},iw.prototype.readAlignments=function(e,t,n){var r=this,i=this.browser;return this.getHeader().then(function(a){var o=a.chrAliasTable.hasOwnProperty(e)?a.chrAliasTable[e]:e,s=a.chrToIndex[o],c=new c_(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold);return void 0===s?Promise.resolve(c):r.indexedCramFile.getRecordsForRange(s,t,n).then(function(e){var r=!0,i=!1,o=void 0;try{for(var u,h=e[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var f=u.value,d=f.sequenceId,p=f.alignmentStart;if(!(d<0)){if(d>s||p>n)return;if(!(d<s||p+f.lengthOnRef<t)){var v=l(f,a.chrNames);c.push(v)}}}}catch(Bk){i=!0,o=Bk}finally{try{r||null==h.return||h.return()}finally{if(i)throw o}}return c.finish(),c}).catch(function(e){var t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),i.presentAlert(t),e});function l(e,t){var n=new v_;return n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId&&(n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags)}),n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,function(e,t){var n,r,i=[],a=0,o="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures){var s=!0,c=!1,l=void 0;try{for(var u,h=e.readFeatures[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value,d=f.code,p=f.data,v=f.pos-1,m=f.refPos-1;switch(d){case"S":case"I":case"i":case"N":case"D":if(v>a){var g=v-a;i.push(new __({start:m-g,seqOffset:a,len:g,type:"M"})),a+=g,o+=g+"M"}if("S"===d){var y=m;t.scLengthOnRef+=p.length,0===v&&(t.scStart-=p.length,y-=p.length);var b=p.length;i.push(new __({start:y,seqOffset:a,len:b,type:"S"})),a+=b,o+=b+d}else if("I"===d||"i"===d){void 0===n&&(n=[]);var _="i"===d?1:p.length;n.push(new __({start:m-1,len:_,seqOffset:a,type:"I"})),a+=_,o+=_+d}else"D"!==d&&"N"!==d||(r||(r=[]),r.push({start:m,len:p,type:d}),o+=p+d);break;case"H":case"P":o+=p+d}}}catch(Bk){c=!0,l=Bk}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}}var w=e.readLength-a;w>0&&(i.push(new __({start:e.alignmentStart+e.lengthOnRef-w-1,seqOffset:a,len:w,type:"M"})),o+=w+"M"),t.blocks=i,t.insertions=n,t.gaps=r,t.cigar=o}(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),C_.setPairOrientation(n),n}})};var ow=function(){function e(t,n){var r=this;$n(this,e),this.position=0,this.url=t,this.config=n,this.cache=new sw({fetch:function(e,t){return r._fetch(e,t)}})}var t,n,r,i;return Gn(e,[{key:"_fetch",value:(i=Hn(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={start:t,size:n},this._stat={size:void 0},e.next=4,om.loadArrayBuffer(this.url,Sv(this.config,{range:r}));case 4:return e.abrupt("return",Buffer.from(e.sent));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"read",value:(r=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2&&void 0!==a[2]?a[2]:1/0,null===(i=a.length>3&&void 0!==a[3]?a[3]:0)&&(this.position+=r),e.abrupt("return",this.cache.get(t,n,r,i));case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,om.loadArrayBuffer(this.url,Sv(this.config));case 2:return e.abrupt("return",Buffer.from(e.sent));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=Buffer.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),sw=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,a=t.chunkSize,o=void 0===a?32768:a;$n(this,e),this.fetch=n,this.chunkSize=o,this.lruCache=new cw({maxSize:Math.floor(i/o)})}var t;return Gn(e,[{key:"get",value:(t=Hn(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,c,l,u,h,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),o=Math.floor((i+r)/this.chunkSize),s=new Array(o-a+1),c=function(e){s[e-a]=f._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},l=a;l<=o;l+=1)c(l);return e.next=9,Promise.all(s);case 9:h=i-(u=e.sent)[0].chunkNumber*this.chunkSize,u.forEach(function(e){var s=e.chunkNumber,c=0,l=f.chunkSize,u=n+(s-a)*f.chunkSize-h;s===a&&(u=n,c=h),s===o&&(l=i+r-s*f.chunkSize),e.data.copy(t,u,c,l)});case 12:case"end":return e.stop()}},e,this)})),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),cw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if($n(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=er(a.value,1),s=o[0],e.next=9,s;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=er(a.value,2),s=o[1],e.next=9,s;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this.cache[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=a.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:s=!0,c=!1,l=void 0,e.prev=29,u=this.oldCache[Symbol.iterator]();case 31:if(s=(h=u.next()).done){e.next=40;break}if(d=er(f=h.value,1),this.cache.has(d[0])){e.next=37;break}return e.next=37,f;case 37:s=!0,e.next=31;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(29),c=!0,l=e.t1;case 46:e.prev=46,e.prev=47,s||null==u.return||u.return();case 49:if(e.prev=49,!c){e.next=52;break}throw l;case 52:return e.finish(49);case 53:return e.finish(46);case 54:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[29,42,46,54],[47,,49,53]])})},{key:"size",get:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)this.cache.has(i.value)||e++}catch(Bk){n=!0,r=Bk}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this._size+e}}]),e}(),lw={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},uw=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new w_(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,this.pairsSupported=!!e.viewAsPairs||void 0===e.pairsSupported||e.pairsSupported};uw.prototype.readAlignments=function(e,t,n){var r=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then(function(e){if(i.chrAliasTable={},r&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?tb({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then(function(e){return e.forEach(function(e){var t=e.name,n=r.getChromosomeName(t);i.chrAliasTable[n]=t}),i.chrAliasTable}):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable})).then(function(r){var o=r.hasOwnProperty(e)?r[e]:e;return tb({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:o,start:t,end:n,pageSize:"10000"},decode:a,results:new c_(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})});function a(e){var t,n,a,o,s,c=e.alignments,l=c.length,u=[];for(t=0;t<l;t++){var h=c[t];(n=new v_).readName=h.fragmentName,n.properPlacement=h.properPlacement,n.duplicateFragment=h.duplicateFragment,n.numberReads=h.numberReads,n.fragmentLength=h.fragmentLength,n.readNumber=h.readNumber,n.failedVendorQualityChecks=h.failedVendorQualityChecks,n.secondaryAlignment=h.secondaryAlignment,n.supplementaryAlignment=h.supplementaryAlignment,n.seq=h.alignedSequence,n.qual=h.alignedQuality,n.matePos=h.nextMatePosition,n.tagDict=h.info,n.flags=0,h.alignment?(n.mapped=!0,n.chr=h.alignment.position.referenceName,r&&(n.chr=r.getChromosomeName(n.chr)),n.start=parseInt(h.alignment.position.position),n.strand=!h.alignment.position.reverseStrand,n.mq=h.alignment.mappingQuality,n.cigar=f(h.alignment.cigar),a=d(h.alignment.cigar),n.lengthOnRef=a.lengthOnRef,s=p(n,a.array),n.blocks=s.blocks,n.insertions=s.insertions):n.mapped=!1,(o=h.nextMatePosition)&&(n.mate={chr:o.referenceFrame,position:parseInt(o.position),strand:!o.reverseStrand}),i.filter.pass(n)&&u.push(n)}return u;function f(e){var t="";return e.forEach(function(e){t+=e.operationLength+lw[e.operation]}),t}function d(e){var t,n,r,i,a=0,o=[];for(i=0;i<e.length;i++)r=lw[(t=e[i]).operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(a+=n),o.push({len:n,ltr:r});return{lengthOnRef:a,array:o}}function p(e,t){for(var n,r,i,a=[],o=0,s=e.start,c=t.length,l=0;l<c;l++){var u=t[l];switch(u.ltr){case"H":case"P":break;case"S":o+=u.len,i="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:s,len:u.len,type:u.ltr}),s+=u.len;break;case"I":void 0===r&&(r=[]),r.push(new __({start:s,len:u.len,seqOffset:o})),o+=u.len;break;case"M":case"EQ":case"=":case"X":a.push(new __({start:s,len:u.len,seqOffset:o,gapType:i})),o+=u.len,s+=u.len}}return{blocks:a,insertions:r,gaps:n}}}},uw.prototype.readMetadata=function(){return eb({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var hw=function(){this.alignments=[],this.score=void 0};hw.prototype.findAlignment=function(e){var t,n,r;for(r=0;r<this.alignments.length;r++)if(i(n=this.alignments[r],e)){n.paired?n.firstAlignment&&i(n.firstAlignment,e)?t=n.firstAlignment:n.secondAlignment&&i(n.secondAlignment,e)&&(t=n.secondAlignment):t=n;break}return t;function i(e,t){return t>=e.start&&t<e.start+e.lengthOnRef}},hw.prototype.updateScore=function(e,t){this.score=this.calculateScore(e,t)},hw.prototype.calculateScore=function(e,t){var n,r=Math.floor(e.position),i=e.sortOption,a=e.direction,o=this.findAlignment(r);if(void 0===o)return a?Number.MAX_VALUE:-Number.MAX_VALUE;switch(i){case"NUCLEOTIDE":var s=o.readBaseAt(r),c=o.readBaseQualityAt(r);return s?function(e,t,n,r){var i,a,o;if((i=Math.floor(r)-n.start)<n.sequence.length&&(a=n.sequence.charAt(i)),a)return void 0===e?Number.MAX_VALUE:"N"===e?2:a===e||"="===e?4-t/1e3:"X"===e||a!==e?(i=Math.floor(r)-n.coverageMap.bpStart)>0&&i<n.coverageMap.coverage.length?-((o=n.coverageMap.coverage[i])["pos"+e]+o["neg"+e]+t/1e3):-(1+t/1e3):0}(s,c,t,r):a?Number.MAX_VALUE:-Number.MAX_VALUE;case"STRAND":return o.strand?1:-1;case"START":return o.start;case"TAG":var l=e.tag,u=o.tags()[l];return void 0!==u?tv(u)?av(u):u:Number.MAX_VALUE;case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"MATE_CHR":return(n=o.mate)?n.chr===o.chr?Number.MAX_VALUE-1:av(n.chr):Number.MAX_VALUE;case"MQ":return void 0===o.mq?Number.MAX_VALUE:-o.mq;default:return Number.MAX_VALUE}};var fw=function(e,t){var n=t.genome;if(this.config=e,this.genome=n,this.alignmentContainer=void 0,tv(e.url)&&e.url.startsWith("data:")){if("cram"===e.format)throw"CRAM data uris are not supported";this.config.indexed=!1}this.bamReader="ga4gh"===e.sourceType?new uw(e,n):"pysam"===e.sourceType?new B_(e,n):"htsget"===e.sourceType?new U_(e,n):"shardedBam"===e.sourceType?new j_(e,n):"cram"===e.format?new iw(e,n,t):!1===this.config.indexed?new I_(e,n):new D_(e,n),this.viewAsPairs=e.viewAsPairs,this.showSoftClips=e.showSoftClips};function dw(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=!0,l=!1,u=void 0;try{for(var h,f=s.alignments[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value;d instanceof o_?(d.firstAlignment&&t.push(d.firstAlignment),d.secondAlignment&&t.push(d.secondAlignment)):t.push(d)}}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function pw(e){return e.isPaired()&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function vw(e,t,n,r){if(e){if(0===e.length)return[];e.sort(function(e,t){return r?e.scStart-t.scStart:e.start-t.start});var i=e[0],a=Math.max(t,r?i.scStart:i.start),o=a,s=[],c=!0,l=!1,u=void 0;try{for(var h,f=e[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value,p=Math.max(0,(r?d.scStart:d.start)-a);void 0===s[p]&&(s[p]=[]),s[p].push(d)}}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}var v=0,m=0,g=[];try{for(;v<e.length;){for(var y=new hw;o<=n;){for(var b=void 0,_=void 0;!b&&o<=n;)void 0===s[_=o-a]?++o:b=s[_];if(!b)break;var w=b.pop();0===b.length&&(s[_]=void 0),y.alignments.push(w),o=r?w.scStart+w.scLengthOnRef+2:w.start+w.lengthOnRef+2,++v}if(y.alignments.length>0&&g.push(y),o=a,v===m)break;m=v}}catch(k){throw console.error(k),k}return g}}fw.prototype.setViewAsPairs=function(e){if(this.viewAsPairs!==e&&(this.viewAsPairs=e,this.alignmentContainer)){var t,n=this.alignmentContainer;t=e?function(e){var t={},n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=!0,u=!1,h=void 0;try{for(var f,d=c.alignments[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value;if(pw(p)){var v=t[p.readName];v?(v.setSecondAlignment(p),t[p.readName]=void 0):(v=new o_(p),t[p.readName]=v,n.push(v))}else n.push(p)}}catch(Bk){u=!0,h=Bk}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(n.packedAlignmentRows):dw(n.packedAlignmentRows),n.packedAlignmentRows=vw(t,n.start,n.end)}},fw.prototype.setShowSoftClips=function(e){if(this.showSoftClips!==e&&(this.showSoftClips=e,this.alignmentContainer)){var t=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=!0,l=!1,u=void 0;try{for(var h,f=s.alignments[Symbol.iterator]();!(c=(h=f.next()).done);c=!0)t.push(h.value)}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}(this.alignmentContainer.packedAlignmentRows),n=this.alignmentContainer;n.packedAlignmentRows=vw(t,n.start,n.end,e)}},fw.prototype.getAlignments=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=this.genome,a=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(t,n,r)){e.next=7;break}return e.abrupt("return",this.alignmentContainer);case 7:return e.next=9,this.bamReader.readAlignments(t,n,r);case 9:if(s=(o=e.sent).alignments,this.viewAsPairs||(s=dw([{alignments:s}])),c=s.length>0,o.packedAlignmentRows=vw(s,o.start,o.end,a),o.alignments=void 0,this.alignmentContainer=o,c){e.next=20;break}return e.abrupt("return",o);case 20:return e.next=22,i.sequence.getSequence(t,o.start,o.end);case 22:if(!(l=e.sent)){e.next=29;break}return o.coverageMap.refSeq=l,o.sequence=l,e.abrupt("return",o);case 29:console.error("No sequence for: "+t+":"+o.start+"-"+o.end);case 30:e.next=36;break;case 32:throw e.prev=32,e.t0=e.catch(0),console.error(e.t0),e.t0;case 36:case"end":return e.stop()}},e,this,[[0,32]])}));return function(t,n,r){return e.apply(this,arguments)}}();var mw=wv(ey,function(e,t){if(this.type="alignment",void 0===e.height&&(e.height=300),ey.call(this,e,t),void 0===e.coverageTrackHeight&&(e.coverageTrackHeight=50),void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new fw(e,t),this.coverageTrack=new yw(e,this),this.alignmentTrack=new bw(e,this),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=void 0===e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.color=e.color||"rgb(185, 185, 185)",this.coverageColor=e.coverageColor||"rgb(150, 150, 150)",this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,this.sortObjects={},e.sort){if(Array.isArray(e.sort)){var n=!0,r=!1,i=void 0;try{for(var a,o=e.sort[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)s(this.sortObjects,a.value)}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}else s(this.sortObjects,e.sort);e.sort=void 0}function s(e,n){var r=function(e){var t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return r.end=n.length>1?Number.parseInt(n[1].replace(/,/g,"")):r.start+1,r}(n.locus);t&&t.genome&&(r.chr=t.genome.getChromosomeName(r.chr));var i=!0,a=!1,o=void 0;try{for(var s,c=t.genomicStateList[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.chromosome.name===r.chr&&r.start>=l.start&&r.start<=l.end){e[l.id]={chr:r.chr,position:r.start,sortOption:n.option||"NUCLEOTIDE",direction:void 0===n.direction||"ASC"===n.direction,tag:n.tag?n.tag.toUpperCase():void 0};break}}}catch(Bk){a=!0,o=Bk}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}});function gw(e,t){var n,r;if(n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),(n=Math.round(10*n)/10)>=1)r=If[t];else{var i=Tf[t];if(!i)return;r="rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"}return r}mw.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i,a){var o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,e.next=3,this.featureSource.getAlignments(t,n,r);case 3:return(s=e.sent).alignments&&s.alignments.length>99&&(void 0===o.minFragmentLength&&(o.minFragmentLength=s.pairedEndStats.lowerFragmentLength),void 0===o.maxFragmentLength&&(o.maxFragmentLength=s.pairedEndStats.upperFragmentLength)),(c=o.sortObjects[a.genomicState.id])&&(c.chr===t&&c.position>=n&&c.position<=r?(o.alignmentTrack.sortAlignmentRows(c,s),o.trackView.repaintViews()):delete o.sortObjects[a.genomicState.id]),e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),mw.filters={noop:function(){return function(e){return!1}},strand:function(e){return function(t){return t.strand===e}},mappingQuality:function(e,t){return function(n){return!!(e&&n.mq<e)||!!(t&&n.mq>t)}}},mw.prototype.computePixelHeight=function(e){return this.coverageTrack.computePixelHeight(e)+this.alignmentTrack.computePixelHeight(e)+15},mw.prototype.draw=function(e){Qm.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.coverageTrack.height>0&&this.coverageTrack.draw(e),this.alignmentTrack.draw(e)},mw.prototype.paintAxis=function(e,t,n){this.browser.isMultiLocusMode()?e.clearRect(0,0,t,n):this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)},mw.prototype.contextMenuItemList=function(e){return this.alignmentTrack.contextMenuItemList(e)},mw.prototype.popupData=function(e){return e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)},mw.prototype.menuItemList=function(){var e=this,t=[],n=Ys('<div class="igv-track-menu-category igv-track-menu-border-top">');n.text("Color by"),t.push({name:void 0,object:n,click:void 0,init:void 0});var r=[{key:"strand",label:"read strand"}];return e.alignmentTrack.hasPairs&&(r.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),r.push({key:"pairOrientation",label:"pair orientation"}),r.push({key:"fragmentLength",label:"insert size (TLEN)"})),r.push({key:"tag",label:"tag"+(e.alignmentTrack.colorByTag?" ("+e.alignmentTrack.colorByTag+")":"")}),r.forEach(function(n){var r;t.push({name:void 0,object:xf((r=n).label,e.alignmentTrack.colorBy===n.key),click:function(){r.key===e.alignmentTrack.colorBy?(e.alignmentTrack.colorBy="none",e.config.colorBy="none",e.trackView.repaintViews()):"tag"===r.key?(e.browser.inputDialog.configure({label:"Tag Name",input:e.alignmentTrack.colorByTag?e.alignmentTrack.colorByTag:"",click:function(){e.alignmentTrack.colorBy="tag",e.config.colorBy="tag";var t=e.browser.inputDialog.$input.val().trim();t!==e.alignmentTrack.colorByTag&&(e.alignmentTrack.colorByTag=t,e.config.colorByTag=t,e.alignmentTrack.tagColors=new Df("Set1"),Ys("#color-by-tag").text(e.alignmentTrack.colorByTag)),e.trackView.repaintViews()}}),e.browser.inputDialog.present(Ys(e.trackView.trackDiv))):(e.alignmentTrack.colorBy=r.key,e.config.colorBy=r.key,e.trackView.repaintViews())},init:void 0})}),t.push({object:Ys('<div class="igv-track-menu-border-top">')}),t.push({object:xf("Show all bases",e.showAllBases),click:function(){e.showAllBases=!e.showAllBases,e.config.showAllBases=e.showAllBases,e.trackView.updateViews(!0)}}),t.push({object:Ys('<div class="igv-track-menu-border-top">')}),e.pairsSupported&&e.alignmentTrack.hasPairs&&t.push({object:xf("View as pairs",e.viewAsPairs),click:function(){e.viewAsPairs=!e.viewAsPairs,e.config.viewAsPairs=e.viewAsPairs,e.featureSource.setViewAsPairs(e.viewAsPairs),e.trackView.updateViews(!0)}}),t.push({object:xf("Show soft clips",e.showSoftClips),click:function(){e.showSoftClips=!e.showSoftClips,e.config.showSoftClips=e.showSoftClips,e.featureSource.setShowSoftClips(e.showSoftClips),e.trackView.updateViews(!0)}}),t},mw.prototype.dispose=function(){this.trackView=void 0},mw.prototype.getState=function(){var e=Object.assign({},this.config);e.sort=void 0;var t=!0,n=!1,r=void 0;try{for(var i,a=this.browser.genomicStateList[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=this.sortObjects[i.value.id];o&&(e.sort=e.sort||[],e.sort.push({locus:o.chr+":"+(o.position+1),option:o.sortOption,direction:o.direction?"ASC":"DESC",tag:o.tag}))}}catch(Bk){n=!0,r=Bk}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e};var yw=function(e,t){this.parent=t,this.featureSource=t.featureSource,this.top=0,this.height=e.coverageTrackHeight,this.dataRange={min:0},this.paintAxis=Qb};yw.prototype.computePixelHeight=function(e){return this.height},yw.prototype.draw=function(e){var t=e.context;this.top&&t.translate(0,top);var n,r=e.features.coverageMap;this.dataRange.max=r.maximum,r.refSeq&&(n=r.refSeq.toUpperCase());var i=e.bpPerPixel,a=e.bpStart,o=a+e.pixelWidth*i+1,s=this.parent.coverageColor;"rgb(185, 185, 185)"!==this.parent.color&&(s=ov.darkenLighten(this.parent.color,-35)),Qm.setProperties(t,{fillStyle:s,strokeStyle:s});for(var c=Math.max(1,Math.ceil(1/i)),l=0,u=r.coverage.length;l<u;l++){var h=r.bpStart+l;if(!(h<a)){if(h>o)break;var f=r.coverage[l];if(f){var d=Math.round(f.total/this.dataRange.max*this.height),p=this.height-d,v=Math.floor((h-a)/i);Qm.fillRect(t,v,p,c,d)}}}if(n)for(var m=0,g=r.coverage.length;m<g;m++){var y=r.bpStart+m;if(!(y<a)){if(y>o)break;var b=r.coverage[m];if(b){var _=b.total/this.dataRange.max*this.height,w=this.height-_,k=Math.floor((y-a)/i),S=n[m];if(b.isMismatch(S)){Qm.setProperties(t,{fillStyle:If[S]}),Qm.fillRect(t,k,w,c,_);for(var x=0,C=0,E=["A","C","T","G"];C<E.length;C++){var R=E[C],A=(b["pos"+R]+b["neg"+R])/this.dataRange.max*this.height;w=this.height-A-x,x+=A,Qm.setProperties(t,{fillStyle:If[R]}),Qm.fillRect(t,k,w,c,A)}}}}}},yw.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),r=e.viewport.genomicState.referenceFrame,i=t.coverageMap,a=[],o=Math.floor(n-i.bpStart),s=i.coverage[o];if(s){a.push(r.chrName+":"+nv(1+n)),a.push({name:"Total Count",value:s.total});var c=s.posA+s.negA;c>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),a.push({name:"A",value:c}),(c=s.posC+s.negC)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),a.push({name:"C",value:c}),(c=s.posG+s.negG)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),a.push({name:"G",value:c}),(c=s.posT+s.negT)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),a.push({name:"T",value:c}),(c=s.posN+s.negN)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),a.push({name:"N",value:c}),a.push("<HR/>"),a.push({name:"DEL",value:s.del.toString()}),a.push({name:"INS",value:s.ins.toString()})}return a}};var bw=function(e,t){this.parent=t,this.browser=t.browser,this.featureSource=t.featureSource,this.top=0===e.coverageTrackHeight?0:e.coverageTrackHeight+5,this.alignmentRowHeight=e.alignmentRowHeight||14,this.negStrandColor=e.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=e.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=e.insertionColor||"rgb(138, 94, 161)",this.deletionColor=e.deletionColor||"black",this.skippedColor=e.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=e.pairConnectorColor,this.smallFragmentLengthColor=e.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=e.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=e.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=e.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=e.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=e.llColor||"rgb(0, 150, 150)",this.colorBy=e.colorBy||"pairOrientation",this.colorByTag=e.colorByTag?e.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===e.bamColorTag?"YC":e.bamColorTag,this.hideSmallIndels=e.hideSmallIndels,this.indelSizeThreshold=e.indelSizeThreshold||1,this.hasPairs=!1};bw.prototype.computePixelHeight=function(e){if(e.packedAlignmentRows){var t=0;return e.hasDownsampledIntervals()&&(t+=10),t+this.alignmentRowHeight*e.packedAlignmentRows.length+5}return this.height},bw.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,a=i+e.pixelWidth*r+1,o=t.packedAlignmentRows,s=this.parent.showSoftClips,c=this.parent.showAllBases,l=t.sequence;l&&(l=l.toUpperCase());var u=0;if(n.save(),this.top&&n.translate(0,this.top),t.hasDownsampledIntervals()?(u=10,t.downsampledIntervals.forEach(function(e){var t=(e.start-i)/r,a=(e.end-i)/r;a-t>5&&(t+=1,a-=1),Qm.fillRect(n,t,2,a-t,3,{fillStyle:"black"})})):u=0,this.alignmentsYOffset=u,o)for(var h=o.length,f=0;f<h;f++){var d=o[f],p=u+this.alignmentRowHeight*f,v=this.alignmentRowHeight<=4?this.alignmentRowHeight:this.alignmentRowHeight-2,m=!0,g=!1,y=void 0;try{for(var b,_=d.alignments[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var w=b.value;if(this.hasPairs=this.hasPairs||w.isPaired(),!(w.start+w.lengthOnRef<i)){if(w.start>a)break;!0!==w.hidden&&(w instanceof o_?(k.call(this,w,p,v),S.call(this,w.firstAlignment,p,v),w.secondAlignment&&S.call(this,w.secondAlignment,p,v)):S.call(this,w,p,v))}}}catch(Bk){g=!0,y=Bk}finally{try{m||null==_.return||_.return()}finally{if(g)throw y}}}function k(e,t,o){var s=this.getConnectorColor(e.firstAlignment),c=(e.connectingStart-i)/r,l=(e.connectingEnd-i)/r,u=t+o/2;e.connectingEnd<i||e.connectingStart>a||(e.mq<=0&&(s=ov.addAlpha(s,.15)),Qm.setProperties(n,{fillStyle:s,strokeStyle:s}),Qm.strokeLine(n,c,u,l,u))}function S(e,o,u){if(!(e.start+e.lengthOnRef<i||e.start>a)){var h=s?e.blocks:e.blocks.filter(function(e){return"S"!==e.type}),f=this.getAlignmentColor(e),d=f;e.mq<=0&&(f=ov.addAlpha(f,.15)),Qm.setProperties(n,{fillStyle:f,strokeStyle:d});for(var p=0;p<h.length;p++){var v=h[p];if(!(p!==h.length-1&&h[p+1].start<i)&&(O.call(this,v,p),v.start+v.len>a))break}if(e.insertions){var m=-1,g=!0,y=!1,b=void 0;try{for(var _,w=e.insertions[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var k=_.value;if(!(this.hideSmallIndels&&k.len<=this.indelSizeThreshold||k.start<i)){if(k.start>a)break;var S=(k.start-i)/r-1;S-m>2&&(Qm.fillRect(n,S,o-1,3,u+2,{fillStyle:this.insertionColor}),m=S)}}}catch(Bk){y=!0,b=Bk}finally{try{g||null==w.return||w.return()}finally{if(y)throw b}}}if(e.gaps){var x=o+u/2,C=!0,E=!1,R=void 0;try{for(var A,T=e.gaps[Symbol.iterator]();!(C=(A=T.next()).done);C=!0){var I=A.value;Qm.strokeLine(n,(I.start-i)/r,x,(I.start+I.len-i)/r,x,{strokeStyle:"D"===I.type?this.deletionColor:this.skippedColor})}}catch(Bk){E=!0,R=Bk}finally{try{C||null==T.return||T.return()}finally{if(E)throw R}}}}function O(a,s){var p=a.start-t.start,v=(a.start-i)/r,m=(a.start+a.len-i)/r,g=Math.max(1,m-v),y=this.alignmentRowHeight/2,b="S"===a.type,_=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||b,w=d;this.highlightedAlignmentReadNamed===e.readName?w="red":b&&(w="rgb(50,50,50)");var k,S,x=!0===e.strand&&s===h.length-1,C=!1===e.strand&&0===s;if(x|C?(x?(k=[v,m,m+y,m,v,v],S=[o,o,o+u/2,o+u,o+u,o]):C&&(k=[m,v,v-y,v,m,m],S=[o,o,o+u/2,o+u,o+u,o]),Qm.fillPolygon(n,k,S,{fillStyle:f}),_&&Qm.strokePolygon(n,k,S,{strokeStyle:w})):(Qm.fillRect(n,v,o,g,u,{fillStyle:f}),_&&(n.save(),n.strokeStyle=w,n.strokeRect(v,o,g,u),n.restore())),b||c||l&&e.seq&&"*"!==e.seq){for(var E=e.seq?e.seq.toUpperCase():void 0,R=e.qual,A=a.seqOffset,T=0,I=a.len;T<I;T++)if(!(p+T<0)){var O,M=E?E.charAt(A+T):"",P=l.charAt(p+T);if("="===M&&(M=P),("X"===M||P!==M||b||c)&&(O=!b&&void 0!==R&&R.length>A+T?gw(R[A+T],M):If[M])){var L=(a.start+T-i)/r,F=Math.max(1,1/r);D(n,r,{x:L,y:o,width:F,height:u},O,M)}}if(e.tags().NM){var N=e.tags().NM,z=2*y+(a.start+a.len-i)/r,j=Math.min(10,u);n.font=j+"px sans-serif";var B=ov.greyScale(68);1==N.indexOf("i")&&(function(e){throw new Error('"fillStyle" is read-only')}(),B="black"),Qm.fillText(n,N,z,j-1+o,{fillStyle:B})}}}function D(e,t,n,r,i){if(t<=.1&&n.height>=8){var a=Math.min(10,n.height);e.font=a+"px sans-serif",Qm.strokeText(e,i,n.x+n.width/2-e.measureText(i).width/2,a-1+n.y,{strokeStyle:r})}else Qm.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}n.restore()},bw.prototype.sortAlignmentRows=function(e,t){var n=e.direction;null===t&&(t=this.featureSource.alignmentContainer);var r=!0,i=!1,a=void 0;try{for(var o,s=t.packedAlignmentRows[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value.updateScore(e,t)}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}t.packedAlignmentRows.sort(function(e,t){var r=e.score>t.score?1:e.score<t.score?-1:0;return!0===n?r:-r})},bw.prototype.popupData=function(e){var t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0},bw.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport,r=e.viewport.genomicState,i=this.getClickedObject(e.viewport,e.y,e.genomicLocation),a=i&&!i.paired&&"function"==typeof i.isPaired,o=[];return o.push("<b>Sort by...</b>"),o.push({label:"&nbsp; base",click:function(){return s("NUCLEOTIDE")}}),o.push({label:"&nbsp; read strand",click:function(){return s("STRAND")}}),o.push({label:"&nbsp; insert size",click:function(){return s("INSERT_SIZE")}}),o.push({label:"&nbsp; chromosome of mate",click:function(){return s("MATE_CHR")}}),o.push({label:"&nbsp; mapping quality",click:function(){return s("MQ")}}),o.push({label:"&nbsp; tag",click:function(){var n={label:"Tag Name",input:t.sortByTag?t.sortByTag:"",click:function(){var n=t.browser.inputDialog.$input.val().trim();t.sortByTag=n,c({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:"TAG",tag:n})}};t.browser.inputDialog.configure(n),t.browser.inputDialog.present(Ys(t.parent.trackView.trackDiv))}}),o.push("<hr/>"),a&&i.isMateMapped()&&o.push({label:"View mate in split screen",click:function(){i.mate&&(t.highlightedAlignmentReadNamed=i.readName,t.browser.presentSplitScreenMultiLocusPanel(i,e.viewport.genomicState))},init:void 0}),o.push({label:"View read sequence",click:function(){if(i){var e=i.seq;t.browser.presentAlert(e&&"*"!==e?e:"Read sequence: *")}}}),o.push("<hr/>"),o;function s(t){c({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:t})}function c(r){if(e.viewport.tile){var i=t.parent.sortObjects,a=i[n.genomicState.id];r.direction=!a||!a.direction,t.sortAlignmentRows(r,e.viewport.getCachedFeatures()),t.parent.trackView.repaintViews(),i[n.genomicState.id]=r}}},bw.prototype.getClickedObject=function(e,t,n){var r=this.parent.showSoftClips,i=e.getCachedFeatures();if(i&&0!==i.length){var a=i.packedAlignmentRows,o=i.downsampledIntervals,s=Math.floor((t-this.top-this.alignmentsYOffset)/this.alignmentRowHeight);if(s<0){for(var c=0;c<o.length;c++)if(o[c].start<=n&&o[c].end>=n)return o[c]}else if(s<a.length){var l=a[s].alignments.filter(function(e){var t=r?e.scStart:e.start;return n>=t&&n<=t+(r?e.scLengthOnRef:e.lengthOnRef)});if(l.length>0)return l[0]}}},bw.prototype.getConnectorColor=function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}},bw.prototype.getAlignmentColor=function(e){var t,n=this.parent.color;switch(this.colorBy){case"strand":n=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof o_?n=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?n=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?n=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)n=ww(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var r=_w[this.pairOrientation];if(r){var i=this.pairColors[r[e.pairOrientation]];i&&(n=i)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?n=ww(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?n=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(n=this.largeFragmentLengthColor);break;case"tag":void 0!==(t=e.tags()[this.colorByTag])&&(this.bamColorTag===this.colorByTag?n="rgb("+t+")":(this.tagColors||(this.tagColors=new Df("Set1")),n=this.tagColors.getColor(t)));break;default:n=this.parent.color}return n};var _w={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function ww(e){if(kw[e])return kw[e];if(kw["chr"+e]){var t=kw["chr"+e];return kw[e]=t,t}var n=ov.randomRGB();return kw[e]=n,n}var kw={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},Sw=wv(ey,function(e,t){ey.call(this,e,t),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.thickness=e.thickness||2,this.color=e.color||"rgb(180,25,137)",this.visibilityWindow=-1,this.colorAlphaCache={}});function xw(e,t){var n=this.colorAlphaCache[e];return n||(n=ov.addAlpha(e,t),this.colorAlphaCache[e]=n),n}Sw.prototype.supportsWholeGenome=function(){return!0},Sw.prototype.getState=function(){var e=this.config||{};return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},Sw.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.browser.genome,this.featureCache){e.next=11;break}return a=Sv(this.config),e.next=5,om.loadString(this.config.url,a);case 5:o=e.sent,(s=new Ig("bedpe")).parseHeader(o),c=s.parseFeatures(o),this.wgFeatures=this.getWGFeatures(c),this.featureCache=new Oy(c,i);case 11:return e.abrupt("return","all"===t.toLowerCase()?this.wgFeatures:this.featureCache.queryFeatures(t,n,r));case 12:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),Sw.prototype.draw=function(e){var t=this,n=e.context,r=e.pixelWidth,i=e.pixelHeight,a=e.viewportWidth,o=e.bpStart,s=e.bpPerPixel;Qm.fillRect(n,0,e.pixelTop,r,i,{fillStyle:"rgb(255, 255, 255)"});var c=e.features;c&&(function(){var e=0;c.forEach(function(t){var n=(t.start-o)/s,i=(t.end-o)/s;i>=0&&n<=r&&(e=Math.max(e,i-n))});var n=Math.min(a,e)/2;e>0&&(t.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var i=0===t?0:n[t-1],a=0===t?0:r[t-1],o=t<r.length?r[t]:Math.PI/2;return a+(e-i)/((t<n.length?n[t]:1)-i)*(o-a)}(i/n),t.sinTheta=Math.sin(t.theta),t.cosTheta=Math.cos(t.theta))}(),c.forEach(function(e){var r=Math.round((e.m1-o)/s),i=Math.round((e.m2-o)/s)-r;i<3&&(i=3,r--);var c,l,u,h=i/2,f=h/t.sinTheta,d=t.cosTheta*f,p=r+h;t.arcOrientation?(c=t.height+d,l=Math.PI+Math.PI/2-t.theta,u=Math.PI+Math.PI/2+t.theta):(c=-d,l=Math.PI/2-t.theta,u=Math.PI/2+t.theta);var v=e.color||t.color;v&&i>a&&(v=xw.call(t,v,"0.1")),n.strokeStyle=v,n.lineWidth=e.thickness||t.thicknewss||1,n.beginPath(),n.arc(p,c,f,l,u,!1),n.stroke()}))},Sw.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}},{name:"Set track color",click:function(){e.trackView.presentColorPicker()}}]},Sw.prototype.getWGFeatures=function(e){var t=this.browser.genome,n=new Set(t.wgChromosomeNames),r=[],i=t.getGenomeLength()/1e3,a=!0,o=!1,s=void 0;try{for(var c=t.wgChromosomeNames[Symbol.iterator]();!(a=c.next().done);a=!0){var l=!0,u=!1,h=void 0;try{for(var f,d=e[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value,v=t.getChromosomeName(p.chr);if(n.has(v)){var m=t.getGenomeCoordinate(p.chr1,p.m1),g=t.getGenomeCoordinate(p.chr2,p.m2);if(Math.abs(g-m)<i)continue;var y=Object.create(Object.getPrototypeOf(p));Object.assign(y,p),y.chr="all",y.m1=m,y.m2=g,r.push(y)}}}catch(Bk){u=!0,h=Bk}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}}}catch(Bk){o=!0,s=Bk}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r.sort(function(e,t){return e.m1-t.m2}),r};var Cw=wv(ey,function(e,t){this.type="variant",this.visibilityWindow=e.visibilityWindow,ey.call(this,e,t),this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.variantHeight=e.variantHeight||10,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=new sb(e,t.genome),this.noCallColor=e.noCallColor||"rgb(245, 245, 245)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.nRows=1});function Ew(e,t,n,r){var i="",a=t.alternateBases.split(","),o=!0,s=!1,c=void 0;try{for(var l,u=e.genotype[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;if("."===h){i+="No Call";break}i+=0===h?t.referenceBases:a[h-1].replace("<","&lt;")}}catch(Bk){s=!0,c=Bk}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}var f=[];if(void 0!==e.callSetName&&f.push({name:"Name",value:e.callSetName}),f.push({name:"Genotype",value:i}),void 0!==e.phaseset&&f.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&f.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),r){var d=r.getAttributes(e.callSetName);d&&Object.keys(d).forEach(function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),f.push({name:t,value:d[e]})})}var p=Object.keys(e.info);p.length&&f.push("<hr>"),p.forEach(function(t){f.push({name:t,value:e.info[t]})});var v=[];return v.length>0&&(f.push("<HR/>"),f=f.concat(v)),f}Cw.prototype.postInit=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:return void 0===this.visibilityWindow&&(t=this.config.url instanceof File?this.config.url.name:this.config.url,this.visibilityWindow=tv(t)&&t.toLowerCase().includes("gnomad")?1e3:this.callSets?Math.max(1e3,1e6-1e4*this.callSets.length):1e6),e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)})),Cw.prototype.getFileHeader=Hn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=4;break}return e.abrupt("return",this.header);case 4:if("function"!=typeof this.featureSource.getFileHeader){e.next=13;break}return e.next=7,this.featureSource.getFileHeader();case 7:return(t=e.sent)&&(t.name&&!this.config.name&&(this.name=t.name),t.color&&!this.config.color&&(this.color="rgb("+t.color+")"),this.callSets=t.callSets||[]),this.header=t,e.abrupt("return",t);case 13:return this.callSets=[],e.abrupt("return",void 0);case 15:case"end":return e.stop()}},e,this)})),Cw.prototype.getCallsetsLength=function(){return this.callSets.length},Cw.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.header){e.next=4;break}return e.next=3,this.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),Cw.prototype.computePixelHeight=function(e){if("COLLAPSED"===this.displayMode)return this.nRows=1,10+this.variantHeight;var t=0;if(e){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.row&&s.row>t&&(t=s.row)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var c="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;this.nRows=t+1;var l=10+this.nRows*(this.variantHeight+c);this.variantBandHeight=l;var u="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight;return l+c+(this.getCallsetsLength()*this.nRows+1)*(u+c)},Cw.prototype.draw=function(e){var t=e.context,n=this.callSets,r=this.getCallsetsLength(),i=e.pixelWidth,a="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight,o=e.bpPerPixel,s=e.bpStart,c=s+i*o+1;Qm.fillRect(t,0,e.pixelTop,i,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var l="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;n&&r>0&&"COLLAPSED"!==this.displayMode&&Qm.strokeLine(t,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "});var u=e.features;if(u){var h=!0,f=!1,d=void 0;try{for(var p,v=u[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var m=p.value;if(!(m.end<s)){if(m.start>c)break;var g=10+("COLLAPSED"===this.displayMode?0:m.row*(this.variantHeight+l)),y=this.variantHeight,b=Math.round((m.start-s)/o),_=Math.round((m.end-s)/o),w=Math.max(1,_-b);if(w<3?(w=3,b-=1):w>5&&(b+=1,w-=2),t.fillStyle="NONVARIANT"===m.type?this.nonRefColor:"MIXED"===m.type?this.mixedColor:this.color,t.fillRect(b,g,w,y),r>0&&m.calls&&"COLLAPSED"!==this.displayMode){var k=0,S=!0,x=!1,C=void 0;try{for(var E,R=n[Symbol.iterator]();!(S=(E=R.next()).done);S=!0){var A=m.calls[E.value.id];if(A){var T=this.variantBandHeight+l+(k+m.row)*(a+l),I=!0,O=!0,D=!1,M=!0,P=!1,L=void 0;try{for(var F,N=A.genotype[Symbol.iterator]();!(M=(F=N.next()).done);M=!0){var z=F.value;if("."===z){D=!0;break}0!==z&&(O=!1),0===z&&(I=!1)}}catch(Bk){P=!0,L=Bk}finally{try{M||null==N.return||N.return()}finally{if(P)throw L}}t.fillStyle=D?this.noCallColor:O?this.homrefColor:I?this.homvarColor:this.hetvarColor,t.fillRect(b,T,w,a)}k++}}catch(Bk){x=!0,C=Bk}finally{try{S||null==R.return||R.return()}finally{if(x)throw C}}}}}}catch(Bk){f=!0,d=Bk}finally{try{h||null==v.return||v.return()}finally{if(f)throw d}}}},Cw.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=e.genomicLocation,r=this.browser.genome.id,i=[],a=this.browser.sampleInformation,o=!0,s=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;if(i.length>0&&i.push("<HR>"),"COLLAPSED"===this.displayMode)Array.prototype.push.apply(i,h.popupData(n,this.type));else{var f=e.y,d="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;if(f<=this.variantBandHeight){var p=Math.floor((f-10)/(this.variantHeight+d));h.row===p&&Array.prototype.push.apply(i,h.popupData(n,r),this.type)}else{var v=this.callSets;if(v&&h.calls){var m=Math.floor((f-this.variantBandHeight)/(this.nRows*("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight)+d));m>=0&&m<v.length&&Array.prototype.push.apply(i,Ew(h.calls[v[m].id],h,0,a))}}}}}catch(Bk){s=!0,c=Bk}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return i},Cw.prototype.menuItemList=function(){var e=this,t=[];return t.push({object:Ys('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(n){t.push({object:xf({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t};var Rw=yf.dataRangeMenuItem,Aw=wv(ey,function(e,t){var n=e.url,r=e.name;this.config=e,this.url=n,this.name=r,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";var i=e.maxLogP||e.max;this.dataRange={min:e.minLogP||e.min||3.5,max:i||25},this.autoscale=!i||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=new sb(e,t.genome),Sb.gtexLoaded=!0});Aw.prototype.paintAxis=function(e,t,n){var r=(this.dataRange.max-this.dataRange.min)/n,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};Qm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var a=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),o=4;o<=this.dataRange.max;o+=a){var s,c,l,u,h;s=(h=.85*t)-5,c=h,l=u=n-Math.round((o-this.dataRange.min)/r),Qm.strokeLine(e,s,l,c,u,i),l>8&&Qm.fillText(e,o,s-1,l+2,i)}i.textAlign="center",Qm.fillText(e,"-log10(pvalue)",t/4,n/2,i,{rotate:{angle:-90}})},Aw.prototype.getFeatures=function(e,t,n){var r=this.pValueField;return this.featureSource.getFeatures(e,t,n).then(function(e){return e.forEach(function(e){e.value=e[r]}),e})},Aw.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,a=e.bpStart,o=e.pixelWidth,s=e.pixelHeight,c=(t.dataRange.max-t.dataRange.min)/s,l=e.genomicState.selection;if(this.background&&Qm.fillRect(r,0,0,o,s,{fillStyle:this.background}),Qm.strokeLine(r,0,s-1,o,s-1,{strokeStyle:this.divider}),r){var u=n.length;r.save(),h(!1),h(!0),r.restore()}function h(e){var h,f,d,p,v,m,g,y,b=e?2*t.dotSize:t.dotSize;for(f=0;f<u;f++)if(h=n[f],!((d=Math.round(h.position-a+.5)/i)<0)){if(d>o)break;if(m=h.snp.toUpperCase(),g=h[t.geneField].toUpperCase(),!e||l&&(l.snp===m||l.gene===g)){l&&l.snp===m&&l.addGene(g);var _=-Math.log(h[t.pValueField])/Math.LN10;_>=t.dataRange.min&&(_>t.dataRange.max?(_=t.dataRange.max,y=!0):y=!1,p=Math.max(0+b,s-Math.round((_-t.dataRange.min)/c)),h.px=d,h.py=p,e&&l?(v=l.colorForGene(g),Qm.setProperties(r,{fillStyle:v,strokeStyle:"black"})):Qm.setProperties(r,{fillStyle:v=y?"rgb(150, 150, 150)":"rgb(180, 180, 180)",strokeStyle:v}),Qm.fillCircle(r,d,p,b),Qm.strokeCircle(r,d,p,b))}}}},Aw.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.y,i=2*this.dotSize*e.viewport.genomicState.referenceFrame.bpPerPixel,a=this.dotSize,o=this.name,s=[];return t.forEach(function(e){e.end>=n-i&&e.start<=n+i&&e.py-r<2*a&&(s.length>0&&s.push("<hr>"),s.push({name:"snp id",value:e.snp},{name:"gene id",value:e.geneId},{name:"gene name",value:e.geneName},{name:"p value",value:e.pValue},{name:"tissue",value:o}))}),s},Aw.prototype.menuItemList=function(){var e=this,t=[];return t.push(Rw(this.trackView)),t.push({object:xf("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Aw.prototype.doAutoscale=function(e){if(e.length>0){var t=e.map(function(e){return-Math.log(e.value)/Math.LN10});this.dataRange.max=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort(function(e,t){return t-e}),e[n]):function(e,t){var n,r=new jf;for(n=0;n<e.length;n++){var i=e[n];(r.content.length<t||i>r.content[0])&&(r.content.length===t&&r.pop(),r.push(i))}return r.content[0]}(e,n)}}(t,this.autoscalePercentile)}else this.dataRange.max=this.config.maxLogP||this.config.max||25;return this.dataRange};for(var Tw={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"},Iw=0,Ow=Object.keys(Tw);Iw<Ow.length;Iw++){var Dw=Ow[Iw];Tw["chr"+Dw]=Tw[Dw]}var Mw=wv(ey,function(e,t){ey.call(this,e,t),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.height=e.height||100,e.autoscale||(this.dataRange=e.posteriorProbability?{min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:{min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new r_(e.color):{"*":new t_(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=new sb(e,t.genome)});Mw.prototype.supportsWholeGenome=function(){return!0},Mw.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Mw.prototype.draw=function(e){var t=e.features,n=e.context,r=e.pixelWidth,i=e.pixelHeight;if(this.background&&Qm.fillRect(n,0,0,r,i,{fillStyle:this.background}),Qm.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider}),t){var a=e.bpPerPixel,o=e.bpStart,s=o+r*a+1,c=!0,l=!1,u=void 0;try{for(var h,f=t[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value,p=d.start;if(!(p<o)){if(p>s)break;var v=this.getColorScale(d.realChr||d.chr),m=void 0,g=void 0;if(this.posteriorProbability)m=v.getColor(g=d.value);else{var y=d.value||d.score;if(!y)continue;g=-Math.log10(y),m=v.getColor(g)}var b=(this.dataRange.max-this.dataRange.min)/i,_=Math.round((p-o)/a),w=Math.max(this.dotSize,i-Math.round((g-this.dataRange.min)/b));m&&Qm.setProperties(n,{fillStyle:m,strokeStyle:"black"}),Qm.fillCircle(n,_,w,this.dotSize),d.px=_,d.py=w}}}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}},Mw.prototype.getColorScale=function(e){if(this.useChrColors){var t=this.colorScales[e];if(!t){var n=Tw[e]||Pf.get();t=new r_(n),this.colorScales[e]=t}return t}return this.colorScales("*")},Mw.prototype.paintAxis=function(e,t,n){Qm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"},i=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability)for(var a=this.dataRange.min;a<this.dataRange.max;a+=.1){var o=n-Math.round((a-this.dataRange.min)/i);Qm.strokeLine(e,45,o-2,50,o-2,r),Qm.fillText(e,a.toFixed(1),44,o+2,r)}else for(var s=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),c=this.dataRange.min;c<this.dataRange.max;c+=s){var l=n-Math.round((c-this.dataRange.min)/i);Qm.strokeLine(e,45,l-2,50,l-2,r),Qm.fillText(e,Math.floor(c),44,l+2,r)}r.textAlign="center",Qm.fillText(e,this.posteriorProbability?"PPA":"-log10(pvalue)",t/2,n/2,r,{rotate:{angle:-90}})},Mw.prototype.popupData=function(e){var t=[],n=e.viewport.trackView.track,r=e.viewport.getCachedFeatures();if(r){var i=0,a=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value,h=Math.abs(e.canvasX-u.px),f=Math.abs(e.canvasY-u.py),d=u.value||u.score;if(h<this.dotSize&&f<this.dotSize){if(i>0&&t.push("<HR/>"),5==i){t.push("...");break}if("function"==typeof u.popupData)t=t.concat(u.popupData());else{var p=(u.realStart||u.start)+1;t.push({name:"chromosome",value:u.realChr||u.chr}),t.push({name:"position",value:p}),t.push({name:"name",value:u.name}),t.push(n.posteriorProbability?{name:"posterior probability",value:d}:{name:"pValue",value:d})}i++}}}catch(Bk){o=!0,s=Bk}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}}return t},Mw.prototype.menuItemList=function(){var e=this,t=[];return t.push((0,yf.dataRangeMenuItem)(this.trackView)),t.push({object:xf("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Mw.prototype.doAutoscale=function(e){if(e.length>0){var t=this.posteriorProbability?e:e.map(function(e){return{value:-Math.log(void 0!==e.value?e.value:e.score)/Math.LN10}}),n=Cv(t);this.dataRange.max=n.max,this.dataRange.min=n.min!==n.max?n.min:0}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange};var Pw=yf.dataRangeMenuItem,Lw=wv(ey,function(e,t){ey.call(this,e,t),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=Qb,this.graphType=e.graphType||"bar",this.featureSource=new sb(this.config,t.genome)});Lw.prototype.postInit=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFileHeader();case 2:this.header=e.sent;case 3:case"end":return e.stop()}},e,this)})),Lw.prototype.menuItemList=function(){var e=this,t=[];return t.push(Pw(this.trackView)),t.push({object:xf("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Lw.prototype.getFeatures=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,0,Number.MAX_VALUE);case 2:i=e.sent,a=void 0,o=void 0,s=1;case 6:if(!(s<i.length-1)){e.next=14;break}if(void 0===a&&i[s].end>n&&(a=s-1),!(void 0===o&&i[s].start>r)){e.next=11;break}return o=s+1,e.abrupt("break",14);case 11:s++,e.next=6;break;case 14:return void 0===a&&(a=0),void 0===o&&(o=i.length),e.abrupt("return",i.slice(a,o));case 17:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),Lw.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,a=e.bpStart,o=e.pixelHeight,s=function(e){return(t.dataRange.max-e)/(t.dataRange.max-t.dataRange.min)*o},c=function(e){var t=Math.floor((e-a)/i);return isNaN(t)&&console.warn("isNaN(x). feature start "+nv(e)+" bp start "+nv(a)),t};if(n&&n.length>0&&(void 0===t.dataRange.min&&(t.dataRange.min=0),t.dataRange.max>t.dataRange.min)){var l=this.config.highlightSamples,u=this.config.onlyHandleClicksForHighlightedSamples,h=-1,f={},d=[],p=[];this.clickDetectorCache={};var v=!0,m=!1,g=void 0;try{for(var y,b=n[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var _=y.value,w=c(_.start),k=c(_.end),S=h>=0?c(h):w;if(!(isNaN(w)||isNaN(k)||w-S<1&&k-w<1)){this.clickDetectorCache[w]=[],this.clickDetectorCache[k]=[];for(var x=0;x<_.values.length;x++){var C=t.header[x],E=_.values[x],R=s(E);if(w-S>=1){var A=s(f[C]),T=l&&l[C];T?d.push([S,A,w,R,T]):Qm.strokeLine(r,S,A,w,R,{strokeStyle:"#D9D9D9"}),u&&!(C in l)||this.clickDetectorCache[w].push([S,A,w,R,C,T||"gray"])}if(k-w>=1){var I=l&&l[C];I?p.push([w,R,k,R,I]):Qm.strokeLine(r,w,R,k,R,{strokeStyle:"gray"}),u&&!(C in l)||this.clickDetectorCache[k].push([w,R,k,R,C,I||"gray"])}f[C]=E}h=_.end}}}catch(Bk){m=!0,g=Bk}finally{try{v||null==b.return||b.return()}finally{if(m)throw g}}for(var O=0,D=d;O<D.length;O++){var M=D[O];Qm.strokeLine(r,M[0],M[1],M[2],M[3],{strokeStyle:M[4],lineWidth:1.3})}for(var P=0,L=p;P<L.length;P++){var F=L[P];Qm.strokeLine(r,F[0],F[1],F[2],F[3],{strokeStyle:F[4],lineWidth:2})}}!function(e){if(t.config.hasOwnProperty("guideLines")){var n=!0,r=!1,i=void 0;try{for(var a,o=t.config.guideLines[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if(c.hasOwnProperty("color")&&c.hasOwnProperty("y")&&c.hasOwnProperty("dotted")){var l=s(c.y),u={strokeStyle:c.color,strokeWidth:2};c.dotted?Qm.dashedLine(e.context,0,l,e.pixelWidth,l,5,u):Qm.strokeLine(e.context,0,l,e.pixelWidth,l,u)}}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}(e)},Lw.prototype.doAutoscale=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){t=Math.min.apply(Math,[t].concat(tr(e.values))),n=Math.max.apply(Math,[n].concat(tr(e.values)))}),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}},Lw.prototype.clickedFeatures=function(e){for(var t,n,r,i,a,o,s=e.canvasX,c=e.canvasY,l=null,u=0,h=Object.keys(this.clickDetectorCache);u<h.length&&(l=h[u],!((l=parseInt(l))>=s));u++);if(l){var f=Number.MAX_VALUE,d=[],p=this.clickDetectorCache[l],v=!0,m=!1,g=void 0;try{for(var y,b=p[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var _=y.value,w=_[0],k=_[2];if(s<w||s>k)return[];var S=_[1],x=_[3];if(!(c<Math.min(S,x)-10||c>Math.max(S,x)+10)){var C=(r=k-(t=w),i=x-(n=S),a=Math.abs(r*(n-c)-(t-s)*i),(o=Math.sqrt(r*r+i*i))>0?a/o:0);C<f&&(d=[{name:_[4],color:_[5]}],f=C)}}}catch(Bk){m=!0,g=Bk}finally{try{v||null==b.return||b.return()}finally{if(m)throw g}}if(f<5)return d}return[]},Lw.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=[];return t.forEach(function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];kv(e[i])&&n.push({name:i,value:e[i]})}}),n},Lw.prototype.contextMenuItemList=function(e){return[]},Lw.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},Lw.prototype.supportsWholeGenome=function(){return!1};var Fw=wv(ey,function(e,t){ey.call(this,e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,this.featureSource=new zw(e,t.genome)});function Nw(e,t){e.sort(function(e,n){return(void 0===t?1:t)*((void 0===e.score?-Number.MAX_VALUE:e.score)-(void 0===n.score?-Number.MAX_VALUE:n.score))})}function zw(e,t){this.config=e,this.genome=t}Fw.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Fw.prototype.draw=function(e){var t=this,n=Math.PI/2,r=e.context,i=e.bpStart,a=e.bpPerPixel,o=t.arcOrientation;Qm.fillRect(r,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"});var s=e.features;s&&(Nw(s,1),s.forEach(function(e){if(e.startLeft){var s=Math.round((e.startLeft-i)/a),c=Math.round((e.startRight-i)/a),l=Math.round((e.endLeft-i)/a),u=Math.round((e.endRight-i)/a);r.fillStyle=e.color,r.strokeStyle=e.color,r.beginPath();var h=(s+u)/2,f=(u-s)/2,d=t.height,p=Math.PI+(Math.PI/2-n),v=2*Math.PI-(Math.PI/2-n);o?(r.arc(h,d=0,f,v,p),r.lineTo(u,d)):(r.arc(h,d,f,p,v),r.lineTo(l,d));var m=(c+l)/2,g=(l-c)/2,y=d;o?(r.arc(m,y,g,p,v,!0),r.lineTo(l,y)):(r.arc(m,y,g,v,p,!0),r.lineTo(s,y)),r.stroke(),r.fill(),e.drawState={x1:h,y1:d,r1:f,x2:m,y2:y,r2:g,sa:p,ea:v}}else{var b=Math.round((e.start-i)/a),_=Math.round((e.end-i)/a);r.strokeStyle=e.color,r.beginPath();var w=(b+_)/2,k=(_-b)/2,S=t.height,x=Math.PI+(Math.PI/2-n),C=2*Math.PI-(Math.PI/2-n);o?r.arc(w,S=0,k,C,x):r.arc(w,S,k,x,C),r.stroke(),e.drawState={x1:w,y1:S,r1:k,sa:x,ea:C}}}))},Fw.prototype.clickedFeatures=function(e){var t=ey.prototype.clickedFeatures.call(this,e),n=[];Nw(t,-1);var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=c.drawState,u=e.canvasX-l.x1,h=e.canvasY-l.y1,f=Math.sqrt(u*u+h*h),d=l.r1+3,p=void 0,v=void 0;if(void 0===l.x2)p=f,v=l.r1-3;else{var m=e.canvasX-l.x2,g=e.canvasY-l.y2;p=Math.sqrt(m*m+g*g),v=l.r2-3}if(f<d&&p>v){n.push(c);break}}}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n},Fw.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0)return ey.extractPopupData(t[0],this.getGenomeId())},Fw.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]},Fw.prototype.getState=function(){var e=this._super.getState.call(this);return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},zw.prototype.getFeatures=function(e,t,n){var r=this,i=this.genome;if(this.featureCache)return Promise.resolve(r.featureCache.queryFeatures(e,t,n));var a=Sv(this.config);return om.loadString(r.config.url,a).then(function(a){return r.featureCache=new Oy(function(e){if(!e)return null;for(var t,n=wg(e),r=!0,i=[],a=[],o=[];t=n.nextLine();){var s=t.split("\t");if(r&&t.startsWith("color:"))i.push("rgb("+s[1]+","+s[2]+","+s[3]+")"),s.length>4&&a.push(s[4]);else{r=!1;var c=s[0],l=Number.parseInt(s[1])-1,u=Number.parseInt(s[2])-1,h=Number.parseInt(s[3]),f=Number.parseInt(s[4]),d=Number.parseInt(s[5]),p=i[d],v=void 0;(v=l<=f?{chr:c,startLeft:Math.min(l,u),startRight:Math.max(l,u),endLeft:Math.min(h,f),endRight:Math.max(h,f),color:p,score:d}:{chr:c,startLeft:Math.min(h,f),startRight:Math.max(h,f),endLeft:Math.min(l,u),endRight:Math.max(l,u),color:p,score:d}).start=v.startLeft,v.end=v.endRight,a.length>d&&(v.description=a[d]),o.push(v)}}return o}(a),i),r.featureCache.queryFeatures(e,t,n)})};var jw={sequence:function(e,t){return new Nb(e,t)},feature:function(e,t){return new Eb(e,t)},seg:function(e,t){return new i_(e,t)},wig:function(e,t){return new e_(e,t)},merged:function(e,t){return new a_(e,t)},alignment:function(e,t){return new mw(e,t)},interaction:function(e,t){return new Sw(e,t)},variant:function(e,t){return new Cw(e,t)},eqtl:function(e,t){return new Aw(e,t)},gwas:function(e,t){return new Mw(e,t)},arc:function(e,t){return new Fw(e,t)},gcnv:function(e,t){return new Lw(e,t)}},Bw=function(e,t){this.config=e,this.name=e.name,this.roiSource=new sb(e,t),this.color=e.color||"rgba(68, 134, 247, 0.25)"};function Vw(e,t,n){var r,i;return r=Math.round((e.start-t)/n),(i=Math.round((e.end-t)/n)-r)<3&&(i=3,r-=1),{x:r,width:i}}Bw.prototype.getFeatures=function(e,t,n){return this.roiSource.getFeatures(e,t,n)},Bw.prototype.draw=function(e){var t,n,r,i;if(i=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var a=0,o=i.length;a<o;a++)if(!((n=i[a]).end<e.bpStart)){if(n.start>t)break;r=Vw(n,e.bpStart,e.bpPerPixel),Qm.fillRect(e.context,r.x,0,r.width,e.pixelHeight,{fillStyle:this.color})}}};var Uw=function(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=Hw[this.genesCount++]),t&&(this.snp=t.toUpperCase())};Uw.prototype.addGene=function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=Hw[this.genesCount++])},Uw.prototype.colorForGene=function(e){return this.geneColors[e.toUpperCase()]};var Hw=new Array;Hw.push("rgb(228,26,28)"),Hw.push("rgb(55,126,184)"),Hw.push("rgb(77,175,74)"),Hw.push("rgb(166,86,40)"),Hw.push("rgb(152,78,163)"),Hw.push("rgb(255,127,0)"),Hw.push("rgb(247,129,191)"),Hw.push("rgb(153,153,153)"),Hw.push("rgb(255,255,51)"),Hw.push("rgb(102, 194, 165"),Hw.push("rgb(252, 141, 98"),Hw.push("rgb(141, 160, 203"),Hw.push("rgb(231, 138, 195"),Hw.push("rgb(166, 216, 84"),Hw.push("rgb(255, 217, 47"),Hw.push("rgb(229, 196, 148"),Hw.push("rgb(179, 179, 179"),Hw.push("rgb( 141, 211, 199"),Hw.push("rgb(255, 255, 179"),Hw.push("rgb(190, 186, 218"),Hw.push("rgb(251, 128, 114"),Hw.push("rgb(128, 177, 211"),Hw.push("rgb(253, 180, 98"),Hw.push("rgb(179, 222, 105"),Hw.push("rgb(252, 205, 229"),Hw.push("rgb(217, 217, 217"),Hw.push("rgb(188, 128, 189"),Hw.push("rgb(204, 235, 197"),Hw.push("rgb(255, 237, 111");var $w=!yc(function(e){Array.from(e)});Ie({target:"Array",stat:!0,forced:$w},{from:zl});var qw=function(e,t){var n,r,i,a,o,s,c=this;a=(i=(n=(new DOMParser).parseFromString(e,"text/xml")).getElementsByTagName("Session").item(0)).getAttribute("genome"),o=i.getAttribute("locus"),s=i.getAttribute("ucscID"),t&&t.hasOwnProperty(a)?c.genome=a:(c.reference={fastaURL:a},s&&(c.reference.id=s)),o&&(c.locus=o),r=n.getElementsByTagName("Resource"),c.tracks=[];var l={};function u(e,t){var n,r,i,a,o,s,c,l,u,h;t.name=e.getAttribute("name"),(n=e.getAttribute("color"))&&(t.color="rgb("+n+")"),a=e.getAttribute("altColor"),n&&(t.altColor="rgb("+a+")"),(r=e.getAttribute("height"))&&(t.height=parseInt(r)),(i=e.getAttribute("autoScale"))&&(t.autoScale="true"===i),(h=e.getAttribute("autoscaleGroup"))&&(t.autoscaleGroup=h),(c=e.getAttribute("windowFunction"))&&(t.windowFunction=c),(l=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow"))&&(t.visibilityWindow=l),(u=e.getAttribute("indexed"))&&(t.indexed="true"===u),(s=e.getElementsByTagName("DataRange")).length>0&&(o=s.item(0),i||(t.min=parseInt(o.getAttribute("minimum")),t.max=parseInt(o.getAttribute("maximum"))),t.logScale="LOG"===o.getAttribute("type"))}Array.from(r).forEach(function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};c.tracks.push(n),l[n.url]=n}),(r=n.getElementsByTagName("Track"))&&r.length>0&&(c.tracks=[],Array.from(r).forEach(function(e){var t,n,r,i;(r=e.getElementsByTagName("Track"))&&r.length>0?(u(e,i={type:"merged",tracks:[]}),c.tracks.push(i),Array.from(r).forEach(function(e){var t,n;e.processed=!0,t=e.getAttribute("id"),(n=l[t])&&(i.tracks.push(n),u(e,n),n.autoscale=!1,i.height=n.height)})):e.processed||(t=e.getAttribute("id"),(n=l[t])&&(c.tracks.push(n),u(e,n)))}))},Gw=function(){this.attributes={},this.plinkLoaded=!1};function Ww(e,t){return(new Gw).loadPlinkFile(e,t)}Gw.prototype.loadPlinkFile=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),r=Sv(n),e.next=4,om.loadString(t,r);case 4:for(i=rv(e.sent),a=!0,o=!1,s=void 0,e.prev=9,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)u=l.value.split(" "),this.attributes[u[1]]={familyId:u[0],fatherId:u[2],motherId:u[3],sex:u[4],phenotype:u[5]};e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),o=!0,s=e.t0;case 17:e.prev=17,e.prev=18,a||null==c.return||c.return();case 20:if(e.prev=20,!o){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return this.plinkLoaded=!0,e.abrupt("return",this);case 27:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(t,n){return e.apply(this,arguments)}}(),Gw.prototype.getAttributes=function(e){return this.attributes[e]},Gw.prototype.getAttributeNames=function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]},Gw.prototype.hasAttributes=function(){return Object.keys(this.attributes).length>0};var Yw=function(e,t,n){this.browser=n,this.$parent=e,this.buildPanels(e,t)};function Zw(e,t,n){var r,i=this.browser;return(r={}).genomicState=t,r.$ideogram=Ys('<div class="igv-ideogram-content"></div>'),e.append(r.$ideogram),function(e,t,n){t<n&&1+t!==n?e.addClass("igv-ideogram-content-border-right"):e.removeClass("igv-ideogram-content-border-right")}(r.$ideogram,i.genomicStateList.indexOf(t),i.genomicStateList.length),r.$ideogram.outerWidth(n),r.$canvas=Ys("<canvas>"),r.$ideogram.append(r.$canvas),Jw(r),r.ideograms={},r.$ideogram.on("click",function(e){!function(e,t,n){var r=uv(n,t.$ideogram.get(0)),i=t.genomicState.referenceFrame,a=i.bpPerPixel*t.$ideogram.width(),o=e.genome.getChromosome(i.chrName),s=a/o.bpLength,c=r.x/t.$ideogram.width();c-s/2<0&&(c=s/2),c+s/2>1&&(c=1-s/2);var l=Math.round((c-s/2)*o.bpLength),u=Math.round((c+s/2)*o.bpLength);i.start=Math.round((c-s/2)*o.bpLength),i.bpPerPixel=(u-l)/t.$ideogram.width(),e.updateLocusSearchWidget(t.genomicState),e.updateViews()}(i,r,e)}),r}function Xw(e){e.forEach(function(t,n){1===e.length||1+n===e.length?t.$ideogram.removeClass("igv-ideogram-content-border-right"):t.$ideogram.addClass("igv-ideogram-content-border-right")})}function Kw(e){var t=e.ctx,n=e.width,r=e.height,i=e.genome,a=e.referenceFrame,o=e.ideogramWidth;if(n>0&&r>0&&i&&a&&i.getChromosome(a.chrName)&&r>0&&(Qm.fillRect(t,0,0,n,r,{fillStyle:ov.greyScale(255)}),"all"!==a.chrName.toLowerCase())){!function(e){var t,n,r,i,a,o,s,c,l,u=e.ctx,h=e.referenceFrame,f=e.genome,d=e.width,p=e.height,v=e.stainColors;if(void 0!==f){if(Qm.fillRect(u,0,0,d,p,{fillStyle:ov.greyScale(255)}),t=f.getCytobands(h.chrName)){if(r=0+p/2,i=[],a=[],0===t.length)return;for(o=d/t[t.length-1].end,u.beginPath(),Qm.roundRect(u,.5,.5,d-1,p-1,(p-1)/2,0,1),u.clip(),l=0;l<t.length;l++)s=o*(n=t[l]).start,c=o*n.end,"c"===n.type?("p"===n.name.charAt(0)?(i[0]=s,a[0]=p+0,i[1]=s,a[1]=0,i[2]=c,a[2]=r):(i[0]=c,a[0]=p+0,i[1]=c,a[1]=0,i[2]=s,a[2]=r),u.fillStyle="rgb(150, 0, 0)",u.strokeStyle="rgb(150, 0, 0)",Qm.polygon(u,i,a,1,0)):(u.fillStyle=Qw(v,n),Qm.fillRect(u,s,1,c-s,p-2))}u.strokeStyle=ov.greyScale(41),Qm.roundRect(u,.5,.5,d-1,p-1,(p-1)/2,0,1)}}({ctx:t,referenceFrame:a,genome:i,width:n,height:r,stainColors:[]});var s=i.getChromosome(a.chrName),c=Math.round(a.bpPerPixel*o),l=a.start,u=s.bpLength,h=i.getCytobands(a.chrName);if(h&&h.length>0&&(u=Math.max(u,h[h.length-1].end)),c<u){var f=c/u,d=Math.floor(l/u*n),p=Math.floor(f*n);d=Math.max(0,d),d=Math.min(n-p,d),t.save(),t.strokeStyle="red",t.lineWidth=p<2?1:2,t.strokeRect(d+t.lineWidth/2,t.lineWidth/2,p=p<2?1:p-t.lineWidth,r-t.lineWidth),t.restore()}}}function Qw(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=230;"p"===t.type&&(n=Math.floor(230-t.stain/100*230));var r=e[n];return r||(e[n]=r="rgb("+n+","+n+","+n+")"),r}function Jw(e){var t=e.$canvas.get(0),n=+e.$ideogram.width(),r=+e.$ideogram.height();t.style.width=n+"px",t.style.height=r+"px",t.width=window.devicePixelRatio*n,t.height=window.devicePixelRatio*r,e.ctx=t.getContext("2d"),e.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}Yw.prototype.renderSVGContext=function(e,t){var n=this;this.panels.forEach(function(r,i){var a=r.$ideogram.get(0).getBoundingClientRect(),o=t.deltaX+i*(r.$canvas.width()+e.multiLocusGap);e.addTrackGroupWithTranslationAndClipRect("ideogram",o,t.deltaY,a.width,a.height,0),e.save(),Kw({ctx:e,width:r.$canvas.width(),height:r.$canvas.height(),genome:n.browser.genome,referenceFrame:r.genomicState.referenceFrame,ideogramWidth:r.$ideogram.width()}),e.restore()})},Yw.prototype.buildPanels=function(e,t){var n=this;e.append(Ys('<div class="igv-ideogram-shim"></div>')),this.panels=this.browser.genomicStateList.map(function(r){return Zw.call(n,e,r,t)})},Yw.prototype.setWidth=function(e,t){this.panels.forEach(function(t){t.$ideogram.outerWidth(e),Jw(t),t.ideograms={}}),!0===t&&this.repaint()},Yw.prototype.resize=function(){this.setWidth(this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,!0)},Yw.prototype.repaint=function(){var e=this;this.panels.forEach(function(t){Kw({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:e.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})})},Yw.prototype.discardPanels=function(){this.panels.forEach(function(e){e.$ideogram.remove()}),this.panels=void 0},Yw.prototype.addPanelWithGenomicStateAtIndex=function(e,t,n){var r;r=Zw.call(this,this.$parent,e,n),t===this.panels.length?this.panels.push(r):(this.panels.splice(t,0,r),r.$ideogram.detach().insertAfter(this.panels[t-1].$ideogram)),Xw(this.panels)},Yw.prototype.removePanelWithLocusIndex=function(e){this.panels[e].$ideogram.remove(),this.panels.splice(e,1),Xw(this.panels)},Yw.prototype.repaintPanelWithGenomicState=function(e){var t=this.panels[this.browser.genomicStateList.indexOf(e)];Kw({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:this.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})};var ek=function(e,t,n,r,i){this.genome=e,this.chrName=t,this.start=n,this.initialEnd=r,this.bpPerPixel=i};ek.prototype.calculateEnd=function(e){return this.start+this.bpPerPixel*e},ek.prototype.calculateBPP=function(e,t){return(e-this.start)/t},ek.prototype.set=function(e){this.chrName=e.chrName,this.start=e.start,this.bpPerPixel=e.bpPerPixel},ek.prototype.toPixels=function(e){return e/this.bpPerPixel},ek.prototype.toBP=function(e){return this.bpPerPixel*e},ek.prototype.shiftPixels=function(e,t){var n=this.start;return this.start+=e*this.bpPerPixel,this.clamp(t),n!==this.start},ek.prototype.clamp=function(e){var t=this.genome.getChromosome(this.chrName).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chrName).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}},ek.prototype.getChromosome=function(){return this.genome.getChromosome(this.chrName)},ek.prototype.showLocus=function(e){if("all"===this.chrName.toLowerCase())return this.chrName.toLowerCase();var t=nv(Math.floor(this.start)+1),n=nv(Math.round(this.start+this.bpPerPixel*e));return this.chrName+":"+t+"-"+n},ek.prototype.description=function(){return"ReferenceFrame "+this.chrName+" "+nv(Math.floor(this.start))+" bpp "+this.bpPerPixel};var tk,nk,rk,ik,ak,ok,sk,ck=function(e,t){this.guid=hv(),this.namespace=".browser_"+this.guid,this.config=e,this.parent=t,this.$root=Ys('<div class="igv-root-div">'),Ys(t).append(this.$root),this.$content=Ys('<div class="igv-content-div">'),this.$root.append(this.$content),this.$contentHeader=Ys("<div>",{class:"igv-content-header"}),this.$content.append(this.$contentHeader);var n=Ys('<div class="igv-track-container-div">');this.$content.append(n),this.trackContainerDiv=n.get(0),lk.call(this,e),this.trackViews=[],this.trackLabelsVisible=!0,this.isCenterGuideVisible=!1,this.cursorGuideVisible=!1,this.featureDB={},this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.$spinner=Ys('<div class="igv-track-container-spinner">'),n.append(this.$spinner),this.$spinner.append(Cf("spinner")),this.stopSpinner(),hk.call(this)};function lk(e){e.gtex&&(Sb.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.searchConfig=e.search?{type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField}:{type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"}}function uk(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=!0,l=!1,u=void 0;try{for(var h,f=s.viewports[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value;d.$trackLabel&&(0===s.viewports.indexOf(d)&&!0===t?d.$trackLabel.show():d.$trackLabel.hide())}}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function hk(){var e=this;function t(t){var n,r,i,a;if(t.preventDefault(),!e.loadInProgress()&&(n=lv(t),e.vpMouseDown)){var o=Math.abs(n.x-e.vpMouseDown.mouseDownX)>Math.abs(n.y-e.vpMouseDown.mouseDownY);if(i=(r=e.vpMouseDown.viewport).$viewport.width(),a=r.genomicState.referenceFrame,!e.dragObject&&!e.isScrolling)if(o)e.vpMouseDown.mouseDownX&&Math.abs(n.x-e.vpMouseDown.mouseDownX)>e.constants.dragThreshold&&(e.dragObject={viewport:r,start:a.start});else if(e.vpMouseDown.mouseDownY&&Math.abs(n.y-e.vpMouseDown.mouseDownY)>e.constants.scrollThreshold){e.isScrolling=!0;var s=r.trackView,c=s.$viewportContainer.height(),l=s.maxContentHeight();e.vpMouseDown.r=c/l}e.dragObject&&(a.shiftPixels(e.vpMouseDown.lastMouseX-n.x,i)&&(e.updateLocusSearchWidget(e.vpMouseDown.genomicState),e.updateViews()),e.fireEvent("trackdrag")),e.isScrolling&&e.vpMouseDown.viewport.trackView.scrollBy(e.vpMouseDown.r*(e.vpMouseDown.lastMouseY-n.y)),e.vpMouseDown.lastMouseX=n.x,e.vpMouseDown.lastMouseY=n.y}}function n(t){e.cancelTrackPan(),e.endTrackDrag()}Ys(window).on("resize"+this.namespace,function(){e.resize()}),Ys(this.root).on("mouseup",n),Ys(this.root).on("mouseleave",n),Ys(this.trackContainerDiv).on("mousemove",t),Ys(this.trackContainerDiv).on("touchmove",t),Ys(this.trackContainerDiv).on("mouseleave",n),Ys(this.trackContainerDiv).on("mouseup",n),Ys(this.trackContainerDiv).on("touchend",n)}ck.prototype.startSpinner=function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())},ck.prototype.stopSpinner=function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))},ck.prototype.isMultiLocusMode=function(){return this.genomicStateList&&this.genomicStateList.length>1},ck.prototype.isMultiLocusWholeGenomeView=function(){if(void 0===this.genomicStateList||1===this.genomicStateList.length)return!1;var e=!0,t=!1,n=void 0;try{for(var r,i=this.genomicStateList[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)if("all"===r.value.referenceFrame.chrName.toLowerCase())return!0}catch(Bk){t=!0,n=Bk}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1},ck.prototype.toSVG=function(){var e=this.trackContainerDiv.getBoundingClientRect(),t=this.trackViews[0].$viewportContainer.get(0).getBoundingClientRect(),n=this.ideoPanel?this.ideoPanel.panels[0].$ideogram.get(0).getBoundingClientRect():{height:0,width:0},r=e.width+8*(this.genomicStateList.length-1),i=e.height+n.height,a=new ef({width:r,height:8e3,backdropColor:"white",multiLocusGap:8,viewbox:{x:0,y:0,width:r,height:8e3}}),o=t.x-e.x;this.ideoPanel&&this.ideoPanel.renderSVGContext(a,{deltaX:o,deltaY:0});var s=!0,c=!1,l=void 0;try{for(var u,h=this.trackViews[Symbol.iterator]();!(s=(u=h.next()).done);s=!0)u.value.renderSVGContext(a,{deltaX:o,deltaY:n.height-e.y})}catch(Bk){c=!0,l=Bk}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return a.setHeight(i),a.getSerializedSvg(!0)},ck.prototype.renderSVG=function(e){var t=this.toSVG();if(e.$container){var n=this.trackContainerDiv.getBoundingClientRect();e.$container.empty(),e.$container.width(n.width),e.$container.append(t)}xv(e.filename||"igv.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))},ck.prototype.loadSession=function(){var e=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return(a=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url||t.file,!t.url||!t.url.startsWith("blob:")&&!t.url.startsWith("data:")){e.next=6;break}return r=ck.uncompressSession(t.url),e.abrupt("return",JSON.parse(r));case 6:if((i=t.filename)||(i=t.url?Hv(t.url):t.file.name),!i.endsWith(".xml")){e.next=18;break}return e.next=11,Rm.getKnownGenomes();case 11:return a=e.sent,e.next=14,om.loadString(n);case 14:return e.abrupt("return",new qw(e.sent,a));case 18:if(!i.endsWith(".json")){e.next=22;break}return e.abrupt("return",om.loadJson(n));case 22:return e.abrupt("return",void 0);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},n=this,!t.url&&!t.file){e.next=9;break}return e.next=6,i(t);case 6:r=e.sent,e.next=10;break;case 9:r=t;case 10:return e.abrupt("return",n.loadSessionObject(r));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ck.prototype.loadSessionObject=function(){var e=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeAllTracks(!0),e.next=3,this.loadGenome(t.reference||t.genome,t.locus);case 3:if(n=e.sent,!t.gtexSelections){e.next=44;break}for(r={},i=!0,a=!1,o=void 0,e.prev=9,s=this.genomicStateList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)r[(l=c.value).locusSearchString]=l;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),a=!0,o=e.t0;case 17:e.prev=17,e.prev=18,i||null==s.return||s.return();case 20:if(e.prev=20,!a){e.next=23;break}throw o;case 23:return e.finish(20);case 24:return e.finish(17);case 25:for(u=!0,h=!1,f=void 0,e.prev=28,d=Object.getOwnPropertyNames(t.gtexSelections)[Symbol.iterator]();!(u=(p=d.next()).done);u=!0)(m=r[v=p.value])&&(m.selection=new Uw(t.gtexSelections[v].gene,t.gtexSelections[v].snp));e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),h=!0,f=e.t1;case 36:e.prev=36,e.prev=37,u||null==d.return||d.return();case 39:if(e.prev=39,!h){e.next=42;break}throw f;case 42:return e.finish(39);case 43:return e.finish(36);case 44:if(!t.roi){e.next=65;break}for(this.roi=[],g=!0,y=!1,b=void 0,e.prev=49,_=t.roi[Symbol.iterator]();!(g=(w=_.next()).done);g=!0)this.roi.push(new Bw(w.value,n));e.next=57;break;case 53:e.prev=53,e.t2=e.catch(49),y=!0,b=e.t2;case 57:e.prev=57,e.prev=58,g||null==_.return||_.return();case 60:if(e.prev=60,!y){e.next=63;break}throw b;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return t.tracks||(t.tracks=[]),0===t.tracks.filter(function(e){return"sequence"===e.type}).length&&t.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER}),e.next=69,this.loadTrackList(t.tracks);case 69:!1===t.showIdeogram||this.ideoPanel||(k=this.viewportContainerWidth()/this.genomicStateList.length,this.ideoPanel=new Yw(this.$contentHeader,k,this),this.ideoPanel.repaint()),this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0]),this.resize();case 73:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[49,53,57,65],[58,,60,64]])}));return function(t){return e.apply(this,arguments)}}(),ck.prototype.loadGenome=function(){var e=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()},c=function(){return(c=Hn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(tv(t)?n=t:t.genome?n=t.genome:void 0!==t.id&&void 0===t.fastaURL&&(n=t.id),!n){e.next=10;break}return e.next=4,Rm.getKnownGenomes();case 4:return(r=e.sent[n])||this.presentAlert("Uknown genome id: "+n,void 0),e.abrupt("return",r);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},tv(t)&&t.startsWith("{"))try{t=JSON.parse(t)}catch(u){}return e.next=6,s.call(this,t);case 6:return r=e.sent,e.next=9,Rm.loadGenome(r);case 9:return i=e.sent,a=this.genome&&this.genome.id!==i.id,this.genome=i,this.$current_genome.text(i.id||""),this.$current_genome.attr("title",i.id||""),this.chromosomeSelectWidget.update(i),a&&this.removeAllTracks(),this.genome=i,e.prev=17,e.next=20,this.search(l(n,i),!0);case 20:o=e.sent,e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(17),console.error(e.t0),e.next=28,this.search(this.genome.getHomeChromosomeName());case 28:o=e.sent;case 29:if(this.genomicStateList=o,this.genomicStateList.length>0?this.rulerTrack||!1===this.config.showRuler||(this.rulerTrack=new eg(this),this.addTrack(this.rulerTrack)):this.presentAlert("Unrecognized locus "+this.config.locus,void 0),!r.tracks){e.next=34;break}return e.next=34,this.loadTrackList(r.tracks);case 34:return this.resize(),e.abrupt("return",this.genome);case 36:case"end":return e.stop()}},e,this,[[17,23]])}));return function(t,n){return e.apply(this,arguments)}}(),ck.prototype.updateUIWithGenomicStateListChange=function(e){var t=this.isMultiLocusWholeGenomeView()||Rm.isWholeGenomeView(e[0].referenceFrame);t||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),t),uk(this.trackViews,this.trackLabelsVisible)},ck.prototype.setTrackLabelName=function(e,t){e.viewports.forEach(function(e){e.setTrackLabel(t)})},ck.prototype.hideTrackLabels=function(){this.trackLabelsVisible=!1,uk(this.trackViews,this.trackLabelsVisible)},ck.prototype.showTrackLabels=function(){this.trackLabelsVisible=!0,uk(this.trackViews,this.trackLabelsVisible)},ck.prototype.hideCursorGuide=function(){this.cursorGuide.$guide.hide(),this.cursorGuideVisible=!1},ck.prototype.showCursorGuide=function(){this.cursorGuide.$guide.show(),this.cursorGuideVisible=!0},ck.prototype.setCustomCursorGuideMouseHandler=function(e){this.cursorGuide.customMouseHandler=e},ck.prototype.hideCenterGuide=function(){this.centerGuide.$container.hide(),this.isCenterGuideVisible=!1},ck.prototype.showCenterGuide=function(){this.centerGuide.$container.show(),this.centerGuide.resize(),this.isCenterGuideVisible=!0},ck.prototype.loadTrackList=(sk=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.prev=1,this.startSpinner(),r=[],t.forEach(function(e){e.noSpinner=!0,r.push(n.loadTrack(e))}),e.next=7,Promise.all(r);case 7:return i=e.sent,(a=n.trackViews.filter(function(e){return e.track.autoscaleGroup})).length>0&&n.updateViews(n.genomicStateList[0],a),e.abrupt("return",i);case 11:return e.prev=11,this.stopSpinner(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,,11,14]])})),function(e){return sk.apply(this,arguments)}),ck.prototype.loadROI=(ok=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roi||(this.roi=[]),!Array.isArray(t)){e.next=23;break}for(n=!0,r=!1,i=void 0,e.prev=5,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)this.roi.push(new Bw(o.value,this.genome));e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),r=!0,i=e.t0;case 13:e.prev=13,e.prev=14,n||null==a.return||a.return();case 16:if(e.prev=16,!r){e.next=19;break}throw i;case 19:return e.finish(16);case 20:return e.finish(13);case 21:e.next=24;break;case 23:this.roi.push(new Bw(t,this.genome));case 24:return e.next=26,this.updateViews(void 0,void 0,!0);case 26:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])})),function(e){return ok.apply(this,arguments)}),ck.prototype.removeROI=function(e){for(var t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}var n=!0,r=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)a.value.updateViews(!0)}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},ck.prototype.loadTrack=(ak=Hn(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return tv(t)&&(t=JSON.parse(t)),e.next=3,Yv(t.url);case 3:if(tv(n=e.sent)&&(n=n.trim()),!tv(n)||!n.startsWith("https://drive.google.com")){e.next=14;break}return e.next=8,Pv.getDriveFileInfo(n);case 8:n="https://www.googleapis.com/drive/v3/files/"+(r=e.sent).id+"?alt=media",t.filename||(t.filename=r.originalFileName||r.name),t.format||(t.format=Rg(t.filename)),e.next=15;break;case 14:n&&!t.filename&&(t.filename=Hv(n));case 15:if(Eg(t),this.trackDefaults&&t.type&&(i=this.trackDefaults[t.type]))for(a in i)i.hasOwnProperty(a)&&void 0===t[a]&&(t[a]=i[a]);if(e.prev=17,t.noSpinner||this.startSpinner(),void 0!==(o=this.createTrack(t))){e.next=23;break}return this.presentAlert("Unknown file type: "+n,void 0),e.abrupt("return",o);case 23:if(void 0===o.order&&(o.order=this.trackViews.length),"function"!=typeof o.postInit){e.next=27;break}return e.next=27,o.postInit();case 27:if(!t.sync){e.next=32;break}return e.next=30,this.addTrack(o);case 30:e.next=33;break;case 32:this.addTrack(o);case 33:return e.abrupt("return",o);case 36:e.prev=36,e.t0=e.catch(17),s={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(e.t0),c=e.t0.message||e.t0.toString(),s.hasOwnProperty(c)&&(c=s[c]+": "+t.url),this.presentAlert(c,void 0);case 43:return e.prev=43,t.noSpinner||this.stopSpinner(),e.finish(43);case 46:case"end":return e.stop()}},e,this,[[17,36,43,46]])})),function(e){return ak.apply(this,arguments)}),ck.prototype.createTrack=function(e){e.format&&(e.format=e.format.toLowerCase());var t=void 0===e.type?"unknown_type":e.type.toLowerCase();"data"===t&&(t="wig");var n,r=Object.assign({},e);switch(r.browser=this,t){case"annotation":case"genes":case"fusionjuncspan":case"junctions":case"splicejunctions":case"snp":n=jw.feature(r,this);break;default:n=jw.hasOwnProperty(t)?jw[t](r,this):void 0}if(e.roi&&n){n.roi=[];var i=!0,a=!1,o=void 0;try{for(var s,c=e.roi[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)n.roi.push(new Bw(s.value,this.genome))}catch(Bk){a=!0,o=Bk}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}return n},ck.prototype.addTrack=(ik=Hn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new lg(this,Ys(this.trackContainerDiv),t),this.trackViews.push(n),uk(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),t.autoscaleGroup){e.next=6;break}return e.abrupt("return",n.updateViews());case 6:case"end":return e.stop()}},e,this)})),function(e){return ik.apply(this,arguments)}),ck.prototype.reorderTracks=function(){var e=this;this.trackViews.sort(function(e,t){return(e.track.order||0)-(t.track.order||0)}),Ys(this.trackContainerDiv).children("igv-track-div").detach(),this.trackViews.forEach(function(t){e.trackContainerDiv.appendChild(t.trackDiv)})},ck.prototype.removeTrackByName=function(e){var t=this.trackViews.slice(),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;e===s.track.name&&this.removeTrack(s.track)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},ck.prototype.removeTrack=function(e){for(var t,n=0;n<this.trackViews.length;n++)if(e===this.trackViews[n].track){t=this.trackViews[n];break}t&&(this.trackViews.splice(n,1),Ys(t.trackDiv).remove(),this.fireEvent("trackremoved",[t.track]),t.dispose())},ck.prototype.removeAllTracks=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;!e&&"sequence"===s.track.id||"ruler"===s.track.id?t.push(s):(this.trackContainerDiv.removeChild(s.trackDiv),this.fireEvent("trackremoved",[s.track]),s.dispose())}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this.trackViews=t},ck.prototype.findTracks=function(e,t){var n=[];return this.trackViews.forEach(function(r){t===r.track[e]&&n.push(r.track)}),n},ck.prototype.setTrackHeight=function(e){this.trackHeight=e,this.trackViews.forEach(function(t){t.setTrackHeight(e)})},ck.prototype.visibilityChange=function(){this.resize()},ck.prototype.resize=Hn(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e){return t.viewportContainerWidth()*e.referenceFrame.bpPerPixel>e.chromosome.bpLength},t=this,0!==(n=this.viewportWidth())){e.next=5;break}return e.abrupt("return");case 5:return this.genomicStateList&&n>0&&((r=this.isMultiLocusWholeGenomeView()||Rm.isWholeGenomeView(this.genomicStateList[0].referenceFrame))||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),r),this.genomicStateList.forEach(function(e){var t=e.referenceFrame;isFinite(t.bpPerPixel)||void 0===t.initialEnd||(t.bpPerPixel=(t.initialEnd-t.start)/n)})),this.genomicStateList&&1===this.genomicStateList.length&&i(this.genomicStateList[0])?this.search(this.genomicStateList[0].chromosome.name):(this.ideoPanel&&this.ideoPanel.resize(),this.centerGuide&&this.centerGuide.resize(),this.trackViews.forEach(function(e){e.resize()})),this.genomicStateList&&this.genomicStateList.length>0&&(this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0])),e.next=10,this.updateViews();case 10:case"end":return e.stop()}},e,this)})),ck.prototype.updateViews=(rk=Hn(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w,k,S,x,C,E,R,A,T,I,O,D,M,P,L,F,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,n||(n=this.trackViews),!t&&this.genomicStateList&&1==this.genomicStateList.length&&(t=this.genomicStateList[0]),t&&(this.updateLocusSearchWidget(t),this.windowSizePanel.updateWithGenomicState(t)),this.ideoPanel&&this.ideoPanel.repaint(),this.centerGuide&&this.centerGuide.repaint(),!i.dragObject){e.next=35;break}s=!0,c=!1,l=void 0,e.prev=10,u=n[Symbol.iterator]();case 12:if(s=(h=u.next()).done){e.next=19;break}return f=h.value,e.next=16,f.updateViews();case 16:s=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),c=!0,l=e.t0;case 25:e.prev=25,e.prev=26,s||null==u.return||u.return();case 28:if(e.prev=28,!c){e.next=31;break}throw l;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=126;break;case 35:a={},o=[],n.forEach(function(e){var t=e.track.autoscaleGroup;if(t){var n=a[t];n||(a[t]=n=[]),n.push(e)}else o.push(e)}),d=Object.keys(a),p=0,v=d;case 40:if(!(p<v.length)){e.next=100;break}return g=[],(m=a[v[p]]).forEach(function(e){g.push(e.getInViewFeatures())}),e.next=47,Promise.all(g);case 47:for(y=e.sent,b=[],w=!0,k=!1,S=void 0,e.prev=52,x=y[Symbol.iterator]();!(w=(C=x.next()).done);w=!0)b=b.concat(C.value);e.next=60;break;case 56:e.prev=56,e.t1=e.catch(52),k=!0,S=e.t1;case 60:e.prev=60,e.prev=61,w||null==x.return||x.return();case 63:if(e.prev=63,!k){e.next=66;break}throw S;case 66:return e.finish(63);case 67:return e.finish(60);case 68:_=Cv(b),E=!0,R=!1,A=void 0,e.prev=72,T=m[Symbol.iterator]();case 74:if(E=(I=T.next()).done){e.next=83;break}return(O=I.value).track.dataRange=_,O.track.autoscale=!1,e.next=80,O.updateViews();case 80:E=!0,e.next=74;break;case 83:e.next=89;break;case 85:e.prev=85,e.t2=e.catch(72),R=!0,A=e.t2;case 89:e.prev=89,e.prev=90,E||null==T.return||T.return();case 92:if(e.prev=92,!R){e.next=95;break}throw A;case 95:return e.finish(92);case 96:return e.finish(89);case 97:p++,e.next=40;break;case 100:D=!0,M=!1,P=void 0,e.prev=103,L=o[Symbol.iterator]();case 105:if(D=(F=L.next()).done){e.next=112;break}return N=F.value,e.next=109,N.updateViews(r);case 109:D=!0,e.next=105;break;case 112:e.next=118;break;case 114:e.prev=114,e.t3=e.catch(103),M=!0,P=e.t3;case 118:e.prev=118,e.prev=119,D||null==L.return||L.return();case 121:if(e.prev=121,!M){e.next=124;break}throw P;case 124:return e.finish(121);case 125:return e.finish(118);case 126:case"end":return e.stop()}},e,this,[[10,21,25,33],[26,,28,32],[52,56,60,68],[61,,63,67],[72,85,89,97],[90,,92,96],[103,114,118,126],[119,,121,125]])})),function(e,t,n){return rk.apply(this,arguments)}),ck.prototype.loadInProgress=function(){var e;for(e=0;e<this.trackViews.length;e++)if(this.trackViews[e].isLoading())return!0;return!1},ck.prototype.updateLocusSearchWidget=function(e){var t,n,r,i,a,o;this.rulerTrack&&this.rulerTrack.updateLocusLabel(),0===this.genomicStateList.indexOf(e)&&1===this.genomicStateList.length?e.locusSearchString&&"all"===e.locusSearchString.toLowerCase()?(this.$searchInput.val(e.locusSearchString),this.chromosomeSelectWidget.$select.val("all")):(this.chromosomeSelectWidget.$select.val((t=e.referenceFrame).chrName),this.$searchInput&&(a=t.start+t.bpPerPixel*(this.viewportContainerWidth()/this.genomicStateList.length),this.genome&&(o=this.genome.getChromosome(t.chrName))&&(a=Math.min(a,o.bpLength)),n=nv(Math.floor(t.start+1)),r=nv(Math.floor(a)),this.$searchInput.val(i=t.chrName+":"+n+"-"+r)),this.fireEvent("locuschange",[{chr:t.chrName,start:n,end:r,label:i}])):(this.$searchInput.val(""),this.chromosomeSelectWidget.$select.val(""))},ck.prototype.viewportContainerWidth=function(){return this.trackViews&&this.trackViews.length>0?this.trackViews[0].$viewportContainer.width():(function(){var e,t,n;return e=Ys('<div class="igv-track-div">'),Ys(this.trackContainerDiv).append(e),t=Ys('<div class="igv-viewport-container">'),e.append(t),n=t.width(),e.remove(),n}).call(this)},ck.prototype.viewportWidth=function(){var e;return e=this.viewportContainerWidth(),void 0===this.genomicStateList||1===this.genomicStateList.length?e:Math.round(e/this.genomicStateList.length)},ck.prototype.minimumBases=function(){return this.config.minimumBases},ck.prototype.updateZoomSlider=function(e){var t=this.trackViews[0].viewports[0],n=t.genomicState.referenceFrame,r=t.$viewport.width()*n.bpPerPixel,i=n.getChromosome().bpLength,a=this.minimumBases(),o=Math.round((i-r)/(i-a)*100);e.val(o)},ck.prototype.zoom=function(e){this.zoomWithScaleFactor(e)},ck.prototype.zoomIn=function(){this.zoomWithScaleFactor(.5)},ck.prototype.zoomOut=function(){this.zoomWithScaleFactor(2)},ck.prototype.zoomWithRangePercentage=function(e){if(!this.loadInProgress()){var t=this.trackViews[0].viewports,n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=s.genomicState.referenceFrame,l=c.start+c.toBP(s.$viewport.width()/2),u=c.getChromosome(),h=(d=(u.bpLength-u.bpStart)/s.$viewport.width(),p=this.minimumBases()/s.$viewport.width(),(1-(v=e))*d+v*p),f=h*s.$viewport.width();c.start=l-f/2,c.bpPerPixel=h,c.clamp(s.$viewport.width()),this.updateViews(s.genomicState)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var d,p,v},ck.prototype.zoomWithScaleFactor=function(e,t,n){var r=n?[n]:this.trackViews[0].viewports,i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l,u=s.value,h=u.genomicState.referenceFrame,f=h.getChromosome(),d=h.start,p=h.bpPerPixel,v=f.bpLength-f.bpStart,m=e<1?this.minimumBases()/u.$viewport.width():v/u.$viewport.width(),g=void 0===t?h.start+h.toBP(u.$viewport.width()/2):t,y=(l=e<1?Math.max(h.bpPerPixel*e,m):Math.min(h.bpPerPixel*e,m))*u.$viewport.width();h.start=g-y/2,h.bpPerPixel=l,h.clamp(u.$viewport.width()),(d!==h.start||p!==h.bpPerPixel)&&this.updateViews(u.genomicState)}}catch(Bk){a=!0,o=Bk}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}},ck.prototype.presentSplitScreenMultiLocusPanel=function(e,t){var n,r,i,a,o=this.genome;r=this.viewportContainerWidth()/(1+this.genomicStateList.length),n=(i=t).referenceFrame;var s=o.getChromosomeName(e.chr);i.referenceFrame=l(s,n.bpPerPixel,r,e.start,e.lengthOnRef);var c=o.getChromosomeName(e.mate.chr);function l(e,t,n,r,i){var a;return new ek(o,e,a=(r+(r+i))/2-t*(n/2),a+t*n,t)}(a={}).chromosome=i.chromosome,a.referenceFrame=l(c,n.bpPerPixel,r,e.mate.position,e.lengthOnRef),this.addMultiLocusPanelWithGenomicStateAtIndex(a,1+this.genomicStateList.indexOf(i),r)},ck.prototype.selectMultiLocusPanelWithGenomicState=function(e){var t=this;this.genomicStateList.filter(function(t){return e!==t}).forEach(function(e){t.removeMultiLocusPanelWithGenomicState(e,!1)}),this.resize()},ck.prototype.removeMultiLocusPanelWithGenomicState=function(e,t){var n,r,i,a=this.genome,o=this;n=this.genomicStateList.indexOf(e),this.ideoPanel&&this.ideoPanel.removePanelWithLocusIndex(n),this.trackViews.forEach(function(e){e.removeViewportWithLocusIndex(n)}),r=this.viewportContainerWidth(),i=this.genomicStateList.length,this.genomicStateList.splice(n,1),this.genomicStateList.forEach(function(e,t){var n=e.referenceFrame.calculateEnd(r/i),s=e.referenceFrame.calculateBPP(n,r/o.genomicStateList.length);o.genomicStateList[t].referenceFrame=new ek(a,e.chromosome.name,e.referenceFrame.start,n,s)}),this.updateUIWithGenomicStateListChange(this.genomicStateList),!0===t&&this.resize()},ck.prototype.addMultiLocusPanelWithGenomicStateAtIndex=function(e,t,n){t===this.genomicStateList.length?(this.genomicStateList.push(e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach(function(t){var r;r=new Dm(t,t.$viewportContainer,e,n),t.viewports.push(r),t.decorateViewports(),t.configureViewportContainer(t.$viewportContainer,t.viewports)})):(this.genomicStateList.splice(t,0,e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach(function(r){var i;i=new Dm(r,r.$viewportContainer,e,n),r.viewports.splice(t,0,i),i.$viewport.detach().insertAfter(r.viewports[t-1].$viewport),r.decorateViewports(),r.configureViewportContainer(r.$viewportContainer,r.viewports)})),this.rulerTrack&&this.rulerTrack.updateLocusLabel(),this.updateUIWithGenomicStateListChange(this.genomicStateList),this.resize()},ck.prototype.emptyViewportContainers=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.trackViews[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.$outerScroll&&a.$outerScroll.remove();var o=!0,s=!1,c=void 0;try{for(var l,u=a.viewports[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;h.rulerSweeper&&h.rulerSweeper.$rulerSweeper.remove(),h.popover&&(h.popover.$popover.off(),h.popover.$popover.empty(),h.popover.$popover.remove()),h.$viewport.remove()}}catch(Bk){s=!0,c=Bk}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}delete a.viewports,a.viewports=[],delete a.scrollbar}}catch(Bk){t=!0,n=Bk}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.$contentHeader.empty()},ck.prototype.buildViewportsWithGenomicStateList=function(e){var t;t=this.viewportContainerWidth()/this.genomicStateList.length,this.trackViews.forEach(function(n){e.forEach(function(e){var r;r=new Dm(n,n.$viewportContainer,e,t),n.viewports.push(r)}),n.decorateViewports(),n.configureViewportContainer(n.$viewportContainer,n.viewports)})},ck.prototype.getViewportWithGUID=function(e){var t=void 0,n=!0,r=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=!0,l=!1,u=void 0;try{for(var h,f=s.viewports[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value;e===d.guid&&(t=d)}}catch(Bk){l=!0,u=Bk}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},ck.prototype.goto=function(e,t,n){return this.search(e+":"+t+"-"+n)},ck.prototype.search=(nk=Hn(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c,l,u,h,f,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(){return(p=Hn(regeneratorRuntime.mark(function e(t){var n,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w=function(e,t){var n,i,a,o,s;if(s={},n=e.split(":"),o=t.getChromosome(n[0])){if(s.chromosome=o,s.start=0,s.end=o.bpLength,1===n.length)return s;if(!((i=n[1].split("-")).length>2||(s.start=s.end=void 0,a=i[0].replace(/,/g,""),isNaN(a)||(s.start=parseInt(a,10)-1,isNaN(s.start))))){if(2===i.length){if(a=i[1].replace(/,/g,""),isNaN(a))return!1;s.end=parseInt(a,10)}return Ev(s.chromosome.bpLength,s,r.minimumBases()),s}}},_=function(e,t){var i;if(i="plain"===n.type?function(e){var t=[],n=[];return rv(e).forEach(function(e){""===e||t.push(e)}),t.forEach(function(e){var t,i,a,o,s=e.split("\t");s.length>=3&&(a=(i=s[1].split(":"))[1].split("-"),t=s[2].trim(),o={gene:s[0],chromosome:r.genome.getChromosomeName(i[0].trim()),start:parseInt(a[0].replace(/,/g,"")),end:parseInt(a[1].replace(/,/g,"")),type:"gtex"===t?"snp":"gene"},n.push(o))}),n}(e):JSON.parse(e),n.resultsField&&(i=i[n.resultsField]),i&&0!==i.length){var a=i[0];if(!a.hasOwnProperty(n.chromosomeField)||!a.hasOwnProperty(n.startField))return;var o=a[n.chromosomeField],s=a[n.startField]-n.coords,c=a[n.endField];void 0===c&&(c=s+1),r.flanking&&(s=Math.max(0,s-r.flanking),c+=r.flanking);var l=Object.assign({},a);return l.chromosome=r.genome.getChromosome(o),l.start=s,l.end=c,l.locusSearchString=t,l.selection=new Uw(a[n.geneField],a[n.snpField]),l}},b=function(){return(b=Hn(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n.url.replace("$FEATURE$",t.toUpperCase())).indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",r.genome.id?r.genome.id:"hg19")),e.next=4,om.loadString(i);case 4:return e.abrupt("return",{result:e.sent,locusSearchString:t});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)},y=function(e){return b.apply(this,arguments)},g=function(e){var t=r.viewportContainerWidth()/e.length;return e.forEach(function(e){e.referenceFrame=new ek(i,e.chromosome.name,e.start,e.end,(e.end-e.start)/t)}),e},n=r.searchConfig,a=[],o=!0,s=!1,c=void 0,e.prev=10,l=t[Symbol.iterator]();case 12:if(o=(u=l.next()).done){e.next=35;break}if(!(f=w(h=u.value,r.genome))){e.next=20;break}f.locusSearchString=h,a.push(f),e.next=31;break;case 20:if(!(d=r.featureDB[h.toUpperCase()])){e.next=26;break}(p=r.genome.getChromosome(d.chr))&&(Ev((f={chromosome:p,start:d.start,end:d.end,locusSearchString:h}).chromosome.bpLength,f,r.minimumBases()),a.push(f)),e.next=31;break;case 26:return e.next=28,y(h);case 28:(m=_((v=e.sent).result,v.locusSearchString))&&a.push(m);case 31:g(a);case 32:o=!0,e.next=12;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(10),s=!0,c=e.t0;case 41:e.prev=41,e.prev=42,o||null==l.return||l.return();case 44:if(e.prev=44,!s){e.next=47;break}throw c;case 47:return e.finish(44);case 48:return e.finish(41);case 49:return e.abrupt("return",a);case 50:case"end":return e.stop()}},e,null,[[10,37,41,49],[42,,44,48]])}))).apply(this,arguments)},d=function(e){return p.apply(this,arguments)},r=this,i=this.genome,(t&&"all"===t.trim().toLowerCase()||"*"===t)&&(t="all"),a=t.split(" "),e.next=8,d(a);case 8:if((o=e.sent)&&0!==o.length){e.next=13;break}return e.next=12,d([t]);case 12:o=e.sent;case 13:if(!(o.length>0)){e.next=38;break}for(this.emptyViewportContainers(),this.genomicStateList=o,this.buildViewportsWithGenomicStateList(o),s=!0,c=!1,l=void 0,e.prev=20,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)h.value.id=hv();e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),c=!0,l=e.t0;case 28:e.prev=28,e.prev=29,s||null==u.return||u.return();case 31:if(e.prev=31,!c){e.next=34;break}throw l;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=39;break;case 38:throw new Error("Unrecognized locus "+t);case 39:return this.ideoPanel&&(this.ideoPanel.discardPanels(),f=r.viewportContainerWidth()/o.length,this.ideoPanel.buildPanels(this.$contentHeader,f)),this.updateUIWithGenomicStateListChange(o),n||this.updateViews(),e.abrupt("return",o);case 43:case"end":return e.stop()}},e,this,[[20,24,28,36],[29,,31,35]])})),function(e,t){return nk.apply(this,arguments)}),ck.prototype.loadSampleInformation=(tk=Hn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,t instanceof File&&(n=t.name),"fam"!==n.substr(n.lastIndexOf(".")+1)){e.next=7;break}return e.next=6,Ww(t);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}},e,this)})),function(e){return tk.apply(this,arguments)}),ck.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},ck.prototype.un=function(e,t){if(this.eventHandlers[e]){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}},ck.prototype.off=function(e,t){if(e)if(t){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}else this.eventHandlers[e]=[];else this.eventHandlers={}},ck.prototype.fireEvent=function(e,t,n){var r,i=this.eventHandlers[e];if(void 0!==i&&0!==i.length)return r=n||window,i.map(function(e){return e.apply(r,t)})[0]},ck.prototype.dispose=function(){Ys(window).off(this.namespace),Ys(document).off(this.namespace),this.eventHandlers=void 0,this.trackViews.forEach(function(e){e.dispose()})},ck.prototype.toJSON=function(){var e,t;e={reference:this.genome.toJSON()};var n=[],r={};return this.trackViews[0].viewports.forEach(function(e){var t=e.genomicState,i=t.referenceFrame.showLocus(e.$viewport[0].clientWidth);n.push(i),t.selection&&(r[i]={gene:t.selection.gene,snp:t.selection.snp})}),e.locus=n,Object.getOwnPropertyNames(r).length>0&&(e.gtexSelections=r),t=[],this.trackViews.forEach(function(e){var n,r;(r="function"==typeof(n=e.track).getState?n.getState():n.config)&&(r.browser&&delete r.browser,r.order=n.order,t.push(r))}),e.tracks=t,e},ck.prototype.compressedSession=function(){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));var r=new Qp.RawDeflate(t).compress(),i=String.fromCharCode.apply(null,r);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))},ck.uncompressSession=function(e){var t;if(e.indexOf("/gzip;base64")>0){t=qv(e);var n="",r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)n+=String.fromCharCode(o.value)}catch(Bk){i=!0,a=Bk}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var t=atob(e),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var i=new Qp.RawInflate(n).decompress(),a="",o=!0,s=!1,c=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0)a+=String.fromCharCode(l.value)}catch(Bk){s=!0,c=Bk}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return a}(e.substring(5))},ck.prototype.sessionURL=function(){var e,t;return((t=(e=window.location.href.slice()).indexOf("?"))>0?e.substring(0,t):e)+"?sessionURL=data:"+this.compressedSession()},ck.prototype.presentAlert=function(e){this.alertDialog.present(e)},ck.prototype.mouseDownOnViewport=function(e,t){var n;n=lv(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,genomicState:t.genomicState,referenceFrame:t.genomicState.referenceFrame}},ck.prototype.cancelTrackPan=function(){var e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.genomicState.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))},ck.prototype.startTrackDrag=function(e){this.dragTrack=e},ck.prototype.updateTrackDrag=function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),i=this.trackViews;i[n]=t,i[r]=e;var a=this.trackViews[n].track.order;this.trackViews[r].track.order=a;var o=i.length,s=a;if(n<r)for(var c=n+1;c<o;c++){var l=i[c].track;if(!(l.order<=s))break;l.order=Math.min(Number.MAX_SAFE_INTEGER,s+1),s=l.order}else for(var u=n-1;u>0;u--){var h=i[u].track;if(!(h.order>=s))break;h.order=Math.max(-Number.MAX_SAFE_INTEGER,s-1),s=h.order}this.reorderTracks()}},ck.prototype.endTrackDrag=function(){this.dragTrack&&this.dragTrack.$trackDragScrim.hide(),this.dragTrack=void 0};var fk=function(e,t){this.$content=Ys('<div class="igv-windowsizepanel-content-div">'),e.append(this.$content),this.browser=t};fk.prototype.show=function(){this.$content.show()},fk.prototype.hide=function(){this.$content.hide()},fk.prototype.updateWithGenomicState=function(e){var t,n,r;this.$content.text((t=Math.round(this.browser.viewportWidth()*e.referenceFrame.bpPerPixel))>1e7?(n=" mb",r=t/1e6,Math.floor(r).toString()+n):t>1e4?(n=" kb",r=t/1e3,nv(Math.floor(r))+n):nv(t)+" bp")};var dk=function(e){var t,n,r=this;this.$container=Ys("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=Ys("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),sv(t,function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()}),this.$label=Ys("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Unlabeled"),this.$input_container=Ys("<div>",{class:"igv-generic-dialog-input"}),this.$container.append(this.$input_container),this.$input=Ys("<input>"),this.$input_container.append(this.$input),n=Ys("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=Ys("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ys("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()}),tf(this.$container.get(0),t.get(0)),this.$container.hide()};dk.prototype.configure=function(e){var t=this;this.$label.text(e.label),this.$input.val(e.input),this.$input.unbind(),this.$input.on("keyup",function(n){13===n.keyCode&&(e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide())}),this.$ok.unbind(),this.$ok.on("click",function(){e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()})},dk.prototype.present=function(e){var t,n;t=e.offset().top,n=Ys("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var pk=function(e,t){var n,r,i,a=this;this.browser=t,this.$container=Ys("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),n=Ys("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(n),sv(n,function(){a.$minimum_input.val(void 0),a.$maximum_input.val(void 0),a.$container.offset({left:0,top:0}),a.$container.hide()}),this.$minimum=Ys("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum),(i=Ys("<div>")).text("Minimum"),this.$minimum.append(i),this.$minimum_input=Ys("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=Ys("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum),(i=Ys("<div>")).text("Maximum"),this.$maximum.append(i),this.$maximum_input=Ys("<input>"),this.$maximum.append(this.$maximum_input),r=Ys("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=Ys("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ys("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){a.$minimum_input.val(void 0),a.$maximum_input.val(void 0),a.$container.offset({left:0,top:0}),a.$container.hide()}),tf(this.$container.get(0),n.get(0)),this.$container.hide()};function vk(e){var t,n;t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val()),isNaN(t)||isNaN(n)?this.browser.presentAlert("Must input numeric values",void 0):(!0===e.trackView.track.autoscale&&Ys("#datarange-autoscale").trigger("click"),e.trackView.setDataRange(t,n,!1)),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}pk.prototype.configure=function(e){var t,n,r,i=this;(t=e.trackView.dataRange())?(n=t.min,r=t.max):(n=0,r=100),this.$minimum_input.val(n),this.$maximum_input.val(r),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",function(t){13===t.keyCode&&vk.call(i,e)}),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",function(t){13===t.keyCode&&vk.call(i,e)}),this.$ok.unbind(),this.$ok.on("click",function(){vk.call(i,e)})},pk.prototype.present=function(e){var t,n;t=e.offset().top,n=Ys("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var mk=function(e){var t,n,r=this;this.$container=Ys("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=Ys("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),sv(t,function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()}),this.$label=Ys("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Remove track:"),this.$track_name=Ys("<div>",{class:"igv-generic-dialog-one-liner igv-ellipsis"}),this.$container.append(this.$track_name),n=Ys("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=Ys("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=Ys("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()}),tf(this.$container.get(0),t.get(0)),this.$container.hide()};mk.prototype.configure=function(e){var t=this;this.$track_name.text(e.name||"unnamed"),this.$ok.unbind(),this.$ok.on("click",function(){e.click(),t.$track_name.text(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()})},mk.prototype.present=function(e){var t,n;t=e.offset().top,n=Ys("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var gk=function(e){this.$container=Ys('<div class="igv-user-feedback">'),e.append(this.$container);var t=Ys("<div>");this.$container.append(t);var n=Ys("<div>");t.append(n);var r=Cf("exclamation-triangle","red");n.append(r);var i=Ys("<div>");t.append(i);var a=Cf("times-circle","grey");i.append(a);var o=Ys("<div>");this.$container.append(o);var s=Ys("<div>");o.append(s),s.text("i am user feedback"),i.click(function(){s.html(""),(void 0).$container.hide()})};gk.prototype.show=function(){this.$container.show()},gk.prototype.hide=function(){this.$container.hide()};var yk=function(e,t){var n=Ys('<div class="igv-nav-bar-button">');e.append(n),n.text("Save SVG"),n.on("click.svg-save-control",function(){t.renderSVG({})})},bk=function(e,t){var n;this.$zoomContainer=Ys('<div class="igv-zoom-widget">'),t.append(this.$zoomContainer),n=Ys("<div>"),this.$zoomContainer.append(n),n.append(Cf("minus-circle")),n.on("click",function(){e.zoomOut()}),n=Ys("<div>"),this.$zoomContainer.append(n),this.$slider=Ys('<input type="range"/>'),n.append(this.$slider),this.$slider.on("change",function(t){e.zoomWithRangePercentage(t.target.value/100)}),n=Ys("<div>"),this.$zoomContainer.append(n),n.append(Cf("plus-circle")),n.on("click",function(){e.zoomIn()}),this.currentChr=void 0;var r=this;e.on("locuschange",function(){e.updateZoomSlider(r.$slider)})};bk.prototype.hide=function(){this.$zoomContainer.hide()},bk.prototype.show=function(){this.$zoomContainer.show()},bk.prototype.hideSlider=function(){this.$slider.hide()},bk.prototype.showSlider=function(){this.$slider.show()};var _k=function(e,t){this.showAllChromosomes=e.config.showAllChromosomes,this.$container=Ys("<div>",{class:"igv-chromosome-select-widget-container"}),t.append(this.$container),this.$select=Ys("<select>",{name:"chromosome-select-widget"}),this.$container.append(this.$select),this.$select.on("change",function(){""!==Ys(this).val()&&(e.search(Ys(this).val()),Ys(this).blur())})};_k.prototype.update=function(e){this.$select.empty();var t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift(""));var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s,c=a.value;s=Ys("<option>",{value:c}),this.$select.append(s),s.text(c)}}catch(Bk){r=!0,i=Bk}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}};var wk=function(e,t){var n=this;this.browser=t,this.$button=Ys('<div class="igv-nav-bar-button">'),e.append(this.$button),this.$button.text("track labels"),this.$button.on("click",function(){!0===t.trackLabelsVisible?n.doHide():n.doShow()})};wk.prototype.doHide=function(){this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideTrackLabels()},wk.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showTrackLabels()},wk.prototype.setState=function(e){!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked")},wk.prototype.disable=function(){this.doHide(),this.$button.hide()},wk.prototype.enable=function(){this.$button.show()};var kk=function(e,t,n,r){var i=this;this.browser=r,this.$container=Ys('<div class="igv-center-guide igv-center-guide-thin">'),e.append(this.$container),!0===n.showCenterGuideButton&&(this.$centerGuideToggle=Ys('<div class="igv-nav-bar-button">'),t.append(this.$centerGuideToggle),this.$centerGuideToggle.text("center line"),this.$centerGuideToggle.on("click",function(){!0===r.isCenterGuideVisible?i.doHide():i.doShow()}))};kk.prototype.doHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCenterGuide()},kk.prototype.doShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"),this.browser.showCenterGuide()},kk.prototype.setState=function(e){this.$centerGuideToggle&&(!0===e?this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"):this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"))},kk.prototype.forcedHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.hide(),!0===this.browser.isCenterGuideVisible&&this.$container.hide()},kk.prototype.forcedShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.show(),!0===this.browser.isCenterGuideVisible&&this.$container.show()},kk.prototype.repaint=function(){var e,t,n,r,i,a,o;this.browser.genomicStateList&&(1/(o=this.browser.genomicStateList[0].referenceFrame).bpPerPixel>1?(e=this.browser.trackViews[0].$viewportContainer.position(),t=Math.round(this.browser.trackViews[0].$viewportContainer.width()/2),a=e.left+t,n=o.toPixels(1),r=Math.round(a-.5*n).toString()+"px",i=Math.round(n).toString()+"px",this.$container.css({left:r,width:i}),this.$container.removeClass("igv-center-guide-thin"),this.$container.addClass("igv-center-guide-wide")):(this.$container.css({left:"50%",width:"1px"}),this.$container.removeClass("igv-center-guide-wide"),this.$container.addClass("igv-center-guide-thin")))},kk.prototype.resize=function(){this.repaint()};var Sk=function(e,t,n,r){var i=this,a=this;this.browser=r,this.$guide=Ys('<div class="igv-cursor-tracking-guide">'),e.append(this.$guide),e.on("mousemove.cursor-guide",function(t){t.preventDefault();var n=Ys(document.elementFromPoint(t.clientX,t.clientY)),a=n.parent(),o=void 0;if(a.hasClass("igv-viewport-content-div")?o=a.parent():a.hasClass("igv-viewport-div")&&n.hasClass("igv-viewport-content-div")?o=a:a.hasClass("igv-viewport-container")&&n.hasClass("igv-viewport-div")&&(o=n),n.attr("class"),a.attr("class"),o){var s=xk(t,o,i.$guide,e,r);s&&i.customMouseHandler&&i.customMouseHandler({bp:s.bp,start:s.start,end:s.end,interpolant:s.interpolant})}}),!0===n.showCursorTrackingGuideButton&&(this.$button=Ys('<div class="igv-nav-bar-button">'),t.append(this.$button),this.$button.text("cursor guide"),this.$button.on("click",function(){!0===r.cursorGuideVisible?a.doHide():a.doShow()}))},xk=function(e,t,n,r,i){var a=Ck(r.get(0),e),o="".concat(a.x,"px");n.css({left:o});var s=Ck(t.get(0),e),c=t.data("viewportGUID"),l=i.getViewportWithGUID(c);if(void 0!==l){var u=l.genomicState.referenceFrame,h=u.start,f=1+u.start+s.width*u.bpPerPixel,d=Math.round(h+s.x*u.bpPerPixel),p=t.closest(".igv-track-container-div");return Ck(p.get(0),e),{$host:p,host_css_left:o,bp:d,start:h,end:f,interpolant:s.xNormalized}}};function Ck(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top,xNormalized:(t.clientX-n.left)/n.width,yNormalized:(t.clientY-n.top)/n.height,width:n.width,height:n.height}}Sk.prototype.doHide=function(){this.$button&&this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCursorGuide()},Sk.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showCursorGuide()},Sk.prototype.setState=function(e){this.$button&&(!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked"))},Sk.prototype.disable=function(){this.doHide(),this.$guide.hide()},Sk.prototype.enable=function(){this.$button&&this.$button.show()};var Ek=function(e){this.browser=e};function Rk(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),this.browser.zoomWidget.$zoomContainer.removeClass(),this.browser.zoomWidget.$zoomContainer.addClass(e.$zoomContainer)}function Ak(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.$zoomContainer="igv-zoom-widget-hidden"),n}Ek.prototype.navbarDidResize=function(e,t){Rk.call(this,Ak.call(this,e,t))};var Tk=[];function Ik(){return(Ik=Hn(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){return e.sessionURL?r.loadSession({url:e.sessionURL}):r.loadSessionObject(e)},Jv.init(Ys(t)),void 0===n&&(n={}),Rm.genomeList=n.genomeList||"https://s3.amazonaws.com/igv.org.genomes/genomes.json",Mk(n),!1!==n.queryParametersSupported&&Pk(n),Ok(n),Dk(r=new ck(n,t),n),r.userFeedback=new gk(r.$content),r.userFeedback.hide(),r.alertDialog=new Qv(r.$content),r.inputDialog=new dk(r.$root),r.trackRemovalDialog=new mk(r.$root),r.dataRangeDialog=new pk(r.$root,r),n.apiKey&&Pv.setApiKey(n.apiKey),n.oauthToken&&Fv.setToken(n.oauthToken),e.abrupt("return",i(n).then(function(e){!1===n.showTrackLabels?r.hideTrackLabels():(r.showTrackLabels(),r.trackLabelControl&&r.trackLabelControl.setState(r.trackLabelsVisible)),!1===n.showCursorTrackingGuide?r.cursorGuide.doHide():r.cursorGuide.doShow(),!1===n.showCenterGuide?r.centerGuide.doHide():r.centerGuide.doShow();var t=r.isMultiLocusWholeGenomeView()||Rm.isWholeGenomeView(r.genomicStateList[0].referenceFrame);return r.isMultiLocusMode()||t?r.centerGuide.forcedHide():r.centerGuide.forcedShow(),om.startup(),r.navbarManager.navbarDidResize(r.$navigation.width(),t),r}).then(function(e){return Tk.push(e),e}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ok(e){var t=1;e.tracks&&e.tracks.forEach(function(e){void 0===e.order&&(e.order=t++)})}function Dk(e,t){var n;n=t.createControls?t.createControls(e,t):function(e,t){var n,r,i,a,o,s,c,l,u,h,f;return u=Ys("<div>",{class:"igvControlDiv"}),h=Ys("<div>",{class:"igv-navbar"}),u.append(h),e.$navigation=h,e.navbarManager=new Ek(e),r=Ys("<div>",{class:"igv-nav-bar-left-container"}),h.append(r),c=Ys("<div>",{class:"igv-logo"}),(l=Ys('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')).css("width","34px"),l.css("height","32px"),c.append(l),r.append(c),e.$current_genome=Ys("<div>",{class:"igv-current-genome"}),r.append(e.$current_genome),e.$current_genome.text(""),a=Ys("<div>",{class:"igv-nav-bar-genomic-location"}),r.append(a),e.chromosomeSelectWidget=new _k(e,a),void 0===t.showChromosomeWidget&&(t.showChromosomeWidget=!0),!0===t.showChromosomeWidget?e.chromosomeSelectWidget.$container.show():e.chromosomeSelectWidget.$container.hide(),o=Ys("<div>",{class:"igv-locus-size-group"}),a.append(o),f=Ys("<div>",{class:"igv-search-container"}),o.append(f),e.$searchInput=Ys('<input type="text" placeholder="Locus Search">'),f.append(e.$searchInput),e.$searchInput.change(function(t){e.search(Ys(this).val()).catch(function(t){e.presentAlert(t)})}),n=Ys("<div>"),f.append(n),n.append(Cf("search")),n.click(function(){e.search(e.$searchInput.val())}),e.windowSizePanel=new fk(o,e),i=Ys('<div class="igv-nav-bar-right-container">'),h.append(i),s=Ys('<div class="igv-nav-bar-toggle-button-container">'),i.append(s),e.$toggle_button_container=s,e.cursorGuide=new Sk(e.$content,s,t,e),e.centerGuide=new kk(Ys(e.trackContainerDiv),s,t,e),!0===t.showTrackLabelButton&&(e.trackLabelControl=new wk(s,e)),t.showSVGButton&&(e.svgSaveControl=new yk(s,e)),e.zoomWidget=new bk(e,i),!1===t.showNavigation&&e.$navigation.hide(),u.get(0)}(e,t),Ys(n).insertBefore(e.$content),!1===t.showControls&&Ys(n).hide()}function Mk(e){void 0===e.promisified&&(e.promisified=!1),void 0===e.minimumBases&&(e.minimumBases=40),void 0===e.showIdeogram&&(e.showIdeogram=!0),void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0),void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0),void 0===e.showSVGButton&&(e.showSVGButton=!0),void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0),void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1),void 0===e.showCenterGuide&&(e.showCenterGuide=!1),void 0===e.showTrackLabels&&(e.showTrackLabels=!0),void 0===e.showControls&&(e.showControls=!0),void 0===e.showNavigation&&(e.showNavigation=!0),void 0===e.showRuler&&(e.showRuler=!0),void 0===e.showSequence&&(e.showSequence=!0),void 0===e.flanking&&(e.flanking=1e3),void 0===e.pairsSupported&&(e.pairsSupported=!0),e.tracks||(e.tracks=[]),e.showSequence&&e.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER})}function Pk(e){var t,n,r,i,a,o,s,c,l,u,h;if(a={},t=(s=window.location.href).indexOf("?"),n=s.lastIndexOf("#"),t>=0)for(n<0&&(n=s.length),r=t+1;r<n;)(i=s.indexOf("&",r))<0&&(i=n),2===(o=s.substring(r,i).split("=",2)).length&&(c=o[0],l=decodeURIComponent(o[1]),"file"===c?u=l.split(","):"index"===c?h=l.split(","):e[c]=l,r=i+1);if(u){e.tracks||(e.tracks=[]);for(var f=0;f<u.length;f++){if(u[f].endsWith(".xml")||u[f].endsWith(".json")){e.sessionURL=u[f];break}var d={url:u[f]};h&&h.length>f&&(d.indexURL=h[f]),e.tracks.push(d)}}return a}var Lk,Fk=om,Nk=ov,zk=Qm;return(Lk=document.createElement("style")).setAttribute("type","text/css"),Lk.innerHTML='.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-color-swatch {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-colorpicker-menu-close-button i.fa:hover,\n  .igv-colorpicker-menu-close-button i.fa:focus,\n  .igv-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-alert-dialog-container {\n  position: absolute;\n  z-index: 2048;\n  top: 30%;\n  left: 50%;\n  margin: -150px 0 0 -150px;\n  width: 300px;\n  height: 256px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-alert-dialog-container div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-alert-dialog-container div:first-child div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-alert-dialog-container div:first-child div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-alert-dialog-container #igv-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-alert-dialog-container #igv-alert-dialog-body #igv-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-alert-dialog-container div:last-child {\n    width: 100%;\n    height: 64px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-alert-dialog-container div:last-child div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-alert-dialog-container div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 128px;\n  z-index: 4096;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: none; }\n\n.igv-popover-header {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee; }\n  .igv-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-popover-track-popup-content {\n  position: relative;\n  top: 0;\n  left: 0;\n  max-height: 384px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: white; }\n  .igv-popover-track-popup-content div {\n    margin-left: 4px;\n    background-color: white; }\n  .igv-popover-track-popup-content div:hover {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-popover-name-value {\n  cursor: default;\n  text-wrap: none;\n  white-space: nowrap;\n  max-width: 384px; }\n\n.igv-popover-name {\n  font-weight: bold;\n  padding-right: 4px;\n  float: left; }\n\n.igv-popover-value {\n  padding-left: 4px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 256px;\n  display: inline-block; }\n\n.igv-trackgear-container {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-left: 4px;\n  color: #7F7F7F; }\n\n.igv-trackgear-container:hover {\n  cursor: pointer;\n  color: #444; }\n\n.igv-trackgear-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-trackgear-popover > div:not(:first-child) {\n    width: 100%; }\n    .igv-trackgear-popover > div:not(:first-child) > div {\n      background: white; }\n    .igv-trackgear-popover > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-trackgear-popover > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-trackgear-popover-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-trackgear-popover-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-trackgear-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-trackgear-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-trackgear-popover-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-trackgear-popover-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-trackgear-popover-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-trackgear-popover-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igvControlDiv {\n  position: relative; }\n\n.igv-content-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 10px;\n  height: 16px;\n  width: 100%; }\n  .igv-content-header .igv-ideogram-shim {\n    height: 100%;\n    width: 50px;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content {\n    height: 100%;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content-border-right {\n    border-right-color: #292929;\n    border-right-style: solid;\n    border-right-width: 1px; }\n\n.igv-multi-locus-panel-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 1px;\n  background-color: green;\n  border-right-color: #ff0000;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-navbar {\n  position: relative;\n  padding-left: 8px;\n  padding-right: 8px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  margin-top: 2px;\n  margin-bottom: 4px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n\n.igv-nav-bar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-left-container .igv-logo {\n    width: 34px;\n    height: 32px;\n    margin-top: 6px;\n    margin-right: 8px; }\n  .igv-nav-bar-left-container .igv-current-genome {\n    height: 32px;\n    width: 40px;\n    margin-left: 4px;\n    margin-right: 4px;\n    user-select: none;\n    line-height: 32px;\n    vertical-align: middle;\n    text-align: center; }\n\n.igv-nav-bar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%; }\n\n.igv-chromosome-select-widget-container {\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center; }\n  .igv-chromosome-select-widget-container select {\n    display: block;\n    cursor: pointer;\n    width: 100px;\n    height: 75%;\n    outline: none;\n    font-size: 12px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400; }\n\n.igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: calc(32px - 10px); }\n  .igv-locus-size-group .igv-search-container {\n    width: 200px;\n    height: calc(32px - 10px);\n    line-height: calc(32px - 10px);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-locus-size-group .igv-search-container input {\n      cursor: text;\n      width: 85%;\n      height: calc(32px - 10px);\n      line-height: calc(32px - 10px);\n      font-size: 12px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      text-align: left;\n      padding-left: 8px;\n      margin-right: 8px;\n      outline: none;\n      border-style: solid;\n      border-radius: 3px;\n      border-width: thin;\n      border-color: #bfbfbf;\n      background-color: white; }\n    .igv-locus-size-group .igv-search-container div {\n      cursor: pointer;\n      height: 16px;\n      width: 16px; }\n  .igv-locus-size-group .igv-windowsizepanel-content-div {\n    margin-left: 4px;\n    user-select: none; }\n\n.igv-nav-bar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div {\n      margin-left: 0;\n      margin-right: 4px; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div:last-child {\n      margin-left: 0;\n      margin-right: 0; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container-750 {\n    display: none; }\n  .igv-nav-bar-right-container .igv-zoom-widget {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:nth-child(even) {\n      display: block;\n      height: fit-content; }\n    .igv-nav-bar-right-container .igv-zoom-widget input {\n      display: block;\n      width: 125px; }\n    .igv-nav-bar-right-container .igv-zoom-widget svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-900 {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 input {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-hidden {\n    display: none; }\n\n.igv-nav-bar-button {\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-nav-bar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-nav-bar-button:hover {\n  cursor: pointer; }\n\n.igv-logo-nonav {\n  margin-left: 4px;\n  margin-top: 12px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 34px;\n  height: 16px; }\n\n.igv-search-results {\n  position: absolute;\n  top: 32px;\n  left: 2px;\n  height: 320px;\n  width: 213px;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  overflow-x: hidden;\n  overflow-y: auto;\n  z-index: 9999; }\n  .igv-search-results tr {\n    font-family: "Open Sans", sans-serif;\n    font-size: small;\n    font-weight: 400;\n    color: #444; }\n  .igv-search-results tr:hover,\n  .igv-search-results tr:focus,\n  .igv-search-results tr:active {\n    cursor: pointer;\n    font-weight: 700;\n    color: #141414; }\n\n.igv-root-div {\n  position: relative;\n  left: 0;\n  right: 0;\n  height: auto;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 4px; }\n\n.igv-content-div {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.igv-track-container-div {\n  user-select: none;\n  position: relative;\n  clear: both; }\n\n.igv-track-div {\n  position: relative;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.igv-viewport-container {\n  position: absolute;\n  left: 50px;\n  right: 50px;\n  height: 100%;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-div {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content-div {\n  position: absolute;\n  width: 100%; }\n\n.igv-viewport-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgba(0, 0, 0, 0.15);\n  font-family: "Open Sans", sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  user-select: none; }\n\n.igv-whole-genome-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  background-color: white; }\n  .igv-whole-genome-container div {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    font-weight: 400;\n    color: #444;\n    height: 100%;\n    text-align: center;\n    border-right-color: #bfbfbf;\n    border-right-style: solid;\n    border-right-width: thin; }\n    .igv-whole-genome-container div span {\n      display: block;\n      padding-top: 6px;\n      text-overflow: ellipsis; }\n  .igv-whole-genome-container div:last-child {\n    border-right-color: transparent; }\n  .igv-whole-genome-container div:hover,\n  .igv-whole-genome-container div:focus,\n  .igv-whole-genome-container div:active {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-viewport-div-border-right {\n  border-right-color: #292929;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-multi-locus-panel-close-container {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  color: #666666;\n  z-index: 1000; }\n\n.igv-multi-locus-panel-close-container:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-panel-label-div {\n  position: absolute;\n  left: 50%;\n  top: 25%;\n  transform: translate(-50%, -25%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  min-width: 16px;\n  z-index: 64;\n  color: #373737;\n  background-color: white;\n  padding: 1px; }\n\n.igv-multi-locus-panel-label-div:hover {\n  cursor: pointer; }\n\n.igv-viewport-ruler {\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: 10px;\n  font-weight: 200;\n  text-align: center; }\n  .igv-viewport-ruler > div {\n    height: 100%; }\n\n.igv-viewport-sequence {\n  font-family: "Open Sans", sans-serif;\n  font-size: 8px;\n  font-weight: 200;\n  text-align: center; }\n\n.igv-viewport-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-track-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-ruler-sweeper-div {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-right-hand-gutter {\n  position: absolute;\n  right: 0;\n  width: 36px;\n  height: 100%;\n  background: white; }\n\n.igv-left-hand-gutter {\n  position: absolute;\n  left: 0;\n  width: 50px;\n  height: 100%; }\n  .igv-left-hand-gutter canvas {\n    position: absolute; }\n\n.igv-track-menu-border-top {\n  border-top-color: #a2a2a2;\n  border-top-style: solid;\n  border-top-width: thin; }\n\n.igv-track-menu-category {\n  padding-left: 4px;\n  font-weight: 400; }\n\n.igv-track-drag-scrim {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 256;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-track-manipulation-handle {\n  cursor: pointer;\n  position: absolute;\n  right: 36px;\n  width: 12px;\n  margin-left: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  font-size: medium;\n  border-color: #c4c4c4;\n  border-style: solid;\n  border-width: thin;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  z-index: 512;\n  background-color: #c4c4c4; }\n\n.igv-track-manipulation-handle:hover,\n.igv-track-manipulation-handle:focus,\n.igv-track-manipulation-handle:active {\n  border-color: #7e7e7e;\n  background-color: #7e7e7e; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 4px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: rgba(0, 0, 0, 0.05); }\n\n.igv-scrollbar-outer-div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 100%;\n  background-color: white; }\n  .igv-scrollbar-outer-div div {\n    position: absolute;\n    top: 0;\n    left: 3px;\n    width: 8px;\n    border-style: solid;\n    border-width: thin;\n    border-color: #c4c4c4;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white; }\n  .igv-scrollbar-outer-div div:hover,\n  .igv-scrollbar-outer-div div:focus,\n  .igv-scrollbar-outer-div div:active {\n    cursor: pointer;\n    background-color: #c4c4c4; }\n\n.zoom-in-notice-container {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .zoom-in-notice-container div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-center-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 8px;\n  z-index: 8;\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-guide-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-guide-thin {\n  left: 50%;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n  /*background-color: rgba(127, 127, 127, 0.51);*/\n  /*border-left-color: rgba(0,0,0,0);*/\n  /*border-right-color: rgba(0,0,0,0);*/ }\n\n.igv-cursor-tracking-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none; }\n\n.igv-clickable {\n  cursor: pointer;\n  background-color: white; }\n\n#color-by-tag {\n  color: #444; }\n\n#color-by-tag:hover,\n#color-by-tag:focus,\n#color-by-tag:active {\n  cursor: pointer;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: white;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: #7f7f7f; }\n\n.igv-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.igv-spinner-container {\n  color: #3f3f3f;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding-top: 8px;\n  font-size: 24px;\n  z-index: 512; }\n\n.igv-fa-check-visible {\n  color: inherit;\n  padding-right: 2px; }\n\n.igv-fa-check-hidden {\n  color: transparent;\n  padding-right: 2px; }\n\n.validateTips {\n  border: 1px solid transparent;\n  padding: 0.3em; }\n  .validateTips fieldset {\n    border: 0; }\n\n.igv-spacer-10 {\n  height: 10px;\n  width: 100%;\n  font-size: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  display: block; }\n\n.igv-fa5-spin {\n  -webkit-animation: igv-fa5-spin 2s infinite linear;\n  animation: igv-fa5-spin 2s infinite linear; }\n\n@-webkit-keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*# sourceMappingURL=igv.css.map */\n',document.head.insertBefore(Lk,document.head.childNodes[document.head.childNodes.length-1]),{createBrowser:function(e,t){return Ik.apply(this,arguments)},removeBrowser:function(e){e.dispose(),e.$root.remove(),Tk=Tk.filter(function(t){return t!==e}),"undefined"!=typeof igv&&e===igv.browser&&(igv.browser=void 0)},visibilityChange:function(){Tk.forEach(function(e){e.visibilityChange()})},setGoogleOauthToken:function(e){return Fv.setToken(e)},oauth:Fv,version:function(){return"2.5.2"},download:xv,getBrowser:function(){return Tk[0]},doAutoscale:Cv,graphics:zk,createTrack:function(e,t){return ck.prototype.createTrack.call(t,e)},getFilename:Hv,getExtension:function(e){if(void 0!==e.url){var t=($v(e.url)?e.url.name:e.url).toLowerCase(),n=t.indexOf("?");return n>0&&(t=t.substr(0,n)),t.endsWith(".gz")?t=t.substr(0,t.length-3):(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),(n=t.lastIndexOf("."))<0?t:t.substr(1+n)}},isFilePath:$v,inferFileFormat:Rg,inferTrackTypes:Eg,knownFileExtensions:Cg,appendRightHandGutter:function(e){lg.prototype.appendRightHandGutter.call(this,e)},attachDialogCloseHandlerWithParent:sv,guid:hv,pageCoordinates:lv,translateMouseCoordinates:uv,createIcon:Cf,GtexUtils:Sb,xhr:Fk,Color:Nk,splitLines:rv,isString:tv,numberFormatter:nv,getDataWrapper:wg,setApiKey:function(e){return Pv.setApiKey(e)},createColorSwatchSelector:cv,makeDraggable:tf,GenericContainer:cg,Popover:dv,AlertDialog:Qv,InputDialog:dk,TrackRemovalDialog:mk,DataRangeDialog:pk,MenuUtils:yf,Alert:Jv,google:Pv}},e.exports=r()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},kdvv:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var r=n("9/Zf"),i=n("+A1k"),a={nowSeconds:function(){return Date.now()/1e3}},o=Object(i.b)()?function(){try{return Object(i.a)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=Object(r.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===o?a:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},c=a.nowSeconds.bind(a),l=s.nowSeconds.bind(s),u=function(){var e=Object(r.e)().performance;if(e)return e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()}).call(this,n("3UD+")(e))},pRiV:function(e,t,n){"use strict";function r(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(t){return"<anonymous>"}}n.d(t,"a",function(){return r})},vFt6:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("9AQC");function i(e){try{for(var t=e,n=[],r=0,i=0,o=" > ".length,s=void 0;t&&r++<5&&!("html"===(s=a(t))||r>1&&i+n.length*o+s.length>=80);)n.push(s),i+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(c){return"<unknown>"}}function a(e){var t,n,i,a,o,s=e,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(t=s.className)&&Object(r.k)(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)c.push("."+n[o]);var l=["type","name","title","alt"];for(o=0;o<l.length;o++)(a=s.getAttribute(i=l[o]))&&c.push("["+i+'="'+a+'"]');return c.join("")}},zR2W:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=n("+A1k"),i=n("8LbN"),a=n("6PXS"),o=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var o;try{o=Object(r.a)(e,"mysql/lib/Connection.js")}catch(s){return void i.a.error("Mysql Integration was unable to require `mysql` package.")}Object(a.c)(o.prototype,"query",function(e){return function(t,r,i){var a,o,s=null===(o=null===(a=n().getScope())||void 0===a?void 0:a.getSpan())||void 0===o?void 0:o.startChild({description:"string"==typeof t?t:t.sql,op:"db"});return"function"==typeof i?e.call(this,t,r,function(e,t,n){var r;null===(r=s)||void 0===r||r.finish(),i(e,t,n)}):"function"==typeof r?e.call(this,t,function(e,t,n){var i;null===(i=s)||void 0===i||i.finish(),r(e,t,n)}):e.call(this,t,r,i)}})},t.id="Mysql",t}()}).call(this,n("3UD+")(e))},zUnb:function(r,i,l){"use strict";l.r(i);var d={};l.r(d),l.d(d,"FunctionToString",function(){return Km}),l.d(d,"InboundFilters",function(){return _g});var m={};function y(e){return"function"==typeof e}l.r(m),l.d(m,"Express",function(){return wS}),l.d(m,"Postgres",function(){return CS.a}),l.d(m,"Mysql",function(){return ES.a}),l.d(m,"Mongo",function(){return RS.a});var b=!1,_={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=e},get useDeprecatedSynchronousErrorHandling(){return b}};function w(e){setTimeout(function(){throw e},0)}var k={closed:!0,next:function(e){},error:function(e){if(_.useDeprecatedSynchronousErrorHandling)throw e;w(e)},complete:function(){}},S=Array.isArray||function(e){return e&&"number"==typeof e.length};function x(e){return null!==e&&"object"==typeof e}var C,E=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),R=((C=function(){function e(t){v(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return g(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(y(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(u){t=u instanceof E?A(u.errors):[u]}}if(S(a))for(var s=-1,c=a.length;++s<c;){var l=a[s];if(x(l))try{l.unsubscribe()}catch(u){t=t||[],u instanceof E?t=t.concat(A(u.errors)):t.push(u)}}if(t)throw new E(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new C),C);function A(e){return e.reduce(function(e,t){return e.concat(t instanceof E?t.errors:t)},[])}var T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),I=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;switch(v(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=k;break;case 1:if(!e){a.destination=k;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(f(a))):(a.syncErrorThrowable=!0,a.destination=new O(f(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new O(f(a),e,r,i)}return a}return g(n,[{key:T,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,s(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(R),O=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o,s;v(this,n),(o=t.call(this))._parentSubscriber=e;var c=f(o);return y(r)?s=r:r&&(s=r.next,i=r.error,a=r.complete,r!==k&&(y((c=Object.create(r)).unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(f(o)))),o._context=c,o._next=s,o._error=i,o._complete=a,o}return g(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;_.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=_.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):w(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;w(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};_.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),_.useDeprecatedSynchronousErrorHandling)throw n;w(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!_.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return _.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(w(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(I),D="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(e){return e}var P,L=((P=function(){function e(t){v(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return g(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof I)return e;if(e[T])return e[T]()}return e||t||n?new I(e,t,n):new I(k)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||_.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),_.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){_.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof I?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=F(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:D,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(r=t).length?M:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=F(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}()).create=function(e){return new P(e)},P);function F(e){if(e||(e=_.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var N,z=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),j=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(R),B=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).destination=e,r}return n}(I),V=((N=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return g(n,[{key:T,value:function(){return new B(this)}},{key:"lift",value:function(e){var t=new U(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new z;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new z;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new z;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new z;return s(p(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new z;return this.hasError?(e.error(this.thrownError),R.EMPTY):this.isStopped?(e.complete(),R.EMPTY):(this.observers.push(e),new j(this,e))}},{key:"asObservable",value:function(){var e=new L;return e.source=this,e}}]),n}(L)).create=function(e,t){return new U(e,t)},N),U=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).destination=e,i.source=r,i}return g(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):R.EMPTY}}]),n}(V);function H(e){return e&&"function"==typeof e.schedule}function q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new G(e,t))}}var G=function(){function e(t,n){v(this,e),this.project=t,this.thisArg=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new W(e,this.project,this.thisArg))}}]),e}(),W=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=i||f(a),a}return g(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(I),Y=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",X=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function K(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Q=function(e){if(e&&"function"==typeof e[D])return r=e,function(e){var t=r[D]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(X(e))return Y(e);if(K(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,w),e};if(e&&"function"==typeof e[Z])return t=e,function(e){for(var n=t[Z]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,r,i=x(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function J(e,t){return new L(function(n){var r=new R,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function ee(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[D]}(e))return function(e,t){return new L(function(n){var r=new R;return r.add(t.schedule(function(){var i=e[D]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(K(e))return function(e,t){return new L(function(n){var r=new R;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(X(e))return J(e,t);if(function(e){return e&&"function"==typeof e[Z]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(function(n){var r,i=new R;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[Z](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof L?e:new L(Q(e))}var te=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this)).parent=e,r}return g(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(I),ne=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(I);function re(e,t){if(!t.closed)return e instanceof L?e.subscribe(t):Q(e)(t)}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(ie(function(n,r){return ee(e(n,r)).pipe(q(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ae(e,n))})}var ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,e),this.project=t,this.concurrent=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e,this.project,this.concurrent))}}]),e}(),oe=function(e){c(n,e);var t=u(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=t.call(this,e)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return g(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new te(this),n=this.destination;n.add(t);var r=re(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(ne);function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return ie(M,e)}function ce(e,t){return t?J(e,t):new L(Y(e))}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,a=t[t.length-1];return H(a)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof a&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof L?t[0]:se(r)(ce(t,i))}function ue(){return function(e){return e.lift(new fe(e))}}var he,fe=function(){function e(t){v(this,e),this.connectable=t}return g(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new de(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),de=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).connectable=r,i}return g(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(I),pe=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return g(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new R).add(this.source.subscribe(new me(this.getSubject(),this))),e.closed&&(this._connection=null,e=R.EMPTY)),e}},{key:"refCount",value:function(){return ue()(this)}}]),n}(L),ve={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(he=pe.prototype)._subscribe},_isComplete:{value:he._isComplete,writable:!0},getSubject:{value:he.getSubject},connect:{value:he.connect},refCount:{value:he.refCount}},me=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).connectable=r,i}return g(n,[{key:"_error",value:function(e){this._unsubscribe(),s(p(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),s(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(B);function ge(){return new V}function ye(){return function(e){return ue()((t=ge,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,ve);return r.source=e,r.subjectFactory=n,r})(e));var t}}function be(e){for(var t in e)if(e[t]===be)return t;throw Error("Could not find renamed property on target object.")}function _e(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ke(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Se=be({__forward_ref__:be});function xe(e){return e.__forward_ref__=xe,e.toString=function(){return we(this())},e}function Ce(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===xe}var Re=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return n}(a(Error));function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function Te(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}function Ie(e,t){var n=t?" in ".concat(t):"";throw new Re("201","No provider for ".concat(Te(e)," found").concat(n))}function Oe(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(t," <=Actual]")))}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Me(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pe(e){return Le(e,ze)||Le(e,Be)}function Le(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fe(e){return e&&(e.hasOwnProperty(je)||e.hasOwnProperty(Ve))?e[je]:null}var Ne,ze=be({"\u0275prov":be}),je=be({"\u0275inj":be}),Be=be({ngInjectableDef:be}),Ve=be({ngInjectorDef:be}),Ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function He(e){var t=Ne;return Ne=e,t}function $e(e,t,n){var r=Pe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ue.Optional?null:void 0!==t?t:void Ie(we(e),"Injector")}function qe(e){return{toString:e}.toString()}var Ge=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),We=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Ye="undefined"!=typeof globalThis&&globalThis,Ze="undefined"!=typeof window&&window,Xe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ke="undefined"!=typeof global&&global,Qe=Ye||Ke||Ze||Xe,Je={},et=[],tt=[],nt=be({"\u0275cmp":be}),rt=be({"\u0275dir":be}),it=be({"\u0275pipe":be}),at=be({"\u0275mod":be}),ot=be({"\u0275loc":be}),st=be({"\u0275fac":be}),ct=be({__NG_ELEMENT_ID__:be}),lt=0;function ut(e){return qe(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||tt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||We.Emulated,id:"c",styles:e.styles||tt,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,a=e.pipes;return n.id+=lt++,n.inputs=gt(e.inputs,t),n.outputs=gt(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ft)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(dt)}:null,n})}function ht(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(ft)},r.pipeDefs=function(){return n.map(dt)}}function ft(e){return _t(e)||wt(e)}function dt(e){return function(e){return e[it]||null}(e)}var pt={};function vt(e){var t={type:e.type,bootstrap:e.bootstrap||tt,declarations:e.declarations||tt,imports:e.imports||tt,exports:e.exports||tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&qe(function(){pt[e.id]=e.type}),t}function mt(e,t){return qe(function(){var n=kt(e,!0);n.declarations=t.declarations||tt,n.imports=t.imports||tt,n.exports=t.exports||tt})}function gt(e,t){if(null==e)return Je;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var yt=ut;function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function _t(e){return e[nt]||null}function wt(e){return e[rt]||null}function kt(e,t){var n=e[at]||null;if(!n&&!0===t)throw new Error("Type ".concat(we(e)," does not have '\u0275mod' property."));return n}function St(e){return Array.isArray(e)&&"object"==typeof e[1]}function xt(e){return Array.isArray(e)&&!0===e[1]}function Ct(e){return 0!=(8&e.flags)}function Et(e){return 2==(2&e.flags)}function Rt(e){return 1==(1&e.flags)}function At(e){return null!==e.template}function Tt(e,t){return e.hasOwnProperty(st)?e[st]:null}var It,Ot=function(){function e(t,n,r){v(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return g(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Dt(){return Mt}function Mt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Lt),Pt}function Pt(){var e=Ft(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Je)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Lt(e,t,n,r){var i=Ft(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Je,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],c=o[s];a[s]=new Ot(c&&c.currentValue,t,o===Je),e[r]=t}function Ft(e){return e.__ngSimpleChanges__||null}function Nt(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function zt(e){return!!e.listen}Dt.ngInherit=!0;var jt={createRenderer:function(e,t){return Nt()}};function Bt(e){for(;Array.isArray(e);)e=e[0];return e}function Vt(e,t){return Bt(t[e])}function Ut(e,t){return Bt(t[e.index])}function Ht(e,t){return e.data[t]}function $t(e,t){return e[t]}function qt(e,t){var n=t[e];return St(n)?n:n[0]}function Gt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Wt(e){return 4==(4&e[2])}function Yt(e){return 128==(128&e[2])}function Zt(e,t){return null==t?null:e[t]}function Xt(e){e[18]=0}function Kt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qt={lFrame:An(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jt(){return Qt.bindingsEnabled}function en(){Qt.bindingsEnabled=!0}function tn(){Qt.bindingsEnabled=!1}function nn(){return Qt.lFrame.lView}function rn(){return Qt.lFrame.tView}function an(e){Qt.lFrame.contextLView=e}function on(){for(var e=sn();null!==e&&64===e.type;)e=e.parent;return e}function sn(){return Qt.lFrame.currentTNode}function cn(){var e=Qt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ln(e,t){var n=Qt.lFrame;n.currentTNode=e,n.isParent=t}function un(){return Qt.lFrame.isParent}function hn(){Qt.lFrame.isParent=!1}function fn(){return Qt.isInCheckNoChangesMode}function dn(e){Qt.isInCheckNoChangesMode=e}function pn(){var e=Qt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function vn(){return Qt.lFrame.bindingIndex}function mn(e){return Qt.lFrame.bindingIndex=e}function gn(){return Qt.lFrame.bindingIndex++}function yn(e){var t=Qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function bn(e){Qt.lFrame.inI18n=e}function _n(e){Qt.lFrame.currentDirectiveIndex=e}function wn(e){var t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function kn(){return Qt.lFrame.currentQueryIndex}function Sn(e){Qt.lFrame.currentQueryIndex=e}function xn(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Cn(e,t,n){if(n&Ue.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&Ue.Host||(r=xn(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var a=Qt.lFrame=Rn();return a.currentTNode=t,a.lView=e,!0}function En(e){var t=Rn(),n=e[1];Qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Rn(){var e=Qt.lFrame,t=null===e?null:e.child;return null===t?An(e):t}function An(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tn(){var e=Qt.lFrame;return Qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var In=Tn;function On(){var e=Tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dn(){return Qt.lFrame.selectedIndex}function Mn(e){Qt.lFrame.selectedIndex=e}function Pn(){var e=Qt.lFrame;return Ht(e.tView,e.selectedIndex)}function Ln(){Qt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Fn(){Qt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function Nn(){Qt.lFrame.currentNamespace=null}function zn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,a=i.ngAfterContentInit,o=i.ngAfterContentChecked,s=i.ngAfterViewInit,c=i.ngAfterViewChecked,l=i.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function jn(e,t,n){Un(e,t,3,n)}function Bn(e,t,n,r){(3&e[2])===n&&Un(e,t,n,r)}function Vn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Un(e,t,n,r){for(var i=null!=r?r:-1,a=t.length-1,o=0,s=void 0!==r?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(Hn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Hn(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var $n=function e(t,n,r){v(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function qn(e,t,n){for(var r=zt(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var o=n[i++],s=n[i++],c=n[i++];r?e.setAttribute(t,s,c,o):t.setAttributeNS(o,s,c)}else{var l=a,u=n[++i];Wn(l)?r&&e.setProperty(t,l,u):r?e.setAttribute(t,l,u):t.setAttribute(l,u),i++}}return i}function Gn(e){return 3===e||4===e||6===e}function Wn(e){return 64===e.charCodeAt(0)}function Yn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Zn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Zn(e,t,n,r,i){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var c=e[a];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function Xn(e){return-1!==e}function Kn(e){return 32767&e}function Qn(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Jn=!0;function er(e){var t=Jn;return Jn=e,t}var tr=0;function nr(e,t){var n=ir(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,rr(r.data,e),rr(t,null),rr(r.blueprint,null));var i=ar(e,t),a=e.injectorIndex;if(Xn(i))for(var o=Kn(i),s=Qn(i,t),c=s[1].data,l=0;l<8;l++)t[a+l]=s[o+l]|c[o+l];return t[a+8]=i,a}function rr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ir(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ar(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var a=i[1],o=a.type;if(null===(r=2===o?a.declTNode:1===o?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function or(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=tr++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function sr(e,t,n){if(n&Ue.Optional)return e;Ie(t,"NodeInjector")}function cr(e,t,n,r){if(n&Ue.Optional&&void 0===r&&(r=null),0==(n&(Ue.Self|Ue.Host))){var i=e[9],a=He(void 0);try{return i?i.get(t,r,n&Ue.Optional):$e(t,r,n&Ue.Optional)}finally{He(a)}}return sr(r,t,n)}function lr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ue.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ct)?e[ct]:void 0;return"number"==typeof t?t>=0?255&t:hr:t}(n);if("function"==typeof a){if(!Cn(t,e,r))return r&Ue.Host?sr(i,n,r):cr(t,n,r,i);try{var o=a();if(null!=o||r&Ue.Optional)return o;Ie(n)}finally{In()}}else if("number"==typeof a){var s=null,c=ir(e,t),l=-1,u=r&Ue.Host?t[16][6]:null;for((-1===c||r&Ue.SkipSelf)&&(-1!==(l=-1===c?ar(e,t):t[c+8])&&mr(r,!1)?(s=t[1],c=Kn(l),t=Qn(l,t)):c=-1);-1!==c;){var h=t[1];if(vr(a,c,h.data)){var f=fr(c,t,n,s,r,u);if(f!==ur)return f}-1!==(l=t[c+8])&&mr(r,t[1].data[c+8]===u)&&vr(a,c,t)?(s=h,c=Kn(l),t=Qn(l,t)):c=-1}}}return cr(t,n,r,i)}var ur={};function hr(){return new gr(on(),nn())}function fr(e,t,n,r,i,a){var o=t[1],s=o.data[e+8],c=dr(s,o,n,null==r?Et(s)&&Jn:r!=o&&0!=(3&s.type),i&Ue.Host&&a===s);return null!==c?pr(t,o,c,s):ur}function dr(e,t,n,r,i){for(var a=e.providerIndexes,o=t.data,s=1048575&a,c=e.directiveStart,l=a>>20,u=i?s+l:e.directiveEnd,h=r?s:s+l;h<u;h++){var f=o[h];if(h<c&&n===f||h>=c&&f.type===n)return h}if(i){var d=o[c];if(d&&At(d)&&d.type===n)return c}return null}function pr(e,t,n,r){var i=e[n],a=t.data;if(i instanceof $n){var o=i;o.resolving&&function(e,t){throw new Re("200","Circular dependency in DI detected for ".concat(e))}(Te(a[n]));var s=er(o.canSeeViewProviders);o.resolving=!0;var c=o.injectImpl?He(o.injectImpl):null;Cn(e,r,Ue.Default);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,a=r.ngOnInit,o=r.ngDoCheck;if(i){var s=Mt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,a[n],t)}finally{null!==c&&He(c),er(s),o.resolving=!1,In()}}return i}function vr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function mr(e,t){return!(e&Ue.Self||e&Ue.Host&&t)}var gr=function(){function e(t,n){v(this,e),this._tNode=t,this._lView=n}return g(e,[{key:"get",value:function(e,t){return lr(this._tNode,this._lView,e,void 0,t)}}]),e}();function yr(e){return qe(function(){for(var t=e.prototype.constructor,n=t[st]||br(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[st]||br(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function br(e){return Ee(e)?function(){var t=br(Ce(e));return t&&t()}:Tt(e)}function _r(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var a=n[i];if(Gn(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}return null}(on(),e)}var wr="__annotations__",kr="__parameters__",Sr="__prop__metadata__";function xr(e,t,n,r,i){return qe(function(){var a=Cr(t);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof s)return a.call.apply(a,[this].concat(t)),this;var c=o(s,t);return function(e){return i&&i.apply(void 0,[e].concat(t)),(e.hasOwnProperty(wr)?e[wr]:Object.defineProperty(e,wr,{value:[]})[wr]).push(c),r&&r(e),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Cr(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function Er(e,t,n){return qe(function(){var r=Cr(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=o(i,t);return s.annotation=a,s;function s(e,t,n){for(var r=e.hasOwnProperty(kr)?e[kr]:Object.defineProperty(e,kr,{value:[]})[kr];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Rr=Er("Attribute",function(e){return{attributeName:e,__NG_ELEMENT_ID__:function(){return _r(e)}}}),Ar=function(){function e(t,n){v(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Tr=new Ar("AnalyzeForEntryComponents"),Ir=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function Or(){var e=Qe.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var Dr=Function;function Mr(e){return"function"==typeof e}function Pr(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Pr(r,t)):t!==e&&t.push(r)}return t}function Lr(e,t){e.forEach(function(e){return Array.isArray(e)?Lr(e,t):t(e)})}function Fr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zr(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function jr(e,t,n){var r=Vr(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Br(e,t){var n=Vr(e,t);if(n>=0)return e[1|n]}function Vr(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var a=r+(i-r>>1),o=e[a<<1];if(t===o)return a<<1;o>t?i=a:r=a+1}return~(i<<1)}(e,t)}var Ur=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Hr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,$r=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,qr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,Gr=function(){function e(t){v(this,e),this._reflect=t||Qe.Reflect}return g(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=zr(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Ur.test(n)||qr.test(n)||Hr.test(n)&&!$r.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,a=i.map(function(e){return e&&e.type}),o=i.map(function(e){return e&&Wr(e.decorators)});return this._zipTypesAndAnnotations(a,o)}var s=e.hasOwnProperty(kr)&&e[kr],c=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return c||s?this._zipTypesAndAnnotations(c,s):zr(e.length)}},{key:"parameters",value:function(e){if(!Mr(e))return[];var t=Yr(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?Wr(e.decorators):e.hasOwnProperty(wr)?e[wr]:null}},{key:"annotations",value:function(e){if(!Mr(e))return[];var t=Yr(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach(function(e){i[e]=Wr(r[e])}),i}return e.hasOwnProperty(Sr)?e[Sr]:null}},{key:"propMetadata",value:function(e){if(!Mr(e))return{};var t=Yr(e),r={};if(t!==Object){var i=this.propMetadata(t);Object.keys(i).forEach(function(e){r[e]=i[e]})}var a=this._ownPropMetadata(e,t);return a&&Object.keys(a).forEach(function(e){var t=[];r.hasOwnProperty(e)&&t.push.apply(t,n(r[e])),t.push.apply(t,n(a[e])),r[e]=t}),r}},{key:"ownPropMetadata",value:function(e){return Mr(e)&&this._ownPropMetadata(e,Yr(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Dr&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(we(e))}},{key:"resourceUri",value:function(e){return"./".concat(we(e))}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function Wr(e){return e?e.map(function(e){return o(e.type.annotationCls,n(e.args?e.args:[]))}):[]}function Yr(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var Zr,Xr={},Kr=/\n/gm,Qr=be({provide:String,useValue:be});function Jr(e){var t=Zr;return Zr=e,t}function ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default;if(void 0===Zr)throw new Error("inject() must be called from an injection context");return null===Zr?$e(e,void 0,t):Zr.get(e,t&Ue.Optional?null:void 0,t)}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default;return(Ne||ei)(Ce(e),t)}function ni(e){throw new Error("invalid")}var ri=ti;function ii(e){for(var t=[],n=0;n<e.length;n++){var r=Ce(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Ue.Default,o=0;o<r.length;o++){var s=r[o],c=s.__NG_DI_FLAG__;"number"==typeof c?-1===c?i=s.token:a|=c:i=s}t.push(ti(i,a))}else t.push(ti(r))}return t}function ai(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var oi,si,ci=ai(Er("Inject",function(e){return{token:e}}),-1),li=ai(Er("Optional"),8),ui=ai(Er("Self"),2),hi=ai(Er("SkipSelf"),4),fi=ai(Er("Host"),1),di=null;function pi(){return di=di||new Gr}function vi(e){return mi(pi().parameters(e))}function mi(e){var t=Or();return e.map(function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var i=0;i<t.length;i++){var a=t[i];if(void 0!==a){var o=Object.getPrototypeOf(a);if(a instanceof li||"Optional"===o.ngMetadataName)n.optional=!0;else if(a instanceof hi||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(a instanceof ui||"Self"===o.ngMetadataName)n.self=!0;else if(a instanceof fi||"Host"===o.ngMetadataName)n.host=!0;else if(a instanceof ci)n.token=a.token;else if(a instanceof Rr){if(void 0===a.attributeName)throw new Error("Attribute name must be defined.");n.token=a.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else!0===a.__ChangeDetectorRef__?(n.token=a,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(a)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=Ir.Invalid):r(t);return n}(t,e)})}function gi(){if(void 0===oi&&(oi=null,Qe.trustedTypes))try{oi=Qe.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return oi}function yi(e){var t;return(null===(t=gi())||void 0===t?void 0:t.createHTML(e))||e}function bi(){if(void 0===si&&(si=null,Qe.trustedTypes))try{si=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return si}function _i(e){var t;return(null===(t=bi())||void 0===t?void 0:t.createHTML(e))||e}function wi(e){var t;return(null===(t=bi())||void 0===t?void 0:t.createScript(e))||e}function ki(e){var t;return(null===(t=bi())||void 0===t?void 0:t.createScriptURL(e))||e}var Si=function(){function e(t){v(this,e),this.changingThisBreaksApplicationSecurity=t}return g(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),xi=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Si),Ci=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Si),Ei=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Si),Ri=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Si),Ai=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Si);function Ti(e){return e instanceof Si?e.changingThisBreaksApplicationSecurity:e}function Ii(e,t){var n=Oi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Oi(e){return e instanceof Si&&e.getTypeName()||null}function Di(e){var t=new Pi(e);return function(){try{return!!(new window.DOMParser).parseFromString(yi(""),"text/html")}catch(e){return!1}}()?new Mi(t):t}var Mi=function(){function e(t){v(this,e),this.inertDocumentHelper=t}return g(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(yi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),Pi=function(){function e(t){if(v(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return g(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=yi(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=yi(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Li=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ni(e){return(e=String(e)).match(Li)||e.match(Fi)?e:"unsafe:"+e}function zi(e){return(e=String(e)).split(",").map(function(e){return Ni(e.trim())}).join(", ")}function ji(e){var n,r={},i=t(e.split(","));try{for(i.s();!(n=i.n()).done;){r[n.value]=!0}}catch(a){i.e(a)}finally{i.f()}return r}function Bi(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var Vi,Ui=ji("area,br,col,hr,img,wbr"),Hi=ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$i=ji("rp,rt"),qi=Bi($i,Hi),Gi=Bi(Ui,Bi(Hi,ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bi($i,ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qi),Wi=ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yi=ji("srcset"),Zi=Bi(Wi,Yi,ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xi=ji("script,style,template"),Ki=function(){function e(){v(this,e),this.sanitizedSomething=!1,this.buf=[]}return g(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Gi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Xi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),a=i.name,o=a.toLowerCase();if(Zi.hasOwnProperty(o)){var s=i.value;Wi[o]&&(s=Ni(s)),Yi[o]&&(s=zi(s)),this.buf.push(" ",a,'="',ea(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Gi.hasOwnProperty(t)&&!Ui.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ea(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Qi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function ea(e){return e.replace(/&/g,"&amp;").replace(Qi,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ji,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ta(e,t){var n=null;try{Vi=Vi||Di(e);var r=t?String(t):"";n=Vi.getInertBodyElement(r);var i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=Vi.getInertBodyElement(r)}while(r!==a);return yi((new Ki).sanitizeChildren(na(n)||n))}finally{if(n)for(var o=na(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function na(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ra=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ia(e){var t=fa();return t?_i(t.sanitize(ra.HTML,e)||""):Ii(e,"HTML")?_i(Ti(e)):ta(Nt(),Ae(e))}function aa(e){var t=fa();return t?t.sanitize(ra.STYLE,e)||"":Ii(e,"Style")?Ti(e):Ae(e)}function oa(e){var t=fa();return t?t.sanitize(ra.URL,e)||"":Ii(e,"URL")?Ti(e):Ni(Ae(e))}function sa(e){var t=fa();if(t)return ki(t.sanitize(ra.RESOURCE_URL,e)||"");if(Ii(e,"ResourceURL"))return ki(Ti(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ca(e){var t=fa();if(t)return wi(t.sanitize(ra.SCRIPT,e)||"");if(Ii(e,"Script"))return wi(Ti(e));throw new Error("unsafe value used in a script context")}function la(e){return yi(e[0])}function ua(e){return function(e){var t;return(null===(t=gi())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ha(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?sa:oa}(t,n)(e)}function fa(){var e=nn();return e&&e[12]}function da(e){return e.ngDebugContext}function pa(e){return e.ngOriginalError}function va(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var ma=function(){function e(){v(this,e),this._console=console}return g(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||va}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?da(e)?da(e):this._findContext(pa(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=pa(e);t&&pa(t);)t=pa(t);return t}}]),e}(),ga=/^>|^->|<!--|-->|--!>|<!-$/g,ya=/(<|>)/;function ba(e,t){e.__ngContext__=t}var _a=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe);function wa(e){return{name:"window",target:e.ownerDocument.defaultView}}function ka(e){return{name:"document",target:e.ownerDocument}}function Sa(e){return{name:"body",target:e.ownerDocument.body}}function xa(e){return e instanceof Function?e():e}var Ca,Ea=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Ra(e,t){return Ca(e,t)}function Aa(e){var t=e[3];return xt(t)?t[3]:t}function Ta(e){return Oa(e[13])}function Ia(e){return Oa(e[4])}function Oa(e){for(;null!==e&&!xt(e);)e=e[4];return e}function Da(e,t,n,r,i){if(null!=r){var a,o=!1;xt(r)?a=r:St(r)&&(o=!0,r=r[0]);var s=Bt(r);0===e&&null!==n?null==i?$a(t,n,s):Ha(t,n,s,i||null,!0):1===e&&null!==n?Ha(t,n,s,i||null,!0):2===e?no(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,r,i){var a=n[7];a!==Bt(n)&&Da(t,e,r,a,i);for(var o=10;o<n.length;o++){var s=n[o];io(s[1],s,e,t,r,a)}}(t,e,a,n,i)}}function Ma(e,t){return zt(e)?e.createText(t):e.createTextNode(t)}function Pa(e,t,n){zt(e)?e.setValue(t,n):t.textContent=n}function La(e,t){return e.createComment(function(e){return e.replace(ga,function(e){return e.replace(ya,"\u200b$1\u200b")})}(t))}function Fa(e,t,n){return zt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Na(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function za(e,t){if(!(e.length<=10)){var n,r=10+t,i=e[r];if(i){var a=i[17];null!==a&&a!==e&&Na(a,i),t>0&&(e[r-1][4]=i[4]);var o=Nr(e,10+t);io(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ja(e,t){if(!(256&t[2])){var n=t[11];zt(n)&&n.destroyNode&&io(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Ba(e[1],e);for(;t;){var n=null;if(St(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)St(t)&&Ba(t[1],t),t=t[3];null===t&&(t=e),St(t)&&Ba(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ba(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof $n)){var a=n[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],c=a[o+1];try{c.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):Bt(t[o]),c=r[i=n[a+2]],l=n[a+3];"boolean"==typeof l?s.removeEventListener(n[a],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{var u=r[i=n[a+1]];n[a].call(u)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();t[7]=null}}(e,t),1===t[1].type&&zt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&xt(t[3])){n!==t[3]&&Na(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Va(e,t,n){return Ua(e,t.parent,n)}function Ua(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===We.None||i===We.Emulated)return null}return Ut(r,n)}function Ha(e,t,n,r,i){zt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function $a(e,t,n){zt(e)?e.appendChild(t,n):t.appendChild(n)}function qa(e,t,n,r,i){null!==r?Ha(e,t,n,r,i):$a(e,t,n)}function Ga(e,t){return zt(e)?e.parentNode(t):t.parentNode}function Wa(e,t,n){return Xa(e,t,n)}function Ya(e,t,n){return 40&e.type?Ut(e,n):null}var Za,Xa=Ya;function Ka(e,t){Xa=e,Za=t}function Qa(e,t,n,r){var i=Va(e,r,t),a=t[11],o=Wa(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)qa(a,i,n[s],o,!1);else qa(a,i,n,o,!1);void 0!==Za&&Za(a,r,t,n,i)}function Ja(e,t){if(null!==t){var n=t.type;if(3&n)return Ut(t,e);if(4&n)return to(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Ja(e,r);var i=e[t.index];return xt(i)?to(-1,i):Bt(i)}if(32&n)return Ra(t,e)()||Bt(e[t.index]);var a=eo(e,t);return null!==a?Array.isArray(a)?a[0]:Ja(Aa(e[16]),a):Ja(e,t.next)}return null}function eo(e,t){return null!==t?e[16][6].projection[t.projection]:null}function to(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Ja(r,i)}return t[7]}function no(e,t,n){var r=Ga(e,t);r&&function(e,t,n,r){zt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ro(e,t,n,r,i,a,o){for(;null!=n;){var s=r[n.index],c=n.type;if(o&&0===t&&(s&&ba(Bt(s),r),n.flags|=4),64!=(64&n.flags))if(8&c)ro(e,t,n.child,r,i,a,!1),Da(t,e,i,s,a);else if(32&c){for(var l=Ra(n,r),u=void 0;u=l();)Da(t,e,i,u,a);Da(t,e,i,s,a)}else 16&c?ao(e,t,r,n,i,a):Da(t,e,i,s,a);n=o?n.projectionNext:n.next}}function io(e,t,n,r,i,a){ro(n,r,e.firstChild,t,i,a,!1)}function ao(e,t,n,r,i,a){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)Da(t,e,i,s[c],a);else ro(e,t,s,o[3],i,a,!0)}function oo(e,t,n){zt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function so(e,t,n){zt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function co(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}function lo(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==co((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function uo(e){return 4===e.type&&"ng-template"!==e.value}function ho(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function fo(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(Gn(e[t]))return t;return e.length}(i),o=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ho(e,c,n)||""===c&&1===t.length){if(po(r))return!1;o=!0}}else{var l=8&r?c:t[++s];if(8&r&&null!==e.attrs){if(!lo(e.attrs,l,n)){if(po(r))return!1;o=!0}continue}var u=vo(8&r?"class":c,i,uo(e),n);if(-1===u){if(po(r))return!1;o=!0;continue}if(""!==l){var h;h=u>a?"":i[u+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==co(f,l,0)||2&r&&l!==h){if(po(r))return!1;o=!0}}}}else{if(!o&&!po(r)&&!po(c))return!1;if(o&&po(c))continue;o=!1,r=c|1&r}}return po(r)||o}function po(e){return 0==(1&e)}function vo(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function mo(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(fo(e,t[r],n))return!0;return!1}function go(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function yo(e,t){return e?":not("+t.trim()+")":t}function bo(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||po(o)||(t+=yo(a,i),i=""),r=o,a=a||!po(r);n++}return""!==i&&(t+=yo(a,i)),t}var _o={};function wo(e){ko(rn(),nn(),Dn()+e,fn())}function ko(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&jn(t,i,n)}else{var a=e.preOrderHooks;null!==a&&Bn(t,a,0,n)}Mn(n)}function So(e,t){return e<<17|t<<2}function xo(e){return e>>17&32767}function Co(e){return 2|e}function Eo(e){return(131068&e)>>2}function Ro(e,t){return-131069&e|t<<2}function Ao(e){return 1|e}function To(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1];if(-1!==a){var o=e.data[a];Sn(i),o.contentQueries(2,t[a],a)}}}function Io(e,t,n,r,i,a,o,s,c,l){var u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Xt(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=s||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=a,u[16]=2==t.type?e[16]:u,u}function Oo(e,t,n,r,i){var a=e.data[t];if(null===a)a=Do(e,t,n,r,i),Qt.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var o=cn();a.injectorIndex=null===o?-1:o.injectorIndex}return ln(a,!0),a}function Do(e,t,n,r,i){var a=sn(),o=un(),s=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}function Mo(e,t,n,r){if(0===n)return-1;for(var i=t.length,a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Po(e,t,n){En(t);try{var r=e.viewQuery;null!==r&&fs(1,r,n);var i=e.template;null!==i&&No(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&To(e,t),e.staticViewQueries&&fs(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)ss(e,t[n])}(t,a)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,On()}}function Lo(e,t,n,r){var i=t[2];if(256!=(256&i)){En(t);var a=fn();try{Xt(t),mn(e.bindingStartIndex),null!==n&&No(e,t,n,2,r);var o=3==(3&i);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&jn(t,s,null)}else{var c=e.preOrderHooks;null!==c&&Bn(t,c,0,null),Vn(t,0)}if(function(e){for(var t=Ta(e);null!==t;t=Ia(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],a=i[3];0==(1024&i[2])&&Kt(a,1),i[2]|=1024}}(t),function(e){for(var t=Ta(e);null!==t;t=Ia(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Yt(r)&&Lo(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&To(e,t),!a)if(o){var l=e.contentCheckHooks;null!==l&&jn(t,l)}else{var u=e.contentHooks;null!==u&&Bn(t,u,1),Vn(t,1)}!function(e,t){var n,r,i,a=e.hostBindingOpCodes;if(null!==a)try{for(var o=0;o<a.length;o++){var s=a[o];if(s<0)Mn(~s);else{var c=s,l=a[++o],u=a[++o];n=l,r=c,i=void 0,(i=Qt.lFrame).bindingIndex=i.bindingRootIndex=n,_n(r),u(2,t[c])}}}finally{Mn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)as(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&fs(2,f,r),!a)if(o){var d=e.viewCheckHooks;null!==d&&jn(t,d)}else{var p=e.viewHooks;null!==p&&Bn(t,p,2),Vn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Kt(t[3],-1))}finally{On()}}}function Fo(e,t,n,r){var i=t[10],a=!fn(),o=Wt(t);try{a&&!o&&i.begin&&i.begin(),o&&Po(e,t,r),Lo(e,t,n,r)}finally{a&&!o&&i.end&&i.end()}}function No(e,t,n,r,i){var a=Dn(),o=2&r;try{Mn(-1),o&&t.length>20&&ko(e,t,20,fn()),n(r,i)}finally{Mn(a)}}function zo(e,t,n){if(Ct(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}function jo(e,t,n){Jt()&&(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||nr(n,t),ba(r,t);for(var o=n.initialInputs,s=i;s<a;s++){var c=e.data[s],l=At(c);l&&Jo(t,n,c);var u=pr(t,e,s,n);ba(u,t),null!==o&&ns(0,s-i,u,c,0,o),l&&(qt(n.index,t)[8]=u)}}(e,t,n,Ut(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,a=n.index,o=Qt.lFrame.currentDirectiveIndex;try{Mn(a);for(var s=r;s<i;s++){var c=e.data[s],l=t[s];_n(s),null===c.hostBindings&&0===c.hostVars&&null===c.hostAttrs||Yo(c,l)}}finally{Mn(-1),_n(o)}}(e,t,n))}function Bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}function Vo(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Uo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Uo(e,t,n,r,i,a,o,s,c,l){var u=20+r,h=u+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:_o);return n}(u,h),d="function"==typeof l?l():l;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:d,incompleteFirstPass:!1}}function Ho(e,t,n,r){var i=ps(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&vs(e).push(r,i.length-1))}function $o(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function qo(e,t,n,r,i,a,o,s){var c,l=Ut(t,n),u=t.inputs;!s&&null!=u&&(c=u[r])?(ys(e,n,c,r,i),Et(t)&&function(e,t){var n=qt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,zt(a)?a.setProperty(l,r,i):Wn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Go(e,t,n,r){var i=!1;if(Jt()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];mo(n,o.selectors,!1)&&(i||(i=[]),or(nr(n,t),e,o.type),At(o)?(Zo(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){i=!0,Ko(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var c=a[s];c.providersResolver&&c.providersResolver(c)}for(var l=!1,u=!1,h=Mo(e,t,a.length,null),f=0;f<a.length;f++){var d=a[f];n.mergedAttrs=Yn(n.mergedAttrs,d.hostAttrs),Qo(e,n,t,h,d),Xo(h,d,o),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),u||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,a=[],o=null,s=null,c=t.directiveStart;c<n;c++){var l=r[c],u=l.inputs,h=null===i||uo(t)?null:rs(u,i);a.push(h),o=$o(u,c,o),s=$o(l.outputs,c,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new Re("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,o)}return n.mergedAttrs=Yn(n.mergedAttrs,n.attrs),i}function Wo(e,t,n,r,i,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var c=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=c&&s.push(c),s.push(r,i,o)}}function Yo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Xo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function Ko(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Qo(e,t,n,r,i){e.data[r]=i;var a=i.factory||(i.factory=Tt(i.type)),o=new $n(a,At(i),null);e.blueprint[r]=o,n[r]=o,Wo(e,t,0,r,Mo(e,n,i.hostVars,_o),i)}function Jo(e,t,n){var r=Ut(t,e),i=Vo(n),a=e[10],o=cs(e,Io(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=o}function es(e,t,n,r,i,a){var o=Ut(e,t);ts(t[11],o,a,e.value,n,r,i)}function ts(e,t,n,r,i,a,o){if(null==a)zt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==o?Ae(a):o(a,r||"",i);zt(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}function ns(e,t,n,r,i,a){var o=a[t];if(null!==o)for(var s=r.setInput,c=0;c<o.length;){var l=o[c++],u=o[c++],h=o[c++];null!==s?r.setInput(n,h,l,u):n[u]=h}}function rs(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function is(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function as(e,t){var n=qt(t,e);if(Yt(n)){var r=n[1];80&n[2]?Lo(r,n,r.template,n[8]):n[5]>0&&os(n)}}function os(e){for(var t=Ta(e);null!==t;t=Ia(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Lo(i,r,i.template,r[8])}else r[5]>0&&os(r)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=qt(a[o],e);Yt(s)&&s[5]>0&&os(s)}}function ss(e,t){var n=qt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Po(r,n,n[8])}function cs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ls(e){for(;e;){e[2]|=64;var t=Aa(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function us(e,t,n){var r=t[10];r.begin&&r.begin();try{Lo(e,t,e.template,n)}catch(i){throw gs(t,i),i}finally{r.end&&r.end()}}function hs(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Gt(n),i=r[1];Fo(i,r,i.template,n)}}(e[8])}function fs(e,t,n){Sn(0),t(e,n)}var ds=Promise.resolve(null);function ps(e){return e[7]||(e[7]=[])}function vs(e){return e.cleanup||(e.cleanup=[])}function ms(e,t,n){return(null===e||At(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function gs(e,t){var n=e[9],r=n?n.get(ma,null):null;r&&r.handleError(t)}function ys(e,t,n,r,i){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,i,r,s):c[s]=i}}function bs(e,t,n){var r=Vt(t,e);Pa(e[11],r,n)}function _s(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?i=ke(i,s):2==a&&(r=ke(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var ws,ks=new Ar("INJECTOR",-1),Ss=function(){function e(){v(this,e)}return g(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;if(t===Xr){var n=new Error("NullInjectorError: No provider for ".concat(we(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),xs=new Ar("Set Injector scope."),Cs={},Es={},Rs=[];function As(){return void 0===ws&&(ws=new Ss),ws}function Ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Is(e,n,t||As(),r)}var Is=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Lr(n,function(e){return i.processProvider(e,t,n)}),Lr([t],function(e){return i.processInjectorType(e,[],o)}),this.records.set(ks,Ms(void 0,this));var s=this.records.get(xs);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:we(t))}return g(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue.Default;this.assertNotDestroyed();var r,i=Jr(this);try{if(!(n&Ue.SkipSelf)){var a=this.records.get(e);if(void 0===a){var o=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ar)&&Pe(e);a=o&&this.injectableDefInScope(o)?Ms(Os(e),Cs):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&Ue.Self?As():this.parent).get(e,t=n&Ue.Optional&&t===Xr?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(we(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=we(t);if(Array.isArray(t))i=t.map(we).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):we(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Kr,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Jr(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(we(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ce(e)))return!1;var i=Fe(e),a=null==i&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(i=Fe(a)),null==i)return!1;if(null!=i.imports&&!s){var c;n.push(o);try{Lr(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))})}finally{}if(void 0!==c)for(var l=function(e){var t=c[e],n=t.ngModule,i=t.providers;Lr(i,function(e){return r.processProvider(e,n,i||Rs)})},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(o);var h=Tt(o)||function(){return new o};this.records.set(o,Ms(h,Cs));var f=i.providers;if(null!=f&&!s){var d=e;Lr(f,function(e){return r.processProvider(e,d,f)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Ls(e=Ce(e))?e:Ce(e&&e.provide),i=function(e,t,n){return Ps(e)?Ms(void 0,e.useValue):Ms(Ds(e),Cs)}(e);if(Ls(e)||!0!==e.multi)this.records.get(r);else{var a=this.records.get(r);a||((a=Ms(void 0,Cs,!0)).factory=function(){return ii(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Cs&&(t.value=Es,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function Os(e){var t=Pe(e),n=null!==t?t.factory:Tt(e);if(null!==n)return n;if(e instanceof Ar)throw new Error("Token ".concat(we(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=zr(t,"?");throw new Error("Can't resolve all parameters for ".concat(we(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[ze]||e[Be]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ds(e,t,r){var i,a;if(Ls(e)){var s=Ce(e);return Tt(s)||Os(s)}if(Ps(e))i=function(){return Ce(e.useValue)};else if((a=e)&&a.useFactory)i=function(){return e.useFactory.apply(e,n(ii(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return ti(Ce(e.useExisting))};else{var c=Ce(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Tt(c)||Os(c);i=function(){return o(c,n(ii(e.deps)))}}return i}function Ms(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ps(e){return null!==e&&"object"==typeof e&&Qr in e}function Ls(e){return"function"==typeof e}var Fs=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Ts(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ns=function(){var e=function(){function e(){v(this,e)}return g(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Fs(e,t,""):Fs(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Xr,e.NULL=new Ss,e.\u0275prov=De({token:e,providedIn:"any",factory:function(){return ti(ks)}}),e.__NG_ELEMENT_ID__=-1,e}();function zs(e,t){zn(Gt(e)[1],on())}function js(e){return Object.getPrototypeOf(e.prototype).constructor}function Bs(e){for(var t=js(e.type),n=!0,r=[e];t;){var i=void 0;if(At(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var a=e;a.inputs=Vs(e.inputs),a.declaredInputs=Vs(e.declaredInputs),a.outputs=Vs(e.outputs);var o=i.hostBindings;o&&$s(e,o);var s=i.viewQuery,c=i.contentQueries;if(s&&Us(e,s),c&&Hs(e,c),_e(e.inputs,i.inputs),_e(e.declaredInputs,i.declaredInputs),_e(e.outputs,i.outputs),At(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var u=i.features;if(u)for(var h=0;h<u.length;h++){var f=u[h];f&&f.ngInherit&&f(e),f===Bs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yn(i.hostAttrs,n=Yn(n,i.hostAttrs))}}(r)}function Vs(e){return e===Je?{}:e===tt?[]:e}function Us(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Hs(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function $s(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var qs=["providersResolver"],Gs=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ws(e){var n,r=js(e.type);n=At(e)?r.\u0275cmp:r.\u0275dir;var i,a=e,o=t(qs);try{for(o.s();!(i=o.n()).done;){var s=i.value;a[s]=n[s]}}catch(h){o.e(h)}finally{o.f()}if(At(n)){var c,l=t(Gs);try{for(l.s();!(c=l.n()).done;){var u=c.value;a[u]=n[u]}}catch(h){l.e(h)}finally{l.f()}}}var Ys=null;function Zs(){if(!Ys){var e=Qe.Symbol;if(e&&e.iterator)Ys=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ys=r)}}return Ys}var Xs=function(){function e(t){v(this,e),this.wrapped=t}return g(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ks(e){return!!Qs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zs()in e)}function Qs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Js(e,t,n){return e[t]=n}function ec(e,t){return e[t]}function tc(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function nc(e,t,n,r){var i=tc(e,t,n);return tc(e,t+1,r)||i}function rc(e,t,n,r,i){var a=nc(e,t,n,r);return tc(e,t+2,i)||a}function ic(e,t,n,r,i,a){var o=nc(e,t,n,r);return nc(e,t+2,i,a)||o}function ac(e,t,n,r){var i=nn();return tc(i,gn(),t)&&(rn(),es(Pn(),i,e,t,n,r)),ac}function oc(e,t){for(var n=!1,r=vn(),i=1;i<t.length;i+=2)n=tc(e,r++,t[i])||n;if(mn(r),!n)return _o;for(var a=t[0],o=1;o<t.length;o+=2)a+=Ae(t[o])+t[o+1];return a}function sc(e,t,n,r){return tc(e,gn(),n)?t+Ae(n)+r:_o}function cc(e,t,n,r,i,a){var o=nc(e,vn(),n,i);return yn(2),o?t+Ae(n)+r+Ae(i)+a:_o}function lc(e,t,n,r,i,a,o,s){var c=rc(e,vn(),n,i,o);return yn(3),c?t+Ae(n)+r+Ae(i)+a+Ae(o)+s:_o}function uc(e,t,n,r,i,a,o,s,c,l){var u=ic(e,vn(),n,i,o,c);return yn(4),u?t+Ae(n)+r+Ae(i)+a+Ae(o)+s+Ae(c)+l:_o}function hc(e,t,n,r,i,a,o,s,c,l,u,h){var f=vn(),d=ic(e,f,n,i,o,c);return d=tc(e,f+4,u)||d,yn(5),d?t+Ae(n)+r+Ae(i)+a+Ae(o)+s+Ae(c)+l+Ae(u)+h:_o}function fc(e,t,n,r,i,a,o,s,c,l,u,h,f,d){var p=vn(),v=ic(e,p,n,i,o,c);return v=nc(e,p+4,u,f)||v,yn(6),v?t+Ae(n)+r+Ae(i)+a+Ae(o)+s+Ae(c)+l+Ae(u)+h+Ae(f)+d:_o}function dc(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v){var m=vn(),g=ic(e,m,n,i,o,c);return g=rc(e,m+4,u,f,p)||g,yn(7),g?t+Ae(n)+r+Ae(i)+a+Ae(o)+s+Ae(c)+l+Ae(u)+h+Ae(f)+d+Ae(p)+v:_o}function pc(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g){var y=vn(),b=ic(e,y,n,i,o,c);return b=ic(e,y+4,u,f,p,m)||b,yn(8),b?t+Ae(n)+r+Ae(i)+a+Ae(o)+s+Ae(c)+l+Ae(u)+h+Ae(f)+d+Ae(p)+v+Ae(m)+g:_o}function vc(e,t,n,r,i,a){var o=nn(),s=sc(o,t,n,r);return s!==_o&&es(Pn(),o,e,s,i,a),vc}function mc(e,t,n,r,i,a,o,s){var c=nn(),l=cc(c,t,n,r,i,a);return l!==_o&&es(Pn(),c,e,l,o,s),mc}function gc(e,t,n,r,i,a,o,s,c,l){var u=nn(),h=lc(u,t,n,r,i,a,o,s);return h!==_o&&es(Pn(),u,e,h,c,l),gc}function yc(e,t,n,r,i,a,o,s,c,l,u,h){var f=nn(),d=uc(f,t,n,r,i,a,o,s,c,l);return d!==_o&&es(Pn(),f,e,d,u,h),yc}function bc(e,t,n,r,i,a,o,s,c,l,u,h,f,d){var p=nn(),v=hc(p,t,n,r,i,a,o,s,c,l,u,h);return v!==_o&&es(Pn(),p,e,v,f,d),bc}function _c(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v){var m=nn(),g=fc(m,t,n,r,i,a,o,s,c,l,u,h,f,d);return g!==_o&&es(Pn(),m,e,g,p,v),_c}function wc(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g){var y=nn(),b=dc(y,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v);return b!==_o&&es(Pn(),y,e,b,m,g),wc}function kc(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y,b){var _=nn(),w=pc(_,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g);return w!==_o&&es(Pn(),_,e,w,y,b),kc}function Sc(e,t,n,r){var i=nn(),a=oc(i,t);return a!==_o&&es(Pn(),i,e,a,n,r),Sc}function xc(e,t,n,r,i,a,o,s){var c=nn(),l=rn(),u=e+20,h=l.firstCreatePass?function(e,t,n,r,i,a,o,s,c){var l=t.consts,u=Oo(t,e,4,o||null,Zt(l,s));Go(t,n,u,Zt(l,c)),zn(t,u);var h=u.tViews=Uo(2,u,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,a,o):l.data[u];ln(h,!1);var f=c[11].createComment("");Qa(l,c,f,h),ba(f,c),cs(c,c[u]=is(f,c,f,h)),Rt(h)&&jo(l,c,h),null!=o&&Bo(c,h,s)}function Cc(e){return $t(Qt.lFrame.contextLView,20+e)}var Ec={"\u0275\u0275defineInjectable":De,"\u0275\u0275defineInjector":Me,"\u0275\u0275inject":ti,"\u0275\u0275invalidFactoryDep":ni},Rc=be({provide:String,useValue:be});function Ac(e){return void 0!==e.useClass}function Tc(e){return void 0!==e.useFactory}function Ic(e,t){var n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Ac(n)||Tc(n))&&void 0!==n.deps&&(r.userDeps=mi(n.deps)),Ac(n)?r.useClass=Ce(n.useClass):function(e){return Rc in e}(n)?r.useValue=Ce(n.useValue):Tc(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=Ce(n.useExisting)),r}var Oc=xr("Injectable",void 0,void 0,void 0,function(e,t){return Dc(e,t)}),Dc=function(e,t){var n=null,r=null;e.hasOwnProperty(ze)||Object.defineProperty(e,ze,{get:function(){return null===n&&(n=Or().compileInjectable(Ec,"ng:///".concat(e.name,"/\u0275prov.js"),Ic(e,t))),n}}),e.hasOwnProperty(st)||Object.defineProperty(e,st,{get:function(){if(null===r){var n=Ic(e,t),i=Or();r=i.compileFactory(Ec,"ng:///".concat(e.name,"/\u0275fac.js"),{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:vi(e),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})};function Mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default,n=nn();return null===n?ti(e,t):lr(on(),n,Ce(e),t)}function Pc(){throw new Error("invalid")}function Lc(e,t,n){var r=nn();return tc(r,gn(),t)&&qo(rn(),Pn(),r,e,t,r[11],n,!1),Lc}function Fc(e,t,n,r,i){var a=i?"class":"style";ys(e,n,t.inputs[a],a,r)}function Nc(e,t,n,r){var i=nn(),a=rn(),o=20+e,s=i[11],c=i[o]=Fa(s,t,Qt.lFrame.currentNamespace),l=a.firstCreatePass?function(e,t,n,r,i,a,o){var s=t.consts,c=Oo(t,e,2,i,Zt(s,a));return Go(t,n,c,Zt(s,o)),null!==c.attrs&&_s(c,c.attrs,!1),null!==c.mergedAttrs&&_s(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,a,i,0,t,n,r):a.data[o];ln(l,!0);var u=l.mergedAttrs;null!==u&&qn(s,c,u);var h=l.classes;null!==h&&so(s,c,h);var f=l.styles;null!==f&&oo(s,c,f),64!=(64&l.flags)&&Qa(a,i,c,l),0===Qt.lFrame.elementDepthCount&&ba(c,i),Qt.lFrame.elementDepthCount++,Rt(l)&&(jo(a,i,l),zo(a,l,i)),null!==r&&Bo(i,l)}function zc(){var e=on();un()?hn():ln(e=e.parent,!1);var t=e;Qt.lFrame.elementDepthCount--;var n=rn();n.firstCreatePass&&(zn(n,e),Ct(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Fc(n,t,nn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Fc(n,t,nn(),t.stylesWithoutHost,!1)}function jc(e,t,n,r){Nc(e,t,n,r),zc()}function Bc(e,t,n){var r=nn(),i=rn(),a=e+20,o=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,o=Zt(a,r),s=Oo(t,e,8,"ng-container",o);return null!==o&&_s(s,o,!0),Go(t,n,s,Zt(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,r,t,n):i.data[a];ln(o,!0);var s=r[a]=r[11].createComment("");Qa(i,r,s,o),ba(s,r),Rt(o)&&(jo(i,r,o),zo(i,o,r)),null!=n&&Bo(r,o)}function Vc(){var e=on(),t=rn();un()?hn():ln(e=e.parent,!1),t.firstCreatePass&&(zn(t,e),Ct(e)&&t.queries.elementEnd(e))}function Uc(e,t,n){Bc(e,t,n),Vc()}function Hc(){return nn()}function $c(e){return!!e&&"function"==typeof e.then}function qc(e){return!!e&&"function"==typeof e.subscribe}var Gc=qc;function Wc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=nn(),a=rn(),o=on();return Zc(a,i,i[11],o,e,t,n,r),Wc}function Yc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=on(),a=nn(),o=rn();return Zc(o,a,ms(wn(o.data),i,a),i,e,t,n,r),Yc}function Zc(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=Rt(r),l=e.firstCreatePass&&vs(e),u=ps(t),h=!0;if(3&r.type){var f=Ut(r,t),d=s?s(f):Je,p=d.target||f,v=u.length,m=s?function(e){return s(Bt(e[r.index])).target}:r.index;if(zt(n)){var g=null;if(!s&&c&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===n&&i[a+1]===r){var s=t[7],c=i[a+2];return s.length>c?s[c]:null}"string"==typeof o&&(a+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,h=!1;else{a=Kc(r,t,0,a,!1);var y=n.listen(d.name||p,i,a);u.push(a,y),l&&l.push(i,m,v,v+1)}}else a=Kc(r,t,0,a,!0),p.addEventListener(i,a,o),u.push(a),l&&l.push(i,m,v,o)}else a=Kc(r,t,0,a,!1);var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var S=t[b[k]][b[k+1]].subscribe(a),x=u.length;u.push(a,S),l&&l.push(i,r.index,x,-(x+1))}}}function Xc(e,t,n,r){try{return!1!==n(r)}catch(i){return gs(e,i),!1}}function Kc(e,t,n,r,i){return function n(a){if(a===Function)return r;var o=2&e.flags?qt(e.index,t):t;0==(32&t[2])&&ls(o);for(var s=Xc(t,0,r,a),c=n.__ngNextListenerFn__;c;)s=Xc(t,0,c,a)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qt.lFrame.contextLView))[8]}(e)}function Jc(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var a=t[i];if("*"!==a){if(null===r?mo(e,a,!0):go(r,a))return i}else n=i}return n}function el(e){var t=nn()[16][6];if(!t.projection)for(var n=t.projection=zr(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var a=e?Jc(i,e):0;null!==a&&(r[a]?r[a].projectionNext=i:n[a]=i,r[a]=i),i=i.next}}function tl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=nn(),i=rn(),a=Oo(i,20+e,16,null,n||null);null===a.projection&&(a.projection=t),hn(),64!=(64&a.flags)&&function(e,t,n){ao(t[11],0,t,n,Va(e,n,t),Wa(n.parent||t[6],n,t))}(i,r,a)}function nl(e,t,n){return rl(e,"",t,"",n),nl}function rl(e,t,n,r,i){var a=nn(),o=sc(a,t,n,r);return o!==_o&&qo(rn(),Pn(),a,e,o,a[11],i,!1),rl}function il(e,t,n,r,i,a,o){var s=nn(),c=cc(s,t,n,r,i,a);return c!==_o&&qo(rn(),Pn(),s,e,c,s[11],o,!1),il}function al(e,t,n,r,i,a,o,s,c){var l=nn(),u=lc(l,t,n,r,i,a,o,s);return u!==_o&&qo(rn(),Pn(),l,e,u,l[11],c,!1),al}function ol(e,t,n,r,i,a,o,s,c,l,u){var h=nn(),f=uc(h,t,n,r,i,a,o,s,c,l);return f!==_o&&qo(rn(),Pn(),h,e,f,h[11],u,!1),ol}function sl(e,t,n,r,i,a,o,s,c,l,u,h,f){var d=nn(),p=hc(d,t,n,r,i,a,o,s,c,l,u,h);return p!==_o&&qo(rn(),Pn(),d,e,p,d[11],f,!1),sl}function cl(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p){var v=nn(),m=fc(v,t,n,r,i,a,o,s,c,l,u,h,f,d);return m!==_o&&qo(rn(),Pn(),v,e,m,v[11],p,!1),cl}function ll(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m){var g=nn(),y=dc(g,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v);return y!==_o&&qo(rn(),Pn(),g,e,y,g[11],m,!1),ll}function ul(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y){var b=nn(),_=pc(b,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g);return _!==_o&&qo(rn(),Pn(),b,e,_,b[11],y,!1),ul}function hl(e,t,n){var r=nn(),i=oc(r,t);return i!==_o&&qo(rn(),Pn(),r,e,i,r[11],n,!1),hl}function fl(e,t,n,r,i){for(var a=e[n+1],o=null===t,s=r?xo(a):Eo(a),c=!1;0!==s&&(!1===c||o);){var l=e[s+1];dl(e[s],t)&&(c=!0,e[s+1]=r?Ao(l):Co(l)),s=r?xo(l):Eo(l)}c&&(e[n+1]=r?Co(a):Ao(a))}function dl(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Vr(e,t)>=0}var pl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vl(e){return e.substring(pl.key,pl.keyEnd)}function ml(e){return e.substring(pl.value,pl.valueEnd)}function gl(e,t){var n=pl.textEnd;return n===t?-1:(t=pl.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pl.key=t,n),_l(e,t,n))}function yl(e,t){var n=pl.textEnd,r=pl.key=_l(e,t,n);return n===r?-1:(r=pl.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=wl(e,r,n),r=pl.value=_l(e,r,n),r=pl.valueEnd=function(e,t,n){for(var r=-1,i=-1,a=-1,o=t,s=o;o<n;){var c=e.charCodeAt(o++);if(59===c)return s;34===c||39===c?s=o=kl(e,c,o,n):t===o-4&&85===a&&82===i&&76===r&&40===c?s=o=kl(e,41,o,n):c>32&&(s=o),a=i,i=r,r=-33&c}return s}(e,r,n),wl(e,r,n))}function bl(e){pl.key=0,pl.keyEnd=0,pl.value=0,pl.valueEnd=0,pl.textEnd=e.length}function _l(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function wl(e,t,n,r){return(t=_l(e,t,n))<n&&t++,t}function kl(e,t,n,r){for(var i=-1,a=n;a<r;){var o=e.charCodeAt(a++);if(o==t&&92!==i)return a;i=92==o&&92===i?0:o}throw new Error}function Sl(e,t,n){return Tl(e,t,n,!1),Sl}function xl(e,t){return Tl(e,t,null,!0),xl}function Cl(e){Il(Ll,El,e,!1)}function El(e,t){for(var n=function(e){return bl(e),yl(e,_l(e,0,pl.textEnd))}(t);n>=0;n=yl(t,n))Ll(e,vl(t),ml(t))}function Rl(e){Il(jr,Al,e,!0)}function Al(e,t){for(var n=function(e){return bl(e),gl(e,_l(e,0,pl.textEnd))}(t);n>=0;n=gl(t,n))jr(e,vl(t),!0)}function Tl(e,t,n,r){var i=nn(),a=rn(),o=yn(2);a.firstUpdatePass&&Dl(a,e,o,r),t!==_o&&tc(i,o,t)&&Fl(a,a.data[Dn()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=we(Ti(e)))),e}(t,n),r,o)}function Il(e,t,n,r){var i=rn(),a=yn(2);i.firstUpdatePass&&Dl(i,null,a,r);var o=nn();if(n!==_o&&tc(o,a,n)){var s=i.data[Dn()];if(jl(s,r)&&!Ol(i,a)){var c=r?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=ke(c,n||"")),Fc(i,s,o,n,r)}else!function(e,t,n,r,i,a,o,s){i===_o&&(i=et);for(var c=0,l=0,u=0<i.length?i[0]:null,h=0<a.length?a[0]:null;null!==u||null!==h;){var f=c<i.length?i[c+1]:void 0,d=l<a.length?a[l+1]:void 0,p=void 0,v=null;u===h?(c+=2,l+=2,f!==d&&(v=h,p=d)):null===h||null!==u&&u<h?(c+=2,v=u):(l+=2,v=h,p=d),null!==v&&Fl(e,t,n,r,v,p,o,s),u=c<i.length?i[c]:null,h=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(e,t,n){if(null==n||""===n)return et;var r=[],i=Ti(n);if(Array.isArray(i))for(var a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,a)}}function Ol(e,t){return t>=e.expandoStartIndex}function Dl(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[Dn()],o=Ol(e,n);jl(a,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){var i=wn(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Pl(n=Ml(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Ml(i,e,t,n,r),null===a){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Eo(r))return e[xo(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[xo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Pl(s=Ml(null,e,t,s[1],r),t.attrs,r))}else a=function(e,t,n){for(var r,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=Pl(r,e[a].hostAttrs,n);return Pl(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){var o=a?t.classBindings:t.styleBindings,s=xo(o),c=Eo(o);e[r]=n;var l,u=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||Vr(h,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){var f=xo(e[s+1]);e[r+1]=So(f,s),0!==f&&(e[f+1]=Ro(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=So(s,0),0!==s&&(e[s+1]=Ro(e[s+1],r)),s=r;else e[r+1]=So(c,0),0===s?s=r:e[c+1]=Ro(e[c+1],r),c=r;u&&(e[r+1]=Co(e[r+1])),fl(e,l,r,!0),fl(e,l,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Vr(a,t)>=0&&(n[r+1]=Ao(n[r+1]))}(t,l,e,r,a),o=So(s,c),a?t.classBindings=o:t.styleBindings=o}(i,a,t,n,o,r)}}function Ml(e,t,n,r,i){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(r=Pl(r,(a=t[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Pl(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),jr(e,o,!!n||t[++a]))}return void 0===e?null:e}function Ll(e,t,n){jr(e,t,Ti(n))}function Fl(e,t,n,r,i,a,o,s){if(3&t.type){var c=e.data,l=c[s+1];zl(1==(1&l)?Nl(c,t,n,i,Eo(l),o):void 0)||(zl(a)||2==(2&l)&&(a=Nl(c,null,n,i,s,o)),function(e,t,n,r,i){var a=zt(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var o=-1===r.indexOf("-")?void 0:Ea.DashCase;if(null==i)a?e.removeStyle(n,r,o):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Ea.Important),a?e.setStyle(n,r,i,o):n.style.setProperty(r,i,s?"important":"")}}}(r,o,Vt(Dn(),n),i,a))}}function Nl(e,t,n,r,i,a){for(var o,s=null===t;i>0;){var c=e[i],l=Array.isArray(c),u=l?c[1]:c,h=null===u,f=n[i+1];f===_o&&(f=h?et:void 0);var d=h?Br(f,r):u===r?f:void 0;if(l&&!zl(d)&&(d=Br(c,r)),zl(d)&&(o=d,s))return o;var p=e[i+1];i=s?xo(p):Eo(p)}if(null!==t){var v=a?t.residualClasses:t.residualStyles;null!=v&&(o=Br(v,r))}return o}function zl(e){return void 0!==e}function jl(e,t){return 0!=(e.flags&(t?16:32))}function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=nn(),r=rn(),i=e+20,a=r.firstCreatePass?Oo(r,i,1,t,null):r.data[i],o=n[i]=Ma(n[11],t);Qa(r,n,o,a),ln(a,!1)}function Vl(e){return Ul("",e,""),Vl}function Ul(e,t,n){var r=nn(),i=sc(r,e,t,n);return i!==_o&&bs(r,Dn(),i),Ul}function Hl(e,t,n,r,i){var a=nn(),o=cc(a,e,t,n,r,i);return o!==_o&&bs(a,Dn(),o),Hl}function $l(e,t,n,r,i,a,o){var s=nn(),c=lc(s,e,t,n,r,i,a,o);return c!==_o&&bs(s,Dn(),c),$l}function ql(e,t,n,r,i,a,o,s,c){var l=nn(),u=uc(l,e,t,n,r,i,a,o,s,c);return u!==_o&&bs(l,Dn(),u),ql}function Gl(e,t,n,r,i,a,o,s,c,l,u){var h=nn(),f=hc(h,e,t,n,r,i,a,o,s,c,l,u);return f!==_o&&bs(h,Dn(),f),Gl}function Wl(e,t,n,r,i,a,o,s,c,l,u,h,f){var d=nn(),p=fc(d,e,t,n,r,i,a,o,s,c,l,u,h,f);return p!==_o&&bs(d,Dn(),p),Wl}function Yl(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p){var v=nn(),m=dc(v,e,t,n,r,i,a,o,s,c,l,u,h,f,d,p);return m!==_o&&bs(v,Dn(),m),Yl}function Zl(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m){var g=nn(),y=pc(g,e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m);return y!==_o&&bs(g,Dn(),y),Zl}function Xl(e){var t=nn(),n=oc(t,e);return n!==_o&&bs(t,Dn(),n),Xl}function Kl(e,t,n){Il(jr,Al,sc(nn(),e,t,n),!0)}function Ql(e,t,n,r,i){Il(jr,Al,cc(nn(),e,t,n,r,i),!0)}function Jl(e,t,n,r,i,a,o){Il(jr,Al,lc(nn(),e,t,n,r,i,a,o),!0)}function eu(e,t,n,r,i,a,o,s,c){Il(jr,Al,uc(nn(),e,t,n,r,i,a,o,s,c),!0)}function tu(e,t,n,r,i,a,o,s,c,l,u){Il(jr,Al,hc(nn(),e,t,n,r,i,a,o,s,c,l,u),!0)}function nu(e,t,n,r,i,a,o,s,c,l,u,h,f){Il(jr,Al,fc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f),!0)}function ru(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p){Il(jr,Al,dc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f,d,p),!0)}function iu(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m){Il(jr,Al,pc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m),!0)}function au(e){Il(jr,Al,oc(nn(),e),!0)}function ou(e,t,n){Cl(sc(nn(),e,t,n))}function su(e,t,n,r,i){Cl(cc(nn(),e,t,n,r,i))}function cu(e,t,n,r,i,a,o){Cl(lc(nn(),e,t,n,r,i,a,o))}function lu(e,t,n,r,i,a,o,s,c){Cl(uc(nn(),e,t,n,r,i,a,o,s,c))}function uu(e,t,n,r,i,a,o,s,c,l,u){Cl(hc(nn(),e,t,n,r,i,a,o,s,c,l,u))}function hu(e,t,n,r,i,a,o,s,c,l,u,h,f){Cl(fc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f))}function fu(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p){Cl(dc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f,d,p))}function du(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m){Cl(pc(nn(),e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m))}function pu(e){Cl(oc(nn(),e))}function vu(e,t,n,r,i){return Tl(e,sc(nn(),t,n,r),i,!1),vu}function mu(e,t,n,r,i,a,o){return Tl(e,cc(nn(),t,n,r,i,a),o,!1),mu}function gu(e,t,n,r,i,a,o,s,c){return Tl(e,lc(nn(),t,n,r,i,a,o,s),c,!1),gu}function yu(e,t,n,r,i,a,o,s,c,l,u){return Tl(e,uc(nn(),t,n,r,i,a,o,s,c,l),u,!1),yu}function bu(e,t,n,r,i,a,o,s,c,l,u,h,f){return Tl(e,hc(nn(),t,n,r,i,a,o,s,c,l,u,h),f,!1),bu}function _u(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p){return Tl(e,fc(nn(),t,n,r,i,a,o,s,c,l,u,h,f,d),p,!1),_u}function wu(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m){return Tl(e,dc(nn(),t,n,r,i,a,o,s,c,l,u,h,f,d,p,v),m,!1),wu}function ku(e,t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g,y){return Tl(e,pc(nn(),t,n,r,i,a,o,s,c,l,u,h,f,d,p,v,m,g),y,!1),ku}function Su(e,t,n){return Tl(e,oc(nn(),t),n,!1),Su}function xu(e,t,n){var r=nn();return tc(r,gn(),t)&&qo(rn(),Pn(),r,e,t,r[11],n,!0),xu}function Cu(e,t,n){var r=nn();if(tc(r,gn(),t)){var i=rn(),a=Pn();qo(i,a,r,e,t,ms(wn(i.data),a,r),n,!0)}return Cu}var Eu=void 0,Ru=["en",[["a","p"],["AM","PM"],Eu],[["AM","PM"],Eu,Eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eu,"{1} 'at' {0}",Eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Au={};function Tu(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Iu(t);if(n)return n;var r=t.split("-")[0];if(n=Iu(r))return n;if("en"===r)return Ru;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[Ou.PluralCase]}function Iu(e){return e in Au||(Au[e]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[e]),Au[e]}var Ou=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),Du=["zero","one","two","few","many"],Mu={marker:"element"},Pu={marker:"ICU"},Lu=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({}),Fu="en-US";function Nu(e){var t;null==(t=e)&&Oe("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Fu=e.toLowerCase().replace(/_/g,"-"))}function zu(e,t,n){var r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Ya(e,0,n):Bt(n[i])}function ju(e,t,n,r,i){var a=t.insertBeforeIndex;if(Array.isArray(a)){var o=r,s=null;if(3&t.type||(s=o,o=i),null!==o&&0==(2&t.flags))for(var c=1;c<a.length;c++)Ha(e,o,n[a[c]],s,!1)}}function Bu(e,t){if(e.push(t),e.length>1)for(var n=e.length-2;n>=0;n--){var r=e[n];Vu(r)||Uu(r,t)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Hu(r,t.index)}var i}function Vu(e){return!(64&e.type)}function Uu(e,t){return Vu(t)||e.index>t.index}function Hu(e,t){var n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Ka(zu,ju),e.insertBeforeIndex=t)}function $u(e,t){var n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function qu(e,t,n){var r=Do(e,n,64,null,null);return Bu(t,r),r}function Gu(e,t){var n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Wu=0,Yu=0;function Zu(e,t,n,r){for(var i,a=n[11],o=null,s=0;s<t.length;s++){var c=t[s];if("string"==typeof c){var l=t[++s];null===n[l]&&(n[l]=Ma(a,c))}else if("number"==typeof c)switch(1&c){case 0:var u=c>>>17,h=void 0,f=void 0;if(null===o&&(o=u,i=Ga(a,r)),u===o?(h=r,f=i):(h=null,f=Bt(n[u])),null!==f){var d=(131070&c)>>>1;Ha(a,f,n[d],h,!1);var p=$u(e,d);if(null!==p&&"object"==typeof p){var v=Gu(p,n);null!==v&&Zu(e,p.create[v],n,n[p.anchorIdx])}}break;case 1:var m=t[++s],g=t[++s];ts(a,Vt(c>>>1,n),null,null,m,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case Pu:var y=t[++s],b=t[++s];null===n[b]&&ba(n[b]=La(a,y),n);break;case Mu:var _=t[++s],w=t[++s];null===n[w]&&ba(n[w]=Fa(a,_,null),n)}}}function Xu(e,t,n,r,i){for(var a=0;a<n.length;a++){var o=n[a],s=n[++a];if(o&i)for(var c="",l=a+1;l<=a+s;l++){var u=n[l];if("string"==typeof u)c+=u;else if("number"==typeof u)if(u<0)c+=Ae(t[r-u]);else{var h=u>>>2;switch(3&u){case 1:var f=n[++l],d=n[++l],p=e.data[h];"string"==typeof p?ts(t[11],t[h],null,p,f,c,d):qo(e,p,t,f,c,t[11],d,!1);break;case 0:var v=t[h];null!==v&&Pa(t[11],v,c);break;case 2:Qu(e,$u(e,h),t,c);break;case 3:Ku(e,$u(e,h),r,t)}}}else{var m=n[a+1];if(m>0&&3==(3&m)){var g=$u(e,m>>>2);t[g.currentCaseLViewIndex]<0&&Ku(e,g,r,t)}}a+=s}}function Ku(e,t,n,r){var i=r[t.currentCaseLViewIndex];if(null!==i){var a=Wu;i<0&&(i=r[t.currentCaseLViewIndex]=~i,a=-1),Xu(e,r,t.update[i],n,a)}}function Qu(e,t,n,r){var i=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){var n=Tu(t)(parseInt(e,10)),r=Du[n];return void 0!==r?r:"other"}(t,Fu);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Gu(t,n)!==i&&(Ju(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var a=n[t.anchorIdx];a&&Zu(e,t.create[i],n,a)}}function Ju(e,t,n){var r=Gu(t,n);if(null!==r)for(var i=t.remove[r],a=0;a<i.length;a++){var o=i[a];if(o>0){var s=Vt(o,n);null!==s&&no(n[11],s)}else Ju(e,$u(e,~o),n)}}var eh=/\ufffd(\d+):?\d*\ufffd/gi,th=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,nh=/\ufffd(\d+)\ufffd/,rh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ih=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ah=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,oh=/\uE500/g;function sh(e,t,n,r,i,a,o){var s=Mo(e,r,1,null),c=s<<Lu.SHIFT,l=cn();t===l&&(l=null),null===l&&(c|=Lu.APPEND_EAGERLY),o&&(c|=Lu.COMMENT,void 0===Ca&&(Ca=function(){var e,t,n=[],r=-1;function i(e,n){r=0;var i=Gu(e,n);t=null!==i?e.remove[i]:tt}function a(){if(r<t.length){var o=t[r++];return o>0?e[o]:(n.push(r,t),i(e[1].data[~o],e),a())}return 0===n.length?null:(t=n.pop(),r=n.pop(),a())}return function(t,r){for(e=r;n.length;)n.pop();return i(t.value,r),a}}())),i.push(c,null===a?"":a);var u=Do(e,s,o?32:1,null===a?"":a,null);Bu(n,u);var h=u.index;return ln(u,!1),null!==l&&t!==l&&function(e,t){var n,r=e.insertBeforeIndex;null===r?(Ka(zu,ju),r=e.insertBeforeIndex=[null,t]):(1!=(n=Array.isArray(r))&&Oe("Expecting array here",n,!0,"=="),r.push(t))}(l,h),u}function ch(e,t,n,r,i,a,o){var s=o.match(eh),c=sh(e,t,n,a,r,s?null:o,!1);s&&lh(i,o,c.index,null,0,null)}function lh(e,t,n,r,i,a){var o=e.length,s=o+1;e.push(null,null);for(var c=o+2,l=t.split(eh),u=0,h=0;h<l.length;h++){var f=l[h];if(1&h){var d=i+parseInt(f,10);e.push(-1-d),u|=hh(d)}else""!==f&&e.push(f)}return e.push(n<<2|(r?1:0)),r&&e.push(r,a),e[o]=u,e[s]=e.length-c,u}function uh(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];"number"==typeof r&&r<0&&t++}return t}function hh(e){return 1<<Math.min(e,31)}function fh(e){for(var t,n,r="",i=0,a=!1;null!==(t=ih.exec(e));)a?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,a=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],a=!0);return r+=e.substr(i)}function dh(e,t,n,r,i,a){var o=0,s={type:i.type,currentCaseLViewIndex:Mo(e,t,1,null),anchorIdx:a,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(hh(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,a),function(e,t,n){var r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,a,s);for(var c=i.values,l=0;l<c.length;l++){for(var u=c[l],h=[],f=0;f<u.length;f++){var d=u[f];if("string"!=typeof d){var p=h.push(d)-1;u[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}o=mh(e,s,t,n,r,i.cases[l],u.join(""),h)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,a)}function ph(e){for(var t=[],n=[],r=1,i=0,a=vh(e=e.replace(rh,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})),o=0;o<a.length;){var s=a[o++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var c=vh(a[o++]);t.length>n.length&&n.push(c)}return{type:r,mainBinding:i,cases:t,values:n}}function vh(e){if(!e)return[];var t,n=0,r=[],i=[],a=/[{}]/g;for(a.lastIndex=0;t=a.exec(e);){var o=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,o);rh.test(s)?i.push(ph(s)):i.push(s),n=o+1}}else{if(0==r.length){var c=e.substring(n,o);i.push(c),n=o+1}r.push("{")}}var l=e.substring(n);return i.push(l),i}function mh(e,t,n,r,i,a,o,s){var c=[],l=[],u=[];t.cases.push(a),t.create.push(c),t.remove.push(l),t.update.push(u);var h=Di(Nt()).getInertBodyElement(o),f=na(h)||h;return f?gh(e,t,n,r,c,l,u,f,i,s,0):0}function gh(e,t,n,r,i,a,o,s,c,l,u){for(var h=0,f=s.firstChild;f;){var d=Mo(e,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(Gi.hasOwnProperty(v)){_h(i,Mu,v,c,d),e.data[d]=v;for(var m=p.attributes,g=0;g<m.length;g++){var y=m.item(g),b=y.name.toLowerCase();y.value.match(eh)?Zi.hasOwnProperty(b)&&lh(o,y.value,d,y.name,0,Wi[b]?Ni:Yi[b]?zi:null):wh(i,d,y)}h=gh(e,t,n,r,i,a,o,f,d,l,u+1)|h,yh(a,d,u)}break;case Node.TEXT_NODE:var _=f.textContent||"",w=_.match(eh);_h(i,null,w?"":_,c,d),yh(a,d,u),w&&(h=lh(o,_,d,null,0,null)|h);break;case Node.COMMENT_NODE:var k=nh.exec(f.textContent||"");if(k){var S=l[parseInt(k[1],10)];_h(i,Pu,"",c,d),dh(e,n,r,c,S,d),bh(a,d,u)}}f=f.nextSibling}return h}function yh(e,t,n){0===n&&e.push(t)}function bh(e,t,n){0===n&&(e.push(~t),e.push(t))}function _h(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function wh(e,t,n){e.push(t<<1|1,n.name,n.value)}var kh=/\[(\ufffd.+?\ufffd?)\]/,Sh=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,xh=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Ch=/{([A-Z0-9_]+)}/g,Eh=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Rh=/\/\*/,Ah=/\d+\:(\d+)/;function Th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=rn(),i=nn(),a=20+e,o=Zt(r.consts,t),s=cn();r.firstCreatePass&&function(e,t,n,r,i,a){for(var o,s=cn(),c=[],l=[],u=[[]],h=(o=i=function(e,t){if(function(e){return-1===e}(t))return fh(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return fh(e.substring(n,r))}(i,a),o.replace(oh," ")).split(ah),f=0;f<h.length;f++){var d=h[f];if(0==(1&f))for(var p=vh(d),v=0;v<p.length;v++){var m=p[v];if(0==(1&v)){var g=m;""!==g&&ch(e,s,u[0],c,l,n,g)}else{var y=m;if("object"!=typeof y)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));dh(e,n,l,t,y,sh(e,s,u[0],n,c,"",!0).index)}}else{var b=47===d.charCodeAt(0),_=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)u.shift(),ln(cn(),!1);else{var w=qu(e,u[0],_);u.unshift([]),ln(w,!0)}}}e.data[r]={create:c,update:l}}(r,null===s?0:s.index,i,a,o,n);var c=r.data[a],l=Ua(r,s===i[6]?null:s,i);!function(e,t,n,r){for(var i=e[11],a=0;a<t.length;a++){var o=t[a++],s=t[a],c=(o&Lu.COMMENT)===Lu.COMMENT,l=(o&Lu.APPEND_EAGERLY)===Lu.APPEND_EAGERLY,u=o>>>Lu.SHIFT,h=e[u];null===h&&(h=e[u]=c?i.createComment(s):Ma(i,s)),l&&null!==n&&Ha(i,n,h,r,!1)}}(i,c.create,l,s&&8&s.type?i[s.index]:null),bn(!0)}function Ih(){bn(!1)}function Oh(e,t,n){Th(e,t,n),Ih()}function Dh(e,t){var n=rn();!function(e,t,n){var r=on().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(var a=0;a<n.length;a+=2){var o=n[a],s=n[a+1];if(""!==s){if(th.test(s))throw new Error('ICU expressions are not supported in attributes. Message: "'.concat(s,'".'));lh(i,s,r,o,uh(i),null)}}e.data[t]=i}}(n,e+20,Zt(n.consts,t))}function Mh(e){return tc(nn(),gn(),e)&&(Wu|=1<<Math.min(Yu,31)),Yu++,Mh}function Ph(e){!function(e,t,n){if(Yu>0){var r=e.data[n];Xu(e,t,Array.isArray(r)?r:r.update,vn()-Yu-1,Wu)}Wu=0,Yu=0}(rn(),nn(),e+20)}function Lh(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t;if(kh.test(t)){var i={},a=[0];r=r.replace(Sh,function(t,n,r){var o=n||r,s=i[o]||[];if(s.length||(o.split("|").forEach(function(e){var t=e.match(Ah),n=t?parseInt(t[1],10):0,r=Rh.test(e);s.push([n,r,e])}),i[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(o));for(var c=a[a.length-1],l=0,u=0;u<s.length;u++)if(s[u][0]===c){l=u;break}var h=e(s[l],3),f=h[0],d=h[1],p=h[2];return d?a.pop():c!==f&&a.push(f),s.splice(l,1),p})}return Object.keys(n).length?r=(r=(r=r.replace(xh,function(e,t,r,i,a,o){return n.hasOwnProperty(r)?"".concat(t).concat(n[r]).concat(o):e})).replace(Ch,function(e,t){return n.hasOwnProperty(t)?n[t]:e})).replace(Eh,function(e,t){if(n.hasOwnProperty(t)){var r=n[t];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(t));return r.shift()}return e}):r}(t,n)}function Fh(e,t,n,r,i){if(e=Ce(e),Array.isArray(e))for(var a=0;a<e.length;a++)Fh(e[a],t,n,r,i);else{var o=rn(),s=nn(),c=Ls(e)?e:Ce(e.provide),l=Ds(e),u=on(),h=1048575&u.providerIndexes,f=u.directiveStart,d=u.providerIndexes>>20;if(Ls(e)||!e.multi){var p=new $n(l,i,Mc),v=jh(c,t,i?h:h+d,f);-1===v?(or(nr(u,s),o,c),Nh(o,e,t.length),t.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=jh(c,t,h+d,f),g=jh(c,t,h,h+d),y=m>=0&&n[m],b=g>=0&&n[g];if(i&&!b||!i&&!y){or(nr(u,s),o,c);var _=function(e,t,n,r,i){var a=new $n(e,n,Mc);return a.multi=[],a.index=t,a.componentProviders=0,zh(a,i,r&&!n),a}(i?Vh:Bh,n.length,i,r,l);!i&&b&&(n[g].providerFactory=_),Nh(o,e,t.length,0),t.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(_),s.push(_)}else Nh(o,e,m>-1?m:g,zh(n[i?g:m],l,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Nh(e,t,n,r){var i=Ls(t);if(i||t.useClass){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[r,a]):o[s+1].push(r,a)}else o.push(n,a)}}}function zh(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function jh(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Bh(e,t,n,r){return Uh(this.multi,[])}function Vh(e,t,n,r){var i,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=pr(n,n[1],this.providerFactory.index,r);Uh(a,i=s.slice(0,o));for(var c=o;c<s.length;c++)i.push(s[c])}else Uh(a,i=[]);return i}function Uh(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Hh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=rn();if(r.firstCreatePass){var i=At(e);Fh(n,r.data,r.blueprint,i,!0),Fh(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var $h=function e(){v(this,e)},qh=function(){function e(){v(this,e)}return g(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(we(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Gh=function(){var e=function e(){v(this,e)};return e.NULL=new qh,e}();function Wh(){}function Yh(e,t){return new Xh(Ut(e,t))}var Zh=function(){return Yh(on(),nn())},Xh=function(){var e=function e(t){v(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Zh,e}();function Kh(e){return e instanceof Xh?e.nativeElement:e}var Qh=function e(){v(this,e)},Jh=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=function(){return ef()},e}(),ef=function(){var e=nn(),t=qt(on().index,e);return function(e){return e[11]}(St(t)?t:e)},tf=function(){var e=function e(){v(this,e)};return e.\u0275prov=De({token:e,providedIn:"root",factory:function(){return null}}),e}(),nf=function e(t){v(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},rf=new nf("11.2.14"),af=function(){function e(){v(this,e)}return g(e,[{key:"supports",value:function(e){return Ks(e)}},{key:"create",value:function(e){return new sf(e)}}]),e}(),of=function(e,t){return t},sf=function(){function e(t){v(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||of}return g(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<hf(n,r,i)?t:n,o=hf(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var c=o-r,l=s-r;if(c!=l){for(var u=0;u<c;u++){var h=u<i.length?i[u]:i[u]=0,f=h+u;l<=f&&f<c&&(i[u]=h+1)}i[a.previousIndex]=l-c}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ks(e))throw new Error("Error trying to diff '".concat(we(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==a&&Object.is(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),Object.is(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Zs()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new cf(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uf),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),cf=function e(t,n){v(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},lf=function(){function e(){v(this,e),this._head=null,this._tail=null}return g(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),uf=function(){function e(){v(this,e),this.map=new Map}return g(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new lf,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function hf(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ff=function(){function e(){v(this,e)}return g(e,[{key:"supports",value:function(e){return e instanceof Map||Qs(e)}},{key:"create",value:function(){return new df}}]),e}(),df=function(){function e(){v(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Qs(e)))throw new Error("Error trying to diff '".concat(we(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new pf(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),pf=function e(t){v(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function vf(){return new mf([new af])}var mf=function(){var e=function(){function e(t){v(this,e),this.factories=t}return g(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||vf())},deps:[[e,new hi,new li]]}}}]),e}();return e.\u0275prov=De({token:e,providedIn:"root",factory:vf}),e}();function gf(){return new yf([new ff])}var yf=function(){var e=function(){function e(t){v(this,e),this.factories=t}return g(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||gf())},deps:[[e,new hi,new li]]}}}]),e}();return e.\u0275prov=De({token:e,providedIn:"root",factory:gf}),e}();function bf(e,t,r,i){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var o=t[r.index];if(null!==o&&i.push(Bt(o)),xt(o))for(var s=10;s<o.length;s++){var c=o[s],l=c[1].firstChild;null!==l&&bf(c[1],c,l,i)}var u=r.type;if(8&u)bf(e,t,r.child,i);else if(32&u)for(var h=Ra(r,t),f=void 0;f=h();)i.push(f);else if(16&u){var d=eo(t,r);if(Array.isArray(d))i.push.apply(i,n(d));else{var p=Aa(t[16]);bf(p[1],p,d,i,!0)}}r=a?r.projectionNext:r.next}return i}var _f=function(){function e(t,n){v(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return g(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return bf(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(xt(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(za(e,n),Nr(t,n))}this._attachedToViewContainer=!1}ja(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Ho(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){ls(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){us(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){dn(!0);try{us(e,t,n)}finally{dn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,io(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),wf=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e))._view=e,r}return g(n,[{key:"detectChanges",value:function(){hs(this._view)}},{key:"checkNoChanges",value:function(){!function(e){dn(!0);try{hs(e)}finally{dn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(_f),kf=xf,Sf=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=kf,e.__ChangeDetectorRef__=!0,e}();function xf(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Et(e)){var r=qt(e.index,t);return new _f(r,r)}return 47&e.type?new _f(t[16],t):null}(on(),nn(),e)}var Cf=[new ff],Ef=new mf([new af]),Rf=new yf(Cf),Af=function(){return Of(on(),nn())},Tf=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=Af,e}(),If=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=r,a.elementRef=i,a}return g(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Io(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Po(t,n,e),new _f(n)}}]),n}(Tf);function Of(e,t){return 4&e.type?new If(t,e,Yh(e,t)):null}var Df=function e(){v(this,e)},Mf=function e(){v(this,e)},Pf=function(){return jf(on(),nn())},Lf=function(){var e=function e(){v(this,e)};return e.__NG_ELEMENT_ID__=Pf,e}(),Ff=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=r,a._hostLView=i,a}return g(n,[{key:"element",get:function(){return Yh(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new gr(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=ar(this._hostTNode,this._hostLView);if(Xn(e)){var t=Qn(e,this._hostLView),n=Kn(e);return new gr(t[1].data[n+8],t)}return new gr(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Nf(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;if(!i&&null==e.ngModule&&a){var o=a.get(Df,null);o&&(i=o)}var s=e.create(a,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(xt(r[3])){var a=this.indexOf(e);if(-1!==a)this.detach(a);else{var o=r[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var c=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,r){var i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Fr(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,r,l,c);var u=to(c,l),h=r[11],f=Ga(h,l[7]);return null!==f&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,io(e,r,n,1,i,a)}(i,l[6],h,r,f,u),e.attachToViewContainerRef(),Fr(zf(l),c,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Nf(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=za(this._lContainer,t);n&&(Nr(zf(this._lContainer),t),ja(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=za(this._lContainer,t);return n&&null!=Nr(zf(this._lContainer),t)?new _f(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Lf);function Nf(e){return e[8]}function zf(e){return e[8]||(e[8]=[])}function jf(e,t){var n,r=t[e.index];if(xt(r))n=r;else{var i;if(8&e.type)i=Bt(r);else{var a=t[11];i=a.createComment("");var o=Ut(e,t);Ha(a,Ga(a,o),i,function(e,t){return zt(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=is(r,t,i,e),cs(t,n)}return new Ff(n,e,t)}var Bf={},Vf=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this)).ngModule=e,r}return g(n,[{key:"resolveComponentFactory",value:function(e){var t=_t(e);return new $f(t,this.ngModule)}}]),n}(Gh);function Uf(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Hf=new Ar("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return _a}}),$f=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(bo).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return g(n,[{key:"inputs",get:function(){return Uf(this.componentDef.inputs)}},{key:"outputs",get:function(){return Uf(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,a,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var a=e.get(n,Bf,i);return a!==Bf||r===Bf?a:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(Qh,jt),c=o.get(tf,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(zt(e))return e.selectRootElement(t,n===We.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Fa(s.createRenderer(null,this.componentDef),u,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:_a,clean:ds,playerHandler:null,flags:0},p=Uo(0,null,null,1,0,null,null,null,null,null),v=Io(null,p,d,f,null,null,s,l,c,o);En(v);try{var m=function(e,t,n,r,i,a){var o=n[1];n[20]=e;var s=Oo(o,20,2,"#host",null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(_s(s,c,!0),null!==e&&(qn(i,e,c),null!==s.classes&&so(i,e,s.classes),null!==s.styles&&oo(i,e,s.styles)));var l=r.createRenderer(e,t),u=Io(n,Vo(t),null,t.onPush?64:16,n[20],s,r,l,null,null);return o.firstCreatePass&&(or(nr(s,n),o,t.type),Zo(o,s),Ko(s,n.length,1)),cs(n,u),n[20]=u}(h,this.componentDef,v,s,l);if(h)if(n)qn(l,h,["ng-version",rf.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!po(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&qn(l,h,y),b&&b.length>0&&so(l,h,b.join(" "))}if(a=Ht(p,20),void 0!==t)for(var _=a.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=t[w];_.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var a=n[1],o=function(e,t,n){var r=on();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qo(e,r,t,Mo(e,t,1,null),n));var i=pr(t,e,r.directiveStart,r);ba(i,t);var a=Ut(r,t);return a&&ba(a,t),i}(a,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(function(e){return e(o,t)}),t.contentQueries){var s=on();t.contentQueries(1,o,s.directiveStart)}var c=on();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mn(c.index),Wo(n[1],c,0,c.directiveStart,c.directiveEnd,t),Yo(t,o)),o}(m,this.componentDef,v,d,[zs]),Po(p,v,null)}finally{On()}return new qf(this.componentType,i,Yh(a,v),v,a)}}]),n}($h),qf=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o){var s;return v(this,n),(s=t.call(this)).location=i,s._rootLView=a,s._tNode=o,s.instance=r,s.hostView=s.changeDetectorRef=new wf(a),s.componentType=e,s}return g(n,[{key:"injector",get:function(){return new gr(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){v(this,e)}}()),Gf=new Map,Wf=function(e){c(n,e);var t=u(n);function n(e,r){var i;v(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=f(i),i.destroyCbs=[],i.componentFactoryResolver=new Vf(f(i));var a=kt(e),o=e[ot]||null;return o&&Nu(o),i._bootstrapComponents=xa(a.bootstrap),i._r3Injector=Ts(e,r,[{provide:Df,useValue:f(i)},{provide:Gh,useValue:i.componentFactoryResolver}],we(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return g(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue.Default;return e===Ns||e===Df||e===ks?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Df),Yf=function(e){c(r,e);var n=u(r);function r(e){var i,a,o;return v(this,r),(i=n.call(this)).moduleType=e,null!==kt(e)&&(a=e,o=new Set,function e(n){var r=kt(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(we(t)," vs ").concat(we(t.name)))}(i,Gf.get(i),n),Gf.set(i,n));var a,s=t(xa(r.imports));try{for(s.s();!(a=s.n()).done;){var c=a.value;o.has(c)||(o.add(c),e(c))}}catch(l){s.e(l)}finally{s.f()}}(a)),i}return g(r,[{key:"create",value:function(e){return new Wf(this.moduleType,e)}}]),r}(Mf);function Zf(e,t,n){var r=pn()+e,i=nn();return i[r]===_o?Js(i,r,n?t.call(n):t()):ec(i,r)}function Xf(e,t,n,r){return od(nn(),pn(),e,t,n,r)}function Kf(e,t,n,r,i){return sd(nn(),pn(),e,t,n,r,i)}function Qf(e,t,n,r,i,a){return cd(nn(),pn(),e,t,n,r,i,a)}function Jf(e,t,n,r,i,a,o){return ld(nn(),pn(),e,t,n,r,i,a,o)}function ed(e,t,n,r,i,a,o,s){var c=pn()+e,l=nn(),u=ic(l,c,n,r,i,a);return tc(l,c+4,o)||u?Js(l,c+5,s?t.call(s,n,r,i,a,o):t(n,r,i,a,o)):ec(l,c+5)}function td(e,t,n,r,i,a,o,s,c){var l=pn()+e,u=nn(),h=ic(u,l,n,r,i,a);return nc(u,l+4,o,s)||h?Js(u,l+6,c?t.call(c,n,r,i,a,o,s):t(n,r,i,a,o,s)):ec(u,l+6)}function nd(e,t,n,r,i,a,o,s,c,l){var u=pn()+e,h=nn(),f=ic(h,u,n,r,i,a);return rc(h,u+4,o,s,c)||f?Js(h,u+7,l?t.call(l,n,r,i,a,o,s,c):t(n,r,i,a,o,s,c)):ec(h,u+7)}function rd(e,t,n,r,i,a,o,s,c,l,u){var h=pn()+e,f=nn(),d=ic(f,h,n,r,i,a);return ic(f,h+4,o,s,c,l)||d?Js(f,h+8,u?t.call(u,n,r,i,a,o,s,c,l):t(n,r,i,a,o,s,c,l)):ec(f,h+8)}function id(e,t,n,r){return ud(nn(),pn(),e,t,n,r)}function ad(e,t){var n=e[t];return n===_o?void 0:n}function od(e,t,n,r,i,a){var o=t+n;return tc(e,o,i)?Js(e,o+1,a?r.call(a,i):r(i)):ad(e,o+1)}function sd(e,t,n,r,i,a,o){var s=t+n;return nc(e,s,i,a)?Js(e,s+2,o?r.call(o,i,a):r(i,a)):ad(e,s+2)}function cd(e,t,n,r,i,a,o,s){var c=t+n;return rc(e,c,i,a,o)?Js(e,c+3,s?r.call(s,i,a,o):r(i,a,o)):ad(e,c+3)}function ld(e,t,n,r,i,a,o,s,c){var l=t+n;return ic(e,l,i,a,o,s)?Js(e,l+4,c?r.call(c,i,a,o,s):r(i,a,o,s)):ad(e,l+4)}function ud(e,t,n,r,i,a){for(var o=t+n,s=!1,c=0;c<i.length;c++)tc(e,o++,i[c])&&(s=!0);return s?Js(e,o,r.apply(a,i)):ad(e,o)}function hd(e,t){var n,r=rn(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Re("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var a=n.factory||(n.factory=Tt(n.type)),o=He(Mc);try{var s=er(!1),c=a();return er(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,nn(),i,c),c}finally{He(o)}}function fd(e,t,n){var r=e+20,i=nn(),a=$t(i,r);return yd(i,gd(i,r)?od(i,pn(),t,a.transform,n,a):a.transform(n))}function dd(e,t,n,r){var i=e+20,a=nn(),o=$t(a,i);return yd(a,gd(a,i)?sd(a,pn(),t,o.transform,n,r,o):o.transform(n,r))}function pd(e,t,n,r,i){var a=e+20,o=nn(),s=$t(o,a);return yd(o,gd(o,a)?cd(o,pn(),t,s.transform,n,r,i,s):s.transform(n,r,i))}function vd(e,t,n,r,i,a){var o=e+20,s=nn(),c=$t(s,o);return yd(s,gd(s,o)?ld(s,pn(),t,c.transform,n,r,i,a,c):c.transform(n,r,i,a))}function md(e,t,n){var r=e+20,i=nn(),a=$t(i,r);return yd(i,gd(i,r)?ud(i,pn(),t,a.transform,n,a):a.transform.apply(a,n))}function gd(e,t){return e[1].data[t].pure}function yd(e,t){return Xs.isWrapped(t)&&(t=Xs.unwrap(t),e[vn()]=_o),t}function bd(e){return function(t){setTimeout(e,void 0,t)}}var _d=function(e){c(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(e=t.call(this)).__isAsync=r,e}return g(n,[{key:"emit",value:function(e){s(p(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,a,o,c=e,l=t||function(){return null},u=r;if(e&&"object"==typeof e){var h=e;c=null===(i=h.next)||void 0===i?void 0:i.bind(h),l=null===(a=h.error)||void 0===a?void 0:a.bind(h),u=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(l=bd(l),c&&(c=bd(c)),u&&(u=bd(u)));var f=s(p(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:u});return e instanceof R&&e.add(f),f}}]),n}(V);function wd(){return this._results[Zs()]()}var kd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Zs(),r=e.prototype;r[n]||(r[n]=wd)}return g(e,[{key:"changes",get:function(){return this._changes||(this._changes=new _d)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=Pr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Sd=function(){function e(t){v(this,e),this.queryList=t,this.matches=null}return g(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),xd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,e),this.queries=t}return g(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],a=0;a<r;a++){var o=n.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==zd(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Cd=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,e),this.predicate=t,this.flags=n,this.read=r},Ed=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,e),this.queries=t}return g(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Rd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;v(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return g(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,Ad(t,i)),this.matchTNodeWithReadOption(e,t,dr(t,e,i,!1,!1))}else n===Tf?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dr(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Xh||r===Lf||r===Tf&&4&t.type)this.addMatch(t.index,-2);else{var i=dr(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ad(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Td(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Yh(e,t):4&e.type?Of(e,t):null}(t,e):-2===n?function(e,t,n){return n===Xh?Yh(t,e):n===Tf?Of(t,e):n===Lf?jf(t,e):void 0}(e,t,r):pr(e,e[1],n,t)}function Id(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var a=e.data,o=n.matches,s=[],c=0;c<o.length;c+=2){var l=o[c];s.push(l<0?null:Td(t,a[l],o[c+1],n.metadata.read))}i.matches=s}return i.matches}function Od(e,t,n,r){var i=e.queries.getByIndex(n),a=i.matches;if(null!==a)for(var o=Id(e,t,i,n),s=0;s<a.length;s+=2){var c=a[s];if(c>0)r.push(o[s/2]);else{for(var l=a[s+1],u=t[-c],h=10;h<u.length;h++){var f=u[h];f[17]===f[3]&&Od(f[1],f,l,r)}if(null!==u[9])for(var d=u[9],p=0;p<d.length;p++){var v=d[p];Od(v[1],v,l,r)}}}return r}function Dd(e){var t=nn(),n=rn(),r=kn();Sn(r+1);var i=zd(n,r);if(e.dirty&&Wt(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var a=i.crossesNgTemplate?Od(n,t,r,[]):Id(n,t,i,r);e.reset(a,Kh),e.notifyOnChanges()}return!0}return!1}function Md(e,t,n){var r=rn();r.firstCreatePass&&(Nd(r,new Cd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Fd(r,nn(),t)}function Pd(e,t,n,r){var i=rn();if(i.firstCreatePass){var a=on();Nd(i,new Cd(t,n,r),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Fd(i,nn(),n)}function Ld(){return e=nn(),t=kn(),e[19].queries[t].queryList;var e,t}function Fd(e,t,n){var r=new kd(4==(4&n));Ho(e,t,r,r.destroy),null===t[19]&&(t[19]=new xd),t[19].queries.push(new Sd(r))}function Nd(e,t,n){null===e.queries&&(e.queries=new Ed),e.queries.track(new Rd(t,n))}function zd(e,t){return e.queries.getByIndex(t)}function jd(e,t){return Of(e,t)}function Bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue.Default,t=xf(!0);if(null!=t||e&Ue.Optional)return t;Ie("ChangeDetectorRef")}var Vd={"\u0275\u0275attribute":ac,"\u0275\u0275attributeInterpolate1":vc,"\u0275\u0275attributeInterpolate2":mc,"\u0275\u0275attributeInterpolate3":gc,"\u0275\u0275attributeInterpolate4":yc,"\u0275\u0275attributeInterpolate5":bc,"\u0275\u0275attributeInterpolate6":_c,"\u0275\u0275attributeInterpolate7":wc,"\u0275\u0275attributeInterpolate8":kc,"\u0275\u0275attributeInterpolateV":Sc,"\u0275\u0275defineComponent":ut,"\u0275\u0275defineDirective":yt,"\u0275\u0275defineInjectable":De,"\u0275\u0275defineInjector":Me,"\u0275\u0275defineNgModule":vt,"\u0275\u0275definePipe":bt,"\u0275\u0275directiveInject":Mc,"\u0275\u0275getInheritedFactory":yr,"\u0275\u0275inject":ti,"\u0275\u0275injectAttribute":_r,"\u0275\u0275invalidFactory":Pc,"\u0275\u0275invalidFactoryDep":ni,"\u0275\u0275injectPipeChangeDetectorRef":Bd,"\u0275\u0275templateRefExtractor":jd,"\u0275\u0275NgOnChangesFeature":Dt,"\u0275\u0275ProvidersFeature":Hh,"\u0275\u0275CopyDefinitionFeature":Ws,"\u0275\u0275InheritDefinitionFeature":Bs,"\u0275\u0275nextContext":Qc,"\u0275\u0275namespaceHTML":Nn,"\u0275\u0275namespaceMathML":Fn,"\u0275\u0275namespaceSVG":Ln,"\u0275\u0275enableBindings":en,"\u0275\u0275disableBindings":tn,"\u0275\u0275elementStart":Nc,"\u0275\u0275elementEnd":zc,"\u0275\u0275element":jc,"\u0275\u0275elementContainerStart":Bc,"\u0275\u0275elementContainerEnd":Vc,"\u0275\u0275elementContainer":Uc,"\u0275\u0275pureFunction0":Zf,"\u0275\u0275pureFunction1":Xf,"\u0275\u0275pureFunction2":Kf,"\u0275\u0275pureFunction3":Qf,"\u0275\u0275pureFunction4":Jf,"\u0275\u0275pureFunction5":ed,"\u0275\u0275pureFunction6":td,"\u0275\u0275pureFunction7":nd,"\u0275\u0275pureFunction8":rd,"\u0275\u0275pureFunctionV":id,"\u0275\u0275getCurrentView":Hc,"\u0275\u0275restoreView":an,"\u0275\u0275listener":Wc,"\u0275\u0275projection":tl,"\u0275\u0275syntheticHostProperty":Cu,"\u0275\u0275syntheticHostListener":Yc,"\u0275\u0275pipeBind1":fd,"\u0275\u0275pipeBind2":dd,"\u0275\u0275pipeBind3":pd,"\u0275\u0275pipeBind4":vd,"\u0275\u0275pipeBindV":md,"\u0275\u0275projectionDef":el,"\u0275\u0275hostProperty":xu,"\u0275\u0275property":Lc,"\u0275\u0275propertyInterpolate":nl,"\u0275\u0275propertyInterpolate1":rl,"\u0275\u0275propertyInterpolate2":il,"\u0275\u0275propertyInterpolate3":al,"\u0275\u0275propertyInterpolate4":ol,"\u0275\u0275propertyInterpolate5":sl,"\u0275\u0275propertyInterpolate6":cl,"\u0275\u0275propertyInterpolate7":ll,"\u0275\u0275propertyInterpolate8":ul,"\u0275\u0275propertyInterpolateV":hl,"\u0275\u0275pipe":hd,"\u0275\u0275queryRefresh":Dd,"\u0275\u0275viewQuery":Md,"\u0275\u0275loadQuery":Ld,"\u0275\u0275contentQuery":Pd,"\u0275\u0275reference":Cc,"\u0275\u0275classMap":Rl,"\u0275\u0275classMapInterpolate1":Kl,"\u0275\u0275classMapInterpolate2":Ql,"\u0275\u0275classMapInterpolate3":Jl,"\u0275\u0275classMapInterpolate4":eu,"\u0275\u0275classMapInterpolate5":tu,"\u0275\u0275classMapInterpolate6":nu,"\u0275\u0275classMapInterpolate7":ru,"\u0275\u0275classMapInterpolate8":iu,"\u0275\u0275classMapInterpolateV":au,"\u0275\u0275styleMap":Cl,"\u0275\u0275styleMapInterpolate1":ou,"\u0275\u0275styleMapInterpolate2":su,"\u0275\u0275styleMapInterpolate3":cu,"\u0275\u0275styleMapInterpolate4":lu,"\u0275\u0275styleMapInterpolate5":uu,"\u0275\u0275styleMapInterpolate6":hu,"\u0275\u0275styleMapInterpolate7":fu,"\u0275\u0275styleMapInterpolate8":du,"\u0275\u0275styleMapInterpolateV":pu,"\u0275\u0275styleProp":Sl,"\u0275\u0275stylePropInterpolate1":vu,"\u0275\u0275stylePropInterpolate2":mu,"\u0275\u0275stylePropInterpolate3":gu,"\u0275\u0275stylePropInterpolate4":yu,"\u0275\u0275stylePropInterpolate5":bu,"\u0275\u0275stylePropInterpolate6":_u,"\u0275\u0275stylePropInterpolate7":wu,"\u0275\u0275stylePropInterpolate8":ku,"\u0275\u0275stylePropInterpolateV":Su,"\u0275\u0275classProp":xl,"\u0275\u0275advance":wo,"\u0275\u0275template":xc,"\u0275\u0275text":Bl,"\u0275\u0275textInterpolate":Vl,"\u0275\u0275textInterpolate1":Ul,"\u0275\u0275textInterpolate2":Hl,"\u0275\u0275textInterpolate3":$l,"\u0275\u0275textInterpolate4":ql,"\u0275\u0275textInterpolate5":Gl,"\u0275\u0275textInterpolate6":Wl,"\u0275\u0275textInterpolate7":Yl,"\u0275\u0275textInterpolate8":Zl,"\u0275\u0275textInterpolateV":Xl,"\u0275\u0275i18n":Oh,"\u0275\u0275i18nAttributes":Dh,"\u0275\u0275i18nExp":Mh,"\u0275\u0275i18nStart":Th,"\u0275\u0275i18nEnd":Ih,"\u0275\u0275i18nApply":Ph,"\u0275\u0275i18nPostprocess":Lh,"\u0275\u0275resolveWindow":wa,"\u0275\u0275resolveDocument":ka,"\u0275\u0275resolveBody":Sa,"\u0275\u0275setComponentScope":ht,"\u0275\u0275setNgModuleScope":mt,"\u0275\u0275sanitizeHtml":ia,"\u0275\u0275sanitizeStyle":aa,"\u0275\u0275sanitizeResourceUrl":sa,"\u0275\u0275sanitizeScript":ca,"\u0275\u0275sanitizeUrl":oa,"\u0275\u0275sanitizeUrlOrResourceUrl":ha,"\u0275\u0275trustConstantHtml":la,"\u0275\u0275trustConstantResourceUrl":ua,forwardRef:xe,resolveForwardRef:Ce};function Ud(e,t){var n=null;(function(e,t){var n=null;Object.defineProperty(e,st,{get:function(){if(null===n){var r=Hd(e,t),i=Or();n=i.compileFactory(Vd,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})})(e,t||{}),Object.defineProperty(e,rt,{get:function(){if(null===n){var r=Hd(e,t||{});n=Or().compileDirective(Vd,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Hd(e,t){var n=e&&e.name,r="ng:///".concat(n,"/\u0275dir.js"),i=Or(),a=function(e,t){var n,r=pi(),i=r.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:vi(e),host:t.host||Je,propMetadata:i,inputs:t.inputs||tt,outputs:t.outputs||tt,queries:qd(e,i,Gd),lifecycle:{usesOnChanges:r.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!$d(e),exportAs:(n=t.exportAs,void 0===n?null:Zd(n)),providers:t.providers||null,viewQueries:qd(e,i,Wd)}}(e,t);return a.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),a.usesInheritance&&function(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)wt(n)||_t(n)||!Kd(n)||Ud(n,null),n=Object.getPrototypeOf(n)}(e),{metadata:a,sourceMapUrl:r}}function $d(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function qd(e,t,n){var r=[],i=function(i){if(t.hasOwnProperty(i)){var a=t[i];a.forEach(function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(i,'" of "').concat(Te(e),"\" since the query selector wasn't defined."));if(a.some(Yd))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Zd(n):Ce(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}(i,t))}})}};for(var a in t)i(a);return r}function Gd(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Wd(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Yd(e){return"Input"===e.ngMetadataName}function Zd(e){return e.split(",").map(function(e){return e.trim()})}var Xd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Kd(e){var t=pi();if(Xd.some(function(n){return t.hasLifecycleHook(e,n)}))return!0;var n=t.propMetadata(e);for(var r in n)for(var i=n[r],a=0;a<i.length;a++){var o=i[a],s=o.ngMetadataName;if(Yd(o)||Gd(o)||Wd(o)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}var Qd=xr("Directive",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},void 0,void 0,function(e,t){return ep(e,t)}),Jd=function(e,t,n,r){return qe(function(){var i=Cr(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return i.apply(this,t),this;var s=o(a,t);return function(e,n){var i=e.constructor,a=i.hasOwnProperty(Sr)?i[Sr]:Object.defineProperty(i,Sr,{value:{}})[Sr];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}("Input",function(e){return{bindingPropertyName:e}}),ep=Ud,tp=new Ar("Application Initializer"),np=function(){var e=function(){function e(t){var n=this;v(this,e),this.appInits=t,this.resolve=Wh,this.reject=Wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return g(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();$c(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ti(tp,8))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}(),rp=new Ar("AppId"),ip={provide:rp,useFactory:function(){return"".concat(ap()).concat(ap()).concat(ap())},deps:[]};function ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var op=new Ar("Platform Initializer"),sp=new Ar("Platform ID"),cp=new Ar("appBootstrapListener"),lp=function(){var e=function(){function e(){v(this,e)}return g(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}(),up=new Ar("LocaleId"),hp=new Ar("DefaultCurrencyCode"),fp=function e(t,n){v(this,e),this.ngModuleFactory=t,this.componentFactories=n},dp=function(e){return new Yf(e)},pp=dp,vp=function(e){return Promise.resolve(dp(e))},mp=function(e){var t=dp(e),n=xa(kt(e).declarations).reduce(function(e,t){var n=_t(t);return n&&e.push(new $f(n)),e},[]);return new fp(t,n)},gp=mp,yp=function(e){return Promise.resolve(mp(e))},bp=function(){var e=function(){function e(){v(this,e),this.compileModuleSync=pp,this.compileModuleAsync=vp,this.compileModuleAndAllComponentsSync=gp,this.compileModuleAndAllComponentsAsync=yp}return g(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}(),_p=Promise.resolve(0);function wp(e){"undefined"==typeof Zone?_p.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var kp=function(){function e(t){var n,r,i=t.enableLongStackTrace,a=void 0!==i&&i,o=t.shouldCoalesceEventChangeDetection,s=void 0!==o&&o,c=t.shouldCoalesceRunChangeDetection,l=void 0!==c&&c;if(v(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _d(!1),this.onMicrotaskEmpty=new _d(!1),this.onStable=new _d(!1),this.onError=new _d(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!l&&s,this.shouldCoalesceRunChangeDetection=l,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Qe.requestAnimationFrame,t=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Qe,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Cp(e),xp(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Cp(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,i,a,o,s){try{return Ep(n),e.invokeTask(i,a,o,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&r(),Rp(n)}},onInvoke:function(e,t,i,a,o,s,c){try{return Ep(n),e.invoke(i,a,o,s,c)}finally{n.shouldCoalesceRunChangeDetection&&r(),Rp(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Cp(n),xp(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return g(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,Sp,Wh,Wh);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Sp={};function xp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Cp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ep(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rp(e){e._nesting--,xp(e)}var Ap,Tp=function(){function e(){v(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _d,this.onMicrotaskEmpty=new _d,this.onStable=new _d,this.onError=new _d}return g(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ip=function(){var e=function(){function e(t){var n=this;v(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){kp.assertNotInAngularZone(),wp(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())wp(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ti(kp))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}(),Op=function(){var e=function(){function e(){v(this,e),this._applications=new Map,Dp.addToWindow(this)}return g(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Dp.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}(),Dp=new(function(){function e(){v(this,e)}return g(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Mp=!0,Pp=!1;function Lp(){return Pp=!0,Mp}var Fp=new Ar("AllowMultipleToken"),Np=function e(t,n){v(this,e),this.name=t,this.token=n};function zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Ar(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=jp();if(!a||a.injector.get(Fp,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0},{provide:xs,useValue:"platform"});!function(e){if(Ap&&!Ap.destroyed&&!Ap.injector.get(Fp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ap=e.get(Bp);var t=e.get(op,null);t&&t.forEach(function(e){return e()})}(Ns.create({providers:o,name:r}))}return function(e){var t=jp();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function jp(){return Ap&&!Ap.destroyed?Ap:null}var Bp=function(){var e=function(){function e(t){v(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,a=(n=t?t.ngZone:void 0,r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new Tp:("zone.js"===n?void 0:n)||new kp({enableLongStackTrace:Lp(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),o=[{provide:kp,useValue:a}];return a.run(function(){var t=Ns.create({providers:o,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(ma,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(function(){var e=a.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){$p(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var a=((o=n.injector.get(np)).runInitializers(),o.donePromise.then(function(){return Nu(n.injector.get(up,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return $c(a)?a.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):a}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var o}(r,a)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Vp({},n);return function(e,t,n){var r=new Yf(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Hp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(we(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ti(Ns))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e}();function Vp(e,t){return Array.isArray(t)?t.reduce(Vp,e):Object.assign(Object.assign({},e),t)}var Up,Hp=((Up=function(){function e(t,n,r,i,a){var o=this;v(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new L(function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){e.next(o._stable),e.complete()})}),c=new L(function(e){var t;o._zone.runOutsideAngular(function(){t=o._zone.onStable.subscribe(function(){kp.assertNotInAngularZone(),wp(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))})})});var n=o._zone.onUnstable.subscribe(function(){kp.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=le(s,c.pipe(ye()))}return g(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof $h?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Df),a=n.create(Ns.NULL,[],t||n.selector,i),o=a.location.nativeElement,s=a.injector.get(Ip,null),c=s&&a.injector.get(Op);return s&&c&&c.registerApplication(o,s),a.onDestroy(function(){r.detachView(a.hostView),$p(r.components,a),c&&c.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var n,r=t(this._views);try{for(r.s();!(n=r.n()).done;)n.value.detectChanges()}catch(i){r.e(i)}finally{r.f()}}catch(a){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(a)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;$p(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(cp,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Up)(ti(kp),ti(Ns),ti(ma),ti(Gh),ti(np))},Up.\u0275prov=De({token:Up,factory:Up.\u0275fac}),Up);function $p(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var qp=function e(){v(this,e)},Gp=function e(){v(this,e)},Wp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yp=function(){var t=function(){function t(e,n){v(this,t),this._compiler=e,this._config=n||Wp}return g(t,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(t){var n=this,r=e(t.split("#"),2),i=r[0],a=r[1];return void 0===a&&(a="default"),l("zn8P")(i).then(function(e){return e[a]}).then(function(e){return Zp(e,i,a)}).then(function(e){return n._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),r=n[0],i=n[1],a="NgFactory";return void 0===i&&(i="default",a=""),l("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+a]}).then(function(e){return Zp(e,r,i)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ti(bp),ti(Gp,8))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),t}();function Zp(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Xp=zp(null,"core",[{provide:sp,useValue:"unknown"},{provide:Bp,deps:[Ns]},{provide:Op,deps:[]},{provide:lp,deps:[]}]),Kp=[{provide:Hp,useClass:Hp,deps:[kp,Ns,ma,Gh,np]},{provide:Hf,deps:[kp],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:np,useClass:np,deps:[[new li,tp]]},{provide:bp,useClass:bp,deps:[]},ip,{provide:mf,useFactory:function(){return Ef},deps:[]},{provide:yf,useFactory:function(){return Rf},deps:[]},{provide:up,useFactory:function(e){return Nu(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ci(up),new li,new hi]]},{provide:hp,useValue:"USD"}],Qp=function(){var e=function e(t){v(this,e)};return e.\u0275fac=function(t){return new(t||e)(ti(Hp))},e.\u0275mod=vt({type:e}),e.\u0275inj=Me({providers:Kp}),e}(),Jp=null;function ev(){return Jp}var tv,nv=new Ar("DocumentToken"),rv=((tv=function e(){v(this,e)}).\u0275fac=function(e){return new(e||tv)},tv.\u0275prov=De({factory:iv,token:tv,providedIn:"platform"}),tv);function iv(){return ti(sv)}var av,ov=new Ar("Location Initialized"),sv=((av=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this))._doc=e,r._init(),r}return g(n,[{key:"_init",value:function(){this.location=ev().getLocation(),this._history=ev().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return ev().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){ev().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){ev().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){cv()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){cv()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(rv)).\u0275fac=function(e){return new(e||av)(ti(nv))},av.\u0275prov=De({factory:lv,token:av,providedIn:"platform"}),av);function cv(){return!!window.history.pushState}function lv(){return new sv(ti(nv))}function uv(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hv(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fv(e){return e&&"?"!==e[0]?"?"+e:e}var dv,pv=((dv=function e(){v(this,e)}).\u0275fac=function(e){return new(e||dv)},dv.\u0275prov=De({factory:vv,token:dv,providedIn:"root"}),dv);function vv(e){var t=ti(nv).location;return new _v(ti(rv),t&&t.origin||"")}var mv,gv,yv,bv=new Ar("appBaseHref"),_v=((yv=function(e){c(n,e);var t=u(n);function n(e,r){var i;if(v(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return g(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return uv(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+fv(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fv(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fv(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(pv)).\u0275fac=function(e){return new(e||yv)(ti(rv),ti(bv,8))},yv.\u0275prov=De({token:yv,factory:yv.\u0275fac}),yv),wv=((gv=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return g(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=uv(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fv(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fv(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(pv)).\u0275fac=function(e){return new(e||gv)(ti(rv),ti(bv,8))},gv.\u0275prov=De({token:gv,factory:gv.\u0275fac}),gv),kv=((mv=function(){function e(t,n){var r=this;v(this,e),this._subject=new _d,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=hv(xv(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return g(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+fv(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,xv(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fv(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fv(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||mv)(ti(pv),ti(rv))},mv.normalizeQueryParams=fv,mv.joinWithSlash=uv,mv.stripTrailingSlash=hv,mv.\u0275prov=De({factory:Sv,token:mv,providedIn:"root"}),mv);function Sv(){return new kv(ti(pv),ti(rv))}function xv(e){return e.replace(/\/index.html$/,"")}var Cv,Ev=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Rv=Tu,Av=function e(){v(this,e)},Tv=((Cv=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this)).locale=e,r}return g(n,[{key:"getPluralCategory",value:function(e,t){switch(Rv(t||this.locale)(e)){case Ev.Zero:return"zero";case Ev.One:return"one";case Ev.Two:return"two";case Ev.Few:return"few";case Ev.Many:return"many";default:return"other"}}}]),n}(Av)).\u0275fac=function(e){return new(e||Cv)(ti(up))},Cv.\u0275prov=De({token:Cv,factory:Cv.\u0275fac}),Cv);function Iv(n,r){r=encodeURIComponent(r);var i,a=t(n.split(";"));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.indexOf("="),c=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),l=c[0],u=c[1];if(l.trim()===r)return decodeURIComponent(u)}}catch(h){a.e(h)}finally{a.f()}return null}var Ov,Dv,Mv,Pv=((Ov=function(){function e(t,n,r,i){v(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ks(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(we(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}()).\u0275fac=function(e){return new(e||Ov)(Mc(mf),Mc(yf),Mc(Xh),Mc(Jh))},Ov.\u0275dir=yt({type:Ov,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Ov),Lv=function(){function e(t,n,r,i){v(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return g(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Fv=((Dv=function(){function e(t,n,r){v(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new Lv(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new Nv(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var c=new Nv(e,s);n.push(c)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Dv)(Mc(Lf),Mc(Tf),Mc(mf))},Dv.\u0275dir=yt({type:Dv,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Dv),Nv=function e(t,n){v(this,e),this.record=t,this.view=n},zv=((Mv=function(){function e(t,n){v(this,e),this._viewContainer=t,this._context=new jv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Bv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Bv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Mv)(Mc(Lf),Mc(Tf))},Mv.\u0275dir=yt({type:Mv,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Mv),jv=function e(){v(this,e),this.$implicit=null,this.ngIf=null};function Bv(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(we(t),"'."))}var Vv,Uv,Hv,$v,qv,Gv=function(){function e(t,n){v(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return g(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Wv=((Hv=function(){function e(){v(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return g(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}()).\u0275fac=function(e){return new(e||Hv)},Hv.\u0275dir=yt({type:Hv,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Hv),Yv=((Uv=function(){function e(t,n,r){v(this,e),this.ngSwitch=r,r._addCase(),this._view=new Gv(t,n)}return g(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||Uv)(Mc(Lf),Mc(Tf),Mc(Wv,9))},Uv.\u0275dir=yt({type:Uv,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Uv),Zv=((Vv=function e(t,n,r){v(this,e),r._addDefault(new Gv(t,n))}).\u0275fac=function(e){return new(e||Vv)(Mc(Lf),Mc(Tf),Mc(Wv,9))},Vv.\u0275dir=yt({type:Vv,selectors:[["","ngSwitchDefault",""]]}),Vv),Xv=function(){function e(){v(this,e)}return g(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Kv=new(function(){function e(){v(this,e)}return g(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Qv=new Xv,Jv=((qv=function(){function e(t){v(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return g(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if($c(t))return Kv;if(qc(t))return Qv;throw Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(we(e),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||qv)(Bd())},qv.\u0275pipe=bt({name:"async",type:qv,pure:!1}),qv),em=(($v=function(){function e(t){v(this,e),this.differs=t,this.keyValues=[]}return g(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tm;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e);return r&&(this.keyValues=[],r.forEachItem(function(e){t.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(n)),this.keyValues}}]),e}()).\u0275fac=function(e){return new(e||$v)(Mc(yf))},$v.\u0275pipe=bt({name:"keyvalue",type:$v,pure:!1}),$v);function tm(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),a=String(r);return i==a?0:i<a?-1:1}var nm,rm=((nm=function e(){v(this,e)}).\u0275fac=function(e){return new(e||nm)},nm.\u0275mod=vt({type:nm}),nm.\u0275inj=Me({providers:[{provide:Av,useClass:Tv}]}),nm);function im(e){return"browser"===e}var am,om=((am=function e(){v(this,e)}).\u0275prov=De({token:am,providedIn:"root",factory:function(){return new sm(ti(nv),window)}}),am),sm=function(){function e(t,n){v(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return g(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(t)||a.querySelector('[name="'.concat(t,'"]'));if(o)return o}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=cm(this.window.history)||cm(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function cm(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var lm,um,hm,fm,dm=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=pm||(pm=document.querySelector("base"))?pm.getAttribute("href"):null;return null==n?null:(t=n,lm||(lm=document.createElement("a")),lm.setAttribute("href",t),"/"===lm.pathname.charAt(0)?lm.pathname:"/"+lm.pathname)}},{key:"resetBaseElement",value:function(){pm=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Iv(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Jp||(Jp=e)}}]),n}(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.call(this)}return g(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){v(this,e)}}())),pm=null,vm=new Ar("TRANSITION_ID"),mm=[{provide:tp,useFactory:function(e,t,n){return function(){n.get(np).donePromise.then(function(){var n=ev();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[vm,nv,Ns],multi:!0}],gm=function(){function e(){v(this,e)}return g(e,[{key:"addToWindow",value:function(e){Qe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Qe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Qe.getAllAngularRootElements=function(){return e.getAllRootElements()},Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(function(e){var t=Qe.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?ev().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,Dp=t}}]),e}(),ym=new Ar("EventManagerPlugins"),bm=((um=function(){function e(t,n){var r=this;v(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return g(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||um)(ti(ym),ti(kp))},um.\u0275prov=De({token:um,factory:um.\u0275fac}),um),_m=function(){function e(t){v(this,e),this._doc=t}return g(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=ev().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),wm=((fm=function(){function e(){v(this,e),this._stylesSet=new Set}return g(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||fm)},fm.\u0275prov=De({token:fm,factory:fm.\u0275fac}),fm),km=((hm=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return g(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(Sm),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(Sm)})}}]),n}(wm)).\u0275fac=function(e){return new(e||hm)(ti(nv))},hm.\u0275prov=De({token:hm,factory:hm.\u0275fac}),hm);function Sm(e){ev().remove(e)}var xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cm=/%COMP%/g;function Em(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Em(e,i,n):(i=i.replace(Cm,e),n.push(i))}return n}function Rm(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Am,Tm,Im,Om,Dm,Mm,Pm=((Am=function(){function e(t,n,r){v(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Lm(t)}return g(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case We.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Fm(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case We.ShadowDom:return new Nm(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Em(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Am)(ti(bm),ti(km),ti(rp))},Am.\u0275prov=De({token:Am,factory:Am.\u0275fac}),Am),Lm=function(){function e(t){v(this,e),this.eventManager=t,this.data=Object.create(null)}return g(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(xm[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=xm[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=xm[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(Ea.DashCase|Ea.Important)?e.style.setProperty(t,n,r&Ea.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Ea.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rm(n)):this.eventManager.addEventListener(e,t,Rm(n))}}]),e}(),Fm=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;v(this,n),(o=t.call(this,e)).component=i;var s=Em(a+"-"+i.id,i.styles,[]);return r.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(Cm,a+"-"+i.id),o.hostAttr="_nghost-%COMP%".replace(Cm,a+"-"+i.id),o}return g(n,[{key:"applyToHost",value:function(e){s(p(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=s(p(n.prototype),"createElement",this).call(this,e,t);return s(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Lm),Nm=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;v(this,n),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=i,o.shadowRoot=i.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Em(a.id,a.styles,[]),c=0;c<s.length;c++){var l=document.createElement("style");l.textContent=s[c],o.shadowRoot.appendChild(l)}return o}return g(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return s(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return s(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return s(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(s(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Lm),zm=((Tm=function(e){c(n,e);var t=u(n);function n(e){return v(this,n),t.call(this,e)}return g(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(_m)).\u0275fac=function(e){return new(e||Tm)(ti(nv))},Tm.\u0275prov=De({token:Tm,factory:Tm.\u0275fac}),Tm),jm=["alt","control","meta","shift"],Bm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Um={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Hm=((Dm=function(e){c(n,e);var t=u(n);function n(e){return v(this,n),t.call(this,e)}return g(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),a=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return ev().onAndCancel(e,i.domEventName,a)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(jm.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Vm.hasOwnProperty(t)&&(t=Vm[t]))}return Bm[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),jm.forEach(function(r){r!=n&&(0,Um[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(_m)).\u0275fac=function(e){return new(e||Dm)(ti(nv))},Dm.\u0275prov=De({token:Dm,factory:Dm.\u0275fac}),Dm),$m=((Om=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Om)},Om.\u0275prov=De({factory:function(){return ti(qm)},token:Om,providedIn:"root"}),Om),qm=((Im=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this))._doc=e,r}return g(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case ra.NONE:return t;case ra.HTML:return Ii(t,"HTML")?Ti(t):ta(this._doc,String(t)).toString();case ra.STYLE:return Ii(t,"Style")?Ti(t):t;case ra.SCRIPT:if(Ii(t,"Script"))return Ti(t);throw new Error("unsafe value used in a script context");case ra.URL:return Oi(t),Ii(t,"URL")?Ti(t):Ni(String(t));case ra.RESOURCE_URL:if(Ii(t,"ResourceURL"))return Ti(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new xi(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Ci(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Ei(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Ri(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Ai(e)}}]),n}($m)).\u0275fac=function(e){return new(e||Im)(ti(nv))},Im.\u0275prov=De({factory:function(){return e=ti(ks),new qm(e.get(nv));var e},token:Im,providedIn:"root"}),Im),Gm=zp(Xp,"browser",[{provide:sp,useValue:"browser"},{provide:op,useValue:function(){dm.makeCurrent(),gm.init()},multi:!0},{provide:nv,useFactory:function(){return function(e){It=e}(document),document},deps:[]}]),Wm=[[],{provide:xs,useValue:"root"},{provide:ma,useFactory:function(){return new ma},deps:[]},{provide:ym,useClass:zm,multi:!0,deps:[nv,kp,sp]},{provide:ym,useClass:Hm,multi:!0,deps:[nv]},[],{provide:Pm,useClass:Pm,deps:[bm,km,rp]},{provide:Qh,useExisting:Pm},{provide:wm,useExisting:km},{provide:km,useClass:km,deps:[nv]},{provide:Ip,useClass:Ip,deps:[kp]},{provide:bm,useClass:bm,deps:[ym,kp]},[]],Ym=((Mm=function(){function e(t){if(v(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:rp,useValue:t.appId},{provide:vm,useExisting:rp},mm]}}}]),e}()).\u0275fac=function(e){return new(e||Mm)(ti(Mm,12))},Mm.\u0275mod=vt({type:Mm}),Mm.\u0275inj=Me({providers:Wm,imports:[rm,Qp]}),Mm);"undefined"!=typeof window&&window;var Zm,Xm,Km=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Zm=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return Zm.apply(n,e)}},e.id="FunctionToString",e}(),Qm=l("SOwp"),Jm=l("9AQC"),eg=l("kdvv");!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(Xm||(Xm={}));var tg=function(){function e(e){var t=this;this._state=Xm.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(Xm.RESOLVED,e)},this._reject=function(e){t._setResult(Xm.REJECTED,e)},this._setResult=function(e,n){t._state===Xm.PENDING&&(Object(Jm.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==Xm.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e.done||(t._state===Xm.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===Xm.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(t){return new e(function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,a=[];t.forEach(function(t,o){e.resolve(t).then(function(e){a[o]=e,0==(i-=1)&&n(a)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,n){var r=this;return new e(function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void i(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void i(r)}else i(t)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var n=this;return new e(function(e,r){var i,a;return n.then(function(e){a=!1,i=e,t&&t()},function(e){a=!0,i=e,t&&t()}).then(function(){a?r(i):e(i)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),ng=l("9/Zf"),rg=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=Object(Qm.f)(t._breadcrumbs),n._tags=Object(Qm.a)({},t._tags),n._extra=Object(Qm.a)({},t._extra),n._contexts=Object(Qm.a)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=Object(Qm.f)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=Object(Qm.a)(Object(Qm.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=Object(Qm.a)(Object(Qm.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(Qm.a)(Object(Qm.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=Object(Qm.a)(Object(Qm.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(Qm.a)(Object(Qm.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Object(Qm.a)(Object(Qm.a)({},this._tags),t._tags),this._extra=Object(Qm.a)(Object(Qm.a)({},this._extra),t._extra),this._contexts=Object(Qm.a)(Object(Qm.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):Object(Jm.h)(t)&&(t=t,this._tags=Object(Qm.a)(Object(Qm.a)({},this._tags),t.tags),this._extra=Object(Qm.a)(Object(Qm.a)({},this._extra),t.extra),this._contexts=Object(Qm.a)(Object(Qm.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=Object(Qm.a)({timestamp:Object(eg.b)()},e);return this._breadcrumbs=void 0!==t&&t>=0?Object(Qm.f)(this._breadcrumbs,[n]).slice(-t):Object(Qm.f)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(Qm.a)(Object(Qm.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(Qm.a)(Object(Qm.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(Qm.a)(Object(Qm.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(Qm.a)(Object(Qm.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(Qm.a)({trace:this._span.getTraceContext()},e.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(e.tags=Object(Qm.a)({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(Qm.f)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(Qm.f)(ig(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,r){var i=this;return void 0===r&&(r=0),new tg(function(a,o){var s=e[r];if(null===t||"function"!=typeof s)a(t);else{var c=s(Object(Qm.a)({},t),n);Object(Jm.m)(c)?c.then(function(t){return i._notifyEventProcessors(e,t,n,r+1).then(a)}).then(null,o):i._notifyEventProcessors(e,c,n,r+1).then(a).then(null,o)}})},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function ig(){var e=Object(ng.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function ag(e){ig().push(e)}var og,sg=l("8LbN"),cg=l("+A1k");!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(og||(og={}));var lg=l("6PXS"),ug=function(){function e(e){this.errors=0,this.sid=Object(ng.j)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=og.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(ng.j)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.duration="number"==typeof e.duration?e.duration:this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===og.Ok?this.update({status:og.Exited}):this.update()},e.prototype.toJSON=function(){return Object(lg.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(lg.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),hg=function(){function e(e,t,n){void 0===t&&(t=new rg),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=rg.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(ng.j)(),r=t;if(!t){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(e){i=e}r={originalException:e,syntheticException:i}}return this._invokeClient("captureException",e,Object(Qm.a)(Object(Qm.a)({},r),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=Object(ng.j)(),i=n;if(!n){var a=void 0;try{throw new Error(e)}catch(o){a=o}i={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,t,Object(Qm.a)(Object(Qm.a)({},i),{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(ng.j)();return this._invokeClient("captureEvent",e,Object(Qm.a)(Object(Qm.a)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var a=i.getOptions&&i.getOptions()||{},o=a.beforeBreadcrumb,s=void 0===o?null:o,c=a.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var u=Object(eg.b)(),h=Object(Qm.a)({timestamp:u},e),f=s?Object(ng.c)(function(){return s(h,t)}):h;null!==f&&r.addBreadcrumb(f,Math.min(l,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope;n&&t.client&&e(n)},e.prototype.run=function(e){var t=dg(this);try{e(this)}finally{dg(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return sg.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},a=i.release,o=i.environment,s=new ug(Object(Qm.a)(Object(Qm.a)({release:a,environment:o},n&&{user:n.getUser()}),e));return n&&n.setSession(s),s},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),a=i.scope,o=i.client;o&&o[e]&&(t=o)[e].apply(t,Object(Qm.f)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=fg(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);sg.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function fg(){var e=Object(ng.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function dg(e){var t=fg(),n=mg(t);return gg(t,e),n}function pg(){var e=fg();return vg(e)&&!mg(e).isOlderThan(3)||gg(e,new hg),Object(cg.b)()?function(e){try{var t=(r=fg().__SENTRY__)&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!t)return mg(e);if(!vg(t)||mg(t).isOlderThan(3)){var n=mg(e).getStackTop();gg(t,new hg(n.client,rg.clone(n.scope)))}return mg(t)}catch(i){return mg(e)}var r}(e):mg(e)}function vg(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function mg(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new hg),e.__SENTRY__.hub}function gg(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}var yg=l("+924"),bg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],_g=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){ag(function(t){var n=pg();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),a=i?i.getOptions():{},o=r._mergeOptions(a);if(r._shouldDropEvent(t,o))return null}return t})},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(sg.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(ng.d)(e)),!0):this._isIgnoredError(e,t)?(sg.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(ng.d)(e)),!0):this._isDeniedUrl(e,t)?(sg.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(ng.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(sg.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(ng.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(e){return t.ignoreErrors.some(function(t){return Object(yg.a)(e,t)})})},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some(function(e){return Object(yg.a)(n,e)})},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some(function(e){return Object(yg.a)(n,e)})},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(Qm.f)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(Qm.f)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(Qm.f)(this._options.ignoreErrors||[],e.ignoreErrors||[],bg),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=t.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(a){return sg.a.error("Cannot extract message for event "+Object(ng.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return sg.a.error("Cannot extract url for event "+Object(ng.d)(e)),null}},e.id="InboundFilters",e}(),wg=l("pRiV");function kg(){if(!("fetch"in Object(ng.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Sg(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function xg(){if(!kg())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var Cg,Eg,Rg,Ag=Object(ng.e)(),Tg={},Ig={};function Og(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(Tg[e.type]=Tg[e.type]||[],Tg[e.type].push(e.callback),function(e){if(!Ig[e])switch(Ig[e]=!0,e){case"console":"console"in Ag&&["debug","info","warn","error","log","assert"].forEach(function(e){e in Ag.console&&Object(lg.c)(Ag.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Dg("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,Ag.console,n)}})});break;case"dom":!function(){if("document"in Ag){var e=Dg.bind(null,"dom"),t=Lg(e,!0);Ag.document.addEventListener("click",t,!1),Ag.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(t){var n=Ag[t]&&Ag[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(lg.c)(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=a[n]=a[n]||{refCount:0};if(!o.handler){var s=Lg(e);o.handler=s,t.call(this,n,s,i)}o.refCount+=1}catch(c){}return t.call(this,n,r,i)}}),Object(lg.c)(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount-=1,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}}))})}}();break;case"xhr":!function(){if("XMLHttpRequest"in Ag){var e=[],t=[],n=XMLHttpRequest.prototype;Object(lg.c)(n,"open",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=this,o=r[1];a.__sentry_xhr__={method:Object(Jm.k)(r[0])?r[0].toUpperCase():r[0],url:r[1]},Object(Jm.k)(o)&&"POST"===a.__sentry_xhr__.method&&o.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var s=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(o){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var i=t.splice(n)[0];a.__sentry_xhr__&&void 0!==i[0]&&(a.__sentry_xhr__.body=i[0])}}catch(o){}Dg("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?Object(lg.c)(a,"onreadystatechange",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(a,t)}}):a.addEventListener("readystatechange",s),n.apply(a,r)}}),Object(lg.c)(n,"send",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),Dg("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}})}}();break;case"fetch":(function(){if(!kg())return!1;var e=Object(ng.e)();if(Sg(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Sg(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){sg.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t})()&&Object(lg.c)(Ag,"fetch",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:Mg(t),url:Pg(t)},startTimestamp:Date.now()};return Dg("fetch",Object(Qm.a)({},r)),e.apply(Ag,t).then(function(e){return Dg("fetch",Object(Qm.a)(Object(Qm.a)({},r),{endTimestamp:Date.now(),response:e})),e},function(e){throw Dg("fetch",Object(Qm.a)(Object(Qm.a)({},r),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":!function(){if(function(){var e=Object(ng.e)(),t=e.chrome;return!(t&&t.app&&t.app.runtime||!("history"in e)||!e.history.pushState||!e.history.replaceState)}()){var e=Ag.onpopstate;Ag.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ag.location.href,i=Cg;if(Cg=r,Dg("history",{from:i,to:r}),e)return e.apply(this,t)},Object(lg.c)(Ag.history,"pushState",t),Object(lg.c)(Ag.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var i=Cg,a=String(r);Cg=a,Dg("history",{from:i,to:a})}return e.apply(this,t)}}}();break;case"error":Ng=Ag.onerror,Ag.onerror=function(e,t,n,r,i){return Dg("error",{column:r,error:i,line:n,msg:e,url:t}),!!Ng&&Ng.apply(this,arguments)};break;case"unhandledrejection":zg=Ag.onunhandledrejection,Ag.onunhandledrejection=function(e){return Dg("unhandledrejection",e),!zg||zg.apply(this,arguments)};break;default:sg.a.warn("unknown instrumentation type:",e)}}(e.type))}function Dg(e,t){var n,r;if(e&&Tg[e])try{for(var i=Object(Qm.g)(Tg[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){sg.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(wg.a)(o)+"\nError: "+s)}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Mg(e){return void 0===e&&(e=[]),"Request"in Ag&&Object(Jm.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Pg(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in Ag&&Object(Jm.g)(e[0],Request)?e[0].url:String(e[0])}function Lg(e,t){return void 0===t&&(t=!1),function(n){if(n&&Rg!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Eg||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(Rg,n))&&(e({event:n,name:r,global:t}),Rg=n),clearTimeout(Eg),Eg=Ag.setTimeout(function(){Eg=void 0},1e3)}}}var Fg,Ng=null,zg=null,jg=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}),Bg=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,jg(r,n.prototype),r}return Object(Qm.c)(t,e),t}(Error),Vg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Ug=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.path,r=t.pass,i=t.port;return t.protocol+"://"+t.user+(e&&r?":"+r:"")+"@"+t.host+(i?":"+i:"")+"/"+(n?n+"/":n)+t.projectId},e.prototype._fromString=function(e){var t=Vg.exec(e);if(!t)throw new Bg("Invalid Dsn");var n=Object(Qm.d)(t.slice(1),6),r=n[0],i=n[1],a=n[2],o=void 0===a?"":a,s=n[3],c=n[4],l=void 0===c?"":c,u="",h=n[5],f=h.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),h=f.pop()),h){var d=h.match(/^\d+/);d&&(h=d[0])}this._fromComponents({host:s,pass:o,path:u,projectId:h,port:l,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(t){if(!e[t])throw new Bg("Invalid Dsn: "+t+" missing")}),!this.projectId.match(/^\d+$/))throw new Bg("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Bg("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Bg("Invalid Dsn: Invalid port "+this.port)},e}(),Hg=[],$g=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new Ug(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return r._captureEvent(e,t,n)}).then(function(e){i=e})),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,a=n&&n.event_id,o=Object(Jm.i)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(o.then(function(e){return i._captureEvent(e,n,r)}).then(function(e){a=e})),a},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(function(e){r=e})),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):sg.a.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then(function(n){return t._getBackend().getTransport().close(e).then(function(e){return n&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=function(e){var t={};return function(e){var t=e.defaultIntegrations&&Object(Qm.f)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map(function(e){return e.name}),a=[];t.forEach(function(e){-1===i.indexOf(e.name)&&-1===a.indexOf(e.name)&&(r.push(e),a.push(e.name))}),n.forEach(function(e){-1===a.indexOf(e.name)&&(r.push(e),a.push(e.name))})}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=Object(Qm.f)(t);var o=r.map(function(e){return e.name});return-1!==o.indexOf("Debug")&&r.push.apply(r,Object(Qm.f)(r.splice(o.indexOf("Debug"),1))),r}(e).forEach(function(e){t[e.name]=e,function(e){-1===Hg.indexOf(e.name)&&(e.setupOnce(ag,pg),Hg.push(e.name),sg.a.log("Integration installed: "+e.name))}(e)}),t}(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return sg.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i,a=!1,o=!1,s=t.exception&&t.exception.values;if(s){o=!0;try{for(var c=Object(Qm.g)(s),l=c.next();!l.done;l=c.next()){var u=l.value.mechanism;if(u&&!1===u.handled){a=!0;break}}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var h=t.user;if(!e.userAgent){var f=t.request?t.request.headers:{};for(var d in f)if("user-agent"===d.toLowerCase()){i=f[d];break}}e.update(Object(Qm.a)(Object(Qm.a)({},a&&{status:og.Crashed}),{user:h,userAgent:i,errors:e.errors+Number(o||a)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new tg(function(n){var r=0,i=setInterval(function(){0==t._processing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,a=void 0===i?3:i,o=Object(Qm.a)(Object(Qm.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(ng.j)()),timestamp:e.timestamp||Object(eg.b)()});this._applyClientOptions(o),this._applyIntegrationsMetadata(o);var s=t;n&&n.captureContext&&(s=rg.clone(s).update(n.captureContext));var c=tg.resolve(o);return s&&(c=s.applyToEvent(o,n)),c.then(function(e){return"number"==typeof a&&a>0?r._normalizeEvent(e,a):e})},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=Object(Qm.a)(Object(Qm.a)(Object(Qm.a)(Object(Qm.a)(Object(Qm.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return Object(Qm.a)(Object(Qm.a)({},e),e.data&&{data:Object(lg.d)(e.data,t)})})}),e.user&&{user:Object(lg.d)(e.user,t)}),e.contexts&&{contexts:Object(lg.d)(e.contexts,t)}),e.extra&&{extra:Object(lg.d)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.release,r=t.dist,i=t.maxValueLength,a=void 0===i?250:i;"environment"in e||(e.environment="environment"in t?t.environment:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==r&&(e.dist=r),e.message&&(e.message=Object(yg.d)(e.message,a));var o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Object(yg.d)(o.value,a));var s=e.request;s&&s.url&&(s.url=Object(yg.d)(s.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then(function(e){return e.event_id},function(e){sg.a.error(e)})},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),a=i.beforeSend,o=i.sampleRate;if(!this._isEnabled())return tg.reject(new Bg("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"==typeof o&&Math.random()>o?tg.reject(new Bg("Discarding event because it's not included in the random sample (sampling rate = "+o+")")):this._prepareEvent(e,n,t).then(function(e){if(null===e)throw new Bg("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!a)return e;var n=a(e,t);if(void 0===n)throw new Bg("`beforeSend` method has to return `null` or a valid event.");return Object(Jm.m)(n)?n.then(function(e){return e},function(e){throw new Bg("beforeSend rejected with "+e)}):n}).then(function(e){if(null===e)throw new Bg("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e}).then(null,function(e){if(e instanceof Bg)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new Bg("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)})},e.prototype._process=function(e){var t=this;this._processing+=1,e.then(function(e){return t._processing-=1,e},function(e){return t._processing-=1,e})},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(Fg||(Fg={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(Fg||(Fg={}));var qg,Gg=function(){function e(){}return e.prototype.sendEvent=function(e){return tg.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Fg.Skipped})},e.prototype.close=function(e){return tg.resolve(!0)},e}(),Wg=function(){function e(e){this._options=e,this._options.dsn||sg.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new Bg("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new Bg("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){sg.a.error("Error while sending event: "+e)})},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,function(e){sg.a.error("Error while sending session: "+e)}):sg.a.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Gg},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(qg||(qg={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(qg||(qg={}));var Yg=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Xg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Kg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Qg=/\((\S*)(?::(\d+))(?::(\d+))\)/,Jg=/Minified React error #\d+;/i;function ey(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:Jg.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=e.stacktrace.split("\n"),a=[],o=0;o<i.length;o+=2){var s=null;(t=n.exec(i[o]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(i[o]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func="?"),a.push(s))}return a.length?{message:ny(e),name:e.name,stack:a}:null}(e))return ty(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],a=e.stack.split("\n"),o=0;o<a.length;++o){if(n=Yg.exec(a[o])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=Qg.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Xg.exec(a[o]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Zg.exec(a[o])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=Kg.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==o||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),i.push(r)}return i.length?{message:ny(e),name:e.name,stack:i}:null}(e))return ty(t,n)}catch(r){}return{message:ny(e),name:e&&e.name,stack:[],failed:!0}}function ty(e,t){try{return Object(Qm.a)(Object(Qm.a)({},e),{stack:e.stack.slice(t)})}catch(n){return e}}function ny(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ry(e){var t=ay(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function iy(e){return{exception:{values:[ry(e)]}}}function ay(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).reverse()}function oy(e,t,n){var r;if(void 0===n&&(n={}),Object(Jm.e)(e)&&e.error)return iy(ey(e=e.error));if(Object(Jm.a)(e)||Object(Jm.b)(e)){var i=e,a=i.name||(Object(Jm.a)(i)?"DOMError":"DOMException"),o=i.message?a+": "+i.message:a;return r=sy(o,t,n),Object(ng.b)(r,o),"code"in i&&(r.tags=Object(Qm.a)(Object(Qm.a)({},r.tags),{"DOMException.code":""+i.code})),r}return Object(Jm.d)(e)?r=iy(ey(e)):Object(Jm.h)(e)||Object(Jm.f)(e)?(r=function(e,t,n){var r={exception:{values:[{type:Object(Jm.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(lg.b)(e)}]},extra:{__serialized__:Object(lg.e)(e)}};if(t){var i=ay(ey(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),Object(ng.a)(r,{synthetic:!0}),r):(r=sy(e,t,n),Object(ng.b)(r,""+e,void 0),Object(ng.a)(r,{synthetic:!0}),r)}function sy(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=ay(ey(t).stack);r.stacktrace={frames:i}}return r}function cy(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function ly(e,t){return t?(e.sdk=e.sdk||{name:t.name,version:t.version},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=Object(Qm.f)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=Object(Qm.f)(e.sdk.packages||[],t.packages||[]),e):e}function uy(e,t){var n=cy(t);return{body:JSON.stringify(Object(Qm.a)({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function hy(e,t){var n=cy(t),r=e.type||"event",i="transaction"===r,a=e.debug_meta||{},o=a.transactionSampling,s=Object(Qm.e)(a,["transactionSampling"]),c=o||{},l=c.method,u=c.rate;0===Object.keys(s).length?delete e.debug_meta:e.debug_meta=s;var h={body:JSON.stringify(n?ly(e,t.metadata.sdk):e),type:r,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify(Object(Qm.a)({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n})),d=JSON.stringify({type:e.type,sample_rates:[{id:l,rate:u}]});h.body=f+"\n"+d+"\n"+h.body}return h}var fy=function(){function e(e,t){void 0===t&&(t={}),this.dsn=e,this.metadata=t,this._dsnObject=new Ug(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject;return(e.protocol?e.protocol+":":"")+"//"+e.host+(e.port?":"+e.port:"")+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(lg.f)(e)},e}(),dy=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):tg.reject(new Bg("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new tg(function(n){var r=setTimeout(function(){e&&e>0&&n(!1)},e);tg.all(t._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},e}(),py=function(){function e(e){this.options=e,this._buffer=new dy(30),this._rateLimits={},this._api=new fy(e.dsn,e._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new Bg("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,a=e.reject,o=Fg.fromHttpCode(n.status);this._handleRateLimit(r)&&sg.a.warn("Too many requests, backing off until: "+this._disabledUntil(t)),o!==Fg.Success?a(n):i({status:o})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,a=Date.now(),o=e["x-sentry-rate-limits"],s=e["retry-after"];if(o){try{for(var c=Object(Qm.g)(o.trim().split(",")),l=c.next();!l.done;l=c.next()){var u=l.value.split(":",2),h=parseInt(u[0],10),f=1e3*(isNaN(h)?60:h);try{for(var d=(r=void 0,Object(Qm.g)(u[1].split(";"))),p=d.next();!p.done;p=d.next())this._rateLimits[p.value||"all"]=new Date(a+f)}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(a+Object(ng.g)(a,s)),!0)},e}(),vy=Object(ng.e)(),my=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Qm.c)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(hy(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(uy(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:xg()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new tg(function(t,i){vy.fetch(e.url,r).then(function(r){var a={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:a,resolve:t,reject:i})}).catch(i)}))},t}(py),gy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Qm.c)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(hy(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(uy(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new tg(function(t,r){var i=new XMLHttpRequest;for(var a in i.onreadystatechange=function(){if(4===i.readyState){var a={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:a,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(a)&&i.setRequestHeader(a,n.options.headers[a]);i.send(e.body)}))},t}(py),yy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Qm.c)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=oy(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(ng.a)(r,{handled:!0,type:"generic"}),r.level=qg.Error,n&&n.event_id&&(r.event_id=n.event_id),tg.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=qg.Info),function(e,t,n,r){void 0===n&&(n=qg.Info);var i=sy(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),tg.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(Qm.a)(Object(Qm.a)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):kg()?new my(t):new gy(t)},t}(Wg);function by(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=pg();if(r&&r[e])return r[e].apply(r,Object(Qm.f)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function _y(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return by("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function wy(e){by("withScope",e)}var ky=0;function Sy(){return ky>0}function xy(){ky+=1,setTimeout(function(){ky-=1})}function Cy(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(a){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map(function(e){return Cy(e,t)});return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(a){throw xy(),wy(function(e){e.addEventProcessor(function(e){var n=Object(Qm.a)({},e);return t.mechanism&&(Object(ng.b)(n,void 0,void 0),Object(ng.a)(n,t.mechanism)),n.extra=Object(Qm.a)(Object(Qm.a)({},n.extra),{arguments:r}),n}),_y(a)}),a}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(o){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(o){}return r}var Ey=l("vFt6"),Ry=function(){function e(t){this.name=e.id,this._options=Object(Qm.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&pg().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(ng.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&Og({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,Object(Qm.f)(t))},type:"console"}),this._options.dom&&Og({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,Object(Qm.f)(t))},type:"dom"}),this._options.xhr&&Og({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,Object(Qm.f)(t))},type:"xhr"}),this._options.fetch&&Og({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,Object(Qm.f)(t))},type:"fetch"}),this._options.history&&Og({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,Object(Qm.f)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:qg.fromString(e.level),message:Object(yg.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(yg.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}pg().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(Ey.a)(e.event.target):Object(Ey.a)(e.event)}catch(n){t="<unknown>"}0!==t.length&&pg().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name,global:e.global})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,a=t.body;pg().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:a})}},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?pg().addBreadcrumb({category:"fetch",data:e.fetchData,level:qg.Error,type:"http"},{data:e.error,input:e.args}):pg().addBreadcrumb({category:"fetch",data:Object(Qm.a)(Object(Qm.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Object(ng.e)(),n=e.from,r=e.to,i=Object(ng.h)(t.location.href),a=Object(ng.h)(n),o=Object(ng.h)(r);a.path||(a=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),pg().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),Ay=function(e){function t(t){return void 0===t&&(t={}),e.call(this,yy,t)||this}return Object(Qm.c)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(ng.e)().document&&(this._isEnabled()?function(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new fy(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else sg.a.error("Missing dsn option in showReportDialog call");else sg.a.error("Missing eventId option in showReportDialog call")}(Object(Qm.a)(Object(Qm.a)({},e),{dsn:e.dsn||this.getDsn()})):sg.a.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Ry);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}($g),Ty=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Iy=function(){function e(t){this.name=e.id,this._options=Object(Qm.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(ng.e)();this._options.setTimeout&&Object(lg.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(lg.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(lg.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(lg.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Ty).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=Cy(r,{mechanism:{data:{function:Object(wg.a)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,Cy(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(wg.a)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(ng.e)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(lg.c)(n,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Cy(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(wg.a)(r),target:e},handled:!0,type:"instrument"}}))}catch(a){}return t.call(this,n,Cy(r,{mechanism:{data:{function:"addEventListener",handler:Object(wg.a)(r),target:e},handled:!0,type:"instrument"}}),i)}}),Object(lg.c)(n,"removeEventListener",function(e){return function(t,n,r){var i,a=n;try{var o=null===(i=a)||void 0===i?void 0:i.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch(s){}return e.call(this,t,a,r)}}))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(e){e in r&&"function"==typeof r[e]&&Object(lg.c)(r,e,function(t){var n={mechanism:{data:{function:e,handler:Object(wg.a)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=Object(wg.a)(t.__sentry_original__)),Cy(t,n)})}),e.apply(this,t)}},e.id="TryCatch",e}(),Oy=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(Qm.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(sg.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(sg.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(Og({callback:function(n){var r=n.error,i=pg(),a=i.getIntegration(e),o=r&&!0===r.__sentry_own_request__;if(a&&!Sy()&&!o){var s=i.getClient(),c=Object(Jm.i)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(oy(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(ng.a)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(Og({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(l){}var i=pg(),a=i.getIntegration(e),o=r&&!0===r.__sentry_own_request__;if(!a||Sy()||o)return!0;var s=i.getClient(),c=Object(Jm.i)(r)?t._eventFromRejectionWithPrimitive(r):oy(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=qg.Error,Object(ng.a)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,a=Object(Jm.e)(e)?e.message:e;if(Object(Jm.k)(a)){var o=a.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);o&&(i=o[1],a=o[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:a}]}},t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,a=isNaN(parseInt(n,10))?void 0:n,o=Object(Jm.k)(t)&&t.length>0?t:Object(ng.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:o,function:"?",in_app:!0,lineno:a}),e},e.id="GlobalHandlers",e}(),Dy=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){ag(function(t,n){var r=pg().getIntegration(e);return r?r._handler(t,n):t})},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(Jm.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Object(Qm.f)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(Jm.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=ry(ey(e[t]));return this._walkErrorTree(e[t],t,Object(Qm.f)([r],n))},e.id="LinkedErrors",e}(),My=Object(ng.e)(),Py=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){ag(function(t){var n,r,i;if(pg().getIntegration(e)){if(!My.navigator&&!My.location&&!My.document)return t;var a=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=My.location)||void 0===r?void 0:r.href),o=(My.document||{}).referrer,s=(My.navigator||{}).userAgent,c=Object(Qm.a)(Object(Qm.a)(Object(Qm.a)({},null===(i=t.request)||void 0===i?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),l=Object(Qm.a)(Object(Qm.a)({},a&&{url:a}),{headers:c});return Object(Qm.a)(Object(Qm.a)({},t),{request:l})}return t})},e.id="UserAgent",e}(),Ly=[new d.InboundFilters,new d.FunctionToString,new Iy,new Ry,new Oy,new Dy,new Py];function Fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return H(r)?(t.pop(),J(t,r)):ce(t)}var Ny=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this))._value=e,r}return g(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=s(p(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z;return this._value}},{key:"next",value:function(e){s(p(n.prototype),"next",this).call(this,this._value=e)}}]),n}(V),zy=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(I),jy=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).parent=e,a.outerValue=r,a.outerIndex=i,a.index=0,a}return g(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(I);function By(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new jy(e,n,r);if(!i.closed)return t instanceof L?t.subscribe(i):Q(t)(i)}var Vy={};function Uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;return H(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&S(t[0])&&(t=t[0]),ce(t,i).lift(new Hy(r))}var Hy=function(){function e(t){v(this,e),this.resultSelector=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new $y(e,this.resultSelector))}}]),e}(),$y=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return g(n,[{key:"_next",value:function(e){this.values.push(Vy),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(By(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Vy?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(zy),qy=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Gy(){return se(1)(Fy.apply(void 0,arguments))}var Wy=new L(function(e){return e.complete()});function Yy(e){return e?function(e){return new L(function(t){return e.schedule(function(){return t.complete()})})}(e):Wy}function Zy(e){return new L(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?ee(n):Yy()).subscribe(t)})}function Xy(e,t){return"function"==typeof t?function(n){return n.pipe(Xy(function(n,r){return ee(e(n,r)).pipe(q(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Ky(e))}}var Ky=function(){function e(t){v(this,e),this.project=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new Qy(e,this.project))}}]),e}(),Qy=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return g(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new te(this),r=this.destination;r.add(n),this.innerSubscription=re(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||s(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&s(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(ne),Jy=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function eb(e){return function(t){return 0===e?Yy():t.lift(new tb(e))}}var tb=function(){function e(t){if(v(this,e),this.total=t,this.total<0)throw new Jy}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new nb(e,this.total))}}]),e}(),nb=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return g(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(I);function rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return H(r)?(t.pop(),function(e){return Gy(t,e,r)}):function(e){return Gy(t,e)}}function ib(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ab(e,t,n))}}var ab=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new ob(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),ob=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e)).accumulator=r,o._seed=i,o.hasSeed=a,o.index=0,o}return g(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(I);function sb(e,t){return function(n){return n.lift(new cb(e,t))}}var cb=function(){function e(t,n){v(this,e),this.predicate=t,this.thisArg=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new lb(e,this.predicate,this.thisArg))}}]),e}(),lb=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.count=0,a}return g(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(I);function ub(e){return function(t){var n=new hb(e),r=t.lift(n);return n.caught=r}}var hb=function(){function e(t){v(this,e),this.selector=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new fb(e,this.selector,this.caught))}}]),e}(),fb=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return g(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void s(p(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new te(this);this.add(r);var i=re(t,r);i!==r&&this.add(i)}}}]),n}(ne);function db(e,t){return ie(e,t,1)}function pb(e){return function(t){return 0===e?Yy():t.lift(new vb(e))}}var vb=function(){function e(t){if(v(this,e),this.total=t,this.total<0)throw new Jy}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new mb(e,this.total))}}]),e}(),mb=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return g(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var a=t++%n;e.next(r[a])}e.complete()}}]),n}(I);function gb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_b;return function(t){return t.lift(new yb(e))}}var yb=function(){function e(t){v(this,e),this.errorFactory=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new bb(e,this.errorFactory))}}]),e}(),bb=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return g(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(I);function _b(){return new qy}function wb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new kb(e))}}var kb=function(){function e(t){v(this,e),this.defaultValue=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new Sb(e,this.defaultValue))}}]),e}(),Sb=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return g(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(I);function xb(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?sb(function(t,n){return e(t,n,r)}):M,eb(1),n?wb(t):gb(function(){return new qy}))}}function Cb(){}function Eb(e,t,n){return function(r){return r.lift(new Rb(e,t,n))}}var Rb=function(){function e(t,n,r){v(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new Ab(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Ab=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e))._tapNext=Cb,o._tapError=Cb,o._tapComplete=Cb,o._tapError=i||Cb,o._tapComplete=a||Cb,y(r)?(o._context=f(o),o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||Cb,o._tapError=r.error||Cb,o._tapComplete=r.complete||Cb),o}return g(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(I);function Tb(e){return function(t){return t.lift(new Ib(e))}}var Ib=function(){function e(t){v(this,e),this.callback=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new Ob(e,this.callback))}}]),e}(),Ob=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).add(new R(r)),i}return n}(I),Db=function e(t,n){v(this,e),this.id=t,this.url=n},Mb=function(e){c(n,e);var t=u(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=t.call(this,e,r)).navigationTrigger=a,i.restoredState=o,i}return g(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Db),Pb=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a}return g(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Db),Lb=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r)).reason=i,a}return g(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Db),Fb=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r)).error=i,a}return g(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Db),Nb=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return g(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Db),zb=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return g(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Db),jb=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o){var s;return v(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return g(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Db),Bb=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return g(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Db),Vb=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return g(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Db),Ub=function(){function e(t){v(this,e),this.route=t}return g(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Hb=function(){function e(t){v(this,e),this.route=t}return g(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),$b=function(){function e(t){v(this,e),this.snapshot=t}return g(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),qb=function(){function e(t){v(this,e),this.snapshot=t}return g(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Gb=function(){function e(t){v(this,e),this.snapshot=t}return g(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Wb=function(){function e(t){v(this,e),this.snapshot=t}return g(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Yb=function(){function e(t,n,r){v(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return g(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Zb=function(){function e(t){v(this,e),this.params=t||{}}return g(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Xb(e){return new Zb(e)}function Kb(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Qb(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Jb(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var a=0;a<r.length;a++)if(!e_(e[n=r[a]],t[n]))return!1;return!0}function e_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var r=n(e).sort(),i=n(t).sort();return r.every(function(e,t){return i[t]===e})}return e===t}function t_(e){return Array.prototype.concat.apply([],e)}function n_(e){return e.length>0?e[e.length-1]:null}function r_(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function i_(e){return Gc(e)?e:$c(e)?ee(Promise.resolve(e)):Fy(e)}function a_(e,t,n){return n?function(e,t){return Jb(e,t)}(e.queryParams,t.queryParams)&&o_(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return e_(e[n],t[n])})}(e.queryParams,t.queryParams)&&s_(e.root,t.root)}function o_(e,t){if(!f_(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!o_(e.children[n],t.children[n]))return!1}return!0}function s_(e,t){return c_(e,t,t.segments)}function c_(e,t,n){if(e.segments.length>n.length)return!!f_(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!f_(e.segments,n))return!1;for(var r in t.children){if(!e.children[r])return!1;if(!s_(e.children[r],t.children[r]))return!1}return!0}var i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!f_(e.segments,i)&&!!e.children.primary&&c_(e.children.primary,t,a)}var l_=function(){function e(t,n,r){v(this,e),this.root=t,this.queryParams=n,this.fragment=r}return g(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xb(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return v_.serialize(this)}}]),e}(),u_=function(){function e(t,n){var r=this;v(this,e),this.segments=t,this.children=n,this.parent=null,r_(n,function(e,t){return e.parent=r})}return g(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return m_(this)}}]),e}(),h_=function(){function e(t,n){v(this,e),this.path=t,this.parameters=n}return g(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Xb(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return S_(this)}}]),e}();function f_(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var d_=function e(){v(this,e)},p_=function(){function e(){v(this,e)}return g(e,[{key:"parse",value:function(e){var t=new A_(e);return new l_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"/".concat(g_(e.root,!0)).concat((n=e.queryParams,r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(b_(e),"=").concat(b_(t))}).join("&"):"".concat(b_(e),"=").concat(b_(t))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),v_=new p_;function m_(e){return e.segments.map(function(e){return S_(e)}).join("/")}function g_(e,t){if(!e.hasChildren())return m_(e);if(t){var n=e.children.primary?g_(e.children.primary,!1):"",r=[];return r_(e.children,function(e,t){"primary"!==t&&r.push("".concat(t,":").concat(g_(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return r_(e.children,function(e,r){"primary"===r&&(n=n.concat(t(e,r)))}),r_(e.children,function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return"primary"===n?[g_(e.children.primary,!1)]:["".concat(n,":").concat(g_(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(m_(e),"/").concat(i[0]):"".concat(m_(e),"/(").concat(i.join("//"),")")}function y_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function b_(e){return y_(e).replace(/%3B/gi,";")}function __(e){return y_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function w_(e){return decodeURIComponent(e)}function k_(e){return w_(e.replace(/\+/g,"%20"))}function S_(e){return"".concat(__(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(__(e),"=").concat(__(t[e]))}).join("")));var t}var x_=/^[^\/()?;=#]+/;function C_(e){var t=e.match(x_);return t?t[0]:""}var E_=/^[^=?&#]+/,R_=/^[^?&#]+/,A_=function(){function e(t){v(this,e),this.url=t,this.remaining=t}return g(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new u_([],{}):new u_([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new u_(e,t)),n}},{key:"parseSegment",value:function(){var e=C_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new h_(w_(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=C_(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=C_(this.remaining);r&&(n=r,this.capture(n))}e[w_(t)]=w_(n)}}},{key:"parseQueryParam",value:function(e){var t,n,r=(t=this.remaining,(n=t.match(E_))?n[0]:"");if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var a=function(e){var t=e.match(R_);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}var o=k_(r),s=k_(i);if(e.hasOwnProperty(o)){var c=e[o];Array.isArray(c)||(c=[c],e[o]=c),c.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=C_(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var a=this.parseChildren();t[i]=1===Object.keys(a).length?a.primary:new u_([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),T_=function(){function e(t){v(this,e),this._root=t}return g(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=I_(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=I_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=O_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return O_(e,this._root).map(function(e){return e.value})}}]),e}();function I_(e,n){if(e===n.value)return n;var r,i=t(n.children);try{for(i.s();!(r=i.n()).done;){var a=I_(e,r.value);if(a)return a}}catch(o){i.e(o)}finally{i.f()}return null}function O_(e,n){if(e===n.value)return[n];var r,i=t(n.children);try{for(i.s();!(r=i.n()).done;){var a=O_(e,r.value);if(a.length)return a.unshift(n),a}}catch(o){i.e(o)}finally{i.f()}return[]}var D_=function(){function e(t,n){v(this,e),this.value=t,this.children=n}return g(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function M_(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var P_=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).snapshot=r,B_(f(i),e),i}return g(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(T_);function L_(e,t){var n=function(e,t){var n=new z_([],{},{},"",{},"primary",t,null,e.root,-1,{});return new j_("",new D_(n,[]))}(e,t),r=new Ny([new h_("",{})]),i=new Ny({}),a=new Ny({}),o=new Ny({}),s=new Ny(""),c=new F_(r,i,o,s,a,"primary",t,n.root);return c.snapshot=n.root,new P_(new D_(c,[]),n)}var F_=function(){function e(t,n,r,i,a,o,s,c){v(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=c}return g(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(q(function(e){return Xb(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(function(e){return Xb(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function N_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var z_=function(){function e(t,n,r,i,a,o,s,c,l,u,h){v(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=h}return g(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Xb(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xb(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),j_=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,r)).url=e,B_(f(i),r),i}return g(n,[{key:"toString",value:function(){return V_(this._root)}}]),n}(T_);function B_(e,t){t.value._routerState=e,t.children.forEach(function(t){return B_(e,t)})}function V_(e){var t=e.children.length>0?" { ".concat(e.children.map(V_).join(", ")," } "):"";return"".concat(e.value).concat(t)}function U_(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jb(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Jb(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Jb(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Jb(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function H_(e,t){var n,r;return Jb(e.params,t.params)&&f_(n=e.url,r=t.url)&&n.every(function(e,t){return Jb(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||H_(e.parent,t.parent))}function $_(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var a=function(e,n,r){return n.children.map(function(n){var i,a=t(r.children);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(e.shouldReuseRoute(n.value,o.value.snapshot))return $_(e,n,o)}}catch(s){a.e(s)}finally{a.f()}return $_(e,n)})}(e,n,r);return new D_(i,a)}if(e.shouldAttach(n.value)){var o=e.retrieve(n.value);if(null!==o){var s=o.route;return q_(n,s),s}}var c,l=new F_(new Ny((c=n.value).url),new Ny(c.params),new Ny(c.queryParams),new Ny(c.fragment),new Ny(c.data),c.outlet,c.component,c),u=n.children.map(function(t){return $_(e,t)});return new D_(l,u)}function q_(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)q_(e.children[n],t.children[n])}function G_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function W_(e){return"object"==typeof e&&null!=e&&e.outlets}function Y_(e,t,n,r,i){var a={};return r&&r_(r,function(e,t){a[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new l_(n.root===e?t:Z_(n.root,e,t),a,i)}function Z_(e,t,n){var r={};return r_(e.children,function(e,i){r[i]=e===t?n:Z_(e,t,n)}),new u_(e.segments,r)}var X_=function(){function e(t,n,r){if(v(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&G_(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(W_);if(i&&i!==n_(r))throw new Error("{outlets:{}} has to be the last command")}return g(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),K_=function e(t,n,r){v(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Q_(e,t,n){if(e||(e=new u_([],{})),0===e.segments.length&&e.hasChildren())return J_(e,t,n);var r=function(e,t,n){for(var r=0,i=t,a={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return a;var o=e.segments[i],s=n[r];if(W_(s))break;var c="".concat(s),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!rw(c,l,o))return a;r+=2}else{if(!rw(c,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var a=new u_(e.segments.slice(0,r.pathIndex),{});return a.children.primary=new u_(e.segments.slice(r.pathIndex),e.children),J_(a,0,i)}return r.match&&0===i.length?new u_(e.segments,{}):r.match&&!e.hasChildren()?ew(e,t,n):r.match?J_(e,0,i):ew(e,t,n)}function J_(e,t,n){if(0===n.length)return new u_(e.segments,{});var r=function(e){return W_(e[0])?e[0].outlets:{primary:e}}(n),i={};return r_(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Q_(e.children[r],t,n))}),r_(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new u_(e.segments,i)}function ew(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var a=n[i];if(W_(a)){var o=tw(a.outlets);return new u_(r,o)}if(0===i&&G_(n[0]))r.push(new h_(e.segments[t].path,nw(n[0]))),i++;else{var s=W_(a)?a.outlets.primary:"".concat(a),c=i<n.length-1?n[i+1]:null;s&&c&&G_(c)?(r.push(new h_(s,nw(c))),i+=2):(r.push(new h_(s,{})),i++)}}return new u_(r,{})}function tw(e){var t={};return r_(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=ew(new u_([],{}),0,e))}),t}function nw(e){var t={};return r_(e,function(e,n){return t[n]="".concat(e)}),t}function rw(e,t,n){return e==n.path&&Jb(t,n.parameters)}var iw=function(){function e(t,n,r,i){v(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return g(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),U_(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=M_(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),r_(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=M_(e),a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=M_(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Wb(e.value.snapshot))}),e.children.length&&this.forwardEvent(new qb(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(U_(r),r===i)if(r.component){var a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),aw(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=c?c.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function aw(e){U_(e.value),e.children.forEach(aw)}var ow=function e(t,n){v(this,e),this.routes=t,this.module=n};function sw(e){return"function"==typeof e}function cw(e){return e instanceof l_}var lw=Symbol("INITIAL_VALUE");function uw(){return Xy(function(e){return Uy(e.map(function(e){return e.pipe(eb(1),rb(lw))})).pipe(ib(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==lw)return e;if(r===lw&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||cw(r))return r}return e},e)},lw),sb(function(e){return e!==lw}),q(function(e){return cw(e)?e:!0===e}),eb(1))})}var hw,fw=((hw=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hw)},hw.\u0275cmp=ut({type:hw,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&jc(0,"router-outlet")},directives:function(){return[vk]},encapsulation:2}),hw);function dw(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];pw(r,vw(t,r))}}function pw(e,t){e.children&&dw(e.children,t)}function vw(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function mw(e){var t=e.children&&e.children.map(mw),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=fw),n}function gw(e){return e.outlet||"primary"}function yw(e,t){var r=e.filter(function(e){return gw(e)===t});return r.push.apply(r,n(e.filter(function(e){return gw(e)!==t}))),r}var bw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _w(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},bw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||Qb)(n,e,t);if(!i)return Object.assign({},bw);var a={};r_(i.posParams,function(e,t){a[t]=e.path});var o=i.consumed.length>0?Object.assign(Object.assign({},a),i.consumed[i.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ww(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(r.length>0&&function(e,t,n){return n.some(function(n){return kw(e,t,n)&&"primary"!==gw(n)})}(e,r,i)){var o=new u_(n,function(e,n,r,i){var a={};a.primary=i,i._sourceSegment=e,i._segmentIndexShift=n.length;var o,s=t(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(""===c.path&&"primary"!==gw(c)){var l=new u_([],{});l._sourceSegment=e,l._segmentIndexShift=n.length,a[gw(c)]=l}}}catch(u){s.e(u)}finally{s.f()}return a}(e,n,i,new u_(r,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===r.length&&function(e,t,n){return n.some(function(n){return kw(e,t,n)})}(e,r,i)){var s=new u_(e.segments,function(e,n,r,i,a,o){var s,c={},l=t(i);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(kw(e,r,u)&&!a[gw(u)]){var h=new u_([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===o?e.segments.length:n.length,c[gw(u)]=h}}}catch(f){l.e(f)}finally{l.f()}return Object.assign(Object.assign({},a),c)}(e,n,r,i,e.children,a));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:r}}var c=new u_(e.segments,e.children);return c._sourceSegment=e,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:r}}function kw(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Sw(e,t,n,r){return!!(gw(e)===r||"primary"!==r&&kw(t,n,e))&&("**"===e.path||_w(t,e,n).matched)}function xw(e,t,n){return 0===t.length&&!e.children[n]}var Cw=function e(t){v(this,e),this.segmentGroup=t||null},Ew=function e(t){v(this,e),this.urlTree=t};function Rw(e){return new L(function(t){return t.error(new Cw(e))})}function Aw(e){return new L(function(t){return t.error(new Ew(e))})}function Tw(e){return new L(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Iw=function(){function e(t,n,r,i,a){v(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Df)}return g(e,[{key:"apply",value:function(){var e=this,t=ww(this.urlTree.root,[],[],this.config).segmentGroup,n=new u_(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(q(function(t){return e.createUrlTree(Ow(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(ub(function(t){if(t instanceof Ew)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Cw)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(q(function(n){return t.createUrlTree(Ow(n),e.queryParams,e.fragment)})).pipe(ub(function(e){if(e instanceof Cw)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new u_([],{primary:e}):e;return new l_(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(q(function(e){return new u_([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a];"primary"===s?i.unshift(s):i.push(s)}return ee(i).pipe(db(function(i){var a=n.children[i],o=yw(t,i);return r.expandSegmentGroup(e,o,a,i).pipe(q(function(e){return{segment:e,outlet:i}}))}),ib(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?sb(function(t,n){return e(t,n,r)}):M,pb(1),n?wb(t):gb(function(){return new qy}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,a){var o=this;return ee(n).pipe(db(function(s){return o.expandSegmentAgainstRoute(e,t,n,s,r,i,a).pipe(ub(function(e){if(e instanceof Cw)return Fy(null);throw e}))}),xb(function(e){return!!e}),ub(function(e,n){if(e instanceof qy||"EmptyError"===e.name){if(xw(t,r,i))return Fy(new u_([],{}));throw new Cw(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,a,o){return Sw(r,t,i,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a):Rw(t):Rw(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Aw(a):this.lineralizeSegments(n,a).pipe(ie(function(n){var a=new u_(n,{});return i.expandSegment(e,a,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){var o=this,s=_w(t,r,i),c=s.matched,l=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!c)return Rw(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Aw(f):this.lineralizeSegments(r,f).pipe(ie(function(r){return o.expandSegment(e,t,n,r.concat(i.slice(u)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Fy(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(q(function(e){return n._loadedConfig=e,new u_(r,{})})):Fy(new u_(r,{}));var o=_w(t,n,r),s=o.matched,c=o.consumedSegments,l=o.lastChild;if(!s)return Rw(t);var u=r.slice(l);return this.getChildConfig(e,n,r).pipe(ie(function(e){var r=e.module,o=e.routes,s=ww(t,c,u,o),l=s.segmentGroup,h=s.slicedSegments,f=new u_(l.segments,l.children);if(0===h.length&&f.hasChildren())return a.expandChildren(r,o,f).pipe(q(function(e){return new u_(c,e)}));if(0===o.length&&0===h.length)return Fy(new u_(c,{}));var d=gw(n)===i;return a.expandSegment(r,f,o,h,d?"primary":i,!0).pipe(q(function(e){return new u_(c.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Fy(new ow(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Fy(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(ie(function(n){return n?r.configLoader.load(e.injector,t).pipe(q(function(e){return t._loadedConfig=e,e})):function(e){return new L(function(t){return t.error(Kb("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Fy(new ow([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?Fy(i.map(function(r){var i,a=e.get(r);if(function(e){return e&&sw(e.canLoad)}(a))i=a.canLoad(t,n);else{if(!sw(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return i_(i)})).pipe(uw(),Eb(function(e){if(cw(e)){var t=Kb('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),q(function(e){return!0===e})):Fy(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Fy(n);if(r.numberOfChildren>1||!r.children.primary)return Tw(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new l_(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return r_(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,a=this.createSegments(e,t.segments,n,r),o={};return r_(t.children,function(t,a){o[a]=i.createSegmentGroup(e,t,n,r)}),new u_(a,o)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,n){var r,i=0,a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.path===e.path)return n.splice(i),o;i++}}catch(s){a.e(s)}finally{a.f()}return e}}]),e}();function Ow(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],a=Ow(e.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new u_(e.segments.concat(t.segments),t.children)}return e}(new u_(e.segments,t))}var Dw=function e(t){v(this,e),this.path=t,this.route=this.path[this.path.length-1]},Mw=function e(t,n){v(this,e),this.component=t,this.route=n};function Pw(e,t,n){var r=e._root;return Fw(r,t?t._root:null,n,[r.value])}function Lw(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Fw(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=M_(t);return e.children.forEach(function(e){!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!f_(e.url,t.url);case"pathParamsOrQueryParamsChange":return!f_(e.url,t.url)||!Jb(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!H_(e,t)||!Jb(e.queryParams,t.queryParams);case"paramsChange":default:return!H_(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Dw(r)):(a.data=o.data,a._resolvedData=o._resolvedData),Fw(e,t,a.component?s?s.children:null:n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Mw(s.outlet.component,o))}else o&&Nw(t,s,i),i.canActivateChecks.push(new Dw(r)),Fw(e,null,a.component?s?s.children:null:n,r,i)}(e,a[e.value.outlet],n,r.concat([e.value]),i),delete a[e.value.outlet]}),r_(a,function(e,t){return Nw(e,n.getContext(t),i)}),i}function Nw(e,t,n){var r=M_(e),i=e.value;r_(r,function(e,r){Nw(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Mw(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var zw=function e(){v(this,e)};function jw(e){return new L(function(t){return t.error(e)})}var Bw=function(){function e(t,n,r,i,a,o){v(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return g(e,[{key:"recognize",value:function(){var e=ww(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new z_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new D_(n,t),i=new j_(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=N_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var r=[],i=0,a=Object.keys(t.children);i<a.length;i++){var o=a[i],s=t.children[o],c=yw(e,o),l=this.processSegmentGroup(c,s,o);if(null===l)return null;r.push.apply(r,n(l))}var u=Vw(r);return u.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),u}},{key:"processSegment",value:function(e,n,r,i){var a,o=t(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=this.processSegmentAgainstRoute(s,n,r,i);if(null!==c)return c}}catch(l){o.e(l)}finally{o.f()}return xw(n,r,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Sw(e,t,n,r))return null;var i,a=[],o=[];if("**"===e.path){var s=n.length>0?n_(n).parameters:{};i=new z_(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$w(e),gw(e),e.component,e,Uw(t),Hw(t)+n.length,qw(e))}else{var c=_w(t,e,n);if(!c.matched)return null;a=c.consumedSegments,o=n.slice(c.lastChild),i=new z_(a,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$w(e),gw(e),e.component,e,Uw(t),Hw(t)+a.length,qw(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=ww(t,a,o,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=u.segmentGroup,f=u.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return null===d?null:[new D_(i,d)]}if(0===l.length&&0===f.length)return[new D_(i,[])];var p=gw(e)===r,v=this.processSegment(l,h,f,p?"primary":r);return null===v?null:[new D_(i,v)]}}]),e}();function Vw(e){var r,i=[],a=new Set,o=t(e);try{var s=function(){var e,t=r.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(t))return i.push(t),"continue";var o=i.find(function(e){return t.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,n(t.children)),a.add(o)):i.push(t)};for(o.s();!(r=o.n()).done;)s()}catch(f){o.e(f)}finally{o.f()}var c,l=t(a);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=Vw(u.children);i.push(new D_(u.value,h))}}catch(f){l.e(f)}finally{l.f()}return i.filter(function(e){return!a.has(e)})}function Uw(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Hw(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function $w(e){return e.data||{}}function qw(e){return e.resolve||{}}function Gw(e){return Xy(function(t){var n=e(t);return n?ee(n).pipe(q(function(){return t})):Fy(t)})}var Ww=function e(){v(this,e)},Yw=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(function(){function e(){v(this,e)}return g(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Zw=new Ar("ROUTES"),Xw=function(){function e(t,n,r,i){v(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return g(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(q(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new ow(t_(i.injector.get(Zw,void 0,Ue.Self|Ue.Optional)).map(mw),i)}),ub(function(e){throw t._loader$=void 0,e}));return t._loader$=new pe(r,function(){return new V}).pipe(ue()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?ee(this.loader.load(e)):i_(e()).pipe(ie(function(e){return e instanceof Mf?Fy(e):ee(t.compiler.compileModuleAsync(e))}))}}]),e}(),Kw=function e(){v(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Qw,this.attachRef=null},Qw=function(){function e(){v(this,e),this.contexts=new Map}return g(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Kw,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Jw=function(){function e(){v(this,e)}return g(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function ek(e){throw e}function tk(e,t,n){return t.parse("/")}function nk(e,t){return Fy(null)}var rk,ik,ak,ok=((ak=function(){function e(t,n,r,i,a,o,s,c){var l=this;v(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=ek,this.malformedUriErrorHandler=tk,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nk,afterPreactivation:nk},this.urlHandlingStrategy=new Jw,this.routeReuseStrategy=new Yw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(Df),this.console=a.get(lp);var u=a.get(kp);this.isNgZoneEnabled=u instanceof kp&&kp.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new l_(new u_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xw(o,s,function(e){return l.triggerEvent(new Ub(e))},function(e){return l.triggerEvent(new Hb(e))}),this.routerState=L_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ny({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(sb(function(e){return 0!==e.id}),q(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Xy(function(e){var r,i,a,o=!1,s=!1;return Fy(e).pipe(Eb(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xy(function(e){var r,i,a,o,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Fy(e).pipe(Xy(function(e){var r=t.transitions.getValue();return n.next(new Mb(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Wy:Promise.resolve(e)}),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,o=t.config,Xy(function(e){return function(e,t,n,r,i){return new Iw(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,o).pipe(q(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))})),Eb(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,a){return ie(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new Bw(e,t,n,r,i,a).recognize();return null===o?jw(new zw):Fy(o)}catch(s){return jw(s)}}(e,n,r.urlAfterRedirects,(o=r.urlAfterRedirects,t.serializeUrl(o)),i,a).pipe(q(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var o})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Eb(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new Nb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.id,l=e.extractedUrl,u=e.source,h=e.restoredState,f=e.extras,d=new Mb(c,t.serializeUrl(l),u,h);n.next(d);var p=L_(l,t.rootComponentType).snapshot;return Fy(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Wy}),Gw(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,c=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!c})}),Eb(function(e){var n=new zb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),q(function(e){return Object.assign(Object.assign({},e),{guards:Pw(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return ie(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?Fy(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return ee(e).pipe(ie(function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Fy(a.map(function(a){var o,s=Lw(a,t,i);if(function(e){return e&&sw(e.canDeactivate)}(s))o=i_(s.canDeactivate(e,t,n,r));else{if(!sw(s))throw new Error("Invalid CanDeactivate guard");o=i_(s(e,t,n,r))}return o.pipe(xb())})).pipe(uw()):Fy(!0)}(e.component,e.route,n,t,r)}),xb(function(e){return!0!==e},!0))}(s,r,i,e).pipe(ie(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return ee(t).pipe(db(function(t){return Gy(function(e,t){return null!==e&&t&&t(new $b(e)),Fy(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Gb(e)),Fy(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Zy(function(){return Fy(t.guards.map(function(i){var a,o=Lw(i,t.node,n);if(function(e){return e&&sw(e.canActivateChild)}(o))a=i_(o.canActivateChild(r,e));else{if(!sw(o))throw new Error("Invalid CanActivateChild guard");a=i_(o(r,e))}return a.pipe(xb())})).pipe(uw())})});return Fy(i).pipe(uw())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Fy(r.map(function(r){return Zy(function(){var i,a=Lw(r,t,n);if(function(e){return e&&sw(e.canActivate)}(a))i=i_(a.canActivate(t,e));else{if(!sw(a))throw new Error("Invalid CanActivate guard");i=i_(a(t,e))}return i.pipe(xb())})})).pipe(uw()):Fy(!0)}(e,t.route,n))}),xb(function(e){return!0!==e},!0))}(r,o,e,t):Fy(n)}),q(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),Eb(function(e){if(cw(e.guardsResult)){var n=Kb('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new jb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),sb(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Lb(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),Gw(function(e){if(e.guards.canActivateChecks.length)return Fy(e).pipe(Eb(function(e){var n=new Bb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Xy(function(e){var r,i,a=!1;return Fy(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,ie(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Fy(e);var a=0;return ee(n).pipe(db(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Fy({});var a={};return ee(i).pipe(ie(function(i){return function(e,t,n,r){var i=Lw(e,t,r);return i_(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(Eb(function(e){a[i]=e}))}),pb(1),ie(function(){return Object.keys(a).length===i.length?Fy(a):Wy}))}(e._resolve,e,t,r).pipe(q(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),N_(e,n).resolve),null}))}(e.route,t,r,i)}),Eb(function(){return a++}),pb(1),ie(function(t){return a===n.length?Fy(e):Wy}))})),Eb({next:function(){return a=!0},complete:function(){if(!a){var r=new Lb(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),Eb(function(e){var n=new Vb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Gw(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,c=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!c})}),q(function(e){var n=function(e,t,n){var r=$_(e,t._root,n?n._root:void 0);return new P_(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),Eb(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(r=t.rootContexts,i=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},q(function(e){return new iw(i,e.targetRouterState,e.currentRouterState,a).activate(r),e})),Eb({next:function(){o=!0},complete:function(){o=!0}}),Tb(function(){if(!o&&!s){t.resetUrlToCurrentUrlTree();var r=new Lb(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null}),ub(function(r){if(s=!0,(c=r)&&c.ngNavigationCancelingError){var i=cw(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var a=new Lb(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(a),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new Fb(e.id,t.serializeUrl(e.extractedUrl),r);n.next(o);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var c;return Wy}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,a={replaceUrl:!0};if(r){var o=Object.assign({},r);delete o.navigationId,0!==Object.keys(o).length&&(a.state=o)}e.scheduleNavigation(i,t,r,a)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){dw(e),this.config=e.map(mw),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.relativeTo,i=t.queryParams,a=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,c=r||this.routerState.root,l=s?this.currentUrlTree.fragment:a,u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,r,i,a){if(0===r.length)return Y_(t.root,t.root,t,i,a);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new X_(!0,0,e);var t=0,r=!1,i=e.reduce(function(e,i,a){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return r_(i.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(n(e),[{outlets:o}])}if(i.segmentPath)return[].concat(n(e),[i.segmentPath])}return"string"!=typeof i?[].concat(n(e),[i]):0===a?(i.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?t++:""!=n&&e.push(n))}),e):[].concat(n(e),[i])},[]);return new X_(r,t,i)}(r);if(o.toRoot())return Y_(t.root,new u_([],{}),t,i,a);var s=function(e,t,n){if(e.isAbsolute)return new K_(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new K_(r,r===t.root,0)}var i=G_(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,a=n;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new K_(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),c=s.processChildren?J_(s.segmentGroup,s.index,o.commands):Q_(s.segmentGroup,s.index,o.commands);return Y_(s.segmentGroup,c,t,i,a)}(c,this.currentUrlTree,e,u,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=cw(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(cw(e))return a_(this.currentUrlTree,e,t);var n=this.parseUrl(e);return a_(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Pb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);var a,o,s,c=this.getTransition(),l="imperative"!==t&&"imperative"===(null==c?void 0:c.source),u=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(l&&u)return Promise.resolve(!0);i?(a=i.resolve,o=i.reject,s=i.promise):s=new Promise(function(e,t){a=e,o=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){return new(e||ak)(ti(Dr),ti(d_),ti(Qw),ti(kv),ti(Ns),ti(qp),ti(bp),ti(void 0))},ak.\u0275prov=De({token:ak,factory:ak.\u0275fac}),ak),sk=((ik=function(){function e(t,n,r,i,a){v(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new V,null==r&&i.setAttribute(a.nativeElement,"tabindex","0")}return g(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:lk(this.skipLocationChange),replaceUrl:lk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lk(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||ik)(Mc(ok),Mc(F_),_r("tabindex"),Mc(Jh),Mc(Xh))},ik.\u0275dir=yt({type:ik,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Wc("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Dt]}),ik),ck=((rk=function(){function e(t,n,r){var i=this;v(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new V,this.subscription=t.events.subscribe(function(e){e instanceof Pb&&i.updateTargetUrlAndHref()})}return g(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:lk(this.skipLocationChange),replaceUrl:lk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lk(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||rk)(Mc(ok),Mc(F_),Mc(pv))},rk.\u0275dir=yt({type:rk,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Wc("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(xu("href",t.href,oa),ac("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Dt]}),rk);function lk(e){return""===e||!!e}var uk,hk,fk,dk,pk=((hk=function(){function e(t,n,r,i,a,o){var s=this;v(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof Pb&&s.update()})}return g(e,[{key:"ngAfterContentInit",value:function(){var e=this;Fy(this.links.changes,this.linksWithHrefs.changes,Fy(null)).pipe(se()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var r=[].concat(n(this.links.toArray()),n(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=ee(r).pipe(se()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}()).\u0275fac=function(e){return new(e||hk)(Mc(ok),Mc(Xh),Mc(Jh),Mc(Sf),Mc(sk,8),Mc(ck,8))},hk.\u0275dir=yt({type:hk,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,sk,1),Pd(n,ck,1)),2&e&&(Dd(r=Ld())&&(t.links=r),Dd(r=Ld())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Dt]}),hk),vk=((uk=function(){function e(t,n,r,i,a){v(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new _d,this.deactivateEvents=new _d,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return g(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mk(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||uk)(Mc(Qw),Mc(Lf),Mc(Gh),_r("name"),Mc(Sf))},uk.\u0275dir=yt({type:uk,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),uk),mk=function(){function e(t,n,r){v(this,e),this.route=t,this.childContexts=n,this.parent=r}return g(e,[{key:"get",value:function(e,t){return e===F_?this.route:e===Qw?this.childContexts:this.parent.get(e,t)}}]),e}(),gk=function e(){v(this,e)},yk=function(){function e(){v(this,e)}return g(e,[{key:"preload",value:function(e,t){return Fy(null)}}]),e}(),bk=((dk=function(){function e(t,n,r,i,a){v(this,e),this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Xw(n,r,function(e){return t.triggerEvent(new Ub(e))},function(e){return t.triggerEvent(new Hb(e))})}return g(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(sb(function(e){return e instanceof Pb}),db(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(Df);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,n){var r,i=[],a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(c){a.e(c)}finally{a.f()}return ee(i).pipe(se(),q(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?Fy(t._loadedConfig):n.loader.load(e.injector,t)).pipe(ie(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}()).\u0275fac=function(e){return new(e||dk)(ti(ok),ti(qp),ti(bp),ti(Ns),ti(gk))},dk.\u0275prov=De({token:dk,factory:dk.\u0275fac}),dk),_k=((fk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return g(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Mb?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pb&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Yb&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Yb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||fk)(ti(ok),ti(om),ti(void 0))},fk.\u0275prov=De({token:fk,factory:fk.\u0275fac}),fk),wk=new Ar("ROUTER_CONFIGURATION"),kk=new Ar("ROUTER_FORROOT_GUARD"),Sk=[kv,{provide:d_,useClass:p_},{provide:ok,useFactory:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,u=new ok(null,e,t,n,r,i,a,t_(o));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,u),s.enableTracing){var h=ev();u.events.subscribe(function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return u},deps:[d_,Qw,kv,Ns,qp,bp,Zw,wk,[function(){return function e(){v(this,e)}}(),new li],[Ww,new li]]},Qw,{provide:F_,useFactory:function(e){return e.routerState.root},deps:[ok]},{provide:qp,useClass:Yp},bk,yk,function(){function e(){v(this,e)}return g(e,[{key:"preload",value:function(e,t){return t().pipe(ub(function(){return Fy(null)}))}}]),e}(),{provide:wk,useValue:{enableTracing:!1}}];function xk(){return new Np("Router",ok)}var Ck,Ek=((Ck=function(){function e(t,n){v(this,e)}return g(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Sk,Ik(t),{provide:kk,useFactory:Tk,deps:[[ok,new li,new hi]]},{provide:wk,useValue:n||{}},{provide:pv,useFactory:Ak,deps:[rv,[new ci(bv),new li],wk]},{provide:_k,useFactory:Rk,deps:[ok,om,wk]},{provide:gk,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yk},{provide:Np,multi:!0,useFactory:xk},[Dk,{provide:tp,multi:!0,useFactory:Mk,deps:[Dk]},{provide:zk,useFactory:Pk,deps:[Dk]},{provide:cp,multi:!0,useExisting:zk}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Ik(t)]}}}]),e}()).\u0275fac=function(e){return new(e||Ck)(ti(kk,8),ti(ok,8))},Ck.\u0275mod=vt({type:Ck}),Ck.\u0275inj=Me({}),Ck);function Rk(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new _k(e,t,n)}function Ak(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new wv(e,t):new _v(e,t)}function Tk(e){return"guarded"}function Ik(e){return[{provide:Tr,multi:!0,useValue:e},{provide:Zw,multi:!0,useValue:e}]}var Ok,Dk=((Ok=function(){function e(t){v(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new V}return g(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(ov,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(ok),i=e.injector.get(wk);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?Fy(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(wk),n=this.injector.get(bk),r=this.injector.get(_k),i=this.injector.get(ok),a=this.injector.get(Hp);e===a.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}()).\u0275fac=function(e){return new(e||Ok)(ti(Ns))},Ok.\u0275prov=De({token:Ok,factory:Ok.\u0275fac}),Ok);function Mk(e){return e.appInitializer.bind(e)}function Pk(e){return e.bootstrapListener.bind(e)}var Lk,Fk,Nk,zk=new Ar("Router Initializer");function jk(){var e=pg();if(e){var t=e.getScope();if(t)return t.getTransaction()}}var Bk,Vk,Uk=Object(Qm.b)([Oc({providedIn:"root"})],function(e){var t=this;this._router=e,this.navStart$=this._router.events.pipe(sb(function(e){return e instanceof Mb}),Eb(function(e){if(Lk){var n=e,r=Object(ng.i)(n.url),i=jk();!i&&Nk&&(i=Fk({name:r,op:"navigation"})),i&&(t._routingSpan=i.startChild({description:""+n.url,op:"angular.routing",tags:Object(Qm.a)({"routing.instrumentation":"@sentry/angular",url:r},n.navigationTrigger&&{navigationTrigger:n.navigationTrigger})}))}else sg.a.error("Angular integration has tracing enabled, but Tracing integration is not configured")})),this.navEnd$=this._router.events.pipe(sb(function(e){return e instanceof Pb}),Eb(function(){t._routingSpan&&(t._routingSpan.finish(),delete t._routingSpan)})),this.navStart$.subscribe(),this.navEnd$.subscribe()});!function(){function e(){this.componentName="unknown"}e.prototype.ngOnInit=function(){var e=jk();e&&(this._tracingSpan=e.startChild({description:"<"+this.componentName+">",op:"angular.initialize"}))},e.prototype.ngAfterViewInit=function(){this._tracingSpan&&this._tracingSpan.finish()},Object(Qm.b)([Jd("trace")],e.prototype,"componentName",void 0),e=Object(Qm.b)([Qd({selector:"[trace]"})],e)}(),function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(Bk||(Bk={})),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(Vk||(Vk={})),function(e){e.fromHttpCode=function(t){if(t<400)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(Vk||(Vk={}));var Hk=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function $k(e){return"tracesSampleRate"in e||"tracesSampler"in e}function qk(e){var t,n;return void 0===e&&(e=pg()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function Gk(e){return e/1e3}function Wk(){var e=qk();e&&(sg.a.log("[Tracing] Transaction: "+Vk.InternalError+" -> Global error occured"),e.setStatus(Vk.InternalError))}var Yk=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),Zk=function(e){function t(t,n){var r=e.call(this,t)||this;return r._metadata={},r._measurements={},r._hub=pg(),Object(Jm.g)(n,hg)&&(r._hub=n),r.name=t.name?t.name:"",r._trimEnd=t.trimEnd,r.transaction=r,r}return Object(Qm.c)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new Yk(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=Object(Qm.a)({},e)},t.prototype.setMetadata=function(e){this._metadata=Object(Qm.a)(Object(Qm.a)({},this._metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(sg.a.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter(function(e){return e!==n&&e.endTimestamp}):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce(function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e}).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(sg.a.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}sg.a.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return Object(lg.a)(Object(Qm.a)(Object(Qm.a)({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(function(){function e(e){if(this.traceId=Object(ng.j)(),this.spanId=Object(ng.j)().substring(16),this.startTimestamp=Object(eg.c)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e(Object(Qm.a)(Object(Qm.a)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=Object(Qm.a)(Object(Qm.a)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=Object(Qm.a)(Object(Qm.a)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=Vk.fromHttpCode(e);return t!==Vk.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===Vk.Ok},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:Object(eg.c)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return Object(lg.a)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,a;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(i=e.tags)?i:{},this.traceId=null!=(a=e.traceId)?a:this.traceId,this},e.prototype.getTraceContext=function(){return Object(lg.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return Object(lg.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()),Xk=function(e){function t(t,n,r,i){void 0===r&&(r="");var a=e.call(this,i)||this;return a._pushActivity=t,a._popActivity=n,a.transactionSpanId=r,a}return Object(Qm.c)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:Object(eg.c)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(Yk),Kk=function(e){function t(t,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(Qk(n),sg.a.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(e){return e.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return Object(Qm.c)(t,e),t.prototype.finish=function(t){var n,r,i=this;if(void 0===t&&(t=Object(eg.c)()),this._finished=!0,this.activities={},this.spanRecorder){sg.a.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var a=Object(Qm.g)(this._beforeFinishCallbacks),o=a.next();!o.done;o=a.next())(0,o.value)(this,t)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(e){if(e.spanId===i.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(Vk.Cancelled),sg.a.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||sg.a.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n}),sg.a.log("[Tracing] flushing IdleTransaction")}else sg.a.log("[Tracing] No active IdleTransaction");return this._onScope&&Qk(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;this.spanRecorder||(this.spanRecorder=new Xk(function(e){t._finished||t._pushActivity(e)},function(e){t._finished||t._popActivity(e)},this.spanId,e),sg.a.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),sg.a.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,sg.a.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(sg.a.log("[Tracing] popActivity "+e),delete this.activities[e],sg.a.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(eg.c)()+n/1e3;setTimeout(function(){t._finished||t.finish(r)},n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce(function(e,t){return e+t}):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(sg.a.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Vk.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;sg.a.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){e._beat()},5e3)},t}(Zk);function Qk(e){if(e){var t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}}function Jk(e,t,n){var r,i,a,o=e.getClient(),s=o&&o.getOptions()||{};return o&&$k(s)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:Bk.Explicit}}),t):("function"==typeof s.tracesSampler?(i=s.tracesSampler(n),t.setMetadata({transactionSampling:{method:Bk.Sampler,rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,t.setMetadata({transactionSampling:{method:Bk.Inheritance}})):(i=s.tracesSampleRate,t.setMetadata({transactionSampling:{method:Bk.Rate,rate:Number(i)}})),a=i,(isNaN(a)||"number"!=typeof a&&"boolean"!=typeof a?(sg.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(a)+" of type "+JSON.stringify(typeof a)+"."),0):!(a<0||a>1)||(sg.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+a+"."),0))?i?(t.sampled=Math.random()<i,t.sampled?(t.initSpanRecorder(null===(r=s._experiments)||void 0===r?void 0:r.maxSpans),sg.a.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(sg.a.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),t)):(sg.a.log("[Tracing] Discarding transaction because "+("function"==typeof s.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(sg.a.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t)}var eS,tS,nS=Object(ng.e)(),rS=function(e,t,n,r){var i;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||void 0===i)&&(e(t),i=t.value))}},iS=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},aS=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(r){}},oS=!1,sS=!1,cS=function(e){oS=!e.persisted},lS=function(e,t){void 0===t&&(t=!1),sS||(addEventListener("pagehide",cS),addEventListener("beforeunload",function(){}),sS=!0),addEventListener("visibilitychange",function(t){"hidden"===document.visibilityState&&e({timeStamp:t.timeStamp,isUnloading:oS})},{capture:!0,once:t})},uS=function(){return void 0===eS&&(eS="hidden"===document.visibilityState?0:1/0,lS(function(e){return eS=e.timeStamp},!0)),{get timeStamp(){return eS}}},hS=Object(ng.e)(),fS=Object(ng.e)(),dS=function(){function e(){this._measurements={},this._performanceCursor=0,fS&&fS.performance&&(fS.performance.mark&&fS.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(fS&&fS.performance&&fS.performance.getEntries&&eg.a){sg.a.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,a=Gk(eg.a);if(fS.document)for(var o=0;o<document.scripts.length;o++)if("true"===document.scripts[o].dataset.entry){n=document.scripts[o].src;break}if(fS.performance.getEntries().slice(this._performanceCursor).forEach(function(o){var s=Gk(o.startTime),c=Gk(o.duration);if(!("navigation"===e.op&&a+s<e.startTimestamp))switch(o.entryType){case"navigation":!function(e,t,n){pS(e,t,"unloadEvent",n),pS(e,t,"redirect",n),pS(e,t,"domContentLoadedEvent",n),pS(e,t,"loadEvent",n),pS(e,t,"connect",n),pS(e,t,"secureConnection",n,"connectEnd"),pS(e,t,"fetch",n,"domainLookupStart"),pS(e,t,"domainLookup",n),function(e,t,n){vS(e,{op:"browser",description:"request",startTimestamp:n+Gk(t.requestStart),endTimestamp:n+Gk(t.responseEnd)}),vS(e,{op:"browser",description:"response",startTimestamp:n+Gk(t.responseStart),endTimestamp:n+Gk(t.responseEnd)})}(e,t,n)}(e,o,a);break;case"mark":case"paint":case"measure":var l=function(e,t,n,r,i){var a=i+n;return vS(e,{description:t.name,endTimestamp:a+r,op:t.entryType,startTimestamp:a}),a}(e,o,s,c,a);void 0===i&&"sentry-tracing-init"===o.name&&(i=l);var u=uS(),h=o.startTime<u.timeStamp;"first-paint"===o.name&&h&&(sg.a.log("[Measurements] Adding FP"),t._measurements.fp={value:o.startTime},t._measurements["mark.fp"]={value:l}),"first-contentful-paint"===o.name&&h&&(sg.a.log("[Measurements] Adding FCP"),t._measurements.fcp={value:o.startTime},t._measurements["mark.fcp"]={value:l});break;case"resource":var f=o.name.replace(window.location.origin,""),d=function(e,t,n,r,i,a){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+r,c=s+i;return vS(e,{description:n,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),c}}(e,o,f,s,c,a);void 0===r&&(n||"").indexOf(f)>-1&&(r=d)}}),void 0!==r&&void 0!==i&&vS(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var s=Gk(eg.a);["fcp","fp","lcp","ttfb"].forEach(function(n){if(t._measurements[n]&&!(s>=e.startTimestamp)){var r=t._measurements[n].value,i=s+Gk(r),a=Math.abs(1e3*(i-e.startTimestamp));sg.a.log("[Measurements] Normalized "+n+" from "+r+" to "+a+" ("+(a-r)+")"),t._measurements[n].value=a}}),this._measurements["mark.fid"]&&this._measurements.fid&&vS(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Gk(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var e=this;!function(t,n){void 0===n&&(n=!1);var r,i=iS("CLS",0),a=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),r())},o=aS("layout-shift",a);o&&(r=rS(function(t){t.entries.pop()&&(sg.a.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value})},i,o,n),lS(function(e){var t=e.isUnloading;o.takeRecords().map(a),t&&(i.isFinal=!0),r()}))}()},e.prototype._trackNavigator=function(e){var t=fS.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),mS(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),mS(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),mS(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),mS(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;!function(t,n){void 0===n&&(n=!1);var r,i=iS("LCP"),a=uS(),o=function(e){var t=e.startTime;t<a.timeStamp?(i.value=t,i.entries.push(e)):i.isFinal=!0,r()},s=aS("largest-contentful-paint",o);if(s){r=rS(function(t){var n=t.entries.pop();if(n){var r=Gk(performance.timeOrigin),i=Gk(n.startTime);sg.a.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i}}},i,s,n);var c=function(){i.isFinal||(s.takeRecords().map(o),i.isFinal=!0,r())};(tS||(tS=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),tS).then(c),lS(c,!0)}}()},e.prototype._trackFID=function(){var e,t,n,r,i,a,o=this;e=function(e){var t=e.entries.pop();if(t){var n=Gk(performance.timeOrigin),r=Gk(t.startTime);sg.a.log("[Measurements] Adding FID"),o._measurements.fid={value:e.value},o._measurements["mark.fid"]={value:n+r}}},t=iS("FID"),n=uS(),i=aS("first-input",r=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,a())}),a=rS(e,t,i),i?lS(function(){i.takeRecords().map(r),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(e,r){r.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+e}],a())})},e.prototype._trackTTFB=function(){var e,t,n,r=this;e=function(e){var t,n=e.entries.pop();if(n){sg.a.log("[Measurements] Adding TTFB"),r._measurements.ttfb={value:e.value};var i=e.value-(t=e.entries[0],null!=t?t:n).requestStart;r._measurements["ttfb.requestTime"]={value:i}}},n=iS("TTFB"),t=function(){try{var t=hS.performance.getEntriesByType("navigation")[0]||function(){var e=hS.performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(r){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},e}();function pS(e,t,n,r,i){var a=i?t[i]:t[n+"End"],o=t[n+"Start"];o&&a&&vS(e,{op:"browser",description:n,startTimestamp:r+Gk(o),endTimestamp:r+Gk(a)})}function vS(e,t){var n=t.startTimestamp,r=Object(Qm.e)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(Object(Qm.a)({startTimestamp:n},r))}function mS(e){return"number"==typeof e&&isFinite(e)}var gS={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},yS=Object(ng.e)(),bS=Object(Qm.a)({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),yS&&yS.location){var r,i=yS.location.href;t&&(r=e({name:yS.location.pathname,op:"pageload"})),n&&Og({callback:function(t){var n=t.to,a=t.from;void 0===a&&i&&-1!==i.indexOf(n)?i=void 0:a!==n&&(i=void 0,r&&(sg.a.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:yS.location.pathname,op:"navigation"}))},type:"history"})}else sg.a.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},gS),_S=function(){function e(t){this.name=e.id,this._metrics=new dS,this._emitOptionsWarning=!1;var n=gS.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=Object(Qm.a)(Object(Qm.a)(Object(Qm.a)({},bS),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(sg.a.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),sg.a.warn("[Tracing] We added a reasonable default for you: "+gS.tracingOrigins));var r=this.options,i=r.markBackgroundTransactions,a=r.traceFetch,o=r.traceXHR,s=r.tracingOrigins,c=r.shouldCreateSpanForRequest;(0,r.routingInstrumentation)(function(e){return n._createRouteTransaction(e)},r.startTransactionOnPageLoad,r.startTransactionOnLocationChange),i&&(nS&&nS.document?nS.document.addEventListener("visibilitychange",function(){var e=qk();nS.document.hidden&&e&&(sg.a.log("[Tracing] Transaction: "+Vk.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Vk.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):sg.a.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(t){var n=Object(Qm.a)(Object(Qm.a)({},gS),t),r=n.traceXHR,i=n.tracingOrigins,a=n.shouldCreateSpanForRequest,o={},s=function(e){return o[e]||(o[e]=i.some(function(t){return Object(yg.a)(e,t)})&&!Object(yg.a)(e,"sentry_key")),o[e]},c=s;"function"==typeof a&&(c=function(e){return s(e)&&a(e)});var l={};n.traceFetch&&Og({callback:function(e){!function(e,t,n){var r,i=null===(r=pg().getClient())||void 0===r?void 0:r.getOptions();if(i&&$k(i)&&e.fetchData&&t(e.fetchData.url))if(e.endTimestamp&&e.fetchData.__span){if(s=n[e.fetchData.__span]){var a=e.response;a&&s.setHttpStatus(a.status),s.finish(),delete n[e.fetchData.__span]}}else{var o=qk();if(o){var s=o.startChild({data:Object(Qm.a)(Object(Qm.a)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=s.spanId,n[s.spanId]=s;var c=e.args[0]=e.args[0],l=e.args[1]=e.args[1]||{},u=l.headers;Object(Jm.g)(c,Request)&&(u=c.headers),u?"function"==typeof u.append?u.append("sentry-trace",s.toTraceparent()):u=Array.isArray(u)?Object(Qm.f)(u,[["sentry-trace",s.toTraceparent()]]):Object(Qm.a)(Object(Qm.a)({},u),{"sentry-trace":s.toTraceparent()}):u={"sentry-trace":s.toTraceparent()},l.headers=u}}}(e,c,l)},type:"fetch"}),r&&Og({callback:function(t){!function(t,n,r){var i,a=null===(i=pg().getClient())||void 0===i?void 0:i.getOptions();if(a&&$k(a)&&t.xhr&&t.xhr.__sentry_xhr__&&n(t.xhr.__sentry_xhr__.url)&&!t.xhr.__sentry_own_request__){var o=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__)(c=r[t.xhr.__sentry_xhr_span_id__])&&(c.setHttpStatus(o.status_code),c.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);else{var s=qk();if(s){var c=s.startChild({data:Object(Qm.a)(Object(Qm.a)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=c.spanId,r[t.xhr.__sentry_xhr_span_id__]=c,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",c.toTraceparent())}catch(e){}}}}}(t,c,l)},type:"xhr"})}({traceFetch:a,traceXHR:o,tracingOrigins:s,shouldCreateSpanForRequest:c})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,a=n.maxTransactionDuration,o="pageload"===e.op?function(){var e,t=(e=document.querySelector("meta[name=sentry-trace]"))?e.getAttribute("content"):null;if(t)return function(e){var t=e.match(Hk);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}(t)}():void 0,s=Object(Qm.a)(Object(Qm.a)(Object(Qm.a)({},e),o),{trimEnd:!0}),c="function"==typeof r?r(s):s,l=void 0===c?Object(Qm.a)(Object(Qm.a)({},s),{sampled:!1}):c;!1===l.sampled&&sg.a.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),sg.a.log("[Tracing] Starting "+l.op+" transaction on scope");var u=function(e,t,n,r,i){return Jk(e,new Kk(t,e,n,!0),Object(Qm.a)({parentSampled:t.parentSampled,transactionContext:t},i))}(this._getCurrentHub(),l,i,0,{location:Object(ng.e)().location});return u.registerBeforeFinishCallback(function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus(Vk.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}(1e3*a,e,n)}),u}sg.a.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}(),wS=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){var e,t;this._router?(e=this._router,void 0===(t=this._methods)&&(t=[]),t.forEach(function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,Object(Qm.f)([this],SS(e,t)))},e}(e,t)})):sg.a.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function kS(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var a=i.startChild({description:e.name,op:"middleware."+t});r.once("finish",function(){a.finish()})}return e.call(this,n,r)};case 3:return function(n,r,i){var a,o=null===(a=r.__sentry_transaction)||void 0===a?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=o)||void 0===e||e.finish(),i.call.apply(i,Object(Qm.f)([this],t))})};case 4:return function(n,r,i,a){var o,s=null===(o=i.__sentry_transaction)||void 0===o?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,i,function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),a.call.apply(a,Object(Qm.f)([this],t))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function SS(e,t){return e.map(function(e){return"function"==typeof e?kS(e,t):Array.isArray(e)?e.map(function(e){return"function"==typeof e?kS(e,t):e}):e})}var xS,CS=l("CLvp"),ES=l("zR2W"),RS=l("1qfx"),AS=Object(Qm.a)(Object(Qm.a)({},m),{BrowserTracing:_S});(xS=fg()).__SENTRY__&&(xS.__SENTRY__.extensions=xS.__SENTRY__.extensions||{},xS.__SENTRY__.extensions.startTransaction||(xS.__SENTRY__.extensions.startTransaction=function(e,t){return Jk(this,new Zk(e,this),Object(Qm.a)({parentSampled:e.parentSampled,transactionContext:e},t))}),xS.__SENTRY__.extensions.traceHeaders||(xS.__SENTRY__.extensions.traceHeaders=function(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}})),Og({callback:Wk,type:"error"}),Og({callback:Wk,type:"unhandledrejection"});var TS=function e(){v(this,e)};function IS(e,t){return{type:7,name:e,definitions:t,options:{}}}function OS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function DS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function MS(e){return{type:6,styles:e,offset:null}}function PS(e,t,n){return{type:0,name:e,styles:t,options:n}}function LS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function FS(e){Promise.resolve(null).then(e)}var NS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return g(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;FS(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),zS=function(){function e(t){var n=this;v(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,a=0,o=this.players.length;0==o?FS(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==o&&n._onFinish()}),e.onDestroy(function(){++i==o&&n._onDestroy()}),e.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return g(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function jS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function BS(e){switch(e.length){case 0:return new NS;case 1:return e[0];default:return new zS(e)}}function VS(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],c=-1,l=null;if(r.forEach(function(e){var n=e.offset,r=n==c,u=r&&l||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),s){case"!":s=i[n];break;case"*":s=a[n];break;default:s=t.normalizeStyleValue(n,r,s,o)}u[r]=s}),r||s.push(u),l=u,c=n}),o.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(o.join(u)))}return s}function US(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&HS(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&HS(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&HS(n,"destroy",e))})}}function HS(e,t,n){var r=n.totalTime,i=$S(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function $S(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function qS(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function GS(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var WS=function(e,t){return!1},YS=function(e,t){return!1},ZS=function(e,t,n){return[]},XS=jS();(XS||"undefined"!=typeof Element)&&(WS=function(e,t){return e.contains(t)},YS=function(){if(XS||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:YS}(),ZS=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),a=0;a<i.length;a++)r.push(i[a]);else{var o=e.querySelector(t);o&&r.push(o)}return r});var KS=null,QS=!1;function JS(e){KS||(KS=("undefined"!=typeof document?document.body:null)||{},QS=!!KS.style&&"WebkitAppearance"in KS.style);var t=!0;return KS.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in KS.style)&&QS)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in KS.style),t}var ex=YS,tx=WS,nx=ZS;function rx(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var ix,ax=((ix=function(){function e(){v(this,e)}return g(e,[{key:"validateStyleProperty",value:function(e){return JS(e)}},{key:"matchesElement",value:function(e,t){return ex(e,t)}},{key:"containsElement",value:function(e,t){return tx(e,t)}},{key:"query",value:function(e,t,n){return nx(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new NS(n,r)}}]),e}()).\u0275fac=function(e){return new(e||ix)},ix.\u0275prov=De({token:ix,factory:ix.\u0275fac}),ix),ox=function(){var e=function e(){v(this,e)};return e.NOOP=new ax,e}();function sx(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cx(parseFloat(t[1]),t[2])}function cx(e,t){switch(t){case"s":return 1e3*e;default:return e}}function lx(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=cx(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=cx(parseFloat(s),o[4]));var c=o[5];c&&(a=c)}else r=e;if(!n){var l=!1,u=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function ux(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function hx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else ux(e,n);return n}function fx(e,t,n){return n?t+":"+n+";":""}function dx(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=fx(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=fx(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function px(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=kx(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),jS()&&dx(e))}function vx(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=kx(t);e.style[n]=""}),jS()&&dx(e))}function mx(e){return Array.isArray(e)?1==e.length?e[0]:DS(e):e}var gx=new RegExp("{{\\s*(.+?)\\s*}}","g");function yx(e){var t=[];if("string"==typeof e){for(var n;n=gx.exec(e);)t.push(n[1]);gx.lastIndex=0}return t}function bx(e,t,n){var r=e.toString(),i=r.replace(gx,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function _x(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var wx=/-+([a-z0-9])/g;function kx(e){return e.replace(wx,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Sx(e,t){return 0===e||0===t}function xx(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach(function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=Ex(e,t)})},s=1;s<t.length;s++)o()}return t}function Cx(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Ex(e,t){return window.getComputedStyle(e)[t]}var Rx=new Set(["true","1"]),Ax=new Set(["false","0"]);function Tx(e,t){var n=Rx.has(e)||Ax.has(e),r=Rx.has(t)||Ax.has(t);return function(i,a){var o="*"==e||e==i,s="*"==t||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?Rx.has(e):Ax.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?Rx.has(t):Ax.has(t)),o&&s}}var Ix=new RegExp("s*:selfs*,?","g");function Ox(e,t,n){return new Dx(e).build(t,n)}var Dx=function(){function t(e){v(this,t),this._driver=e}return g(t,[{key:"build",value:function(e,t){var n=new Mx(t);return this._resetContextStyleTimingState(n),Cx(this,mx(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=c}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach(function(e){if(Px(e)){var t=e;Object.keys(t).forEach(function(e){yx(t[e]).forEach(function(e){a.hasOwnProperty(e)||i.add(e)})})}}),i.size){var o=_x(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,a=Cx(this,mx(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(Tx(a,s)),"<"!=o[0]||"*"==a&&"*"==s||t.push(Tx(s,a))}(e,i,r)}):i.push(n),i),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:Lx(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Cx(n,e,t)}),options:Lx(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map(function(e){t.currentTime=r;var a=Cx(n,e,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:a,options:Lx(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Fx(lx(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=Fx(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Fx((n=n||lx(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:MS({});if(5==i.type)n=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};r.easing&&(s.easing=r.easing),a=MS(s)}t.currentTime+=r.duration+r.delay;var c=this.visitStyle(a,t);c.isEmptyStep=o,n=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(Px(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var o=t.collectedStyles[t.currentQuerySelector],s=o[r],c=!0;s&&(a!=i&&a>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),c=!1),a=s.startTime),c&&(o[r]={startTime:a,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=yx(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,c=0,l=e.steps.map(function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Px(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Px(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),u=0;return null!=l&&(i++,u=r.offset=l),s=s||u<0||u>1,o=o||u<c,c=u,a.push(u),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,h=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(u-1));var f=u-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach(function(e,i){var o=h>0?i==f?1:h*i:a[i],s=o*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Cx(this,mx(e.animation),t),options:Lx(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Lx(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lx(e.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var a=e(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Ix,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(t.selector),2),o=a[0],s=a[1];n.currentQuerySelector=r.length?r+" "+o:o,qS(n.collectedStyles,n.currentQuerySelector,{});var c=Cx(this,mx(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:c,originalSelector:t.selector,options:Lx(t.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:lx(e.timings,t.errors,!0);return{type:12,animation:Cx(this,mx(e.animation),t),timings:n,options:null}}}]),t}(),Mx=function e(t){v(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Px(e){return!Array.isArray(e)&&"object"==typeof e}function Lx(e){var t;return e?(e=ux(e)).params&&(e.params=(t=e.params)?ux(t):null):e={},e}function Fx(e,t,n){return{duration:e,delay:t,easing:n}}function Nx(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var zx=function(){function e(){v(this,e),this._map=new Map}return g(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var r,i=this._map.get(e);i||this._map.set(e,i=[]),(r=i).push.apply(r,n(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),jx=new RegExp(":enter","g"),Bx=new RegExp(":leave","g");function Vx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ux).buildKeyframes(e,t,n,r,i,a,o,s,c,l)}var Ux=function(){function e(){v(this,e)}return g(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new zx;var u=new $x(e,t,c,r,i,l,[]);u.options=s,u.currentTimeline.setStyles([a],null,u.errors,s),Cx(this,n,u);var h=u.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,u.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Nx(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?sx(n.duration):null,a=null!=n.delay?sx(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Cx(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Hx);var o=sx(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return Cx(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?sx(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),Cx(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return lx(t.params?bx(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?sx(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Hx);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(c=s.currentTimeline),Cx(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;Cx(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Hx={},$x=function(){function e(t,n,r,i,a,o,s,c){v(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new qx(this._driver,n,0),s.push(this.currentTimeline)}return g(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=sx(r.duration)),null!=r.delay&&(i.delay=sx(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){t&&o.hasOwnProperty(e)||(o[e]=bx(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Hx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Gx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,r,i,a,o){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(jx,"."+this._enterClassName)).replace(Bx,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),s.push.apply(s,n(c))}return a||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),qx=function(){function e(t,n,r,i){v(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return g(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]="*"}):hx(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(o).forEach(function(e){var t=bx(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(a,o){var s=hx(a,!0);Object.keys(s).forEach(function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)}),r||(s.offset=o/e.duration),i.push(s)});var a=t.size?_x(t.values()):[],o=n.size?_x(n.values()):[];if(r){var s=i[0],c=ux(s);s.offset=0,c.offset=1,i=[s,c]}return Nx(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}]),e}(),Gx=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(c=t.call(this,e,r,s.delay)).element=r,c.keyframes=i,c.preStyleProps=a,c.postStyleProps=o,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return g(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,c=hx(e[0],!1);c.offset=0,a.push(c);var l=hx(e[0],!1);l.offset=Wx(s),a.push(l);for(var u=e.length-1,h=1;h<=u;h++){var f=hx(e[h],!1);f.offset=Wx((n+f.offset*r)/o),a.push(f)}r=o,n=0,i="",e=a}return Nx(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(qx);function Wx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Yx=function e(){v(this,e)},Zx=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"normalizePropertyName",value:function(e,t){return kx(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if(Xx[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(Yx),Xx=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Kx(e,t,n,r,i,a,o,s,c,l,u,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:f}}var Qx={},Jx=function(){function e(t,n,r){v(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return g(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,c,l){var u=[],h=this.ast.options&&this.ast.options.params||Qx,f=this.buildStyles(n,o&&o.params||Qx,u),d=s&&s.params||Qx,p=this.buildStyles(r,d,u),v=new Set,m=new Map,g=new Map,y="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=l?[]:Vx(e,t,this.ast.animation,i,a,f,p,b,c,u),w=0;if(_.forEach(function(e){w=Math.max(e.duration+e.delay,w)}),u.length)return Kx(t,this._triggerName,n,r,y,f,p,[],[],m,g,w,u);_.forEach(function(e){var n=e.element,r=qS(m,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=qS(g,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&v.add(n)});var k=_x(v.values());return Kx(t,this._triggerName,n,r,y,f,p,_,k,m,g,w)}}]),e}(),eC=function(){function e(t,n){v(this,e),this.styles=t,this.defaultParams=n}return g(e,[{key:"buildStyles",value:function(e,t){var n={},r=ux(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach(function(e){var a=i[e];a.length>1&&(a=bx(a,r,t)),n[e]=a})}}),n}}]),e}(),tC=function(){function e(t,n){var r=this;v(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){r.states[e.name]=new eC(e.style,e.options&&e.options.params||{})}),nC(this.states,"true","1"),nC(this.states,"false","0"),n.transitions.forEach(function(e){r.transitionFactories.push(new Jx(t,e,r.states))}),this.fallbackTransition=new Jx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return g(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function nC(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var rC=new zx,iC=function(){function e(t,n,r){v(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return g(e,[{key:"register",value:function(e,t){var n=[],r=Ox(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=VS(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=Vx(this._driver,t,o,"ng-enter","ng-leave",{},{},i,rC,a)).forEach(function(e){var t=qS(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,"*")})});var c=BS(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(function(){return r.destroy(e)}),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=$S(t,"","","");return US(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),aC=[],oC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var a=ux(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return g(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),lC=new cC("void"),uC=function(){function e(t,n,r){v(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,gC(n,this._hostClassName)}return g(e,[{key:"listen",value:function(e,t,n,r){var i,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=qS(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var c=qS(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(gC(e,"ng-trigger"),gC(e,"ng-trigger-"+t),c[t]=lC),function(){a._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete c[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new fC(this.id,t,e),s=this._engine.statesByElement.get(e);s||(gC(e,"ng-trigger"),gC(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],l=new cC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[t]=l,c||(c=lC),"void"===l.value||c.value!==l.value){var u=qS(this._engine.playersByElement,e,[]);u.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=a.matchTransition(c.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=a.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:o,isFallbackTransition:f}),f||(gC(e,"ng-animate-queued"),o.onStart(function(){yC(e,"ng-animate-queued")})),o.onDone(function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}}),this.players.push(o),u.push(o),o}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(c.params,l.params)){var d=[],p=a.matchStyles(c.value,c.params,d),v=a.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){vx(e,p),px(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach(function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&BS(o).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var a=n.name;if(!i.has(a)){i.add(a);var o=t._triggers[a].fallbackTransition,s=r[a]||lC,c=new cC("void"),l=new fC(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:c,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==oC||(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){gC(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==r.triggerName){var n=$S(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,US(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),hC=function(){function e(t,n,r){v(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return g(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new uC(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(dC(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(dC(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gC(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yC(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(dC(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return dC(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return BS(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=oC,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)gC(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var a=0;a<i.length;a++)i[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?BS(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var r=this,i=new zx,a=[],o=new Map,s=[],c=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(function(e){h.add(e);for(var t=r.driver.query(e,".ng-animate-queued",!0),n=0;n<t.length;n++)h.add(t[n])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=mC(d,this.collectedEnterElements),v=new Map,m=0;p.forEach(function(e,t){var n="ng-enter"+m++;v.set(t,n),e.forEach(function(e){return gC(e,n)})});for(var g=[],y=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],k=w.__ng_removed;k&&k.setForRemoval&&(g.push(w),y.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):b.add(w))}var S=new Map,x=mC(d,Array.from(y));x.forEach(function(e,t){var n="ng-leave"+m++;S.set(t,n),e.forEach(function(e){return gC(e,n)})}),e.push(function(){p.forEach(function(e,t){var n=v.get(t);e.forEach(function(e){return yC(e,n)})}),x.forEach(function(e,t){var n=S.get(t);e.forEach(function(e){return yC(e,n)})}),g.forEach(function(e){r.processLeaveNode(e)})});for(var C=[],E=[],R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(function(e){var t=e.player,n=e.element;if(C.push(t),r.collectedEnterElements.length){var o=n.__ng_removed;if(o&&o.setForMove)return void t.destroy()}var h=!f||!r.driver.containsElement(f,n),d=S.get(n),p=v.get(n),m=r._buildInstruction(e,i,p,d,h);if(m.errors&&m.errors.length)E.push(m);else{if(h)return t.onStart(function(){return vx(n,m.fromStyles)}),t.onDestroy(function(){return px(n,m.toStyles)}),void a.push(t);if(e.isFallbackTransition)return t.onStart(function(){return vx(n,m.fromStyles)}),t.onDestroy(function(){return px(n,m.toStyles)}),void a.push(t);m.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),i.append(n,m.timelines),s.push({instruction:m,player:t,element:n}),m.queriedElements.forEach(function(e){return qS(c,e,[]).push(t)}),m.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),m.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=u.get(t);r||u.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(E.length){var A=[];E.forEach(function(e){A.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return A.push("- ".concat(e,"\n"))})}),C.forEach(function(e){return e.destroy()}),this.reportError(A)}var T=new Map,I=new Map;s.forEach(function(e){var t=e.element;i.has(t)&&(I.set(t,t),r._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),a.forEach(function(e){var t=e.element;r._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){qS(T,t,[]).push(e),e.destroy()})});var O=g.filter(function(e){return wC(e,l,u)}),D=new Map;vC(D,this.driver,b,u,"*").forEach(function(e){wC(e,l,u)&&O.push(e)});var M=new Map;p.forEach(function(e,t){vC(M,r.driver,new Set(e),l,"!")}),O.forEach(function(e){var t=D.get(e),n=M.get(e);D.set(e,Object.assign(Object.assign({},t),n))});var P=[],L=[],F={};s.forEach(function(e){var t=e.element,n=e.player,s=e.instruction;if(i.has(t)){if(h.has(t))return n.onDestroy(function(){return px(t,s.toStyles)}),n.disabled=!0,n.overrideTotalTime(s.totalTime),void a.push(n);var c=F;if(I.size>1){for(var l=t,u=[];l=l.parentNode;){var f=I.get(l);if(f){c=f;break}u.push(l)}u.forEach(function(e){return I.set(e,c)})}var d=r._buildAnimation(n.namespaceId,s,T,o,M,D);if(n.setRealPlayer(d),c===F)P.push(n);else{var p=r.playersByElement.get(c);p&&p.length&&(n.parentPlayer=BS(p)),a.push(n)}}else vx(t,s.fromStyles),n.onDestroy(function(){return px(t,s.toStyles)}),L.push(n),h.has(t)&&a.push(n)}),L.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=BS(t);e.setRealPlayer(n)}}),a.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var N=0;N<g.length;N++){var z=g[N],j=z.__ng_removed;if(yC(z,"ng-leave"),!j||!j.hasAnimation){var B=[];if(c.size){var V=c.get(z);V&&V.length&&B.push.apply(B,n(V));for(var U=this.driver.query(z,".ng-animating",!0),H=0;H<U.length;H++){var $=c.get(U[H]);$&&$.length&&B.push.apply(B,n($))}}var q=B.filter(function(e){return!e.destroyed});q.length?bC(this,z,q):this.processLeaveNode(z)}}return g.length=0,P.forEach(function(e){r.players.push(e),e.onDone(function(){e.destroy();var t=r.players.indexOf(e);r.players.splice(t,1)}),e.play()}),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var c=!i||"void"==i;s.forEach(function(e){e.queued||(c||e.triggerName==r)&&a.push(e)})}}return(n||r)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,n,r){var i,a=this,o=n.element,s=n.isRemovalTransition?void 0:e,c=n.isRemovalTransition?void 0:n.triggerName,l=t(n.timelines);try{var u=function(){var e=i.value.element,t=e!==o,l=qS(r,e,[]);a._getPreviousPlayers(e,t,s,c,n.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(l.s();!(i=l.n()).done;)u()}catch(h){l.e(h)}finally{l.f()}vx(o,n.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,s=t.triggerName,c=t.element,l=[],u=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;u.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new NS(t.duration,t.delay);var p,v,m=f!==c,g=(p=(n.get(f)||aC).map(function(e){return e.getRealPlayer()}),v=[],_C(p,v),v).filter(function(e){return!!e.element&&e.element===f}),y=i.get(f),b=a.get(f),_=VS(0,o._normalizer,0,t.keyframes,y,b),w=o._buildPlayer(t,_,g);if(t.subTimeline&&r&&h.add(f),m){var k=new fC(e,s,f);k.setRealPlayer(w),l.push(k)}return w});l.forEach(function(e){qS(o.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)})}),u.forEach(function(e){return gC(e,"ng-animating")});var d=BS(f);return d.onDestroy(function(){u.forEach(function(e){return yC(e,"ng-animating")}),px(c,t.toStyles)}),h.forEach(function(e){qS(r,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new NS(e.duration,e.delay)}}]),e}(),fC=function(){function e(t,n,r){v(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new NS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return US(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){qS(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function dC(e){return e&&1===e.nodeType}function pC(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function vC(e,t,n,r,i){var a=[];n.forEach(function(e){return a.push(pC(e))});var o=[];r.forEach(function(n,r){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=sC,o.push(r))}),e.set(r,a)});var s=0;return n.forEach(function(e){return pC(e,a[s++])}),o}function mC(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function a(e){if(!e)return 1;var t=i.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:a(o),i.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}function gC(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function yC(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function bC(e,t,n){BS(n).onDone(function(){return e.processLeaveNode(t)})}function _C(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof zS?_C(r.players,t):t.push(r)}}function wC(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var kC=function(){function t(e,n,r){var i=this;v(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new hC(e,n,r),this._timelineEngine=new iC(e,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return g(t,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],c=Ox(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new tC(e,t)}(r,c),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var a=e(GS(r),2),o=a[0],s=a[1];this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,a){if("@"==r.charAt(0)){var o=e(GS(r),2),s=o[0],c=o[1];return this._timelineEngine.listen(s,n,c,a)}return this._transitionEngine.listen(t,n,r,i,a)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function SC(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=CC(t[0]),t.length>1&&(r=CC(t[t.length-1]))):t&&(n=CC(t)),n||r?new xC(e,n,r):null}var xC=function(){var e=function(){function e(t,n,r){v(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return g(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&px(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(px(this._element,this._initialStyles),this._endStyles&&(px(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(vx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vx(this._element,this._endStyles),this._endStyles=null),px(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function CC(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];EC(i)&&((t=t||{})[i]=e[i])}return t}function EC(e){return"display"===e||"position"===e}var RC=function(){function e(t,n,r,i,a,o,s){var c=this;v(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return g(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=MC(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),DC(e,"",t),OC(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){AC(this._element,this._name,"paused")}},{key:"resume",value:function(){AC(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=TC(this._element,this._name);this._position=e*this._duration,DC(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),OC(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=MC(e,"").split(","),r=IC(n,t);r>=0&&(n.splice(r,1),DC(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function AC(e,t,n){DC(e,"PlayState",n,TC(e,t))}function TC(e,t){var n=MC(e,"");return n.indexOf(",")>0?IC(n.split(","),t):IC([n],t)}function IC(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function OC(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function DC(e,t,n,r){var i="animation"+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function MC(e,t){return e.style["animation"+t]||""}var PC=function(){function e(t,n,r,i,a,o,s,c){v(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return g(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new RC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Ex(e.element,r))})}this.currentSnapshot=t}}]),e}(),LC=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=rx(r),i}return g(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),s(p(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),s(p(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,s(p(n.prototype),"destroy",this).call(this))}}]),n}(NS),FC=function(){function e(){v(this,e),this._count=0,this._head=document.querySelector("head")}return g(e,[{key:"validateStyleProperty",value:function(e){return JS(e)}},{key:"matchesElement",value:function(e,t){return ex(e,t)}},{key:"containsElement",value:function(e,t){return tx(e,t)}},{key:"query",value:function(e,t,n){return nx(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return rx(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var a=document.createElement("style");return a.textContent=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof PC}),s={};Sx(n,r)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=xx(e,t,s));if(0==n)return new LC(e,c);var l="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(u);var h=SC(e,t),f=new PC(e,t,l,n,r,i,c,h);return f.onDestroy(function(){return function(e){e.parentNode.removeChild(e)}(u)}),f}}]),e}(),NC=function(){function e(t,n,r,i){v(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return g(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Ex(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),zC=function(){function e(){v(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jC().toString()),this._cssKeyframesDriver=new FC}return g(e,[{key:"validateStyleProperty",value:function(e){return JS(e)}},{key:"matchesElement",value:function(e,t){return ex(e,t)}},{key:"containsElement",value:function(e,t){return tx(e,t)}},{key:"query",value:function(e,t,n){return nx(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var c={},l=a.filter(function(e){return e instanceof NC});Sx(n,r)&&l.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return c[e]=t[e]})});var u=SC(e,t=xx(e,t=t.map(function(e){return hx(e,!1)}),c));return new NC(e,t,s,u)}}]),e}();function jC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var BC,VC=((BC=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:We.None,styles:[],data:{animation:[]}}),i}return g(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?DS(e):e;return $C(this._renderer,null,t,"register",[n]),new UC(t,this._renderer)}}]),n}(TS)).\u0275fac=function(e){return new(e||BC)(ti(Qh),ti(nv))},BC.\u0275prov=De({token:BC,factory:BC.\u0275fac}),BC),UC=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return g(n,[{key:"create",value:function(e,t){return new HC(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){v(this,e)}}()),HC=function(){function e(t,n,r,i){v(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return g(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $C(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function $C(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var qC,GC,WC,YC=((qC=function(){function t(e,n,r){v(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return g(t,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new ZC("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(a,o,e,r.name,r)}),new XC(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(e){return new(e||qC)(ti(Qh),ti(kC),ti(kp))},qC.\u0275prov=De({token:qC,factory:qC.\u0275fac}),qC),ZC=function(){function e(t,n,r){v(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return g(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),XC=function(t){c(r,t);var n=u(r);function r(e,t,i,a){var o;return v(this,r),(o=n.call(this,t,i,a)).factory=e,o.namespaceId=t,o}return g(r,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(t,n,r){var i,a,o=this;if("@"==n.charAt(0)){var s,c=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t),l=n.substr(1),u="";return"@"!=l.charAt(0)&&(a=(i=l).indexOf("."),l=(s=e([i.substring(0,a),i.substr(a+1)],2))[0],u=s[1]),this.engine.listen(this.namespaceId,c,l,u,function(e){o.factory.scheduleListenerCallback(e._data||-1,r,e)})}return this.delegate.listen(t,n,r)}}]),r}(ZC),KC=((GC=function(e){c(n,e);var t=u(n);function n(e,r,i){return v(this,n),t.call(this,e.body,r,i)}return n}(kC)).\u0275fac=function(e){return new(e||GC)(ti(nv),ti(ox),ti(Yx))},GC.\u0275prov=De({token:GC,factory:GC.\u0275fac}),GC),QC=new Ar("AnimationModuleType"),JC=[{provide:ox,useFactory:function(){return"function"==typeof jC()?new zC:new FC}},{provide:QC,useValue:"BrowserAnimations"},{provide:TS,useClass:VC},{provide:Yx,useFactory:function(){return new Zx}},{provide:kC,useClass:KC},{provide:Qh,useFactory:function(e,t,n){return new YC(e,t,n)},deps:[Pm,kC,kp]}],eE=((WC=function e(){v(this,e)}).\u0275fac=function(e){return new(e||WC)},WC.\u0275mod=vt({type:WC}),WC.\u0275inj=Me({providers:JC,imports:[Ym]}),WC),tE=function e(){v(this,e)},nE=function e(){v(this,e)},rE=function(){function e(t){var n=this;v(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(a):n.headers.set(i,[a])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return g(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,n(r)),this.headers.set(t,i);break;case"d":var a=e.value;if(a){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===a.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),iE=function(){function e(){v(this,e)}return g(e,[{key:"encodeKey",value:function(e){return aE(e)}},{key:"encodeValue",value:function(e){return aE(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function aE(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var oE=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new iE,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),a=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),o=a[0],s=a[1],c=r.get(o)||[];c.push(s),r.set(o,c)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(e){var t=r.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return g(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function sE(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function cE(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lE(e){return"undefined"!=typeof FormData&&e instanceof FormData}var uE=function(){function e(t,n,r,i){var a;if(v(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new rE),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new oE,this.urlWithParams=n}return g(e,[{key:"serializeBody",value:function(){return null===this.body?null:sE(this.body)||cE(this.body)||lE(this.body)||"string"==typeof this.body?this.body:this.body instanceof oE?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||lE(this.body)?null:cE(this.body)?this.body.type||null:sE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oE?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},c)),t.setParams&&(l=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},l)),new e(n,r,a,{params:l,headers:c,reportProgress:s,responseType:i,withCredentials:o})}}]),e}(),hE=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),fE=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";v(this,e),this.headers=t.headers||new rE,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},dE=function(e){c(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(e=t.call(this,r)).type=hE.ResponseHeader,e}return g(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(fE),pE=function(e){c(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(e=t.call(this,r)).type=hE.Response,e.body=void 0!==r.body?r.body:null,e}return g(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(fE),vE=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(fE);function mE(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var gE,yE,bE,_E,wE,kE,SE,xE,CE,EE=((gE=function(){function e(t){v(this,e),this.handler=t}return g(e,[{key:"request",value:function(e,t){var n,r,i,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof uE?n=e:(r=o.headers instanceof rE?o.headers:new rE(o.headers),o.params&&(i=o.params instanceof oE?o.params:new oE({fromObject:o.params})),n=new uE(e,t,void 0!==o.body?o.body:null,{headers:r,params:i,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials}));var s=Fy(n).pipe(db(function(e){return a.handler.handle(e)}));if(e instanceof uE||"events"===o.observe)return s;var c=s.pipe(sb(function(e){return e instanceof pE}));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(q(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return c.pipe(q(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return c.pipe(q(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return c.pipe(q(function(e){return e.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new oE).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,mE(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,mE(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,mE(n,t))}}]),e}()).\u0275fac=function(e){return new(e||gE)(ti(tE))},gE.\u0275prov=De({token:gE,factory:gE.\u0275fac}),gE),RE=function(){function e(t,n){v(this,e),this.next=t,this.interceptor=n}return g(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),AE=new Ar("HTTP_INTERCEPTORS"),TE=((yE=function(){function e(){v(this,e)}return g(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||yE)},yE.\u0275prov=De({token:yE,factory:yE.\u0275fac}),yE),IE=/^\)\]\}',?\n/,OE=function e(){v(this,e)},DE=((_E=function(){function e(){v(this,e)}return g(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||_E)},_E.\u0275prov=De({token:_E,factory:_E.\u0275fac}),_E),ME=((bE=function(){function e(t){v(this,e),this.xhrFactory=t}return g(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var a=e.responseType.toLowerCase();r.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new rE(r.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new dE({headers:i,status:t,statusText:n,url:a})},l=function(){var t=c(),i=t.headers,a=t.status,o=t.statusText,s=t.url,l=null;204!==a&&(l=void 0===r.response?r.responseText:r.response),0===a&&(a=l?200:0);var u=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(IE,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,u&&(u=!1,l={error:f,text:l})}}u?(n.next(new pE({body:l,headers:i,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new vE({error:l,headers:i,status:a,statusText:o,url:s||void 0}))},u=function(e){var t=c().url,i=new vE({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(c()),h=!0);var i={type:hE.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:hE.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),e.reportProgress&&(r.addEventListener("progress",f),null!==o&&r.upload&&r.upload.addEventListener("progress",d)),r.send(o),n.next({type:hE.Sent}),function(){r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",l),r.removeEventListener("timeout",u),e.reportProgress&&(r.removeEventListener("progress",f),null!==o&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}()).\u0275fac=function(e){return new(e||bE)(ti(OE))},bE.\u0275prov=De({token:bE,factory:bE.\u0275fac}),bE),PE=new Ar("XSRF_COOKIE_NAME"),LE=new Ar("XSRF_HEADER_NAME"),FE=function e(){v(this,e)},NE=((CE=function(){function e(t,n,r){v(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Iv(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||CE)(ti(nv),ti(sp),ti(PE))},CE.\u0275prov=De({token:CE,factory:CE.\u0275fac}),CE),zE=((xE=function(){function e(t,n){v(this,e),this.tokenService=t,this.headerName=n}return g(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||xE)(ti(FE),ti(LE))},xE.\u0275prov=De({token:xE,factory:xE.\u0275fac}),xE),jE=((SE=function(){function e(t,n){v(this,e),this.backend=t,this.injector=n,this.chain=null}return g(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(AE,[]);this.chain=t.reduceRight(function(e,t){return new RE(e,t)},this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||SE)(ti(nE),ti(Ns))},SE.\u0275prov=De({token:SE,factory:SE.\u0275fac}),SE),BE=((kE=function(){function e(){v(this,e)}return g(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:zE,useClass:TE}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:PE,useValue:t.cookieName}:[],t.headerName?{provide:LE,useValue:t.headerName}:[]]}}}]),e}()).\u0275fac=function(e){return new(e||kE)},kE.\u0275mod=vt({type:kE}),kE.\u0275inj=Me({providers:[zE,{provide:AE,useExisting:zE,multi:!0},{provide:FE,useClass:NE},{provide:PE,useValue:"XSRF-TOKEN"},{provide:LE,useValue:"X-XSRF-TOKEN"}]}),kE),VE=((wE=function e(){v(this,e)}).\u0275fac=function(e){return new(e||wE)},wE.\u0275mod=vt({type:wE}),wE.\u0275inj=Me({providers:[EE,{provide:tE,useClass:jE},ME,{provide:nE,useExisting:ME},DE,{provide:OE,useExisting:DE}],imports:[[BE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),wE);function UE(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length){var i=t[0];if(S(i))return HE(i,null);if(x(i)&&Object.getPrototypeOf(i)===Object.prototype){var a=Object.keys(i);return HE(a.map(function(e){return i[e]}),a)}}if("function"==typeof t[t.length-1]){var o=t.pop();return HE(t=1===t.length&&S(t[0])?t[0]:t,null).pipe(q(function(e){return o.apply(void 0,n(e))}))}return HE(t,null)}function HE(e,t){return new L(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),a=0,o=0,s=function(s){var c=ee(e[s]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,o++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++a!==r&&l||(o===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()})}var $E,qE,GE=function e(){v(this,e)},WE=new Ar("NgValueAccessor"),YE={provide:WE,useExisting:xe(function(){return ZE}),multi:!0},ZE=(($E=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i.onChange=function(e){},i.onTouched=function(){},i}return g(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(GE)).\u0275fac=function(e){return new(e||$E)(Mc(Jh),Mc(Xh))},$E.\u0275dir=yt({type:$E,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Wc("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[Hh([YE]),Bs]}),$E),XE={provide:WE,useExisting:xe(function(){return QE}),multi:!0},KE=new Ar("CompositionEventMode"),QE=((qE=function(){function e(t,n,r){var i;v(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=ev()?ev().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return g(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||qE)(Mc(Jh),Mc(Xh),Mc(KE,8))},qE.\u0275dir=yt({type:qE,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Wc("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Hh([XE])]}),qE);function JE(e){return null==e||0===e.length}function eR(e){return null!=e&&"number"==typeof e.length}var tR=new Ar("NgValidators"),nR=new Ar("NgAsyncValidators"),rR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function iR(e){return null}function aR(e){return null!=e}function oR(e){var t=$c(e)?ee(e):e;return Gc(t),t}function sR(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function cR(e,t){return t.map(function(t){return t(e)})}function lR(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function uR(e){if(!e)return null;var t=e.filter(aR);return 0==t.length?null:function(e){return sR(cR(e,t))}}function hR(e){return null!=e?uR(lR(e)):null}function fR(e){if(!e)return null;var t=e.filter(aR);return 0==t.length?null:function(e){return UE(cR(e,t).map(oR)).pipe(q(sR))}}function dR(e){return null!=e?fR(lR(e)):null}function pR(e,t){return null===e?[t]:Array.isArray(e)?[].concat(n(e),[t]):[e,t]}function vR(e){return e._rawValidators}function mR(e){return e._rawAsyncValidators}var gR,yR,bR,_R,wR=((yR=function(){function e(){v(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=hR(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dR(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||yR)},yR.\u0275dir=yt({type:yR}),yR),kR=((gR=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(wR)).\u0275fac=function(e){return SR(e||gR)},gR.\u0275dir=yt({type:gR,features:[Bs]}),gR),SR=yr(kR),xR=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(wR),CR=function(){function e(t){v(this,e),this._cd=t}return g(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),ER=((_R=function(e){c(n,e);var t=u(n);function n(e){return v(this,n),t.call(this,e)}return n}(CR)).\u0275fac=function(e){return new(e||_R)(Mc(xR,2))},_R.\u0275dir=yt({type:_R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&xl("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Bs]}),_R),RR=((bR=function(e){c(n,e);var t=u(n);function n(e){return v(this,n),t.call(this,e)}return n}(CR)).\u0275fac=function(e){return new(e||bR)(Mc(kR,10))},bR.\u0275dir=yt({type:bR,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&xl("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Bs]}),bR);function AR(e,t){return[].concat(n(t.path),[e])}function TR(e,t){DR(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&PR(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&PR(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function IR(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),MR(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function OR(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function DR(e,t,n){var r=vR(e);null!==t.validator?e.setValidators(pR(r,t.validator)):"function"==typeof r&&e.setValidators([r]);var i=mR(e);if(null!==t.asyncValidator?e.setAsyncValidators(pR(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]),n){var a=function(){return e.updateValueAndValidity()};OR(t._rawValidators,a),OR(t._rawAsyncValidators,a)}}function MR(e,t,n){var r=!1;if(null!==e){if(null!==t.validator){var i=vR(e);if(Array.isArray(i)&&i.length>0){var a=i.filter(function(e){return e!==t.validator});a.length!==i.length&&(r=!0,e.setValidators(a))}}if(null!==t.asyncValidator){var o=mR(e);if(Array.isArray(o)&&o.length>0){var s=o.filter(function(e){return e!==t.asyncValidator});s.length!==o.length&&(r=!0,e.setAsyncValidators(s))}}}if(n){var c=function(){};OR(t._rawValidators,c),OR(t._rawAsyncValidators,c)}return r}function PR(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function LR(e,t){DR(e,t,!1)}function FR(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function NR(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function zR(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===QE?n=e:Object.getPrototypeOf(e.constructor)===GE?r=e:i=e}),i||r||n||null):null;var n,r,i}function jR(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function BR(e){return($R(e)?e.validators:e)||null}function VR(e){return Array.isArray(e)?hR(e):e||null}function UR(e,t){return($R(t)?t.asyncValidators:e)||null}function HR(e){return Array.isArray(e)?dR(e):e||null}function $R(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var qR,GR,WR,YR,ZR,XR,KR,QR=function(){function e(t,n){v(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=VR(this._rawValidators),this._composedAsyncValidatorFn=HR(this._rawAsyncValidators)}return g(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=VR(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=HR(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=oR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof eA?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof tA&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new _d,this.statusChanges=new _d}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){$R(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),JR=function(e){c(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return v(this,n),(e=t.call(this,BR(i),UR(a,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!a}),e}return g(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){jR(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){jR(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(QR),eA=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,BR(r),UR(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),a}return g(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof JR?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(QR),tA=function(e){c(r,e);var n=u(r);function r(e,t,i){var a;return v(this,r),(a=n.call(this,BR(t),UR(i,t))).controls=e,a._initObservables(),a._setUpdateStrategy(t),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),a}return g(r,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof JR?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,n=t(this.controls);try{for(n.s();!(e=n.n()).done;){if(e.value.enabled)return!1}}catch(r){n.e(r)}finally{n.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),r}(QR),nA={provide:kR,useExisting:xe(function(){return iA})},rA=Promise.resolve(null),iA=((qR=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new _d,i.form=new eA({},hR(e),dR(r)),i}return g(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;rA.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),TR(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;rA.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),jR(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;rA.then(function(){var n=t._findContainer(e.path),r=new eA({});LR(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;rA.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;rA.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,NR(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(kR)).\u0275fac=function(e){return new(e||qR)(Mc(tR,10),Mc(nR,10))},qR.\u0275dir=yt({type:qR,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Wc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hh([nA]),Bs]}),qR),aA={provide:xR,useExisting:xe(function(){return sA})},oA=Promise.resolve(null),sA=((WR=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).control=new JR,o._registered=!1,o.update=new _d,o._parent=e,o._setValidators(r),o._setAsyncValidators(i),o.valueAccessor=zR(0,a),o}return g(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),FR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?AR(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){TR(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;oA.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;oA.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(xR)).\u0275fac=function(e){return new(e||WR)(Mc(kR,9),Mc(tR,10),Mc(nR,10),Mc(WE,10))},WR.\u0275dir=yt({type:WR,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hh([aA]),Bs,Dt]}),WR),cA=((GR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||GR)},GR.\u0275dir=yt({type:GR,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),GR),lA={provide:WE,useExisting:xe(function(){return uA}),multi:!0},uA=((ZR=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i.onChange=function(e){},i.onTouched=function(){},i}return g(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(GE)).\u0275fac=function(e){return new(e||ZR)(Mc(Jh),Mc(Xh))},ZR.\u0275dir=yt({type:ZR,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Wc("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Hh([lA]),Bs]}),ZR),hA=((YR=function e(){v(this,e)}).\u0275fac=function(e){return new(e||YR)},YR.\u0275mod=vt({type:YR}),YR.\u0275inj=Me({}),YR),fA=new Ar("NgModelWithFormControlWarning"),dA={provide:kR,useExisting:xe(function(){return pA})},pA=((XR=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).validators=e,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new _d,i._setValidators(e),i._setAsyncValidators(r),i}return g(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(MR(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return TR(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){IR(e.control||null,e,!1),jR(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,NR(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,r=e.form.get(t.path);n!==r&&(IR(n||null,t),r instanceof JR&&(TR(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);LR(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return MR(e,t,!1)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){DR(this.form,this,!1),this._oldForm&&MR(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(kR)).\u0275fac=function(e){return new(e||XR)(Mc(tR,10),Mc(nR,10))},XR.\u0275dir=yt({type:XR,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Wc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hh([dA]),Bs,Dt]}),XR),vA={provide:xR,useExisting:xe(function(){return mA})},mA=((KR=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o){var s;return v(this,n),(s=t.call(this))._ngModelWarningConfig=o,s._added=!1,s.update=new _d,s._ngModelWarningSent=!1,s._parent=e,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=zR(0,a),s}return g(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),FR(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return AR(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(xR)).\u0275fac=function(e){return new(e||KR)(Mc(kR,13),Mc(tR,10),Mc(nR,10),Mc(WE,10),Mc(fA,8))},KR.\u0275dir=yt({type:KR,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hh([vA]),Bs,Dt]}),KR._ngModelWarningSentOnce=!1,KR),gA={provide:WE,useExisting:xe(function(){return wA}),multi:!0};function yA(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var bA,_A,wA=((_A=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(e){},i.onTouched=function(){},i._compareWith=Object.is,i}return g(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=yA(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),n}(GE)).\u0275fac=function(e){return new(e||_A)(Mc(Jh),Mc(Xh))},_A.\u0275dir=yt({type:_A,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Wc("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hh([gA]),Bs]}),_A),kA=((bA=function(){function e(t,n,r){v(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return g(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yA(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||bA)(Mc(Xh),Mc(Jh),Mc(wA,9))},bA.\u0275dir=yt({type:bA,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),bA),SA={provide:WE,useExisting:xe(function(){return IA}),multi:!0};function xA(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var CA,EA,RA,AA,TA,IA=((TA=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(e){},i.onTouched=function(){},i._compareWith=Object.is,i}return g(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,a=0;a<i.length;a++){var o=i.item(a),s=t._getOptionValue(o.value);r.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var h=t._getOptionValue(u.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),n}(GE)).\u0275fac=function(e){return new(e||TA)(Mc(Jh),Mc(Xh))},TA.\u0275dir=yt({type:TA,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Wc("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hh([SA]),Bs]}),TA),OA=((AA=function(){function e(t,n,r){v(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return g(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(xA(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(xA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||AA)(Mc(Xh),Mc(Jh),Mc(IA,9))},AA.\u0275dir=yt({type:AA,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),AA),DA=((RA=function e(){v(this,e)}).\u0275fac=function(e){return new(e||RA)},RA.\u0275mod=vt({type:RA}),RA.\u0275inj=Me({imports:[[hA]]}),RA),MA=((EA=function e(){v(this,e)}).\u0275fac=function(e){return new(e||EA)},EA.\u0275mod=vt({type:EA}),EA.\u0275inj=Me({imports:[DA]}),EA),PA=((CA=function(){function e(){v(this,e)}return g(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:fA,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275fac=function(e){return new(e||CA)},CA.\u0275mod=vt({type:CA}),CA.\u0275inj=Me({imports:[DA]}),CA);function LA(e,t,r,i){return y(r)&&(i=r,r=void 0),i?LA(e,t,r).pipe(q(function(e){return S(e)?i.apply(void 0,n(e)):i(e)})):new L(function(n){FA(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,r)})}function FA(e,t,n,r,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var o=e;e.addEventListener(t,n,i),a=function(){return o.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),a=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),a=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,u=e.length;l<u;l++)FA(e[l],t,n,r,i)}r.add(a)}var NA=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return g(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){c(n,e);var t=u(n);function n(e,r){return v(this,n),t.call(this)}return g(n,[{key:"schedule",value:function(e){return this}}]),n}(R)),zA=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;v(this,e),this.SchedulerAction=t,this.now=n}return g(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),jA=function(e){c(n,e);var t=u(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zA.now;return v(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==f(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return g(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):s(p(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(zA),BA=new jA(NA);function VA(e){return!S(e)&&e-parseFloat(e)+1>=0}function UA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return VA(t)?r=Number(t)<1?1:Number(t):H(t)&&(n=t),H(n)||(n=BA),new L(function(t){var i=VA(e)?e:+e-n.now();return n.schedule(HA,i,{index:0,period:r,subscriber:t})})}function HA(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!S(t[0]))return t[0];t=t[0]}return ce(t,void 0).lift(new qA)}var qA=function(){function e(){v(this,e)}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new GA(e))}}]),e}(),GA=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return g(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=By(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)}}]),n}(zy);function WA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return"function"==typeof r&&t.pop(),ce(t,void 0).lift(new YA(r))}var YA=function(){function e(t){v(this,e),this.resultSelector=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new ZA(e,this.resultSelector))}}]),e}(),ZA=function(e){c(n,e);var t=u(n);function n(e,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return v(this,n),(i=t.call(this,e)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return g(n,[{key:"_next",value:function(e){var t=this.iterators;S(e)?t.push(new KA(e)):t.push("function"==typeof e[Z]?new XA(e[Z]()):new QA(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var a=!1,o=[],s=0;s<t;s++){var c=e[s],l=c.next();if(c.hasCompleted()&&(a=!0),l.done)return void n.complete();o.push(l.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),a&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(I),XA=function(){function e(t){v(this,e),this.iterator=t,this.nextResult=t.next()}return g(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return Boolean(e&&e.done)}}]),e}(),KA=function(){function e(t){v(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return g(e,[{key:Z,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),QA=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).parent=r,a.observable=i,a.stillUnsubscribed=!0,a.buffer=[],a.isComplete=!1,a}return g(n,[{key:Z,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e){this.buffer.push(e),this.parent.checkIterators()}},{key:"subscribe",value:function(){return re(this.observable,new te(this))}}]),n}(ne);function JA(e){return function(t){return t.lift(new eT(e))}}var eT=function(){function e(t){v(this,e),this.notifier=t}return g(e,[{key:"call",value:function(e,t){var n=new tT(e),r=re(this.notifier,new te(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),tT=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).seenValue=!1,r}return g(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(ne);function nT(e,t){return function(n){return n.lift(new rT(e,t))}}var rT=function(){function e(t,n){v(this,e),this.compare=t,this.keySelector=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new iT(e,this.compare,this.keySelector))}}]),e}(),iT=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return g(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(I);function aT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new oT(t,n))}}var oT=function(){function e(t,n){v(this,e),this.observables=t,this.project=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new sT(e,this.observables,this.project))}}]),e}(),sT=function(e){c(r,e);var t=u(r);function r(e,n,i){var a;v(this,r),(a=t.call(this,e)).observables=n,a.project=i,a.toRespond=[];var o=n.length;a.values=new Array(o);for(var s=0;s<o;s++)a.toRespond.push(s);for(var c=0;c<o;c++)a.add(By(f(a),n[c],void 0,c));return a}return g(r,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(n(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),r}(zy);function cT(e,t){return new L(t?function(n){return t.schedule(lT,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function lT(e){var t=e.error;e.subscriber.error(t)}var uT,hT=((uT=function(){function e(t,n,r){v(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return g(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Fy(this.value);case"E":return cT(this.error);case"C":return Yy()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new uT("C"),uT.undefinedValueNotification=new uT("N",void 0),uT);function fT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BA,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new dT(r,n))}}var dT=function(){function e(t,n){v(this,e),this.delay=t,this.scheduler=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new pT(e,this.delay,this.scheduler))}}]),e}(),pT=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).delay=r,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return g(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new vT(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(hT.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(hT.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var a=Math.max(0,n[0].time-r.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(I),vT=function e(t,n){v(this,e),this.time=t,this.notification=n},mT=function(){function e(t){v(this,e),this.total=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new gT(e,this.total))}}]),e}(),gT=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return g(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(I),yT=["*"],bT=["dialog"];function _T(e){return null!=e}function wT(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var kT,ST,xT,CT,ET,RT,AT,TT,IT=!0,OT=5,DT=((kT=function e(){v(this,e),this.animation=IT}).\u0275fac=function(e){return new(e||kT)},kT.\u0275prov=De({factory:function(){return new kT},token:kT,providedIn:"root"}),kT),MT=function(){},PT=OT,LT=new Map,FT=function(e,t,n,r){var i=r.context||{},a=LT.get(t);if(a)switch(r.runningTransition){case"continue":return Wy;case"stop":e.run(function(){return a.transition$.complete()}),i=Object.assign(a.context,i),LT.delete(t)}var o=n(t,r.animation,i)||MT;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return o()}),Fy(void 0).pipe(function(e){return function(t){return new L(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var s=new V,c=new V,l=s.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Gy(e,Fy.apply(void 0,t))}}(!0));LT.set(t,{transition$:s,complete:function(){c.next(),c.complete()},context:i});var u=function(e){var t=window.getComputedStyle(e),n=t.transitionDelay,r=t.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(t);return e.runOutsideAngular(function(){var n=LA(t,"transitionend").pipe(JA(l),sb(function(e){return e.target===t}));$A(UA(u+PT).pipe(JA(l)),n,c).pipe(JA(l)).subscribe(function(){LT.delete(t),e.run(function(){o(),s.next(),s.complete()})})}),s.asObservable()},NT=function(e,t,n){var r=n.direction,i=n.maxHeight,a=e.classList;function o(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(t)return i||(i=function(e){if("undefined"==typeof navigator)return"0px";var t=e.classList,n=t.contains("show");n||t.add("show"),e.style.height="";var r=e.getBoundingClientRect().height+"px";return n||t.remove("show"),r}(e),n.maxHeight=i,e.style.height="show"!==r?i:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),wT(e),a.add("collapsing")),e.style.height="show"===r?i:"0px",function(){o(),a.remove("collapsing"),e.style.height=""};o()},zT=((TT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||TT)},TT.\u0275mod=vt({type:TT}),TT.\u0275inj=Me({imports:[[rm]]}),TT),jT=((AT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||AT)},AT.\u0275mod=vt({type:AT}),AT.\u0275inj=Me({imports:[[rm]]}),AT),BT=((RT=function e(){v(this,e)}).\u0275fac=function(e){return new(e||RT)},RT.\u0275mod=vt({type:RT}),RT.\u0275inj=Me({}),RT),VT=((ET=function e(){v(this,e)}).\u0275fac=function(e){return new(e||ET)},ET.\u0275mod=vt({type:ET}),ET.\u0275inj=Me({imports:[[rm]]}),ET),UT=((CT=function(){function e(t){v(this,e),this._ngbConfig=t}return g(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||CT)(ti(DT))},CT.\u0275prov=De({factory:function(){return new CT(ti(DT))},token:CT,providedIn:"root"}),CT),HT=((xT=function(){function e(t,n,r){v(this,e),this._element=t,this._zone=r,this.collapsed=!1,this.ngbCollapseChange=new _d,this.shown=new _d,this.hidden=new _d,this.animation=n.animation}return g(e,[{key:"ngOnInit",value:function(){this._runTransition(this.collapsed,!1)}},{key:"ngOnChanges",value:function(e){e.collapsed.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.collapsed;this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}},{key:"_runTransition",value:function(e,t){return FT(this._zone,this._element.nativeElement,NT,{animation:t,runningTransition:"stop",context:{direction:e?"hide":"show"}})}},{key:"_runTransitionWithEvents",value:function(e,t){var n=this;this._runTransition(e,t).subscribe(function(){e?n.hidden.emit():n.shown.emit()})}}]),e}()).\u0275fac=function(e){return new(e||xT)(Mc(Xh),Mc(UT),Mc(kp))},xT.\u0275dir=yt({type:xT,selectors:[["","ngbCollapse",""]],inputs:{collapsed:["ngbCollapse","collapsed"],animation:"animation"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[Dt]}),xT),$T=((ST=function e(){v(this,e)}).\u0275fac=function(e){return new(e||ST)},ST.\u0275mod=vt({type:ST}),ST.\u0275inj=Me({}),ST),qT=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),GT=function(e,t){return!!t&&t.some(function(t){return t.contains(e)})},WT=function(e,t){return!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t)},YT="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),ZT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function XT(e){var t=Array.from(e.querySelectorAll(ZT)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}var KT=/\s+/,QT=new(function(){function t(){v(this,t)}return g(t,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,a={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a}},{key:"positionElements",value:function(t,n,r,i){var a=e(r.split("-"),2),o=a[0],s=void 0===o?"top":o,c=a[1],l=void 0===c?"center":c,u=i?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(n),f=parseFloat(h.marginTop),d=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),m=0,g=0;switch(s){case"top":m=u.top-(n.offsetHeight+f+d);break;case"bottom":m=u.top+u.height;break;case"left":g=u.left-(n.offsetWidth+p+v);break;case"right":g=u.left+u.width}switch(l){case"top":m=u.top;break;case"bottom":m=u.top+u.height-n.offsetHeight;break;case"left":g=u.left;break;case"right":g=u.left+u.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=u.left+u.width/2-n.offsetWidth/2:m=u.top+u.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(m),"px)");var y=n.getBoundingClientRect(),b=document.documentElement,_=window.innerHeight||b.clientHeight,w=window.innerWidth||b.clientWidth;return y.left>=0&&y.top>=0&&y.right<=w&&y.bottom<=_}}]),t}());new Date(1882,10,12),new Date(2174,10,25);var JT,eI,tI,nI,rI,iI,aI,oI,sI,cI,lI,uI,hI,fI,dI,pI,vI,mI,gI,yI,bI,_I,wI,kI,SI,xI,CI,EI,RI,AI=((cI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||cI)},cI.\u0275mod=vt({type:cI}),cI.\u0275inj=Me({imports:[[rm,MA]]}),cI),TI=((sI=function e(){v(this,e),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275fac=function(e){return new(e||sI)},sI.\u0275prov=De({factory:function(){return new sI},token:sI,providedIn:"root"}),sI),II=((oI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||oI)},oI.\u0275dir=yt({type:oI,selectors:[["",8,"navbar"]]}),oI),OI=((aI=function(){function e(t){v(this,e),this.elementRef=t,this._disabled=!1}return g(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=""===e||!0===e}}]),e}()).\u0275fac=function(e){return new(e||aI)(Mc(Xh))},aI.\u0275dir=yt({type:aI,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,t){2&e&&xl("disabled",t.disabled)},inputs:{disabled:"disabled"}}),aI),DI=((iI=function e(t,n){v(this,e),this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=n.nativeElement}).\u0275fac=function(e){return new(e||iI)(Mc(xe(function(){return LI})),Mc(Xh))},iI.\u0275dir=yt({type:iI,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,n){var r;1&e&&Pd(n,OI,0),2&e&&Dd(r=Ld())&&(t.menuItems=r)},hostVars:5,hostBindings:function(e,t){1&e&&Wc("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Enter",function(e){return t.dropdown.onKeyDown(e)})("keydown.Space",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&(ac("x-placement",t.placement),xl("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),iI),MI=((rI=function e(t,n){v(this,e),this.dropdown=t,this.nativeElement=n.nativeElement}).\u0275fac=function(e){return new(e||rI)(Mc(xe(function(){return LI})),Mc(Xh))},rI.\u0275dir=yt({type:rI,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&ac("aria-expanded",t.dropdown.isOpen())}}),rI),PI=((nI=function(e){c(n,e);var t=u(n);function n(e,r){return v(this,n),t.call(this,e,r)}return n}(MI)).\u0275fac=function(e){return new(e||nI)(Mc(xe(function(){return LI})),Mc(Xh))},nI.\u0275dir=yt({type:nI,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&Wc("click",function(){return t.dropdown.toggle()})("keydown.ArrowUp",function(e){return t.dropdown.onKeyDown(e)})("keydown.ArrowDown",function(e){return t.dropdown.onKeyDown(e)})("keydown.Home",function(e){return t.dropdown.onKeyDown(e)})("keydown.End",function(e){return t.dropdown.onKeyDown(e)})("keydown.Tab",function(e){return t.dropdown.onKeyDown(e)})("keydown.Shift.Tab",function(e){return t.dropdown.onKeyDown(e)}),2&e&&ac("aria-expanded",t.dropdown.isOpen())},features:[Hh([{provide:MI,useExisting:xe(function(){return nI})}]),Bs]}),nI),LI=((tI=function(){function n(e,t,r,i,a,o,s){var c=this;v(this,n),this._changeDetector=e,this._document=r,this._ngZone=i,this._elementRef=a,this._renderer=o,this._closed$=new V,this._bodyContainer=null,this._open=!1,this.openChange=new _d,this.placement=t.placement,this.container=t.container,this.autoClose=t.autoClose,this.display=s?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe(function(){c._positionMenu()})}return g(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._ngZone.onStable.pipe(eb(1)).subscribe(function(){e._applyPlacementClasses(),e._open&&e._setCloseHandlers()})}},{key:"ngOnChanges",value:function(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){var t=e.dropdownClass,n=t.currentValue,r=t.previousValue;this._applyCustomDropdownClass(n,r)}}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}},{key:"_setCloseHandlers",value:function(){var t=this;!function(n,r,i,a,o,s,c,l){var u;i&&n.runOutsideAngular((u=function(){var a=LA(r,"keydown").pipe(JA(o),sb(function(e){return e.which===qT.Escape}),Eb(function(e){return e.preventDefault()})),u=LA(r,"mousedown").pipe(q(function(e){var t=e.target;return 2!==e.button&&!GT(t,c)&&("inside"===i?GT(t,s)&&WT(t,l):"outside"===i?!GT(t,s):WT(t,l)||!GT(t,s))}),JA(o)),h=LA(r,"mouseup").pipe(aT(u),sb(function(t){var n=e(t,2);return n[0],n[1]}),fT(0),JA(o));$A([a.pipe(q(function(e){return 0})),h.pipe(q(function(e){return 1}))]).subscribe(function(e){return n.run(function(){return function(e){t.close(),0===e&&t._anchor.nativeElement.focus()}(e)})})},YT?function(){return setTimeout(function(){return u()},100)}:u))}(this._ngZone,this._document,this.autoClose,0,this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(e){var t=this,n=e.which,r=this._getMenuElements(),i=-1,a=null,o=this._isEventFromToggle(e);if(!o&&r.length&&r.forEach(function(n,r){n.contains(e.target)&&(a=n),n===t._document.activeElement&&(i=r)}),n!==qT.Space&&n!==qT.Enter){if(n!==qT.Tab){if(o||a){if(this.open(),r.length){switch(n){case qT.ArrowDown:i=Math.min(i+1,r.length-1);break;case qT.ArrowUp:if(this._isDropup()&&-1===i){i=r.length-1;break}i=Math.max(i-1,0);break;case qT.Home:i=0;break;case qT.End:i=r.length-1}r[i].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var s=this._menu.nativeElement.querySelectorAll(ZT);e.shiftKey&&e.target===s[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):e.shiftKey||e.target!==s[s.length-1]||(this._anchor.nativeElement.focus(),this.close())}else LA(e.target,"focusout").pipe(eb(1)).subscribe(function(e){var n=e.relatedTarget;t._elementRef.nativeElement.contains(n)||t.close()})}}else!a||!0!==this.autoClose&&"inside"!==this.autoClose||LA(a,"click").pipe(eb(1)).subscribe(function(){return t.close()})}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(e){return this._anchor.nativeElement.contains(e.target)}},{key:"_getMenuElements",value:function(){var e=this._menu;return null==e?[]:e.menuItems.filter(function(e){return!e.disabled}).map(function(e){return e.elementRef.nativeElement})}},{key:"_positionMenu",value:function(){var n=this._menu;this.isOpen()&&n&&this._applyPlacementClasses("dynamic"===this.display?function(n,r,i,a,o){var s=Array.isArray(i)?i:i.split(KT),c=function(t){var n=e(t.split("-"),2);return n[0],n[1],[]},l=s.findIndex(function(e){return"auto"===e});l>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(e){null==s.find(function(t){return-1!==t.search("^"+e)})&&s.splice(l++,1,e)});var u=r.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";var h,f=null,d=!1,p=t(s);try{for(p.s();!(h=p.n()).done;)if(c(f=h.value),QT.positionElements(n,r,f,a)){d=!0;break}}catch(v){p.e(v)}finally{p.f()}return d||(c(f=s[0]),QT.positionElements(n,r,f,a)),f}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}},{key:"_resetContainer",value:function(){var e=this._renderer;if(this._menu){var t=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,t),e.removeStyle(t,"position"),e.removeStyle(t,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===e){var t=this._renderer,n=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(r,"position","absolute"),t.setStyle(n,"position","static"),t.setStyle(r,"z-index","1050"),t.appendChild(r,n),t.appendChild(this._document.body,r)}this._applyCustomDropdownClass(this.dropdownClass)}},{key:"_applyCustomDropdownClass",value:function(e,t){var n="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;n&&(t&&this._renderer.removeClass(n,t),e&&this._renderer.addClass(n,e))}},{key:"_applyPlacementClasses",value:function(e){var t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));var n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),t.placement="static"===this.display?null:e;var i=-1!==e.search("^top")?"dropup":"dropdown";n.addClass(r,i);var a=this._bodyContainer;a&&(n.removeClass(a,"dropup"),n.removeClass(a,"dropdown"),n.addClass(a,i))}}}]),n}()).\u0275fac=function(e){return new(e||tI)(Mc(Sf),Mc(TI),Mc(nv),Mc(kp),Mc(Xh),Mc(Jh),Mc(II,8))},tI.\u0275dir=yt({type:tI,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,DI,1),Pd(n,MI,1)),2&e&&(Dd(r=Ld())&&(t._menu=r.first),Dd(r=Ld())&&(t._anchor=r.first))},hostVars:2,hostBindings:function(e,t){2&e&&xl("show",t.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Dt]}),tI),FI=((eI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||eI)},eI.\u0275mod=vt({type:eI}),eI.\u0275inj=Me({}),eI),NI=((JT=function(){function e(t){v(this,e),this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}return g(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||JT)(ti(DT))},JT.\u0275prov=De({factory:function(){return new JT(ti(DT))},token:JT,providedIn:"root"}),JT),zI=function e(t,n,r){v(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},jI=function(){},BI=((uI=function(){function e(t){v(this,e),this._document=t}return g(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):jI}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||uI)(ti(nv))},uI.\u0275prov=De({factory:function(){return new uI(ti(nv))},token:uI,providedIn:"root"}),uI),VI=((lI=function(){function e(t,n){v(this,e),this._el=t,this._zone=n}return g(e,[{key:"ngOnInit",value:function(){var e=this;this._zone.onStable.asObservable().pipe(eb(1)).subscribe(function(){FT(e._zone,e._el.nativeElement,function(e,t){t&&wT(e),e.classList.add("show")},{animation:e.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return FT(this._zone,this._el.nativeElement,function(e){return e.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),e}()).\u0275fac=function(e){return new(e||lI)(Mc(Xh),Mc(kp))},lI.\u0275cmp=ut({type:lI,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(Rl("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),xl("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),lI),UI=function(){function e(){v(this,e)}return g(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),HI=function(){function e(t,n,r,i){var a=this;v(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new V,this._dismissed=new V,this._hidden=new V,t.instance.dismissEvent.subscribe(function(e){a.dismiss(e)}),this.result=new Promise(function(e,t){a._resolve=e,a._reject=t}),this.result.then(null,function(){})}return g(e,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(JA(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(JA(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&t._dismiss(e)},function(){}):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this,t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Fy(void 0);t.subscribe(function(){var t=e._windowCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._windowCmptRef.destroy(),e._contentRef&&e._contentRef.viewRef&&e._contentRef.viewRef.destroy(),e._windowCmptRef=null,e._contentRef=null}),n.subscribe(function(){if(e._backdropCmptRef){var t=e._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._backdropCmptRef.destroy(),e._backdropCmptRef=null}}),WA(t,n).subscribe(function(){e._hidden.next(),e._hidden.complete()})}}]),e}(),$I=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),qI=((vI=function(){function e(t,n,r){v(this,e),this._document=t,this._elRef=n,this._zone=r,this._closed$=new V,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new _d,this.shown=new V,this.hidden=new V}return g(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){var e=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(eb(1)).subscribe(function(){e._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var e=this,t=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=WA(FT(this._zone,t,function(){return t.classList.remove("show")},n),FT(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){e.hidden.next(),e.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var e=this,t={animation:this.animation,runningTransition:"continue"};WA(FT(this._zone,this._elRef.nativeElement,function(e,t){t&&wT(e),e.classList.add("show")},t),FT(this._zone,this._dialogEl.nativeElement,function(){},t)).subscribe(function(){e.shown.next(),e.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var e=this,t=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){LA(t,"keydown").pipe(JA(e._closed$),sb(function(e){return e.which===qT.Escape})).subscribe(function(t){e.keyboard?requestAnimationFrame(function(){t.defaultPrevented||e._zone.run(function(){return e.dismiss($I.ESC)})}):"static"===e.backdrop&&e._bumpBackdrop()});var n=!1;LA(e._dialogEl.nativeElement,"mousedown").pipe(JA(e._closed$),Eb(function(){return n=!1}),Xy(function(){return LA(t,"mouseup").pipe(JA(e._closed$),eb(1))}),sb(function(e){var n=e.target;return t===n})).subscribe(function(){n=!0}),LA(t,"click").pipe(JA(e._closed$)).subscribe(function(r){var i=r.target;t===i&&("static"===e.backdrop?e._bumpBackdrop():!0!==e.backdrop||n||e._zone.run(function(){return e.dismiss($I.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var e=this._elRef.nativeElement;if(!e.contains(document.activeElement)){var t=e.querySelector("[ngbAutofocus]"),n=XT(e)[0];(t||n||e).focus()}}},{key:"_restoreFocus",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()}),t._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&FT(this._zone,this._elRef.nativeElement,function(e){var t=e.classList;return t.add("modal-static"),function(){return t.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),e}()).\u0275fac=function(e){return new(e||vI)(Mc(nv),Mc(Xh),Mc(kp))},vI.\u0275cmp=ut({type:vI,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&Md(bT,3),2&e&&Dd(n=Ld())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(ac("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),Rl("modal d-block"+(t.windowClass?" "+t.windowClass:"")),xl("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:yT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(el(),Nc(0,"div",0,1),Nc(2,"div",2),tl(3),zc(),zc()),2&e&&Rl("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),vI),GI=((pI=function(){function t(n,r,i,a,o,s){var c=this;v(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new V,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new _d,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=LA(n,"focusin").pipe(JA(r),q(function(e){return e.target}));LA(n,"keydown").pipe(JA(r),sb(function(e){return e.which===qT.Tab}),aT(t)).subscribe(function(t){var r=e(t,2),i=r[0],a=r[1],o=e(XT(n),2),s=o[0],c=o[1];a!==s&&a!==n||!i.shiftKey||(c.focus(),i.preventDefault()),a!==c||i.shiftKey||(s.focus(),i.preventDefault())}),i&&LA(n,"click").pipe(JA(r),aT(t),q(function(e){return e[1]})).subscribe(function(e){return e.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return g(t,[{key:"open",value:function(e,t,n,r){var i=this,a=r.container instanceof HTMLElement?r.container:_T(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),c=function(){i._modalRefs.length||(o.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!a)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var l=new UI,u=this._getContentRef(e,r.injector||t,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(e,a):void 0,f=this._attachWindowComponent(e,a,u),d=new HI(f,u,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(c,c),l.close=function(e){d.close(e)},l.dismiss=function(e){d.dismiss(e)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(e){this._modalRefs.forEach(function(t){return t.dismiss(e)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(VI).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(qI).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach(function(n){_T(t[n])&&(e[n]=t[n])})}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach(function(n){_T(t[n])&&(e[n]=t[n])})}},{key:"_getContentRef",value:function(e,t,n,r,i){return n?n instanceof Tf?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new zI([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new zI([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new zI([[t]])}},{key:"_createFromComponent",value:function(e,t,n,r,i){var a=e.resolveComponentFactory(n),o=Ns.create({providers:[{provide:UI,useValue:r}],parent:t}),s=a.create(o),c=s.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new zI([[c]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&(t._modalRefs.splice(n,1),t._activeInstances.emit(t._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(e){return new(e||pI)(ti(Hp),ti(Ns),ti(nv),ti(BI),ti(Qh),ti(kp))},pI.\u0275prov=De({factory:function(){return new pI(ti(Hp),ti(ks),ti(nv),ti(BI),ti(Qh),ti(kp))},token:pI,providedIn:"root"}),pI),WI=((dI=function(){function e(t,n,r,i){v(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return g(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||dI)(ti(Gh),ti(Ns),ti(GI),ti(NI))},dI.\u0275prov=De({factory:function(){return new dI(ti(Gh),ti(ks),ti(GI),ti(NI))},token:dI,providedIn:"root"}),dI),YI=((fI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||fI)},fI.\u0275mod=vt({type:fI}),fI.\u0275inj=Me({providers:[WI]}),fI),ZI=((hI=function(){function e(t){v(this,e),this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}return g(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||hI)(ti(DT))},hI.\u0275prov=De({factory:function(){return new hI(ti(DT))},token:hI,providedIn:"root"}),hI),XI=function(e){return _T(e)&&""!==e},KI=0,QI=((RI=function e(t){v(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||RI)(Mc(Tf))},RI.\u0275dir=yt({type:RI,selectors:[["ng-template","ngbNavContent",""]]}),RI),JI=((EI=function(){function e(t,n){v(this,e),this.elementRef=n,this.disabled=!1,this.shown=new _d,this.hidden=new _d,this._nav=t}return g(e,[{key:"ngAfterContentChecked",value:function(){this.contentTpl=this.contentTpls.first}},{key:"ngOnInit",value:function(){_T(this.domId)||(this.domId="ngb-nav-"+KI++)}},{key:"active",get:function(){return this._nav.activeId===this.id}},{key:"id",get:function(){return XI(this._id)?this._id:this.domId}},{key:"panelDomId",get:function(){return"".concat(this.domId,"-panel")}},{key:"isPanelInDom",value:function(){return(_T(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}]),e}()).\u0275fac=function(e){return new(e||EI)(Mc(xe(function(){return eO})),Mc(Xh))},EI.\u0275dir=yt({type:EI,selectors:[["","ngbNavItem",""]],contentQueries:function(e,t,n){var r;1&e&&Pd(n,QI,0),2&e&&Dd(r=Ld())&&(t.contentTpls=r)},hostVars:2,hostBindings:function(e,t){2&e&&xl("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),EI),eO=((CI=function(){function e(t,n,r,i){v(this,e),this.role=t,this._cd=r,this._document=i,this.activeIdChange=new _d,this.shown=new _d,this.hidden=new _d,this.destroy$=new V,this.navItemChange$=new V,this.navChange=new _d,this.animation=n.animation,this.destroyOnHide=n.destroyOnHide,this.orientation=n.orientation,this.roles=n.roles,this.keyboard=n.keyboard}return g(e,[{key:"click",value:function(e){e.disabled||this._updateActiveId(e.id)}},{key:"onKeyDown",value:function(e){var t=this;if("tablist"===this.roles&&this.keyboard){var n=e.which,r=this.links.filter(function(e){return!e.navItem.disabled}),i=r.length,a=-1;if(r.forEach(function(e,n){e.elRef.nativeElement===t._document.activeElement&&(a=n)}),i){switch(n){case qT.ArrowLeft:if("vertical"===this.orientation)return;a=(a-1+i)%i;break;case qT.ArrowRight:if("vertical"===this.orientation)return;a=(a+1)%i;break;case qT.ArrowDown:if("horizontal"===this.orientation)return;a=(a+1)%i;break;case qT.ArrowUp:if("horizontal"===this.orientation)return;a=(a-1+i)%i;break;case qT.Home:a=0;break;case qT.End:a=i-1}"changeWithArrows"===this.keyboard&&this.select(r[a].navItem.id),r[a].elRef.nativeElement.focus(),e.preventDefault()}}}},{key:"select",value:function(e){this._updateActiveId(e,!1)}},{key:"ngAfterContentInit",value:function(){var e=this;if(!_T(this.activeId)){var t=this.items.first?this.items.first.id:null;XI(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe(JA(this.destroy$)).subscribe(function(){return e._notifyItemChanged(e.activeId)})}},{key:"ngOnChanges",value:function(e){var t=e.activeId;t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"_updateActiveId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.activeId!==e){var n=!1;t&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:function(){n=!0}}),n||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}},{key:"_notifyItemChanged",value:function(e){this.navItemChange$.next(this._getItemById(e))}},{key:"_getItemById",value:function(e){return this.items&&this.items.find(function(t){return t.id===e})||null}}]),e}()).\u0275fac=function(e){return new(e||CI)(_r("role"),Mc(ZI),Mc(Sf),Mc(nv))},CI.\u0275dir=yt({type:CI,selectors:[["","ngbNav",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,JI,0),Pd(n,tO,1)),2&e&&(Dd(r=Ld())&&(t.items=r),Dd(r=Ld())&&(t.links=r))},hostVars:6,hostBindings:function(e,t){1&e&&Wc("keydown.arrowLeft",function(e){return t.onKeyDown(e)})("keydown.arrowRight",function(e){return t.onKeyDown(e)})("keydown.arrowDown",function(e){return t.onKeyDown(e)})("keydown.arrowUp",function(e){return t.onKeyDown(e)})("keydown.Home",function(e){return t.onKeyDown(e)})("keydown.End",function(e){return t.onKeyDown(e)}),2&e&&(ac("aria-orientation","vertical"===t.orientation&&"tablist"===t.roles?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),xl("nav",!0)("flex-column","vertical"===t.orientation))},inputs:{animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[Dt]}),CI),tO=((xI=function(){function e(t,n,r,i){v(this,e),this.role=t,this.navItem=n,this.nav=r,this.elRef=i}return g(e,[{key:"hasNavItemClass",value:function(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}]),e}()).\u0275fac=function(e){return new(e||xI)(_r("role"),Mc(JI),Mc(eO),Mc(Xh))},xI.\u0275dir=yt({type:xI,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,t){1&e&&Wc("click",function(e){return t.nav.click(t.navItem),e.preventDefault()}),2&e&&(xu("id",t.navItem.domId),ac("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.navItem.disabled?-1:void 0)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),xl("nav-link",!0)("nav-item",t.hasNavItemClass())("active",t.navItem.active)("disabled",t.navItem.disabled))}}),xI),nO=((SI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||SI)},SI.\u0275mod=vt({type:SI}),SI.\u0275inj=Me({imports:[[rm]]}),SI),rO=((kI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||kI)},kI.\u0275mod=vt({type:kI}),kI.\u0275inj=Me({imports:[[rm]]}),kI),iO=((wI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||wI)},wI.\u0275mod=vt({type:wI}),wI.\u0275inj=Me({imports:[[rm]]}),wI),aO=((_I=function e(){v(this,e)}).\u0275fac=function(e){return new(e||_I)},_I.\u0275mod=vt({type:_I}),_I.\u0275inj=Me({imports:[[rm]]}),_I),oO=((bI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||bI)},bI.\u0275mod=vt({type:bI}),bI.\u0275inj=Me({imports:[[rm]]}),bI),sO=((yI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yI)},yI.\u0275mod=vt({type:yI}),yI.\u0275inj=Me({imports:[[rm]]}),yI),cO=((gI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||gI)},gI.\u0275mod=vt({type:gI}),gI.\u0275inj=Me({imports:[[rm]]}),gI),lO=((mI=function e(){v(this,e)}).\u0275fac=function(e){return new(e||mI)},mI.\u0275mod=vt({type:mI}),mI.\u0275inj=Me({}),mI);new Ar("live announcer delay",{providedIn:"root",factory:function(){return 100}});var uO,hO,fO=((uO=function e(){v(this,e)}).\u0275fac=function(e){return new(e||uO)},uO.\u0275mod=vt({type:uO}),uO.\u0275inj=Me({imports:[[rm]]}),uO),dO=[zT,jT,BT,VT,$T,AI,FI,YI,nO,rO,iO,aO,oO,sO,cO,lO,fO],pO=((hO=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hO)},hO.\u0275mod=vt({type:hO}),hO.\u0275inj=Me({imports:[dO,zT,jT,BT,VT,$T,AI,FI,YI,nO,rO,iO,aO,oO,sO,cO,lO,fO]}),hO);function vO(e,t){if(1&e&&(Nc(0,"span"),Bl(1),zc()),2&e){var n=Qc();wo(1),Vl(n._placeholder)}}function mO(e,t){if(1&e){var n=Hc();Nc(0,"span",14),Bl(1),Nc(2,"a",15),Wc("click",function(e){an(n);var r=t.$implicit;return Qc().onItemClick(e,r)}),Bl(3,"x"),zc(),zc()}if(2&e){var r=t.$implicit;Lc("hidden",t.index>Qc()._settings.itemsShowLimit-1),wo(1),Ul(" ",r.text," ")}}function gO(e,t){if(1&e&&(Nc(0,"span",16),Bl(1),zc()),2&e){var n=Qc();wo(1),Ul("+",n.itemShowRemaining(),"")}}function yO(e,t){if(1&e){var n=Hc();Nc(0,"li",17),Wc("click",function(){return an(n),Qc().toggleSelectAll()}),jc(1,"input",18),Nc(2,"div"),Bl(3),zc(),zc()}if(2&e){var r=Qc();wo(1),Lc("checked",r.isAllItemsSelected())("disabled",r.disabled||r.isLimitSelectionReached()),wo(2),Vl(r.isAllItemsSelected()?r._settings.unSelectAllText:r._settings.selectAllText)}}function bO(e,t){if(1&e){var n=Hc();Nc(0,"li",19),Nc(1,"input",20),Wc("ngModelChange",function(e){return an(n),Qc().filter.text=e})("ngModelChange",function(e){return an(n),Qc().onFilterTextChange(e)}),zc(),zc()}if(2&e){var r=Qc();wo(1),Lc("readOnly",r.disabled)("placeholder",r._settings.searchPlaceholderText)("ngModel",r.filter.text)}}function _O(e,t){if(1&e){var n=Hc();Nc(0,"li",21),Wc("click",function(e){an(n);var r=t.$implicit;return Qc().onItemClick(e,r)}),jc(1,"input",22),Nc(2,"div"),Bl(3),zc(),zc()}if(2&e){var r=t.$implicit,i=Qc();wo(1),Lc("checked",i.isSelected(r))("disabled",i.disabled||i.isLimitSelectionReached()&&!i.isSelected(r)||r.isDisabled),wo(2),Vl(r.text)}}function wO(e,t){if(1&e&&(Nc(0,"li",23),Nc(1,"h5"),Bl(2),zc(),zc()),2&e){var n=Qc();wo(2),Vl(n._settings.noDataAvailablePlaceholderText)}}var kO,SO,xO,CO,EO,RO=function e(t){v(this,e),"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)},AO={provide:WE,useExisting:xe(function(){return IO}),multi:!0},TO=function(){},IO=((xO=function(){function e(t){v(this,e),this.cdr=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new RO(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new _d,this.onDropDownClose=new _d,this.onSelect=new _d,this.onDeSelect=new _d,this.onSelectAll=new _d,this.onDeSelectAll=new _d,this.onTouchedCallback=TO,this.onChangeCallback=TO}return g(e,[{key:"placeholder",set:function(e){this._placeholder=e||"Select"}},{key:"settings",set:function(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}},{key:"data",set:function(e){var t=this;if(e){var n=e[0];this._sourceDataType=typeof n,this._sourceDataFields=this.getFields(n),this._data=e.map(function(e){return new RO("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})})}else this._data=[]}},{key:"onFilterTextChange",value:function(e){this.onFilterChange.emit(e)}},{key:"onItemClick",value:function(e,t){if(this.disabled||t.isDisabled)return!1;var n=this.isSelected(t),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(t):r&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}},{key:"writeValue",value:function(e){var t=this;if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){var n=e[0];this.selectedItems=[new RO("string"==typeof n||"number"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField],isDisabled:n[this._settings.disabledField]})]}}catch(i){}else{var r=e.map(function(e){return new RO("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})});this.selectedItems=this._settings.limitSelection>0?r.splice(0,this._settings.limitSelection):r}else this.selectedItems=[];this.onChangeCallback(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"onTouched",value:function(){this.closeDropdown(),this.onTouchedCallback()}},{key:"trackByFn",value:function(e,t){return t.id}},{key:"isSelected",value:function(e){var t=!1;return this.selectedItems.forEach(function(n){e.id===n.id&&(t=!0)}),t}},{key:"isLimitSelectionReached",value:function(){return this._settings.limitSelection===this.selectedItems.length}},{key:"isAllItemsSelected",value:function(){var e=this._data.filter(function(e){return e.isDisabled}).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&this._data.length===this.selectedItems.length+e}},{key:"showButton",value:function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}},{key:"itemShowRemaining",value:function(){return this.selectedItems.length-this._settings.itemsShowLimit}},{key:"addSelected",value:function(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}},{key:"removeSelected",value:function(e){var t=this;this.selectedItems.forEach(function(n){e.id===n.id&&t.selectedItems.splice(t.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}},{key:"emittedValue",value:function(e){var t=this,n=[];if(Array.isArray(e))e.map(function(e){n.push(t.objectify(e))});else if(e)return this.objectify(e);return n}},{key:"objectify",value:function(e){if("object"===this._sourceDataType){var t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}},{key:"toggleDropdown",value:function(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}},{key:"closeDropdown",value:function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}},{key:"toggleSelectAll",value:function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(function(e){return!e.isDisabled}).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},{key:"getFields",value:function(e){var t=[];if("object"!=typeof e)return t;for(var n in e)t.push(n);return t}}]),e}()).\u0275fac=function(e){return new(e||xO)(Mc(Sf))},xO.\u0275cmp=ut({type:xO,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&Wc("blur",function(){return t.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[Hh([AO])],decls:16,vars:17,consts:[["tabindex","=0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px"],["style","padding-right: 6px;",4,"ngIf"],[3,"ngClass"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox","aria-label","multiselect-item",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(Nc(0,"div",0),Wc("blur",function(){return t.onTouched()})("clickOutside",function(){return t.closeDropdown()}),Nc(1,"div"),Nc(2,"span",1),Wc("click",function(e){return t.toggleDropdown(e)}),xc(3,vO,2,1,"span",2),xc(4,mO,4,2,"span",3),Nc(5,"span",4),xc(6,gO,2,1,"span",5),jc(7,"span",6),zc(),zc(),zc(),Nc(8,"div",7),Nc(9,"ul",8),xc(10,yO,4,3,"li",9),xc(11,bO,2,3,"li",10),zc(),Nc(12,"ul",11),xc(13,_O,4,3,"li",12),hd(14,"multiSelectFilter"),xc(15,wO,3,1,"li",13),zc(),zc(),zc()),2&e&&(wo(1),xl("disabled",t.disabled),wo(2),Lc("ngIf",0==t.selectedItems.length),wo(1),Lc("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),wo(2),Lc("ngIf",t.itemShowRemaining()>0),wo(1),Lc("ngClass",t._settings.defaultOpen?"dropdown-up":"dropdown-down"),wo(1),Lc("hidden",!t._settings.defaultOpen),wo(2),Lc("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),wo(1),Lc("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),wo(1),Sl("max-height",t._settings.maxHeight+"px"),wo(1),Lc("ngForOf",dd(14,14,t._data,t.filter)),wo(2),Lc("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[OO,zv,Fv,Pv,QE,ER,sA]},pipes:function(){return[DO]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),xO),OO=((SO=function(){function e(t){v(this,e),this._elementRef=t,this.clickOutside=new _d}return g(e,[{key:"onClick",value:function(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||SO)(Mc(Xh))},SO.\u0275dir=yt({type:SO,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&Wc("click",function(e){return t.onClick(e,e.target)},!1,ka)},outputs:{clickOutside:"clickOutside"}}),SO),DO=((kO=function(){function e(){v(this,e)}return g(e,[{key:"transform",value:function(e,t){var n=this;return e&&t?e.filter(function(e){return n.applyFilter(e,t)}):e}},{key:"applyFilter",value:function(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}}]),e}()).\u0275fac=function(e){return new(e||kO)},kO.\u0275pipe=bt({name:"multiSelectFilter",type:kO,pure:!1}),kO),MO=((EO=CO=function(){function e(){v(this,e)}return g(e,null,[{key:"forRoot",value:function(){return{ngModule:CO}}}]),e}()).\u0275fac=function(e){return new(e||EO)},EO.\u0275mod=vt({type:EO}),EO.\u0275inj=Me({imports:[[rm,MA]]}),EO);function PO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",11),Nc(2,"label",12),Bl(3),zc(),jc(4,"input",13),zc(),zc()),2&e){var n=Qc().$implicit;wo(2),nl("for",n.id),wo(1),Ul("",n.label,": "),wo(1),nl("id",n.id),nl("formControlName",n.id)}}function LO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",14),Nc(2,"label",12),Bl(3),zc(),jc(4,"input",15),zc(),zc()),2&e){var n=Qc().$implicit;wo(2),nl("for",n.id),wo(1),Ul("",n.label,": \xa0\xa0\xa0"),wo(1),nl("id",n.id),nl("formControlName",n.id)}}function FO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",14),Nc(2,"label",12),Bl(3),zc(),jc(4,"input",15),zc(),zc()),2&e){var n=Qc().$implicit;wo(2),nl("for",n.id),wo(1),Ul("",n.label,": \xa0\xa0\xa0"),wo(1),nl("id",n.id),nl("formControlName",n.id)}}function NO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",16),jc(2,"input",17),Nc(3,"label",18),Bl(4),zc(),zc(),zc()),2&e){var n=Qc().$implicit;wo(2),nl("id",n.id),nl("formControlName",n.id),wo(1),nl("for",n.id),wo(1),Vl(n.label)}}function zO(e,t){if(1&e&&(Nc(0,"option"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n," ")}}function jO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",11),Nc(2,"label",12),Bl(3),zc(),Nc(4,"select",19),xc(5,zO,2,1,"option",6),zc(),zc(),zc()),2&e){var n=Qc().$implicit;wo(2),nl("for",n.id),wo(1),Vl(n.label),wo(1),nl("id",n.id),nl("formControlName",n.id),Lc("value",n.options[0]),wo(1),Lc("ngForOf",n.options)}}function BO(e,t){if(1&e&&(Nc(0,"div"),jc(1,"ng-multiselect-dropdown",20),zc()),2&e){var n=Qc().$implicit,r=Qc();wo(1),nl("formControlName",n.id),Lc("settings",r.repDropdownSettings)("data",n.options)("placeholder",n.label)}}function VO(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",9),xc(2,PO,5,4,"div",10),xc(3,LO,5,4,"div",10),xc(4,FO,5,4,"div",10),xc(5,NO,5,4,"div",10),xc(6,jO,6,6,"div",10),xc(7,BO,2,4,"div",10),zc(),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngSwitch",n.type),wo(1),Lc("ngSwitchCase","textBox"),wo(1),Lc("ngSwitchCase","number"),wo(1),Lc("ngSwitchCase","decimal"),wo(1),Lc("ngSwitchCase","boolean"),wo(1),Lc("ngSwitchCase","select"),wo(1),Lc("ngSwitchCase","multi_select")}}var UO,HO,$O,qO,GO,WO=((UO=function(){function e(t,n){v(this,e),this.activeModal=t,this.modalService=n,this.params=[],this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}return g(e,[{key:"ngOnInit",value:function(){var e=this,t={};this.report.params.forEach(function(n){e.add_fields(n,t)}),this.report.filter_params&&this.filterParams.forEach(function(n){e.add_fields(n,t)}),this.myFormGroup=new eA(t)}},{key:"add_fields",value:function(e,t){t[e.id]=new JR("select"===e.type&&e.options.length>0?e.options[0]:""),this.params.push(e)}},{key:"onSubmit",value:function(){this.activeModal.close(this.myFormGroup.value)}}]),e}()).\u0275fac=function(e){return new(e||UO)(Mc(UI),Mc(WI))},UO.\u0275cmp=ut({type:UO,selectors:[["app-report-params-dialog"]],inputs:{report:"report",filterParams:"filterParams"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","tabindex","-1","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"form-group",2,"margin-top","1rem !important"],["type","submit","value","Run Report",1,"btn","btn-primary"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],[3,"for"],["type","text",3,"id","formControlName"],[1,"form-group",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","number",3,"id","formControlName"],[1,"form-check",2,"margin-top","1rem","margin-bottom","0rem !important"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[1,"custom-select",3,"id","formControlName","value"],[2,"padding-left","10px !important","padding-top","7px !important",3,"settings","data","formControlName","placeholder"]],template:function(e,t){1&e&&(Bc(0),Nc(1,"div",0),Nc(2,"h3",1),Bl(3),zc(),Nc(4,"button",2),Wc("click",function(){return t.activeModal.dismiss("Cross click")}),Nc(5,"span",3),Bl(6,"\xd7"),zc(),zc(),zc(),Nc(7,"div",4),Nc(8,"form",5),Wc("ngSubmit",function(){return t.onSubmit()}),xc(9,VO,8,7,"div",6),Nc(10,"div",7),jc(11,"input",8),zc(),zc(),zc(),Vc()),2&e&&(wo(3),Ul("Report Parameters - ",t.report.title,""),wo(5),Lc("formGroup",t.myFormGroup),wo(1),Lc("ngForOf",t.params))},directives:[cA,RR,pA,Fv,Wv,Yv,QE,ER,mA,uA,ZE,wA,kA,OA,IO],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),UO),YO=function(){function e(t){v(this,e),this.reportsService=t,this.reportResultSubject=new Ny({status:"PENDING",info:"",response:null}),this.reportResult$=this.reportResultSubject.asObservable()}return g(e,[{key:"requestReport",value:function(e,t,n,r,i,a,o,s){this.reportName=e,this.reportFormat=t,this.species=n,this.genSeqs=r,this.genFilters=i,this.repSeqs=a,this.repFilters=o,this.params=s,this.fetchReport()}},{key:"fetchReport",value:function(){var e=this;this.pollCount=0,this.reportsService.getReportsRunApi(this.reportName,this.reportFormat,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params).subscribe(function(t){var n;e.fetchReportStatus(t.id).pipe((n=function(t){return"PENDING"===t.status&&e.reportResultSubject.next(t.info?{status:t.status,info:t.info.stage,response:t}:{status:t.status,info:t.status,response:t}),e.pollCount+=1,"SUCCESS"===t.status||"FAILURE"===t.status},function(e){return UA(0,3e3).pipe(ib(function(e){return++e},0),Eb(function(e){if(e>40)throw new Error("Error: max attempts")}),(t=e,Xy(function(){return t})),xb(n));var t})).subscribe(function(t){e.reportResultSubject.next("SUCCESS"===t.status?"ok"===t.results.status?{status:t.status,info:"",response:t}:{status:"FAILURE",info:t.results.description,response:t}:{status:"FAILURE",info:"return code:"+t.status+" "+t.description,response:t})},function(t){e.reportResultSubject.next({status:"FAILURE",info:"Timeout waiting for report",response:null})})},function(t){e.reportResultSubject.next({status:"FAILURE",info:"Error: "+e.formatError(t),response:null}),e.pollCount=999})}},{key:"fetchReportStatus",value:function(e){var t=this;return Zy(function(){return t.reportsService.getReportsStatus(e)}).pipe(ub(function(e){return Fy({status:"FAILURE",description:t.formatError(e)})}))}},{key:"formatError",value:function(e){return"error"in e&&"message"in e.error&&e.error.message?e.error.message:"message"in e&&e.message?e.message:"statusText"in e&&e.statusText?e.status+". "+e.name+": "+e.statusText:e.status}}]),e}(),ZO=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"encodeKey",value:function(e){return(e=s(p(n.prototype),"encodeKey",this).call(this,e)).replace(/\+/gi,"%2B")}},{key:"encodeValue",value:function(e){return(e=s(p(n.prototype),"encodeValue",this).call(this,e)).replace(/\+/gi,"%2B")}}]),n}(iE),XO=new Ar("basePath"),KO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials}return g(e,[{key:"selectHeaderContentType",value:function(e){var t=this;if(0!=e.length){var n=e.find(function(e){return t.isJsonMime(e)});return void 0===n?e[0]:n}}},{key:"selectHeaderAccept",value:function(e){var t=this;if(0!=e.length){var n=e.find(function(e){return t.isJsonMime(e)});return void 0===n?e[0]:n}}},{key:"isJsonMime",value:function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!=e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}]),e}(),QO=((GO=function(){function e(t,n,r){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new rE,this.configuration=new KO,n&&(this.basePath=n),r&&(this.configuration=r,this.basePath=n||r.basePath||this.basePath)}return g(e,[{key:"canConsumeForm",value:function(e){var n,r=t(e);try{for(r.s();!(n=r.n()).done;)if("multipart/form-data"===n.value)return!0}catch(i){r.e(i)}finally{r.f()}return!1}},{key:"getAssemblyApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter species was null or undefined when calling getAssemblyApi.");if(null==t)throw new Error("Required parameter dataSets was null or undefined when calling getAssemblyApi.");var i=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(i=i.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/genomic/assemblies/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:i,observe:n,reportProgress:r})}},{key:"getDataSetApi",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetApi.");var r=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/genomic/data_sets/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}},{key:"getFeaturePosApi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==e)throw new Error("Required parameter species was null or undefined when calling getFeaturePosApi.");if(null==t)throw new Error("Required parameter refSeqName was null or undefined when calling getFeaturePosApi.");if(null==n)throw new Error("Required parameter featureString was null or undefined when calling getFeaturePosApi.");var a=this.defaultHeaders,o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(a=a.set("Accept",o)),this.httpClient.get("".concat(this.basePath,"/genomic/feature_pos/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n))),{withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}},{key:"getSampleInfoApi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSampleInfoApi.");if(null==t)throw new Error("Required parameter studyName was null or undefined when calling getSampleInfoApi.");if(null==n)throw new Error("Required parameter sample was null or undefined when calling getSampleInfoApi.");var a=this.defaultHeaders,o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(a=a.set("Accept",o)),this.httpClient.get("".concat(this.basePath,"/genomic/sample_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n))),{withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}},{key:"getSamplesApi",value:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSamplesApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSamplesApi.");var l=new oE({encoder:new ZO});null!=n&&(l=l.set("page_number",n)),null!=r&&(l=l.set("page_size",r)),null!=i&&(l=l.set("filter",i)),null!=a&&(l=l.set("sort_by",a)),null!=o&&(l=l.set("cols",o));var u=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(u=u.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/genomic/samples/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:l,withCredentials:this.configuration.withCredentials,headers:u,observe:s,reportProgress:c})}},{key:"getSequencesApi",value:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter genomicDatasets was null or undefined when calling getSequencesApi.");var l=new oE({encoder:new ZO});null!=n&&(l=l.set("page_number",n)),null!=r&&(l=l.set("page_size",r)),null!=i&&(l=l.set("filter",i)),null!=a&&(l=l.set("sort_by",a)),null!=o&&(l=l.set("cols",o));var u=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(u=u.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/genomic/sequences/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:l,withCredentials:this.configuration.withCredentials,headers:u,observe:s,reportProgress:c})}},{key:"getSpeciesApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(n=n.set("Accept",r)),this.httpClient.get("".concat(this.basePath,"/genomic/species"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}]),e}()).\u0275fac=function(e){return new(e||GO)(ti(EE),ti(XO,8),ti(KO,8))},GO.\u0275prov=De({token:GO,factory:GO.\u0275fac}),GO),JO=((qO=function(){function e(t,n,r){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new rE,this.configuration=new KO,n&&(this.basePath=n),r&&(this.configuration=r,this.basePath=n||r.basePath||this.basePath)}return g(e,[{key:"canConsumeForm",value:function(e){var n,r=t(e);try{for(r.s();!(n=r.n()).done;)if("multipart/form-data"===n.value)return!0}catch(i){r.e(i)}finally{r.f()}return!1}},{key:"getReportsApi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new oE({encoder:new ZO});null!=e&&(a=a.set("species",e)),null!=t&&(a=a.set("genomic_datasets",t)),null!=n&&(a=a.set("rep_datasets",n));var o=this.defaultHeaders,s=this.configuration.selectHeaderAccept(["application/json"]);return null!=s&&(o=o.set("Accept",s)),this.httpClient.get("".concat(this.basePath,"/reports/reports/list"),{params:a,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}},{key:"getReportsRunApi",value:function(e,t,n,r,i,a,o,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"body",l=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(null==e)throw new Error("Required parameter reportName was null or undefined when calling getReportsRunApi.");var u=new oE({encoder:new ZO});null!=t&&(u=u.set("format",t)),null!=n&&(u=u.set("species",n)),null!=r&&(u=u.set("genomic_datasets",r)),null!=i&&(u=u.set("genomic_filters",i)),null!=a&&(u=u.set("rep_datasets",a)),null!=o&&(u=u.set("rep_filters",o)),null!=s&&(u=u.set("params",s));var h=this.defaultHeaders,f=this.configuration.selectHeaderAccept(["application/json"]);return null!=f&&(h=h.set("Accept",f)),this.httpClient.get("".concat(this.basePath,"/reports/reports/run/").concat(encodeURIComponent(String(e))),{params:u,withCredentials:this.configuration.withCredentials,headers:h,observe:c,reportProgress:l})}},{key:"getReportsStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter jobId was null or undefined when calling getReportsStatus.");var r=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/reports/reports/status/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}}]),e}()).\u0275fac=function(e){return new(e||qO)(ti(EE),ti(XO,8),ti(KO,8))},qO.\u0275prov=De({token:qO,factory:qO.\u0275fac}),qO),eD=(($O=function(){function e(t,n,r){v(this,e),this.httpClient=t,this.basePath="https://localhost/api",this.defaultHeaders=new rE,this.configuration=new KO,n&&(this.basePath=n),r&&(this.configuration=r,this.basePath=n||r.basePath||this.basePath)}return g(e,[{key:"canConsumeForm",value:function(e){var n,r=t(e);try{for(r.s();!(n=r.n()).done;)if("multipart/form-data"===n.value)return!0}catch(i){r.e(i)}finally{r.f()}return!1}},{key:"getDataSetApi",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetApi.");var r=this.defaultHeaders,i=this.configuration.selectHeaderAccept(["application/json"]);return null!=i&&(r=r.set("Accept",i)),this.httpClient.get("".concat(this.basePath,"/repseq/ref_seqs/").concat(encodeURIComponent(String(e))),{withCredentials:this.configuration.withCredentials,headers:r,observe:t,reportProgress:n})}},{key:"getDataSetInfoApi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)throw new Error("Required parameter species was null or undefined when calling getDataSetInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getDataSetInfoApi.");var i=this.defaultHeaders,a=this.configuration.selectHeaderAccept(["application/json"]);return null!=a&&(i=i.set("Accept",a)),this.httpClient.get("".concat(this.basePath,"/repseq/dataset_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{withCredentials:this.configuration.withCredentials,headers:i,observe:n,reportProgress:r})}},{key:"getSampleInfoApi",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSampleInfoApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSampleInfoApi.");if(null==n)throw new Error("Required parameter sample was null or undefined when calling getSampleInfoApi.");var a=this.defaultHeaders,o=this.configuration.selectHeaderAccept(["application/json"]);return null!=o&&(a=a.set("Accept",o)),this.httpClient.get("".concat(this.basePath,"/repseq/sample_info/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t)),"/").concat(encodeURIComponent(String(n))),{withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}},{key:"getSamplesApi",value:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSamplesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSamplesApi.");var l=new oE({encoder:new ZO});null!=n&&(l=l.set("page_number",n)),null!=r&&(l=l.set("page_size",r)),null!=i&&(l=l.set("filter",i)),null!=a&&(l=l.set("sort_by",a)),null!=o&&(l=l.set("cols",o));var u=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(u=u.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/repseq/samples/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:l,withCredentials:this.configuration.withCredentials,headers:u,observe:s,reportProgress:c})}},{key:"getSequencesApi",value:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"body",c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(null==e)throw new Error("Required parameter species was null or undefined when calling getSequencesApi.");if(null==t)throw new Error("Required parameter dataset was null or undefined when calling getSequencesApi.");var l=new oE({encoder:new ZO});null!=n&&(l=l.set("page_number",n)),null!=r&&(l=l.set("page_size",r)),null!=i&&(l=l.set("filter",i)),null!=a&&(l=l.set("sort_by",a)),null!=o&&(l=l.set("cols",o));var u=this.defaultHeaders,h=this.configuration.selectHeaderAccept(["application/json"]);return null!=h&&(u=u.set("Accept",h)),this.httpClient.get("".concat(this.basePath,"/repseq/sequences/").concat(encodeURIComponent(String(e)),"/").concat(encodeURIComponent(String(t))),{params:l,withCredentials:this.configuration.withCredentials,headers:u,observe:s,reportProgress:c})}},{key:"getSpeciesApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.defaultHeaders,r=this.configuration.selectHeaderAccept(["application/json"]);return null!=r&&(n=n.set("Accept",r)),this.httpClient.get("".concat(this.basePath,"/repseq/species"),{withCredentials:this.configuration.withCredentials,headers:n,observe:e,reportProgress:t})}}]),e}()).\u0275fac=function(e){return new(e||$O)(ti(EE),ti(XO,8),ti(KO,8))},$O.\u0275prov=De({token:$O,factory:$O.\u0275fac}),$O),tD=((HO=function(){function e(t,n){if(v(this,e),t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!n)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}return g(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:KO,useFactory:t}]}}}]),e}()).\u0275fac=function(e){return new(e||HO)(ti(HO,12),ti(EE,8))},HO.\u0275mod=vt({type:HO}),HO.\u0275inj=Me({providers:[QO,JO,eD],imports:[[]]}),HO);function nD(e,t){if(1&e&&(Nc(0,"div"),Bl(1),zc()),2&e){var n=Qc();wo(1),Vl(n.statusText)}}function rD(e,t){if(1&e&&(Nc(0,"div"),Bl(1),zc()),2&e){var n=Qc();wo(1),Vl(n.errorText)}}function iD(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"button",7),Wc("click",function(){return an(n),Qc().requestReport()}),Bl(2,"Retry"),zc(),zc()}}var aD,oD,sD=((oD=function(){function e(t,n){v(this,e),this.activeModal=t,this.reportsService=n,this.statusText="",this.lastStatusText="",this.errorText="",this.reportTitle="",this.enableRetry=!1,this.reportResult$Subscription=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.reportTitle=this.report.title,this.reportRequest=new YO(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(function(t){"PENDING"===t.status?(e.lastStatusText===t.info?e.statusText=e.statusText+".":(e.statusText=t.info,e.lastStatusText=t.info),e.errorText=""):"FAILURE"===t.status?(e.statusText="",e.errorText=t.info,e.enableRetry=!0):"SUCCESS"===t.status&&e.activeModal.close(t.response)}),this.requestReport()}},{key:"requestReport",value:function(){this.enableRetry=!1,this.lastStatusText="",this.statusText="",this.errorText="",this.reportRequest.requestReport(this.report.name,this.format,this.species,this.genSeqs,this.genFilters,this.repSeqs,this.repFilters,this.params)}}]),e}()).\u0275fac=function(e){return new(e||oD)(Mc(UI),Mc(JO))},oD.\u0275cmp=ut({type:oD,selectors:[["app-report-run-dialog"]],inputs:{report:"report",format:"format",params:"params",species:"species",genSeqs:"genSeqs",genFilters:"genFilters",repSeqs:"repSeqs",repFilters:"repFilters"},decls:13,vars:4,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"h4",1),Bl(2),zc(),Nc(3,"button",2),Wc("click",function(){return t.activeModal.close({status:"Cancelled"})}),Nc(4,"span",3),Bl(5,"\xd7"),zc(),zc(),zc(),Nc(6,"div",4),xc(7,nD,2,1,"div",5),xc(8,rD,2,1,"div",5),zc(),Nc(9,"div",6),Nc(10,"button",7),Wc("click",function(){return t.activeModal.close({status:"Cancelled"})}),Bl(11,"Cancel"),zc(),xc(12,iD,3,0,"div",5),zc()),2&e&&(wo(2),Ul("Preparing Report - ",t.reportTitle,""),wo(5),Lc("ngIf",""!==t.statusText),wo(1),Lc("ngIf",""!==t.errorText),wo(4),Lc("ngIf",t.enableRetry))},directives:[zv],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),oD),cD=((aD=function e(t){v(this,e),this.activeModal=t}).\u0275fac=function(e){return new(e||aD)(Mc(UI))},aD.\u0275cmp=ut({type:aD,selectors:[["app-report-error-dialog"]],inputs:{report:"report",errorMessage:"errorMessage"},decls:11,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"h4",1),Bl(2),zc(),Nc(3,"button",2),Wc("click",function(){return t.activeModal.close("Cancel")}),Nc(4,"span",3),Bl(5,"\xd7"),zc(),zc(),zc(),Nc(6,"div",4),Bl(7),zc(),Nc(8,"div",5),Nc(9,"button",6),Wc("click",function(){return t.activeModal.close("OK")}),Bl(10,"OK"),zc(),zc()),2&e&&(wo(2),Vl(t.report),wo(5),Ul(" ",t.errorMessage," "))},styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}"],encapsulation:2}),aD),lD=function(){function e(t,n){v(this,e),this.notifier=t,this.source=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new uD(e,this.notifier,this.source))}}]),e}(),uD=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).notifier=r,a.source=i,a}return g(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{t=new V;try{r=(0,this.notifier)(t)}catch(a){return s(p(n.prototype),"error",this).call(this,a)}i=re(r,new te(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=r,this.retriesSubscription=i,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}]),n}(ne);function hD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=t;return function(i){return i.pipe((a=function(i){return i.pipe(ie(function(i){if(r-- >0){var a=e+(t-r)*n;return Fy(i).pipe(fT(a))}return cT(i.message)}))},function(e){return e.lift(new lD(a,e))}));var a}}var fD,dD,pD,vD,mD,gD=((pD=function e(){v(this,e),this.selection=new Ny({species:"Human",datasets:[],assemblies:[],repSeqs:["Human_IGH"],repDatasetDescriptions:[{dataset:"Human_IGH",description:""}]}),this.source=this.selection.asObservable()}).\u0275prov=De({token:pD,factory:pD.\u0275fac=function(e){return new(e||pD)},providedIn:"root"}),pD),yD=((dD=function(){function e(t,n){v(this,e),this.reportsService=t,this.geneTableService=n,this.reportListSubject=new Ny([]),this.globalReportFilterParamsSubject=new Ny(null),this.loadingSubject=new Ny(!1),this.errorSubject=new Ny(null),this.globalReportFilterParams$=this.globalReportFilterParamsSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.load()}return g(e,[{key:"load",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.geneTableSelection=t,e.reload()})}},{key:"reload",value:function(){var e=this;this.loadingSubject.next(!0),this.errorSubject.next(null),this.reportsService.getReportsApi(this.geneTableSelection.species,this.geneTableSelection.datasets.join(","),this.geneTableSelection.repSeqs.join(",")).pipe(hD(),ub(function(t){return e.errorSubject.next(t),[]}),Tb(function(){e.loadingSubject.next(!1)})).subscribe(function(t){for(var n=[],r=t.reports,i=0,a=Object.keys(r);i<a.length;i++){var o=a[i];n.push({name:o,title:r[o].title,description:r[o].description,thumbnail:r[o].thumbnail,params:r[o].params,filter_params:r[o].filter_params,scope:r[o].scope,format:r[o].format})}e.reportListSubject.next(n),e.globalReportFilterParamsSubject.next(t.filters)})}},{key:"connect",value:function(){return this.reportListSubject.asObservable()}},{key:"disconnect",value:function(){this.reportListSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete()}}]),e}()).\u0275fac=function(e){return new(e||dD)(ti(JO),ti(gD))},dD.\u0275prov=De({token:dD,factory:dD.\u0275fac,providedIn:"root"}),dD),bD=((fD=function(){function e(t,n,r,i){var a=this;v(this,e),this.modalService=t,this.reportsService=n,this.reportsListDataSource=r,this.httpClient=i,this.globalReportFilterParamsSubscription=null,this.globalReportFilters=null,this.reportWindow=null,this.reportRequest=null,this.lastReportInfo="",this.globalReportFilterParamsSubscription=this.reportsListDataSource.globalReportFilterParams$.subscribe(function(e){a.globalReportFilters=e}),this.reportRequest=new YO(this.reportsService),this.reportResult$Subscription=this.reportRequest.reportResult$.subscribe(function(e){a.reportWindow&&("PENDING"===e.status?e.info===a.lastReportInfo?a.reportWindow.document.getElementById("status_line").innerHTML=a.reportWindow.document.getElementById("status_line").innerHTML+".":(a.reportWindow.document.getElementById("status_line").innerHTML=e.info,a.lastReportInfo=e.info):"FAILURE"===e.status?(a.reportWindow.close(),a.reportWindow=null,a.displayError(e.info)):"SUCCESS"===e.status&&(a.reportWindow.location=e.response.results.url))})}return g(e,[{key:"runReport",value:function(e,t,n,r,i,a,o,s){var c=this;if(!s){if(e.params.length>0||e.filter_params){var l=this.modalService.open(WO,{size:"m"});l.componentInstance.report=e;var u=null;return e.filter_params&&(u=e.scope.length>1?this.globalReportFilters.combined:e.scope.indexOf("rep_sample")>=0?this.globalReportFilters.rep:this.globalReportFilters.gen),l.componentInstance.filterParams=u,void l.result.then(function(s){s&&c.sendReportRequest(e,t,n,s,r,i,a,o)},function(){})}s={}}this.sendReportRequest(e,t,n,s,r,i,a,o)}},{key:"sendReportRequest",value:function(e,t,n,r,i,a,o,s){r=JSON.stringify(r),"html"!==t?this.sendDownloadReportRequest(e,t,n,i.join(","),JSON.stringify(a),o.join(","),JSON.stringify(s),r):this.sendHtmlReportRequest(e,t,n,i.join(","),JSON.stringify(a),o.join(","),JSON.stringify(s),r)}},{key:"sendDownloadReportRequest",value:function(e,t,n,r,i,a,o,s){var c=this,l=this.modalService.open(sD,{size:"m"});l.componentInstance.report=e,l.componentInstance.format=t,l.componentInstance.species=n,l.componentInstance.genSeqs=r,l.componentInstance.genFilters=i,l.componentInstance.repSeqs=a,l.componentInstance.repFilters=o,l.componentInstance.params=s,l.result.then(function(e){if("SUCCESS"===e.status){var t=(new rE).set("authorization","Bearer my JWT");c.httpClient.get(e.results.url,{headers:t,responseType:"blob"}).subscribe(function(t){var n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download",e.results.filename),document.body.appendChild(n),n.click()})}})}},{key:"sendHtmlReportRequest",value:function(e,t,n,r,i,a,o,s){this.reportWindow=window.open("","_blank"),this.reportWindow.document.write('<h3>Preparing your report...</h3><p id="status_line"></p>'),this.reportRequest.requestReport(e.name,t,n,r,i,a,o,s)}},{key:"displayError",value:function(e){var t=this.modalService.open(cD,{size:"m"});t.componentInstance.report="Error running report",t.componentInstance.errorMessage=e,t.result.then()}}]),e}()).\u0275fac=function(e){return new(e||fD)(ti(WI),ti(JO),ti(yD),ti(EE))},fD.\u0275prov=De({token:fD,factory:fD.\u0275fac,providedIn:"root"}),fD),_D=function(){return{exact:!0}},wD=function(){return["./samplerep","null"]},kD=function(){return["./genesample","null"]},SD=function(){return["./genebrowser","Human","Human_IGH"]},xD=((mD=function e(){v(this,e),this.isMenuCollapsed=!0}).\u0275fac=function(e){return new(e||mD)},mD.\u0275cmp=ut({type:mD,selectors:[["app-header"]],decls:45,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent"],["type","button","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],["ngbNav","",1,"navbar-nav","mr-auto"],["ngbNavItem","","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions","click"],["ngbNavLink","","routerLink","/",1,"nav-link",2,"padding","0"],["src","./assets/img/logo_white_2.png","alt","VDJlogo","height","40",1,"navbar-brand",2,"padding","0"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","id","navbarAIRRSeq","role","button",1,"nav-link"],["ngbDropdownMenu","","aria-labelledby","navbarHelpAbout",1,"dropdown-menu"],["ngbDropdownItem","","routerLink","./datarep",1,"dropdown-item",3,"click"],["ngbDropdownItem","",1,"dropdown-item",3,"routerLink","click"],["ngbDropdownItem","","routerLink","./generep",1,"dropdown-item",3,"click"],["ngbDropdownToggle","","id","navbarGenomic","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","routerLink","./genetable",1,"dropdown-item",3,"click"],["ngbNavItem","","routerLinkActive","active",1,"nav-item"],["ngbNavLink","","routerLink","/reports",1,"nav-link",3,"click"],["ngbDropdownToggle","","id","navbarHelpAbout","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["ngbDropdownItem","","href","./user-guide",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./quick-ref",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/report_documentation.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./assets/doc/glossary.pdf",1,"dropdown-item",3,"click"],["ngbDropdownItem","","href","./licensing",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(Nc(0,"nav",0),Nc(1,"button",1),Wc("click",function(){return t.isMenuCollapsed=!t.isMenuCollapsed}),jc(2,"span",2),zc(),Nc(3,"div",3),Nc(4,"ul",4),Nc(5,"li",5),Wc("click",function(){return t.isMenuCollapsed=!0}),Nc(6,"a",6),jc(7,"img",7),zc(),zc(),Nc(8,"li",8),Nc(9,"a",9),Bl(10," AIRR-Seq Data "),zc(),Nc(11,"div",10),Nc(12,"a",11),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(13,"Explore AIRR-Seq Data"),zc(),Nc(14,"a",12),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(15,"Samples"),zc(),Nc(16,"a",13),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(17,"Germline Genes"),zc(),zc(),zc(),Nc(18,"li",8),Nc(19,"a",14),Bl(20," Genomic Data "),zc(),Nc(21,"div",10),Nc(22,"a",12),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(23,"Records"),zc(),Nc(24,"a",15),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(25,"Genes"),zc(),Nc(26,"a",12),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(27,"Gene Browser"),zc(),zc(),zc(),Nc(28,"li",16),Nc(29,"a",17),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(30,"Reports"),zc(),zc(),Nc(31,"li",8),Nc(32,"a",18),Bl(33," Help / About "),zc(),Nc(34,"div",10),Nc(35,"a",19),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(36,"User Guide"),zc(),Nc(37,"a",20),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(38,"Quick Reference"),zc(),Nc(39,"a",21),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(40,"Guide to Reports (pdf)"),zc(),Nc(41,"a",22),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(42,"Glossary (pdf)"),zc(),Nc(43,"a",23),Wc("click",function(){return t.isMenuCollapsed=!0}),Bl(44,"Licensing"),zc(),zc(),zc(),zc(),zc(),zc()),2&e&&(wo(3),Lc("ngbCollapse",t.isMenuCollapsed),wo(2),Lc("routerLinkActiveOptions",Zf(5,_D)),wo(9),Lc("routerLink",Zf(6,wD)),wo(8),Lc("routerLink",Zf(7,kD)),wo(4),Lc("routerLink",Zf(8,SD)))},directives:[II,HT,eO,JI,pk,tO,ck,LI,PI,DI,OI],styles:[".nav-item[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{font-size:16px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}),mD),CD=((vD=function e(){v(this,e),this.title="digby"}).\u0275fac=function(e){return new(e||vD)},vD.\u0275cmp=ut({type:vD,selectors:[["app-root"]],features:[Hh([bD])],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"div",1),Nc(2,"div",2),jc(3,"app-header"),zc(),zc(),Nc(4,"div",1),Nc(5,"div",2),jc(6,"router-outlet"),zc(),zc(),zc())},directives:[xD,vk],styles:[""]}),vD);function ED(e,t){if(1&e&&(Nc(0,"option",10),Bl(1),zc()),2&e){var n=t.$implicit;Lc("ngValue",n),wo(1),Vl(n.name)}}function RD(e,t){if(1&e){var n=Hc();Nc(0,"div",1),Nc(1,"div",2),Nc(2,"div",3),Nc(3,"label",11),Bl(4,"Genomic Sets"),zc(),zc(),Nc(5,"ng-multiselect-dropdown",12),Wc("ngModelChange",function(e){return an(n),Qc().selectedGen=e})("ngModelChange",function(){return an(n),Qc().refSeqChange()}),zc(),zc(),zc()}if(2&e){var r=Qc();wo(5),Rl("selector-dropdown"),Lc("settings",r.genDropdownSettings)("data",r.datasets)("ngModel",r.selectedGen)("placeholder","Select Datasets")}}function AD(e,t){if(1&e){var n=Hc();Nc(0,"div",1),Nc(1,"div",2),Nc(2,"div",3),Nc(3,"label",13),Bl(4,"Genomic Assemblies"),zc(),zc(),Nc(5,"ng-multiselect-dropdown",14),Wc("ngModelChange",function(e){return an(n),Qc().selectedAssembly=e})("ngModelChange",function(){return an(n),Qc().assemblyChange()}),zc(),zc(),zc()}if(2&e){var r=Qc();wo(5),Rl("selector-dropdown"),Lc("settings",r.genAssemblyDropdownSettings)("data",r.assemblies)("ngModel",r.selectedAssembly)("placeholder","Select Datasets")}}function TD(e,t){if(1&e){var n=Hc();Nc(0,"div",1),Nc(1,"div",2),Nc(2,"div",3),Nc(3,"label",15),Bl(4,"AIRR-seq Sets"),zc(),zc(),Nc(5,"ng-multiselect-dropdown",16),Wc("ngModelChange",function(e){return an(n),Qc().selectedRep=e})("ngModelChange",function(){return an(n),Qc().repSeqChange()}),zc(),zc(),zc()}if(2&e){var r=Qc();wo(5),Rl("selector-dropdown"),Lc("settings",r.repDropdownSettings)("data",r.repSeqs)("ngModel",r.selectedRep)("placeholder","Select Datasets")}}function ID(e,t){1&e&&(Nc(0,"div",17),Nc(1,"span",18),Bl(2,"Loading..."),zc(),zc())}function OD(e,t){if(1&e&&(Nc(0,"div",19),Nc(1,"div",20),Nc(2,"h4"),Bl(3),zc(),zc(),zc()),2&e){var n=Qc();wo(3),Ul("Error loading data: ",n.error,"")}}var DD,MD=((DD=function(){function e(t,n,r){v(this,e),this.genomicService=t,this.repseqService=n,this.geneTableService=r,this.species=null,this.selectedSpecies=null,this.notifiedUpdates={species:!1,refSeq:!1,repSeq:!1,assemblies:!1},this.datasets=[],this.assemblies=[],this.repSeqs=[],this.selectedGen=[],this.selectedAssembly=[],this.selectedRep=[],this.repDatasetDescriptions=[],this.initializing=!1,this.error=null,this.geneTableServiceSubscription=null,this.genDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.genAssemblyDropdownSettings={singleSelection:!0,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.repDropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}return g(e,[{key:"ngOnInit",value:function(){this.isFetching=!0}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.species?!t.species||e.selectedSpecies&&t.species===e.selectedSpecies.name?(t.repSeqs&&PD(new Set(t.repSeqs),new Set(e.selectedRep.map(function(e){return e.text}))).size&&(e.selectedRep=e.repSeqs.filter(function(e){return t.repSeqs.indexOf(e.text)>=0})),t.datasets&&PD(new Set(t.datasets),new Set(e.selectedGen.map(function(e){return e.text}))).size&&(e.selectedGen=e.datasets.filter(function(e){return t.datasets.indexOf(e.text)>=0})),t.assemblies&&PD(new Set(t.assemblies),new Set(e.selectedAssembly.map(function(e){return e.text}))).size&&(e.selectedAssembly=e.assemblies.filter(function(e){return t.assemblies.indexOf(e.text)>=0}))):(e.selectedSpecies=e.species.filter(function(e){return e.name===t.species})[0],e.updateGen(t.datasets),e.updateRep(t.repSeqs)):(e.initializing=!0,e.updateSpecies(t))})})}},{key:"updateSpecies",value:function(e){var n=this;this.genomicService.getSpeciesApi().pipe(hD(),ub(function(e){return n.isFetching=!1,n.error=e,Wy})).subscribe(function(r){n.isFetching=!1;var i=1;n.species=[];var a,o=t(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,c={id:i,name:s};n.species.push(c),s===e.species&&(n.selectedSpecies=c),i+=1}}catch(l){o.e(l)}finally{o.f()}n.updateGen(e.datasets),n.updateRep(e.repSeqs)},function(e){n.isFetching=!1,n.error=e.message})}},{key:"updateGen",value:function(e){var n=this;this.genomicService.getDataSetApi(this.selectedSpecies.name).pipe(hD(),ub(function(e){return n.isFetching=!1,n.error=e,Wy})).subscribe(function(r){n.isFetching=!1,n.datasets=[],n.selectedGen=[];var i,a=1,o=t(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.datasets.push({id:a,text:s.dataset}),e&&e.indexOf(s.ref_seq)>=0&&n.selectedGen.push({id:a,text:s.dataset}),a+=1}}catch(c){o.e(c)}finally{o.f()}0===n.selectedGen.length&&n.datasets.length>0&&n.selectedGen.push(n.datasets[0]),n.notifiedUpdates.refSeq=!0,n.onSelectionChange(),n.updateAssemblies(n.geneTableService.selection.value.assemblies)},function(e){n.isFetching=!1,n.error=e.message})}},{key:"updateAssemblies",value:function(e){var n=this;this.selectedGen.length>0?this.genomicService.getAssemblyApi(this.selectedSpecies.name,this.selectedGen.map(function(e){return e.text}).join()).pipe(hD(),ub(function(e){return n.isFetching=!1,n.error=e,Wy})).subscribe(function(r){n.isFetching=!1,n.assemblies=[],n.selectedAssembly=[];var i,a=1,o=t(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.assemblies.push({id:a,text:s.assembly}),e&&e.indexOf(s.ref_seq)>=0&&n.selectedAssembly.push({id:a,text:s.dataset}),a+=1}}catch(c){o.e(c)}finally{o.f()}0===n.selectedAssembly.length&&n.assemblies.length>0&&n.selectedAssembly.push(n.assemblies[0])},function(e){n.isFetching=!1,n.error=e.message}):(this.assemblies=[],this.selectedAssembly=[]),this.notifiedUpdates.assemblies=!0,this.onSelectionChange()}},{key:"updateRep",value:function(e){var n=this;this.repseqService.getDataSetApi(this.selectedSpecies.name).pipe(hD(),ub(function(e){return n.isFetching=!1,n.error=e,Wy})).subscribe(function(r){n.isFetching=!1,n.repSeqs=[],n.selectedRep=[],n.repDatasetDescriptions=r;var i,a=1,o=t(r);try{for(o.s();!(i=o.n()).done;){var s=i.value.dataset;n.repSeqs.push({id:a,text:s}),e.indexOf(s)>=0&&n.selectedRep.push({id:a,text:s}),a+=1}}catch(c){o.e(c)}finally{o.f()}0===n.selectedRep.length&&n.repSeqs.length>0&&n.selectedRep.push(n.repSeqs[0]),n.notifiedUpdates.repSeq=!0,n.onSelectionChange()},function(e){n.isFetching=!1,n.error=e.message})}},{key:"handleError",value:function(e){this.isFetching=!1,this.error=e.message}},{key:"speciesChange",value:function(){this.notifiedUpdates.species=!0,this.selectedGen=[],this.selectedRep=[],this.selectedAssembly=[],"None"!==this.selectedSpecies.name&&(this.geneTableService.selection.value.species===this.selectedSpecies.name?(this.updateGen(this.geneTableService.selection.value.datasets),this.updateRep(this.geneTableService.selection.value.repSeqs)):(this.updateGen([]),this.updateRep([])))}},{key:"repSeqChange",value:function(){this.notifiedUpdates.repSeq=!0,(PD(new Set(this.geneTableService.selection.value.repSeqs),new Set(this.selectedRep.map(function(e){return e.text}))).size||this.initializing)&&this.onSelectionChange(),this.initializing=!1}},{key:"assemblyChange",value:function(){this.notifiedUpdates.repSeq=!0,(PD(new Set(this.geneTableService.selection.value.repSeqs),new Set(this.selectedAssembly.map(function(e){return e.text}))).size||this.initializing)&&this.onSelectionChange(),this.initializing=!1}},{key:"refSeqChange",value:function(){this.notifiedUpdates.refSeq=!0,PD(new Set(this.geneTableService.selection.value.datasets),new Set(this.selectedGen.map(function(e){return e.text}))).size&&this.onSelectionChange()}},{key:"onSelectionChange",value:function(){(!this.notifiedUpdates.species||this.notifiedUpdates.repSeq&&this.notifiedUpdates.refSeq&&this.notifiedUpdates.assemblies)&&this.selectedSpecies&&(this.notifiedUpdates={species:!1,refSeq:!1,repSeq:!1,assemblies:!1},this.geneTableService.selection.next({species:this.selectedSpecies.name,datasets:this.selectedGen.map(function(e){return e.text}),assemblies:this.selectedAssembly.map(function(e){return e.text}),repSeqs:this.selectedRep.map(function(e){return e.text}),repDatasetDescriptions:this.repDatasetDescriptions}))}}]),e}()).\u0275fac=function(e){return new(e||DD)(Mc(QO),Mc(eD),Mc(gD))},DD.\u0275cmp=ut({type:DD,selectors:[["app-gene-table-selector"]],inputs:{showGenomic:"showGenomic",showAssembly:"showAssembly",showRepseq:"showRepseq"},decls:13,vars:7,consts:[[1,"form-row","align-items-center"],[1,"col-auto","my-1"],[1,"input-group"],[1,"input-group-prepend"],["for","selectSpecies",1,"input-group-text"],["id","selectSpecies",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-auto my-1",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngValue"],["for","selectGenomic",1,"input-group-text",2,"height","38px"],["id","selectGenomic",3,"settings","data","ngModel","placeholder","ngModelChange"],["for","selectAssembly",1,"input-group-text",2,"height","38px"],["id","selectAssembly",3,"settings","data","ngModel","placeholder","ngModelChange"],["for","selectAIRR",1,"input-group-text",2,"height","38px"],["id","selectAIRR",3,"settings","data","ngModel","placeholder","ngModelChange"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"div",1),Nc(2,"div",2),Nc(3,"div",3),Nc(4,"label",4),Bl(5,"Species"),zc(),zc(),Nc(6,"select",5),Wc("ngModelChange",function(e){return t.selectedSpecies=e})("ngModelChange",function(){return t.speciesChange()}),xc(7,ED,2,2,"option",6),zc(),zc(),zc(),xc(8,RD,6,6,"div",7),xc(9,AD,6,6,"div",7),xc(10,TD,6,6,"div",7),zc(),xc(11,ID,3,0,"div",8),xc(12,OD,4,1,"div",9)),2&e&&(wo(6),Lc("ngModel",t.selectedSpecies),wo(1),Lc("ngForOf",t.species),wo(1),Lc("ngIf",t.showGenomic),wo(1),Lc("ngIf",t.showAssembly),wo(1),Lc("ngIf",t.showRepseq),wo(1),Lc("ngIf",t.isFetching),wo(1),Lc("ngIf",t.error))},directives:[wA,ER,sA,Fv,zv,kA,OA,IO],styles:[".selector-dropdown .dropdown-btn{line-height:24px!important;height:38px!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-color:#ced4da!important}"],encapsulation:2}),DD);function PD(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.has(o)?i.delete(o):i.add(o)}}catch(s){a.e(s)}finally{a.f()}return i}var LD,FD,ND=l("LvDl"),zD=((FD=function(){function e(t){v(this,e),this.activeModal=t,this.width=50,this.gapped=!1,this.fasta=!1,this.gappedAvailable=!1}return g(e,[{key:"ngOnInit",value:function(){this.gappedAvailable=this.content.gapped&&this.content.gapped.length>0,this.format_sequence()}},{key:"format_sequence",value:function(){var e,n=1;if(this.displayContent="",e=this.gapped?this.content.gapped?this.content.gapped:"":this.content.ungapped?this.content.ungapped:""){this.fasta&&(this.displayContent+=">"+this.name+"<br>");var r,i=t(this.chunkSubstr(e,this.width));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.fasta?this.displayContent+=a+"<br>":(this.displayContent+=ND.padEnd(n.toString(),5),a.length>10&&(this.displayContent+=ND.repeat(" ",a.length-10)+ND.padStart((n+a.length-1).toString(),5)+"<br>"+a+"<br><br>",n+=a.length))}}catch(o){i.e(o)}finally{i.f()}}}},{key:"chunkSubstr",value:function(e,t){for(var n=Math.ceil(e.length/t),r=new Array(n),i=0,a=0;i<n;++i,a+=t)r[i]=e.substr(a,t);return r}},{key:"onGappedClick",value:function(e){this.gapped=!this.gapped,e.textContent=this.gapped?"Ungapped":"Gapped",this.format_sequence()}},{key:"onFastaClick",value:function(e){this.fasta=!this.fasta,e.textContent=this.fasta?"Numbered":"FASTA",this.format_sequence()}}]),e}()).\u0275fac=function(e){return new(e||FD)(Mc(UI))},FD.\u0275cmp=ut({type:FD,selectors:[["app-seq-modal"]],inputs:{name:"name",content:"content"},decls:18,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"lead"],[2,"width","600px","margin-left","auto","margin-right","auto",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"disabled","click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"h4",1),Bl(2),zc(),Nc(3,"button",2),Wc("click",function(){return t.activeModal.dismiss("Cross click")}),Nc(4,"span",3),Bl(5,"\xd7"),zc(),zc(),zc(),Nc(6,"div",4),Nc(7,"pre",5),Bl(8,"    "),jc(9,"div",6),Bl(10,"\n  "),zc(),zc(),Nc(11,"div",7),Nc(12,"button",8),Wc("click",function(e){return t.onGappedClick(e.target)}),Bl(13,"Gapped"),zc(),Nc(14,"button",9),Wc("click",function(e){return t.onFastaClick(e.target)}),Bl(15,"FASTA"),zc(),Nc(16,"button",9),Wc("click",function(){return t.activeModal.close("Close click")}),Bl(17,"Close"),zc(),zc()),2&e&&(wo(2),Vl(t.name),wo(7),Lc("innerHTML",t.displayContent,ia),wo(3),Lc("disabled",!t.gappedAvailable))},styles:[""]}),FD),jD=function(){function e(t){v(this,e),this.genomicService=t,this.geneSequenceSubject=new Ny([]),this.choicesSubject=new Ny({}),this.loadingSubject=new Ny(!1),this.errorSubject=new Ny(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return g(e,[{key:"loadGeneSequences",value:function(e,t,n,r,i,a,o){var s=this;t="Test"===t?"Human_IGH":t,this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSequencesApi(e,t,n,r,i,a,o).pipe(hD(),ub(function(e){return s.errorSubject.next(e),[]}),Tb(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("sequences")?s.geneSequenceSubject.next(e.sequences):s.geneSequenceSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.geneSequenceSubject.next([]))}},{key:"connect",value:function(e){return this.geneSequenceSubject.asObservable()}},{key:"disconnect",value:function(e){this.geneSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}();function BD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.some(function(t){return e[t]}):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function VD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BA;return function(n){return n.lift(new UD(e,t))}}var UD=function(){function e(t,n){v(this,e),this.dueTime=t,this.scheduler=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new HD(e,this.dueTime,this.scheduler))}}]),e}(),HD=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).dueTime=r,a.scheduler=i,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return g(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($D,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(I);function $D(e){e.debouncedNext()}function qD(e){return null!=e&&"false"!="".concat(e)}function GD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function WD(e){return Array.isArray(e)?e:[e]}function YD(e){return null==e?"":"string"==typeof e?e:"".concat(e,"px")}function ZD(e){return e instanceof Xh?e.nativeElement:e}try{LD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_0){LD=!1}var XD,KD,QD,JD,eM,tM,nM=((QD=function e(t){v(this,e),this._platformId=t,this.isBrowser=this._platformId?im(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(e){return new(e||QD)(ti(sp))},QD.\u0275prov=De({factory:function(){return new QD(ti(sp))},token:QD,providedIn:"root"}),QD),rM=((KD=function e(){v(this,e)}).\u0275fac=function(e){return new(e||KD)},KD.\u0275mod=vt({type:KD}),KD.\u0275inj=Me({}),KD),iM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function aM(){if(XD)return XD;if("object"!=typeof document||!document)return XD=new Set(iM);var e=document.createElement("input");return XD=new Set(iM.filter(function(t){return e.setAttribute("type",t),e.type===t}))}function oM(e){return function(){if(null==JD&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return JD=!0}}))}finally{JD=JD||!1}return JD}()?e:!!e.capture}function sM(e){if(function(){if(null==tM){var e="undefined"!=typeof document?document.head:null;tM=!(!e||!e.createShadowRoot&&!e.attachShadow)}return tM}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}var cM,lM,uM,hM,fM=((hM=function(){function e(){v(this,e)}return g(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).\u0275fac=function(e){return new(e||hM)},hM.\u0275prov=De({factory:function(){return new hM},token:hM,providedIn:"root"}),hM),dM=((uM=function(){function e(t){v(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return g(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach(function(t,n){return e._cleanupObserver(n)})}},{key:"observe",value:function(e){var t=this,n=ZD(e);return new L(function(e){var r=t._observeElement(n).subscribe(e);return function(){r.unsubscribe(),t._unobserveElement(n)}})}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new V,n=this._mutationObserverFactory.create(function(e){return t.next(e)});n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,r=t.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}]),e}()).\u0275fac=function(e){return new(e||uM)(ti(fM))},uM.\u0275prov=De({factory:function(){return new uM(ti(fM))},token:uM,providedIn:"root"}),uM),pM=((lM=function(){function e(t,n,r){v(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new _d,this._disabled=!1,this._currentSubscription=null}return g(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=qD(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=GD(e),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){e._currentSubscription=(e.debounce?t.pipe(VD(e.debounce)):t).subscribe(e.event)})}},{key:"_unsubscribe",value:function(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||lM)(Mc(dM),Mc(Xh),Mc(kp))},lM.\u0275dir=yt({type:lM,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),lM),vM=((cM=function e(){v(this,e)}).\u0275fac=function(e){return new(e||cM)},cM.\u0275mod=vt({type:cM}),cM.\u0275inj=Me({providers:[fM]}),cM);function mM(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var gM,yM=0,bM=new Map,_M=null,wM=((gM=function(){function e(t){v(this,e),this._document=t}return g(e,[{key:"describe",value:function(e,t,n){if(this._canBeDescribed(e,t)){var r=kM(t,n);"string"!=typeof t?(SM(t),bM.set(r,{messageElement:t,referenceCount:0})):bM.has(r)||this._createMessageElement(t,n),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}}},{key:"removeDescription",value:function(e,t,n){if(t&&this._isElementNode(e)){var r=kM(t,n);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),"string"==typeof t){var i=bM.get(r);i&&0===i.referenceCount&&this._deleteMessageElement(r)}_M&&0===_M.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");_M&&this._deleteMessagesContainer(),bM.clear()}},{key:"_createMessageElement",value:function(e,t){var n=this._document.createElement("div");SM(n),n.textContent=e,t&&n.setAttribute("role",t),this._createMessagesContainer(),_M.appendChild(n),bM.set(kM(e,t),{messageElement:n,referenceCount:0})}},{key:"_deleteMessageElement",value:function(e){var t=bM.get(e),n=t&&t.messageElement;_M&&n&&_M.removeChild(n),bM.delete(e)}},{key:"_createMessagesContainer",value:function(){if(!_M){var e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode&&e.parentNode.removeChild(e),(_M=this._document.createElement("div")).id="cdk-describedby-message-container",_M.style.visibility="hidden",_M.classList.add("cdk-visually-hidden"),this._document.body.appendChild(_M)}}},{key:"_deleteMessagesContainer",value:function(){_M&&_M.parentNode&&(_M.parentNode.removeChild(_M),_M=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(e){var t=mM(e,"aria-describedby").filter(function(e){return 0!=e.indexOf("cdk-describedby-message")});e.setAttribute("aria-describedby",t.join(" "))}},{key:"_addMessageReference",value:function(e,t){var n,r,i,a,o=bM.get(t);n=e,r="aria-describedby",i=o.messageElement.id,(a=mM(n,r)).some(function(e){return e.trim()==i.trim()})||(a.push(i.trim()),n.setAttribute(r,a.join(" "))),e.setAttribute("cdk-describedby-host",""),o.referenceCount++}},{key:"_removeMessageReference",value:function(e,t){var n,r,i,a,o=bM.get(t);o.referenceCount--,n=e,r="aria-describedby",i=o.messageElement.id,(a=mM(n,r).filter(function(e){return e!=i.trim()})).length?n.setAttribute(r,a.join(" ")):n.removeAttribute(r),e.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(e,t){var n=mM(e,"aria-describedby"),r=bM.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}},{key:"_canBeDescribed",value:function(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;var n=null==t?"":"".concat(t).trim(),r=e.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}},{key:"_isElementNode",value:function(e){return e.nodeType===this._document.ELEMENT_NODE}}]),e}()).\u0275fac=function(e){return new(e||gM)(ti(nv))},gM.\u0275prov=De({factory:function(){return new gM(ti(nv))},token:gM,providedIn:"root"}),gM);function kM(e,t){return"string"==typeof e?"".concat(t||"","/").concat(e):e}function SM(e){e.id||(e.id="cdk-describedby-message-"+yM++)}var xM,CM=function(){function e(t){var n=this;v(this,e),this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new V,this._typeaheadSubscription=R.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(e){return e.disabled},this._pressedLetters=[],this.tabOut=new V,this.change=new V,t instanceof kd&&t.changes.subscribe(function(e){if(n._activeItem){var t=e.toArray().indexOf(n._activeItem);t>-1&&t!==n._activeItemIndex&&(n._activeItemIndex=t)}})}return g(e,[{key:"skipPredicate",value:function(e){return this._skipPredicateFn=e,this}},{key:"withWrap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=e,this}},{key:"withVerticalOrientation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=e,this}},{key:"withHorizontalOrientation",value:function(e){return this._horizontal=e,this}},{key:"withAllowedModifierKeys",value:function(e){return this._allowedModifierKeys=e,this}},{key:"withTypeAhead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Eb(function(t){return e._pressedLetters.push(t)}),VD(t),sb(function(){return e._pressedLetters.length>0}),q(function(){return e._pressedLetters.join("")})).subscribe(function(t){for(var n=e._getItemsArray(),r=1;r<n.length+1;r++){var i=(e._activeItemIndex+r)%n.length,a=n[i];if(!e._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(i);break}}e._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=e,this}},{key:"setActiveItem",value:function(e){var t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(e){var t=this,n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!e[n]||t._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||BD(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(e){var t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}},{key:"_setActiveInWrapMode",value:function(e){for(var t=this._getItemsArray(),n=1;n<=t.length;n++){var r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}},{key:"_setActiveItemByIndex",value:function(e,t){var n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}},{key:"_getItemsArray",value:function(){return this._items instanceof kd?this._items.toArray():this._items}}]),e}(),EM=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"setActiveItem",value:function(e){this.activeItem&&this.activeItem.setInactiveStyles(),s(p(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(CM),RM=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._origin="program",e}return g(n,[{key:"setFocusOrigin",value:function(e){return this._origin=e,this}},{key:"setActiveItem",value:function(e){s(p(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(CM),AM=((xM=function(){function e(t){v(this,e),this._platform=t}return g(e,[{key:"isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"isVisible",value:function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}},{key:"isTabbable",value:function(e){if(!this._platform.isBrowser)return!1;var t=function(e){try{return e.frameElement}catch(_0){return null}}(function(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(e));if(t){if(-1===IM(t))return!1;if(!this.isVisible(t))return!1}var n=e.nodeName.toLowerCase(),r=IM(e);return e.hasAttribute("contenteditable")?-1!==r:"iframe"!==n&&"object"!==n&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==r:"video"===n?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}},{key:"isFocusable",value:function(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||TM(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}]),e}()).\u0275fac=function(e){return new(e||xM)(ti(nM))},xM.\u0275prov=De({factory:function(){return new xM(ti(nM))},token:xM,providedIn:"root"}),xM);function TM(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function IM(e){if(!TM(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var OM,DM,MM=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];v(this,e),this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return a.focusLastTabbableElement()},this.endAnchorListener=function(){return a.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return g(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], [cdkFocusRegion").concat(e,"], [cdk-focus-").concat(e,"]")),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-".concat(e))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]):t[n].hasAttribute("cdk-focus-region-".concat(e))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){var t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(eb(1)).subscribe(e)}}]),e}(),PM=((DM=function(){function e(t,n,r){v(this,e),this._checker=t,this._ngZone=n,this._document=r}return g(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new MM(e,this._checker,this._ngZone,this._document,t)}}]),e}()).\u0275fac=function(e){return new(e||DM)(ti(AM),ti(kp),ti(nv))},DM.\u0275prov=De({factory:function(){return new DM(ti(AM),ti(kp),ti(nv))},token:DM,providedIn:"root"}),DM),LM=((OM=function(){function e(t,n,r){v(this,e),this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return g(e,[{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=qD(e)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(e){this._autoCapture=qD(e)}},{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"ngOnChanges",value:function(e){var t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}},{key:"_captureFocus",value:function(){var e,t,n=null===(e=this._document)||void 0===e?void 0:e.activeElement;this._previouslyFocusedElement=(null===(t=null==n?void 0:n.shadowRoot)||void 0===t?void 0:t.activeElement)||n,this.focusTrap.focusInitialElementWhenReady()}}]),e}()).\u0275fac=function(e){return new(e||OM)(Mc(Xh),Mc(PM),Mc(nv))},OM.\u0275dir=yt({type:OM,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Dt]}),OM);"undefined"!=typeof Element&&Element;var FM,NM,zM=new Ar("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),jM=new Ar("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),BM=((NM=function(){function t(e,n,r,i){v(this,t),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=e||this._createLiveElement()}return g(t,[{key:"announce",value:function(t){for(var n,r,i,a=this,o=this._defaultOptions,s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];return 1===c.length&&"number"==typeof c[0]?i=c[0]:(r=(n=e(c,2))[0],i=n[1]),this.clear(),clearTimeout(this._previousTimeout),r||(r=o&&o.politeness?o.politeness:"polite"),null==i&&o&&(i=o.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(function(){return new Promise(function(e){clearTimeout(a._previousTimeout),a._previousTimeout=setTimeout(function(){a._liveElement.textContent=t,e(),"number"==typeof i&&(a._previousTimeout=setTimeout(function(){return a.clear()},i))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}]),t}()).\u0275fac=function(e){return new(e||NM)(ti(zM,8),ti(kp),ti(nv),ti(jM,8))},NM.\u0275prov=De({factory:function(){return new NM(ti(zM,8),ti(kp),ti(nv),ti(jM,8))},token:NM,providedIn:"root"}),NM),VM=((FM=function(){function e(t,n,r,i){v(this,e),this._elementRef=t,this._liveAnnouncer=n,this._contentObserver=r,this._ngZone=i,this._politeness="polite"}return g(e,[{key:"politeness",get:function(){return this._politeness},set:function(e){var t=this;this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(function(){return t._contentObserver.observe(t._elementRef).subscribe(function(){var e=t._elementRef.nativeElement.textContent;e!==t._previousAnnouncedText&&(t._liveAnnouncer.announce(e,t._politeness),t._previousAnnouncedText=e)})}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||FM)(Mc(Xh),Mc(BM),Mc(dM),Mc(kp))},FM.\u0275dir=yt({type:FM,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),FM);function UM(e){return 0===e.buttons}function HM(e){var t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}var $M,qM=new Ar("cdk-focus-monitor-default-options"),GM=oM({passive:!0,capture:!0}),WM=(($M=function(){function t(e,n,r,i){var a=this;v(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){a._lastTouchTarget=null,a._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(e){if(!a._lastTouchTarget){var t=UM(e)?"keyboard":"mouse";a._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=function(e){HM(e)?a._lastTouchTarget||a._setOriginForCurrentEventQueue("keyboard"):(null!=a._touchTimeoutId&&clearTimeout(a._touchTimeoutId),a._lastTouchTarget=YM(e),a._touchTimeoutId=setTimeout(function(){return a._lastTouchTarget=null},650))},this._windowFocusListener=function(){a._windowFocused=!0,a._windowFocusTimeoutId=setTimeout(function(){return a._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(e){for(var t=YM(e),n="focus"===e.type?a._onFocus:a._onBlur,r=t;r;r=r.parentElement)n.call(a,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return g(t,[{key:"monitor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ZD(e);if(!this._platform.isBrowser||1!==n.nodeType)return Fy(null);var r=sM(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;var a={checkChildren:t,subject:new V,rootNode:r};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject}},{key:"stopMonitoring",value:function(e){var t=ZD(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,n,r){var i=this,a=ZD(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(function(t){var r=e(t,2),a=r[0],o=r[1];return i._originChanged(a,n,o)}):(this._setOriginForCurrentEventQueue(n),"function"==typeof a.focus&&a.focus(r))}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach(function(t,n){return e.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_getFocusOrigin",value:function(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}},{key:"_setClasses",value:function(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){t._origin=e,0===t._detectionMode&&(t._originTimeoutId=setTimeout(function(){return t._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(e){var t=YM(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);n&&(n.checkChildren||t===YM(e))&&this._originChanged(t,this._getFocusOrigin(e),n)}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run(function(){return e.next(t)})}},{key:"_registerGlobalListeners",value:function(e){var t=this;if(this._platform.isBrowser){var n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",t._rootNodeFocusAndBlurListener,GM),n.addEventListener("blur",t._rootNodeFocusAndBlurListener,GM)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var e=t._getDocument(),n=t._getWindow();e.addEventListener("keydown",t._documentKeydownListener,GM),e.addEventListener("mousedown",t._documentMousedownListener,GM),e.addEventListener("touchstart",t._documentTouchstartListener,GM),n.addEventListener("focus",t._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(e){var t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){var n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GM),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GM),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,GM),r.removeEventListener("mousedown",this._documentMousedownListener,GM),r.removeEventListener("touchstart",this._documentTouchstartListener,GM),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}},{key:"_getClosestElementsInfo",value:function(e){var t=[];return this._elementInfo.forEach(function(n,r){(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}]),t}()).\u0275fac=function(e){return new(e||$M)(ti(kp),ti(nM),ti(nv,8),ti(qM,8))},$M.\u0275prov=De({factory:function(){return new $M(ti(kp),ti(nM),ti(nv,8),ti(qM,8))},token:$M,providedIn:"root"}),$M);function YM(e){return e.composedPath?e.composedPath()[0]:e.target}var ZM,XM,KM,QM,JM,eP=((KM=function(){function e(t,n){v(this,e),this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new _d}return g(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(t){return e.cdkFocusChange.emit(t)})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||KM)(Mc(Xh),Mc(WM))},KM.\u0275dir=yt({type:KM,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),KM),tP=((XM=function(){function e(t,n){v(this,e),this._platform=t,this._document=n}return g(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");var t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}]),e}()).\u0275fac=function(e){return new(e||XM)(ti(nM),ti(nv))},XM.\u0275prov=De({factory:function(){return new XM(ti(nM),ti(nv))},token:XM,providedIn:"root"}),XM),nP=((ZM=function e(t){v(this,e),t._applyBodyHighContrastModeCssClasses()}).\u0275fac=function(e){return new(e||ZM)(ti(tP))},ZM.\u0275mod=vt({type:ZM}),ZM.\u0275inj=Me({imports:[[rM,vM]]}),ZM),rP=new Ar("cdk-dir-doc",{providedIn:"root",factory:function(){return ri(nv)}}),iP=((JM=function(){function e(t){if(v(this,e),this.value="ltr",this.change=new _d,t){var n=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return g(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||JM)(ti(rP,8))},JM.\u0275prov=De({factory:function(){return new JM(ti(rP,8))},token:JM,providedIn:"root"}),JM),aP=((QM=function e(){v(this,e)}).\u0275fac=function(e){return new(e||QM)},QM.\u0275mod=vt({type:QM}),QM.\u0275inj=Me({}),QM),oP=new nf("11.2.13");function sP(e,t){if(1&e&&jc(0,"mat-pseudo-checkbox",4),2&e){var n=Qc();Lc("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}function cP(e,t){if(1&e&&(Nc(0,"span",5),Bl(1),zc()),2&e){var n=Qc();wo(1),Ul("(",n.group.label,")")}}var lP,uP=["*"],hP=new nf("11.2.13"),fP=new Ar("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),dP=((lP=function(){function e(t,n,r){v(this,e),this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return g(e,[{key:"_getWindow",value:function(){var e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Lp()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&hP.full!==oP.full&&console.warn("The Angular Material version ("+hP.full+") does not match the Angular CDK version ("+oP.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}()).\u0275fac=function(e){return new(e||lP)(ti(tP),ti(fP,8),ti(nv))},lP.\u0275mod=vt({type:lP}),lP.\u0275inj=Me({imports:[[aP],aP]}),lP);function pP(e){return function(e){c(n,e);var t=u(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._disabled=!1,e}return g(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=qD(e)}}]),n}(e)}function vP(e,t){return function(e){c(r,e);var n=u(r);function r(){var e;v(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).defaultColor=t,e.color=t,e}return g(r,[{key:"color",get:function(){return this._color},set:function(e){var t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),t&&this._elementRef.nativeElement.classList.add("mat-".concat(t)),this._color=t)}}]),r}(e)}function mP(e){return function(e){c(n,e);var t=u(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._disableRipple=!1,e}return g(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=qD(e)}}]),n}(e)}function gP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){c(r,e);var n=u(r);function r(){var e;v(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a)))._tabIndex=t,e.defaultTabIndex=t,e}return g(r,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?GD(e):this.defaultTabIndex}}]),r}(e)}function yP(e){return function(e){c(n,e);var t=u(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).errorState=!1,e.stateChanges=new V,e}return g(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}(e)}var bP,_P=new Ar("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return ri(up)}}),wP=function(){function e(){v(this,e),this._localeChanges=new V,this.localeChanges=this._localeChanges}return g(e,[{key:"getValidDateOrNull",value:function(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}},{key:"deserialize",value:function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}},{key:"setLocale",value:function(e){this.locale=e,this._localeChanges.next()}},{key:"compareDate",value:function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}},{key:"sameDate",value:function(e,t){if(e&&t){var n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}},{key:"clampDate",value:function(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}]),e}(),kP=new Ar("mat-date-formats");try{bP="undefined"!=typeof Intl}catch(_0){bP=!1}var SP={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},xP=RP(31,function(e){return String(e+1)}),CP={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},EP=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function RP(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t(r);return n}var AP,TP,IP,OP,DP,MP,PP,LP,FP,NP,zP,jP=((TP=function(e){c(n,e);var t=u(n);function n(e,r){var i,a;return v(this,n),(a=t.call(this)).useUtcForDisplay=!0,s((i=f(a),p(n.prototype)),"setLocale",i).call(i,e),a.useUtcForDisplay=!r.TRIDENT,a._clampDate=r.TRIDENT||r.EDGE,a}return g(n,[{key:"getYear",value:function(e){return e.getFullYear()}},{key:"getMonth",value:function(e){return e.getMonth()}},{key:"getDate",value:function(e){return e.getDate()}},{key:"getDayOfWeek",value:function(e){return e.getDay()}},{key:"getMonthNames",value:function(e){var t=this;if(bP){var n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return RP(12,function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,e,1)))})}return SP[e]}},{key:"getDateNames",value:function(){var e=this;if(bP){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return RP(31,function(n){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,n+1)))})}return xP}},{key:"getDayOfWeekNames",value:function(e){var t=this;if(bP){var n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return RP(7,function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,0,e+1)))})}return CP[e]}},{key:"getYearName",value:function(e){if(bP){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}},{key:"clone",value:function(e){return new Date(e.getTime())}},{key:"createDate",value:function(e,t,n){var r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}},{key:"format",value:function(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(bP){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}},{key:"addCalendarYears",value:function(e,t){return this.addCalendarMonths(e,12*t)}},{key:"addCalendarMonths",value:function(e,t){var n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}},{key:"toIso8601",value:function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}},{key:"deserialize",value:function(e){if("string"==typeof e){if(!e)return null;if(EP.test(e)){var t=new Date(e);if(this.isValid(t))return t}}return s(p(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return e instanceof Date}},{key:"isValid",value:function(e){return!isNaN(e.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(e,t,n){var r=new Date;return r.setFullYear(e,t,n),r.setHours(0,0,0,0),r}},{key:"_2digit",value:function(e){return("00"+e).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(e){return e.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(e,t){var n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}]),n}(wP)).\u0275fac=function(e){return new(e||TP)(ti(_P,8),ti(nM))},TP.\u0275prov=De({token:TP,factory:TP.\u0275fac}),TP),BP=((AP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||AP)},AP.\u0275mod=vt({type:AP}),AP.\u0275inj=Me({providers:[{provide:wP,useClass:jP}],imports:[[rM]]}),AP),VP={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},UP=((OP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||OP)},OP.\u0275mod=vt({type:OP}),OP.\u0275inj=Me({providers:[{provide:kP,useValue:VP}],imports:[[BP]]}),OP),HP=((IP=function(){function e(){v(this,e)}return g(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).\u0275fac=function(e){return new(e||IP)},IP.\u0275prov=De({factory:function(){return new IP},token:IP,providedIn:"root"}),IP),$P=function(){function e(t,n,r){v(this,e),this._renderer=t,this.element=n,this.config=r,this.state=3}return g(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),qP={enterDuration:450,exitDuration:400},GP=oM({passive:!0}),WP=["mousedown","touchstart"],YP=["mouseup","mouseleave","touchend","touchcancel"],ZP=function(){function e(t,n,r,i){v(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ZD(r))}return g(e,[{key:"fadeInRipple",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},qP),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);var o=r.radius||function(e,t,n){var r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,c=t-i.top,l=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration="".concat(l,"ms"),this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var h=new $P(this,u,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var e=h===n._mostRecentTransientRipple;h.state=1,r.persistent||e&&n._isPointerDown||h.fadeOut()},l),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,r=Object.assign(Object.assign({},qP),e.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(function(){e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(e){return e.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(e){e.config.persistent||e.fadeOut()})}},{key:"setupTriggerEvents",value:function(e){var t=ZD(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(WP))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(YP),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=UM(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled&&!HM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){e.forEach(function(e){t._triggerElement.addEventListener(e,t,GP)})})}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(WP.forEach(function(t){e._triggerElement.removeEventListener(t,e,GP)}),this._pointerUpEventsRegistered&&YP.forEach(function(t){e._triggerElement.removeEventListener(t,e,GP)}))}}]),e}(),XP=new Ar("mat-ripple-global-options"),KP=((LP=function(){function e(t,n,r,i,a){v(this,e),this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new ZP(this,n,t,r)}return g(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}]),e}()).\u0275fac=function(e){return new(e||LP)(Mc(Xh),Mc(kp),Mc(nM),Mc(XP,8),Mc(QC,8))},LP.\u0275dir=yt({type:LP,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&xl("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),LP),QP=((PP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||PP)},PP.\u0275mod=vt({type:PP}),PP.\u0275inj=Me({imports:[[dP,rM],dP]}),PP),JP=((MP=function e(t){v(this,e),this._animationMode=t,this.state="unchecked",this.disabled=!1}).\u0275fac=function(e){return new(e||MP)(Mc(QC,8))},MP.\u0275cmp=ut({type:MP,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&xl("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),MP),eL=((DP=function e(){v(this,e)}).\u0275fac=function(e){return new(e||DP)},DP.\u0275mod=vt({type:DP}),DP.\u0275inj=Me({imports:[[dP]]}),DP),tL=new Ar("MAT_OPTION_PARENT_COMPONENT"),nL=pP(function e(){v(this,e)}),rL=0,iL=((FP=function(e){c(n,e);var t=u(n);function n(e){var r,i;return v(this,n),(r=t.call(this))._labelId="mat-optgroup-label-"+rL++,r._inert=null!==(i=null==e?void 0:e.inertGroups)&&void 0!==i&&i,r}return n}(nL)).\u0275fac=function(e){return new(e||FP)(Mc(tL,8))},FP.\u0275dir=yt({type:FP,inputs:{label:"label"},features:[Bs]}),FP),aL=new Ar("MatOptgroup"),oL=0,sL=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e),this.source=t,this.isUserInput=n},cL=((zP=function(){function e(t,n,r,i){v(this,e),this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+oL++,this.onSelectionChange=new _d,this._stateChanges=new V}return g(e,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=qD(e)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(e,t){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(e){13!==e.keyCode&&32!==e.keyCode||BD(e)||(this._selectViaInteraction(),e.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new sL(this,e))}}]),e}()).\u0275fac=function(e){return new(e||zP)(Mc(Xh),Mc(Sf),Mc(void 0),Mc(iL))},zP.\u0275dir=yt({type:zP,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),zP),lL=((NP=function(e){c(n,e);var t=u(n);function n(e,r,i,a){return v(this,n),t.call(this,e,r,i,a)}return n}(cL)).\u0275fac=function(e){return new(e||NP)(Mc(Xh),Mc(Sf),Mc(tL,8),Mc(aL,8))},NP.\u0275cmp=ut({type:NP,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&Wc("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(xu("id",t.id),ac("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),xl("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[Bs],ngContentSelectors:uP,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(el(),xc(0,sP,1,2,"mat-pseudo-checkbox",0),Nc(1,"span",1),tl(2),zc(),xc(3,cP,2,1,"span",2),jc(4,"div",3)),2&e&&(Lc("ngIf",t.multiple),wo(3),Lc("ngIf",t.group&&t.group._inert),wo(1),Lc("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[zv,KP,JP],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),NP);function uL(e,t,n){if(n.length){for(var r=t.toArray(),i=n.toArray(),a=0,o=0;o<e+1;o++)r[o].group&&r[o].group===i[a]&&a++;return a}return 0}var hL,fL,dL,pL=((hL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||hL)},hL.\u0275mod=vt({type:hL}),hL.\u0275inj=Me({imports:[[QP,rm,dP,eL]]}),hL),vL=["mat-button",""],mL=["*"],gL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yL=vP(pP(mP(function e(t){v(this,e),this._elementRef=t}))),bL=((dL=function(e){c(r,e);var n=u(r);function r(e,i,a){var o;v(this,r),(o=n.call(this,e))._focusMonitor=i,o._animationMode=a,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var s,c=t(gL);try{for(c.s();!(s=c.n()).done;){var l=s.value;o._hasHostAttributes(l)&&o._getHostElement().classList.add(l)}}catch(u){c.e(u)}finally{c.f()}return e.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return g(r,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.some(function(t){return e._getHostElement().hasAttribute(t)})}}]),r}(yL)).\u0275fac=function(e){return new(e||dL)(Mc(Xh),Mc(WM),Mc(QC,8))},dL.\u0275cmp=ut({type:dL,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&Md(KP,1),2&e&&Dd(n=Ld())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(ac("disabled",t.disabled||null),xl("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Bs],attrs:vL,ngContentSelectors:mL,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(el(),Nc(0,"span",0),tl(1),zc(),jc(2,"span",1),jc(3,"span",2)),2&e&&(wo(2),xl("mat-button-ripple-round",t.isRoundButton||t.isIconButton),Lc("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[KP],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),dL),_L=((fL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||fL)},fL.\u0275mod=vt({type:fL}),fL.\u0275inj=Me({imports:[[QP,dP],dP]}),fL),wL=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return g(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?s(p(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return s(p(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(NA),kL=new(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(jA))(wL),SL=1,xL=Promise.resolve(),CL={};function EL(e){return e in CL&&(delete CL[e],!0)}var RL=function(e){var t=SL++;return CL[t]=!0,xL.then(function(){return EL(t)&&e()}),t},AL=function(e){EL(e)},TL=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return g(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?s(p(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=RL(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return s(p(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(AL(t),e.scheduled=void 0)}}]),n}(NA),IL=new(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(jA))(TL),OL=function(){function e(t){v(this,e),this.durationSelector=t}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new DL(e,this.durationSelector))}}]),e}(),DL=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return g(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=re(t,new te(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(ne);function ML(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BA;return t=function(){return UA(e,n)},function(e){return e.lift(new OL(t))}}var PL=function(){function e(){v(this,e)}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new LL(e))}}]),e}(),LL=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).hasPrev=!1,r}return g(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(I),FL=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return g(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?s(p(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?s(p(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?s(p(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(NA),NL=new(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(jA))(FL),zL=function(e){c(n,e);var t=u(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(i=t.call(this,e)).scheduler=r,i.delay=a,i}return g(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new jL(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(hT.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(hT.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(hT.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(I),jL=function e(t,n){v(this,e),this.notification=t,this.destination=n},BL=function(e){c(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return v(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return g(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}s(p(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new VL(this._getNow(),e)),this._trimBufferThenGetEvents()),s(p(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new z;if(this.isStopped||this.hasError?t=R.EMPTY:(this.observers.push(e),t=new j(this,e)),i&&e.add(e=new zL(e,i)),n)for(var o=0;o<a&&!e.closed;o++)e.next(r[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||NL).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(V),VL=function e(t,n){v(this,e),this.time=t,this.value=n};function UL(e){return e&&"function"==typeof e.connect}var HL,$L,qL,GL,WL,YL,ZL=function(){function e(){v(this,e)}return g(e,[{key:"applyChanges",value:function(e,t,n,r,i){e.forEachOperation(function(e,r,a){var o,s;if(null==e.previousIndex){var c=n(e,r,a);o=t.createEmbeddedView(c.templateRef,c.context,c.index),s=1}else null==a?(t.remove(r),s=3):(o=t.get(r),t.move(o,a),s=2);i&&i({context:null==o?void 0:o.context,operation:s,record:e})})}},{key:"detach",value:function(){}}]),e}(),XL=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v(this,e),this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new V,r&&r.length&&(n?r.forEach(function(e){return t._markSelected(e)}):this._markSelected(r[0]),this._selectedToEmit.length=0)}return g(e,[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach(function(t){return e._markSelected(t)}),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach(function(t){return e._unmarkSelected(t)}),this._emitChangeEvent()}},{key:"toggle",value:function(e){this.isSelected(e)?this.deselect(e):this.select(e)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(e){return this._selection.has(e)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(e){this._multiple&&this.selected&&this._selected.sort(e)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}},{key:"_unmarkSelected",value:function(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}},{key:"_unmarkAll",value:function(){var e=this;this.isEmpty()||this._selection.forEach(function(t){return e._unmarkSelected(t)})}},{key:"_verifyValueAssignment",value:function(e){}}]),e}(),KL=new Ar("_ViewRepeater"),QL=((GL=function(){function e(t,n,r){v(this,e),this._ngZone=t,this._platform=n,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return g(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new L(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(ML(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Fy()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(sb(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(r,i){t._scrollableContainsElement(i,e)&&n.push(i)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=ZD(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return LA(e._getWindow().document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||GL)(ti(kp),ti(nM),ti(nv,8))},GL.\u0275prov=De({factory:function(){return new GL(ti(kp),ti(nM),ti(nv,8))},token:GL,providedIn:"root"}),GL),JL=((qL=function(){function e(t,n,r){var i=this;v(this,e),this._platform=t,this._change=new V,this._changeListener=function(e){i._change.next(e)},this._document=r,n.runOutsideAngular(function(){if(t.isBrowser){var e=i._getWindow();e.addEventListener("resize",i._changeListener),e.addEventListener("orientationchange",i._changeListener)}i.change().subscribe(function(){return i._updateViewportSize()})})}return g(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(ML(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||qL)(ti(nM),ti(kp),ti(nv,8))},qL.\u0275prov=De({factory:function(){return new qL(ti(nM),ti(kp),ti(nv,8))},token:qL,providedIn:"root"}),qL),eF=(($L=function e(){v(this,e)}).\u0275fac=function(e){return new(e||$L)},$L.\u0275mod=vt({type:$L}),$L.\u0275inj=Me({}),$L),tF=((HL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||HL)},HL.\u0275mod=vt({type:HL}),HL.\u0275inj=Me({imports:[[aP,rM,eF],aP,eF]}),HL),nF=function(){function e(){v(this,e)}return g(e,[{key:"attach",value:function(e){return this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),rF=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).component=e,o.viewContainerRef=r,o.injector=i,o.componentFactoryResolver=a,o}return n}(nF),iF=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).templateRef=e,a.viewContainerRef=r,a.context=i,a}return g(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,s(p(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,s(p(n.prototype),"detach",this).call(this)}}]),n}(nF),aF=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this)).element=e instanceof Xh?e.nativeElement:e,r}return n}(nF),oF=function(){function e(){v(this,e),this._isDisposed=!1,this.attachDomPortal=null}return g(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e instanceof rF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof iF?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof aF?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),sF=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o){var c,l;return v(this,n),(l=t.call(this)).outletElement=e,l._componentFactoryResolver=r,l._appRef=i,l._defaultInjector=a,l.attachDomPortal=function(e){var t=e.element,r=l._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),l.outletElement.appendChild(t),l._attachedPortal=e,s((c=f(l),p(n.prototype)),"setDisposeFn",c).call(c,function(){r.parentNode&&r.parentNode.replaceChild(t,r)})},l._document=o,l}return g(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=r.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),r.detectChanges(),this.setDisposeFn(function(){var e=n.indexOf(r);-1!==e&&n.remove(e)}),this._attachedPortal=e,r}},{key:"dispose",value:function(){s(p(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(oF),cF=((YL=function(e){c(n,e);var t=u(n);function n(e,r,i){var a,o;return v(this,n),(o=t.call(this))._componentFactoryResolver=e,o._viewContainerRef=r,o._isInitialized=!1,o.attached=new _d,o.attachDomPortal=function(e){var t=e.element,r=o._document.createComment("dom-portal");e.setAttachedHost(f(o)),t.parentNode.insertBefore(r,t),o._getRootNode().appendChild(t),o._attachedPortal=e,s((a=f(o),p(n.prototype)),"setDisposeFn",a).call(a,function(){r.parentNode&&r.parentNode.replaceChild(t,r)})},o._document=i,o}return g(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&s(p(n.prototype),"detach",this).call(this),e&&s(p(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){s(p(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(r,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),s(p(n.prototype),"setDisposeFn",this).call(this,function(){return i.destroy()}),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return s(p(n.prototype),"setDisposeFn",this).call(this,function(){return t._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}]),n}(oF)).\u0275fac=function(e){return new(e||YL)(Mc(Gh),Mc(Lf),Mc(nv))},YL.\u0275dir=yt({type:YL,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Bs]}),YL),lF=((WL=function e(){v(this,e)}).\u0275fac=function(e){return new(e||WL)},WL.\u0275mod=vt({type:WL}),WL.\u0275inj=Me({}),WL),uF=function(){function e(t,n){v(this,e),this.predicate=t,this.inclusive=n}return g(e,[{key:"call",value:function(e,t){return t.subscribe(new hF(e,this.predicate,this.inclusive))}}]),e}(),hF=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e)).predicate=r,a.inclusive=i,a.index=0,a}return g(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(I),fF=function(){if(null==eM){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eM=!1;if("scrollBehavior"in document.documentElement.style)eM=!0;else{var e=Element.prototype.scrollTo;eM=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return eM}(),dF=function(){function e(t,n){v(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return g(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=YD(-this._previousScrollPosition.left),e.style.top=YD(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fF&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fF&&(t.scrollBehavior=r,n.scrollBehavior=i)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}(),pF=function(){function e(t,n,r,i){var a=this;v(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run(function(){return a._overlayRef.detach()})}}return g(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),vF=function(){function e(){v(this,e)}return g(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function mF(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function gF(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var yF,bF,_F,wF,kF,SF=function(){function e(t,n,r,i){v(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return g(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),r=n.width,i=n.height;mF(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),xF=((yF=function e(t,n,r,i){var a=this;v(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new vF},this.close=function(e){return new pF(a._scrollDispatcher,a._ngZone,a._viewportRuler,e)},this.block=function(){return new dF(a._viewportRuler,a._document)},this.reposition=function(e){return new SF(a._scrollDispatcher,a._viewportRuler,a._ngZone,e)},this._document=i}).\u0275fac=function(e){return new(e||yF)(ti(QL),ti(JL),ti(kp),ti(nv))},yF.\u0275prov=De({factory:function(){return new yF(ti(QL),ti(JL),ti(kp),ti(nv))},token:yF,providedIn:"root"}),yF),CF=function e(t){if(v(this,e),this.scrollStrategy=new vF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];void 0!==t[i]&&(this[i]=t[i])}},EF=function e(t,n,r,i,a){v(this,e),this.offsetX=r,this.offsetY=i,this.panelClass=a,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},RF=function e(t,n){v(this,e),this.connectionPair=t,this.scrollableViewProperties=n},AF=((wF=function(){function e(t){v(this,e),this._attachedOverlays=[],this._document=t}return g(e,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(e){this.remove(e),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}]),e}()).\u0275fac=function(e){return new(e||wF)(ti(nv))},wF.\u0275prov=De({factory:function(){return new wF(ti(nv))},token:wF,providedIn:"root"}),wF),TF=((_F=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this,e))._keydownListener=function(e){for(var t=r._attachedOverlays,n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}},r}return g(n,[{key:"add",value:function(e){s(p(n.prototype),"add",this).call(this,e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(AF)).\u0275fac=function(e){return new(e||_F)(ti(nv))},_F.\u0275prov=De({factory:function(){return new _F(ti(nv))},token:_F,providedIn:"root"}),_F),IF=((bF=function(e){c(n,e);var t=u(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e))._platform=r,i._cursorStyleIsSet=!1,i._clickListener=function(e){for(var t=e.composedPath?e.composedPath()[0]:e.target,n=i._attachedOverlays.slice(),r=n.length-1;r>-1;r--){var a=n[r];if(!(a._outsidePointerEvents.observers.length<1)&&a.hasAttached()){if(a.overlayElement.contains(t))break;a._outsidePointerEvents.next(e)}}},i}return g(n,[{key:"add",value:function(e){if(s(p(n.prototype),"add",this).call(this,e),!this._isAttached){var t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(AF)).\u0275fac=function(e){return new(e||bF)(ti(nv),ti(nM))},bF.\u0275prov=De({factory:function(){return new bF(ti(nv),ti(nM))},token:bF,providedIn:"root"}),bF),OF=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),DF=((kF=function(){function e(t,n){v(this,e),this._platform=n,this._document=t}return g(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||OF)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),OF?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),e}()).\u0275fac=function(e){return new(e||kF)(ti(nv),ti(nM))},kF.\u0275prov=De({factory:function(){return new kF(ti(nv),ti(nM))},token:kF,providedIn:"root"}),kF),MF=function(){function e(t,n,r,i,a,o,s,c,l){var u=this;v(this,e),this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new V,this._attachments=new V,this._detachments=new V,this._locationChanges=R.EMPTY,this._backdropClickHandler=function(e){return u._backdropClick.next(e)},this._keydownEvents=new V,this._outsidePointerEvents=new V,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return g(e,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(eb(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=YD(this._config.width),e.height=YD(this._config.height),e.minWidth=YD(this._config.minWidth),e.minHeight=YD(this._config.minHeight),e.maxWidth=YD(this._config.maxWidth),e.maxHeight=YD(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",r)}),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}}},{key:"_toggleClasses",value:function(e,t,n){var r=e.classList;WD(t).forEach(function(e){e&&(n?r.add(e):r.remove(e))})}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.pipe(JA(le(e._attachments,e._detachments))).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}]),e}(),PF=/([A-Za-z%]+)$/,LF=function(){function e(t,n,r,i,a){v(this,e),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V,this._resizeSubscription=R.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}return g(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){var t=this;this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,n,r=this._originRect,i=this._overlayRect,a=this._viewportRect,o=[],s=t(this._preferredPositions);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=this._getOriginPoint(r,c),u=this._getOverlayPoint(l,i,c),h=this._getOverlayFit(u,i,a,c);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,l);this._canFitWithFlexibleDimensions(h,u,a)?o.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)}):(!e||e.overlayFit.visibleArea<h.visibleArea)&&(e={overlayFit:h,overlayPoint:u,originPoint:l,position:c,overlayRect:i})}}catch(y){s.e(y)}finally{s.f()}if(o.length){var f,d=null,p=-1,v=t(o);try{for(v.s();!(f=v.n()).done;){var m=f.value,g=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);g>p&&(p=g,d=m)}}catch(y){v.e(y)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&FF(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}},{key:"_getOverlayFit",value:function(e,t,n,r){var i=zF(t),a=e.x,o=e.y,s=this._getOffset(r,"x"),c=this._getOffset(r,"y");s&&(a+=s),c&&(o+=c);var l=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-a,a+i.width-n.width),f=this._subtractOverflows(i.height,l,u),d=h*f;return{visibleArea:d,isCompletelyWithinViewport:i.width*i.height===d,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:h==i.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var r=n.bottom-t.y,i=n.right-t.x,a=NF(this._overlayRef.getConfig().minHeight),o=NF(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=a&&a<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var r,i,a=zF(t),o=this._viewportRect,s=Math.max(e.x+a.width-o.width,0),c=Math.max(e.y+a.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),u=Math.max(o.left-n.left-e.x,0);return r=a.width<=o.width?u||-s:e.x<this._viewportMargin?o.left-n.left-e.x:0,i=a.height<=o.height?l||-c:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:r,y:i},{x:e.x+r,y:e.y+i}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new RF(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(t," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,r,i,a,o,s,c=this._viewportRect,l=this._isRtl();if("top"===t.overlayY)r=e.y,n=c.height-r+this._viewportMargin;else if("bottom"===t.overlayY)i=c.height-e.y+2*this._viewportMargin,n=c.height-i+this._viewportMargin;else{var u=Math.min(c.bottom-e.y+c.top,e.y),h=this._lastBoundingBoxSize.height;n=2*u,r=e.y-u,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-h/2)}if("end"===t.overlayX&&!l||"start"===t.overlayX&&l)s=c.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!l||"end"===t.overlayX&&l)o=e.x,a=c.right-e.x;else{var f=Math.min(c.right-e.x+c.left,e.x),d=this._lastBoundingBoxSize.width;a=2*f,o=e.x-f,a>d&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.x-d/2)}return{top:r,left:o,bottom:i,right:s,width:a,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=YD(n.height),r.top=YD(n.top),r.bottom=YD(n.bottom),r.width=YD(n.width),r.left=YD(n.left),r.right=YD(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=YD(i)),a&&(r.maxWidth=YD(a))}this._lastBoundingBoxSize=n,FF(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){FF(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){FF(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){var o=this._viewportRuler.getViewportScrollPosition();FF(n,this._getExactOverlayY(t,e,o)),FF(n,this._getExactOverlayX(t,e,o))}else n.position="static";var s="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(s+="translateX(".concat(c,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),a.maxHeight&&(r?n.maxHeight=YD(a.maxHeight):i&&(n.maxHeight="")),a.maxWidth&&(r?n.maxWidth=YD(a.maxWidth):i&&(n.maxWidth="")),FF(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=a,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=YD(i.y),r}},{key:"_getExactOverlayX",value:function(e,t,n){var r={left:"",right:""},i=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=YD(i.x),r}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:gF(e,n),isOriginOutsideView:mF(e,n),isOverlayClipped:gF(t,n),isOverlayOutsideView:mF(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return e-Math.max(t,0)},e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&WD(e).forEach(function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){e._pane.classList.remove(t)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof Xh)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}]),e}();function FF(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function NF(t){if("number"!=typeof t&&null!=t){var n=e(t.split(PF),2),r=n[0],i=n[1];return i&&"px"!==i?null:parseFloat(r)}return t||null}function zF(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var jF,BF,VF,UF,HF,$F=function(){function e(t,n,r,i,a,o,s){v(this,e),this._preferredPositions=[],this._positionStrategy=new LF(r,i,a,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n),this.onPositionChange=this._positionStrategy.positionChanges}return g(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,r){var i=new EF(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}}]),e}(),qF=function(){function e(){v(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return g(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,a=n.maxWidth,o=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),GF=((BF=function(){function e(t,n,r,i){v(this,e),this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i}return g(e,[{key:"global",value:function(){return new qF}},{key:"connectedTo",value:function(e,t,n){return new $F(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new LF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}()).\u0275fac=function(e){return new(e||BF)(ti(JL),ti(nv),ti(nM),ti(DF))},BF.\u0275prov=De({factory:function(){return new BF(ti(JL),ti(nv),ti(nM),ti(DF))},token:BF,providedIn:"root"}),BF),WF=0,YF=((jF=function(){function e(t,n,r,i,a,o,s,c,l,u,h){v(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=a,this._injector=o,this._ngZone=s,this._document=c,this._directionality=l,this._location=u,this._outsideClickDispatcher=h}return g(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new CF(e);return i.direction=i.direction||this._directionality.value,new MF(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+WF++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(Hp)),new sF(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}()).\u0275fac=function(e){return new(e||jF)(ti(xF),ti(DF),ti(Gh),ti(GF),ti(TF),ti(Ns),ti(kp),ti(nv),ti(iP),ti(kv),ti(IF))},jF.\u0275prov=De({token:jF,factory:jF.\u0275fac}),jF),ZF=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],XF=new Ar("cdk-connected-overlay-scroll-strategy"),KF=((UF=function e(t){v(this,e),this.elementRef=t}).\u0275fac=function(e){return new(e||UF)(Mc(Xh))},UF.\u0275dir=yt({type:UF,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),UF),QF=((VF=function(){function e(t,n,r,i,a){v(this,e),this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=R.EMPTY,this._attachSubscription=R.EMPTY,this._detachSubscription=R.EMPTY,this._positionSubscription=R.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new _d,this.positionChange=new _d,this.attach=new _d,this.detach=new _d,this.overlayKeydown=new _d,this.overlayOutsideClick=new _d,this._templatePortal=new iF(n,r),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}return g(e,[{key:"offsetX",get:function(){return this._offsetX},set:function(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=qD(e)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(e){this._lockPosition=qD(e)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(e){this._flexibleDimensions=qD(e)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(e){this._growAfterOpen=qD(e)}},{key:"push",get:function(){return this._push},set:function(e){this._push=qD(e)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}},{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var e=this;this.positions&&this.positions.length||(this.positions=ZF);var t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(function(){return e.attach.emit()}),this._detachSubscription=t.detachments().subscribe(function(){return e.detach.emit()}),t.keydownEvents().subscribe(function(t){e.overlayKeydown.next(t),27!==t.keyCode||e.disableClose||BD(t)||(t.preventDefault(),e._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(function(t){e.overlayOutsideClick.next(t)})}},{key:"_buildConfig",value:function(){var e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new CF({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}},{key:"_updatePositionStrategy",value:function(e){var t=this,n=this.positions.map(function(e){return{originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||t.offsetX,offsetY:e.offsetY||t.offsetY,panelClass:e.panelClass||void 0}});return e.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}},{key:"_attachOverlay",value:function(){var e=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(t){e.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new uF(e,t))}}(function(){return e.positionChange.observers.length>0})).subscribe(function(t){e.positionChange.emit(t),0===e.positionChange.observers.length&&e._positionSubscription.unsubscribe()}))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||VF)(Mc(YF),Mc(Tf),Mc(Lf),Mc(XF),Mc(iP,8))},VF.\u0275dir=yt({type:VF,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Dt]}),VF),JF={provide:XF,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},eN=((HF=function e(){v(this,e)}).\u0275fac=function(e){return new(e||HF)},HF.\u0275mod=vt({type:HF}),HF.\u0275inj=Me({providers:[YF,JF],imports:[[aP,lF,tF],tF]}),HF),tN=["underline"],nN=["connectionContainer"],rN=["inputContainer"],iN=["label"];function aN(e,t){1&e&&(Bc(0),Nc(1,"div",14),jc(2,"div",15),jc(3,"div",16),jc(4,"div",17),zc(),Nc(5,"div",18),jc(6,"div",15),jc(7,"div",16),jc(8,"div",17),zc(),Vc())}function oN(e,t){1&e&&(Nc(0,"div",19),tl(1,1),zc())}function sN(e,t){if(1&e&&(Bc(0),tl(1,2),Nc(2,"span"),Bl(3),zc(),Vc()),2&e){var n=Qc(2);wo(3),Vl(n._control.placeholder)}}function cN(e,t){1&e&&tl(0,3,["*ngSwitchCase","true"])}function lN(e,t){1&e&&(Nc(0,"span",23),Bl(1," *"),zc())}function uN(e,t){if(1&e){var n=Hc();Nc(0,"label",20,21),Wc("cdkObserveContent",function(){return an(n),Qc().updateOutlineGap()}),xc(2,sN,4,1,"ng-container",12),xc(3,cN,1,0,"ng-content",12),xc(4,lN,2,0,"span",22),zc()}if(2&e){var r=Qc();xl("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),Lc("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),ac("for",r._control.id)("aria-owns",r._control.id),wo(2),Lc("ngSwitchCase",!1),wo(1),Lc("ngSwitchCase",!0),wo(1),Lc("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function hN(e,t){1&e&&(Nc(0,"div",24),tl(1,4),zc())}function fN(e,t){if(1&e&&(Nc(0,"div",25,26),jc(2,"span",27),zc()),2&e){var n=Qc();wo(2),xl("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function dN(e,t){1&e&&(Nc(0,"div"),tl(1,5),zc()),2&e&&Lc("@transitionMessages",Qc()._subscriptAnimationState)}function pN(e,t){if(1&e&&(Nc(0,"div",31),Bl(1),zc()),2&e){var n=Qc(2);Lc("id",n._hintLabelId),wo(1),Vl(n.hintLabel)}}function vN(e,t){if(1&e&&(Nc(0,"div",28),xc(1,pN,2,2,"div",29),tl(2,6),jc(3,"div",30),tl(4,7),zc()),2&e){var n=Qc();Lc("@transitionMessages",n._subscriptAnimationState),wo(1),Lc("ngIf",n.hintLabel)}}var mN,gN,yN,bN,_N,wN,kN=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],SN=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xN=new Ar("MatError"),CN={transitionMessages:IS("transitionMessages",[PS("enter",MS({opacity:1,transform:"translateY(0%)"})),LS("void => enter",[MS({opacity:0,transform:"translateY(-5px)"}),OS("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},EN=((mN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||mN)},mN.\u0275dir=yt({type:mN}),mN),RN=new Ar("MatHint"),AN=((yN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yN)},yN.\u0275dir=yt({type:yN,selectors:[["mat-label"]]}),yN),TN=((gN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||gN)},gN.\u0275dir=yt({type:gN,selectors:[["mat-placeholder"]]}),gN),IN=new Ar("MatPrefix"),ON=new Ar("MatSuffix"),DN=((bN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||bN)},bN.\u0275dir=yt({type:bN,selectors:[["","matSuffix",""]],features:[Hh([{provide:ON,useExisting:bN}])]}),bN),MN=0,PN=vP(function e(t){v(this,e),this._elementRef=t},"primary"),LN=new Ar("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FN=new Ar("MatFormField"),NN=((wN=function(e){c(r,e);var t=u(r);function r(e,n,i,a,o,s,c,l){var u;return v(this,r),(u=t.call(this,e))._elementRef=e,u._changeDetectorRef=n,u._dir=a,u._defaults=o,u._platform=s,u._ngZone=c,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new V,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+MN++,u._labelId="mat-form-field-label-"+MN++,u.floatLabel=u._getDefaultFloatLabelState(),u._animationsEnabled="NoopAnimations"!==l,u.appearance=o&&o.appearance?o.appearance:"legacy",u._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,u}return g(r,[{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=qD(e)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(t.controlType)),t.stateChanges.pipe(rb(null)).subscribe(function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(JA(this._destroyed)).subscribe(function(){return e._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe(JA(e._destroyed)).subscribe(function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()})}),le(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(rb(null)).subscribe(function(){e._processHints(),e._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(rb(null)).subscribe(function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(JA(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?e._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return e.updateOutlineGap()})}):e.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,LA(this._label.nativeElement,"transitionend").pipe(eb(1)).subscribe(function(){e._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push.apply(e,n(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find(function(e){return"start"===e.align}):null,r=this._hintChildren?this._hintChildren.find(function(e){return"end"===e.align}):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push.apply(e,n(this._errorChildren.map(function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var t=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),a=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var o=r.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(o),c=e.children,l=this._getStartEnd(c[0].getBoundingClientRect()),u=0,h=0;h<c.length;h++)u+=c[h].offsetWidth;t=Math.abs(l-s)-5,n=u>0?.75*u+10:0}for(var f=0;f<i.length;f++)i[f].style.width="".concat(t,"px");for(var d=0;d<a.length;d++)a[d].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}},{key:"_isAttachedToDOM",value:function(){var e=this._elementRef.nativeElement;if(e.getRootNode){var t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}]),r}(PN)).\u0275fac=function(e){return new(e||wN)(Mc(Xh),Mc(Sf),Mc(Xh),Mc(iP,8),Mc(LN,8),Mc(nM),Mc(kp),Mc(QC,8))},wN.\u0275cmp=ut({type:wN,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,EN,1),Pd(n,EN,3),Pd(n,AN,1),Pd(n,AN,3),Pd(n,TN,1),Pd(n,xN,1),Pd(n,RN,1),Pd(n,IN,1),Pd(n,ON,1)),2&e&&(Dd(r=Ld())&&(t._controlNonStatic=r.first),Dd(r=Ld())&&(t._controlStatic=r.first),Dd(r=Ld())&&(t._labelChildNonStatic=r.first),Dd(r=Ld())&&(t._labelChildStatic=r.first),Dd(r=Ld())&&(t._placeholderChild=r.first),Dd(r=Ld())&&(t._errorChildren=r),Dd(r=Ld())&&(t._hintChildren=r),Dd(r=Ld())&&(t._prefixChildren=r),Dd(r=Ld())&&(t._suffixChildren=r))},viewQuery:function(e,t){var n;1&e&&(Md(tN,1),Md(nN,3),Md(rN,1),Md(iN,1)),2&e&&(Dd(n=Ld())&&(t.underlineRef=n.first),Dd(n=Ld())&&(t._connectionContainerRef=n.first),Dd(n=Ld())&&(t._inputContainerRef=n.first),Dd(n=Ld())&&(t._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&xl("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Hh([{provide:FN,useExisting:wN}]),Bs],ngContentSelectors:SN,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(el(kN),Nc(0,"div",0),Nc(1,"div",1,2),Wc("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),xc(3,aN,9,0,"ng-container",3),xc(4,oN,2,0,"div",4),Nc(5,"div",5,6),tl(7),Nc(8,"span",7),xc(9,uN,5,16,"label",8),zc(),zc(),xc(10,hN,2,0,"div",9),zc(),xc(11,fN,3,4,"div",10),Nc(12,"div",11),xc(13,dN,2,1,"div",12),xc(14,vN,5,2,"div",13),zc(),zc()),2&e&&(wo(3),Lc("ngIf","outline"==t.appearance),wo(1),Lc("ngIf",t._prefixChildren.length),wo(5),Lc("ngIf",t._hasFloatingLabel()),wo(1),Lc("ngIf",t._suffixChildren.length),wo(1),Lc("ngIf","outline"!=t.appearance),wo(1),Lc("ngSwitch",t._getDisplayedMessages()),wo(1),Lc("ngSwitchCase","error"),wo(1),Lc("ngSwitchCase","hint"))},directives:[zv,Wv,Yv,pM],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[CN.transitionMessages]},changeDetection:0}),wN),zN=((_N=function e(){v(this,e)}).\u0275fac=function(e){return new(e||_N)},_N.\u0275mod=vt({type:_N}),_N.\u0275inj=Me({imports:[[rm,dP,vM],dP]}),_N),jN=["trigger"],BN=["panel"];function VN(e,t){if(1&e&&(Nc(0,"span",8),Bl(1),zc()),2&e){var n=Qc();wo(1),Vl(n.placeholder)}}function UN(e,t){if(1&e&&(Nc(0,"span",12),Bl(1),zc()),2&e){var n=Qc(2);wo(1),Vl(n.triggerValue)}}function HN(e,t){1&e&&tl(0,0,["*ngSwitchCase","true"])}function $N(e,t){1&e&&(Nc(0,"span",9),xc(1,UN,2,1,"span",10),xc(2,HN,1,0,"ng-content",11),zc()),2&e&&(Lc("ngSwitch",!!Qc().customTrigger),wo(2),Lc("ngSwitchCase",!0))}function qN(e,t){if(1&e){var n=Hc();Nc(0,"div",13),Nc(1,"div",14,15),Wc("@transformPanel.done",function(e){return an(n),Qc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return an(n),Qc()._handleKeydown(e)}),tl(3,1),zc(),zc()}if(2&e){var r=Qc();Lc("@transformPanelWrap",void 0),wo(1),Kl("mat-select-panel ",r._getPanelTheme(),""),Sl("transform-origin",r._transformOrigin)("font-size",r._triggerFontSize,"px"),Lc("ngClass",r.panelClass)("@transformPanel",r.multiple?"showing-multiple":"showing"),ac("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var GN,WN,YN,ZN,XN,KN=[[["mat-select-trigger"]],"*"],QN=["mat-select-trigger","*"],JN={transformPanelWrap:IS("transformPanelWrap",[LS("* => void",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}("@transformPanel",[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:e}}()],{optional:!0}))]),transformPanel:IS("transformPanel",[PS("void",MS({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),PS("showing",MS({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),PS("showing-multiple",MS({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),LS("void => *",OS("120ms cubic-bezier(0, 0, 0.2, 1)")),LS("* => void",OS("100ms 25ms linear",MS({opacity:0})))])},ez=0,tz=new Ar("mat-select-scroll-strategy"),nz=new Ar("MAT_SELECT_CONFIG"),rz={provide:tz,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},iz=function e(t,n){v(this,e),this.source=t,this.value=n},az=mP(gP(pP(yP(function e(t,n,r,i,a){v(this,e),this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=r,this._parentFormGroup=i,this.ngControl=a})))),oz=new Ar("MatSelectTrigger"),sz=((WN=function(e){c(r,e);var t=u(r);function r(e,i,a,o,s,c,l,u,h,d,p,m,g,y){var b,_,w,k;return v(this,r),(b=t.call(this,s,o,l,u,d))._viewportRuler=e,b._changeDetectorRef=i,b._ngZone=a,b._dir=c,b._parentFormField=h,b.ngControl=d,b._liveAnnouncer=g,b._defaultOptions=y,b._panelOpen=!1,b._compareWith=function(e,t){return e===t},b._uid="mat-select-"+ez++,b._triggerAriaLabelledBy=null,b._destroy=new V,b._onChange=function(){},b._onTouched=function(){},b._valueId="mat-select-value-"+ez++,b._panelDoneAnimatingStream=new V,b._overlayPanelClass=(null===(_=b._defaultOptions)||void 0===_?void 0:_.overlayPanelClass)||"",b._focused=!1,b.controlType="mat-select",b._required=!1,b._multiple=!1,b._disableOptionCentering=null!==(k=null===(w=b._defaultOptions)||void 0===w?void 0:w.disableOptionCentering)&&void 0!==k&&k,b.ariaLabel="",b.optionSelectionChanges=Zy(function(){var e=b.options;return e?e.changes.pipe(rb(e),Xy(function(){return le.apply(void 0,n(e.map(function(e){return e.onSelectionChange})))})):b._ngZone.onStable.pipe(eb(1),Xy(function(){return b.optionSelectionChanges}))}),b.openedChange=new _d,b._openedStream=b.openedChange.pipe(sb(function(e){return e}),q(function(){})),b._closedStream=b.openedChange.pipe(sb(function(e){return!e}),q(function(){})),b.selectionChange=new _d,b.valueChange=new _d,b.ngControl&&(b.ngControl.valueAccessor=f(b)),null!=(null==y?void 0:y.typeaheadDebounceInterval)&&(b._typeaheadDebounceInterval=y.typeaheadDebounceInterval),b._scrollStrategyFactory=m,b._scrollStrategy=b._scrollStrategyFactory(),b.tabIndex=parseInt(p)||0,b.id=b.id,b}return g(r,[{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(e){this._required=qD(e),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=qD(e)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(e){this._disableOptionCentering=qD(e)}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(e){this._typeaheadDebounceInterval=GD(e)}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var e=this;this._selectionModel=new XL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(nT(),JA(this._destroy)).subscribe(function(){return e._panelDoneAnimating(e.panelOpen)})}},{key:"ngAfterContentInit",value:function(){var e=this;this._initKeyManager(),this._selectionModel.changed.pipe(JA(this._destroy)).subscribe(function(e){e.added.forEach(function(e){return e.select()}),e.removed.forEach(function(e){return e.deselect()})}),this.options.changes.pipe(rb(null),JA(this._destroy)).subscribe(function(){e._resetOptions(),e._initializeSelection()})}},{key:"ngDoCheck",value:function(){var e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){var t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map(function(e){return e.viewValue});return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}},{key:"_handleClosedKeydown",value:function(e){var t=e.keyCode,n=40===t||38===t||37===t||39===t,r=13===t||32===t,i=this._keyManager;if(!i.isTyping()&&r&&!BD(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){var a=this.selected;i.onKeydown(e);var o=this.selected;o&&a!==o&&this._liveAnnouncer.announce(o.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(e){var t=this._keyManager,n=e.keyCode,r=40===n||38===n,i=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(i||13!==n&&32!==n||!t.activeItem||BD(e))if(!i&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();var a=this.options.some(function(e){return!e.disabled&&!e.selected});this.options.forEach(function(e){e.disabled||(a?e.select():e.deselect())})}else{var o=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==o&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var e=this;this.overlayDir.positionChange.pipe(eb(1)).subscribe(function(){e._changeDetectorRef.detectChanges(),e._positioningSettled()})}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then(function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value),e.stateChanges.next()})}},{key:"_setSelectionByValue",value:function(e){var t=this;if(this._selectionModel.selected.forEach(function(e){return e.setInactiveStyles()}),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(function(e){return t._selectValue(e)}),this._sortValues();else{var n=this._selectValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(e){var t=this,n=this.options.find(function(n){if(t._selectionModel.isSelected(n))return!1;try{return null!=n.value&&t._compareWith(n.value,e)}catch(r){return!1}});return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var e=this;this._keyManager=new EM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(JA(this._destroy)).subscribe(function(){e.panelOpen&&(!e.multiple&&e._keyManager.activeItem&&e._keyManager.activeItem._selectViaInteraction(),e.focus(),e.close())}),this._keyManager.change.pipe(JA(this._destroy)).subscribe(function(){e._panelOpen&&e.panel?e._scrollOptionIntoView(e._keyManager.activeItemIndex||0):e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()})}},{key:"_resetOptions",value:function(){var e=this,t=le(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(JA(t)).subscribe(function(t){e._onSelect(t.source,t.isUserInput),t.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())}),le.apply(void 0,n(this.options.map(function(e){return e._stateChanges}))).pipe(JA(t)).subscribe(function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()})}},{key:"_onSelect",value:function(e,t){var n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;if(this.multiple){var t=this.options.toArray();this._selectionModel.sort(function(n,r){return e.sortComparator?e.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)}),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(e){var t;t=this.multiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_canOpen",value:function(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_getPanelAriaLabelledby",value:function(){var e;if(this.ariaLabel)return null;var t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_getTriggerAriaLabelledby",value:function(){var e;if(this.ariaLabel)return null;var t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId(),n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}},{key:"_panelDoneAnimating",value:function(e){this.openedChange.emit(e)}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}]),r}(az)).\u0275fac=function(e){return new(e||WN)(Mc(JL),Mc(Sf),Mc(kp),Mc(HP),Mc(Xh),Mc(iP,8),Mc(iA,8),Mc(pA,8),Mc(FN,8),Mc(xR,10),_r("tabindex"),Mc(tz),Mc(BM),Mc(nz,8))},WN.\u0275dir=yt({type:WN,viewQuery:function(e,t){var n;1&e&&(Md(jN,1),Md(BN,1),Md(QF,1)),2&e&&(Dd(n=Ld())&&(t.trigger=n.first),Dd(n=Ld())&&(t.panel=n.first),Dd(n=Ld())&&(t.overlayDir=n.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Bs,Dt]}),WN),cz=((GN=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._scrollTop=0,e._triggerFontSize=0,e._transformOrigin="top",e._offsetY=0,e._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],e}return g(n,[{key:"_calculateOverlayScroll",value:function(e,t,n){var r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),n)}},{key:"ngOnInit",value:function(){var e=this;s(p(n.prototype),"ngOnInit",this).call(this),this._viewportRuler.change().pipe(JA(this._destroy)).subscribe(function(){e.panelOpen&&(e._triggerRect=e.trigger.nativeElement.getBoundingClientRect(),e._changeDetectorRef.markForCheck())})}},{key:"open",value:function(){var e=this;s(p(n.prototype),"_canOpen",this).call(this)&&(s(p(n.prototype),"open",this).call(this),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(eb(1)).subscribe(function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(e._triggerFontSize,"px"))}))}},{key:"_scrollOptionIntoView",value:function(e){var t,n,r,i=uL(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=(n=a,(t=(e+i)*a)<(r=this.panel.nativeElement.scrollTop)?t:t+n>r+256?Math.max(0,t-256+n):r)}},{key:"_positioningSettled",value:function(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}},{key:"_panelDoneAnimating",value:function(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),s(p(n.prototype),"_panelDoneAnimating",this).call(this,e)}},{key:"_getChangeEvent",value:function(e){return new iz(this,e)}},{key:"_calculateOverlayOffsetX",value:function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),i=this.multiple?56:32;if(this.multiple)e=40;else if(this.disableOptionCentering)e=16;else{var a=this._selectionModel.selected[0]||this.options.first;e=a&&a.group?32:16}r||(e*=-1);var o=0-(t.left+e-(r?i:0)),s=t.right+e-n.width+(r?0:i);o>0?e+=o+8:s>0&&(e-=s+8),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(e,t,n){var r,i=this._getItemHeight(),a=(i-this._triggerRect.height)/2,o=Math.floor(256/i);return this.disableOptionCentering?0:(r=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):t-i/2,Math.round(-1*r-a))}},{key:"_checkOverlayWithinViewport",value:function(e){var t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,256)-a-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):a>r?this._adjustPanelDown(a,r,e):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(e,t){var n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(e,t,n){var r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_calculateOverlayPosition",value:function(){var e,t=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*t,256),i=n*t-r;e=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),e+=uL(e,this.options,this.optionGroups);var a=r/2;this._scrollTop=this._calculateOverlayScroll(e,a,i),this._offsetY=this._calculateOverlayOffsetY(e,a,i),this._checkOverlayWithinViewport(i)}},{key:"_getOriginBasedOnOption",value:function(){var e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-t+e/2,"px 0px")}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}}]),n}(sz)).\u0275fac=function(e){return lz(e||GN)},GN.\u0275cmp=ut({type:GN,selectors:[["mat-select"]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,oz,1),Pd(n,lL,1),Pd(n,aL,1)),2&e&&(Dd(r=Ld())&&(t.customTrigger=r.first),Dd(r=Ld())&&(t.options=r),Dd(r=Ld())&&(t.optionGroups=r))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&Wc("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(ac("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),xl("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Hh([{provide:EN,useExisting:GN},{provide:tL,useExisting:GN}]),Bs],ngContentSelectors:QN,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(el(KN),Nc(0,"div",0,1),Wc("click",function(){return t.toggle()}),Nc(3,"div",2),xc(4,VN,2,1,"span",3),xc(5,$N,3,2,"span",4),zc(),Nc(6,"div",5),jc(7,"div",6),zc(),zc(),xc(8,qN,4,14,"ng-template",7),Wc("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){var n=Cc(1);ac("aria-owns",t.panelOpen?t.id+"-panel":null),wo(3),Lc("ngSwitch",t.empty),ac("id",t._valueId),wo(1),Lc("ngSwitchCase",!0),wo(1),Lc("ngSwitchCase",!1),wo(3),Lc("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[KF,Wv,Yv,QF,Zv,Pv],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[JN.transformPanelWrap,JN.transformPanel]},changeDetection:0}),GN),lz=yr(cz),uz=((YN=function e(){v(this,e)}).\u0275fac=function(e){return new(e||YN)},YN.\u0275mod=vt({type:YN}),YN.\u0275inj=Me({providers:[rz],imports:[[rm,eN,pL,dP],eF,zN,pL,dP]}),YN),hz=new Set,fz=((XN=function(){function e(t){v(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dz}return g(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!hz.has(e))try{ZN||((ZN=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(ZN)),ZN.sheet&&(ZN.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),hz.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}]),e}()).\u0275fac=function(e){return new(e||XN)(ti(nM))},XN.\u0275prov=De({factory:function(){return new XN(ti(nM))},token:XN,providedIn:"root"}),XN);function dz(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var pz,vz=((pz=function(){function e(t,n){v(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new V}return g(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return mz(WD(e)).some(function(e){return t._registerQuery(e).mql.matches})}},{key:"observe",value:function(e){var t=this,n=Uy(mz(WD(e)).map(function(e){return t._registerQuery(e).observable}));return(n=Gy(n.pipe(eb(1)),n.pipe(function(e){return e.lift(new mT(1))},VD(0)))).pipe(q(function(e){var t={matches:!1,breakpoints:{}};return e.forEach(function(e){var n=e.matches,r=e.query;t.matches=t.matches||n,t.breakpoints[r]=n}),t}))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),r={observable:new L(function(e){var r=function(n){return t._zone.run(function(){return e.next(n)})};return n.addListener(r),function(){n.removeListener(r)}}).pipe(rb(n),q(function(t){var n=t.matches;return{query:e,matches:n}}),JA(this._destroySubject)),mql:n};return this._queries.set(e,r),r}}]),e}()).\u0275fac=function(e){return new(e||pz)(ti(fz),ti(kp))},pz.\u0275prov=De({factory:function(){return new pz(ti(fz),ti(kp))},token:pz,providedIn:"root"}),pz);function mz(e){return e.map(function(e){return e.split(",")}).reduce(function(e,t){return e.concat(t)}).map(function(e){return e.trim()})}var gz,yz,bz,_z,wz={tooltipState:IS("state",[PS("initial, void, hidden",MS({opacity:0,transform:"scale(0)"})),PS("visible",MS({transform:"scale(1)"})),LS("* => visible",OS("200ms cubic-bezier(0, 0, 0.2, 1)",(gz=[MS({opacity:0,transform:"scale(0)",offset:0}),MS({opacity:.5,transform:"scale(0.99)",offset:.5}),MS({opacity:1,transform:"scale(1)",offset:1})],{type:5,steps:gz}))),LS("* => hidden",OS("100ms cubic-bezier(0, 0, 0.2, 1)",MS({opacity:0})))])},kz=oM({passive:!0}),Sz=new Ar("mat-tooltip-scroll-strategy"),xz={provide:Sz,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}},Cz=new Ar("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Ez=((_z=function(){function t(e,n,r,i,a,o,s,c,l,u,h,f){var d=this;v(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=i,this._ngZone=a,this._platform=o,this._ariaDescriber=s,this._focusMonitor=c,this._dir=u,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new V,this._handleKeydown=function(e){d._isTooltipVisible()&&27===e.keyCode&&!BD(e)&&(e.preventDefault(),e.stopPropagation(),d._ngZone.run(function(){return d.hide(0)}))},this._scrollStrategy=l,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),a.runOutsideAngular(function(){n.nativeElement.addEventListener("keydown",d._handleKeydown)})}return g(t,[{key:"position",get:function(){return this._position},set:function(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=qD(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}},{key:"message",get:function(){return this._message},set:function(e){var t=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(function(){Promise.resolve().then(function(){t._ariaDescriber.describe(t._elementRef.nativeElement,t.message,"tooltip")})}))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}},{key:"ngAfterViewInit",value:function(){var e=this;this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(JA(this._destroyed)).subscribe(function(t){t?"keyboard"===t&&e._ngZone.run(function(){return e.show()}):e._ngZone.run(function(){return e.hide(0)})})}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(function(n){var r=e(n,2),i=r[0],a=r[1];t.removeEventListener(i,a,kz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new rF(Rz,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(JA(this._destroyed)).subscribe(function(){return e._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(e)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var e=this;if(this._overlayRef)return this._overlayRef;var t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return n.positionChanges.pipe(JA(this._destroyed)).subscribe(function(t){e._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&e._tooltipInstance.isVisible()&&e._ngZone.run(function(){return e.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(JA(this._destroyed)).subscribe(function(){return e._detach()}),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n||"below"==n?e={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?e={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(e={originX:"end",originY:"center"});var r=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:r.x,originY:r.y}}}},{key:"_getOverlayPosition",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n?e={overlayX:"center",overlayY:"bottom"}:"below"==n?e={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?e={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(e={overlayX:"start",overlayY:"center"});var r=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:r.x,overlayY:r.y}}}},{key:"_updateTooltipMessage",value:function(){var e=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(eb(1),JA(this._destroyed)).subscribe(function(){e._tooltipInstance&&e._overlayRef.updatePosition()}))}},{key:"_setTooltipClass",value:function(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}},{key:"_setupPointerEnterEventsIfNeeded",value:function(){var e=this;!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",function(){e._setupPointerExitEventsIfNeeded(),e.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",function(){e._setupPointerExitEventsIfNeeded(),clearTimeout(e._touchstartTimeout),e._touchstartTimeout=setTimeout(function(){return e.show()},500)}])),this._addListeners(this._passiveListeners))}},{key:"_setupPointerExitEventsIfNeeded",value:function(){var e,t=this;if(!this._pointerExitEventsInitialized){this._pointerExitEventsInitialized=!0;var n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",function(){return t.hide()}],["wheel",function(e){return t._wheelListener(e)}]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var r=function(){clearTimeout(t._touchstartTimeout),t.hide(t._defaultOptions.touchendHideDelay)};n.push(["touchend",r],["touchcancel",r])}this._addListeners(n),(e=this._passiveListeners).push.apply(e,n)}}},{key:"_addListeners",value:function(t){var n=this;t.forEach(function(t){var r=e(t,2),i=r[0],a=r[1];n._elementRef.nativeElement.addEventListener(i,a,kz)})}},{key:"_platformSupportsMouseEvents",value:function(){return!this._platform.IOS&&!this._platform.ANDROID}},{key:"_wheelListener",value:function(e){if(this._isTooltipVisible()){var t=(this._document||document).elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t===n||n.contains(t)||this.hide()}}},{key:"_disableNativeGesturesIfNecessary",value:function(){var e=this.touchGestures;if("off"!==e){var t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}]),t}()).\u0275fac=function(e){return new(e||_z)(Mc(YF),Mc(Xh),Mc(QL),Mc(Lf),Mc(kp),Mc(nM),Mc(wM),Mc(WM),Mc(Sz),Mc(iP,8),Mc(Cz,8),Mc(nv))},_z.\u0275dir=yt({type:_z,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),_z),Rz=((bz=function(){function e(t,n){v(this,e),this._changeDetectorRef=t,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new V,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}return g(e,[{key:"show",value:function(e){var t=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){t._visibility="visible",t._showTimeoutId=null,t._markForCheck()},e)}},{key:"hide",value:function(e){var t=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(function(){t._visibility="hidden",t._hideTimeoutId=null,t._markForCheck()},e)}},{key:"afterHidden",value:function(){return this._onHide}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(e){var t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||bz)(Mc(Sf),Mc(vz))},bz.\u0275cmp=ut({type:bz,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&Wc("click",function(){return t._handleBodyInteraction()},!1,Sa)("auxclick",function(){return t._handleBodyInteraction()},!1,Sa),2&e&&Sl("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){var n;(1&e&&(Nc(0,"div",0),Wc("@state.start",function(){return t._animationStart()})("@state.done",function(e){return t._animationDone(e)}),hd(1,"async"),Bl(2),zc()),2&e)&&(xl("mat-tooltip-handset",null==(n=fd(1,5,t._isHandset))?null:n.matches),Lc("ngClass",t.tooltipClass)("@state",t._visibility),wo(2),Vl(t.message))},directives:[Pv],pipes:[Jv],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[wz.tooltipState]},changeDetection:0}),bz),Az=((yz=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yz)},yz.\u0275mod=vt({type:yz}),yz.\u0275inj=Me({providers:[xz],imports:[[nP,rm,eN,dP],dP,eF]}),yz);function Tz(e,t){if(1&e&&(Nc(0,"mat-option",19),Bl(1),zc()),2&e){var n=t.$implicit;Lc("value",n),wo(1),Ul(" ",n," ")}}function Iz(e,t){if(1&e){var n=Hc();Nc(0,"mat-form-field",16),Nc(1,"mat-select",17),Wc("selectionChange",function(e){return an(n),Qc(2)._changePageSize(e.value)}),xc(2,Tz,2,2,"mat-option",18),zc(),zc()}if(2&e){var r=Qc(2);Lc("appearance",r._formFieldAppearance)("color",r.color),wo(1),Lc("value",r.pageSize)("disabled",r.disabled)("aria-label",r._intl.itemsPerPageLabel),wo(1),Lc("ngForOf",r._displayedPageSizeOptions)}}function Oz(e,t){if(1&e&&(Nc(0,"div",20),Bl(1),zc()),2&e){var n=Qc(2);wo(1),Vl(n.pageSize)}}function Dz(e,t){if(1&e&&(Nc(0,"div",12),Nc(1,"div",13),Bl(2),zc(),xc(3,Iz,3,6,"mat-form-field",14),xc(4,Oz,2,1,"div",15),zc()),2&e){var n=Qc();wo(2),Ul(" ",n._intl.itemsPerPageLabel," "),wo(1),Lc("ngIf",n._displayedPageSizeOptions.length>1),wo(1),Lc("ngIf",n._displayedPageSizeOptions.length<=1)}}function Mz(e,t){if(1&e){var n=Hc();Nc(0,"button",21),Wc("click",function(){return an(n),Qc().firstPage()}),Ln(),Nc(1,"svg",7),jc(2,"path",22),zc(),zc()}if(2&e){var r=Qc();Lc("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),ac("aria-label",r._intl.firstPageLabel)}}function Pz(e,t){if(1&e){var n=Hc();Ln(),Nn(),Nc(0,"button",23),Wc("click",function(){return an(n),Qc().lastPage()}),Ln(),Nc(1,"svg",7),jc(2,"path",24),zc(),zc()}if(2&e){var r=Qc();Lc("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),ac("aria-label",r._intl.lastPageLabel)}}var Lz,Fz,Nz,zz,jz=((Lz=function e(){v(this,e),this.changes=new V,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(e,t,n){if(0==n||0==t)return"0 of ".concat(n);var r=e*t;return"".concat(r+1," \u2013 ").concat(r<(n=Math.max(n,0))?Math.min(r+t,n):r+t," of ").concat(n)}}).\u0275fac=function(e){return new(e||Lz)},Lz.\u0275prov=De({factory:function(){return new Lz},token:Lz,providedIn:"root"}),Lz),Bz={provide:jz,deps:[[new li,new hi,jz]],useFactory:function(e){return e||new jz}},Vz=new Ar("MAT_PAGINATOR_DEFAULT_OPTIONS"),Uz=pP(function(e){c(n,e);var t=u(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._isInitialized=!1,e._pendingSubscribers=[],e.initialized=new L(function(t){e._isInitialized?e._notifySubscriber(t):e._pendingSubscribers.push(t)}),e}return g(n,[{key:"_markInitialized",value:function(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}},{key:"_notifySubscriber",value:function(e){e.next(),e.complete()}}]),n}(function e(){v(this,e)})),Hz=((zz=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;if(v(this,n),(a=t.call(this))._intl=e,a._changeDetectorRef=r,a._pageIndex=0,a._length=0,a._pageSizeOptions=[],a._hidePageSize=!1,a._showFirstLastButtons=!1,a.page=new _d,a._intlChanges=e.changes.subscribe(function(){return a._changeDetectorRef.markForCheck()}),i){var o=i.pageSize,s=i.pageSizeOptions,c=i.hidePageSize,l=i.showFirstLastButtons;null!=o&&(a._pageSize=o),null!=s&&(a._pageSizeOptions=s),null!=c&&(a._hidePageSize=c),null!=l&&(a._showFirstLastButtons=l)}return h(a)}return g(n,[{key:"pageIndex",get:function(){return this._pageIndex},set:function(e){this._pageIndex=Math.max(GD(e),0),this._changeDetectorRef.markForCheck()}},{key:"length",get:function(){return this._length},set:function(e){this._length=GD(e),this._changeDetectorRef.markForCheck()}},{key:"pageSize",get:function(){return this._pageSize},set:function(e){this._pageSize=Math.max(GD(e),0),this._updateDisplayedPageSizeOptions()}},{key:"pageSizeOptions",get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map(function(e){return GD(e)}),this._updateDisplayedPageSizeOptions()}},{key:"hidePageSize",get:function(){return this._hidePageSize},set:function(e){this._hidePageSize=qD(e)}},{key:"showFirstLastButtons",get:function(){return this._showFirstLastButtons},set:function(e){this._showFirstLastButtons=qD(e)}},{key:"ngOnInit",value:function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe()}},{key:"nextPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}}},{key:"previousPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}}},{key:"firstPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}}},{key:"lastPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}}},{key:"hasPreviousPage",value:function(){return this.pageIndex>=1&&0!=this.pageSize}},{key:"hasNextPage",value:function(){var e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}},{key:"getNumberOfPages",value:function(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}},{key:"_changePageSize",value:function(e){var t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(t)}},{key:"_nextButtonsDisabled",value:function(){return this.disabled||!this.hasNextPage()}},{key:"_previousButtonsDisabled",value:function(){return this.disabled||!this.hasPreviousPage()}},{key:"_updateDisplayedPageSizeOptions",value:function(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(function(e,t){return e-t}),this._changeDetectorRef.markForCheck())}},{key:"_emitPageEvent",value:function(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}]),n}(Uz)).\u0275fac=function(e){return new(e||zz)(Mc(jz),Mc(Sf),Mc(void 0))},zz.\u0275dir=yt({type:zz,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[Bs]}),zz),$z=((Nz=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),a=t.call(this,e,r,i),i&&null!=i.formFieldAppearance&&(a._formFieldAppearance=i.formFieldAppearance),a}return n}(Hz)).\u0275fac=function(e){return new(e||Nz)(Mc(jz),Mc(Sf),Mc(Vz,8))},Nz.\u0275cmp=ut({type:Nz,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Bs],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"div",1),xc(2,Dz,5,3,"div",2),Nc(3,"div",3),Nc(4,"div",4),Bl(5),zc(),xc(6,Mz,3,5,"button",5),Nc(7,"button",6),Wc("click",function(){return t.previousPage()}),Ln(),Nc(8,"svg",7),jc(9,"path",8),zc(),zc(),Nn(),Nc(10,"button",9),Wc("click",function(){return t.nextPage()}),Ln(),Nc(11,"svg",7),jc(12,"path",10),zc(),zc(),xc(13,Pz,3,5,"button",11),zc(),zc(),zc()),2&e&&(wo(2),Lc("ngIf",!t.hidePageSize),wo(3),Ul(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),wo(1),Lc("ngIf",t.showFirstLastButtons),wo(1),Lc("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),ac("aria-label",t._intl.previousPageLabel),wo(3),Lc("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),ac("aria-label",t._intl.nextPageLabel),wo(3),Lc("ngIf",t.showFirstLastButtons))},directives:[zv,bL,Ez,NN,cz,Fv,lL],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),Nz),qz=((Fz=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Fz)},Fz.\u0275mod=vt({type:Fz}),Fz.\u0275inj=Me({providers:[Bz],imports:[[rm,_L,uz,Az,dP]]}),Fz),Gz=[[["caption"]],[["colgroup"],["col"]]],Wz=["caption","colgroup, col"];function Yz(e){return function(e){c(n,e);var t=u(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._sticky=!1,e._hasStickyChanged=!1,e}return g(n,[{key:"sticky",get:function(){return this._sticky},set:function(e){var t=this._sticky;this._sticky=qD(e),this._hasStickyChanged=t!==this._sticky}},{key:"hasStickyChanged",value:function(){var e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}}]),n}(e)}var Zz,Xz,Kz,Qz,Jz,ej,tj,nj,rj,ij,aj,oj,sj,cj,lj,uj,hj,fj,dj,pj,vj=new Ar("CDK_TABLE"),mj=((Kz=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||Kz)(Mc(Tf))},Kz.\u0275dir=yt({type:Kz,selectors:[["","cdkCellDef",""]]}),Kz),gj=((Xz=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||Xz)(Mc(Tf))},Xz.\u0275dir=yt({type:Xz,selectors:[["","cdkHeaderCellDef",""]]}),Xz),yj=((Zz=function e(t){v(this,e),this.template=t}).\u0275fac=function(e){return new(e||Zz)(Mc(Tf))},Zz.\u0275dir=yt({type:Zz,selectors:[["","cdkFooterCellDef",""]]}),Zz),bj=Yz(function e(){v(this,e)}),_j=((Qz=function(e){c(n,e);var t=u(n);function n(e){var r;return v(this,n),(r=t.call(this))._table=e,r._stickyEnd=!1,r}return g(n,[{key:"name",get:function(){return this._name},set:function(e){this._setNameInput(e)}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(e){var t=this._stickyEnd;this._stickyEnd=qD(e),this._hasStickyChanged=t!==this._stickyEnd}},{key:"_updateColumnCssClassName",value:function(){this._columnCssClassName=["cdk-column-".concat(this.cssClassFriendlyName)]}},{key:"_setNameInput",value:function(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}]),n}(bj)).\u0275fac=function(e){return new(e||Qz)(Mc(vj,8))},Qz.\u0275dir=yt({type:Qz,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,mj,1),Pd(n,gj,1),Pd(n,yj,1)),2&e&&(Dd(r=Ld())&&(t.cell=r.first),Dd(r=Ld())&&(t.headerCell=r.first),Dd(r=Ld())&&(t.footerCell=r.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Hh([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Qz}]),Bs]}),Qz),wj=function e(n,r){v(this,e);var i,a=r.nativeElement.classList,o=t(n._columnCssClassName);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.add(s)}}catch(c){o.e(c)}finally{o.f()}},kj=((ej=function(e){c(n,e);var t=u(n);function n(e,r){return v(this,n),t.call(this,e,r)}return n}(wj)).\u0275fac=function(e){return new(e||ej)(Mc(_j),Mc(Xh))},ej.\u0275dir=yt({type:ej,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Bs]}),ej),Sj=((Jz=function(e){c(n,e);var t=u(n);function n(e,r){return v(this,n),t.call(this,e,r)}return n}(wj)).\u0275fac=function(e){return new(e||Jz)(Mc(_j),Mc(Xh))},Jz.\u0275dir=yt({type:Jz,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[Bs]}),Jz),xj=function e(){v(this,e),this.tasks=[],this.endTasks=[]},Cj=new Ar("_COALESCED_STYLE_SCHEDULER"),Ej=((nj=function(){function e(t){v(this,e),this._ngZone=t,this._currentSchedule=null,this._destroyed=new V}return g(e,[{key:"schedule",value:function(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}},{key:"scheduleEnd",value:function(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_createScheduleIfNeeded",value:function(){var e=this;this._currentSchedule||(this._currentSchedule=new xj,this._getScheduleObservable().pipe(JA(this._destroyed)).subscribe(function(){for(;e._currentSchedule.tasks.length||e._currentSchedule.endTasks.length;){var n=e._currentSchedule;e._currentSchedule=new xj;var r,i=t(n.tasks);try{for(i.s();!(r=i.n()).done;)(0,r.value)()}catch(s){i.e(s)}finally{i.f()}var a,o=t(n.endTasks);try{for(o.s();!(a=o.n()).done;)(0,a.value)()}catch(s){o.e(s)}finally{o.f()}}e._currentSchedule=null}))}},{key:"_getScheduleObservable",value:function(){return this._ngZone.isStable?ee(Promise.resolve(void 0)):this._ngZone.onStable.pipe(eb(1))}}]),e}()).\u0275fac=function(e){return new(e||nj)(ti(kp))},nj.\u0275prov=De({token:nj,factory:nj.\u0275fac}),nj),Rj=((tj=function(){function e(t,n){v(this,e),this.template=t,this._differs=n}return g(e,[{key:"ngOnChanges",value:function(e){if(!this._columnsDiffer){var t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(e){return this instanceof Tj?e.headerCell.template:this instanceof Oj?e.footerCell.template:e.cell.template}}]),e}()).\u0275fac=function(e){return new(e||tj)(Mc(Tf),Mc(mf))},tj.\u0275dir=yt({type:tj,features:[Dt]}),tj),Aj=Yz(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Rj)),Tj=((rj=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r))._table=i,a}return g(n,[{key:"ngOnChanges",value:function(e){s(p(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(Aj)).\u0275fac=function(e){return new(e||rj)(Mc(Tf),Mc(mf),Mc(vj,8))},rj.\u0275dir=yt({type:rj,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Bs,Dt]}),rj),Ij=Yz(function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Rj)),Oj=((lj=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r))._table=i,a}return g(n,[{key:"ngOnChanges",value:function(e){s(p(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(Ij)).\u0275fac=function(e){return new(e||lj)(Mc(Tf),Mc(mf),Mc(vj,8))},lj.\u0275dir=yt({type:lj,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Bs,Dt]}),lj),Dj=((cj=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r))._table=i,a}return n}(Rj)).\u0275fac=function(e){return new(e||cj)(Mc(Tf),Mc(mf),Mc(vj,8))},cj.\u0275dir=yt({type:cj,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Bs]}),cj),Mj=((sj=function(){function e(t){v(this,e),this._viewContainer=t,e.mostRecentCellOutlet=this}return g(e,[{key:"ngOnDestroy",value:function(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}]),e}()).\u0275fac=function(e){return new(e||sj)(Mc(Lf))},sj.\u0275dir=yt({type:sj,selectors:[["","cdkCellOutlet",""]]}),sj.mostRecentCellOutlet=null,sj),Pj=((oj=function e(){v(this,e)}).\u0275fac=function(e){return new(e||oj)},oj.\u0275cmp=ut({type:oj,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Uc(0,0)},directives:[Mj],encapsulation:2}),oj),Lj=((aj=function e(){v(this,e)}).\u0275fac=function(e){return new(e||aj)},aj.\u0275cmp=ut({type:aj,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Uc(0,0)},directives:[Mj],encapsulation:2}),aj),Fj=((ij=function e(t){v(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||ij)(Mc(Tf))},ij.\u0275dir=yt({type:ij,selectors:[["ng-template","cdkNoDataRow",""]]}),ij),Nj=["top","bottom","left","right"],zj=function(){function e(t,n,r,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0;v(this,e),this._isNativeHtmlTable=t,this._stickCellCss=n,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:"".concat(n,"-border-elem-top"),bottom:"".concat(n,"-border-elem-bottom"),left:"".concat(n,"-border-elem-left"),right:"".concat(n,"-border-elem-right")}}return g(e,[{key:"clearStickyPositioning",value:function(e,n){var r,i=this,a=[],o=t(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.nodeType===s.ELEMENT_NODE){a.push(s);for(var c=0;c<s.children.length;c++)a.push(s.children[c])}}}catch(l){o.e(l)}finally{o.f()}this._scheduleStyleChanges(function(){var e,r=t(a);try{for(r.s();!(e=r.n()).done;){var o=e.value;i._removeStickyStyle(o,n)}}catch(l){r.e(l)}finally{r.f()}})}},{key:"updateStickyColumns",value:function(e,n,r){var i=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length&&this._isBrowser&&(n.some(function(e){return e})||r.some(function(e){return e}))){var o=e[0],s=o.children.length,c=this._getCellWidths(o,a),l=this._getStickyStartColumnPositions(c,n),u=this._getStickyEndColumnPositions(c,r),h=n.lastIndexOf(!0),f=r.indexOf(!0);this._scheduleStyleChanges(function(){var a,o="rtl"===i.direction,d=o?"right":"left",p=o?"left":"right",v=t(e);try{for(v.s();!(a=v.n()).done;)for(var m=a.value,g=0;g<s;g++){var y=m.children[g];n[g]&&i._addStickyStyle(y,d,l[g],g===h),r[g]&&i._addStickyStyle(y,p,u[g],g===f)}}catch(b){v.e(b)}finally{v.f()}i._positionListener&&(i._positionListener.stickyColumnsUpdated({sizes:-1===h?[]:c.slice(0,h+1).map(function(e,t){return n[t]?e:null})}),i._positionListener.stickyEndColumnsUpdated({sizes:-1===f?[]:c.slice(f).map(function(e,t){return r[t+f]?e:null}).reverse()}))})}else this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}},{key:"stickRows",value:function(e,n,r){var i=this;if(this._isBrowser){for(var a="bottom"===r?e.slice().reverse():e,o="bottom"===r?n.slice().reverse():n,s=[],c=[],l=[],u=0,h=0;u<a.length;u++)if(s[u]=h,o[u]){var f=a[u];l[u]=this._isNativeHtmlTable?Array.from(f.children):[f];var d=f.getBoundingClientRect().height;h+=d,c[u]=d}var p=o.lastIndexOf(!0);this._scheduleStyleChanges(function(){for(var e,n,u=0;u<a.length;u++)if(o[u]){var h,f=s[u],d=u===p,v=t(l[u]);try{for(v.s();!(h=v.n()).done;){var m=h.value;i._addStickyStyle(m,r,f,d)}}catch(g){v.e(g)}finally{v.f()}}"top"===r?null===(e=i._positionListener)||void 0===e||e.stickyHeaderRowsUpdated({sizes:c,elements:l}):null===(n=i._positionListener)||void 0===n||n.stickyFooterRowsUpdated({sizes:c,elements:l})})}}},{key:"updateStickyFooterContainer",value:function(e,t){var n=this;if(this._isNativeHtmlTable){var r=e.querySelector("tfoot");this._scheduleStyleChanges(function(){t.some(function(e){return!e})?n._removeStickyStyle(r,["bottom"]):n._addStickyStyle(r,"bottom",0,!1)})}}},{key:"_removeStickyStyle",value:function(e,n){var r,i=t(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.style[a]="",e.classList.remove(this._borderCellCss[a])}}catch(o){i.e(o)}finally{i.f()}Nj.some(function(t){return-1===n.indexOf(t)&&e.style[t]})?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(e,t,n,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]="".concat(n,"px"),e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}},{key:"_getCalculatedZIndex",value:function(e){var n,r={top:100,bottom:10,left:1,right:1},i=0,a=t(Nj);try{for(a.s();!(n=a.n()).done;){var o=n.value;e.style[o]&&(i+=r[o])}}catch(s){a.e(s)}finally{a.f()}return i?"".concat(i):""}},{key:"_getCellWidths",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;for(var n=[],r=e.children,i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}},{key:"_getStickyStartColumnPositions",value:function(e,t){for(var n=[],r=0,i=0;i<e.length;i++)t[i]&&(n[i]=r,r+=e[i]);return n}},{key:"_getStickyEndColumnPositions",value:function(e,t){for(var n=[],r=0,i=e.length;i>0;i--)t[i]&&(n[i]=r,r+=e[i]);return n}},{key:"_scheduleStyleChanges",value:function(e){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(e):e()}}]),e}(),jj=new Ar("CDK_SPL"),Bj=((pj=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||pj)(Mc(Lf),Mc(Xh))},pj.\u0275dir=yt({type:pj,selectors:[["","rowOutlet",""]]}),pj),Vj=((dj=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||dj)(Mc(Lf),Mc(Xh))},dj.\u0275dir=yt({type:dj,selectors:[["","headerRowOutlet",""]]}),dj),Uj=((fj=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||fj)(Mc(Lf),Mc(Xh))},fj.\u0275dir=yt({type:fj,selectors:[["","footerRowOutlet",""]]}),fj),Hj=((hj=function e(t,n){v(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||hj)(Mc(Lf),Mc(Xh))},hj.\u0275dir=yt({type:hj,selectors:[["","noDataRowOutlet",""]]}),hj),$j=((uj=function(){function e(t,n,r,i,a,o,s,c,l,u,h){v(this,e),this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=a,this._platform=s,this._viewRepeater=c,this._coalescedStyleScheduler=l,this._stickyPositioningListener=u,this._viewportRuler=h,this._onDestroy=new V,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Ny({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return g(e,[{key:"trackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"dataSource",get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(e){this._multiTemplateDataRows=qD(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}},{key:"fixedLayout",get:function(){return this._fixedLayout},set:function(e){this._fixedLayout=qD(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}},{key:"ngOnInit",value:function(){var e=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(t,n){return e.trackBy?e.trackBy(n.dataIndex,n.data):n}),this._viewportRuler&&this._viewportRuler.change().pipe(JA(this._onDestroy)).subscribe(function(){e._forceRecalculateCellWidths=!0})}},{key:"ngAfterContentChecked",value:function(){this._cacheRowDefs(),this._cacheColumnDefs();var e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),UL(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var e=this;this._renderRows=this._getAllRenderRows();var t=this._dataDiffer.diff(this._renderRows);if(t){var n=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,n,function(t,n,r){return e._getEmbeddedViewArgs(t.item,r)},function(e){return e.item.data},function(t){1===t.operation&&t.context&&e._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var a=t.item;e._renderRow(e._rowOutlet,a.rowDef,i,{$implicit:a.data})}else if(null==i)n.remove(r);else{var o=n.get(r);n.move(o,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(function(e){n.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}else this._updateNoDataRow()}},{key:"addColumnDef",value:function(e){this._customColumnDefs.add(e)}},{key:"removeColumnDef",value:function(e){this._customColumnDefs.delete(e)}},{key:"addRowDef",value:function(e){this._customRowDefs.add(e)}},{key:"removeRowDef",value:function(e){this._customRowDefs.delete(e)}},{key:"addHeaderRowDef",value:function(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}},{key:"setNoDataRow",value:function(e){this._customNoDataRow=e}},{key:"updateStickyHeaderRowStyles",value:function(){var e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");var n=this._headerRowDefs.map(function(e){return e.sticky});this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(function(e){return e.resetStickyChanged()})}},{key:"updateStickyFooterRowStyles",value:function(){var e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");var n=this._footerRowDefs.map(function(e){return e.sticky});this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(function(e){return e.resetStickyChanged()})}},{key:"updateStickyColumnStyles",value:function(){var e=this,t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([].concat(n(t),n(r),n(i)),["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach(function(t,n){e._addStickyColumnStyles([t],e._headerRowDefs[n])}),this._rowDefs.forEach(function(t){for(var n=[],i=0;i<r.length;i++)e._renderRows[i].rowDef===t&&n.push(r[i]);e._addStickyColumnStyles(n,t)}),i.forEach(function(t,n){e._addStickyColumnStyles([t],e._footerRowDefs[n])}),Array.from(this._columnDefsByName.values()).forEach(function(e){return e.resetStickyChanged()})}},{key:"_getAllRenderRows",value:function(){var e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var r=this._data[n],i=this._getRenderRowsForData(r,n,t.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(var a=0;a<i.length;a++){var o=i[a],s=this._cachedRenderRowsMap.get(o.data);s.has(o.rowDef)?s.get(o.rowDef).push(o):s.set(o.rowDef,[o]),e.push(o)}}return e}},{key:"_getRenderRowsForData",value:function(e,t,n){return this._getRowDefs(e,t).map(function(r){var i=n&&n.has(r)?n.get(r):[];if(i.length){var a=i.shift();return a.dataIndex=t,a}return{data:e,rowDef:r,dataIndex:t}})}},{key:"_cacheColumnDefs",value:function(){var e=this;this._columnDefsByName.clear(),qj(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(function(t){e._columnDefsByName.has(t.name),e._columnDefsByName.set(t.name,t)})}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=qj(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qj(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qj(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);var e=this._rowDefs.filter(function(e){return!e.when});this._defaultRowDef=e[0]}},{key:"_renderUpdatedColumns",value:function(){var e=function(e,t){return e||!!t.getColumnsDiff()},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();var n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();var r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),t||n||r}},{key:"_switchDataSource",value:function(e){this._data=[],UL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}},{key:"_observeRenderChanges",value:function(){var e,t,n=this;this.dataSource&&(UL(this.dataSource)?e=this.dataSource.connect(this):(t=this.dataSource)&&(t instanceof L||"function"==typeof t.lift&&"function"==typeof t.subscribe)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Fy(this.dataSource)),this._renderChangeSubscription=e.pipe(JA(this._onDestroy)).subscribe(function(e){n._data=e||[],n.renderRows()}))}},{key:"_forceRenderHeaderRows",value:function(){var e=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(t,n){return e._renderRow(e._headerRowOutlet,t,n)}),this.updateStickyHeaderRowStyles()}},{key:"_forceRenderFooterRows",value:function(){var e=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(t,n){return e._renderRow(e._footerRowOutlet,t,n)}),this.updateStickyFooterRowStyles()}},{key:"_addStickyColumnStyles",value:function(e,t){var n=this,r=Array.from(t.columns||[]).map(function(e){return n._columnDefsByName.get(e)}),i=r.map(function(e){return e.sticky}),a=r.map(function(e){return e.stickyEnd});this._stickyStyler.updateStickyColumns(e,i,a,!this._fixedLayout||this._forceRecalculateCellWidths)}},{key:"_getRenderedRows",value:function(e){for(var t=[],n=0;n<e.viewContainer.length;n++){var r=e.viewContainer.get(n);t.push(r.rootNodes[0])}return t}},{key:"_getRowDefs",value:function(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(function(n){return!n.when||n.when(t,e)});else{var r=this._rowDefs.find(function(n){return n.when&&n.when(t,e)})||this._defaultRowDef;r&&n.push(r)}return n}},{key:"_getEmbeddedViewArgs",value:function(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}},{key:"_renderRow",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.viewContainer.createEmbeddedView(t.template,r,n);return this._renderCellTemplateForItem(t,r),i}},{key:"_renderCellTemplateForItem",value:function(e,n){var r,i=t(this._getCellTemplates(e));try{for(i.s();!(r=i.n()).done;){var a=r.value;Mj.mostRecentCellOutlet&&Mj.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,n)}}catch(o){i.e(o)}finally{i.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var e=this._rowOutlet.viewContainer,t=0,n=e.length;t<n;t++){var r=e.get(t).context;r.count=n,r.first=0===t,r.last=t===n-1,r.even=t%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[t].dataIndex,r.renderIndex=t):r.index=this._renderRows[t].dataIndex}}},{key:"_getCellTemplates",value:function(e){var t=this;return e&&e.columns?Array.from(e.columns,function(n){var r=t._columnDefsByName.get(n);return e.extractCellTemplate(r)}):[]}},{key:"_applyNativeTableSections",value:function(){for(var e=this._document.createDocumentFragment(),n=0,r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];n<r.length;n++){var i=r[n],a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup");var o,s=t(i.outlets);try{for(s.s();!(o=s.n()).done;){var c=o.value;a.appendChild(c.elementRef.nativeElement)}}catch(l){s.e(l)}finally{s.f()}e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}},{key:"_checkStickyStates",value:function(){var e=function(e,t){return e||t.hasStickyChanged()};this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}},{key:"_setupStickyStyler",value:function(){var e=this;this._stickyStyler=new zj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Fy()).pipe(JA(this._onDestroy)).subscribe(function(t){e._stickyStyler.direction=t,e.updateStickyColumnStyles()})}},{key:"_getOwnDefs",value:function(e){var t=this;return e.filter(function(e){return!e._table||e._table===t})}},{key:"_updateNoDataRow",value:function(){var e=this._customNoDataRow||this._noDataRow;if(e){var t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){var n=this._noDataRowOutlet.viewContainer;t?n.createEmbeddedView(e.templateRef):n.clear(),this._isShowingNoDataRow=t}}}}]),e}()).\u0275fac=function(e){return new(e||uj)(Mc(mf),Mc(Sf),Mc(Xh),_r("role"),Mc(iP,8),Mc(nv),Mc(nM),Mc(KL,8),Mc(Cj,8),Mc(jj,12),Mc(JL,8))},uj.\u0275cmp=ut({type:uj,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,Fj,1),Pd(n,_j,1),Pd(n,Dj,1),Pd(n,Tj,1),Pd(n,Oj,1)),2&e&&(Dd(r=Ld())&&(t._noDataRow=r.first),Dd(r=Ld())&&(t._contentColumnDefs=r),Dd(r=Ld())&&(t._contentRowDefs=r),Dd(r=Ld())&&(t._contentHeaderRowDefs=r),Dd(r=Ld())&&(t._contentFooterRowDefs=r))},viewQuery:function(e,t){var n;1&e&&(Md(Bj,3),Md(Vj,3),Md(Uj,3),Md(Hj,3)),2&e&&(Dd(n=Ld())&&(t._rowOutlet=n.first),Dd(n=Ld())&&(t._headerRowOutlet=n.first),Dd(n=Ld())&&(t._footerRowOutlet=n.first),Dd(n=Ld())&&(t._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&xl("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[Hh([{provide:vj,useExisting:uj},{provide:KL,useClass:ZL},{provide:Cj,useClass:Ej},{provide:jj,useValue:null}])],ngContentSelectors:Wz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(el(Gz),tl(0),tl(1,1),Uc(2,0),Uc(3,1),Uc(4,2),Uc(5,3))},directives:[Vj,Bj,Hj,Uj],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),uj);function qj(e,t){return e.concat(Array.from(t))}var Gj,Wj,Yj,Zj,Xj,Kj,Qj,Jj,eB,tB,nB,rB,iB,aB,oB,sB=((Gj=function e(){v(this,e)}).\u0275fac=function(e){return new(e||Gj)},Gj.\u0275mod=vt({type:Gj}),Gj.\u0275inj=Me({imports:[[tF]]}),Gj),cB=[[["caption"]],[["colgroup"],["col"]]],lB=["caption","colgroup, col"],uB=((Wj=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).stickyCssClass="mat-table-sticky",e.needsPositionStickyOnElement=!1,e}return n}($j)).\u0275fac=function(e){return hB(e||Wj)},Wj.\u0275cmp=ut({type:Wj,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,t){2&e&&xl("mat-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[Hh([{provide:KL,useClass:ZL},{provide:$j,useExisting:Wj},{provide:vj,useExisting:Wj},{provide:Cj,useClass:Ej}]),Bs],ngContentSelectors:lB,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(el(cB),tl(0),tl(1,1),Uc(2,0),Uc(3,1),Uc(4,2),Uc(5,3))},directives:[Vj,Bj,Hj,Uj],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),Wj),hB=yr(uB),fB=((Yj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(mj)).\u0275fac=function(e){return dB(e||Yj)},Yj.\u0275dir=yt({type:Yj,selectors:[["","matCellDef",""]],features:[Hh([{provide:mj,useExisting:Yj}]),Bs]}),Yj),dB=yr(fB),pB=((Zj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(gj)).\u0275fac=function(e){return vB(e||Zj)},Zj.\u0275dir=yt({type:Zj,selectors:[["","matHeaderCellDef",""]],features:[Hh([{provide:gj,useExisting:Zj}]),Bs]}),Zj),vB=yr(pB),mB=((Xj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return this._name},set:function(e){this._setNameInput(e)}},{key:"_updateColumnCssClassName",value:function(){s(p(n.prototype),"_updateColumnCssClassName",this).call(this),this._columnCssClassName.push("mat-column-".concat(this.cssClassFriendlyName))}}]),n}(_j)).\u0275fac=function(e){return gB(e||Xj)},Xj.\u0275dir=yt({type:Xj,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Hh([{provide:_j,useExisting:Xj},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Xj}]),Bs]}),Xj),gB=yr(mB),yB=((Kj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(kj)).\u0275fac=function(e){return bB(e||Kj)},Kj.\u0275dir=yt({type:Kj,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Bs]}),Kj),bB=yr(yB),_B=((Qj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Sj)).\u0275fac=function(e){return wB(e||Qj)},Qj.\u0275dir=yt({type:Qj,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Bs]}),Qj),wB=yr(_B),kB=((Jj=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Tj)).\u0275fac=function(e){return SB(e||Jj)},Jj.\u0275dir=yt({type:Jj,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Hh([{provide:Tj,useExisting:Jj}]),Bs]}),Jj),SB=yr(kB),xB=((eB=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Dj)).\u0275fac=function(e){return CB(e||eB)},eB.\u0275dir=yt({type:eB,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Hh([{provide:Dj,useExisting:eB}]),Bs]}),eB),CB=yr(xB),EB=((tB=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Pj)).\u0275fac=function(e){return RB(e||tB)},tB.\u0275cmp=ut({type:tB,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Hh([{provide:Pj,useExisting:tB}]),Bs],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Uc(0,0)},directives:[Mj],encapsulation:2}),tB),RB=yr(EB),AB=((nB=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Lj)).\u0275fac=function(e){return TB(e||nB)},nB.\u0275cmp=ut({type:nB,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Hh([{provide:Lj,useExisting:nB}]),Bs],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Uc(0,0)},directives:[Mj],encapsulation:2}),nB),TB=yr(AB),IB=((rB=function e(){v(this,e)}).\u0275fac=function(e){return new(e||rB)},rB.\u0275mod=vt({type:rB}),rB.\u0275inj=Me({imports:[[sB,dP],dP]}),rB),OB=[{id:"name",name:"Name",hidden:!1},{id:"imgt_name",name:"IMGT Name",hidden:!1},{id:"type",name:"Type",hidden:!1},{id:"novel",name:"Novel",hidden:!1},{id:"functional",name:"Functional",hidden:!1},{id:"deleted",name:"Deleted",hidden:!1},{id:"sequence",name:"Sequence",hidden:!1},{id:"gapped_sequence",name:"Gapped",hidden:!0},{id:"appearances",name:"Appearances",hidden:!1}],DB=function(e){return e[e.TEXT_MODE=0]="TEXT_MODE",e[e.NUMBER_MODE=1]="NUMBER_MODE",e[e.DATE_MODE=2]="DATE_MODE",e[e.BOOL_MODE=3]="BOOL_MODE",e}({}),MB=((oB=function(){function t(){v(this,t)}return g(t,[{key:"loadSavedInfo",value:function(e,t){if(t){if(!localStorage)return;var n=localStorage.getItem("table-params-".concat(t));if(n&&"{}"!==n)try{var r=JSON.parse(n);return r=new Map(r)}catch(_0){n=null}return!n&&t&&this.saveInfo(e,t),e}}},{key:"saveInfo",value:function(e,t){if(t){if(!localStorage)return;var n=Array.from(e),r=JSON.stringify(n);localStorage.setItem("table-params-".concat(t),r)}}},{key:"mapToObj",value:function(t){return Array.from(t).reduce(function(t,n){var r=e(n,2),i=r[0],a=r[1];return t[i]=a,t},{})}}]),t}()).\u0275fac=function(e){return new(e||oB)},oB.\u0275prov=De({token:oB,factory:oB.\u0275fac}),oB),PB=((aB=function e(){v(this,e),this.selection=new Ny({names:[],onlySelected:!1}),this.source=this.selection.asObservable()}).\u0275prov=De({token:aB,factory:aB.\u0275fac=function(e){return new(e||aB)},providedIn:"root"}),aB),LB=((iB=function e(){v(this,e),this.selection=new Ny({ids:[]}),this.source=this.selection.asObservable()}).\u0275prov=De({token:iB,factory:iB.\u0275fac=function(e){return new(e||iB)},providedIn:"root"}),iB),FB=["*"];function NB(e){return Error('Unable to find icon with the name "'.concat(e,'"'))}function zB(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(e,'".'))}function jB(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(e,'".'))}var BB,VB=function e(t,n,r){v(this,e),this.url=t,this.svgText=n,this.options=r},UB=((BB=function(){function e(t,n,r,i){v(this,e),this._httpClient=t,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}return g(e,[{key:"addSvgIcon",value:function(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}},{key:"addSvgIconLiteral",value:function(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}},{key:"addSvgIconInNamespace",value:function(e,t,n,r){return this._addSvgIconConfig(e,t,new VB(n,null,r))}},{key:"addSvgIconResolver",value:function(e){return this._resolvers.push(e),this}},{key:"addSvgIconLiteralInNamespace",value:function(e,t,n,r){var i=this._sanitizer.sanitize(ra.HTML,n);if(!i)throw jB(n);return this._addSvgIconConfig(e,t,new VB("",i,r))}},{key:"addSvgIconSet",value:function(e,t){return this.addSvgIconSetInNamespace("",e,t)}},{key:"addSvgIconSetLiteral",value:function(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}},{key:"addSvgIconSetInNamespace",value:function(e,t,n){return this._addSvgIconSetConfig(e,new VB(t,null,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(e,t,n){var r=this._sanitizer.sanitize(ra.HTML,t);if(!r)throw jB(t);return this._addSvgIconSetConfig(e,new VB("",r,n))}},{key:"registerFontClassAlias",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._fontCssClassesByAlias.set(e,t),this}},{key:"classNameForFontAlias",value:function(e){return this._fontCssClassesByAlias.get(e)||e}},{key:"setDefaultFontSetClass",value:function(e){return this._defaultFontSetClass=e,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(e){var t=this,n=this._sanitizer.sanitize(ra.RESOURCE_URL,e);if(!n)throw zB(e);var r=this._cachedIconsByUrl.get(n);return r?Fy(HB(r)):this._loadSvgIconFromConfig(new VB(e,null)).pipe(Eb(function(e){return t._cachedIconsByUrl.set(n,e)}),q(function(e){return HB(e)}))}},{key:"getNamedSvgIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$B(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e))return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):cT(NB(n))}},{key:"ngOnDestroy",value:function(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(e){return e.svgText?Fy(HB(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(q(function(e){return HB(e)}))}},{key:"_getSvgFromIconSetConfigs",value:function(e,t){var n=this,r=this._extractIconWithNameFromAnySet(e,t);return r?Fy(r):UE(t.filter(function(e){return!e.svgText}).map(function(e){return n._loadSvgIconSetFromConfig(e).pipe(ub(function(t){var r=n._sanitizer.sanitize(ra.RESOURCE_URL,e.url);return n._errorHandler.handleError(new Error("Loading icon set URL: ".concat(r," failed: ").concat(t.message))),Fy(null)}))})).pipe(q(function(){var r=n._extractIconWithNameFromAnySet(e,t);if(!r)throw NB(e);return r}))}},{key:"_extractIconWithNameFromAnySet",value:function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){var i=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(i,e,r.options);if(a)return a}}return null}},{key:"_loadSvgIconFromConfig",value:function(e){var t=this;return this._fetchIcon(e).pipe(Eb(function(t){return e.svgText=t}),q(function(){return t._svgElementFromConfig(e)}))}},{key:"_loadSvgIconSetFromConfig",value:function(e){return e.svgText?Fy(null):this._fetchIcon(e).pipe(Eb(function(t){return e.svgText=t}))}},{key:"_extractSvgIconFromSet",value:function(e,t,n){var r=e.querySelector('[id="'.concat(t,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var a=this._svgElementFromString("<svg></svg>");return a.appendChild(i),this._setSvgAttributes(a,n)}},{key:"_svgElementFromString",value:function(e){var t=this._document.createElement("DIV");t.innerHTML=e;var n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(e){for(var t=this._svgElementFromString("<svg></svg>"),n=e.attributes,r=0;r<n.length;r++){var i=n[r],a=i.name,o=i.value;"id"!==a&&t.setAttribute(a,o)}for(var s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}},{key:"_setSvgAttributes",value:function(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}},{key:"_fetchIcon",value:function(e){var t,n=this,r=e.url,i=e.options,a=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error('Cannot fetch icon from URL "'.concat(r,'".'));var o=this._sanitizer.sanitize(ra.RESOURCE_URL,r);if(!o)throw zB(r);var s=this._inProgressUrlFetches.get(o);if(s)return s;var c=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(Tb(function(){return n._inProgressUrlFetches.delete(o)}),ye());return this._inProgressUrlFetches.set(o,c),c}},{key:"_addSvgIconConfig",value:function(e,t,n){return this._svgIconConfigs.set($B(e,t),n),this}},{key:"_addSvgIconSetConfig",value:function(e,t){var n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}},{key:"_svgElementFromConfig",value:function(e){if(!e.svgElement){var t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}},{key:"_getIconConfigFromResolvers",value:function(e,t){for(var n=0;n<this._resolvers.length;n++){var r=this._resolvers[n](t,e);if(r)return(i=r).url&&i.options?new VB(r.url,null,r.options):new VB(r,null)}var i}}]),e}()).\u0275fac=function(e){return new(e||BB)(ti(EE,8),ti($m),ti(nv,8),ti(ma))},BB.\u0275prov=De({factory:function(){return new BB(ti(EE,8),ti($m),ti(nv,8),ti(ma))},token:BB,providedIn:"root"}),BB);function HB(e){return e.cloneNode(!0)}function $B(e,t){return e+":"+t}var qB,GB,WB=vP(function e(t){v(this,e),this._elementRef=t}),YB=new Ar("mat-icon-location",{providedIn:"root",factory:function(){var e=ri(nv),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}}),ZB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],XB=ZB.map(function(e){return"[".concat(e,"]")}).join(", "),KB=/^url\(['"]?#(.*?)['"]?\)$/,QB=((GB=function(t){c(r,t);var n=u(r);function r(e,t,i,a,o){var s;return v(this,r),(s=n.call(this,e))._iconRegistry=t,s._location=a,s._errorHandler=o,s._inline=!1,s._currentIconFetch=R.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true"),s}return g(r,[{key:"inline",get:function(){return this._inline},set:function(e){this._inline=qD(e)}},{key:"svgIcon",get:function(){return this._svgIcon},set:function(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}},{key:"fontSet",get:function(){return this._fontSet},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}},{key:"_splitIconName",value:function(e){if(!e)return["",""];var t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error('Invalid icon name: "'.concat(e,'"'))}}},{key:"ngOnInit",value:function(){this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var e=this._elementsWithExternalReferences;if(e&&e.size){var t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(e){this._clearSvgElement();for(var t=e.querySelectorAll("style"),n=0;n<t.length;n++)t[n].textContent+=" ";var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}},{key:"_clearSvgElement",value:function(){var e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){var n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(e){return"string"==typeof e?e.trim().split(" ")[0]:e}},{key:"_prependPathToReferences",value:function(e){var t=this._elementsWithExternalReferences;t&&t.forEach(function(t,n){t.forEach(function(t){n.setAttribute(t.name,"url('".concat(e,"#").concat(t.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(e){for(var t=e.querySelectorAll(XB),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(e){ZB.forEach(function(r){var i=t[e],a=i.getAttribute(r),o=a?a.match(KB):null;if(o){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:o[1]})}})},i=0;i<t.length;i++)r(i)}},{key:"_updateSvgIcon",value:function(t){var n=this;if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){var r=e(this._splitIconName(t),2),i=r[0],a=r[1];i&&(this._svgNamespace=i),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,i).pipe(eb(1)).subscribe(function(e){return n._setSvgElement(e)},function(e){n._errorHandler.handleError(new Error("Error retrieving icon ".concat(i,":").concat(a,"! ").concat(e.message)))})}}}]),r}(WB)).\u0275fac=function(e){return new(e||GB)(Mc(Xh),Mc(UB),_r("aria-hidden"),Mc(YB),Mc(ma))},GB.\u0275cmp=ut({type:GB,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(ac("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),xl("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Bs],ngContentSelectors:FB,decls:1,vars:0,template:function(e,t){1&e&&(el(),tl(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),GB),JB=((qB=function e(){v(this,e)}).\u0275fac=function(e){return new(e||qB)},qB.\u0275mod=vt({type:qB}),qB.\u0275inj=Me({imports:[[dP],dP]}),qB);function eV(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function tV(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function nV(e,t){var n=t?"":"none";tV(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function rV(e,t){var n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function iV(e){var t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function aV(e,t){return e.getPropertyValue(t).split(",").map(function(e){return e.trim()})}function oV(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function sV(e,t,n){var r=e.top,i=e.bottom,a=e.left,o=e.right;return n>=r&&n<=i&&t>=a&&t<=o}function cV(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function lV(e,t,n,r){var i=e.top,a=e.right,o=e.bottom,s=e.left,c=e.width*t,l=e.height*t;return r>i-l&&r<o+l&&n>s-c&&n<a+c}var uV=function(){function e(t,n){v(this,e),this._document=t,this._viewportRuler=n,this.positions=new Map}return g(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){t.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:oV(e)})})}},{key:"handleScroll",value:function(e){var t=e.target,n=this.positions.get(t);if(!n)return null;var r,i,a=t===this._document?t.documentElement:t,o=n.scrollPosition;if(t===this._document){var s=this._viewportRuler.getViewportScrollPosition();r=s.top,i=s.left}else r=t.scrollTop,i=t.scrollLeft;var c=o.top-r,l=o.left-i;return this.positions.forEach(function(e,n){e.clientRect&&t!==n&&a.contains(n)&&cV(e.clientRect,c,l)}),o.top=r,o.left=i,{top:c,left:l}}}]),e}();function hV(e){var t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?vV(e,t):"input"!==r&&"select"!==r&&"textarea"!==r||pV(e,t),fV("canvas",e,t,vV),fV("input, textarea, select",e,t,pV),t}function fV(e,t,n,r){var i=t.querySelectorAll(e);if(i.length)for(var a=n.querySelectorAll(e),o=0;o<i.length;o++)r(i[o],a[o])}var dV=0;function pV(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name="mat-clone-".concat(t.name,"-").concat(dV++))}function vV(e,t){var n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(_0){}}var mV=oM({passive:!0}),gV=oM({passive:!1}),yV=function(){function e(t,n,r,i,a,o){var s=this;v(this,e),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new V,this._pointerMoveSubscription=R.EMPTY,this._pointerUpSubscription=R.EMPTY,this._scrollSubscription=R.EMPTY,this._resizeSubscription=R.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new V,this.started=new V,this.released=new V,this.ended=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.moved=this._moveEvents,this._pointerDown=function(e){if(s.beforeStarted.next(),s._handles.length){var t=s._handles.find(function(t){var n=e.target;return!!n&&(n===t||t.contains(n))});!t||s._disabledHandles.has(t)||s.disabled||s._initializeDragSequence(t,e)}else s.disabled||s._initializeDragSequence(s._rootElement,e)},this._pointerMove=function(e){var t=s._getPointerPositionOnPage(e);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),e.preventDefault();var n=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._lastKnownPointerPosition=t,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,t);else{var r=s._activeTransform;r.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,r.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:e,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(t.x-s._pickupPositionOnPage.x)+Math.abs(t.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var i=Date.now()>=s._dragStartTime+s._getDragStartDelay(e),a=s._dropContainer;if(!i)return void s._endDragSequence(e);a&&(a.isDragging()||a.isReceiving())||(e.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(e)}))}},this._pointerUp=function(e){s._endDragSequence(e)},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new uV(r,a),o.registerDragItem(this)}return g(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var t=qD(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return nV(e,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var t=this;this._handles=e.map(function(e){return ZD(e)}),this._handles.forEach(function(e){return nV(e,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(e){t._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var t=this,n=ZD(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,gV),n.addEventListener("touchstart",t._pointerDown,mV)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var t=this;return this._boundaryElement=e?ZD(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&wV(this._rootElement),wV(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),nV(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),nV(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&wV(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&wV(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var t=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(e),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(t._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){kV(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,r=n.parentNode,i=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();r.insertBefore(o,n),rV(n,!1),this._document.body.appendChild(r.replaceChild(a,n)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(i),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,t){var n=this;this._parentDragRef&&t.stopPropagation();var r=this.isDragging(),i=kV(t),a=!i&&0!==t.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(r||a||s)){this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){n._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=oV(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);var l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(e){var t=this;rV(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=t._dropContainer,r=n.getItemIndex(t),i=t._getPointerPositionOnPage(e),a=t._getDragDistance(t._getPointerPositionOnPage(e)),o=n._isOverContainer(i.x,i.y);t.ended.next({source:t,distance:a}),t.dropped.next({item:t,currentIndex:r,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:o,distance:a}),n.drop(t,r,t._initialIndex,t._initialContainer,o,a),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,t){var n=this,r=e.x,i=e.y,a=t.x,o=t.y,s=this._initialContainer._getSiblingContainerFromPosition(this,r,i);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,i)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,r,i,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(a,o),this._dropContainer._sortItem(this,r,i,this._pointerDirectionDelta),this._preview.style.transform=bV(r-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,t=this._previewTemplate,n=this.previewClass,r=t?t.template:null;if(r&&t){var i=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(r,t.context);a.detectChanges(),e=SV(a,this._document),this._previewRef=a,t.matchSize?xV(e,i):e.style.transform=bV(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;xV(e=hV(o),o.getBoundingClientRect())}return tV(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),nV(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(t){return e.classList.add(t)}):e.classList.add(n)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=bV(t.left,t.top);var n=function(e){var t=getComputedStyle(e),n=aV(t,"transition-property"),r=n.find(function(e){return"transform"===e||"all"===e});if(!r)return 0;var i=n.indexOf(r),a=aV(t,"transition-duration"),o=aV(t,"transition-delay");return iV(a[i])+iV(o[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var r=function n(r){(!r||r.target===e._preview&&"transform"===r.propertyName)&&(e._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(r,1.5*n);e._preview.addEventListener("transitionend",r)})})}},{key:"_createPlaceholderElement",value:function(){var e,t=this._placeholderTemplate,n=t?t.template:null;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=SV(this._placeholderRef,this._document)):e=hV(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,t){var n=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,i=r?r.getBoundingClientRect():n,a=kV(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:i.left-n.left+(a.pageX-i.left-o.left),y:i.top-n.top+(a.pageY-i.top-o.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var t=this._getViewportScrollPosition(),n=kV(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,i=n.pageY-t.top;if(this._ownerSVGElement){var a=this._ownerSVGElement.getScreenCTM();if(a){var o=this._ownerSVGElement.createSVGPoint();return o.x=r,o.y=i,o.matrixTransform(a.inverse())}}return{x:r,y:i}}},{key:"_getConstrainedPointerPosition",value:function(e){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(e,this):e,r=n.x,i=n.y;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(r=this._pickupPositionOnPage.x),this._boundaryRect){var a=this._pickupPositionInElement,o=a.x,s=a.y,c=this._boundaryRect,l=this._previewRect,u=c.top+s,h=c.bottom-(l.height-s);r=_V(r,c.left+o,c.right-(l.width-o)),i=_V(i,u,h)}return{x:r,y:i}}},{key:"_updatePointerDirectionDelta",value:function(e){var t=e.x,n=e.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-i.x),o=Math.abs(n-i.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=t>i.x?1:-1,i.x=t),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,nV(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,gV),e.removeEventListener("touchstart",this._pointerDown,mV)}},{key:"_applyRootElementTransform",value:function(e,t){var n=bV(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(e){var t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,t=e.x,n=e.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var a=r.left-i.left,o=i.right-r.right,s=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(a>0&&(t+=a),o>0&&(t-=o)):t=0,r.height>i.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,t===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(e){var t=this.dragStartDelay;return"number"==typeof t?t:kV(e)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(e){var t=this._parentPositions.handleScroll(e);if(t){var n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&cV(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=sM(this._rootElement)),this._cachedShadowRoot}}]),e}();function bV(e,t){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}function _V(e,t,n){return Math.max(t,Math.min(n,e))}function wV(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function kV(e){return"t"===e.type[0]}function SV(e,t){var n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];var r=t.createElement("div");return n.forEach(function(e){return r.appendChild(e)}),r}function xV(e,t){e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.transform=bV(t.left,t.top)}function CV(e,t,n){var r=EV(t,e.length-1),i=EV(n,e.length-1);if(r!==i){for(var a=e[r],o=i<r?-1:1,s=r;s!==i;s+=o)e[s]=e[s+o];e[i]=a}}function EV(e,t){return Math.max(0,Math.min(t,e))}var RV=function(){function t(e,n,r,i,a){var o=this;v(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.sorted=new V,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=R.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new V,this._cachedShadowRoot=null,this._startScrollInterval=function(){o._stopScrolling(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BA;return(!VA(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=BA),new L(function(n){return n.add(t.schedule(eV,e,{subscriber:n,counter:0,period:e})),n})}(0,kL).pipe(JA(o._stopScrollTimers)).subscribe(function(){var e=o._scrollNode,t=o.autoScrollStep;1===o._verticalScrollDirection?TV(e,-t):2===o._verticalScrollDirection&&TV(e,t),1===o._horizontalScrollDirection?IV(e,-t):2===o._horizontalScrollDirection&&IV(e,t)})},this.element=ZD(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new uV(r,a)}return g(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,t,n,r){var i;this._draggingStarted(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(i=this._getItemIndexFromPointerPosition(e,t,n)):i=r;var a=this._activeDraggables,o=a.indexOf(e),s=e.getPlaceholderElement(),c=a[i];if(c===e&&(c=a[i+1]),o>-1&&a.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(s,l),a.splice(i,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){var u=a[0].getRootElement();u.parentNode.insertBefore(s,u),a.unshift(e)}else ZD(this.element).appendChild(s),a.push(e);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,t,n,r,i,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:a})}},{key:"withItems",value:function(e){var t=this,n=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(t)}),this.isDragging()&&(n.filter(function(e){return e.isDragging()}).every(function(t){return-1===e.indexOf(t)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=ZD(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(n(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?AV("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,t,n,r){if(!this.sortingDisabled&&this._clientRect&&lV(this._clientRect,.05,t,n)){var i=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,r);if(!(-1===a&&i.length>0)){var o="horizontal"===this._orientation,s=AV(i,function(t){return t.drag===e}),c=i[a],l=c.clientRect,u=s>a?1:-1,h=this._getItemOffsetPx(i[s].clientRect,l,u),f=this._getSiblingOffsetPx(s,i,u),d=i.slice();CV(i,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:e}),i.forEach(function(t,n){if(d[n]!==t){var r=t.drag===e,i=r?h:f,a=r?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,o?(a.style.transform="translate3d(".concat(Math.round(t.offset),"px, 0, 0)"),cV(t.clientRect,0,i)):(a.style.transform="translate3d(0, ".concat(Math.round(t.offset),"px, 0)"),cV(t.clientRect,i,0))}}),this._previousSwap.overlaps=sV(l,t,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?r.x:r.y}}}},{key:"_startScrollingIfNecessary",value:function(t,n){var r=this;if(!this.autoScrollDisabled){var i,a=0,o=0;if(this._parentPositions.positions.forEach(function(s,c){var l;c!==r._document&&s.clientRect&&!i&&lV(s.clientRect,.05,t,n)&&(l=e(function(e,t,n,r){var i=OV(t,r),a=DV(t,n),o=0,s=0;if(i){var c=e.scrollTop;1===i?c>0&&(o=1):e.scrollHeight-c>e.clientHeight&&(o=2)}if(a){var l=e.scrollLeft;1===a?l>0&&(s=1):e.scrollWidth-l>e.clientWidth&&(s=2)}return[o,s]}(c,s.clientRect,t,n),2),a=l[0],o=l[1],(a||o)&&(i=c))}),!a&&!o){var s=this._viewportRuler.getViewportSize(),c=s.width,l=s.height,u={width:c,height:l,top:0,right:c,bottom:l,left:0};a=OV(u,n),o=DV(u,t),i=window}!i||a===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=a,this._horizontalScrollDirection=o,this._scrollNode=i,(a||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=ZD(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=ZD(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var t=e.getVisibleElement();return{drag:e,offset:0,clientRect:oV(t)}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var t=ZD(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,t,n){var r="horizontal"===this._orientation,i=t[e].clientRect,a=t[e+-1*n],o=i[r?"width":"height"]*n;if(a){var s=r?"left":"top",c=r?"right":"bottom";-1===n?o-=a.clientRect[s]-i[c]:o+=i[s]-a.clientRect[c]}return o}},{key:"_getItemOffsetPx",value:function(e,t,n){var r="horizontal"===this._orientation,i=r?t.left-e.left:t.top-e.top;return-1===n&&(i+=r?t.width-e.width:t.height-e.height),i}},{key:"_shouldEnterAsFirstChild",value:function(e,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?e>=i.right:t>=i.bottom}var a=n[0].clientRect;return r?e<=a.left:t<=a.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,t,n,r){var i=this,a="horizontal"===this._orientation,o=AV(this._itemPositions,function(o,s,c){var l=o.drag,u=o.clientRect;if(l===e)return c.length<2;if(r){var h=a?r.x:r.y;if(l===i._previousSwap.drag&&i._previousSwap.overlaps&&h===i._previousSwap.delta)return!1}return a?t>=Math.floor(u.left)&&t<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,t){return null!=this._clientRect&&sV(this._clientRect,e,t)}},{key:"_getSiblingContainerFromPosition",value:function(e,t,n){return this._siblings.find(function(r){return r._canReceive(e,t,n)})}},{key:"_canReceive",value:function(e,t,n){if(!this._clientRect||!sV(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;var r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;var i=ZD(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(e,t){var n=this,r=this._activeSiblings;!r.has(e)&&t.every(function(e){return n.enterPredicate(e,n)||n._draggables.indexOf(e)>-1})&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){if(e.isDragging()){var n=e._parentPositions.handleScroll(t);n&&(e._itemPositions.forEach(function(e){cV(e.clientRect,n.top,n.left)}),e._itemPositions.forEach(function(t){var n=t.drag;e._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=sM(ZD(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,t=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(e,t)})}}]),t}();function AV(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function TV(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function IV(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function OV(e,t){var n=e.top,r=e.bottom,i=.05*e.height;return t>=n-i&&t<=n+i?1:t>=r-i&&t<=r+i?2:0}function DV(e,t){var n=e.left,r=e.right,i=.05*e.width;return t>=n-i&&t<=n+i?1:t>=r-i&&t<=r+i?2:0}var MV,PV,LV,FV,NV,zV,jV=oM({passive:!1,capture:!0}),BV=((MV=function(){function e(t,n){var r=this;v(this,e),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new V,this.pointerUp=new V,this.scroll=new V,this._preventDefaultWhileDragging=function(e){r._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){r._activeDragInstances.length>0&&(r._activeDragInstances.some(r._draggingPredicate)&&e.preventDefault(),r.pointerMove.next(e))},this._document=n}return g(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var t=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._persistentTouchmoveListener,jV)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jV)}},{key:"startDragging",value:function(e,t){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var r=t.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:function(e){return n.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return n.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jV}),r||this._globalListeners.set("mousemove",{handler:function(e){return n.pointerMove.next(e)},options:jV}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(e,t){n._document.addEventListener(t,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(t){return e.removeDragItem(t)}),this._dropInstances.forEach(function(t){return e.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(t,n){e._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}]),e}()).\u0275fac=function(e){return new(e||MV)(ti(kp),ti(nv))},MV.\u0275prov=De({factory:function(){return new MV(ti(kp),ti(nv))},token:MV,providedIn:"root"}),MV),VV={dragStartThreshold:5,pointerDirectionChangeThreshold:5},UV=((PV=function(){function e(t,n,r,i){v(this,e),this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return g(e,[{key:"createDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VV;return new yV(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new RV(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}()).\u0275fac=function(e){return new(e||PV)(ti(nv),ti(kp),ti(JL),ti(BV))},PV.\u0275prov=De({factory:function(){return new PV(ti(nv),ti(kp),ti(JL),ti(BV))},token:PV,providedIn:"root"}),PV),HV=new Ar("CDK_DRAG_PARENT"),$V=new Ar("CdkDropListGroup"),qV=new Ar("CDK_DRAG_CONFIG"),GV=0,WV=new Ar("CdkDropList"),YV=((LV=function(){function e(t,n,r,i,a,o,s){var c=this;v(this,e),this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=i,this._dir=a,this._group=o,this._destroyed=new V,this.connectedTo=[],this.id="cdk-drop-list-"+GV++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new _d,this.entered=new _d,this.exited=new _d,this.sorted=new _d,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=function(e,t){return c.enterPredicate(e.data,t.data)},this._dropListRef.sortPredicate=function(e,t,n){return c.sortPredicate(e,t.data,n.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),o&&o._items.add(this)}return g(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=qD(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,t){return e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe(rb(this._dir.value),JA(this._destroyed)).subscribe(function(e){return t.withDirection(e)}),t.beforeStarted.subscribe(function(){var r=WD(n.connectedTo).map(function(t){return"string"==typeof t?e._dropLists.find(function(e){return e.id===t}):t});if(n._group&&n._group._items.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),!n._scrollableParentsResolved){var i=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(e){return e.getElementRef().nativeElement});n._dropListRef.withScrollableParents(i),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=qD(n.sortingDisabled),t.autoScrollDisabled=qD(n.autoScrollDisabled),t.autoScrollStep=GD(n.autoScrollStep,2),t.connectedTo(r.filter(function(e){return e&&e!==n}).map(function(e){return e._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(e){var t=this;e.beforeStarted.subscribe(function(){t._syncItemsWithRef(),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:t,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:t,item:e.item.data}),t._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){t.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:t,item:e.item.data})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),t._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.draggingDisabled,r=e.sortingDisabled,i=e.listAutoScrollDisabled,a=e.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=a||"vertical",t&&(this.lockAxis=t)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}()).\u0275fac=function(e){return new(e||LV)(Mc(Xh),Mc(UV),Mc(Sf),Mc(QL),Mc(iP,8),Mc($V,12),Mc(qV,8))},LV.\u0275dir=yt({type:LV,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(ac("id",t.id),xl("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Hh([{provide:$V,useValue:void 0},{provide:WV,useExisting:LV}])]}),LV._dropLists=[],LV),ZV=new Ar("CdkDragHandle"),XV=((FV=function(){function e(t,n){v(this,e),this.element=t,this._stateChanges=new V,this._disabled=!1,this._parentDrag=n}return g(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=qD(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}()).\u0275fac=function(e){return new(e||FV)(Mc(Xh),Mc(HV,12))},FV.\u0275dir=yt({type:FV,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[Hh([{provide:ZV,useExisting:FV}])]}),FV),KV=new Ar("CdkDragPlaceholder"),QV=new Ar("CdkDragPreview"),JV=((zV=function(){function e(t){v(this,e),this.templateRef=t,this._matchSize=!1}return g(e,[{key:"matchSize",get:function(){return this._matchSize},set:function(e){this._matchSize=qD(e)}}]),e}()).\u0275fac=function(e){return new(e||zV)(Mc(Tf))},zV.\u0275dir=yt({type:zV,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[Hh([{provide:QV,useExisting:zV}])]}),zV),eU=((NV=function(){function e(t,n,r,i,a,o,s,c,l,u,h){var f=this;v(this,e),this.element=t,this.dropContainer=n,this._ngZone=i,this._viewContainerRef=a,this._dir=s,this._changeDetectorRef=l,this._selfHandle=u,this._parentDrag=h,this._destroyed=new V,this.started=new _d,this.released=new _d,this.ended=new _d,this.entered=new _d,this.exited=new _d,this.dropped=new _d,this.moved=new L(function(e){var t=f._dragRef.moved.pipe(q(function(e){return{source:f,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){t.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),o&&this._assignDefaults(o),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return g(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=qD(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe(eb(1),JA(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe(rb(e._handles),Eb(function(t){var n=t.filter(function(t){return t._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),Xy(function(e){return le.apply(void 0,n(e.map(function(e){return e._stateChanges.pipe(rb(e))})))}),JA(e._destroyed)).subscribe(function(t){var n=e._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,t=this.rootElementSelector?tU(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?tU(this.element.nativeElement,e):ZD(e):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var e=n._dir,r=n.dragStartDelay,i=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,a=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:GD(r),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(a),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(eb(1)).subscribe(function(){var r,i;if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var a=n.element.nativeElement.parentElement;a;){if(null===(r=a.classList)||void 0===r?void 0:r.contains("cdk-drag")){t.withParent((null===(i=e._dragInstances.find(function(e){return e.element.nativeElement===a}))||void 0===i?void 0:i._dragRef)||null);break}a=a.parentElement}})}},{key:"_handleEvents",value:function(e){var t=this;e.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){t.released.emit({source:t})}),e.ended.subscribe(function(e){t.ended.emit({source:t,distance:e.distance}),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:e.container.data,item:t,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:e.container.data,item:t})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:t,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.dragStartDelay,r=e.constrainPosition,i=e.previewClass,a=e.boundaryElement,o=e.draggingDisabled,s=e.rootElementSelector;this.disabled=null!=o&&o,this.dragStartDelay=n||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),i&&(this.previewClass=i),a&&(this.boundaryElement=a),s&&(this.rootElementSelector=s)}}]),e}()).\u0275fac=function(e){return new(e||NV)(Mc(Xh),Mc(WV,12),Mc(nv),Mc(kp),Mc(Lf),Mc(qV,8),Mc(iP,8),Mc(UV),Mc(Sf),Mc(ZV,10),Mc(HV,12))},NV.\u0275dir=yt({type:NV,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var r;1&e&&(Pd(n,QV,1),Pd(n,KV,1),Pd(n,ZV,1)),2&e&&(Dd(r=Ld())&&(t._previewTemplate=r.first),Dd(r=Ld())&&(t._placeholderTemplate=r.first),Dd(r=Ld())&&(t._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&xl("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Hh([{provide:HV,useExisting:NV}]),Dt]}),NV._dragInstances=[],NV);function tU(e,t){for(var n=e.parentElement;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}var nU,rU,iU=((rU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||rU)},rU.\u0275mod=vt({type:rU}),rU.\u0275inj=Me({providers:[UV],imports:[eF]}),rU),aU=((nU=function(){function e(){v(this,e)}return g(e,[{key:"loadSavedColumnInfo",value:function(e,t){if(t){if(!localStorage)return;var n=localStorage.getItem("".concat(t,"-columns"));return n?JSON.parse(n):(t&&this.saveColumnInfo(e,t),this.saveColumnInfo(e),e)}}},{key:"saveColumnInfo",value:function(e,t){if(t){if(!localStorage)return;localStorage.setItem("".concat(t,"-columns"),JSON.stringify(e))}}}]),e}()).\u0275fac=function(e){return new(e||nU)},nU.\u0275prov=De({token:nU,factory:nU.\u0275fac}),nU),oU=["mat-menu-item",""],sU=["*"];function cU(e,t){if(1&e){var n=Hc();Nc(0,"div",0),Wc("keydown",function(e){return an(n),Qc()._handleKeydown(e)})("click",function(){return an(n),Qc().closed.emit("click")})("@transformMenu.start",function(e){return an(n),Qc()._onAnimationStart(e)})("@transformMenu.done",function(e){return an(n),Qc()._onAnimationDone(e)}),Nc(1,"div",1),tl(2),zc(),zc()}if(2&e){var r=Qc();Lc("id",r.panelId)("ngClass",r._classList)("@transformMenu",r._panelAnimationState),ac("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}var lU,uU,hU,fU,dU,pU,vU,mU={transformMenu:IS("transformMenu",[PS("void",MS({opacity:0,transform:"scale(0.8)"})),LS("void => enter",OS("120ms cubic-bezier(0, 0, 0.2, 1)",MS({opacity:1,transform:"scale(1)"}))),LS("* => void",OS("100ms 25ms linear",MS({opacity:0})))]),fadeInItems:IS("fadeInItems",[PS("showing",MS({opacity:1})),LS("void => *",[MS({opacity:0}),OS("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},gU=new Ar("MatMenuContent"),yU=((lU=function(){function e(t,n,r,i,a,o,s){v(this,e),this._template=t,this._componentFactoryResolver=n,this._appRef=r,this._injector=i,this._viewContainerRef=a,this._document=o,this._changeDetectorRef=s,this._attached=new V}return g(e,[{key:"attach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new iF(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new sF(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var t=this._template.elementRef.nativeElement;t.parentNode.insertBefore(this._outlet.outletElement,t),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),e}()).\u0275fac=function(e){return new(e||lU)(Mc(Tf),Mc(Gh),Mc(Hp),Mc(Ns),Mc(Lf),Mc(nv),Mc(Sf))},lU.\u0275dir=yt({type:lU,selectors:[["ng-template","matMenuContent",""]],features:[Hh([{provide:gU,useExisting:lU}])]}),lU),bU=new Ar("MAT_MENU_PANEL"),_U=mP(pP(function e(){v(this,e)})),wU=((uU=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this))._elementRef=e,o._focusMonitor=i,o._parentMenu=a,o.role="menuitem",o._hovered=new V,o._focused=new V,o._highlighted=!1,o._triggersSubmenu=!1,a&&a.addItem&&a.addItem(f(o)),o}return g(n,[{key:"focus",value:function(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}},{key:"ngAfterViewInit",value:function(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){for(var e,t,n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons"),i=0;i<r.length;i++){var a=r[i];null===(e=a.parentNode)||void 0===e||e.removeChild(a)}return(null===(t=n.textContent)||void 0===t?void 0:t.trim())||""}}]),n}(_U)).\u0275fac=function(e){return new(e||uU)(Mc(Xh),Mc(nv),Mc(WM),Mc(bU,8))},uU.\u0275cmp=ut({type:uU,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&Wc("click",function(e){return t._checkDisabled(e)})("mouseenter",function(){return t._handleMouseEnter()}),2&e&&(ac("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),xl("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Bs],attrs:oU,ngContentSelectors:sU,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(el(),tl(0),jc(1,"div",0)),2&e&&(wo(1),Lc("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[KP],encapsulation:2,changeDetection:0}),uU),kU=new Ar("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),SU=0,xU=((fU=function(){function e(t,n,r){v(this,e),this._elementRef=t,this._ngZone=n,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new kd,this._tabSubscription=R.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new V,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _d,this.close=this.closed,this.panelId="mat-menu-panel-"+SU++}return g(e,[{key:"xPosition",get:function(){return this._xPosition},set:function(e){this._xPosition=e,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(e){this._yPosition=e,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(e){this._overlapTrigger=qD(e)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=qD(e)}},{key:"panelClass",set:function(e){var t=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(function(e){t._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(function(e){t._classList[e]=!0}),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(e){this.panelClass=e}},{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var e=this;this._updateDirectDescendants(),this._keyManager=new RM(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(function(){return e.closed.emit("tab")}),this._directDescendantItems.changes.pipe(rb(this._directDescendantItems),Xy(function(e){return le.apply(void 0,n(e.map(function(e){return e._focused})))})).subscribe(function(t){return e._keyManager.updateActiveItem(t)})}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(rb(this._directDescendantItems),Xy(function(e){return le.apply(void 0,n(e.map(function(e){return e._hovered})))}))}},{key:"addItem",value:function(e){}},{key:"removeItem",value:function(e){}},{key:"_handleKeydown",value:function(e){var t=e.keyCode,n=this._keyManager;switch(t){case 27:BD(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==t&&40!==t||n.setFocusOrigin("keyboard"),n.onKeydown(e)}}},{key:"focusFirstItem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.pipe(eb(1)).subscribe(function(){return e._focusFirstItem(t)}):this._focusFirstItem(t)}},{key:"_focusFirstItem",value:function(e){var t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(e){var t="mat-elevation-z".concat(Math.min(4+e,24)),n=Object.keys(this._classList).find(function(e){return e.startsWith("mat-elevation-z")});n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}},{key:"setPositionClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===t,n["mat-menu-below"]="below"===t}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(e){this._animationDone.next(e),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var e=this;this._allItems.changes.pipe(rb(this._allItems)).subscribe(function(t){e._directDescendantItems.reset(t.filter(function(t){return t._parentMenu===e})),e._directDescendantItems.notifyOnChanges()})}}]),e}()).\u0275fac=function(e){return new(e||fU)(Mc(Xh),Mc(kp),Mc(kU))},fU.\u0275dir=yt({type:fU,contentQueries:function(e,t,n){var r;1&e&&(Pd(n,gU,1),Pd(n,wU,1),Pd(n,wU,0)),2&e&&(Dd(r=Ld())&&(t.lazyContent=r.first),Dd(r=Ld())&&(t._allItems=r),Dd(r=Ld())&&(t.items=r))},viewQuery:function(e,t){var n;1&e&&Md(Tf,1),2&e&&Dd(n=Ld())&&(t.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),fU),CU=((hU=function(e){c(n,e);var t=u(n);function n(e,r,i){return v(this,n),t.call(this,e,r,i)}return n}(xU)).\u0275fac=function(e){return new(e||hU)(Mc(Xh),Mc(kp),Mc(kU))},hU.\u0275cmp=ut({type:hU,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,t){2&e&&ac("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Hh([{provide:bU,useExisting:hU}]),Bs],ngContentSelectors:sU,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(el(),xc(0,cU,3,6,"ng-template"))},directives:[Pv],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[mU.transformMenu,mU.fadeInItems]},changeDetection:0}),hU),EU=new Ar("mat-menu-scroll-strategy"),RU={provide:EU,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},AU=oM({passive:!0}),TU=((vU=function(){function t(e,n,r,i,a,o,s,c){var l=this;v(this,t),this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=o,this._dir=s,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=R.EMPTY,this._hoverSubscription=R.EMPTY,this._menuCloseSubscription=R.EMPTY,this._handleTouchStart=function(e){HM(e)||(l._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _d,this.onMenuOpen=this.menuOpened,this.menuClosed=new _d,this.onMenuClose=this.menuClosed,this._scrollStrategy=i,this._parentMaterialMenu=a instanceof xU?a:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,AU),o&&(o._triggersSubmenu=this.triggersSubmenu())}return g(t,[{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(e){this.menu=e}},{key:"menu",get:function(){return this._menu},set:function(e){var t=this;e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(function(e){t._destroyMenu(e),"click"!==e&&"tab"!==e||!t._parentMaterialMenu||t._parentMaterialMenu.closed.emit(e)})))}},{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,AU),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var e=this;if(!this._menuOpen){this._checkMenu();var t=this._createOverlay(),n=t.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(function(){return e.closeMenu()}),this._initMenu(),this.menu instanceof xU&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}},{key:"_destroyMenu",value:function(e){var t=this;if(this._overlayRef&&this.menuOpen){var n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),!this.restoreFocus||"keydown"!==e&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy),this._openedBy=void 0,n instanceof xU?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(sb(function(e){return"void"===e.toState}),eb(1),JA(n.lazyContent._attached)).subscribe({next:function(){return n.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n.lazyContent&&n.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var e=0,t=this.menu.parentMenu;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}},{key:"_setIsMenuOpen",value:function(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}},{key:"_checkMenu",value:function(){}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new CF({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(e){var t=this;this.menu.setPositionClasses&&e.positionChanges.subscribe(function(e){t.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}},{key:"_setPosition",value:function(t){var n=e("before"===this.menu.xPosition?["end","start"]:["start","end"],2),r=n[0],i=n[1],a=e("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=a[0],s=a[1],c=o,l=s,u=r,h=i,f=0;this.triggersSubmenu()?(h=r="before"===this.menu.xPosition?"start":"end",i=u="end"===r?"start":"end",f="bottom"===o?8:-8):this.menu.overlapTrigger||(c="top"===o?"bottom":"top",l="top"===s?"bottom":"top"),t.withPositions([{originX:r,originY:c,overlayX:u,overlayY:o,offsetY:f},{originX:i,originY:c,overlayX:h,overlayY:o,offsetY:f},{originX:r,originY:l,overlayX:u,overlayY:s,offsetY:-f},{originX:i,originY:l,overlayX:h,overlayY:s,offsetY:-f}])}},{key:"_menuClosingActions",value:function(){var e=this,t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return le(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Fy(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(sb(function(t){return t!==e._menuItemInstance}),sb(function(){return e._menuOpen})):Fy(),n)}},{key:"_handleMousedown",value:function(e){UM(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}},{key:"_handleKeydown",value:function(e){var t=e.keyCode;13!==t&&32!==t||(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===t&&"ltr"===this.dir||37===t&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}},{key:"_handleClick",value:function(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var e=this;this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(sb(function(t){return t===e._menuItemInstance&&!t.disabled}),fT(0,IL)).subscribe(function(){e._openedBy="mouse",e.menu instanceof xU&&e.menu._isAnimating?e.menu._animationDone.pipe(eb(1),fT(0,IL),JA(e._parentMaterialMenu._hovered())).subscribe(function(){return e.openMenu()}):e.openMenu()}))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new iF(this.menu.templateRef,this._viewContainerRef)),this._portal}}]),t}()).\u0275fac=function(e){return new(e||vU)(Mc(YF),Mc(Xh),Mc(Lf),Mc(EU),Mc(bU,8),Mc(wU,10),Mc(iP,8),Mc(WM))},vU.\u0275dir=yt({type:vU,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&Wc("mousedown",function(e){return t._handleMousedown(e)})("keydown",function(e){return t._handleKeydown(e)})("click",function(e){return t._handleClick(e)}),2&e&&ac("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),vU),IU=((pU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||pU)},pU.\u0275mod=vt({type:pU}),pU.\u0275inj=Me({providers:[RU],imports:[dP]}),pU),OU=((dU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||dU)},dU.\u0275mod=vt({type:dU}),dU.\u0275inj=Me({providers:[RU],imports:[[rm,dP,QP,eN,IU],eF,dP,IU]}),dU),DU=["input"],MU=function(){return{enterDuration:150}},PU=["*"],LU=new Ar("mat-checkbox-default-options",{providedIn:"root",factory:FU});function FU(){return{color:"accent",clickAction:"check-indeterminate"}}var NU,zU,jU,BU,VU,UU=0,HU={color:"accent",clickAction:"check-indeterminate"},$U={provide:WE,useExisting:xe(function(){return WU}),multi:!0},qU=function e(){v(this,e)},GU=gP(vP(mP(pP(function e(t){v(this,e),this._elementRef=t})))),WU=((jU=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s,c){var l;return v(this,n),(l=t.call(this,e))._changeDetectorRef=r,l._focusMonitor=i,l._ngZone=a,l._animationMode=s,l._options=c,l.ariaLabel="",l.ariaLabelledby=null,l._uniqueId="mat-checkbox-"+ ++UU,l.id=l._uniqueId,l.labelPosition="after",l.name=null,l.change=new _d,l.indeterminateChange=new _d,l._onTouched=function(){},l._currentAnimationClass="",l._currentCheckState=0,l._controlValueAccessorChangeFn=function(){},l._checked=!1,l._disabled=!1,l._indeterminate=!1,l._options=l._options||HU,l.color=l.defaultColor=l._options.color||HU.color,l.tabIndex=parseInt(o)||0,l}return g(n,[{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"required",get:function(){return this._required},set:function(e){this._required=qD(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){t||Promise.resolve().then(function(){e._onTouched(),e._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"checked",get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t=qD(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(e){var t=e!=this._indeterminate;this._indeterminate=qD(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(e){var t=this._currentCheckState,n=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var r=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){n.classList.remove(r)},1e3)})}}},{key:"_emitChangeEvent",value:function(){var e=new qU;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(e){var t,n=this,r=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===r?this.disabled||"noop"!==r||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(function(){n._indeterminate=!1,n.indeterminateChange.emit(n._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}},{key:"_onInteractionEvent",value:function(e){e.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(e,t){if("NoopAnimations"===this._animationMode)return"";var n="";switch(e){case 0:if(1===t)n="unchecked-checked";else{if(3!=t)return"";n="unchecked-indeterminate"}break;case 2:n=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-".concat(n)}},{key:"_syncIndeterminate",value:function(e){var t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}]),n}(GU)).\u0275fac=function(e){return new(e||jU)(Mc(Xh),Mc(Sf),Mc(WM),Mc(kp),_r("tabindex"),Mc(QC,8),Mc(LU,8))},jU.\u0275cmp=ut({type:jU,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var n;1&e&&(Md(DU,1),Md(KP,1)),2&e&&(Dd(n=Ld())&&(t._inputElement=n.first),Dd(n=Ld())&&(t.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(xu("id",t.id),ac("tabindex",null),xl("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Hh([$U]),Bs],ngContentSelectors:PU,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(el(),Nc(0,"label",0,1),Nc(2,"span",2),Nc(3,"input",3,4),Wc("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),zc(),Nc(5,"span",5),jc(6,"span",6),zc(),jc(7,"span",7),Nc(8,"span",8),Ln(),Nc(9,"svg",9),jc(10,"path",10),zc(),Nn(),jc(11,"span",11),zc(),zc(),Nc(12,"span",12,13),Wc("cdkObserveContent",function(){return t._onLabelTextChange()}),Nc(14,"span",14),Bl(15,"\xa0"),zc(),tl(16),zc(),zc()),2&e){var n=Cc(1),r=Cc(13);ac("for",t.inputId),wo(2),xl("mat-checkbox-inner-container-no-side-margin",!r.textContent||!r.textContent.trim()),wo(1),Lc("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),ac("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),wo(2),Lc("matRippleTrigger",n)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Zf(19,MU))}},directives:[KP,pM],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),jU),YU=((zU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||zU)},zU.\u0275mod=vt({type:zU}),zU.\u0275inj=Me({}),zU),ZU=((NU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||NU)},NU.\u0275mod=vt({type:NU}),NU.\u0275inj=Me({imports:[[QP,dP,vM,YU],dP,YU]}),NU),XU=["*",[["mat-card-footer"]]],KU=["*","mat-card-footer"],QU=((VU=function e(t){v(this,e),this._animationMode=t}).\u0275fac=function(e){return new(e||VU)(Mc(QC,8))},VU.\u0275cmp=ut({type:VU,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&xl("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:KU,decls:2,vars:0,template:function(e,t){1&e&&(el(XU),tl(0),tl(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),VU),JU=((BU=function e(){v(this,e)}).\u0275fac=function(e){return new(e||BU)},BU.\u0275mod=vt({type:BU}),BU.\u0275inj=Me({imports:[[dP],dP]}),BU);function eH(e,t){if(1&e&&(Nc(0,"mat-card",11),Nc(1,"mat-icon"),Bl(2,"drag_handle"),zc(),Nc(3,"mat-checkbox",12),Bl(4),zc(),zc()),2&e){var n=Qc().$implicit;wo(3),Lc("checked",!n.hidden),wo(1),Ul(" ",n.name," ")}}var tH=function(e,t){return{columnIndex:e,columnTitle:t}};function nH(e,t){if(1&e){var n=Hc();Nc(0,"div",7),Wc("cdkDragDropped",function(e){return an(n),Qc().columnMenuDropped(e)}),Nc(1,"mat-icon",8),Bl(2,"drag_handle"),zc(),Nc(3,"mat-checkbox",9),Wc("click",function(e){return e.stopPropagation()})("change",function(){an(n);var e=t.$implicit;return Qc().toggleSelectedColumn(e.id)}),Bl(4),zc(),xc(5,eH,5,2,"mat-card",10),zc()}if(2&e){var r=t.$implicit;Lc("cdkDragData",Kf(4,tH,t.index,r.id)),wo(3),Lc("disabled",r.preventBeingHidden)("checked",!r.hidden),wo(1),Ul(" ",r.name," ")}}var rH,iH=["*"],aH=((rH=function(){function e(t,n){v(this,e),this.elementRef=t,this.columnSorterService=n,this.columnsChange=new _d}return g(e,[{key:"ngOnInit",value:function(){var e=this.columnSorterService.loadSavedColumnInfo(this.columnInfo,this.saveName),n=new Set(this.columnInfo.map(function(e){return e.name})),r=new Set(e.map(function(e){return e.name}));this.initialColumnInfo=this.columnInfo,function(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.has(o)?i.delete(o):i.add(o)}}catch(s){a.e(s)}finally{a.f()}return i}(n,r).size||(this.columnInfo=e),this.emitColumns(!1)}},{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.classList+="va-mat-button-no-input"}},{key:"columnMenuDropped",value:function(e){CV(this.columnInfo,e.item.data.columnIndex,e.currentIndex),this.emitColumns(!0)}},{key:"toggleSelectedColumn",value:function(e){var t=this.columnInfo.find(function(t){return t.id===e});t.hidden=!t.hidden,this.emitColumns(!0)}},{key:"onResetColumns",value:function(){this.columnInfo=this.initialColumnInfo,this.emitColumns(!0)}},{key:"emitColumns",value:function(e){var t=this;window.requestAnimationFrame(function(){t.columnInfo.filter(function(e){return!e.hidden}).map(function(e){return e.id}),t.columnsChange.emit(t.columnInfo.filter(function(e){return!e.hidden}).map(function(e){return e.id})),e&&t.columnSorterService.saveColumnInfo(t.columnInfo,t.saveName)})}}]),e}()).\u0275fac=function(e){return new(e||rH)(Mc(Xh),Mc(aU))},rH.\u0275cmp=ut({type:rH,selectors:[["digby-table-column-sorter"],["button","digby-table-column-sorter",""]],inputs:{columns:"columns",saveName:"saveName",columnInfo:"columnInfo"},outputs:{columnsChange:"columnsChange"},features:[Hh([aU])],ngContentSelectors:iH,decls:11,vars:2,consts:[[2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["columnMenu","matMenu"],["cdkDropList","","dkDropListLockAxis","y","cdkDropListOrientation","vertical",1,"digby-table-dragable-container"],["digby-table-column-clear","","id","col-clear-button",2,"border-width","0px !important",3,"click"],[1,"primary-icon",2,"padding-left","0px !important"],["for","col-clear-button",1,"form-check-label"],["class","dragable-row","cdkDrag","",3,"cdkDragData","cdkDragDropped",4,"ngFor","ngForOf"],["cdkDrag","",1,"dragable-row",3,"cdkDragData","cdkDragDropped"],["cdkDragHandle",""],[3,"disabled","checked","click","change"],["class","digby-table-drag-preview",4,"cdkDragPreview"],[1,"digby-table-drag-preview"],[3,"checked"]],template:function(e,t){1&e&&(el(),Nc(0,"button",0),tl(1),zc(),Nc(2,"mat-menu",null,1),Nc(4,"div",2),Nc(5,"button",3),Wc("click",function(){return t.onResetColumns()}),Nc(6,"mat-icon",4),Bl(7,"clear"),zc(),zc(),Nc(8,"label",5),Bl(9,"Reset Columns"),zc(),xc(10,nH,6,7,"div",6),zc(),zc()),2&e&&(Lc("matMenuTriggerFor",Cc(3)),wo(10),Lc("ngForOf",t.columnInfo))},directives:[TU,CU,YV,QB,Fv,eU,XV,WU,JV,QU],styles:[".va-mat-button-no-input{border:none;background:transparent;outline:none}.digby-table-dragable-container{min-width:200px}.digby-table-dragable-container .dragable-row{width:100%;line-height:14px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.digby-table-dragable-container .dragable-row mat-checkbox,.digby-table-dragable-container .dragable-row mat-icon{vertical-align:top}.digby-table-dragable-container .dragable-row mat-icon{opacity:.15;transition:opacity .5s;margin-right:8px;padding-left:4px;color:#616161;cursor:-webkit-grab;cursor:grab}.digby-table-dragable-container .dragable-row:hover mat-icon{opacity:1}.digby-table-drag-preview{padding:4px 8px 4px 4px!important;cursor:-webkit-grabbing!important;cursor:grabbing!important;margin-top:-4px;margin-left:-4px;font-size:14px}.digby-table-drag-preview mat-checkbox,.digby-table-drag-preview mat-icon{vertical-align:top}.digby-table-drag-preview mat-icon{margin-right:8px;padding-left:4px;color:#616161}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .3s cubic-bezier(0,0,.2,1)}"],encapsulation:2,changeDetection:0}),rH);function oH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return Math.abs(e-t)<n}function sH(e,t,n,r){var i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(i.top+=r),t.bottom&&(i.bottom+=r),t.left&&(i.left+=n),t.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function cH(e){var t=e.clientY,n=e.rect;return t>=n.top&&t<=n.bottom}function lH(e){var t=e.clientX,n=e.rect;return t>=n.left&&t<=n.right}function uH(e){var t=e.clientX,n=e.clientY,r=e.elm,i=e.allowedEdges,a=e.cursorPrecision,o=r.nativeElement.getBoundingClientRect(),s={};return i.left&&oH(t,o.left,a)&&cH({clientY:n,rect:o})&&(s.left=!0),i.right&&oH(t,o.right,a)&&cH({clientY:n,rect:o})&&(s.right=!0),i.top&&oH(n,o.top,a)&&lH({clientX:t,rect:o})&&(s.top=!0),i.bottom&&oH(n,o.bottom,a)&&lH({clientX:t,rect:o})&&(s.bottom=!0),s}var hH=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function fH(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function dH(e){var t=e.edges,n=e.initialRectangle,r=e.newRectangle,i={};return Object.keys(t).forEach(function(e){i[e]=(r[e]||0)-(n[e]||0)}),i}var pH,vH,mH,gH,yH,bH,_H=((pH=function(){function t(e,n,r,i){v(this,t),this.platformId=e,this.renderer=n,this.elm=r,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=hH,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new _d,this.resizing=new _d,this.resizeEnd=new _d,this.mouseup=new V,this.mousedown=new V,this.mousemove=new V,this.destroy$=new V,this.resizeEdges$=new V,this.pointerEventListeners=wH.getInstance(n,i)}return g(t,[{key:"ngOnInit",value:function(){var t,n=this,r=le(this.pointerEventListeners.pointerDown,this.mousedown),i=le(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Eb(function(e){var n=e.event;t&&n.preventDefault()}),ye()),a=le(this.pointerEventListeners.pointerUp,this.mouseup),o=function(){t&&t.clonedNode&&(n.elm.nativeElement.parentElement.removeChild(t.clonedNode),n.renderer.setStyle(n.elm.nativeElement,"visibility","inherit"))},s=function(){return Object.assign({},hH,n.resizeCursors)};this.resizeEdges$.pipe(rb(this.resizeEdges),q(function(){return n.resizeEdges&&Object.keys(n.resizeEdges).some(function(e){return!!n.resizeEdges[e]})}),Xy(function(e){return e?i:Wy}),ML(this.mouseMoveThrottleMS),JA(this.destroy$)).subscribe(function(e){var r=uH({clientX:e.clientX,clientY:e.clientY,elm:n.elm,allowedEdges:n.resizeEdges,cursorPrecision:n.resizeCursorPrecision}),i=s();if(!t){var a=fH(r,i);n.renderer.setStyle(n.elm.nativeElement,"cursor",a)}n.setElementClass(n.elm,"resize-left-hover",!0===r.left),n.setElementClass(n.elm,"resize-right-hover",!0===r.right),n.setElementClass(n.elm,"resize-top-hover",!0===r.top),n.setElementClass(n.elm,"resize-bottom-hover",!0===r.bottom)}),r.pipe(ie(function(o){function s(e){return{clientX:e.clientX-o.clientX,clientY:e.clientY-o.clientY}}var c=function(){var e={x:1,y:1};return t&&(n.resizeSnapGrid.left&&t.edges.left?e.x=+n.resizeSnapGrid.left:n.resizeSnapGrid.right&&t.edges.right&&(e.x=+n.resizeSnapGrid.right),n.resizeSnapGrid.top&&t.edges.top?e.y=+n.resizeSnapGrid.top:n.resizeSnapGrid.bottom&&t.edges.bottom&&(e.y=+n.resizeSnapGrid.bottom)),e};function l(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return le(i.pipe(eb(1)).pipe(q(function(e){return[,e]})),i.pipe(function(e){return e.lift(new PL)})).pipe(q(function(t){var n=e(t,2),r=n[0],i=n[1];return[r?s(r):r,s(i)]})).pipe(sb(function(t){var n=e(t,2),r=n[0],i=n[1];if(!r)return!0;var a=c(),o=l(r,a),s=l(i,a);return o.x!==s.x||o.y!==s.y})).pipe(q(function(t){var n=e(t,2)[1],r=c();return{clientX:Math.round(n.clientX/r.x)*r.x,clientY:Math.round(n.clientY/r.y)*r.y}})).pipe(JA(le(a,r)))})).pipe(sb(function(){return!!t})).pipe(q(function(e){var n=e.clientX,r=e.clientY;return sH(t.startingRect,t.edges,n,r)})).pipe(sb(function(e){return n.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0)})).pipe(sb(function(e){return!n.validateResize||n.validateResize({rectangle:e,edges:dH({edges:t.edges,initialRectangle:t.startingRect,newRectangle:e})})}),JA(this.destroy$)).subscribe(function(e){t&&t.clonedNode&&(n.renderer.setStyle(t.clonedNode,"height","".concat(e.height,"px")),n.renderer.setStyle(t.clonedNode,"width","".concat(e.width,"px")),n.renderer.setStyle(t.clonedNode,"top","".concat(e.top,"px")),n.renderer.setStyle(t.clonedNode,"left","".concat(e.left,"px"))),n.zone.run(function(){n.resizing.emit({edges:dH({edges:t.edges,initialRectangle:t.startingRect,newRectangle:e}),rectangle:e})}),t.currentRect=e}),r.pipe(q(function(e){var t=e.clientX,r=e.clientY;return e.edges||uH({clientX:t,clientY:r,elm:n.elm,allowedEdges:n.resizeEdges,cursorPrecision:n.resizeCursorPrecision})})).pipe(sb(function(e){return Object.keys(e).length>0}),JA(this.destroy$)).subscribe(function(e){t&&o();var r=function(e,t){var n=0,r=0,i=e.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(function(e){return i[e]}).find(function(e){return!!e});if(a&&a.includes("translate")&&(n=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};var o=e.nativeElement.getBoundingClientRect();return{height:o.height,width:o.width,top:o.top-r,bottom:o.bottom-r,left:o.left-n,right:o.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}(n.elm,n.ghostElementPositioning);t={edges:e,startingRect:r,currentRect:r};var i=s(),a=fH(t.edges,i);n.renderer.setStyle(document.body,"cursor",a),n.setElementClass(n.elm,"resize-active",!0),n.enableGhostResize&&(t.clonedNode=n.elm.nativeElement.cloneNode(!0),n.elm.nativeElement.parentElement.appendChild(t.clonedNode),n.renderer.setStyle(n.elm.nativeElement,"visibility","hidden"),n.renderer.setStyle(t.clonedNode,"position",n.ghostElementPositioning),n.renderer.setStyle(t.clonedNode,"left","".concat(t.startingRect.left,"px")),n.renderer.setStyle(t.clonedNode,"top","".concat(t.startingRect.top,"px")),n.renderer.setStyle(t.clonedNode,"height","".concat(t.startingRect.height,"px")),n.renderer.setStyle(t.clonedNode,"width","".concat(t.startingRect.width,"px")),n.renderer.setStyle(t.clonedNode,"cursor",fH(t.edges,i)),n.renderer.addClass(t.clonedNode,"resize-ghost-element"),t.clonedNode.scrollTop=t.startingRect.scrollTop,t.clonedNode.scrollLeft=t.startingRect.scrollLeft),n.zone.run(function(){n.resizeStart.emit({edges:dH({edges:e,initialRectangle:r,newRectangle:r}),rectangle:sH(r,{},0,0)})})}),a.pipe(JA(this.destroy$)).subscribe(function(){t&&(n.renderer.removeClass(n.elm.nativeElement,"resize-active"),n.renderer.setStyle(document.body,"cursor",""),n.renderer.setStyle(n.elm.nativeElement,"cursor",""),n.zone.run(function(){n.resizeEnd.emit({edges:dH({edges:t.edges,initialRectangle:t.startingRect,newRectangle:t.currentRect}),rectangle:t.currentRect})}),o(),t=null)})}},{key:"ngOnChanges",value:function(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}},{key:"ngOnDestroy",value:function(){im(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}},{key:"setElementClass",value:function(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}]),t}()).\u0275fac=function(e){return new(e||pH)(Mc(sp),Mc(Jh),Mc(Xh),Mc(kp))},pH.\u0275dir=yt({type:pH,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[Dt]}),pH),wH=function(){function e(t,n){v(this,e),this.pointerDown=new L(function(e){var r,i;return n.runOutsideAngular(function(){r=t.listen("document","mousedown",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchstart",function(t){e.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(ye()),this.pointerMove=new L(function(e){var r,i;return n.runOutsideAngular(function(){r=t.listen("document","mousemove",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchmove",function(t){e.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(ye()),this.pointerUp=new L(function(e){var r,i,a;return n.runOutsideAngular(function(){r=t.listen("document","mouseup",function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchend",function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}),a=t.listen("document","touchcancel",function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})}),function(){r(),i(),a()}}).pipe(ye())}return g(e,null,[{key:"getInstance",value:function(t,n){return e.instance||(e.instance=new e(t,n)),e.instance}}]),e}(),kH=((vH=function e(){v(this,e)}).\u0275fac=function(e){return new(e||vH)},vH.\u0275mod=vt({type:vH}),vH.\u0275inj=Me({}),vH),SH=oM({passive:!0}),xH=((gH=function(){function e(t,n){v(this,e),this._platform=t,this._ngZone=n,this._monitoredElements=new Map}return g(e,[{key:"monitor",value:function(e){var t=this;if(!this._platform.isBrowser)return Wy;var n=ZD(e),r=this._monitoredElements.get(n);if(r)return r.subject;var i=new V,a="cdk-text-field-autofilled",o=function(e){"cdk-text-field-autofill-start"!==e.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===e.animationName&&n.classList.contains(a)&&(n.classList.remove(a),t._ngZone.run(function(){return i.next({target:e.target,isAutofilled:!1})})):(n.classList.add(a),t._ngZone.run(function(){return i.next({target:e.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",o,SH),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",o,SH)}}),i}},{key:"stopMonitoring",value:function(e){var t=ZD(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}},{key:"ngOnDestroy",value:function(){var e=this;this._monitoredElements.forEach(function(t,n){return e.stopMonitoring(n)})}}]),e}()).\u0275fac=function(e){return new(e||gH)(ti(nM),ti(kp))},gH.\u0275prov=De({factory:function(){return new gH(ti(nM),ti(kp))},token:gH,providedIn:"root"}),gH),CH=((mH=function e(){v(this,e)}).\u0275fac=function(e){return new(e||mH)},mH.\u0275mod=vt({type:mH}),mH.\u0275inj=Me({imports:[[rM]]}),mH),EH=new Ar("MAT_INPUT_VALUE_ACCESSOR"),RH=["button","checkbox","file","hidden","image","radio","range","reset","submit"],AH=0,TH=yP(function e(t,n,r,i){v(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}),IH=((bH=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s,c,l,u,h){var f;v(this,n),(f=t.call(this,s,a,o,i))._elementRef=e,f._platform=r,f.ngControl=i,f._autofillMonitor=l,f._formField=h,f._uid="mat-input-"+AH++,f.focused=!1,f.stateChanges=new V,f.controlType="mat-input",f.autofilled=!1,f._disabled=!1,f._required=!1,f._type="text",f._readonly=!1,f._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(e){return aM().has(e)});var d=f._elementRef.nativeElement,p=d.nodeName.toLowerCase();return f._inputValueAccessor=c||d,f._previousNativeValue=f.value,f.id=f.id,r.IOS&&u.runOutsideAngular(function(){e.nativeElement.addEventListener("keyup",function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),f._isServer=!f._platform.isBrowser,f._isNativeSelect="select"===p,f._isTextarea="textarea"===p,f._isNativeSelect&&(f.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),f}return g(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=qD(e),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=qD(e)}},{key:"type",get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea&&aM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(e){this._readonly=qD(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(t){e.autofilled=t.isAutofilled,e.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_focusChanged",value:function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var e,t,n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){var r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}},{key:"_validateType",value:function(){RH.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(TH)).\u0275fac=function(e){return new(e||bH)(Mc(Xh),Mc(nM),Mc(xR,10),Mc(iA,8),Mc(pA,8),Mc(HP),Mc(EH,10),Mc(xH),Mc(kp),Mc(FN,8))},bH.\u0275dir=yt({type:bH,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&Wc("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(xu("disabled",t.disabled)("required",t.required),ac("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState&&!t.empty)("aria-required",t.required),xl("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Hh([{provide:EN,useExisting:bH}]),Bs,Dt]}),bH),OH=((yH=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yH)},yH.\u0275mod=vt({type:yH}),yH.\u0275inj=Me({providers:[HP],imports:[[CH,zN,dP],CH,zN]}),yH),DH=["filterMenu"];function MH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"filter_list"),zc())}function PH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_downward"),zc())}function LH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_upward"),zc())}function FH(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",9),Nc(2,"button",10),Wc("click",function(){return an(n),Qc().onSortAsc()}),Bl(3,"Sort Ascending"),zc(),zc(),zc()}}function NH(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",5),Nc(2,"div",11),Nc(3,"button",10),Wc("click",function(){return an(n),Qc().onSortDesc()}),Bl(4,"Sort Descending"),zc(),zc(),zc(),zc()}}function zH(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",5),Nc(2,"button",12),Wc("click",function(){return an(n),Qc().onSortClear()}),Bl(3,"Clear Sort"),zc(),zc(),zc()}}function jH(e,t){if(1&e&&(Nc(0,"mat-option",17),Bl(1),zc()),2&e){var n=t.$implicit;Lc("value",n),wo(1),Ul(" ",n.name," ")}}function BH(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",5),Nc(2,"span",14),Bl(3,"and"),zc(),zc(),Nc(4,"div",5),Nc(5,"mat-form-field",18),Wc("click",function(e){return e.stopPropagation()}),Nc(6,"input",20),Wc("ngModelChange",function(e){return an(n),Qc(3).operand2Input=e}),zc(),zc(),zc(),Vc()}if(2&e){var r=Qc(3);wo(6),Lc("ngModel",r.operand2Input)}}function VH(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",5),Nc(2,"mat-form-field",18),Wc("click",function(e){return e.stopPropagation()}),Nc(3,"input",19),Wc("ngModelChange",function(e){return an(n),Qc(2).operand1Input=e}),zc(),zc(),zc(),xc(4,BH,7,1,"ng-container",1),Nc(5,"div",5),Nc(6,"button",12),Wc("click",function(){return an(n),Qc(2).onClearFilter()}),Bl(7,"Clear Filter"),zc(),zc(),jc(8,"div",13),Vc()}if(2&e){var r=Qc(2);wo(3),Lc("ngModel",r.operand1Input),wo(1),Lc("ngIf",3===r.selectedOperator.operands)}}function UH(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",5),jc(2,"div",13),Nc(3,"mat-form-field",14),Nc(4,"mat-select",15),Wc("valueChange",function(e){return an(n),Qc().selectedOperator=e}),xc(5,jH,2,2,"mat-option",16),zc(),zc(),zc(),xc(6,VH,9,2,"ng-container",1),zc()}if(2&e){var r=Qc();wo(4),Lc("value",r.selectedOperator)("compareWith",r.compareFn),wo(1),Lc("ngForOf",r.operatorList),wo(1),Lc("ngIf",r.selectedOperator)}}function HH(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",5),Nc(2,"button",12),Wc("click",function(){return an(n),Qc().onClearSelection()}),Bl(3,"Clear Selection"),zc(),zc(),zc()}}var $H,qH=(($H=function(){function e(){v(this,e),this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new _d,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Begins with",operands:2,operator:"ilike",postfix:"%"},{name:"Ends with",operands:2,operator:"ilike",prefix:"%"},{name:"Includes",operands:2,operator:"ilike",prefix:"%",postfix:"%"},{name:"Matches",operands:2,operator:"ilike"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[],this.compareFn=this.compareByValue}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0}),this.setFilter$&&this.setFilter$.subscribe(function(t){t&&(t.op1.length>0?(e.selectedOperator=t.operator,e.operand1Input=t.op1,e.operand2Input=t.op2,e.onValidation()):(e.selectedOperator=null,e.operand1Input="",e.operand2Input="",e.onValidation()))})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands&&e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:(this.selectedOperator.prefix?this.selectedOperator.prefix:"")+this.operand1Input+(this.selectedOperator.postfix?this.selectedOperator.postfix:"")}),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}},{key:"compareByValue",value:function(e,t){return e&&t&&e.name===t.name}}]),e}()).\u0275fac=function(e){return new(e||$H)},$H.\u0275cmp=ut({type:$H,selectors:[["app-text-filter"]],viewQuery:function(e,t){var n;1&e&&(Md(DH,1),Md(IO,1)),2&e&&(Dd(n=Ld())&&(t.matMenuTrigger=n.first),Dd(n=Ld())&&(t.ngMultiSelect=n.first))},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$",setFilter$:"setFilter$",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},decls:22,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"container","content-centered",3,"click"],[1,"row"],[1,"col-4","ml-auto"],["mat-flat-button","","color","primary",1,"float-right",2,"min-width","0px",3,"click"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[1,"col-8",2,"padding-left","0px","padding-right","16px"],["mat-button","",1,"float-left",3,"click"],[1,"col-12",2,"padding-left","0px"],["mat-button","",3,"click"],[1,"dropdown-divider"],[1,"col-12"],["placeholder","Select Filter",3,"value","compareWith","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Filter value","name","operand1Input",3,"ngModel","ngModelChange"],["matInput","","placeholder","Filter value 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Nc(0,"button",0),Nc(1,"span"),xc(2,MH,2,0,"mat-icon",1),xc(3,PH,2,0,"mat-icon",1),xc(4,LH,2,0,"mat-icon",1),Nc(5,"mat-icon"),Bl(6,"arrow_drop_down"),zc(),zc(),zc(),Nc(7,"mat-menu",2,3),Nc(9,"div",4),Wc("click",function(e){return e.stopPropagation()}),Nc(10,"form"),Nc(11,"div",5),xc(12,FH,4,0,"div",1),Nc(13,"div",6),Nc(14,"button",7),Wc("click",function(){return t.onValidation()}),Bl(15," OK "),zc(),zc(),zc(),xc(16,NH,5,0,"div",1),xc(17,zH,4,0,"div",1),xc(18,UH,7,4,"div",1),xc(19,HH,4,0,"div",1),Nc(20,"div"),Nc(21,"ng-multiselect-dropdown",8),Wc("ngModelChange",function(e){return t.selectedItems=e}),zc(),zc(),zc(),zc(),zc()),2&e&&(Lc("matMenuTriggerFor",Cc(8)),wo(2),Lc("ngIf",t.selectedOperator||t.selectedItems.length>0),wo(1),Lc("ngIf","desc"===t.selectedSort),wo(1),Lc("ngIf","asc"===t.selectedSort),wo(8),Lc("ngIf",t.showSort),wo(4),Lc("ngIf",t.showSort),wo(1),Lc("ngIf",t.selectedSort),wo(1),Lc("ngIf",t.showTextFilter),wo(1),Lc("ngIf",t.selectedItems.length),wo(2),Rl("filter-dropdown"),Lc("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[bL,TU,zv,QB,CU,cA,RR,iA,IO,ER,sA,NN,cz,Fv,lL,IH,QE],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important;min-width:240px!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),$H),GH=["filterMenu"];function WH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"filter_list"),zc())}function YH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_upward"),zc())}function ZH(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_downward"),zc())}function XH(e,t){if(1&e){var n=Hc();Nc(0,"div",6),Nc(1,"button",8),Wc("click",function(){return an(n),Qc().onSortClear()}),Bl(2,"Clear Sort"),zc(),zc()}}function KH(e,t){if(1&e&&(Nc(0,"mat-option",16),Bl(1),zc()),2&e){var n=t.$implicit;Lc("value",n),wo(1),Ul(" ",n.name," ")}}function QH(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",6),Nc(2,"span",5),Bl(3,"and"),zc(),zc(),Nc(4,"div",6),Nc(5,"mat-form-field",17),Wc("click",function(e){return e.stopPropagation()}),Nc(6,"input",20),Wc("ngModelChange",function(e){return an(n),Qc(2).operand2Input=e}),zc(),zc(),zc(),Vc()}if(2&e){var r=Qc(2);wo(6),Lc("ngModel",r.operand2Input)}}function JH(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",6),Nc(2,"mat-form-field",17),Wc("click",function(e){return e.stopPropagation()}),Nc(3,"input",18),Wc("ngModelChange",function(e){return an(n),Qc().operand1Input=e}),zc(),zc(),zc(),xc(4,QH,7,1,"ng-container",1),Nc(5,"div",6),Nc(6,"button",19),Wc("click",function(){return an(n),Qc().onClearFilter()}),Bl(7,"Clear Filter"),zc(),zc(),jc(8,"div",12),Vc()}if(2&e){var r=Qc();wo(3),Lc("ngModel",r.operand1Input),wo(1),Lc("ngIf",3===r.selectedOperator.operands)}}function e$(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",6),Nc(2,"button",19),Wc("click",function(){return an(n),Qc().onClearSelection()}),Bl(3,"Clear Selection"),zc(),zc(),zc()}}var t$,n$=((t$=function(){function e(){v(this,e),this.predicateEmitter=new _d,this.operand1Input="",this.operand2Input="",this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||t$)},t$.\u0275cmp=ut({type:t$,selectors:[["app-number-filter"]],viewQuery:function(e,t){var n;1&e&&Md(GH,1),2&e&&Dd(n=Ld())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:31,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Numeric operand 1","name","operand1Input",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["matInput","","placeholder","Numeric operand 2","name","operand2Input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(Nc(0,"button",0),Nc(1,"span"),xc(2,WH,2,0,"mat-icon",1),xc(3,YH,2,0,"mat-icon",1),xc(4,ZH,2,0,"mat-icon",1),Nc(5,"mat-icon"),Bl(6,"arrow_drop_down"),zc(),zc(),zc(),Nc(7,"mat-menu",2,3),Nc(9,"div",4),Wc("click",function(e){return e.stopPropagation()}),Nc(10,"form",5),Nc(11,"div",6),Nc(12,"div",7),Nc(13,"button",8),Wc("click",function(){return t.onSortAsc()}),Bl(14,"Sort Ascending"),zc(),zc(),Nc(15,"div",9),Nc(16,"button",10),Wc("click",function(){return t.onValidation()}),Bl(17," OK "),zc(),zc(),zc(),Nc(18,"div",6),Nc(19,"button",8),Wc("click",function(){return t.onSortDesc()}),Bl(20,"Sort Descending"),zc(),zc(),xc(21,XH,3,0,"div",11),Nc(22,"div",6),jc(23,"div",12),Nc(24,"mat-form-field",5),Nc(25,"mat-select",13),Wc("valueChange",function(e){return t.selectedOperator=e}),xc(26,KH,2,2,"mat-option",14),zc(),zc(),zc(),xc(27,JH,9,2,"ng-container",1),xc(28,e$,4,0,"div",1),Nc(29,"div"),Nc(30,"ng-multiselect-dropdown",15),Wc("ngModelChange",function(e){return t.selectedItems=e}),zc(),zc(),zc(),zc(),zc()),2&e&&(Lc("matMenuTriggerFor",Cc(8)),wo(2),Lc("ngIf",t.selectedOperator||t.selectedItems.length>0),wo(1),Lc("ngIf","desc"===t.selectedSort),wo(1),Lc("ngIf","asc"===t.selectedSort),wo(17),Lc("ngIf",t.selectedSort),wo(4),Lc("value",t.selectedOperator),wo(1),Lc("ngForOf",t.operatorList),wo(1),Lc("ngIf",t.selectedOperator),wo(1),Lc("ngIf",t.selectedItems.length),wo(2),Rl("filter-dropdown"),Lc("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[bL,TU,zv,QB,CU,cA,RR,iA,NN,cz,Fv,IO,ER,sA,lL,IH,QE],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),t$);function r$(e,t){}var i$,a$,o$=function e(){v(this,e),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},s$={dialogContainer:IS("dialogContainer",[PS("void, exit",MS({opacity:0,transform:"scale(0.7)"})),PS("enter",MS({transform:"none"})),LS("* => enter",OS("150ms cubic-bezier(0, 0, 0.2, 1)",MS({transform:"none",opacity:1}))),LS("* => void, * => exit",OS("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",MS({opacity:0})))])},c$=((a$=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s){var c;return v(this,n),(c=t.call(this))._elementRef=e,c._focusTrapFactory=r,c._changeDetectorRef=i,c._config=o,c._focusMonitor=s,c._animationStateChanged=new _d,c._elementFocusedBeforeDialogWasOpened=null,c._closeInteractionType=null,c.attachDomPortal=function(e){return c._portalOutlet.hasAttached(),c._portalOutlet.attachDomPortal(e)},c._ariaLabelledBy=o.ariaLabelledBy||null,c._document=a,c}return g(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){var t=this._getActiveElement(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var e=this._elementRef.nativeElement,t=this._getActiveElement();return e===t||e.contains(t)}},{key:"_getActiveElement",value:function(){var e,t=this._document.activeElement;return(null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement)||t}}]),n}(oF)).\u0275fac=function(e){return new(e||a$)(Mc(Xh),Mc(PM),Mc(Sf),Mc(nv,8),Mc(o$),Mc(WM))},a$.\u0275dir=yt({type:a$,viewQuery:function(e,t){var n;1&e&&Md(cF,3),2&e&&Dd(n=Ld())&&(t._portalOutlet=n.first)},features:[Bs]}),a$),l$=((i$=function(e){c(n,e);var t=u(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments))._state="enter",e}return g(n,[{key:"_onAnimationDone",value:function(e){var t=e.toState,n=e.totalTime;"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(e){var t=e.toState,n=e.totalTime;"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(c$)).\u0275fac=function(e){return u$(e||i$)},i$.\u0275cmp=ut({type:i$,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&Yc("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(xu("id",t._id),ac("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),Cu("@dialogContainer",t._state))},features:[Bs],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&xc(0,r$,0,0,"ng-template",0)},directives:[cF],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[s$.dialogContainer]}}),i$),u$=yr(l$),h$=0,f$=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+h$++;v(this,e),this._overlayRef=t,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new V,this._afterClosed=new V,this._beforeClosed=new V,this._state=0,n._id=i,n._animationStateChanged.pipe(sb(function(e){return"opened"===e.state}),eb(1)).subscribe(function(){r._afterOpened.next(),r._afterOpened.complete()}),n._animationStateChanged.pipe(sb(function(e){return"closed"===e.state}),eb(1)).subscribe(function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()}),t.detachments().subscribe(function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()}),t.keydownEvents().pipe(sb(function(e){return 27===e.keyCode&&!r.disableClose&&!BD(e)})).subscribe(function(e){e.preventDefault(),d$(r,"keyboard")}),t.backdropClick().subscribe(function(){r.disableClose?r._containerInstance._recaptureFocus():d$(r,"mouse")})}return g(e,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(sb(function(e){return"closing"===e.state}),eb(1)).subscribe(function(n){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout(function(){return t._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),e}();function d$(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}var p$,v$,m$,g$=new Ar("MatDialogData"),y$=new Ar("mat-dialog-default-options"),b$=new Ar("mat-dialog-scroll-strategy"),_$={provide:b$,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.block()}}},w$=((m$=function(){function e(t,n,r,i,a,o,s,c,l){var u=this;v(this,e),this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=i,this._overlayContainer=a,this._dialogRefConstructor=s,this._dialogContainerType=c,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new V,this._afterOpenedAtThisLevel=new V,this._ariaHiddenElements=new Map,this.afterAllClosed=Zy(function(){return u.openDialogs.length?u._getAfterAllClosed():u._getAfterAllClosed().pipe(rb(void 0))}),this._scrollStrategy=o}return g(e,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(e,t){var n=this;(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new o$)).id&&this.getDialogById(t.id);var r=this._createOverlay(t),i=this._attachDialogContainer(r,t),a=this._attachDialogContent(e,i,r,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(function(){return n._removeOpenDialog(a)}),this.afterOpened.next(a),i._initializeWithAttachedContent(),a}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(e){return this.openDialogs.find(function(t){return t.id===e})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)}},{key:"_getOverlayConfig",value:function(e){var t=new CF({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}},{key:"_attachDialogContainer",value:function(e,t){var n=Ns.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:o$,useValue:t}]}),r=new rF(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(r).instance}},{key:"_attachDialogContent",value:function(e,t,n,r){var i=new this._dialogRefConstructor(n,t,r.id);if(e instanceof Tf)t.attachTemplatePortal(new iF(e,null,{$implicit:r.data,dialogRef:i}));else{var a=this._createInjector(r,i,t),o=t.attachComponentPortal(new rF(e,r.viewContainerRef,a));i.componentInstance=o.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}},{key:"_createInjector",value:function(e,t,n){var r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||r&&r.get(iP,null)||i.push({provide:iP,useValue:{value:e.direction,change:Fy()}}),Ns.create({parent:r||this._injector,providers:i})}},{key:"_removeOpenDialog",value:function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(e){for(var t=e.length;t--;)e[t].close()}}]),e}()).\u0275fac=function(e){return new(e||m$)(Mc(YF),Mc(Ns),Mc(void 0),Mc(void 0),Mc(DF),Mc(void 0),Mc(Dr),Mc(Dr),Mc(Ar))},m$.\u0275dir=yt({type:m$}),m$),k$=((v$=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s,c){return v(this,n),t.call(this,e,r,a,s,c,o,f$,l$,g$)}return n}(w$)).\u0275fac=function(e){return new(e||v$)(ti(YF),ti(Ns),ti(kv,8),ti(y$,8),ti(b$),ti(v$,12),ti(DF))},v$.\u0275prov=De({token:v$,factory:v$.\u0275fac}),v$),S$=((p$=function e(){v(this,e)}).\u0275fac=function(e){return new(e||p$)},p$.\u0275mod=vt({type:p$}),p$.\u0275inj=Me({providers:[k$,_$],imports:[[eN,lF,dP],dP]}),p$),x$=["mat-calendar-body",""];function C$(e,t){if(1&e&&(Nc(0,"tr",2),Nc(1,"td",3),Bl(2),zc(),zc()),2&e){var n=Qc();wo(1),Sl("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),ac("colspan",n.numCols),wo(1),Ul(" ",n.label," ")}}function E$(e,t){if(1&e&&(Nc(0,"td",7),Bl(1),zc()),2&e){var n=Qc(2);Sl("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),ac("colspan",n._firstRowOffset),wo(1),Ul(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function R$(e,t){if(1&e){var n=Hc();Nc(0,"td",8),Wc("click",function(e){an(n);var r=t.$implicit;return Qc(2)._cellClicked(r,e)}),Nc(1,"div",9),Bl(2),zc(),jc(3,"div",10),zc()}if(2&e){var r=t.$implicit,i=t.index,a=Qc().index,o=Qc();Sl("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),xl("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",o._isActiveCell(a,i))("mat-calendar-body-range-start",o._isRangeStart(r.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",o._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(r.compareValue,a,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(r.compareValue,a,i))("mat-calendar-body-comparison-start",o._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",o._isInPreview(r.compareValue)),Lc("ngClass",r.cssClasses)("tabindex",o._isActiveCell(a,i)?0:-1),ac("data-mat-row",a)("data-mat-col",i)("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-selected",o._isSelected(r.compareValue)),wo(1),xl("mat-calendar-body-selected",o._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",o.todayValue===r.compareValue),wo(1),Ul(" ",r.displayValue," ")}}function A$(e,t){if(1&e&&(Nc(0,"tr",4),xc(1,E$,2,6,"td",5),xc(2,R$,4,46,"td",6),zc()),2&e){var n=t.$implicit,r=t.index,i=Qc();wo(1),Lc("ngIf",0===r&&i._firstRowOffset),wo(1),Lc("ngForOf",n)}}function T$(e,t){if(1&e&&(Nc(0,"th",5),Bl(1),zc()),2&e){var n=t.$implicit;ac("aria-label",n.long),wo(1),Vl(n.narrow)}}var I$=["*"];function O$(e,t){}function D$(e,t){if(1&e){var n=Hc();Nc(0,"mat-month-view",5),Wc("activeDateChange",function(e){return an(n),Qc().activeDate=e})("_userSelection",function(e){return an(n),Qc()._dateSelected(e)}),zc()}if(2&e){var r=Qc();Lc("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)}}function M$(e,t){if(1&e){var n=Hc();Nc(0,"mat-year-view",6),Wc("activeDateChange",function(e){return an(n),Qc().activeDate=e})("monthSelected",function(e){return an(n),Qc()._monthSelectedInYearView(e)})("selectedChange",function(e){return an(n),Qc()._goToDateInView(e,"month")}),zc()}if(2&e){var r=Qc();Lc("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function P$(e,t){if(1&e){var n=Hc();Nc(0,"mat-multi-year-view",7),Wc("activeDateChange",function(e){return an(n),Qc().activeDate=e})("yearSelected",function(e){return an(n),Qc()._yearSelectedInMultiYearView(e)})("selectedChange",function(e){return an(n),Qc()._goToDateInView(e,"year")}),zc()}if(2&e){var r=Qc();Lc("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function L$(e,t){}var F$=["button"];function N$(e,t){1&e&&(Ln(),Nc(0,"svg",3),jc(1,"path",4),zc())}var z$,j$,B$=[[["","matDatepickerToggleIcon",""]]],V$=["[matDatepickerToggleIcon]"],U$=((z$=function(){function e(){v(this,e),this.changes=new V,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return g(e,[{key:"formatYearRange",value:function(e,t){return"".concat(e," \u2013 ").concat(t)}}]),e}()).\u0275fac=function(e){return new(e||z$)},z$.\u0275prov=De({factory:function(){return new z$},token:z$,providedIn:"root"}),z$),H$=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6?arguments[6]:void 0;v(this,e),this.value=t,this.displayValue=n,this.ariaLabel=r,this.enabled=i,this.cssClasses=a,this.compareValue=o,this.rawValue=s},$$=((j$=function(){function e(t,n){var r=this;v(this,e),this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new _d,this.previewChange=new _d,this._enterHandler=function(e){if(r._skipNextFocus&&"focus"===e.type)r._skipNextFocus=!1;else if(e.target&&r.isRange){var t=r._getCellFromElement(e.target);t&&r._ngZone.run(function(){return r.previewChange.emit({value:t.enabled?t:null,event:e})})}},this._leaveHandler=function(e){null!==r.previewEnd&&r.isRange&&e.target&&q$(e.target)&&r._ngZone.run(function(){return r.previewChange.emit({value:null,event:e})})},n.runOutsideAngular(function(){var e=t.nativeElement;e.addEventListener("mouseenter",r._enterHandler,!0),e.addEventListener("focus",r._enterHandler,!0),e.addEventListener("mouseleave",r._leaveHandler,!0),e.addEventListener("blur",r._leaveHandler,!0)})}return g(e,[{key:"_cellClicked",value:function(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}},{key:"_isSelected",value:function(e){return this.startValue===e||this.endValue===e}},{key:"ngOnChanges",value:function(e){var t=e.numCols,n=this.rows,r=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),!t&&this._cellWidth||(this._cellWidth=100/r+"%")}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}},{key:"_isActiveCell",value:function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe(eb(1)).subscribe(function(){var n=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(e._skipNextFocus=!0),n.focus())})})}},{key:"_isRangeStart",value:function(e){return G$(e,this.startValue,this.endValue)}},{key:"_isRangeEnd",value:function(e){return W$(e,this.startValue,this.endValue)}},{key:"_isInRange",value:function(e){return Y$(e,this.startValue,this.endValue,this.isRange)}},{key:"_isComparisonStart",value:function(e){return G$(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isComparisonBridgeStart",value:function(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;var r=this.rows[t][n-1];if(!r){var i=this.rows[t-1];r=i&&i[i.length-1]}return r&&!this._isRangeEnd(r.compareValue)}},{key:"_isComparisonBridgeEnd",value:function(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;var r=this.rows[t][n+1];if(!r){var i=this.rows[t+1];r=i&&i[0]}return r&&!this._isRangeStart(r.compareValue)}},{key:"_isComparisonEnd",value:function(e){return W$(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isInComparisonRange",value:function(e){return Y$(e,this.comparisonStart,this.comparisonEnd,this.isRange)}},{key:"_isComparisonIdentical",value:function(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}},{key:"_isPreviewStart",value:function(e){return G$(e,this.previewStart,this.previewEnd)}},{key:"_isPreviewEnd",value:function(e){return W$(e,this.previewStart,this.previewEnd)}},{key:"_isInPreview",value:function(e){return Y$(e,this.previewStart,this.previewEnd,this.isRange)}},{key:"_getCellFromElement",value:function(e){var t;if(q$(e)?t=e:q$(e.parentNode)&&(t=e.parentNode),t){var n=t.getAttribute("data-mat-row"),r=t.getAttribute("data-mat-col");if(n&&r)return this.rows[parseInt(n)][parseInt(r)]}return null}}]),e}()).\u0275fac=function(e){return new(e||j$)(Mc(Xh),Mc(kp))},j$.\u0275cmp=ut({type:j$,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Dt],attrs:x$,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(xc(0,C$,3,6,"tr",0),xc(1,A$,3,2,"tr",1)),2&e&&(Lc("ngIf",t._firstRowOffset<t.labelMinRequiredCells),wo(1),Lc("ngForOf",t.rows))},directives:[zv,Fv,Pv],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.mat-datepicker-dialog .mat-dialog-container{position:relative;overflow:visible}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),j$);function q$(e){return"TD"===e.nodeName}function G$(e,t,n){return null!==n&&t!==n&&e<n&&e===t}function W$(e,t,n){return null!==t&&t!==n&&e>=t&&e===n}function Y$(e,t,n,r){return r&&null!==t&&null!==n&&t!==n&&e>=t&&e<=n}var Z$,X$,K$,Q$,J$=function e(t,n){v(this,e),this.start=t,this.end=n},eq=((X$=function(){function e(t,n){v(this,e),this.selection=t,this._adapter=n,this._selectionChanged=new V,this.selectionChanged=this._selectionChanged,this.selection=t}return g(e,[{key:"updateSelection",value:function(e,t){var n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}},{key:"ngOnDestroy",value:function(){this._selectionChanged.complete()}},{key:"_isValidDateInstance",value:function(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}},{key:"clone",value:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||X$)(ti(void 0),ti(wP))},X$.\u0275prov=De({token:X$,factory:X$.\u0275fac}),X$),tq=((Z$=function(e){c(n,e);var t=u(n);function n(e){return v(this,n),t.call(this,null,e)}return g(n,[{key:"add",value:function(e){s(p(n.prototype),"updateSelection",this).call(this,e,this)}},{key:"isValid",value:function(){return null!=this.selection&&this._isValidDateInstance(this.selection)}},{key:"isComplete",value:function(){return null!=this.selection}},{key:"clone",value:function(){var e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}]),n}(eq)).\u0275fac=function(e){return new(e||Z$)(ti(wP))},Z$.\u0275prov=De({token:Z$,factory:Z$.\u0275fac}),Z$),nq={provide:eq,deps:[[new li,new hi,eq],wP],useFactory:function(e,t){return e||new tq(t)}},rq=new Ar("MAT_DATE_RANGE_SELECTION_STRATEGY"),iq=((Q$=function(){function e(t,n,r,i,a){v(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=r,this._dir=i,this._rangeStrategy=a,this._rerenderSubscription=R.EMPTY,this.selectedChange=new _d,this._userSelection=new _d,this.activeDateChange=new _d,this._activeDate=this._dateAdapter.today()}return g(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof J$?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rb(null)).subscribe(function(){return e._init()})}},{key:"ngOnChanges",value:function(e){var t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected)}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(e){var t,n,r=e.value,i=this._dateAdapter.getYear(this.activeDate),a=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.createDate(i,a,r);this._selected instanceof J$?(t=this._getDateInCurrentMonth(this._selected.start),n=this._getDateInCurrentMonth(this._selected.end)):t=n=this._getDateInCurrentMonth(this._selected),t===r&&n===r||this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),e.preventDefault()));case 27:return void(null==this._previewEnd||BD(e)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(e){this._matCalendarBody._focusActiveCell(e)}},{key:"_previewChanged",value:function(e){var t=e.event,n=e.value;if(this._rangeStrategy){var r=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this._changeDetectorRef.detectChanges()}}},{key:"_initWeekdays",value:function(){var e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map(function(e,n){return{long:e,narrow:t[n]}});this._weekdays=n.slice(e).concat(n.slice(0,e))}},{key:"_createWeekCells",value:function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,r=this._firstWeekOffset;n<e;n++,r++){7==r&&(this._weeks.push([]),r=0);var i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),a=this._shouldEnableDate(i),o=this._dateAdapter.format(i,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(i,"month"):void 0;this._weeks[this._weeks.length-1].push(new H$(n+1,t[n],o,a,s,this._getCellCompareValue(i),i))}}},{key:"_shouldEnableDate",value:function(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}},{key:"_getDateInCurrentMonth",value:function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}},{key:"_hasSameMonthAndYear",value:function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}},{key:"_getCellCompareValue",value:function(e){if(e){var t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(t,n,r).getTime()}return null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setRanges",value:function(e){e instanceof J$?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}]),e}()).\u0275fac=function(e){return new(e||Q$)(Mc(Sf),Mc(kP,8),Mc(wP,8),Mc(iP,8),Mc(rq,8))},Q$.\u0275cmp=ut({type:Q$,selectors:[["mat-month-view"]],viewQuery:function(e,t){var n;1&e&&Md($$,1),2&e&&Dd(n=Ld())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Dt],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(Nc(0,"table",0),Nc(1,"thead",1),Nc(2,"tr"),xc(3,T$,2,2,"th",2),zc(),Nc(4,"tr"),jc(5,"th",3),zc(),zc(),Nc(6,"tbody",4),Wc("selectedValueChange",function(e){return t._dateSelected(e)})("previewChange",function(e){return t._previewChanged(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),zc(),zc()),2&e&&(wo(3),Lc("ngForOf",t._weekdays),wo(3),Lc("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[Fv,$$],encapsulation:2,changeDetection:0}),Q$),aq=((K$=function(){function e(t,n,r){v(this,e),this._changeDetectorRef=t,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=R.EMPTY,this.selectedChange=new _d,this.yearSelected=new _d,this.activeDateChange=new _d,this._activeDate=this._dateAdapter.today()}return g(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),oq(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof J$?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rb(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate)-sq(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,r=[];n<24;n++)r.push(t+n),4==r.length&&(this._years.push(r.map(function(t){return e._createCellForYear(t)})),r=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(e){var t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));var n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));this.selectedChange.emit(this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-sq(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-sq(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_getActiveCell",value:function(){return sq(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(e){var t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),r=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new H$(e,n,n,this._shouldEnableYear(e),r)}},{key:"_shouldEnableYear",value:function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedYear",value:function(e){if(this._selectedYear=null,e instanceof J$){var t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}]),e}()).\u0275fac=function(e){return new(e||K$)(Mc(Sf),Mc(wP,8),Mc(iP,8))},K$.\u0275cmp=ut({type:K$,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var n;1&e&&Md($$,1),2&e&&Dd(n=Ld())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Nc(0,"table",0),Nc(1,"thead",1),Nc(2,"tr"),jc(3,"th",2),zc(),zc(),Nc(4,"tbody",3),Wc("selectedValueChange",function(e){return t._yearSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),zc(),zc()),2&e&&(wo(4),Lc("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[$$],encapsulation:2,changeDetection:0}),K$);function oq(e,t,n,r,i){var a=e.getYear(t),o=e.getYear(n),s=cq(e,r,i);return Math.floor((a-s)/24)===Math.floor((o-s)/24)}function sq(e,t,n,r){return((e.getYear(t)-cq(e,n,r))%24+24)%24}function cq(e,t,n){var r=0;return n?r=e.getYear(n)-24+1:t&&(r=e.getYear(t)),r}var lq,uq,hq,fq,dq,pq,vq,mq,gq,yq,bq,_q=((hq=function(){function e(t,n,r,i){v(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=r,this._dir=i,this._rerenderSubscription=R.EMPTY,this.selectedChange=new _d,this.monthSelected=new _d,this.activeDateChange=new _d,this._activeDate=this._dateAdapter.today()}return g(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof J$?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rb(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(e){var t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);var r=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){var e=this;this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(n){return n.map(function(n){return e._createCellForMonth(n,t[n])})}),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}},{key:"_createCellForMonth",value:function(e,t){var n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),i=this.dateClass?this.dateClass(n,"year"):void 0;return new H$(e,t.toLocaleUpperCase(),r,this._shouldEnableMonth(e),i)}},{key:"_shouldEnableMonth",value:function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>r}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<r}return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedMonth",value:function(e){this._selectedMonth=e instanceof J$?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}]),e}()).\u0275fac=function(e){return new(e||hq)(Mc(Sf),Mc(kP,8),Mc(wP,8),Mc(iP,8))},hq.\u0275cmp=ut({type:hq,selectors:[["mat-year-view"]],viewQuery:function(e,t){var n;1&e&&Md($$,1),2&e&&Dd(n=Ld())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(Nc(0,"table",0),Nc(1,"thead",1),Nc(2,"tr"),jc(3,"th",2),zc(),zc(),Nc(4,"tbody",3),Wc("selectedValueChange",function(e){return t._monthSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),zc(),zc()),2&e&&(wo(4),Lc("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[$$],encapsulation:2,changeDetection:0}),hq),wq=0,kq=((uq=function(){function e(t,n,r,i,a){v(this,e),this._intl=t,this.calendar=n,this._dateAdapter=r,this._dateFormats=i,this._buttonDescriptionId="mat-calendar-button-"+wq++,this.calendar.stateChanges.subscribe(function(){return a.markForCheck()})}return g(e,[{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate)-sq(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,r)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}},{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):oq(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}]),e}()).\u0275fac=function(e){return new(e||uq)(Mc(U$),Mc(xe(function(){return Sq})),Mc(wP,8),Mc(kP,8),Mc(Sf))},uq.\u0275cmp=ut({type:uq,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:I$,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(el(),Nc(0,"div",0),Nc(1,"div",1),Nc(2,"button",2),Wc("click",function(){return t.currentPeriodClicked()}),Nc(3,"span"),Bl(4),zc(),jc(5,"div",3),zc(),jc(6,"div",4),tl(7),Nc(8,"button",5),Wc("click",function(){return t.previousClicked()}),zc(),Nc(9,"button",6),Wc("click",function(){return t.nextClicked()}),zc(),zc(),zc()),2&e&&(wo(2),ac("aria-label",t.periodButtonLabel)("aria-describedby",t._buttonDescriptionId),wo(1),ac("id",t._buttonDescriptionId),wo(1),Vl(t.periodButtonText),wo(1),xl("mat-calendar-invert","month"!==t.calendar.currentView),wo(3),Lc("disabled",!t.previousEnabled()),ac("aria-label",t.prevButtonLabel),wo(1),Lc("disabled",!t.nextEnabled()),ac("aria-label",t.nextButtonLabel))},directives:[bL,VM],encapsulation:2,changeDetection:0}),uq),Sq=((lq=function(){function e(t,n,r,i){var a=this;v(this,e),this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new _d,this.yearSelected=new _d,this.monthSelected=new _d,this.viewChanged=new _d(!0),this._userSelection=new _d,this.stateChanges=new V,this._intlChanges=t.changes.subscribe(function(){i.markForCheck(),a.stateChanges.next()})}return g(e,[{key:"startAt",get:function(){return this._startAt},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof J$?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(e){var t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}},{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new rF(this.headerComponent||kq),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell(!1)}},{key:"updateTodaysDate",value:function(){var e=this.currentView;("month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(e){var t=e.value;(this.selected instanceof J$||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}},{key:"_yearSelectedInMultiYearView",value:function(e){this.yearSelected.emit(e)}},{key:"_monthSelectedInYearView",value:function(e){this.monthSelected.emit(e)}},{key:"_goToDateInView",value:function(e,t){this.activeDate=e,this.currentView=t}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}}]),e}()).\u0275fac=function(e){return new(e||lq)(Mc(U$),Mc(wP,8),Mc(kP,8),Mc(Sf))},lq.\u0275cmp=ut({type:lq,selectors:[["mat-calendar"]],viewQuery:function(e,t){var n;1&e&&(Md(iq,1),Md(_q,1),Md(aq,1)),2&e&&(Dd(n=Ld())&&(t.monthView=n.first),Dd(n=Ld())&&(t.yearView=n.first),Dd(n=Ld())&&(t.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[Hh([nq]),Dt],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(xc(0,O$,0,0,"ng-template",0),Nc(1,"div",1),xc(2,D$,1,8,"mat-month-view",2),xc(3,M$,1,6,"mat-year-view",3),xc(4,P$,1,6,"mat-multi-year-view",4),zc()),2&e&&(Lc("cdkPortalOutlet",t._calendarHeaderPortal),wo(1),Lc("ngSwitch",t.currentView),wo(1),Lc("ngSwitchCase","month"),wo(1),Lc("ngSwitchCase","year"),wo(1),Lc("ngSwitchCase","multi-year"))},directives:[cF,eP,Wv,Yv,iq,_q,aq],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),lq),xq={transformPanel:IS("transformPanel",[PS("void",MS({opacity:0,transform:"scale(1, 0.8)"})),LS("void => enter",OS("120ms cubic-bezier(0, 0, 0.2, 1)",MS({opacity:1,transform:"scale(1, 1)"}))),LS("* => void",OS("100ms linear",MS({opacity:0})))]),fadeInCalendar:IS("fadeInCalendar",[PS("void",MS({opacity:0})),PS("enter",MS({opacity:1})),LS("void => *",OS("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Cq=0,Eq=new Ar("mat-datepicker-scroll-strategy"),Rq={provide:Eq,deps:[YF],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Aq=vP(function e(t){v(this,e),this._elementRef=t}),Tq=((pq=function(e){c(n,e);var t=u(n);function n(e,r,i,a,o,s){var c;return v(this,n),(c=t.call(this,e))._changeDetectorRef=r,c._globalModel=i,c._dateAdapter=a,c._rangeSelectionStrategy=o,c._subscriptions=new R,c._animationState="enter",c._animationDone=new V,c._actionsPortal=null,c._closeButtonText=(null==s?void 0:s.closeCalendarLabel)||"Close calendar",c}return g(n,[{key:"ngOnInit",value:function(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel}},{key:"ngAfterViewInit",value:function(){var e=this;this._subscriptions.add(this.datepicker.stateChanges.subscribe(function(){e._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe(),this._animationDone.complete()}},{key:"_handleUserSelection",value:function(e){var t=this._model.selection,n=e.value,r=t instanceof J$;if(r&&this._rangeSelectionStrategy){var i=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(i,this)}else!n||!r&&this._dateAdapter.sameDate(n,t)||this._model.add(n);this._model&&!this._model.isComplete()||this._actionsPortal||this.datepicker.close()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef.markForCheck()}},{key:"_getSelected",value:function(){return this._model.selection}},{key:"_applyPendingSelection",value:function(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}]),n}(Aq)).\u0275fac=function(e){return new(e||pq)(Mc(Xh),Mc(Sf),Mc(eq),Mc(wP),Mc(rq,8),Mc(U$))},pq.\u0275cmp=ut({type:pq,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var n;1&e&&Md(Sq,1),2&e&&Dd(n=Ld())&&(t._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&Yc("@transformPanel.done",function(){return t._animationDone.next()}),2&e&&(Cu("@transformPanel",t._animationState),xl("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Bs],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"mat-calendar",1),Wc("yearSelected",function(e){return t.datepicker._selectYear(e)})("monthSelected",function(e){return t.datepicker._selectMonth(e)})("viewChanged",function(e){return t.datepicker._viewChanged(e)})("_userSelection",function(e){return t._handleUserSelection(e)}),zc(),xc(2,L$,0,0,"ng-template",2),Nc(3,"button",3),Wc("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),Bl(4),zc(),zc()),2&e&&(xl("mat-datepicker-content-container-with-actions",t._actionsPortal),wo(1),Lc("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter"),wo(1),Lc("cdkPortalOutlet",t._actionsPortal),wo(1),xl("cdk-visually-hidden",!t._closeButtonFocused),Lc("color",t.color||"primary"),wo(1),Vl(t._closeButtonText))},directives:[LM,Sq,Pv,cF,bL],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[xq.transformPanel,xq.fadeInCalendar]},changeDetection:0}),pq),Iq=((dq=function(){function e(t,n,r,i,a,o,s,c,l){v(this,e),this._dialog=t,this._overlay=n,this._ngZone=r,this._viewContainerRef=i,this._dateAdapter=o,this._dir=s,this._document=c,this._model=l,this._inputStateChanges=R.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new _d,this.monthSelected=new _d,this.viewChanged=new _d(!0),this.openedStream=new _d,this.closedStream=new _d,this._opened=!1,this.id="mat-datepicker-"+Cq++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass="".concat(this.id,"-backdrop"),this.stateChanges=new V,this._scrollStrategy=a}return g(e,[{key:"startAt",get:function(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"color",get:function(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)},set:function(e){this._color=e}},{key:"touchUi",get:function(){return this._touchUi},set:function(e){this._touchUi=qD(e)}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled},set:function(e){var t=qD(e);t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}},{key:"restoreFocus",get:function(){return this._restoreFocus},set:function(e){this._restoreFocus=qD(e)}},{key:"panelClass",get:function(){return this._panelClass},set:function(e){this._panelClass=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\s+/,r=[];if(null!=e){var i,a=Array.isArray(e)?e:"".concat(e).split(n),o=t(a);try{for(o.s();!(i=o.n()).done;){var s=i.value,c="".concat(s).trim();c&&r.push(c)}}catch(l){o.e(l)}finally{o.f()}}return r}(e)}},{key:"opened",get:function(){return this._opened},set:function(e){qD(e)?this.open():this.close()}},{key:"_getMinDate",value:function(){return this.datepickerInput&&this.datepickerInput.min}},{key:"_getMaxDate",value:function(){return this.datepickerInput&&this.datepickerInput.max}},{key:"_getDateFilter",value:function(){return this.datepickerInput&&this.datepickerInput.dateFilter}},{key:"ngOnChanges",value:function(e){var t=e.xPosition||e.yPosition;t&&!t.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}},{key:"select",value:function(e){this._model.add(e)}},{key:"_selectYear",value:function(e){this.yearSelected.emit(e)}},{key:"_selectMonth",value:function(e){this.monthSelected.emit(e)}},{key:"_viewChanged",value:function(e){this.viewChanged.emit(e)}},{key:"registerInput",value:function(e){var t=this;return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(function(){return t.stateChanges.next(void 0)}),this._model}},{key:"registerActions",value:function(e){this._actionsPortal=e}},{key:"removeActions",value:function(e){e===this._actionsPortal&&(this._actionsPortal=null)}},{key:"open",value:function(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}},{key:"close",value:function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(eb(1)).subscribe(function(){return e._destroyPopup()})}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_applyPendingSelection",value:function(){var e,t,n=(null===(e=this._popupComponentRef)||void 0===e?void 0:e.instance)||(null===(t=this._dialogRef)||void 0===t?void 0:t.componentInstance);null==n||n._applyPendingSelection()}},{key:"_openAsDialog",value:function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Tq,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!1,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(function(){return e.close()}),this._forwardContentValues(this._dialogRef.componentInstance)}},{key:"_openAsPopup",value:function(){var e=this,t=new rF(Tq,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(eb(1)).subscribe(function(){e._popupRef.updatePosition()})}},{key:"_forwardContentValues",value:function(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}},{key:"_createPopup",value:function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),n=new CF({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(n),this._popupRef.overlayElement.setAttribute("role","dialog"),le(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(sb(function(t){return 27===t.keyCode&&!BD(t)||e.datepickerInput&&BD(t,"altKey")&&38===t.keyCode}))).subscribe(function(t){t&&t.preventDefault(),e.close()})}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_setConnectedPositions",value:function(e){var t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",r="above"===this.yPosition?"bottom":"top",i="top"===r?"bottom":"top";return e.withPositions([{originX:t,originY:i,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i}])}}]),e}()).\u0275fac=function(e){return new(e||dq)(Mc(k$),Mc(YF),Mc(kp),Mc(Lf),Mc(Eq),Mc(wP,8),Mc(iP,8),Mc(nv,8),Mc(eq))},dq.\u0275dir=yt({type:dq,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Dt]}),dq),Oq=((fq=function(e){c(n,e);var t=u(n);function n(){return v(this,n),t.apply(this,arguments)}return n}(Iq)).\u0275fac=function(e){return Dq(e||fq)},fq.\u0275cmp=ut({type:fq,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Hh([nq,{provide:Iq,useExisting:fq}]),Bs],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),fq),Dq=yr(Oq),Mq=function e(t,n){v(this,e),this.target=t,this.targetElement=n,this.value=this.target.value},Pq=((vq=function(){function e(t,n,r){var i=this;v(this,e),this._elementRef=t,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new _d,this.dateInput=new _d,this.stateChanges=new V,this._onTouched=function(){},this._validatorOnChange=function(){},this._cvaOnChange=function(){},this._valueChangesSubscription=R.EMPTY,this._localeSubscription=R.EMPTY,this._parseValidator=function(){return i._lastValueValid?null:{matDatepickerParse:{text:i._elementRef.nativeElement.value}}},this._filterValidator=function(e){var t=i._dateAdapter.getValidDateOrNull(i._dateAdapter.deserialize(e.value));return!t||i._matchesFilter(t)?null:{matDatepickerFilter:!0}},this._minValidator=function(e){var t=i._dateAdapter.getValidDateOrNull(i._dateAdapter.deserialize(e.value)),n=i._getMinDate();return!n||!t||i._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}},this._maxValidator=function(e){var t=i._dateAdapter.getValidDateOrNull(i._dateAdapter.deserialize(e.value)),n=i._getMaxDate();return!n||!t||i._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(function(){i._assignValueProgrammatically(i.value)})}return g(e,[{key:"value",get:function(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue},set:function(e){this._assignValueProgrammatically(e)}},{key:"disabled",get:function(){return!!this._disabled||this._parentDisabled()},set:function(e){var t=qD(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}},{key:"_getValidators",value:function(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}},{key:"_registerModel",value:function(e){var t=this;this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(function(e){if(t._shouldHandleChangeEvent(e)){var n=t._getValueFromModel(e.selection);t._lastValueValid=t._isValidValue(n),t._cvaOnChange(n),t._onTouched(),t._formatValue(n),t.dateInput.emit(new Mq(t,t._elementRef.nativeElement)),t.dateChange.emit(new Mq(t,t._elementRef.nativeElement))}})}},{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnChanges",value:function(e){(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=e[r[n]],a=i.previousValue,o=i.currentValue;if(!t.isDateInstance(a)||!t.isDateInstance(o))return!0;if(!t.sameDate(a,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}},{key:"registerOnValidatorChange",value:function(e){this._validatorOnChange=e}},{key:"validate",value:function(e){return this._validator?this._validator(e):null}},{key:"writeValue",value:function(e){this._assignValueProgrammatically(e)}},{key:"registerOnChange",value:function(e){this._cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_onKeydown",value:function(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}},{key:"_onInput",value:function(e){var t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this.dateInput.emit(new Mq(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new Mq(this,this._elementRef.nativeElement))}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}},{key:"_assignValue",value:function(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}},{key:"_isValidValue",value:function(e){return!e||this._dateAdapter.isValid(e)}},{key:"_parentDisabled",value:function(){return!1}},{key:"_assignValueProgrammatically",value:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}},{key:"_matchesFilter",value:function(e){var t=this._getDateFilter();return!t||t(e)}}]),e}()).\u0275fac=function(e){return new(e||vq)(Mc(Xh),Mc(wP,8),Mc(kP,8))},vq.\u0275dir=yt({type:vq,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Dt]}),vq),Lq={provide:WE,useExisting:xe(function(){return Nq}),multi:!0},Fq={provide:tR,useExisting:xe(function(){return Nq}),multi:!0},Nq=((bq=function(e){c(n,e);var t=u(n);function n(e,r,i,a){var o,c;return v(this,n),(c=t.call(this,e,r,i))._formField=a,c._closedSubscription=R.EMPTY,c._validator=function(){function e(){v(this,e)}return g(e,null,[{key:"min",value:function(e){return function(e){return function(t){if(JE(t.value)||JE(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}},{key:"max",value:function(e){return function(e){return function(t){if(JE(t.value)||JE(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}},{key:"required",value:function(e){return function(e){return JE(e.value)?{required:!0}:null}(e)}},{key:"requiredTrue",value:function(e){return function(e){return!0===e.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function(e){return JE(e.value)||rR.test(e.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return function(e){return function(t){return JE(t.value)||!eR(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"maxLength",value:function(e){return function(e){return function(t){return eR(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"pattern",value:function(e){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(e){if(JE(e.value))return null;var r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):iR;var t,n}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return uR(e)}},{key:"composeAsync",value:function(e){return fR(e)}}]),e}().compose(s((o=f(c),p(n.prototype)),"_getValidators",o).call(o)),c}return g(n,[{key:"matDatepicker",set:function(e){var t=this;e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(function(){return t._onTouched()}),this._registerModel(e.registerInput(this)))}},{key:"min",get:function(){return this._min},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}},{key:"max",get:function(){return this._max},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}},{key:"dateFilter",get:function(){return this._dateFilter},set:function(e){var t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"getStartValue",value:function(){return this.value}},{key:"ngOnDestroy",value:function(){s(p(n.prototype),"ngOnDestroy",this).call(this),this._closedSubscription.unsubscribe()}},{key:"_openPopup",value:function(){this._datepicker&&this._datepicker.open()}},{key:"_getValueFromModel",value:function(e){return e}},{key:"_assignValueToModel",value:function(e){this._model&&this._model.updateSelection(e,this)}},{key:"_getMinDate",value:function(){return this._min}},{key:"_getMaxDate",value:function(){return this._max}},{key:"_getDateFilter",value:function(){return this._dateFilter}},{key:"_shouldHandleChangeEvent",value:function(e){return e.source!==this}}]),n}(Pq)).\u0275fac=function(e){return new(e||bq)(Mc(Xh),Mc(wP,8),Mc(kP,8),Mc(FN,8))},bq.\u0275dir=yt({type:bq,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&Wc("input",function(e){return t._onInput(e.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)}),2&e&&(xu("disabled",t.disabled),ac("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Hh([Lq,Fq,{provide:EH,useExisting:bq}]),Bs]}),bq),zq=((yq=function e(){v(this,e)}).\u0275fac=function(e){return new(e||yq)},yq.\u0275dir=yt({type:yq,selectors:[["","matDatepickerToggleIcon",""]]}),yq),jq=((gq=function(){function e(t,n,r){v(this,e),this._intl=t,this._changeDetectorRef=n,this._stateChanges=R.EMPTY;var i=Number(r);this.tabIndex=i||0===i?i:null}return g(e,[{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=qD(e)}},{key:"ngOnChanges",value:function(e){e.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}},{key:"_watchStateChanges",value:function(){var e=this,t=this.datepicker?this.datepicker.stateChanges:Fy(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Fy(),r=this.datepicker?le(this.datepicker.openedStream,this.datepicker.closedStream):Fy();this._stateChanges.unsubscribe(),this._stateChanges=le(this._intl.changes,t,n,r).subscribe(function(){return e._changeDetectorRef.markForCheck()})}}]),e}()).\u0275fac=function(e){return new(e||gq)(Mc(U$),Mc(Sf),_r("tabindex"))},gq.\u0275cmp=ut({type:gq,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){var r;1&e&&Pd(n,zq,1),2&e&&Dd(r=Ld())&&(t._customIcon=r.first)},viewQuery:function(e,t){var n;1&e&&Md(F$,1),2&e&&Dd(n=Ld())&&(t._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&Wc("click",function(e){return t._open(e)}),2&e&&(ac("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),xl("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Dt],ngContentSelectors:V$,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(el(B$),Nc(0,"button",0,1),xc(2,N$,2,0,"svg",2),tl(3),zc()),2&e&&(Lc("disabled",t.disabled)("disableRipple",t.disableRipple),ac("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),wo(2),Lc("ngIf",!t._customIcon))},directives:[bL,zv],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),gq),Bq=((mq=function e(){v(this,e)}).\u0275fac=function(e){return new(e||mq)},mq.\u0275mod=vt({type:mq}),mq.\u0275inj=Me({providers:[U$,Rq],imports:[[rm,_L,S$,eN,nP,lF,dP],eF]}),mq),Vq=["filterMenu"];function Uq(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"filter_list"),zc())}function Hq(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_upward"),zc())}function $q(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_downward"),zc())}function qq(e,t){if(1&e){var n=Hc();Nc(0,"div",6),Nc(1,"button",8),Wc("click",function(){return an(n),Qc().onSortClear()}),Bl(2,"Clear Sort"),zc(),zc()}}function Gq(e,t){if(1&e&&(Nc(0,"mat-option",16),Bl(1),zc()),2&e){var n=t.$implicit;Lc("value",n),wo(1),Ul(" ",n.name," ")}}function Wq(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",6),Nc(2,"span",5),Bl(3,"and"),zc(),zc(),Nc(4,"div",6),Nc(5,"mat-form-field",17),Wc("click",function(e){return e.stopPropagation()}),Nc(6,"input",22),Wc("ngModelChange",function(e){return an(n),Qc(2).operand2Input=e}),zc(),jc(7,"mat-datepicker-toggle",19),jc(8,"mat-datepicker",null,20),zc(),zc(),Vc()}if(2&e){var r=Cc(9),i=Qc(2);wo(6),Lc("matDatepicker",r)("ngModel",i.operand2Input),wo(1),Lc("for",r)}}function Yq(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",6),Nc(2,"mat-form-field",17),Wc("click",function(e){return e.stopPropagation()}),Nc(3,"input",18),Wc("ngModelChange",function(e){return an(n),Qc().operand1Input=e}),zc(),jc(4,"mat-datepicker-toggle",19),jc(5,"mat-datepicker",null,20),zc(),zc(),xc(7,Wq,10,3,"ng-container",1),Nc(8,"div",6),Nc(9,"button",21),Wc("click",function(){return an(n),Qc().onClearFilter()}),Bl(10,"Clear Filter"),zc(),zc(),jc(11,"div",12),Vc()}if(2&e){var r=Cc(6),i=Qc();wo(3),Lc("matDatepicker",r)("ngModel",i.operand1Input),wo(1),Lc("for",r),wo(3),Lc("ngIf",3===i.selectedOperator.operands)}}function Zq(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",6),Nc(2,"button",21),Wc("click",function(){return an(n),Qc().onClearSelection()}),Bl(3,"Clear Selection"),zc(),zc(),zc()}}var Xq,Kq=((Xq=function(){function e(){v(this,e),this.predicateEmitter=new _d,this.filterCleared=!1,this.operatorList=[{name:"Less than",operands:2,operator:"<"},{name:"Greater than",operands:2,operator:">"},{name:"Equal to",operands:2,operator:"=="},{name:"Not equal to",operands:2,operator:"!="},{name:"Between",operands:3,operator:">",operator2:"<"}],this.selectedSort=null,this.dropdownSettings={itemsShowLimit:6,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedOperator=null,e.selectedSort=null,e.selectedItems=[],e.filterCleared=!0})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearFilter",value:function(){this.selectedOperator=null,this.filterCleared=!0}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedOperator&&2===this.selectedOperator.operands?e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input}):this.selectedOperator&&3===this.selectedOperator.operands&&(e.predicates.push({field:this.columnName,op:this.selectedOperator.operator,value:this.operand1Input<this.operand2Input?this.operand1Input:this.operand2Input}),e.predicates.push({field:this.columnName,op:this.selectedOperator.operator2,value:this.operand1Input<this.operand2Input?this.operand2Input:this.operand1Input})),this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||Xq)},Xq.\u0275cmp=ut({type:Xq,selectors:[["app-date-filter"]],viewQuery:function(e,t){var n;1&e&&Md(Vq,1),2&e&&Dd(n=Ld())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:31,vars:15,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],[1,"dropdown-divider"],["placeholder","Select comparison",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"],[3,"value"],[1,"col-12",3,"click"],["matInput","","placeholder","Choose a date","name","operand1Input",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["mat-button","",3,"click"],["matInput","","placeholder","Choose a date","name","operand2Input",3,"matDatepicker","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Nc(0,"button",0),Nc(1,"span"),xc(2,Uq,2,0,"mat-icon",1),xc(3,Hq,2,0,"mat-icon",1),xc(4,$q,2,0,"mat-icon",1),Nc(5,"mat-icon"),Bl(6,"arrow_drop_down"),zc(),zc(),zc(),Nc(7,"mat-menu",2,3),Nc(9,"div",4),Wc("click",function(e){return e.stopPropagation()}),Nc(10,"form",5),Nc(11,"div",6),Nc(12,"div",7),Nc(13,"button",8),Wc("click",function(){return t.onSortAsc()}),Bl(14,"Sort Ascending"),zc(),zc(),Nc(15,"div",9),Nc(16,"button",10),Wc("click",function(){return t.onValidation()}),Bl(17," OK "),zc(),zc(),zc(),Nc(18,"div",6),Nc(19,"button",8),Wc("click",function(){return t.onSortDesc()}),Bl(20,"Sort Descending"),zc(),zc(),xc(21,qq,3,0,"div",11),Nc(22,"div",6),jc(23,"div",12),Nc(24,"mat-form-field",5),Nc(25,"mat-select",13),Wc("valueChange",function(e){return t.selectedOperator=e}),xc(26,Gq,2,2,"mat-option",14),zc(),zc(),zc(),xc(27,Yq,12,4,"ng-container",1),xc(28,Zq,4,0,"div",1),Nc(29,"div"),Nc(30,"ng-multiselect-dropdown",15),Wc("ngModelChange",function(e){return t.selectedItems=e}),zc(),zc(),zc(),zc(),zc()),2&e&&(Lc("matMenuTriggerFor",Cc(8)),wo(2),Lc("ngIf",t.selectedOperator||t.selectedItems.length>0),wo(1),Lc("ngIf","desc"===t.selectedSort),wo(1),Lc("ngIf","asc"===t.selectedSort),wo(17),Lc("ngIf",t.selectedSort),wo(4),Lc("value",t.selectedOperator),wo(1),Lc("ngForOf",t.operatorList),wo(1),Lc("ngIf",t.selectedOperator),wo(1),Lc("ngIf",t.selectedItems.length),wo(2),Rl("filter-dropdown"),Lc("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[bL,TU,zv,QB,CU,cA,RR,iA,NN,cz,Fv,IO,ER,sA,lL,IH,Nq,QE,jq,DN,Oq],styles:["button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}li,p{font-size:.9rem!important}"],encapsulation:2}),Xq),Qq=["filterMenu"];function Jq(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"filter_list"),zc())}function eG(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_downward"),zc())}function tG(e,t){1&e&&(Nc(0,"mat-icon"),Bl(1,"arrow_upward"),zc())}function nG(e,t){if(1&e){var n=Hc();Nc(0,"div",6),Nc(1,"button",8),Wc("click",function(){return an(n),Qc().onSortClear()}),Bl(2,"Clear Sort"),zc(),zc()}}function rG(e,t){if(1&e){var n=Hc();Nc(0,"div"),Nc(1,"div",6),Nc(2,"button",8),Wc("click",function(){return an(n),Qc().onClearSelection()}),Bl(3,"Clear Selection"),zc(),zc(),zc()}}var iG,aG,oG=((iG=function(){function e(){v(this,e),this.predicateEmitter=new _d,this.filterCleared=!1,this.selectedSort=null,this.dropdownSettings={itemsShowLimit:2,allowSearchFilter:!0,defaultOpen:!1},this.selectedItems=[]}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.choices$&&this.choices$.subscribe(function(t){if(void 0!==t&&t[e.columnName]){e.choices=[];for(var n=0;n<t[e.columnName].length;n++)e.choices.push({id:n,text:t[e.columnName][n]})}}),this.clear$&&this.clear$.subscribe(function(t){e.selectedSort=null,e.selectedItems=[]})}},{key:"onValidation",value:function(){this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortAsc",value:function(){this.selectedSort="asc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortDesc",value:function(){this.selectedSort="desc",this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onSortClear",value:function(){this.selectedSort=null,this.predicateEmitter.emit(this.generatePredicate()),this.matMenuTrigger&&this.matMenuTrigger.closed.emit()}},{key:"onClearSelection",value:function(){this.selectedItems=[]}},{key:"generatePredicate",value:function(){var e={field:this.columnName,predicates:[],sort:{field:this.columnName,order:this.selectedSort}};return this.selectedItems.length>0&&e.predicates.push({field:this.columnName,op:"in",value:this.selectedItems.map(function(e){return"boolean"==typeof e.text?e.text?"1":"0":e.text})}),e}}]),e}()).\u0275fac=function(e){return new(e||iG)},iG.\u0275cmp=ut({type:iG,selectors:[["app-bool-filter"]],viewQuery:function(e,t){var n;1&e&&Md(Qq,1),2&e&&Dd(n=Ld())&&(t.matMenuTrigger=n.first)},inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$"},outputs:{predicateEmitter:"predicateEmitter"},decls:25,vars:12,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["xPosition","before",1,"menu-overflow-hidden","tf-mat-menu"],["filterMenu","matMenu"],[1,"content-centered",3,"click"],[1,"col-12"],[1,"row"],[1,"col-6",2,"padding-left","0px"],["mat-button","",1,"float-left",3,"click"],[1,"col-6",2,"text-align","right"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["class","row",4,"ngIf"],["name","multi",1,"col-12",3,"settings","data","placeholder","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Nc(0,"button",0),Nc(1,"span"),xc(2,Jq,2,0,"mat-icon",1),xc(3,eG,2,0,"mat-icon",1),xc(4,tG,2,0,"mat-icon",1),Nc(5,"mat-icon"),Bl(6,"arrow_drop_down"),zc(),zc(),zc(),Nc(7,"mat-menu",2,3),Nc(9,"div",4),Wc("click",function(e){return e.stopPropagation()}),Nc(10,"form",5),Nc(11,"div",6),Nc(12,"div",7),Nc(13,"button",8),Wc("click",function(){return t.onSortAsc()}),Bl(14,"Sort Ascending"),zc(),zc(),Nc(15,"div",9),Nc(16,"button",10),Wc("click",function(){return t.onValidation()}),Bl(17," OK "),zc(),zc(),zc(),Nc(18,"div",6),Nc(19,"button",8),Wc("click",function(){return t.onSortDesc()}),Bl(20,"Sort Descending"),zc(),zc(),xc(21,nG,3,0,"div",11),xc(22,rG,4,0,"div",1),Nc(23,"div",6),Nc(24,"ng-multiselect-dropdown",12),Wc("ngModelChange",function(e){return t.selectedItems=e}),zc(),zc(),zc(),zc(),zc()),2&e&&(Lc("matMenuTriggerFor",Cc(8)),wo(2),Lc("ngIf",t.selectedItems.length>0),wo(1),Lc("ngIf","desc"===t.selectedSort),wo(1),Lc("ngIf","asc"===t.selectedSort),wo(17),Lc("ngIf",t.selectedSort),wo(1),Lc("ngIf",t.selectedItems.length),wo(2),Rl("filter-dropdown"),Lc("settings",t.dropdownSettings)("data",t.choices)("placeholder","Select Items")("ngModel",t.selectedItems))},directives:[bL,TU,zv,QB,CU,cA,RR,iA,IO,ER,sA],styles:[".content-centered{text-align:center}button.active:focus,button:active:focus,button:focus{outline:none!important;outline-style:none!important}.tf-mat-menu{overflow:visible!important;max-width:none!important}.filter-dropdown .dropdown-btn{border:none!important;padding:0!important}.multiselect-item-checkbox{padding:0 10px!important}li,p{font-size:.9rem!important}"],encapsulation:2}),iG),sG=new Ar("EventArgument",{providedIn:"root",factory:function(){return"$event"}}),cG=new Ar("DynamicComponentInjector"),lG=((aG=function e(){v(this,e)}).\u0275fac=function(e){return new(e||aG)},aG.\u0275mod=vt({type:aG}),aG.\u0275inj=Me({imports:[[rm]]}),aG);function uG(e){return new Ot(void 0,e,!0)}function hG(){}var fG,dG,pG,vG,mG,gG=((mG=function(){function e(t,n,r,i){v(this,e),this.differs=t,this.cfr=n,this.eventArgument=r,this.cdr=i,this.checkInit=this.failInit,this.lastComponentInst=null,this.inputsDiffer=this.differs.find({}).create(),this.compFactory=null,this.outputsShouldDisconnect$=new V,this.outputsChanged=function(){return!1}}return g(e,[{key:"compRef",get:function(){return this.compInjector.componentRef}},{key:"componentInst",get:function(){return this.compRef?this.compRef.instance:null}},{key:"componentInstChanged",get:function(){return this.lastComponentInst!==this.componentInst&&(this.lastComponentInst=this.componentInst,!0)}},{key:"compCdr",get:function(){return this.compRef?this.compRef.injector.get(Sf):null}},{key:"ngOnDestroy",value:function(){this._disconnectOutputs()}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.checkInit=e?hG:this.failInit,this.compInjector=e,t.trackOutputChanges){var n=this.differs.find({}).create();this.outputsChanged=function(e){return!!n.diff(e)}}}},{key:"update",value:function(e,t,n,r){this.checkInit(),this.updateIO(e,t);var i=this.componentInstChanged;if(i||n){var a=this._getInputsChanges();a&&this._updateInputChanges(a),this.updateInputs(i||!this.lastInputChanges)}(i||r)&&this.bindOutputs()}},{key:"maybeUpdate",value:function(){if(this.checkInit(),this.componentInstChanged)return this.updateInputs(!0),void this.bindOutputs();if(this.outputsChanged(this.outputs)&&this.bindOutputs(),this.inputs){var e=this._getInputsChanges();if(e){var t=!!this.lastInputChanges;this._updateInputChanges(e),t&&this.updateInputs()}}}},{key:"updateIO",value:function(e,t){this.inputs=e,this.outputs=t}},{key:"updateInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this._updateCompFactory();var t=this.componentInst,n=this.inputs;n&&t&&(n=this._resolveInputs(n),Object.keys(n).forEach(function(e){return t[e]=n[e]}),this.compCdr&&this.compCdr.markForCheck(),this.notifyOnInputChanges(this.lastInputChanges,e))}},{key:"bindOutputs",value:function(){var e=this;this._disconnectOutputs();var t=this.componentInst,n=this.outputs;n&&t&&(n=this._resolveOutputs(n),Object.keys(n).filter(function(e){return t[e]}).forEach(function(r){return t[r].pipe(JA(e.outputsShouldDisconnect$)).subscribe(function(t){return e.cdr.markForCheck(),n[r](t)})}))}},{key:"notifyOnInputChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.componentInst.ngOnChanges&&(t&&(e=this._collectFirstChanges()),this.componentInst.ngOnChanges(e))}},{key:"_disconnectOutputs",value:function(){this.outputsShouldDisconnect$.next()}},{key:"_getInputsChanges",value:function(){return this.inputsDiffer.diff(this.inputs)}},{key:"_updateInputChanges",value:function(e){this.lastInputChanges=this._collectChangesFromDiffer(e)}},{key:"_collectFirstChanges",value:function(){var e={},t=this.inputs;return Object.keys(t).forEach(function(n){return e[n]=uG(t[n])}),this._resolveChanges(e)}},{key:"_collectChangesFromDiffer",value:function(e){var t={};return e.forEachAddedItem(function(e){return t[e.key]=uG(e.currentValue)}),e.forEachChangedItem(function(e){return t[e.key]=new Ot(e.previousValue,e.currentValue,!1)}),this._resolveChanges(t)}},{key:"_resolveCompFactory",value:function(){try{try{return this.cfr.resolveComponentFactory(this.compRef.componentType)}catch(e){return this.cfr.resolveComponentFactory(this.compRef.instance.constructor)}}catch(e){return null}}},{key:"_updateCompFactory",value:function(){this.compFactory=this._resolveCompFactory()}},{key:"_resolveInputs",value:function(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}},{key:"_resolveOutputs",value:function(e){return e=this._processOutputs(e),this.compFactory?this._remapIO(e,this.compFactory.outputs):e}},{key:"_processOutputs",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(r){var i=e[r];n[r]="function"==typeof i?i:i&&t._processOutputArgs(i)}),n}},{key:"_processOutputArgs",value:function(e){var t=this,r=e.handler,i="args"in e?e.args||[]:[this.eventArgument];return function(e){return r.apply(void 0,n(i.map(function(n){return n===t.eventArgument?e:n})))}}},{key:"_resolveChanges",value:function(e){return this.compFactory?this._remapIO(e,this.compFactory.inputs):e}},{key:"_remapIO",value:function(e,t){var n=this,r={};return Object.keys(e).forEach(function(i){var a=n._findPropByTplInMapping(i,t)||i;r[a]=e[i]}),r}},{key:"_findPropByTplInMapping",value:function(e,n){var r,i=t(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.templateName===e)return a.propName}}catch(o){i.e(o)}finally{i.f()}return null}},{key:"failInit",value:function(){throw Error("IoService: ComponentInjector was not set! Please call init() method!")}}]),e}()).\u0275fac=function(e){return new(e||mG)(ti(yf),ti(Gh),ti(sG),ti(Sf))},mG.\u0275prov=De({token:mG,factory:mG.\u0275fac}),mG),yG=((vG=function(){function e(t,n){v(this,e),this.ioService=t,this.componentInjector=n,this.ioService.init(this.componentInjector)}return g(e,[{key:"inputs",get:function(){return this.ndcDynamicInputs||this.ngComponentOutletNdcDynamicInputs}},{key:"outputs",get:function(){return this.ndcDynamicOutputs||this.ngComponentOutletNdcDynamicOutputs}},{key:"ngOnChanges",value:function(e){this.ioService.update(this.inputs,this.outputs,this.inputsChanged(e),this.outputsChanged(e))}},{key:"ngDoCheck",value:function(){this.ioService.maybeUpdate()}},{key:"inputsChanged",value:function(e){return"ngComponentOutletNdcDynamicInputs"in e||"ndcDynamicInputs"in e}},{key:"outputsChanged",value:function(e){return"ngComponentOutletNdcDynamicOutputs"in e||"ndcDynamicOutputs"in e}}]),e}()).\u0275fac=function(e){return new(e||vG)(Mc(gG),Mc(cG,8))},vG.\u0275dir=yt({type:vG,selectors:[["","ndcDynamicInputs",""],["","ndcDynamicOutputs",""],["","ngComponentOutletNdcDynamicInputs",""],["","ngComponentOutletNdcDynamicOutputs",""]],inputs:{ndcDynamicInputs:"ndcDynamicInputs",ngComponentOutletNdcDynamicInputs:"ngComponentOutletNdcDynamicInputs",ndcDynamicOutputs:"ndcDynamicOutputs",ngComponentOutletNdcDynamicOutputs:"ngComponentOutletNdcDynamicOutputs"},features:[Hh([gG]),Dt]}),vG),bG=((pG=function e(){v(this,e)}).\u0275fac=function(e){return new(e||pG)},pG.\u0275mod=vt({type:pG}),pG.\u0275inj=Me({imports:[[rm],lG]}),pG),_G=((dG=function(){function e(t,n){v(this,e),this.vcr=t,this.cfr=n,this.ndcDynamicCreated=new _d}return g(e,[{key:"ngOnChanges",value:function(e){e.ndcDynamicComponent&&this.createDynamicComponent()}},{key:"createDynamicComponent",value:function(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.cfr.resolveComponentFactory(this.ndcDynamicComponent),0,this._resolveInjector(),this.ndcDynamicContent),this.ndcDynamicCreated.emit(this.componentRef))}},{key:"_resolveInjector",value:function(){var e=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(e=Ns.create({providers:this.ndcDynamicProviders,parent:e})),e}}]),e}()).\u0275fac=function(e){return new(e||dG)(Mc(Lf),Mc(Gh))},dG.\u0275cmp=ut({type:dG,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},features:[Hh([{provide:cG,useExisting:dG}]),Dt],decls:0,vars:0,template:function(e,t){},encapsulation:2}),dG),wG=((fG=function e(){v(this,e)}).\u0275fac=function(e){return new(e||fG)},fG.\u0275mod=vt({type:fG}),fG.\u0275inj=Me({imports:[[rm,bG],bG]}),fG);new Ar("WindowRef",{providedIn:"root",factory:function(){return window}});var kG,SG=((kG=function(){function e(){var t=this;v(this,e),this.showTextFilter=!0,this.showSort=!0,this.predicateEmitter=new _d,this.inputs=null,this.outputs={predicateEmitter:function(e){return t.predicateEmitter.emit(e)}}}return g(e,[{key:"ngOnInit",value:function(){switch(this.inputs={columnName:this.columnName,choices$:this.choices$,clear$:this.clear$,setFilter$:this.setFilter$,showTextFilter:this.showTextFilter,showSort:this.showSort},this.filterMode){case DB.TEXT_MODE:this.filterImplementationComponent=qH;break;case DB.NUMBER_MODE:this.filterImplementationComponent=n$;break;case DB.DATE_MODE:this.filterImplementationComponent=Kq;break;case DB.BOOL_MODE:this.filterImplementationComponent=oG}}}]),e}()).\u0275fac=function(e){return new(e||kG)},kG.\u0275cmp=ut({type:kG,selectors:[["app-filter"]],inputs:{columnName:"columnName",choices$:"choices$",clear$:"clear$",setFilter$:"setFilter$",filterMode:"filterMode",showTextFilter:"showTextFilter",showSort:"showSort"},outputs:{predicateEmitter:"predicateEmitter"},exportAs:["menuInOtherComponent"],decls:1,vars:3,consts:[[3,"ndcDynamicComponent","ndcDynamicInputs","ndcDynamicOutputs"]],template:function(e,t){1&e&&jc(0,"ndc-dynamic",0),2&e&&Lc("ndcDynamicComponent",t.filterImplementationComponent)("ndcDynamicInputs",t.inputs)("ndcDynamicOutputs",t.outputs)},directives:[_G,yG],styles:[""]}),kG),xG=["searchBox"];function CG(e,t){1&e&&(Nc(0,"div",47),Nc(1,"span",48),Bl(2,"Loading..."),zc(),zc())}function EG(e,t){if(1&e&&(Nc(0,"div",49),Nc(1,"div",0),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),hd(6,"async"),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(fd(6,1,n.dataSource.error$))}}function RG(e,t){if(1&e){var n=Hc();Nc(0,"div",3),Nc(1,"div",50),Nc(2,"input",51),Wc("ngModelChange",function(e){return an(n),Qc().isSelectedGenesChecked=e})("change",function(){an(n);var e=Qc();return e.onSelectedIdsChange(e.isSelectedGenesChecked)}),zc(),Nc(3,"label",52),Bl(4," Only alleles from selected samples "),zc(),zc(),zc()}if(2&e){var r=Qc();wo(2),Lc("ngModel",r.isSelectedGenesChecked)}}var AG=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function TG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"name")}),Bl(1," Name "),Nc(2,"app-filter",54,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(7,AG)),wo(2),Lc("columnName","name")("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function IG(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.name)}}function OG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"imgt_name")}),Bl(1," IMGT Name "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","imgt_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function DG(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.imgt_name)}}function MG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"type")}),Bl(1," Type "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","type")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function PG(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.type)}}function LG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"novel")}),Bl(1," Novel "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","novel")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function FG(e,t){1&e&&jc(0,"i",60)}function NG(e,t){if(1&e&&(Nc(0,"mat-cell",58),xc(1,FG,1,0,"i",59),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.novel)}}function zG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"functional")}),Bl(1," Functional "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","functional")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function jG(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.functional," ")}}function BG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"deleted")}),Bl(1," Deleted "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","deleted")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function VG(e,t){1&e&&jc(0,"i",60)}function UG(e,t){if(1&e&&(Nc(0,"mat-cell",58),xc(1,VG,1,0,"i",59),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.deleted)}}function HG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sequence")}),Bl(1," Sequence "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","sequence")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function $G(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",61),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onSequenceClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.sequence)}}function qG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"gapped_sequence")}),Bl(1," Gapped "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","gapped_sequence")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function GG(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",62),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onSequenceClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.gapped_sequence)}}function WG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"feature")}),Bl(1," Feature "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","feature")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function YG(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.feature)}}function ZG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"start")}),Bl(1," Start "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","start")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function XG(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.start)}}function KG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"end")}),Bl(1," End "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","end")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function QG(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.end)}}function JG(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"score")}),Bl(1," Score "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","score")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function eW(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.score)}}function tW(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"strand")}),Bl(1," Strand "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","strand")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function nW(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.strand)}}function rW(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"frame")}),Bl(1," Frame "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","frame")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function iW(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.frame)}}function aW(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"refseq_name")}),Bl(1," Reference "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","refseq_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function oW(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.refseq_name)}}function sW(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sample_count")}),Bl(1," Samples "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","sample_count")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function cW(e,t){if(1&e&&(Nc(0,"mat-cell",58),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.sample_count)}}function lW(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"appearances")}),Bl(1," Appearances "),Nc(2,"app-filter",56,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,AG)),wo(2),Lc("columnName","appearances")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function uW(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",63),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onAppearancesClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.appearances)}}function hW(e,t){1&e&&jc(0,"mat-header-row")}function fW(e,t){1&e&&jc(0,"mat-row")}function dW(e,t){if(1&e){var n=Hc();Nc(0,"div",64),Nc(1,"div",65),Nc(2,"b"),Bl(3,"Download data for selected genes"),zc(),zc(),Nc(4,"div",66),Bl(5," Ungapped sequences (fasta) "),Nc(6,"span"),Bl(7,"\xa0\xa0"),zc(),Nc(8,"button",67),Wc("click",function(){return an(n),Qc().sendReportRequest("download_gen_data","fasta",{type:"Ungapped sequences (fasta)"})}),jc(9,"i",68),zc(),zc(),Nc(10,"div",66),Bl(11," Gapped sequences (fasta) "),Nc(12,"span"),Bl(13,"\xa0\xa0"),zc(),Nc(14,"button",67),Wc("click",function(){return an(n),Qc().sendReportRequest("download_gen_data","fasta",{type:"Gapped sequences (fasta)"})}),jc(15,"i",68),zc(),zc(),Nc(16,"div",66),Bl(17," Gene information (csv) "),Nc(18,"span"),Bl(19,"\xa0\xa0"),zc(),Nc(20,"button",67),Wc("click",function(){return an(n),Qc().sendReportRequest("download_gen_data","csv",{type:"Gene information (csv)"})}),jc(21,"i",68),zc(),zc(),zc()}}var pW,vW=function(){return[25,50,100,250]},mW=((pW=function(){function n(e,t,r,i,a,o,s,c){v(this,n),this.genomicService=e,this.geneTableService=t,this.modalService=r,this.genGeneSelectedService=i,this.tableParamsStorageService=a,this.genSampleSelectedService=o,this.router=s,this.reportRunService=c,this.displayedColumns=[],this.allColumns=OB,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=DB,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.genSampleSelectedServiceSubscription=null,this.selectedSampleIds=[],this.samplesSelected=!1,this.isSelectedGenesChecked=!1,this.resizeEvents=new Map,this.clearSubject=new Ny(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new Ny(null),this.setFilter$=this.setFilterSubject.asObservable(),this.redirectOnLoad=null,this.onlySelectedSamplesSet=!1}return g(n,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-gene-table-widths"),this.dataSource=new jD(this.genomicService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.genSampleSelectedServiceSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){t.species&&t.datasets&&(e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage())}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){if(!t&&(e.applyResizes(),e.redirectOnLoad)){var n=e.redirectOnLoad;e.redirectOnLoad=null,e.router.navigate(n)}}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.filters.length>0&&!e.isSelectedGenesChecked?e.genGeneSelectedService.selection.next({names:t.name,onlySelected:e.onlySelectedSamplesSet}):(e.onlySelectedSamplesSet=!1,e.genGeneSelectedService.selection.next({names:[],onlySelected:e.onlySelectedSamplesSet}))}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.genSampleSelectedServiceSubscription=e.genSampleSelectedService.source.subscribe(function(t){var n,r;n=t.ids,r=e.selectedSampleIds,gW(Object.keys(n),Object.keys(r))&&Object.keys(n).every(function(e){return gW(n[e],r[e])})||(e.selectedSampleIds=t.ids,e.samplesSelected=Object.keys(e.selectedSampleIds).length>0,e.isSelectedGenesChecked&&(e.samplesSelected||(e.isSelectedGenesChecked=!1),e.onSelectedIdsChange(null)))}),e.router.events.subscribe(function(t){t instanceof Pb&&e.applyResizes()})}),LA(this.searchBox.nativeElement,"keyup").pipe(q(function(e){return e.target.value}),VD(1e3),nT()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedIdsChange",value:function(e){this.applyFilter(this.isSelectedGenesChecked&&this.samplesSelected?{field:"sample_id",predicates:[{field:"sample_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"sample_id",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var n=this.filters.length-1;n>=0;n--)this.filters[n].field===e.field&&this.filters.splice(n,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var r,i=t(e.predicates);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.op&&this.filters.push(a)}}catch(s){i.e(s)}finally{i.f()}for(var o=this.sorts.length-1;o>=0;o--)this.sorts[o].field===e.field&&this.sorts.splice(o,1);e.sort.order&&this.sorts.push(e.sort),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var n=function(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.delete(o)}}catch(s){a.e(s)}finally{a.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!n.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!n.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadGeneSequences(this.selection.species,this.selection.datasets.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns))}},{key:"onSequenceClick",value:function(e){var t=this.modalService.open(zD,{size:"lg"});t.componentInstance.name=e.name,t.componentInstance.content={ungapped:e.sequence,gapped:e.gapped_sequence}}},{key:"onAppearancesClick",value:function(e){this.onlySelectedSamplesSet=!0,this.redirectOnLoad=["./genesample","true"],this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"",postfix:""},op1:e.name,op2:""})}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"gen-gene-table-widths")}}},{key:"applyResizes",value:function(){var n,r=t(this.resizeEvents);try{for(r.s();!(n=r.n()).done;){var i=e(n.value,2),a=i[0],o=i[1];this.updateColumnWidth(a,o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),r=0;r<n.length;r++)n[r].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var r=this.selection.datasets;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,r,[],[],[],n)}}]),n}()).\u0275fac=function(e){return new(e||pW)(Mc(QO),Mc(gD),Mc(WI),Mc(PB),Mc(MB),Mc(LB),Mc(ok),Mc(bD))},pW.\u0275cmp=ut({type:pW,selectors:[["app-gene-table-panel"]],viewQuery:function(e,t){var n;1&e&&(Md($z,1),Md(uB,1),Md(xG,3)),2&e&&(Dd(n=Ld())&&(t.paginator=n.first),Dd(n=Ld())&&(t.table=n.first),Dd(n=Ld())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[Hh([MB])],decls:91,vars:19,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","imgt_name"],["matColumnDef","type"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","novel"],["matColumnDef","functional"],["matColumnDef","deleted"],["matColumnDef","sequence"],["class","small-col mat-ellipsis",3,"click",4,"matCellDef"],["matColumnDef","gapped_sequence"],["class","mat-ellipsis",3,"click",4,"matCellDef"],["matColumnDef","feature"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","score"],["matColumnDef","strand"],["matColumnDef","frame"],["matColumnDef","refseq_name"],["matColumnDef","sample_count"],["matColumnDef","appearances"],["class","small-col","style","cursor: pointer;",3,"click",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["downloadMenu","matMenu"],["matMenuContent",""],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"small-col","mat-ellipsis",3,"click"],[1,"mat-ellipsis",3,"click"],[1,"small-col",2,"cursor","pointer",3,"click"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-text-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Nc(0,"div",0),xc(1,CG,3,0,"div",1),hd(2,"async"),xc(3,EG,7,3,"div",2),hd(4,"async"),zc(),Nc(5,"div",0),Nc(6,"div",3),Nc(7,"span",4),Bl(8,"Quick search:\xa0"),zc(),jc(9,"input",5,6),zc(),Nc(11,"div",7),Nc(12,"button",8),Wc("click",function(){return t.clearSelection()}),Nc(13,"mat-icon",9),Bl(14,"delete_sweep"),zc(),Nc(15,"span",4),Bl(16,"Clear filters"),zc(),zc(),zc(),Nc(17,"div",7),Nc(18,"button",10),Wc("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Nc(19,"mat-icon",9),Bl(20,"view_column"),zc(),Nc(21,"span",4),Bl(22,"Arrange Columns"),zc(),zc(),zc(),Nc(23,"div",7),Nc(24,"button",11),Nc(25,"mat-icon",9),Bl(26,"cloud_download"),zc(),zc(),Nc(27,"label",12),Bl(28,"Download"),zc(),zc(),xc(29,RG,5,1,"div",13),Nc(30,"div",14),jc(31,"mat-paginator",15),zc(),zc(),Nc(32,"div",0),Nc(33,"div",16),Nc(34,"mat-table",17),Bc(35,18),xc(36,TG,4,8,"mat-header-cell",19),xc(37,IG,2,1,"mat-cell",20),Vc(),Bc(38,21),xc(39,OG,4,7,"mat-header-cell",19),xc(40,DG,2,1,"mat-cell",20),Vc(),Bc(41,22),xc(42,MG,4,7,"mat-header-cell",23),xc(43,PG,2,1,"mat-cell",24),Vc(),Bc(44,25),xc(45,LG,4,7,"mat-header-cell",23),xc(46,NG,2,1,"mat-cell",24),Vc(),Bc(47,26),xc(48,zG,4,7,"mat-header-cell",23),xc(49,jG,2,1,"mat-cell",24),Vc(),Bc(50,27),xc(51,BG,4,7,"mat-header-cell",23),xc(52,UG,2,1,"mat-cell",24),Vc(),Bc(53,28),xc(54,HG,4,7,"mat-header-cell",23),xc(55,$G,2,1,"mat-cell",29),Vc(),Bc(56,30),xc(57,qG,4,7,"mat-header-cell",19),xc(58,GG,2,1,"mat-cell",31),Vc(),Bc(59,32),xc(60,WG,4,7,"mat-header-cell",19),xc(61,YG,2,1,"mat-cell",20),Vc(),Bc(62,33),xc(63,ZG,4,7,"mat-header-cell",19),xc(64,XG,2,1,"mat-cell",20),Vc(),Bc(65,34),xc(66,KG,4,7,"mat-header-cell",19),xc(67,QG,2,1,"mat-cell",20),Vc(),Bc(68,35),xc(69,JG,4,7,"mat-header-cell",23),xc(70,eW,2,1,"mat-cell",24),Vc(),Bc(71,36),xc(72,tW,4,7,"mat-header-cell",23),xc(73,nW,2,1,"mat-cell",24),Vc(),Bc(74,37),xc(75,rW,4,7,"mat-header-cell",23),xc(76,iW,2,1,"mat-cell",24),Vc(),Bc(77,38),xc(78,aW,4,7,"mat-header-cell",19),xc(79,oW,2,1,"mat-cell",20),Vc(),Bc(80,39),xc(81,sW,4,7,"mat-header-cell",23),xc(82,cW,2,1,"mat-cell",24),Vc(),Bc(83,40),xc(84,lW,4,7,"mat-header-cell",23),xc(85,uW,2,1,"mat-cell",41),Vc(),xc(86,hW,1,0,"mat-header-row",42),xc(87,fW,1,0,"mat-row",43),zc(),zc(),zc(),Nc(88,"mat-menu",44,45),xc(90,dW,22,0,"ng-template",46),zc()),2&e){var n=Cc(89);wo(1),Lc("ngIf",fd(2,14,t.dataSource.loading$)),wo(2),Lc("ngIf",fd(4,16,t.dataSource.error$)),wo(15),Lc("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","gen-gene-table"),wo(6),Lc("matMenuTriggerFor",n),wo(5),Lc("ngIf",t.samplesSelected),wo(2),Lc("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Zf(18,vW)),wo(3),Lc("dataSource",t.dataSource),wo(52),Lc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",t.displayedColumns)}},directives:[zv,QB,aH,TU,$z,uB,mB,pB,fB,kB,xB,CU,yU,ZE,ER,sA,yB,_H,SG,_B,EB,AB],pipes:[Jv],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),pW);function gW(e,t){return e.length===t.length&&e.every(function(e){return t.includes(e)})}var yW,bW,_W=((bW=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||bW)},bW.\u0275cmp=ut({type:bW,selectors:[["app-genetable"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-gene-table-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!0)("showAssembly",!1)("showRepseq",!1))},directives:[MD,mW],styles:[""]}),bW),wW=((yW=function(){function e(t){v(this,e),this.httpClient=t,this.WORDPRESS_ENDPOINT="https://wordpress.vdjbase.org/index.php/wp-json/wp/v2/"}return g(e,[{key:"fetchNews",value:function(){return this.httpClient.get("".concat(this.WORDPRESS_ENDPOINT,"posts?categories=11&per_page=5")).pipe(hD(),q(function(e){var t=[];for(var n in e)t.push([e[n].title.rendered,e[n].link]);return t}),ub(function(e){return console.log("error"),cT(e)}))}},{key:"fetchHelp",value:function(){return this.httpClient.get("".concat(this.WORDPRESS_ENDPOINT,"posts?categories=12&per_page=5")).pipe(hD(),q(function(e){var t=[];for(var n in e)t.push([e[n].title.rendered,e[n].link]);return t}),ub(function(e){return console.log("error"),cT(e)}))}}]),e}()).\u0275fac=function(e){return new(e||yW)(ti(EE))},yW.\u0275prov=De({token:yW,factory:yW.\u0275fac,providedIn:"root"}),yW);function kW(e,t){1&e&&(Nc(0,"div",34),Nc(1,"span",35),Bl(2,"Loading..."),zc(),zc())}function SW(e,t){1&e&&(Nc(0,"div",36),Nc(1,"h4"),Bl(2,"Error loading news"),zc(),zc())}function xW(e,t){1&e&&(Nc(0,"p"),Bl(1,"No posts available!"),zc())}function CW(e,t){if(1&e&&(Nc(0,"li"),Nc(1,"a",39),Bl(2),zc(),zc()),2&e){var n=t.$implicit;wo(1),nl("href",n[1],oa),wo(1),Vl(n[0])}}function EW(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"ul",37),xc(2,CW,3,2,"li",38),zc(),zc()),2&e){var n=Qc();wo(2),Lc("ngForOf",n.loadedNewsPosts)}}function RW(e,t){1&e&&(Nc(0,"div",34),Nc(1,"span",35),Bl(2,"Loading..."),zc(),zc())}function AW(e,t){1&e&&(Nc(0,"div",36),Nc(1,"h4"),Bl(2,"Error loading help"),zc(),zc())}function TW(e,t){1&e&&(Nc(0,"p"),Bl(1,"No posts available!"),zc())}function IW(e,t){if(1&e&&(Nc(0,"li"),Nc(1,"a",39),Bl(2),zc(),zc()),2&e){var n=t.$implicit;wo(1),nl("href",n[1],oa),wo(1),Vl(n[0])}}function OW(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"ul",37),xc(2,IW,3,2,"li",38),zc(),zc()),2&e){var n=Qc();wo(2),Lc("ngForOf",n.loadedHelpPosts)}}var DW,MW,PW,LW,FW,NW,zW,jW,BW=((DW=function(){function e(t){v(this,e),this.wordpressService=t,this.loadedNewsPosts=[],this.loadingNews=!1,this.errorNews=null,this.loadedHelpPosts=[],this.loadingHelp=!1,this.errorHelp=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.loadingNews=!0,this.wordpressService.fetchNews().subscribe(function(t){e.loadedNewsPosts=t,e.loadingNews=!1},function(t){e.errorNews=t,console.log("error in main"),e.loadingNews=!1}),this.loadingHelp=!0,this.wordpressService.fetchHelp().subscribe(function(t){e.loadedHelpPosts=t,e.loadingHelp=!1},function(t){e.errorHelp=t,console.log("error in main"),e.loadingHelp=!1})}}]),e}()).\u0275fac=function(e){return new(e||DW)(Mc(wW))},DW.\u0275cmp=ut({type:DW,selectors:[["app-home"]],decls:118,vars:8,consts:[[1,"container-fluid"],[1,"text-center","py-1","bg-primary","shadow-none",2,"background-image","url(./assets/img/virions.png)","background-position","center","background-size","100%","background-repeat","repeat","height","200px"],[1,"container-fluid",2,"padding-top","1vw","padding-bottom","5vw"],[1,"row","mt-1","mb-5","ml-1","mr-1"],[1,"col-lg-2","col-md-3","col-sm-4","bg-light",2,"border-radius","2vw"],["src","./assets/img/logo_white_2.png",1,"img-fluid","mt-2"],[2,"font-size","0.75rem"],[1,"pl-1","pr-5","pt-5",2,"background-color","#f5f5f5","color","#000000"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"mat-h1"],["href","https://wordpress.vdjbase.org/index.php/vdjbase_news/"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["href","https://wordpress.vdjbase.org/index.php/vdjbase_help/"],[1,"col-md-12"],["href","https://doi.org/10.1093/nar/gkz872"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1038/sj.icb.7100144"],["href","https://onlinelibrary.wiley.com/doi/abs/10.1111/imcb.12288"],["href","https://academic.oup.com/nar/article/48/D1/D1051/5585549#"],["routerLink","./datarep"],["routerLink","./user-guide"],["href","./assets/doc/report_documentation.pdf"],["routerLink","./samplerep/null"],["routerLink","./generep"],["routerLink","./genesample/null"],["routerLink","./genetable"],["routerLink","./genebrowser/Human/Human_IGH"],["href","http://yaarilab.com/"],["href","http://shepherd-group.ismb.lon.ac.uk/research.html"],["href","http://yaarilab.com/contact"],["href","mailto:william@lees.org.uk"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[3,"href"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"div",1),Nc(2,"div",2),Nc(3,"div",3),Nc(4,"div",4),jc(5,"img",5),Nc(6,"p",6),Bl(7,"Immune Receptor Genotypes and Haplotypes"),zc(),zc(),zc(),zc(),zc(),Nc(8,"div",7),Nc(9,"div",8),Nc(10,"div",9),Nc(11,"div",10),Nc(12,"div",9),Nc(13,"div",10),Nc(14,"h1",11),Bl(15,"Latest News ("),Nc(16,"a",12),Bl(17,"more"),zc(),Bl(18,")"),zc(),zc(),zc(),xc(19,kW,3,0,"div",13),xc(20,SW,3,0,"div",14),Nc(21,"div"),xc(22,xW,2,0,"p",15),xc(23,EW,3,1,"div",15),zc(),zc(),Nc(24,"div",10),Nc(25,"div",9),Nc(26,"div",10),Nc(27,"h1",11),Bl(28,"Help topics ("),Nc(29,"a",16),Bl(30,"more"),zc(),Bl(31,")"),zc(),zc(),zc(),xc(32,RW,3,0,"div",13),xc(33,AW,3,0,"div",14),Nc(34,"div"),xc(35,TW,2,0,"p",15),xc(36,OW,3,1,"div",15),zc(),zc(),zc(),Nc(37,"div",9),Nc(38,"div",17),Nc(39,"h1",11),Bl(40,"About VDJbase"),zc(),zc(),zc(),Nc(41,"div",9),Nc(42,"div",17),Nc(43,"p"),Bl(44," VDJbase is a database of adaptive immune receptor genes, genotypes and haplotypes. Our core collection is inferred from immune receptor repertoire sequences, as recently described in "),Nc(45,"a",18),Bl(46,"Nucleic Acids Research"),zc(),Bl(47,". We are also beginning to add genomically derived material. "),zc(),Nc(48,"p"),Bl(49," Detailed knowledge of these genes, in humans and key research species, is vital to the understanding of the immune response. Current reference sets, widely used in immune repertoire research, are often incomplete. Problems in the "),Nc(50,"a",19),Bl(51,"human"),zc(),Bl(52," and "),Nc(53,"a",20),Bl(54,"mouse"),zc(),Bl(55," sets are long-standing. VDJbase allows researchers to consult inferences from many hundreds of samples, allowing a population-level understanding of genes and alleles to be developed, and hitherto unidentified alleles to be described. "),zc(),Nc(56,"p"),Bl(57," VDJbase provides customisable reports, which allow users to study gene and allele usage in various ways. Reports, and the data underlying them, are provided under open-source licence. If you use VDJbase in your research, please "),Nc(58,"a",21),Bl(59,"cite our paper"),zc(),Bl(60,". "),zc(),Nc(61,"p"),Bl(62," From here you can: "),zc(),zc(),zc(),Nc(63,"div",9),Nc(64,"div",17),Nc(65,"ul"),Nc(66,"li"),Nc(67,"a",22),Bl(68,"Explore the data"),zc(),Bl(69," available in VDJbase today"),zc(),Nc(70,"li"),Bl(71,"Read our "),Nc(72,"a",23),Bl(73,"user guide"),zc(),Bl(74," or find more information on "),Nc(75,"a",24),Bl(76,"reports"),zc(),zc(),jc(77,"br"),Nc(78,"li"),Bl(79,"Browse the "),Nc(80,"a",25),Bl(81,"adaptive immune receptor repertore (AIRR) datasets"),zc(),zc(),Nc(82,"li"),Bl(83,"Browse "),Nc(84,"a",26),Bl(85,"alleles"),zc(),Bl(86," identified from the AIRR datasets"),zc(),jc(87,"br"),Nc(88,"li"),Bl(89,"Browse the "),Nc(90,"a",27),Bl(91,"genomically-derived datasets"),zc(),zc(),Nc(92,"li"),Bl(93,"Browse "),Nc(94,"a",28),Bl(95,"alleles"),zc(),Bl(96," identified from the genomically-derived datasets"),zc(),Nc(97,"li"),Bl(98,"View "),Nc(99,"a",29),Bl(100,"alignments"),zc(),Bl(101," in a genome browser."),zc(),zc(),Nc(102,"p"),Bl(103,"All options are also available from the menu at the top of each page."),zc(),Nc(104,"p"),Bl(105," VDJbase is jointly developed and maintained by members of the "),Nc(106,"a",30),Bl(107,"Yaari Lab"),zc(),Bl(108," at the Faculty of Engineering at Bar Ilan University, Israel, and the "),Nc(109,"a",31),Bl(110,"Shepherd Group"),zc(),Bl(111," at the Institute of Structural and Molecular Biology, Birkbeck College, London. It is hosted at Birkbeck. For further information, please contact "),Nc(112,"a",32),Bl(113,"Gur Yaari"),zc(),Bl(114," or "),Nc(115,"a",33),Bl(116,"William Lees"),zc(),Bl(117,". "),zc(),zc(),zc(),zc(),zc(),zc()),2&e&&(wo(19),Lc("ngIf",t.loadingNews),wo(1),Lc("ngIf",t.errorNews),wo(2),Lc("ngIf",t.loadedNewsPosts.length<1&&!t.loadingNews&&!t.errorNews),wo(1),Lc("ngIf",t.loadedNewsPosts.length>=1&&!t.loadingNews),wo(9),Lc("ngIf",t.loadingHelp),wo(1),Lc("ngIf",t.errorHelp),wo(2),Lc("ngIf",t.loadedHelpPosts.length<1&&!t.loadingHelp&&!t.errorHelp),wo(1),Lc("ngIf",t.loadedHelpPosts.length>=1&&!t.loadingHelp))},directives:[zv,ck,Fv],styles:[""]}),DW),VW={production:!0,apiBasePath:location.protocol+"//"+location.hostname+"/admin/api",igvBasePath:location.protocol+"//"+location.hostname+"/static/gff"},UW=l("WuQa"),HW=l.n(UW),$W=["igv"],qW=((FW=function(){function e(t,n){v(this,e),this.geneTableService=t,this.route=n,this.browser=null,this.geneTableServiceSubscription=null,this.species=null,this.assemblyName=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.selection=t,e.reconfigureBrowser()})}},{key:"ngOnDestroy",value:function(){this.geneTableServiceSubscription.unsubscribe()}},{key:"reconfigureBrowser",value:function(){this.species=this.selection.species?this.selection.species.replace(" ","_"):null,this.assemblyName=this.selection.assemblies.length>0?this.selection.assemblies[0].replace(" ","_"):null,this.browser&&(HW.a.removeBrowser(this.browser),this.browser=null),this.species&&this.assemblyName&&this.buildBrowser()}},{key:"buildBrowser",value:function(){var e=this;fT(0),HW.a.createBrowser($("#igvdiv"),{reference:{id:this.species,fastaURL:VW.igvBasePath+"/"+this.species+"_"+this.assemblyName+".fasta",indexURL:VW.igvBasePath+"/"+this.species+"_"+this.assemblyName+".fasta.fai"},search:{url:VW.apiBasePath+"/genomic/feature_pos/"+this.species+"/"+this.assemblyName+"/$FEATURE$"}}).then(function(t){fT(0),e.browser=t,e.browser.loadTrack({name:"Genes",type:"annotation",url:VW.igvBasePath+"/"+e.species+"_"+e.assemblyName+".gff3"}).then(function(){e.browser.loadTrack({name:"Samples",type:"alignment",format:"bam",url:VW.igvBasePath+"/"+e.species+"_"+e.assemblyName+".bam",indexURL:VW.igvBasePath+"/"+e.species+"_"+e.assemblyName+".bam.bai"}).then(function(){e.browser.loadTrack({name:"Refs",type:"alignment",format:"bam",url:VW.igvBasePath+"/"+e.species+"_"+e.assemblyName+"_imgt.bam",indexURL:VW.igvBasePath+"/"+e.species+"_"+e.assemblyName+"_imgt.bam.bai"})})})})}}]),e}()).\u0275fac=function(e){return new(e||FW)(Mc(gD),Mc(F_))},FW.\u0275cmp=ut({type:FW,selectors:[["app-gene-browser-panel"]],viewQuery:function(e,t){var n;1&e&&Md($W,3),2&e&&Dd(n=Ld())&&(t.igvdiv=n.first)},inputs:{selection:"selection"},decls:3,vars:0,consts:[["id","igvdiv"],["igv",""]],template:function(e,t){1&e&&(Nc(0,"div"),jc(1,"div",0,1),zc())},styles:[""]}),FW),GW=((LW=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||LW)},LW.\u0275cmp=ut({type:LW,selectors:[["app-gene-browser"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-gene-browser-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!0)("showAssembly",!0)("showRepseq",!1))},directives:[MD,qW],styles:[""]}),LW),WW=((PW=function e(){v(this,e)}).\u0275fac=function(e){return new(e||PW)},PW.\u0275mod=vt({type:PW}),PW.\u0275inj=Me({imports:[[dP,rm],dP]}),PW),YW=((MW=function e(){v(this,e),this.changes=new V,this.sortButtonLabel=function(e){return"Change sorting for ".concat(e)}}).\u0275fac=function(e){return new(e||MW)},MW.\u0275prov=De({factory:function(){return new MW},token:MW,providedIn:"root"}),MW),ZW={provide:YW,deps:[[new li,new hi,YW]],useFactory:function(e){return e||new YW}},XW=((jW=function e(){v(this,e)}).\u0275fac=function(e){return new(e||jW)},jW.\u0275mod=vt({type:jW}),jW.\u0275inj=Me({providers:[ZW],imports:[[rm,dP]]}),jW),KW=((zW=function(){function e(){v(this,e),this.cache=new Map}return g(e,[{key:"get",value:function(e){this.cache.get(e.urlWithParams)}},{key:"put",value:function(e,t){var n=this,r=e.url,i={url:r,response:t,lastRead:Date.now()};this.cache.set(r,i);var a=Date.now()-36e5;this.cache.forEach(function(e){e.lastRead<a&&n.cache.delete(e.url)})}}]),e}()).\u0275fac=function(e){return new(e||zW)},zW.\u0275prov=De({token:zW,factory:zW.\u0275fac}),zW),QW=((NW=function(){function e(t){v(this,e),this.cache=t}return g(e,[{key:"intercept",value:function(e,t){var n=this.cache.get(e);return n?Fy(n):this.sendRequest(e,t,this.cache)}},{key:"sendRequest",value:function(e,t,n){return t.handle(e).pipe(Eb(function(t){t instanceof pE&&n.put(e,t)}))}}]),e}()).\u0275fac=function(e){return new(e||NW)(ti(KW))},NW.\u0275prov=De({token:NW,factory:NW.\u0275fac}),NW),JW=function(){function e(t){v(this,e),this.repseqService=t,this.repSampleSubject=new Ny([]),this.choicesSubject=new Ny({}),this.loadingSubject=new Ny(!1),this.errorSubject=new Ny(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return g(e,[{key:"loadRepSamples",value:function(e,t,n,r,i,a,o){var s=this;t=t.split(",").map(function(e){return"Test"===e?"Human_IGH":e}).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSamplesApi(e,t,n,r,i,a,o).pipe(hD(),ub(function(e){return s.errorSubject.next(e),[]}),Tb(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("samples")?s.repSampleSubject.next(e.samples):s.repSampleSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSampleSubject.next([]))}},{key:"connect",value:function(e){return this.repSampleSubject.asObservable()}},{key:"disconnect",value:function(e){this.repSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),eY=[{id:"name",name:"Name",hidden:!1},{id:"chain",name:"Chain",hidden:!0},{id:"row_reads",name:"Reads",hidden:!1},{id:"date",name:"Date",hidden:!0},{id:"samples_group",name:"Sample Group",hidden:!0},{id:"patient_name",name:"Patient",hidden:!0},{id:"sex",name:"Sex",hidden:!0},{id:"ethnic",name:"Ethnicity",hidden:!0},{id:"status",name:"Condition",hidden:!0},{id:"cohort",name:"Cohort",hidden:!0},{id:"age",name:"Age",hidden:!0},{id:"name_in_paper",name:"Name in Study",hidden:!0},{id:"country",name:"Country",hidden:!0},{id:"study_name",name:"Study",hidden:!0},{id:"institute",name:"Institute",hidden:!0},{id:"researcher",name:"Researcher",hidden:!0},{id:"num_subjects",name:"# Subjects",hidden:!0},{id:"num_samples",name:"# Samples",hidden:!0},{id:"study_reference",name:"Study Ref",hidden:!0},{id:"study_contact",name:"Study Contact",hidden:!0},{id:"study_acc_id",name:"Study Acc ID",hidden:!0},{id:"study_acc_ref",name:"Study Acc Ref",hidden:!0},{id:"tissue_name",name:"Tissue Name",hidden:!0},{id:"species",name:"Species",hidden:!0},{id:"tissue",name:"Tissue",hidden:!1},{id:"combined_cell_type",name:"Cell",hidden:!1},{id:"cell_type",name:"Cell Type",hidden:!0},{id:"sub_cell_type",name:"Cell Subtype",hidden:!0},{id:"isotype",name:"Isotype",hidden:!0},{id:"sequencing_protocol",name:"Protocol",hidden:!0},{id:"umi",name:"UMI",hidden:!1},{id:"sequencing_length",name:"Read Length",hidden:!1},{id:"primer_3_loc",name:"3' Primer",hidden:!0},{id:"primer_5_loc",name:"5' Primer",hidden:!0},{id:"seq_platform",name:"Platform",hidden:!0},{id:"helix",name:"Helix",hidden:!0},{id:"genotypes",name:"Genotype",hidden:!1},{id:"haplotypes",name:"Haplotypes",hidden:!1},{id:"dataset",name:"Dataset",hidden:!1}];function tY(e,t){1&e&&(Nc(0,"div",3),Nc(1,"span",4),Bl(2,"Loading..."),zc(),zc())}function nY(e,t){if(1&e&&(Nc(0,"div",5),Nc(1,"div",6),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(n.error)}}function rY(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",7),Nc(2,"h3",8),Bl(3),zc(),Nc(4,"button",9),Wc("click",function(){return an(n),Qc().activeModal.dismiss("Cross click")}),Nc(5,"span",10),Bl(6,"\xd7"),zc(),zc(),zc(),Nc(7,"div",11),Nc(8,"div",12),Nc(9,"div",6),Nc(10,"div",13),Nc(11,"h4"),Bl(12,"Study"),zc(),Nc(13,"ul"),Bl(14),zc(),Nc(15,"ul"),Bl(16),zc(),Nc(17,"ul"),Bl(18),zc(),Nc(19,"ul"),Bl(20),zc(),Nc(21,"ul"),Bl(22,"Publication: "),Nc(23,"a",14),jc(24,"i",15),zc(),zc(),Nc(25,"ul"),Bl(26,"Contact Info: "),Nc(27,"a",14),jc(28,"i",15),zc(),zc(),Nc(29,"ul"),Bl(30),zc(),zc(),Nc(31,"div",13),Nc(32,"h4"),Bl(33,"Subject"),zc(),Nc(34,"ul"),Bl(35),zc(),Nc(36,"ul"),Bl(37),zc(),Nc(38,"ul"),Bl(39),zc(),Nc(40,"ul"),Bl(41),zc(),Nc(42,"ul"),Bl(43),zc(),Nc(44,"ul"),Bl(45),zc(),Nc(46,"ul"),Bl(47),zc(),zc(),Nc(48,"div",13),Nc(49,"h4"),Bl(50,"Tissue Processing"),zc(),Nc(51,"ul"),Bl(52),zc(),Nc(53,"ul"),Bl(54),zc(),Nc(55,"ul"),Bl(56),zc(),Nc(57,"ul"),Bl(58),zc(),Nc(59,"ul"),Bl(60),zc(),Nc(61,"ul"),Bl(62,"Number of cells:"),zc(),zc(),zc(),Nc(63,"div",6),Nc(64,"div",13),Nc(65,"h4"),Bl(66,"Sequence Protocols"),zc(),Nc(67,"ul"),Bl(68),zc(),Nc(69,"ul"),Bl(70),zc(),Nc(71,"ul"),Bl(72),zc(),Nc(73,"ul"),Bl(74),zc(),Nc(75,"ul"),Bl(76),zc(),Nc(77,"ul"),Bl(78),zc(),zc(),Nc(79,"div",13),Nc(80,"h4"),Bl(81,"Inference Pipeline"),zc(),Nc(82,"ul"),Bl(83),zc(),Nc(84,"ul"),Bl(85),zc(),Nc(86,"ul"),Bl(87),zc(),Nc(88,"ul"),Bl(89),zc(),Nc(90,"ul"),Bl(91),zc(),zc(),jc(92,"div",13),zc(),zc(),zc(),Nc(93,"div",16),Nc(94,"button",17),Wc("click",function(){return an(n),Qc().activeModal.close("Close click")}),Bl(95,"Close"),zc(),zc(),Vc()}if(2&e){var r=Qc();wo(3),Ul("Sample Details - ",r.sampleName,""),wo(11),Ul("Lab Address: ",r.sampleInfo.institute,""),wo(2),Ul("Researcher: ",r.sampleInfo.researcher,""),wo(2),Ul("Number of subjects: ",r.sampleInfo.num_subjects,""),wo(2),Ul("Number of samples: ",r.sampleInfo.num_samples,""),wo(3),nl("href",r.sampleInfo.study_reference,oa),wo(4),nl("href",r.sampleInfo.study_contact,oa),wo(3),Ul("Accession ID: ",r.sampleInfo.study_acc_id,""),wo(5),Ul("ID here: ",r.sampleInfo.name,""),wo(2),Ul("ID in study: ",r.sampleInfo.name_in_paper,""),wo(2),Ul("Sex: ",r.sampleInfo.sex,""),wo(2),Ul("Age: ",r.sampleInfo.age,""),wo(2),Ul("Ethnicity: ",r.sampleInfo.ethnic,""),wo(2),Ul("Study cohort: ",r.sampleInfo.cohort,""),wo(2),Ul("Condition: ",r.sampleInfo.status,""),wo(5),Ul("Species: ",r.sampleInfo.species,""),wo(2),Ul("Tissue: ",r.sampleInfo.tissue,""),wo(2),Ul("Cell type: ",r.sampleInfo.cell_type,""),wo(2),Ul("Cell subset: ",r.sampleInfo.sub_cell_type,""),wo(2),Ul("Isotype: ",r.sampleInfo.isotype,""),wo(8),Ul("UMI barcode: ",r.sampleInfo.umi,""),wo(2),Ul("Target substrate: ",r.sampleInfo.helix,""),wo(2),Ul("Platform: ",r.sampleInfo.seq_platform,""),wo(2),Ul("Read length: ",r.sampleInfo.sequencing_length,""),wo(2),Ul("Reverse PCR primer loc: ",r.sampleInfo.primer_3_loc,""),wo(2),Ul("Forward PCR primer loc: ",r.sampleInfo.primer_5_loc,""),wo(5),Ul("Version: ",r.sampleInfo.pipeline_name,""),wo(2),Hl("Aligner: ",r.sampleInfo.aligner_tool," v. ",r.sampleInfo.aligner_ver,""),wo(2),Ul("Germline Set: ",r.sampleInfo.aligner_reference,""),wo(2),Hl("Genotyping tool: ",r.sampleInfo.geno_tool," v. ",r.sampleInfo.geno_ver,""),wo(2),Hl("Haplotyping tool: ",r.sampleInfo.haplotype_tool," v. ",r.sampleInfo.haplotype_ver,"")}}var iY,aY,oY,sY,cY=((sY=function(){function e(t,n,r){v(this,e),this.activeModal=t,this.modalService=n,this.repseqService=r,this.loading=!1,this.error=null,this.sampleInfo=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.error=null,this.repseqService.getSampleInfoApi(this.species,this.dataset,this.sampleName).pipe(hD(),ub(function(t){return e.error.next(t),[]}),Tb(function(){e.loading=!1})).subscribe(function(t){e.sampleInfo=t})}}]),e}()).\u0275fac=function(e){return new(e||sY)(Mc(UI),Mc(WI),Mc(eD))},sY.\u0275cmp=ut({type:sY,selectors:[["app-sample-rep-info"]],inputs:{sampleName:"sampleName",species:"species",dataset:"dataset"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"col-sm"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(xc(0,tY,3,0,"div",0),xc(1,nY,6,1,"div",1),xc(2,rY,96,34,"ng-container",2)),2&e&&(Lc("ngIf",t.loading),wo(1),Lc("ngIf",t.error),wo(1),Lc("ngIf",!t.loading&&!t.error))},directives:[zv],styles:["h4,ul{margin-bottom:.2rem!important}h4{margin-top:1rem!important}"],encapsulation:2}),sY),lY=((oY=function e(){v(this,e),this.selection=new Ny({names:[],onlySelected:!1}),this.source=this.selection.asObservable()}).\u0275prov=De({token:oY,factory:oY.\u0275fac=function(e){return new(e||oY)},providedIn:"root"}),oY),uY=((aY=function e(){v(this,e),this.selection=new Ny({ids:[]}),this.source=this.selection.asObservable()}).\u0275prov=De({token:aY,factory:aY.\u0275fac=function(e){return new(e||aY)},providedIn:"root"}),aY),hY=((iY=function e(){v(this,e),this.selection=new Ny({filters:[]}),this.source=this.selection.asObservable()}).\u0275prov=De({token:iY,factory:iY.\u0275fac=function(e){return new(e||iY)},providedIn:"root"}),iY),fY=["searchBox"];function dY(e,t){1&e&&(Nc(0,"div",72),Nc(1,"span",73),Bl(2,"Loading..."),zc(),zc())}function pY(e,t){if(1&e&&(Nc(0,"div",74),Nc(1,"div",0),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),hd(6,"async"),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(fd(6,1,n.dataSource.error$))}}function vY(e,t){if(1&e){var n=Hc();Nc(0,"div",3),Nc(1,"div",75),Nc(2,"input",76),Wc("ngModelChange",function(e){return an(n),Qc().isSelectedSamplesChecked=e})("change",function(){return an(n),Qc().onSelectedSamplesChange()}),zc(),Nc(3,"label",77),Bl(4," Only samples with selected genes "),zc(),zc(),zc()}if(2&e){var r=Qc();wo(2),Lc("ngModel",r.isSelectedSamplesChecked)}}var mY=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function gY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"name")}),Bl(1," Name "),Nc(2,"app-filter",79,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(7,mY)),wo(2),Lc("columnName","name")("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function yY(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",81),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.name)}}function bY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"chain")}),Bl(1," Chain "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","chain")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function _Y(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.chain)}}function wY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"row_reads")}),Bl(1," Reads "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","row_reads")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function kY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.row_reads)}}function SY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"date")}),Bl(1," Date "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","date")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function xY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.date)}}function CY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"samples_group")}),Bl(1," Sample Group "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","samples_group")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function EY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.samples_group)}}function RY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"patient_name")}),Bl(1," Patient "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","patient_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function AY(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.patient_name)}}function TY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sex")}),Bl(1," Sex "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","sex")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function IY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.sex)}}function OY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"ethnic")}),Bl(1," Ethnicity "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","ethnic")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function DY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.ethnic)}}function MY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"status")}),Bl(1," Condition "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","status")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function PY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.status)}}function LY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"cohort")}),Bl(1," Cohort "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","cohort")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function FY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.cohort)}}function NY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"age")}),Bl(1," Age "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","age")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function zY(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.age)}}function jY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"name_in_paper")}),Bl(1," Name In Study "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","name_in_paper")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function BY(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.name_in_paper)}}function VY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"country")}),Bl(1," Country "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","country")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function UY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.country)}}function HY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_name")}),Bl(1," Study "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","study_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function $Y(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.study_name)}}function qY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"institute")}),Bl(1," Institute "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","institute")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function GY(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.institute)}}function WY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"researcher")}),Bl(1," Researcher "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","researcher")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function YY(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.researcher)}}function ZY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"num_subjects")}),Bl(1," # Subjects "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","num_subjects")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function XY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.num_subjects)}}function KY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"num_samples")}),Bl(1," # Samples "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","num_samples")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function QY(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.num_samples)}}function JY(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_reference")}),Bl(1," Study Ref "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","study_reference")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function eZ(e,t){if(1&e&&(Bc(0),Nc(1,"a",86),jc(2,"i",87),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.study_reference,oa)}}function tZ(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.study_reference," ")}}function nZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),xc(1,eZ,3,1,"ng-container",85),xc(2,tZ,2,1,"ng-container",85),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.study_reference.startsWith("http")),wo(1),Lc("ngIf",!n.study_reference.startsWith("http"))}}function rZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_contact")}),Bl(1," Study Contact "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","study_contact")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function iZ(e,t){if(1&e&&(Bc(0),Nc(1,"a",86),jc(2,"i",87),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.study_contact,oa)}}function aZ(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.study_contact," ")}}function oZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),xc(1,iZ,3,1,"ng-container",85),xc(2,aZ,2,1,"ng-container",85),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.study_contact.startsWith("http")),wo(1),Lc("ngIf",!n.study_contact.startsWith("http"))}}function sZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_acc_id")}),Bl(1," Study Acc ID "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","study_acc_id")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function cZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.study_acc_id)}}function lZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_acc_ref")}),Bl(1," Study Acc Ref "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","study_acc_ref")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function uZ(e,t){if(1&e&&(Bc(0),Nc(1,"a",86),jc(2,"i",87),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.study_acc_ref,oa)}}function hZ(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.study_acc_ref," ")}}function fZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),xc(1,uZ,3,1,"ng-container",85),xc(2,hZ,2,1,"ng-container",85),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.study_acc_ref.startsWith("http")),wo(1),Lc("ngIf",!n.study_acc_ref.startsWith("http"))}}function dZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"tissue_name")}),Bl(1," Tissue Name "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","tissue_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function pZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.tissue_name)}}function vZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"species")}),Bl(1," Species "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","species")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function mZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.species)}}function gZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"tissue")}),Bl(1," Tissue "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","tissue")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function yZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.tissue)}}function bZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"combined_cell_type")}),Bl(1," Cell "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","combined_cell_type")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function _Z(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.combined_cell_type)}}function wZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"cell_type")}),Bl(1," Cell Type "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","cell_type")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function kZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.cell_type)}}function SZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sub_cell_type")}),Bl(1," Cell Subtype "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","sub_cell_type")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function xZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.sub_cell_type)}}function CZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"isotype")}),Bl(1," Isotype "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","isotype")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function EZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.isotype)}}function RZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sequencing_protocol")}),Bl(1," Protocol "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","sequencing_protocol")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function AZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.sequencing_protocol)}}function TZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"umi")}),Bl(1," UMI "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","umi")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function IZ(e,t){1&e&&jc(0,"i",89)}function OZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),xc(1,IZ,1,0,"i",88),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.umi)}}function DZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"sequencing_length")}),Bl(1," Read Length "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","sequencing_length")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function MZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.sequencing_length)}}function PZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"primer_3_loc")}),Bl(1," 3' Primer "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","primer_3_loc")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function LZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.primer_3_loc)}}function FZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"primer_5_loc")}),Bl(1," 5' Primer "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","primer_5_loc")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function NZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.primer_5_loc)}}function zZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"seq_platform")}),Bl(1," Platform "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","seq_platform")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function jZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.seq_platform)}}function BZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"helix")}),Bl(1," Helix "),Nc(2,"app-filter",83,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,mY)),wo(2),Lc("columnName","helix")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function VZ(e,t){if(1&e&&(Nc(0,"mat-cell",84),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.helix)}}function UZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",82),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"genotypes")}),Bl(1," Genotype "),zc()}2&e&&Lc("enableGhostResize",!0)("resizeEdges",Zf(2,mY))}var HZ=function(e){return{sample:e}};function $Z(e,t){if(1&e&&(Nc(0,"mat-cell",84),Nc(1,"button",90),jc(2,"i",91),zc(),zc()),2&e){var n=t.$implicit;Qc();var r=Cc(162);wo(1),Lc("matMenuTriggerFor",r)("matMenuTriggerData",Xf(2,HZ,n))}}function qZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"haplotypes")}),Bl(1," Haplotype "),Nc(2,"app-filter",92,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(7,mY)),wo(2),Lc("columnName","haplotypes")("filterMode",r.filterModeEnum.TEXT_MODE)("showTextFilter",!1)("showSort",!1)("choices$",r.dataSource.choices$)}}var GZ=function(e,t){return{sample:e,haplo:t}};function WZ(e,t){if(1&e&&(Bc(0),Nc(1,"div",95),Nc(2,"button",96),Bl(3),zc(),zc(),Vc()),2&e){var n=Qc().$implicit,r=Qc(2).$implicit;Qc();var i=Cc(159);wo(2),Lc("matMenuTriggerFor",i)("matMenuTriggerData",Kf(3,GZ,r,n.key)),wo(1),Ul(" ",n.key," ")}}function YZ(e,t){if(1&e&&(Nc(0,"div"),xc(1,WZ,4,6,"ng-container",85),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf","path"!==n.key)}}function ZZ(e,t){if(1&e&&(Nc(0,"div"),Nc(1,"div",93),Nc(2,"div",0),xc(3,YZ,2,1,"div",94),hd(4,"keyvalue"),zc(),zc(),zc()),2&e){var n=Qc().$implicit;wo(3),Lc("ngForOf",fd(4,1,n.haplotypes))}}function XZ(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,ZZ,5,3,"div",85),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.haplotypes)}}function KZ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",78),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"dataset")}),Bl(1," Dataset "),Nc(2,"app-filter",97,80),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(5,mY)),wo(2),Lc("columnName","dataset")("filterMode",r.filterModeEnum.TEXT_MODE)("choices$",r.dataSource.choices$)}}function QZ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.dataset)}}function JZ(e,t){1&e&&jc(0,"mat-header-row")}function eX(e,t){1&e&&jc(0,"mat-row")}function tX(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Nc(3,"button",104),Wc("click",function(){an(n);var e=Qc(),t=e.sample,r=e.haplo;return Qc().sendReportRequest("rep_single_haplotype","pdf",t.haplotypes[r].analysis)}),jc(4,"i",105),zc(),Nc(5,"span"),Bl(6,"\xa0\xa0"),zc(),Nc(7,"button",104),Wc("click",function(){an(n);var e=Qc(),t=e.sample,r=e.haplo;return Qc().sendReportRequest("rep_single_haplotype","html",t.haplotypes[r].analysis)}),jc(8,"i",103),zc(),Vc()}}function nX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function rX(e,t){if(1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Nc(3,"a",106),jc(4,"i",107),zc(),Vc()),2&e){var n=Qc(),r=n.sample,i=n.haplo;wo(3),nl("href",r.haplotypes.path+r.haplotypes[i].rabhit,oa),nl("download",r.name+"_rabhit.tab")}}function iX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function aX(e,t){if(1&e&&(Nc(0,"div",93),Nc(1,"div",98),Nc(2,"b"),Bl(3),zc(),zc(),Nc(4,"div",99),Bl(5),zc(),Nc(6,"div",100),Bl(7," Haplotype Analysis "),xc(8,tX,9,0,"ng-container",85),xc(9,nX,4,0,"ng-container",85),zc(),Nc(10,"div",101),Bl(11," RabHIT report "),xc(12,rX,5,2,"ng-container",85),xc(13,iX,4,0,"ng-container",85),zc(),Nc(14,"div",99),Bl(15," RAbHIT explained "),Nc(16,"span"),Bl(17,"\xa0\xa0"),zc(),Nc(18,"a",102),jc(19,"i",103),zc(),zc(),zc()),2&e){var n=t.sample,r=t.haplo;wo(3),Vl(n.name),wo(2),Ul(" Inferred haplotype using ",r," as anchor "),wo(3),Lc("ngIf",n.haplotypes[r].analysis.length>0),wo(1),Lc("ngIf",0===n.haplotypes[r].analysis.length),wo(3),Lc("ngIf",n.haplotypes[r].rabhit.length>0),wo(1),Lc("ngIf",0===n.haplotypes[r].rabhit.length)}}function oX(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Nc(3,"button",104),Wc("click",function(){an(n);var e=Qc().sample;return Qc().sendReportRequest("rep_single_genotype","pdf",e.genotypes.analysis)}),jc(4,"i",105),zc(),Nc(5,"span"),Bl(6,"\xa0\xa0"),zc(),Nc(7,"button",104),Wc("click",function(){an(n);var e=Qc().sample;return Qc().sendReportRequest("rep_single_genotype","html",e.genotypes.analysis)}),jc(8,"i",103),zc(),Vc()}}function sX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function cX(e,t){if(1&e&&(Bc(0),Nc(1,"a",106),jc(2,"i",107),zc(),Vc()),2&e){var n=Qc().sample;wo(1),nl("href",n.genotypes.path+n.genotypes.tigger,oa),nl("download",n.name+"_tigger.tab")}}function lX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function uX(e,t){if(1&e&&(Bc(0),Nc(1,"a",106),jc(2,"i",107),zc(),Vc()),2&e){var n=Qc().sample;wo(1),nl("href",n.genotypes.path+n.genotypes.ogrdbstats,oa),nl("download",n.name+"_ogrdbstats.csv")}}function hX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function fX(e,t){if(1&e&&(Bc(0),Nc(1,"a",106),jc(2,"i",105),zc(),Vc()),2&e){var n=Qc().sample;wo(1),nl("href",n.genotypes.path+n.genotypes.ogrdbplot,oa),nl("download",n.name+"_ogrdbplot.pdf")}}function dX(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function pX(e,t){if(1&e&&(Nc(0,"div",93),Nc(1,"div",98),Nc(2,"b"),Bl(3),zc(),zc(),Nc(4,"div",99),Bl(5," Inferred genotype "),zc(),Nc(6,"div",108),Bl(7," Genotype Analysis "),xc(8,oX,9,0,"ng-container",85),xc(9,sX,4,0,"ng-container",85),zc(),Nc(10,"div",108),Bl(11," TIgGER report "),Nc(12,"span"),Bl(13,"\xa0\xa0"),zc(),xc(14,cX,3,2,"ng-container",85),xc(15,lX,4,0,"ng-container",85),zc(),Nc(16,"div",108),Bl(17," OGRDBStats report "),Nc(18,"span"),Bl(19,"\xa0\xa0"),zc(),xc(20,uX,3,2,"ng-container",85),xc(21,hX,4,0,"ng-container",85),zc(),Nc(22,"div",108),Bl(23," OGRDBStats plots "),Nc(24,"span"),Bl(25,"\xa0\xa0"),zc(),xc(26,fX,3,2,"ng-container",85),xc(27,dX,4,0,"ng-container",85),zc(),Nc(28,"div",99),Bl(29," TIgGER explained "),Nc(30,"span"),Bl(31,"\xa0\xa0"),zc(),Nc(32,"a",109),jc(33,"i",103),zc(),zc(),Nc(34,"div",99),Bl(35," OGRDBstats explained "),Nc(36,"span"),Bl(37,"\xa0\xa0"),zc(),Nc(38,"a",110),jc(39,"i",103),zc(),zc(),zc()),2&e){var n=t.sample;wo(3),Vl(n.name),wo(5),Lc("ngIf",n.genotypes.analysis.length>0),wo(1),Lc("ngIf",0===n.genotypes.analysis.length),wo(5),Lc("ngIf",n.genotypes.tigger.length>0),wo(1),Lc("ngIf",0===n.genotypes.tigger.length),wo(5),Lc("ngIf",n.genotypes.ogrdbstats.length>0),wo(1),Lc("ngIf",0===n.genotypes.ogrdbstats.length),wo(5),Lc("ngIf",n.genotypes.ogrdbplot.length>0),wo(1),Lc("ngIf",0===n.genotypes.ogrdbplot.length)}}function vX(e,t){if(1&e){var n=Hc();Nc(0,"div",93),Nc(1,"div",98),Nc(2,"b"),Bl(3,"Download data for selected samples"),zc(),zc(),Nc(4,"div",100),Bl(5," Sample info (csv) "),Nc(6,"span"),Bl(7,"\xa0\xa0"),zc(),Nc(8,"button",104),Wc("click",function(){return an(n),Qc().sendReportRequest("download_rep_data","csv",{type:"Sample info (CSV)"})}),jc(9,"i",105),zc(),zc(),Nc(10,"div",100),Bl(11," Sample data (zip) "),Nc(12,"span"),Bl(13,"\xa0\xa0"),zc(),Nc(14,"button",104),Wc("click",function(){return an(n),Qc().sendReportRequest("download_rep_data","zip",{type:"Sample files (ZIP)"})}),jc(15,"i",111),zc(),zc(),zc()}}var mX,gX,yX,bX,_X,wX,kX=function(){return[25,50,100,250]},SX=((bX=function(){function n(e,t,r,i,a,o,s,c,l,u,h,f){v(this,n),this.repseqService=e,this.geneTableService=t,this.modalService=r,this.repGeneSelectedService=i,this.repSampleSelectedService=a,this.repSampleFilterService=o,this.tableParamsStorageService=s,this.reportsService=c,this.httpClient=l,this.route=u,this.reportRunService=h,this.router=f,this.displayedColumns=["name","status","tissue","combined_cell_type","row_reads","sequencing_length","umi","genotypes","haplotypes"],this.allColumns=eY,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.repGeneSelectedServiceSubscription=null,this.filterModeEnum=DB,this.filters=[],this.sorts=[],this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.choices$Subscription=null,this.loading$Subscription=null,this.resizeEvents=new Map,this.clearSubject=new Ny(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new Ny(null),this.setFilter$=this.setFilterSubject.asObservable()}return g(n,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-sample-table-widths"),this.dataSource=new JW(this.repseqService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage()}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.repSampleSelectedService.selection.next(e.filters.length>0&&!e.isSelectedSamplesChecked?{ids:t.names_by_dataset}:{ids:[]})}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.repGeneSelectedServiceSubscription=e.repGeneSelectedService.source.subscribe(function(t){var n,r;(n=e.selectedSequenceNames).length===(r=t.names).length&&n.every(function(e){return r.includes(e)})?console.log("---"):(e.selectedSequenceNames=t.names,e.isSelectedSamplesChecked&&0===e.selectedSequenceNames.length?e.isSelectedSamplesChecked=!1:t.onlySelected&&(e.isSelectedSamplesChecked=!0),e.onSelectedSamplesChange())}),e.router.events.subscribe(function(t){t instanceof Pb&&e.applyResizes()})}),LA(this.searchBox.nativeElement,"keyup").pipe(q(function(e){return e.target.value}),VD(1e3),nT()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedSamplesChange",value:function(){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.repSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var n=this.filters.length-1;n>=0;n--)this.filters[n].field===e.field&&this.filters.splice(n,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var r,i=t(e.predicates);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.op&&this.filters.push(a)}}catch(s){i.e(s)}finally{i.f()}for(var o=this.sorts.length-1;o>=0;o--)this.sorts[o].field===e.field&&this.sorts.splice(o,1);e.sort.order&&this.sorts.push(e.sort),this.repSampleFilterService.selection.next({filters:this.filters}),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var n=function(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.delete(o)}}catch(s){a.e(s)}finally{a.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!n.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!n.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadRepSamples(this.selection.species,this.selection.repSeqs.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showInfo",value:function(e){var t=this.modalService.open(cY,{size:"xl"});t.componentInstance.sampleName=e.name,t.componentInstance.species=this.selection.species,t.componentInstance.dataset=e.dataset}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}},{key:"applyResizes",value:function(){var n,r=t(this.resizeEvents);try{for(r.s();!(n=r.n()).done;){var i=e(n.value,2),a=i[0],o=i[1];this.updateColumnWidth(a,o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),r=0;r<n.length;r++)n[r].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var r,i=[],a=this.selection.repSeqs,o="";"rep_single_haplotype"===e?(o="Haplotype Report",i=[{field:"name",op:"in",value:[(n=JSON.parse(n)).name]}],r={haplo_gene:n.hap_gene,sort_order:n.sort_order},a=n.repSeqs):"rep_single_genotype"===e?(o="Genotype Report",i=[{field:"name",op:"in",value:[(n=JSON.parse(n)).name]}],r={sort_order:n.sort_order},a=n.repSeqs):"download_rep_data"===e&&(o="Download Data",r=n,i=this.filters),this.reportRunService.runReport({name:e,title:o,filter_params:[]},t,this.selection.species,[],[],a,i,r)}}]),n}()).\u0275fac=function(e){return new(e||bX)(Mc(eD),Mc(gD),Mc(WI),Mc(lY),Mc(uY),Mc(hY),Mc(MB),Mc(JO),Mc(EE),Mc(F_),Mc(bD),Mc(ok))},bX.\u0275cmp=ut({type:bX,selectors:[["app-sample-rep-panel"]],viewQuery:function(e,t){var n;1&e&&(Md($z,1),Md(uB,1),Md(fY,3)),2&e&&(Dd(n=Ld())&&(t.paginator=n.first),Dd(n=Ld())&&(t.table=n.first),Dd(n=Ld())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[Hh([MB])],decls:167,vars:19,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],["id","deleteButton",2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["for","deleteButton",1,"form-check-label"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","chain"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","row_reads"],["matColumnDef","date"],["matColumnDef","samples_group"],["matColumnDef","patient_name"],[4,"matCellDef"],["matColumnDef","sex"],["matColumnDef","ethnic"],["matColumnDef","status"],["matColumnDef","cohort"],["matColumnDef","age"],["matColumnDef","name_in_paper"],["matColumnDef","country"],["matColumnDef","study_name"],["matColumnDef","institute"],["matColumnDef","researcher"],["matColumnDef","num_subjects"],["matColumnDef","num_samples"],["matColumnDef","study_reference"],["matColumnDef","study_contact"],["matColumnDef","study_acc_id"],["matColumnDef","study_acc_ref"],["matColumnDef","tissue_name"],["matColumnDef","species"],["matColumnDef","tissue"],["matColumnDef","combined_cell_type"],["matColumnDef","cell_type"],["matColumnDef","sub_cell_type"],["matColumnDef","isotype"],["matColumnDef","sequencing_protocol"],["matColumnDef","umi"],["matColumnDef","sequencing_length"],["matColumnDef","primer_3_loc"],["matColumnDef","primer_5_loc"],["matColumnDef","seq_platform"],["matColumnDef","helix"],["matColumnDef","genotypes"],["matColumnDef","haplotypes"],["matColumnDef","dataset"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["haploMenu","matMenu"],["matMenuContent",""],["genoMenu","matMenu"],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"click"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],[1,"small-col"],[4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],[3,"columnName","filterMode","showTextFilter","showSort","choices$","predicateEmitter"],[1,"container"],[4,"ngFor","ngForOf"],[1,"col-xs-6"],[1,"btn","btn-secondary","btn-sm","mr-1",3,"matMenuTriggerFor","matMenuTriggerData"],[3,"columnName","filterMode","choices$","predicateEmitter"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"row","ml-4","mr-2","mb-4"],["href","https://pubmed.ncbi.nlm.nih.gov/31173062","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[3,"href","download"],[1,"fa","fa-save",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],["href","https://pubmed.ncbi.nlm.nih.gov/30814994","target","_blank"],["href","https://github.com/airr-community/ogrdbstats","target","_blank"],[1,"fa","fa-file-zip-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Nc(0,"div",0),xc(1,dY,3,0,"div",1),hd(2,"async"),xc(3,pY,7,3,"div",2),hd(4,"async"),zc(),Nc(5,"div",0),Nc(6,"div",3),Nc(7,"span",4),Bl(8,"Quick search:\xa0"),zc(),jc(9,"input",5,6),zc(),Nc(11,"div",7),Nc(12,"button",8),Wc("click",function(){return t.clearSelection()}),Nc(13,"mat-icon",9),Bl(14,"delete_sweep"),zc(),zc(),Nc(15,"label",10),Bl(16,"Clear filters"),zc(),zc(),Nc(17,"div",7),Nc(18,"button",11),Wc("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Nc(19,"mat-icon",12),Bl(20,"view_column"),zc(),zc(),Nc(21,"label",13),Bl(22,"Arrange Columns"),zc(),zc(),Nc(23,"div",7),Nc(24,"button",14),Nc(25,"mat-icon",9),Bl(26,"cloud_download"),zc(),zc(),Nc(27,"label",15),Bl(28,"Download"),zc(),zc(),xc(29,vY,5,1,"div",16),Nc(30,"div",17),jc(31,"mat-paginator",18),zc(),zc(),Nc(32,"div",0),Nc(33,"div",19),Nc(34,"mat-table",20),Bc(35,21),xc(36,gY,4,8,"mat-header-cell",22),xc(37,yY,2,1,"mat-cell",23),Vc(),Bc(38,24),xc(39,bY,4,7,"mat-header-cell",25),xc(40,_Y,2,1,"mat-cell",26),Vc(),Bc(41,27),xc(42,wY,4,7,"mat-header-cell",25),xc(43,kY,2,1,"mat-cell",26),Vc(),Bc(44,28),xc(45,SY,4,7,"mat-header-cell",25),xc(46,xY,2,1,"mat-cell",26),Vc(),Bc(47,29),xc(48,CY,4,7,"mat-header-cell",25),xc(49,EY,2,1,"mat-cell",26),Vc(),Bl(50," // Patient "),Bc(51,30),xc(52,RY,4,7,"mat-header-cell",22),xc(53,AY,2,1,"mat-cell",31),Vc(),Bc(54,32),xc(55,TY,4,7,"mat-header-cell",25),xc(56,IY,2,1,"mat-cell",26),Vc(),Bc(57,33),xc(58,OY,4,7,"mat-header-cell",25),xc(59,DY,2,1,"mat-cell",26),Vc(),Bc(60,34),xc(61,MY,4,7,"mat-header-cell",25),xc(62,PY,2,1,"mat-cell",26),Vc(),Bc(63,35),xc(64,LY,4,7,"mat-header-cell",25),xc(65,FY,2,1,"mat-cell",26),Vc(),Bc(66,36),xc(67,NY,4,7,"mat-header-cell",22),xc(68,zY,2,1,"mat-cell",31),Vc(),Bc(69,37),xc(70,jY,4,7,"mat-header-cell",22),xc(71,BY,2,1,"mat-cell",31),Vc(),Bc(72,38),xc(73,VY,4,7,"mat-header-cell",25),xc(74,UY,2,1,"mat-cell",26),Vc(),Bl(75," // Study "),Bc(76,39),xc(77,HY,4,7,"mat-header-cell",25),xc(78,$Y,2,1,"mat-cell",26),Vc(),Bc(79,40),xc(80,qY,4,7,"mat-header-cell",22),xc(81,GY,2,1,"mat-cell",31),Vc(),Bc(82,41),xc(83,WY,4,7,"mat-header-cell",22),xc(84,YY,2,1,"mat-cell",31),Vc(),Bc(85,42),xc(86,ZY,4,7,"mat-header-cell",25),xc(87,XY,2,1,"mat-cell",26),Vc(),Bc(88,43),xc(89,KY,4,7,"mat-header-cell",25),xc(90,QY,2,1,"mat-cell",26),Vc(),Bc(91,44),xc(92,JY,4,7,"mat-header-cell",25),xc(93,nZ,3,2,"mat-cell",26),Vc(),Bc(94,45),xc(95,rZ,4,7,"mat-header-cell",25),xc(96,oZ,3,2,"mat-cell",26),Vc(),Bc(97,46),xc(98,sZ,4,7,"mat-header-cell",22),xc(99,cZ,2,1,"mat-cell",31),Vc(),Bc(100,47),xc(101,lZ,4,7,"mat-header-cell",25),xc(102,fZ,3,2,"mat-cell",26),Vc(),Bl(103," // Tissue "),Bc(104,48),xc(105,dZ,4,7,"mat-header-cell",22),xc(106,pZ,2,1,"mat-cell",31),Vc(),Bc(107,49),xc(108,vZ,4,7,"mat-header-cell",25),xc(109,mZ,2,1,"mat-cell",26),Vc(),Bc(110,50),xc(111,gZ,4,7,"mat-header-cell",25),xc(112,yZ,2,1,"mat-cell",26),Vc(),Bc(113,51),xc(114,bZ,4,7,"mat-header-cell",22),xc(115,_Z,2,1,"mat-cell",31),Vc(),Bc(116,52),xc(117,wZ,4,7,"mat-header-cell",22),xc(118,kZ,2,1,"mat-cell",31),Vc(),Bc(119,53),xc(120,SZ,4,7,"mat-header-cell",22),xc(121,xZ,2,1,"mat-cell",31),Vc(),Bc(122,54),xc(123,CZ,4,7,"mat-header-cell",25),xc(124,EZ,2,1,"mat-cell",26),Vc(),Bl(125," // SeqProtocol "),Bc(126,55),xc(127,RZ,4,7,"mat-header-cell",22),xc(128,AZ,2,1,"mat-cell",31),Vc(),Bc(129,56),xc(130,TZ,4,7,"mat-header-cell",25),xc(131,OZ,2,1,"mat-cell",26),Vc(),Bc(132,57),xc(133,DZ,4,7,"mat-header-cell",25),xc(134,MZ,2,1,"mat-cell",26),Vc(),Bc(135,58),xc(136,PZ,4,7,"mat-header-cell",25),xc(137,LZ,2,1,"mat-cell",26),Vc(),Bc(138,59),xc(139,FZ,4,7,"mat-header-cell",25),xc(140,NZ,2,1,"mat-cell",26),Vc(),Bc(141,60),xc(142,zZ,4,7,"mat-header-cell",25),xc(143,jZ,2,1,"mat-cell",26),Vc(),Bc(144,61),xc(145,BZ,4,7,"mat-header-cell",25),xc(146,VZ,2,1,"mat-cell",26),Vc(),Bc(147,62),xc(148,UZ,2,3,"mat-header-cell",25),xc(149,$Z,3,4,"mat-cell",26),Vc(),Bc(150,63),xc(151,qZ,4,8,"mat-header-cell",22),xc(152,XZ,2,1,"mat-cell",31),Vc(),Bc(153,64),xc(154,KZ,4,6,"mat-header-cell",22),xc(155,QZ,2,1,"mat-cell",31),Vc(),xc(156,JZ,1,0,"mat-header-row",65),xc(157,eX,1,0,"mat-row",66),zc(),zc(),zc(),Nc(158,"mat-menu",67,68),xc(160,aX,20,6,"ng-template",69),zc(),Nc(161,"mat-menu",67,70),xc(163,pX,40,9,"ng-template",69),zc(),Nc(164,"mat-menu",67,71),xc(166,vX,16,0,"ng-template",69),zc()),2&e){var n=Cc(165);wo(1),Lc("ngIf",fd(2,14,t.dataSource.loading$)),wo(2),Lc("ngIf",fd(4,16,t.dataSource.error$)),wo(15),Lc("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-sample-table"),wo(6),Lc("matMenuTriggerFor",n),wo(5),Lc("ngIf",t.selectedSequenceNames.length),wo(2),Lc("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Zf(18,kX)),wo(3),Lc("dataSource",t.dataSource),wo(122),Lc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",t.displayedColumns)}},directives:[zv,QB,aH,TU,$z,uB,mB,pB,fB,kB,xB,CU,yU,ZE,ER,sA,yB,_H,SG,_B,Fv,EB,AB],pipes:[Jv,em],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.addr{color:#007bff!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}"],encapsulation:2}),bX),xX=((yX=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||yX)},yX.\u0275cmp=ut({type:yX,selectors:[["app-sample-rep"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-sample-rep-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[MD,SX],styles:[""]}),yX),CX=((gX=function e(){v(this,e)}).\u0275fac=function(e){return new(e||gX)},gX.\u0275mod=vt({type:gX}),gX.\u0275inj=Me({imports:[[dP],dP]}),gX),EX=((mX=function e(){v(this,e)}).\u0275fac=function(e){return new(e||mX)},mX.\u0275mod=vt({type:mX}),mX.\u0275inj=Me({providers:[UP,{provide:_P,useValue:"fr-FR"}],imports:[[rm,MA,PA,OU,IB,OH,JU,WW,JB,CX,_L,zN,uz,XW,Bq,UP,MO,wG]]}),mX),RX=[{id:"name",name:"Name",hidden:!1},{id:"gene_name",name:"Gene Name",hidden:!0},{id:"pipeline_name",name:"Pipeline Alias",hidden:!0},{id:"seq",name:"Sequence",hidden:!1},{id:"seq_len",name:"Seq Length",hidden:!1},{id:"similar",name:"Similar",hidden:!1},{id:"appears",name:"Appearances",hidden:!1},{id:"is_single_allele",name:"Single Allele",hidden:!1},{id:"low_confidence",name:"Low Confidence",hidden:!1},{id:"novel",name:"Novel",hidden:!1},{id:"max_kdiff",name:"Max kDiff",hidden:!1},{id:"dataset",name:"Dataset",hidden:!1},{id:"notes_count",name:"Notes",hidden:!1}],AX=function(){function e(t){v(this,e),this.repseqService=t,this.repSequenceSubject=new Ny([]),this.choicesSubject=new Ny({}),this.loadingSubject=new Ny(!1),this.errorSubject=new Ny(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return g(e,[{key:"loadRepSequences",value:function(e,t,n,r,i,a,o){var s=this;t=t.split(",").map(function(e){return"Test"===e?"Human_IGH":e}).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.repseqService.getSequencesApi(e,t,i,a,n,r,o).pipe(hD(),ub(function(e){return s.errorSubject.next(e),[]}),Tb(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("samples")?s.repSequenceSubject.next(e.samples):s.repSequenceSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.repSequenceSubject.next([]))}},{key:"connect",value:function(e){return this.repSequenceSubject.asObservable()}},{key:"disconnect",value:function(e){this.repSequenceSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),TX=((wX=function(){function e(t){v(this,e),this.sanitizer=t}return g(e,[{key:"transform",value:function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: ".concat(t))}}}]),e}()).\u0275fac=function(e){return new(e||wX)(Mc($m))},wX.\u0275pipe=bt({name:"safe",type:wX,pure:!0}),wX),IX=((_X=function(){function e(t,n){v(this,e),this.activeModal=t,this.sanitizer=n}return g(e,[{key:"ngOnInit",value:function(){this.notes=this.notes.replace(/\n/g,"<br><br>")}}]),e}()).\u0275fac=function(e){return new(e||_X)(Mc(UI),Mc($m))},_X.\u0275cmp=ut({type:_X,selectors:[["app-rep-gene-notes"]],inputs:{notes:"notes",sequenceName:"sequenceName"},decls:13,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(Bc(0),Nc(1,"div",0),Nc(2,"h3",1),Bl(3),zc(),Nc(4,"button",2),Wc("click",function(){return t.activeModal.dismiss("Cross click")}),Nc(5,"span",3),Bl(6,"\xd7"),zc(),zc(),zc(),Nc(7,"div",4),jc(8,"div",5),hd(9,"safe"),zc(),Nc(10,"div",6),Nc(11,"button",7),Wc("click",function(){return t.activeModal.close("Close click")}),Bl(12,"Close"),zc(),zc(),Vc()),2&e&&(wo(3),Ul("Sequence Notes - ",t.sequenceName,""),wo(5),Lc("innerHTML",dd(9,2,t.notes,"html"),ia))},pipes:[TX],styles:[""],encapsulation:2}),_X),OX=["searchBox"];function DX(e,t){1&e&&(Nc(0,"div",47),Nc(1,"span",48),Bl(2,"Loading..."),zc(),zc())}function MX(e,t){if(1&e&&(Nc(0,"div",49),Nc(1,"div",0),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),hd(6,"async"),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(fd(6,1,n.dataSource.error$))}}function PX(e,t){if(1&e){var n=Hc();Nc(0,"div",3),Nc(1,"div",50),Nc(2,"input",51),Wc("ngModelChange",function(e){return an(n),Qc().isSelectedGenesChecked=e})("change",function(){return an(n),Qc().onSelectedIdsChange()}),zc(),Nc(3,"label",52),Bl(4," Only genes from selected samples "),zc(),zc(),zc()}if(2&e){var r=Qc();wo(2),Lc("ngModel",r.isSelectedGenesChecked)}}var LX=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function FX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",53),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"name")}),Bl(1," Name "),Nc(2,"app-filter",54,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(7,LX)),wo(2),Lc("columnName","name")("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function NX(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",56),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onSequenceClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.name)}}function zX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"gene_name")}),Bl(1," Gene Name "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","gene_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function jX(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.gene_name," ")}}function BX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"pipeline_name")}),Bl(1," Pipeline Alias "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","pipeline_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function VX(e,t){if(1&e&&(Nc(0,"mat-cell",60),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.pipeline_name)}}function UX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"seq")}),Bl(1," Sequence "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","seq")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function HX(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",61),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onSequenceClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.seq)}}function $X(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"seq_len")}),Bl(1," Seq Length "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","seq_len")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function qX(e,t){if(1&e&&(Nc(0,"mat-cell",60),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.seq_len)}}function GX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"similar")}),Bl(1," Identical "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","similar")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function WX(e,t){if(1&e&&(Nc(0,"mat-cell",60),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.similar)}}function YX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"appears")}),Bl(1," Appearances "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","appears")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function ZX(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",62),Wc("click",function(){an(n);var e=t.$implicit;return Qc().onAppearancesClick(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.appears)}}function XX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"is_single_allele")}),Bl(1," Unambiguous Allele "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","is_single_allele")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function KX(e,t){1&e&&jc(0,"i",64)}function QX(e,t){if(1&e&&(Nc(0,"mat-cell",60),xc(1,KX,1,0,"i",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.is_single_allele)}}function JX(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"low_confidence")}),Bl(1," Low Confidence "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","low_confidence")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function eK(e,t){1&e&&jc(0,"i",64)}function tK(e,t){if(1&e&&(Nc(0,"mat-cell",60),xc(1,eK,1,0,"i",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.low_confidence)}}function nK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"novel")}),Bl(1," Novel "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","novel")("filterMode",r.filterModeEnum.BOOL_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function rK(e,t){1&e&&jc(0,"i",64)}function iK(e,t){if(1&e&&(Nc(0,"mat-cell",60),xc(1,rK,1,0,"i",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.novel)}}function aK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"max_kdiff")}),Bl(1," Max kDiff "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","max_kdiff")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function oK(e,t){if(1&e&&(Nc(0,"mat-cell",60),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.max_kdiff)}}function sK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",57),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"dataset")}),Bl(1," Dataset "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","dataset")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function cK(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.dataset)}}function lK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",59),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"notes_count")}),Bl(1," Notes "),Nc(2,"app-filter",58,55),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,LX)),wo(2),Lc("columnName","notes_count")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function uK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",65),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showNotes(e)}),Nc(1,"button",66),Bl(2),zc(),zc()}if(2&e){var r=t.$implicit;wo(2),Ul(" ",r.notes_count," ")}}function hK(e,t){1&e&&jc(0,"mat-header-row",67)}function fK(e,t){1&e&&jc(0,"mat-row")}function dK(e,t){if(1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Nc(3,"a",74),jc(4,"i",73),zc(),Vc()),2&e){var n=Qc().seq;wo(3),nl("href",n.igsnper_plot_path,oa)}}function pK(e,t){1&e&&(Bc(0),Nc(1,"span"),Bl(2,"\xa0\xa0"),zc(),Bl(3,"Not available "),Vc())}function vK(e,t){if(1&e&&(Nc(0,"div",68),Nc(1,"div",69),Nc(2,"b"),Bl(3),zc(),zc(),Nc(4,"div",70),Bl(5," IgSNPer Analysis "),xc(6,dK,5,1,"ng-container",71),xc(7,pK,4,0,"ng-container",71),zc(),Nc(8,"div",70),Bl(9," IgSNPer explained "),Nc(10,"span"),Bl(11,"\xa0\xa0"),zc(),Nc(12,"a",72),jc(13,"i",73),zc(),zc(),zc()),2&e){var n=t.seq;wo(3),Ul("",n.gene_name," allelic variation"),wo(3),Lc("ngIf",n.igsnper_plot_path.length>0),wo(1),Lc("ngIf",0===n.igsnper_plot_path.length)}}function mK(e,t){if(1&e){var n=Hc();Nc(0,"div",68),Nc(1,"div",69),Nc(2,"b"),Bl(3,"Download data for selected genes"),zc(),zc(),Nc(4,"div",75),Bl(5," Ungapped sequences (fasta) "),Nc(6,"span"),Bl(7,"\xa0\xa0"),zc(),Nc(8,"button",76),Wc("click",function(){return an(n),Qc().sendReportRequest("download_rep_data","fasta",{type:"Ungapped sequences (fasta)"})}),jc(9,"i",77),zc(),zc(),Nc(10,"div",75),Bl(11," Gapped sequences (fasta) "),Nc(12,"span"),Bl(13,"\xa0\xa0"),zc(),Nc(14,"button",76),Wc("click",function(){return an(n),Qc().sendReportRequest("download_rep_data","fasta",{type:"Gapped sequences (fasta)"})}),jc(15,"i",77),zc(),zc(),Nc(16,"div",75),Bl(17," Gene information (csv) "),Nc(18,"span"),Bl(19,"\xa0\xa0"),zc(),Nc(20,"button",76),Wc("click",function(){return an(n),Qc().sendReportRequest("download_rep_data","csv",{type:"Gene information (csv)"})}),jc(21,"i",77),zc(),zc(),zc()}}var gK,yK=function(){return[25,50,100,250]},bK=((gK=function(){function n(e,t,r,i,a,o,s,c,l){var u=this;v(this,n),this.repseqService=e,this.geneTableService=t,this.modalService=r,this.repGeneSelectedService=i,this.repSampleSelectedService=a,this.tableParamsStorageService=o,this.router=s,this.reportRunService=c,this.route=l,this.displayedColumns=["name","pipeline_name","seq","seq_len","similar","appears","is_single_allele","low_confidence","novel","max_kdiff"],this.allColumns=RX,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.filterModeEnum=DB,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSampleIds=[],this.isSelectedGenesChecked=!1,this.repSampleSelectedServiceSubscription=null,this.resizeEvents=new Map,this.samplesSelected=!1,this.clearSubject=new Ny(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new Ny(null),this.setFilter$=this.setFilterSubject.asObservable(),this.redirectOnLoad=null,this.onlySelectedSamplesSet=!1,this.params=null,this.paramState="pre selection",this.route.params.subscribe(function(e){return u.params=e})}return g(n,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"rep-gene-table-widths"),this.dataSource=new AX(this.repseqService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe(),this.repSampleSelectedServiceSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.paramState="pre selection",e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){t.species&&t.repSeqs&&(e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage())}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.filters.length>0&&!e.isSelectedGenesChecked?e.repGeneSelectedService.selection.next({names:t.name,onlySelected:e.onlySelectedSamplesSet}):(e.onlySelectedSamplesSet=!1,e.repGeneSelectedService.selection.next({names:[],onlySelected:e.onlySelectedSamplesSet}))}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){if(!t&&(e.applyResizes(),e.redirectOnLoad)){var n=e.redirectOnLoad;e.redirectOnLoad=null,e.router.navigate(n)}}),e.repSampleSelectedServiceSubscription=e.repSampleSelectedService.source.subscribe(function(t){var n,r;n=t.ids,r=e.selectedSampleIds,_K(Object.keys(n),Object.keys(r))&&Object.keys(n).every(function(e){return _K(n[e],r[e])})||(e.selectedSampleIds=t.ids,e.samplesSelected=Object.keys(e.selectedSampleIds).length>0,e.isSelectedGenesChecked&&(e.samplesSelected||(e.isSelectedGenesChecked=!1),e.onSelectedIdsChange()))}),e.router.events.subscribe(function(t){t instanceof Pb&&e.applyResizes()}),setTimeout(function(){void 0!==e.params.species&&"pre selection"==e.paramState&&(e.paramState="post selection",e.geneTableService.selection.next({species:e.params.species,datasets:e.selection.datasets,assemblies:e.selection.assemblies,repSeqs:[e.params.dataset],repDatasetDescriptions:e.selection.repDatasetDescriptions}),setTimeout(function(){e.searchBox.nativeElement.value=e.params.alleleName,e.quickSearch(e.params.alleleName)},2e3))},2e3)}),LA(this.searchBox.nativeElement,"keyup").pipe(q(function(e){return e.target.value}),VD(750),nT()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedIdsChange",value:function(){this.applyFilter(this.isSelectedGenesChecked&&this.samplesSelected?{field:"sample_id",predicates:[{field:"sample_id",op:"in",value:this.selectedSampleIds}],sort:{order:""}}:{field:"sample_id",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var n=this.filters.length-1;n>=0;n--)this.filters[n].field===e.field&&this.filters.splice(n,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var r,i=t(e.predicates);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.op&&this.filters.push(a)}}catch(s){i.e(s)}finally{i.f()}for(var o=this.sorts.length-1;o>=0;o--)this.sorts[o].field===e.field&&this.sorts.splice(o,1);e.sort.order&&this.sorts.push(e.sort),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var n=function(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.delete(o)}}catch(s){a.e(s)}finally{a.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!n.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!n.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadRepSequences(this.selection.species,this.selection.repSeqs.join(),JSON.stringify(this.filters),JSON.stringify(this.sorts),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showNotes",value:function(e){var t=this.modalService.open(IX,{size:"lg"});t.componentInstance.sequenceName=e.name,t.componentInstance.notes=e.notes}},{key:"onSequenceClick",value:function(e){var t=this.modalService.open(zD,{size:"lg"});t.componentInstance.name=e.name,t.componentInstance.content=e.seq.indexOf(".")<0?{ungapped:e.seq,gapped:""}:{ungapped:e.seq.replace(/\./g,""),gapped:e.seq}}},{key:"onAppearancesClick",value:function(e){this.onlySelectedSamplesSet=!0,this.redirectOnLoad=["./samplerep","true"],this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"",postfix:""},op1:e.name,op2:""})}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-gene-table-widths")}}},{key:"applyResizes",value:function(){var n,r=t(this.resizeEvents);try{for(r.s();!(n=r.n()).done;){var i=e(n.value,2),a=i[0],o=i[1];this.updateColumnWidth(a,o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),r=0;r<n.length;r++)n[r].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var r=this.selection.repSeqs;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,[],[],r,[],n)}}]),n}()).\u0275fac=function(e){return new(e||gK)(Mc(eD),Mc(gD),Mc(WI),Mc(lY),Mc(uY),Mc(MB),Mc(ok),Mc(bD),Mc(F_))},gK.\u0275cmp=ut({type:gK,selectors:[["app-rep-gene-table-panel"]],viewQuery:function(e,t){var n;1&e&&(Md($z,1),Md(uB,1),Md(OX,3)),2&e&&(Dd(n=Ld())&&(t.paginator=n.first),Dd(n=Ld())&&(t.table=n.first),Dd(n=Ld())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[Hh([MB])],decls:82,vars:19,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","",3,"columns","columnInfo","saveName","columnsChange"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["class","large-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","large-col",3,"click",4,"matCellDef"],["matColumnDef","gene_name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","pipeline_name"],["class","small-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",4,"matCellDef"],["matColumnDef","seq"],["class","small-col mat-ellipsis",3,"click",4,"matCellDef"],["matColumnDef","seq_len"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["matColumnDef","similar"],["matColumnDef","appears"],["class","small-col","style","cursor: pointer;",3,"click",4,"matCellDef"],["matColumnDef","is_single_allele"],["matColumnDef","low_confidence"],["matColumnDef","novel"],["matColumnDef","max_kdiff"],["matColumnDef","dataset"],["matColumnDef","notes_count"],["class","small-col",3,"click",4,"matCellDef"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["geneMenu","matMenu"],["matMenuContent",""],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],["mwlResizable","",1,"large-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[1,"large-col",3,"click"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col"],[1,"small-col","mat-ellipsis",3,"click"],[1,"small-col",2,"cursor","pointer",3,"click"],["class","fa fa-check","style","line-height: inherit;",4,"ngIf"],[1,"fa","fa-check",2,"line-height","inherit"],[1,"small-col",3,"click"],[1,"btn","btn-sm","btn-solid-icon"],[1,"mat-elevation-z1"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[4,"ngIf"],["href","https://github.com/Immunotools/IgSNPer","target","_blank"],[1,"fa","fa-desktop",2,"line-height","inherit"],["target","_blank",3,"href"],[1,"row","ml-4","mr-2","mb-0","align-middle"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-text-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Nc(0,"div",0),xc(1,DX,3,0,"div",1),hd(2,"async"),xc(3,MX,7,3,"div",2),hd(4,"async"),zc(),Nc(5,"div",0),Nc(6,"div",3),Nc(7,"span",4),Bl(8,"Quick search:\xa0"),zc(),jc(9,"input",5,6),zc(),Nc(11,"div",7),Nc(12,"button",8),Wc("click",function(){return t.clearSelection()}),Nc(13,"mat-icon",9),Bl(14,"delete_sweep"),zc(),Nc(15,"span",4),Bl(16,"Clear filters"),zc(),zc(),zc(),Nc(17,"div",7),Nc(18,"button",10),Wc("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Nc(19,"mat-icon",9),Bl(20,"view_column"),zc(),Nc(21,"span",4),Bl(22,"Arrange Columns"),zc(),zc(),zc(),Nc(23,"div",7),Nc(24,"button",11),Nc(25,"mat-icon",9),Bl(26,"cloud_download"),zc(),zc(),Nc(27,"label",12),Bl(28,"Download"),zc(),zc(),xc(29,PX,5,1,"div",13),Nc(30,"div",14),jc(31,"mat-paginator",15),zc(),zc(),Nc(32,"div",0),Nc(33,"div",16),Nc(34,"mat-table",17),Bc(35,18),xc(36,FX,4,8,"mat-header-cell",19),xc(37,NX,2,1,"mat-cell",20),Vc(),Bc(38,21),xc(39,zX,4,7,"mat-header-cell",22),xc(40,jX,2,1,"mat-cell",23),Vc(),Bc(41,24),xc(42,BX,4,7,"mat-header-cell",25),xc(43,VX,2,1,"mat-cell",26),Vc(),Bc(44,27),xc(45,UX,4,7,"mat-header-cell",25),xc(46,HX,2,1,"mat-cell",28),Vc(),Bc(47,29),xc(48,$X,4,7,"mat-header-cell",30),xc(49,qX,2,1,"mat-cell",26),Vc(),Bc(50,31),xc(51,GX,4,7,"mat-header-cell",25),xc(52,WX,2,1,"mat-cell",26),Vc(),Bc(53,32),xc(54,YX,4,7,"mat-header-cell",30),xc(55,ZX,2,1,"mat-cell",33),Vc(),Bc(56,34),xc(57,XX,4,7,"mat-header-cell",30),xc(58,QX,2,1,"mat-cell",26),Vc(),Bc(59,35),xc(60,JX,4,7,"mat-header-cell",30),xc(61,tK,2,1,"mat-cell",26),Vc(),Bc(62,36),xc(63,nK,4,7,"mat-header-cell",30),xc(64,iK,2,1,"mat-cell",26),Vc(),Bc(65,37),xc(66,aK,4,7,"mat-header-cell",30),xc(67,oK,2,1,"mat-cell",26),Vc(),Bc(68,38),xc(69,sK,4,7,"mat-header-cell",22),xc(70,cK,2,1,"mat-cell",23),Vc(),Bc(71,39),xc(72,lK,4,7,"mat-header-cell",25),xc(73,uK,3,1,"mat-cell",40),Vc(),xc(74,hK,1,0,"mat-header-row",41),xc(75,fK,1,0,"mat-row",42),zc(),zc(),zc(),Nc(76,"mat-menu",43,44),xc(78,vK,14,3,"ng-template",45),zc(),Nc(79,"mat-menu",43,46),xc(81,mK,22,0,"ng-template",45),zc()),2&e){var n=Cc(80);wo(1),Lc("ngIf",fd(2,14,t.dataSource.loading$)),wo(2),Lc("ngIf",fd(4,16,t.dataSource.error$)),wo(15),Lc("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-gene-table"),wo(6),Lc("matMenuTriggerFor",n),wo(5),Lc("ngIf",t.samplesSelected),wo(2),Lc("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Zf(18,yK)),wo(3),Lc("dataSource",t.dataSource),wo(40),Lc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",t.displayedColumns)}},directives:[zv,QB,aH,TU,$z,uB,mB,pB,fB,kB,xB,CU,yU,ZE,ER,sA,yB,_H,SG,_B,EB,AB],pipes:[Jv],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}"],encapsulation:2}),gK);function _K(e,t){return e.length===t.length&&e.every(function(e){return t.includes(e)})}var wK,kK=((wK=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||wK)},wK.\u0275cmp=ut({type:wK,selectors:[["app-rep-gene-table"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-rep-gene-table-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[MD,bK],styles:[""]}),wK),SK=function(){function e(t){v(this,e),this.genomicService=t,this.genSampleSubject=new Ny([]),this.choicesSubject=new Ny({}),this.loadingSubject=new Ny(!1),this.errorSubject=new Ny(null),this.choices$=this.choicesSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.error$=this.errorSubject.asObservable(),this.totalItems=0}return g(e,[{key:"loadGenSamples",value:function(e,t,n,r,i,a,o){var s=this;t=t.split(",").map(function(t){return"Test"===t?"Human"===e?"Human_IGH":"GU129139":t}).join(),this.loadingSubject.next(!0),this.errorSubject.next(null),e&&t?this.genomicService.getSamplesApi(e,t,n,r,i,a,o).pipe(hD(),ub(function(e){return s.errorSubject.next(e),[]}),Tb(function(){s.loadingSubject.next(!1)})).subscribe(function(e){s.totalItems=e.total_items,s.choicesSubject.next(e.uniques),void 0!==e&&e.hasOwnProperty("samples")?s.genSampleSubject.next(e.samples):s.genSampleSubject.next([])}):(this.loadingSubject.next(!1),this.totalItems=0,this.genSampleSubject.next([]))}},{key:"connect",value:function(e){return this.genSampleSubject.asObservable()}},{key:"disconnect",value:function(e){this.genSampleSubject.complete(),this.loadingSubject.complete(),this.errorSubject.complete(),this.choicesSubject.complete()}}]),e}(),xK=[{id:"name",name:"Name",hidden:!1},{id:"type",name:"Type",hidden:!1},{id:"date",name:"Date",hidden:!1},{id:"study_name",name:"Study Name",hidden:!1},{id:"institute",name:"Institute",hidden:!0},{id:"researcher",name:"Researcher",hidden:!1},{id:"reference",name:"Reference",hidden:!1},{id:"contact",name:"Contact",hidden:!0},{id:"assembly_id",name:"Accession ID",hidden:!1},{id:"assembly_reference",name:"Accession Ref",hidden:!1},{id:"chromosome",name:"Chromosome",hidden:!1},{id:"report",name:"Report",hidden:!1},{id:"annot_method",name:"Annotation Method",hidden:!0},{id:"annot_ref",name:"Annotation Ref",hidden:!0},{id:"assembly_start",name:"Chr Start",hidden:!0},{id:"assembly_end",name:"Chr End",hidden:!0}];function CK(e,t){1&e&&(Nc(0,"div",3),Nc(1,"span",4),Bl(2,"Loading..."),zc(),zc())}function EK(e,t){if(1&e&&(Nc(0,"div",5),Nc(1,"div",6),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(n.error)}}function RK(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"div",7),Nc(2,"h3",8),Bl(3),zc(),Nc(4,"button",9),Wc("click",function(){return an(n),Qc().activeModal.dismiss("Cross click")}),Nc(5,"span",10),Bl(6,"\xd7"),zc(),zc(),zc(),Nc(7,"div",11),Nc(8,"div",12),Nc(9,"div",6),Nc(10,"div",13),Nc(11,"h4"),Bl(12,"Study"),zc(),Nc(13,"ul"),Bl(14),zc(),Nc(15,"ul"),Bl(16),zc(),Nc(17,"ul"),Bl(18),zc(),Nc(19,"ul"),Bl(20,"Publication: "),Nc(21,"a",14),jc(22,"i",15),zc(),zc(),Nc(23,"ul"),Bl(24),zc(),zc(),zc(),Nc(25,"div",6),Nc(26,"div",13),Nc(27,"h4"),Bl(28,"Sample"),zc(),Nc(29,"ul"),Bl(30),zc(),Nc(31,"ul"),Bl(32),zc(),Nc(33,"ul"),Bl(34),zc(),Nc(35,"ul"),Bl(36,"Assembly Ref: "),Nc(37,"a",14),jc(38,"i",15),zc(),zc(),Nc(39,"ul"),Bl(40),zc(),Nc(41,"ul"),Bl(42),zc(),Nc(43,"ul"),Bl(44),zc(),zc(),zc(),zc(),zc(),Nc(45,"div",16),Nc(46,"button",17),Wc("click",function(){return an(n),Qc().activeModal.close("Close click")}),Bl(47,"Close"),zc(),zc(),Vc()}if(2&e){var r=Qc();wo(3),Ul("Sample Details - ",r.sampleName,""),wo(11),Ul("Institute: ",r.sampleInfo.institute,""),wo(2),Ul("Researcher: ",r.sampleInfo.researcher,""),wo(2),Ul("Study Description: ",r.sampleInfo.study_description,""),wo(3),nl("href",r.sampleInfo.reference,oa),wo(3),Ul("Contact Info: ",r.sampleInfo.contact,""),wo(6),Ul("Sample Name: ",r.sampleInfo.name,""),wo(2),Ul("Sample Description: ",r.sampleInfo.sample_description,""),wo(2),Ul("Assembly ID: ",r.sampleInfo.assembly_id,""),wo(3),nl("href",r.sampleInfo.assembly_reference,oa),wo(3),Ul("Chromosome: ",r.sampleInfo.chromosome,""),wo(2),Ul("Chr start: ",r.sampleInfo.assembly_start,""),wo(2),Ul("Chr end: ",r.sampleInfo.assembly_end,"")}}var AK,TK,IK=((TK=function(){function e(t,n,r){v(this,e),this.activeModal=t,this.modalService=n,this.genSampleService=r,this.loading=!1,this.error=null,this.sampleInfo=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.error=null,this.genSampleService.getSampleInfoApi(this.species,this.studyName,this.sampleName).pipe(hD(),ub(function(t){return e.error.next(t),[]}),Tb(function(){e.loading=!1})).subscribe(function(t){e.sampleInfo=t})}}]),e}()).\u0275fac=function(e){return new(e||TK)(Mc(UI),Mc(WI),Mc(QO))},TK.\u0275cmp=ut({type:TK,selectors:[["app-gen-sample-info"]],inputs:{sampleName:"sampleName",species:"species",studyName:"studyName"},decls:3,vars:3,consts:[["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"col-sm"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(xc(0,CK,3,0,"div",0),xc(1,EK,6,1,"div",1),xc(2,RK,48,13,"ng-container",2)),2&e&&(Lc("ngIf",t.loading),wo(1),Lc("ngIf",t.error),wo(1),Lc("ngIf",!t.loading&&!t.error))},directives:[zv],styles:[""]}),TK),OK=((AK=function e(){v(this,e),this.selection=new Ny({filters:[]}),this.source=this.selection.asObservable()}).\u0275prov=De({token:AK,factory:AK.\u0275fac=function(e){return new(e||AK)},providedIn:"root"}),AK),DK=["searchBox"];function MK(e,t){1&e&&(Nc(0,"div",50),Nc(1,"span",51),Bl(2,"Loading..."),zc(),zc())}function PK(e,t){if(1&e&&(Nc(0,"div",52),Nc(1,"div",0),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),hd(6,"async"),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(fd(6,1,n.dataSource.error$))}}function LK(e,t){if(1&e){var n=Hc();Nc(0,"div",3),Nc(1,"div",53),Nc(2,"input",54),Wc("ngModelChange",function(e){return an(n),Qc().isSelectedSamplesChecked=e})("change",function(){return an(n),Qc().onSelectedSamplesChange()}),zc(),Nc(3,"label",55),Bl(4," Only records with selected genes "),zc(),zc(),zc()}if(2&e){var r=Qc();wo(2),Lc("ngModel",r.isSelectedSamplesChecked)}}var FK=function(){return{bottom:!1,right:!0,top:!1,left:!0}};function NK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"name")}),Bl(1," Record Name "),Nc(2,"app-filter",57,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(7,FK)),wo(2),Lc("columnName","name")("filterMode",r.filterModeEnum.TEXT_MODE)("setFilter$",r.setFilter$)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function zK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Nc(1,"b"),Bl(2),zc(),zc()}if(2&e){var r=t.$implicit;wo(2),Vl(r.name)}}function jK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"type")}),Bl(1," Type "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","type")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function BK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.type)}}function VK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",60),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"date")}),Bl(1," Date "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","date")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function UK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",61),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.date)}}function HK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"study_name")}),Bl(1," Study Name "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","study_name")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function $K(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.study_name)}}function qK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"institute")}),Bl(1," Institute "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","institute")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function GK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.institute)}}function WK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"researcher")}),Bl(1," Researcher "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","researcher")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function YK(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.researcher)}}function ZK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",60),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"reference")}),Bl(1," Reference "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","reference")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function XK(e,t){if(1&e&&(Bc(0),Nc(1,"a",64),jc(2,"i",65),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.reference,oa)}}function KK(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.reference," ")}}function QK(e,t){if(1&e&&(Nc(0,"mat-cell",62),xc(1,XK,3,1,"ng-container",63),xc(2,KK,2,1,"ng-container",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.reference.startsWith("http")),wo(1),Lc("ngIf",!n.reference.startsWith("http"))}}function JK(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"contact")}),Bl(1," Contact "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","contact")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function eQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-cell",47),Wc("click",function(){an(n);var e=t.$implicit;return Qc().showInfo(e)}),Bl(1),zc()}if(2&e){var r=t.$implicit;wo(1),Vl(r.contact)}}function tQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"assembly_id")}),Bl(1," Assembly ID "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","assembly_id")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function nQ(e,t){if(1&e&&(Bc(0),Nc(1,"a",64),jc(2,"i",65),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.assembly_id,oa)}}function rQ(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.assembly_id," ")}}function iQ(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,nQ,3,1,"ng-container",63),xc(2,rQ,2,1,"ng-container",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.assembly_id.startsWith("http")),wo(1),Lc("ngIf",!n.assembly_id.startsWith("http"))}}function aQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",60),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"assembly_reference")}),Bl(1," Assembly Ref "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","assembly_reference")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function oQ(e,t){if(1&e&&(Bc(0),Nc(1,"a",64),jc(2,"i",65),zc(),Vc()),2&e){var n=Qc().$implicit;wo(1),nl("href",n.assembly_reference,oa)}}function sQ(e,t){if(1&e&&(Bc(0),Bl(1),Vc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.assembly_reference," ")}}function cQ(e,t){if(1&e&&(Nc(0,"mat-cell",62),xc(1,oQ,3,1,"ng-container",63),xc(2,sQ,2,1,"ng-container",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.assembly_reference.startsWith("http")),wo(1),Lc("ngIf",!n.assembly_reference.startsWith("http"))}}function lQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",60),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"chromosome")}),Bl(1," Chromosome "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","chromosome")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function uQ(e,t){if(1&e&&(Nc(0,"mat-cell",62),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.chromosome," ")}}function hQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"assembly_start")}),Bl(1," Chr Start "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","assembly_start")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function fQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.assembly_start," ")}}function dQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"assembly_end")}),Bl(1," Chr End "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","assembly_end")("filterMode",r.filterModeEnum.NUMBER_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function pQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.assembly_end," ")}}function vQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"annot_method")}),Bl(1," Annotation Method "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","annot_method")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function mQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.annot_method," ")}}function gQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",56),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"annot_ref")}),Bl(1," Annotation Ref "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","annot_ref")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}function yQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.annot_ref," ")}}function bQ(e,t){if(1&e){var n=Hc();Nc(0,"mat-header-cell",60),Wc("resizeEnd",function(e){return an(n),Qc().onResizeEnd(e,"report")}),Bl(1," Report "),Nc(2,"app-filter",59,58),Wc("predicateEmitter",function(e){return an(n),Qc().applyFilter(e)}),zc(),zc()}if(2&e){var r=Qc();Lc("enableGhostResize",!0)("resizeEdges",Zf(6,FK)),wo(2),Lc("columnName","report")("filterMode",r.filterModeEnum.TEXT_MODE)("clear$",r.clear$)("choices$",r.dataSource.choices$)}}var _Q=function(e){return{sample:e}};function wQ(e,t){if(1&e&&(Bc(0),Nc(1,"button",66),jc(2,"i",67),zc(),Vc()),2&e){var n=Qc().$implicit;Qc();var r=Cc(87);wo(1),Lc("matMenuTriggerFor",r)("matMenuTriggerData",Xf(2,_Q,n))}}function kQ(e,t){1&e&&(Bc(0),Bl(1," NA "),Vc())}function SQ(e,t){if(1&e&&(Nc(0,"mat-cell",62),xc(1,wQ,3,4,"ng-container",63),xc(2,kQ,2,0,"ng-container",63),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.report.length>0),wo(1),Lc("ngIf",0===n.report.length)}}function xQ(e,t){1&e&&jc(0,"mat-header-row")}function CQ(e,t){1&e&&jc(0,"mat-row")}function EQ(e,t){if(1&e&&(Bc(0),Nc(1,"div",70),Bl(2," IGenotyper Report "),zc(),Nc(3,"div",71),Bl(4," Genotype Analysis"),Nc(5,"span"),Bl(6,"\xa0\xa0"),zc(),Nc(7,"a",72),jc(8,"i",73),zc(),zc(),Nc(9,"div",74),Bl(10," Haplotype"),Nc(11,"span"),Bl(12,"\xa0\xa0"),zc(),Nc(13,"a",72),jc(14,"i",73),zc(),Nc(15,"span"),Bl(16,"\xa0\xa0"),zc(),Nc(17,"a",75),jc(18,"i",76),zc(),zc(),Vc()),2&e){var n=Qc().sample;wo(7),nl("href",n.report,oa),wo(6),nl("href",n.hap_report,oa),wo(4),nl("href",n.hap_report.encodeURI,oa),nl("download",n.name+"_haplotype.tab")}}function RQ(e,t){if(1&e&&(Bc(0),Nc(1,"div",77),Bl(2," VDJbase Annotation Report "),zc(),Nc(3,"div",71),Bl(4," Features"),Nc(5,"span"),Bl(6,"\xa0\xa0"),zc(),Nc(7,"a",72),jc(8,"i",76),zc(),zc(),Nc(9,"div",74),Bl(10," Documentation"),Nc(11,"span"),Bl(12,"\xa0\xa0"),zc(),Nc(13,"a",72),jc(14,"i",73),zc(),zc(),Vc()),2&e){var n=Qc().sample;wo(7),nl("href",n.report,oa),wo(6),nl("href",n.annot_ref,oa)}}function AQ(e,t){if(1&e&&(Nc(0,"div",68),Nc(1,"div",69),Nc(2,"b"),Bl(3),zc(),zc(),xc(4,EQ,19,4,"ng-container",63),xc(5,RQ,15,2,"ng-container",63),zc()),2&e){var n=t.sample;wo(3),Vl(n.name),wo(1),Lc("ngIf","IGenotyper"==n.annot_method),wo(1),Lc("ngIf","VDJbase"==n.annot_method)}}function TQ(e,t){if(1&e){var n=Hc();Nc(0,"div",68),Nc(1,"div",69),Nc(2,"b"),Bl(3,"Download data for selected samples"),zc(),zc(),Nc(4,"div",71),Bl(5," Sample info (csv) "),Nc(6,"span"),Bl(7,"\xa0\xa0"),zc(),Nc(8,"button",78),Wc("click",function(){return an(n),Qc().sendReportRequest("download_gen_data","csv",{type:"Sample info (CSV)"})}),jc(9,"i",79),zc(),zc(),Nc(10,"div",71),Bl(11," Sample data (zip) "),Nc(12,"span"),Bl(13,"\xa0\xa0"),zc(),Nc(14,"button",78),Wc("click",function(){return an(n),Qc().sendReportRequest("download_gen_data","zip",{type:"Sample files (ZIP)"})}),jc(15,"i",80),zc(),zc(),zc()}}var IQ,OQ,DQ=function(){return[25,50,100,250]},MQ=((OQ=function(){function n(e,t,r,i,a,o,s,c,l,u){v(this,n),this.genSampleService=e,this.geneTableService=t,this.modalService=r,this.genGeneSelectedService=i,this.genSampleSelectedService=a,this.genSampleFilterService=o,this.tableParamsStorageService=s,this.route=c,this.reportRunService=l,this.router=u,this.displayedColumns=["name","type","date","study_name","institute","researcher","reference","contact","assembly_id","assembly_reference"],this.allColumns=xK,this.lastLoadedColumns=[],this.paginatorSubscription=null,this.geneTableServiceSubscription=null,this.genGeneSelectedServiceSubscription=null,this.filterModeEnum=DB,this.filters=[],this.sorts=[],this.choices$Subscription=null,this.loading$Subscription=null,this.selectedSequenceNames=[],this.isSelectedSamplesChecked=!1,this.resizeEvents=new Map,this.clearSubject=new Ny(null),this.clear$=this.clearSubject.asObservable(),this.setFilterSubject=new Ny(null),this.setFilter$=this.setFilterSubject.asObservable()}return g(n,[{key:"ngOnInit",value:function(){this.resizeEvents=this.tableParamsStorageService.loadSavedInfo(this.resizeEvents,"gen-sample-table-widths"),this.dataSource=new SK(this.genSampleService)}},{key:"ngOnDestroy",value:function(){this.paginatorSubscription.unsubscribe(),this.geneTableServiceSubscription.unsubscribe(),this.choices$Subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.paginatorSubscription=this.paginator.page.subscribe(function(){return e.loadSequencesPage()}),setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.selection=t,e.paginator.firstPage(),e.table.renderRows(),e.loadSequencesPage()}),e.choices$Subscription=e.dataSource.choices$.subscribe(function(t){e.genSampleSelectedService.selection.next(e.filters.length>0&&!e.isSelectedSamplesChecked?{ids:t.names_by_dataset}:{ids:[]})}),e.loading$Subscription=e.dataSource.loading$.subscribe(function(t){t||e.applyResizes()}),e.genGeneSelectedServiceSubscription=e.genGeneSelectedService.source.subscribe(function(t){e.selectedSequenceNames=t.names,e.isSelectedSamplesChecked&&0===e.selectedSequenceNames.length?e.isSelectedSamplesChecked=!1:t.onlySelected&&(e.isSelectedSamplesChecked=!0),e.onSelectedSamplesChange()}),e.router.events.subscribe(function(t){t instanceof Pb&&e.applyResizes()})}),LA(this.searchBox.nativeElement,"keyup").pipe(q(function(e){return e.target.value}),VD(1e3),nT()).subscribe(function(t){e.quickSearch(t)})}},{key:"onSelectedSamplesChange",value:function(){this.applyFilter(this.isSelectedSamplesChecked&&this.selectedSequenceNames.length?{field:"allele",predicates:[{field:"allele",op:"in",value:this.selectedSequenceNames}],sort:{order:""}}:{field:"allele",predicates:[],sort:{order:""}})}},{key:"quickSearch",value:function(e){this.setFilterSubject.next({operator:{name:"Includes",operands:2,operator:"like",prefix:"%",postfix:"%"},op1:e,op2:""}),this.loadSequencesPage()}},{key:"clearSelection",value:function(){this.filters=[],this.clearSubject.next(null),this.searchBox.nativeElement.value="",this.genSampleFilterService.selection.next({filters:this.filters}),this.loadSequencesPage()}},{key:"applyFilter",value:function(e){for(var n=this.filters.length-1;n>=0;n--)this.filters[n].field===e.field&&this.filters.splice(n,1),"name"===e.field&&1===e.predicates.length&&"like"===e.predicates[0].op&&e.predicates[0].value==="%"+this.searchBox.nativeElement.value+"%"||(this.searchBox.nativeElement.value="");var r,i=t(e.predicates);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.op&&this.filters.push(a)}}catch(s){i.e(s)}finally{i.f()}for(var o=this.sorts.length-1;o>=0;o--)this.sorts[o].field===e.field&&this.sorts.splice(o,1);e.sort.order&&this.sorts.push(e.sort),this.genSampleFilterService.selection.next({filters:this.filters}),this.paginator.pageIndex=0,this.loadSequencesPage()}},{key:"updateColumnData",value:function(e){var n=function(e,n){var r,i=new Set(e),a=t(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.delete(o)}}catch(s){a.e(s)}finally{a.f()}return i}(new Set(this.lastLoadedColumns),new Set(this.displayedColumns));this.filters=this.filters.filter(function(e){return!n.has(e.field)}),this.sorts=this.sorts.filter(function(e){return!n.has(e.field)}),this.loadSequencesPage()}},{key:"loadSequencesPage",value:function(){this.selection&&this.dataSource.loadGenSamples(this.selection.species,this.selection.datasets.join(),this.paginator.pageIndex,this.paginator.pageSize,JSON.stringify(this.filters),JSON.stringify(this.sorts),JSON.stringify(this.displayedColumns)),this.lastLoadedColumns=this.displayedColumns}},{key:"showInfo",value:function(e){var t=this.modalService.open(IK,{size:"xl"});t.componentInstance.sampleName=e.name,t.componentInstance.species=this.selection.species,t.componentInstance.studyName=e.study_name}},{key:"onResizeEnd",value:function(e,t){if(e.edges.right){var n=e.rectangle.width+"px";this.updateColumnWidth(t,n),this.resizeEvents.set(t,n),this.tableParamsStorageService.saveInfo(this.resizeEvents,"rep-sample-table-widths")}}},{key:"applyResizes",value:function(){var n,r=t(this.resizeEvents);try{for(r.s();!(n=r.n()).done;){var i=e(n.value,2),a=i[0],o=i[1];this.updateColumnWidth(a,o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateColumnWidth",value:function(e,t){for(var n=document.getElementsByClassName("mat-column-"+e),r=0;r<n.length;r++)n[r].style.width=t}},{key:"sendReportRequest",value:function(e,t,n){var r=this.selection.datasets;n.filters=this.filters,this.reportRunService.runReport({name:e,title:"Download",filter_params:[]},t,this.selection.species,r,this.filters,[],[],n)}}]),n}()).\u0275fac=function(e){return new(e||OQ)(Mc(QO),Mc(gD),Mc(WI),Mc(PB),Mc(LB),Mc(OK),Mc(MB),Mc(F_),Mc(bD),Mc(ok))},OQ.\u0275cmp=ut({type:OQ,selectors:[["app-gen-sample-panel"]],viewQuery:function(e,t){var n;1&e&&(Md($z,1),Md(uB,1),Md(DK,3)),2&e&&(Dd(n=Ld())&&(t.paginator=n.first),Dd(n=Ld())&&(t.table=n.first),Dd(n=Ld())&&(t.searchBox=n.first))},inputs:{selection:"selection"},features:[Hh([MB])],decls:93,vars:19,consts:[[1,"row"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex"],[1,"header-text"],[1,"searchBox"],["searchBox",""],[1,"col-auto",2,"align-items","center","justify-content","flex-start","display","flex","padding-left","0px !important"],[2,"border-width","0px","background-color","transparent",3,"click"],[1,"primary-icon"],["digby-table-column-sorter","","id","colbutton",3,"columns","columnInfo","saveName","columnsChange"],[1,"primary-icon",2,"padding-left","0px !important"],["for","colbutton",1,"form-check-label"],["id","downloadbutton",2,"border-width","0px","background-color","transparent",3,"matMenuTriggerFor"],["for","downloadbutton",1,"form-check-label"],["class","col-auto","style","align-items: center; justify-content: flex-start; display: flex;",4,"ngIf"],[1,"col-auto","ml-auto"],[3,"length","pageSize","pageSizeOptions"],[1,"col"],[3,"dataSource"],["matColumnDef","name"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","date"],["mwlResizable","","class","small-col",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["class","small-col",3,"click",4,"matCellDef"],["matColumnDef","study_name"],["matColumnDef","institute"],["matColumnDef","researcher"],["matColumnDef","reference"],["class","small-col",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","assembly_id"],[4,"matCellDef"],["matColumnDef","assembly_reference"],["class","small-col","mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd",4,"matHeaderCellDef"],["matColumnDef","chromosome"],["matColumnDef","assembly_start"],["matColumnDef","assembly_end"],["matColumnDef","annot_method"],["matColumnDef","annot_ref"],["matColumnDef","report"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["xPosition","before",1,"menu-overflow-hidden"],["genoMenu","matMenu"],[3,"click"],["matMenuContent",""],["downloadMenu","matMenu"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"form-check"],["type","checkbox","id","chk-selected-items",1,"form-check-input",2,"margin-top",".1rem",3,"ngModel","ngModelChange","change"],["for","chk-selected-items",1,"form-check-label"],["mwlResizable","",3,"enableGhostResize","resizeEdges","resizeEnd"],[3,"columnName","filterMode","setFilter$","clear$","choices$","predicateEmitter"],["filterComponent","menuInOtherComponent"],[3,"columnName","filterMode","clear$","choices$","predicateEmitter"],["mwlResizable","",1,"small-col",3,"enableGhostResize","resizeEdges","resizeEnd"],[1,"small-col",3,"click"],[1,"small-col"],[4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"],[1,"btn","btn-sm","btn-solid-icon",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-folder","fa-5",2,"line-height","inherit"],[1,"container"],[1,"row","ml-1","mr-2"],[1,"row","ml-1","mr-2","mb-1"],[1,"row","ml-4","mr-2","mb-0","align-middle"],["target","_blank",3,"href"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"row","ml-4","mr-2","mb-1"],[3,"href","download"],[1,"fa","fa-save",2,"line-height","inherit"],[1,"row","ml-2","mr-2","mb-1"],[1,"btn","btn-sm","btn-solid-icon","addr",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[1,"fa","fa-file-zip-o",2,"line-height","inherit"]],template:function(e,t){if(1&e&&(Nc(0,"div",0),xc(1,MK,3,0,"div",1),hd(2,"async"),xc(3,PK,7,3,"div",2),hd(4,"async"),zc(),Nc(5,"div",0),Nc(6,"div",3),Nc(7,"span",4),Bl(8,"Quick search:\xa0"),zc(),jc(9,"input",5,6),zc(),Nc(11,"div",7),Nc(12,"button",8),Wc("click",function(){return t.clearSelection()}),Nc(13,"mat-icon",9),Bl(14,"delete_sweep"),zc(),Nc(15,"span",4),Bl(16,"Clear filters"),zc(),zc(),zc(),Nc(17,"div",7),Nc(18,"button",10),Wc("columnsChange",function(e){return t.displayedColumns=e})("columnsChange",function(e){return t.updateColumnData(e)}),Nc(19,"mat-icon",11),Bl(20,"view_column"),zc(),zc(),Nc(21,"label",12),Bl(22,"Arrange Columns"),zc(),zc(),Nc(23,"div",7),Nc(24,"button",13),Nc(25,"mat-icon",9),Bl(26,"cloud_download"),zc(),zc(),Nc(27,"label",14),Bl(28,"Download"),zc(),zc(),xc(29,LK,5,1,"div",15),Nc(30,"div",16),jc(31,"mat-paginator",17),zc(),zc(),Nc(32,"div",0),Nc(33,"div",18),Nc(34,"mat-table",19),Bl(35," // Sample "),Bc(36,20),xc(37,NK,4,8,"mat-header-cell",21),xc(38,zK,3,1,"mat-cell",22),Vc(),Bc(39,23),xc(40,jK,4,7,"mat-header-cell",21),xc(41,BK,2,1,"mat-cell",22),Vc(),Bc(42,24),xc(43,VK,4,7,"mat-header-cell",25),xc(44,UK,2,1,"mat-cell",26),Vc(),Bc(45,27),xc(46,HK,4,7,"mat-header-cell",21),xc(47,$K,2,1,"mat-cell",22),Vc(),Bc(48,28),xc(49,qK,4,7,"mat-header-cell",21),xc(50,GK,2,1,"mat-cell",22),Vc(),Bc(51,29),xc(52,WK,4,7,"mat-header-cell",21),xc(53,YK,2,1,"mat-cell",22),Vc(),Bc(54,30),xc(55,ZK,4,7,"mat-header-cell",25),xc(56,QK,3,2,"mat-cell",31),Vc(),Bc(57,32),xc(58,JK,4,7,"mat-header-cell",21),xc(59,eQ,2,1,"mat-cell",22),Vc(),Bc(60,33),xc(61,tQ,4,7,"mat-header-cell",21),xc(62,iQ,3,2,"mat-cell",34),Vc(),Bc(63,35),xc(64,aQ,4,7,"mat-header-cell",36),xc(65,cQ,3,2,"mat-cell",31),Vc(),Bc(66,37),xc(67,lQ,4,7,"mat-header-cell",25),xc(68,uQ,2,1,"mat-cell",31),Vc(),Bc(69,38),xc(70,hQ,4,7,"mat-header-cell",21),xc(71,fQ,2,1,"mat-cell",34),Vc(),Bc(72,39),xc(73,dQ,4,7,"mat-header-cell",21),xc(74,pQ,2,1,"mat-cell",34),Vc(),Bc(75,40),xc(76,vQ,4,7,"mat-header-cell",21),xc(77,mQ,2,1,"mat-cell",34),Vc(),Bc(78,41),xc(79,gQ,4,7,"mat-header-cell",21),xc(80,yQ,2,1,"mat-cell",34),Vc(),Bc(81,42),xc(82,bQ,4,7,"mat-header-cell",25),xc(83,SQ,3,2,"mat-cell",31),Vc(),xc(84,xQ,1,0,"mat-header-row",43),xc(85,CQ,1,0,"mat-row",44),zc(),zc(),zc(),Nc(86,"mat-menu",45,46),Nc(88,"div",47),Wc("click",function(e){return e.stopPropagation()}),xc(89,AQ,6,3,"ng-template",48),zc(),zc(),Nc(90,"mat-menu",45,49),xc(92,TQ,16,0,"ng-template",48),zc()),2&e){var n=Cc(91);wo(1),Lc("ngIf",fd(2,14,t.dataSource.loading$)),wo(2),Lc("ngIf",fd(4,16,t.dataSource.error$)),wo(15),Lc("columns",t.displayedColumns)("columnInfo",t.allColumns)("saveName","rep-sample-table"),wo(6),Lc("matMenuTriggerFor",n),wo(5),Lc("ngIf",t.selectedSequenceNames.length),wo(2),Lc("length",null==t.dataSource?null:t.dataSource.totalItems)("pageSize",25)("pageSizeOptions",Zf(18,DQ)),wo(3),Lc("dataSource",t.dataSource),wo(50),Lc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",t.displayedColumns)}},directives:[zv,QB,aH,TU,$z,uB,mB,pB,fB,kB,xB,CU,yU,ZE,ER,sA,yB,_H,SG,_B,EB,AB],pipes:[Jv],styles:[".btn-sm{padding:.1rem .3rem!important;line-height:1!important}.i{line-height:inherit}.primary-icon{color:#007bff;align-items:center;vertical-align:bottom;line-height:20px}.header-text{color:rgba(0,0,0,.54);font-size:12px}.btn-solid-icon{background-color:#fff;color:#6c757d;border:none}mwlResizable{box-sizing:border-box}.mat-paginator-range-label{margin:0!important}.searchbox{border:1px solid #ced4ff}mat-cell,mat-footer-cell,mat-header-cell{width:200px;flex:none!important;display:block}mat-header-cell{border-left:1px solid #eee}.mat-cell,.mat-header-cell{padding-left:6px;padding-right:6px}.mat-cell{border-left:1px solid #eee;vertical-align:middle;overflow:hidden;text-overflow:ellipsis}.mat-row{min-height:18px!important;height:100%!important;padding-bottom:6px!important;padding-top:6px!important}.small-col{width:100px}.large-col{width:300px}.mat-ellipsis{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}"],encapsulation:2}),OQ),PQ=((IQ=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||IQ)},IQ.\u0275cmp=ut({type:IQ,selectors:[["app-gen-sample"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-gen-sample-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!0)("showAssembly",!1)("showRepseq",!1))},directives:[MD,MQ],styles:[""]}),IQ),LQ=function(){function e(){v(this,e),this.handlers={}}return g(e,[{key:"shouldDetach",value:function(e){return!0}},{key:"store",value:function(e,t){this.handlers[e.routeConfig.path]=t}},{key:"shouldAttach",value:function(e){return!!e.routeConfig&&!!this.handlers[e.routeConfig.path]}},{key:"retrieve",value:function(e){return e.routeConfig?this.handlers[e.routeConfig.path]:null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}();function FQ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Name "),zc())}function NQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Nc(1,"b"),Bl(2),zc(),zc()),2&e){var n=t.$implicit;wo(2),Vl(n.title)}}function zQ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Thumbnail "),zc())}function jQ(e,t){if(1&e&&(Nc(0,"div"),jc(1,"img",12),zc()),2&e){var n=Qc().$implicit;wo(1),nl("src",n.thumbnail,oa)}}function BQ(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,jQ,2,1,"div",11),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.thumbnail)}}function VQ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Description "),zc())}function UQ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Ul(" ",n.description," ")}}function HQ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Run "),zc())}function $Q(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"button",13),Wc("click",function(){an(n);var e=Qc().$implicit;return Qc().runReport(e,"pdf")}),jc(2,"i",14),zc(),Vc()}}function qQ(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"button",13),Wc("click",function(){an(n);var e=Qc().$implicit;return Qc().runReport(e,"html")}),jc(2,"i",15),zc(),Vc()}}function GQ(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"button",13),Wc("click",function(){an(n);var e=Qc().$implicit;return Qc().runReport(e,"xls")}),jc(2,"i",16),zc(),Vc()}}function WQ(e,t){if(1&e){var n=Hc();Bc(0),Nc(1,"button",13),Wc("click",function(){an(n);var e=Qc().$implicit;return Qc().runReport(e,"xls")}),jc(2,"i",17),zc(),Vc()}}function YQ(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,$Q,3,0,"ng-container",11),xc(2,qQ,3,0,"ng-container",11),xc(3,GQ,3,0,"ng-container",11),xc(4,WQ,3,0,"ng-container",11),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.format.indexOf("pdf")>=0),wo(1),Lc("ngIf",n.format.indexOf("html")>=0),wo(1),Lc("ngIf",n.format.indexOf("xls")>=0),wo(1),Lc("ngIf",n.format.indexOf("file")>=0)}}function ZQ(e,t){1&e&&jc(0,"mat-header-row")}function XQ(e,t){1&e&&jc(0,"mat-row")}var KQ,QQ,JQ,eJ,tJ,nJ,rJ,iJ,aJ,oJ=((eJ=function(){function e(t,n,r,i,a,o,s,c,l){v(this,e),this.modalService=t,this.reportsService=n,this.geneTableService=r,this.repSampleFilterService=i,this.genSampleFilterService=a,this.repListDataSource=o,this.reportsListDataSource=s,this.httpClient=c,this.reportRunService=l,this.displayedColumns=["thumbnail","title","description","actions"],this.geneTableServiceSubscription=null,this.geneTableSelection=null,this.genSampleFilterSubscription=null,this.genSampleFilters=[],this.repSampleFilterSubscription=null,this.repSampleFilters=[],this.globalReportFilters=null,this.reportRequest=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.geneTableServiceSubscription=this.geneTableService.source.subscribe(function(t){e.geneTableSelection=t}),this.genSampleFilterSubscription=this.genSampleFilterService.source.subscribe(function(t){e.genSampleFilters=t.filters}),this.repSampleFilterSubscription=this.repSampleFilterService.source.subscribe(function(t){e.repSampleFilters=t.filters})}},{key:"ngOnDestroy",value:function(){this.geneTableServiceSubscription.unsubscribe(),this.genSampleFilterSubscription.unsubscribe(),this.repSampleFilterSubscription.unsubscribe()}},{key:"runReport",value:function(e,t){this.reportRunService.runReport(e,t,this.geneTableSelection.species,this.geneTableSelection.datasets,this.genSampleFilters,this.geneTableSelection.repSeqs,this.repSampleFilters,null)}},{key:"displayError",value:function(e){var t=this.modalService.open(cD,{size:"m"});t.componentInstance.report="Error running report",t.componentInstance.errorMessage=e,t.result.then()}}]),e}()).\u0275fac=function(e){return new(e||eJ)(Mc(WI),Mc(JO),Mc(gD),Mc(hY),Mc(OK),Mc(sJ),Mc(yD),Mc(EE),Mc(bD))},eJ.\u0275cmp=ut({type:eJ,selectors:[["app-reports"]],viewQuery:function(e,t){var n;1&e&&Md(uB,1),2&e&&Dd(n=Ld())&&(t.table=n.first)},decls:33,vars:6,consts:[[3,"showGenomic","showAssembly","showRepseq"],["href","assets/doc/report_documentation.pdf"],[3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","description"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["height","100",3,"src"],[1,"btn","btn-lg","btn-solid-icon",3,"click"],[1,"fa","fa-file-pdf-o",2,"line-height","inherit"],[1,"fa","fa-desktop",2,"line-height","inherit"],[1,"fa","fa-file-excel-o",2,"line-height","inherit"],[1,"fa","fa-save",2,"line-height","inherit"]],template:function(e,t){1&e&&(jc(0,"app-gene-table-selector",0),Nc(1,"div"),Nc(2,"h2"),Bl(3,"VDJbase Reports"),zc(),Nc(4,"p"),Bl(5,"Currently available reports run against AIRR-Seq data sets. Reports that run against genomic datasets, or that combine data of both types, will be added in due course."),zc(),Nc(6,"p"),Bl(7,"Please select above the species and datasets on which you would like to report. Multiple datasets from the same species can be selected. "),zc(),Nc(8,"p"),Bl(9,"You can refine the samples against which the reports will run by using filters in the Samples windows to display just those samples that you wish to be included."),zc(),Nc(10,"p"),Bl(11,"To run the report, click on an icon in the Run column corresponding to the output format that you would like (e.g. pdf, on-screen, Excel)"),zc(),Nc(12,"p"),Nc(13,"a",1),Bl(14,"Click here"),zc(),Bl(15," for explanation of reports."),zc(),Nc(16,"h2"),Bl(17,"Reports using just AIRR-seq Sample Data"),zc(),Nc(18,"mat-table",2),Bc(19,3),xc(20,FQ,2,0,"mat-header-cell",4),xc(21,NQ,3,1,"mat-cell",5),Vc(),Bc(22,6),xc(23,zQ,2,0,"mat-header-cell",4),xc(24,BQ,2,1,"mat-cell",5),Vc(),Bc(25,7),xc(26,VQ,2,0,"mat-header-cell",4),xc(27,UQ,2,1,"mat-cell",5),Vc(),Bc(28,8),xc(29,HQ,2,0,"mat-header-cell",4),xc(30,YQ,5,4,"mat-cell",5),Vc(),xc(31,ZQ,1,0,"mat-header-row",9),xc(32,XQ,1,0,"mat-row",10),zc(),zc()),2&e&&(Lc("showGenomic",!0)("showAssembly",!1)("showRepseq",!0),wo(18),Lc("dataSource",t.repListDataSource),wo(13),Lc("matHeaderRowDef",t.displayedColumns),wo(1),Lc("matRowDefColumns",t.displayedColumns))},directives:[MD,uB,mB,pB,fB,kB,xB,yB,_B,zv,EB,AB],styles:[""]}),eJ),sJ=((JQ=function(e){c(n,e);var t=u(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).reportsService=e,a.geneTableService=r,a.reportsListDataSource=i,a}return g(n,[{key:"connect",value:function(){return this.reportsListDataSource.connect().pipe(q(function(e){return e.filter(function(e){return e.scope.indexOf("rep_sample")>=0})}))}},{key:"disconnect",value:function(){}}]),n}(function(){return function e(){v(this,e)}}())).\u0275fac=function(e){return new(e||JQ)(ti(JO),ti(gD),ti(yD))},JQ.\u0275prov=De({token:JQ,factory:JQ.\u0275fac,providedIn:"any"}),JQ),cJ=((QQ=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||QQ)},QQ.\u0275cmp=ut({type:QQ,selectors:[["app-quick-ref"]],decls:3,vars:0,consts:[[1,"container"],["src","./assets/img/howto-gene-table.png","width","80%"],["src","./assets/img/howto-gene-browser.png","width","80%"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"img",1),jc(2,"img",2),zc())},styles:[""]}),QQ),lJ=((KQ=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||KQ)},KQ.\u0275cmp=ut({type:KQ,selectors:[["app-user-guide"]],decls:20,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm"],[1,"ml1"],["width","40%","height","40%","controls",""],["src","./assets/img/new_ui.mp4","type","video/mp4"],[1,"row",2,"margin-bottom","20px"],["src","/assets/img/genomic.mp4","type","video/mp4"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"h2"),Bl(2,"Video Library"),zc(),Nc(3,"div",1),Nc(4,"div",2),Nc(5,"p",3),Bl(6,"Exploring AIRR-seq data sets with the new user interface"),zc(),zc(),zc(),Nc(7,"div",1),Nc(8,"video",4),jc(9,"source",5),Bl(10," Your browser does not support the video tag. "),zc(),zc(),jc(11,"div",6),Nc(12,"div",1),Nc(13,"div",2),Nc(14,"p"),Bl(15,"Genomic data in VDJbase"),zc(),zc(),zc(),Nc(16,"div",1),Nc(17,"video",4),jc(18,"source",7),Bl(19," Your browser does not support the video tag. "),zc(),zc(),zc())},styles:[""]}),KQ),uJ=["*"],hJ=new Ar("GOOGLE_CHARTS_CONFIG"),fJ={mapsApiKey:"",version:"current",safeMode:!1},dJ=((aJ=function(){function e(t,n,r){v(this,e),this.zone=t,this.localeId=n,this.config=r,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new V,this.config=Object.assign(Object.assign({},fJ),r||{})}return g(e,[{key:"isGoogleChartsAvailable",value:function(){return"undefined"!=typeof google&&void 0!==google.charts}},{key:"loadChartPackages",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.loadGoogleCharts().pipe(Xy(function(){return new L(function(t){google.charts.load(e.config.version,{packages:n,language:e.localeId,mapsApiKey:e.config.mapsApiKey,safeMode:e.config.safeMode}),google.charts.setOnLoadCallback(function(){e.zone.run(function(){t.next(),t.complete()})})})}))}},{key:"loadGoogleCharts",value:function(){var e=this;if(this.isGoogleChartsAvailable())return Fy(null);if(!this.isLoadingGoogleCharts()){var t=this.createGoogleChartsScript();t.onload=function(){e.zone.run(function(){e.scriptLoadSubject.next(),e.scriptLoadSubject.complete()})},t.onerror=function(){e.zone.run(function(){console.error("Failed to load the google charts script!"),e.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}},{key:"isLoadingGoogleCharts",value:function(){return null!=this.getGoogleChartsScript()}},{key:"getGoogleChartsScript",value:function(){var e=this;return Array.from(document.getElementsByTagName("script")).find(function(t){return t.src===e.scriptSource})}},{key:"createGoogleChartsScript",value:function(){var e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}]),e}()).\u0275fac=function(e){return new(e||aJ)(ti(kp),ti(up),ti(hJ,8))},aJ.\u0275prov=De({factory:function(){return new aJ(ti(kp),ti(up),ti(hJ,8))},token:aJ,providedIn:"root"}),aJ),pJ=((iJ=function(){function e(t){v(this,e),this.loaderService=t,this.error=new _d,this.ready=new _d,this.stateChange=new _d,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new BL(1),this.initialized=!1}return g(e,[{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"controlWrapper",get:function(){return this._controlWrapper}},{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.createControlWrapper(),e.initialized=!0})}},{key:"ngOnChanges",value:function(e){this.initialized&&(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options),e.state&&this._controlWrapper.setState(this.state))}},{key:"createControlWrapper",value:function(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}},{key:"addEventListeners",value:function(){var e=this;google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",function(t){return e.ready.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"error",function(t){return e.error.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"statechange",function(t){return e.stateChange.emit(t)})}}]),e}()).\u0275fac=function(e){return new(e||iJ)(Mc(dJ))},iJ.\u0275cmp=ut({type:iJ,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,t){2&e&&xu("id",t.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[Dt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),iJ),vJ=((rJ=function(){function e(t,n){v(this,e),this.element=t,this.loaderService=n,this.ready=new _d,this.error=new _d,this.initialized=!1}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.createDataTable(),e.createDashboard(),e.initialized=!0})}},{key:"ngOnChanges",value:function(e){this.initialized&&(e.data||e.columns)&&(this.createDataTable(),this.dashboard.draw(this.dataTable))}},{key:"createDashboard",value:function(){var e=this,t=this.controlWrappers.map(function(e){return e.wrapperReady$}),r=this.controlWrappers.map(function(e){return e.for}).map(function(e){return Array.isArray(e)?Uy(e.map(function(e){return e.wrapperReady$})):e.wrapperReady$});Uy([].concat(n(t),n(r))).subscribe(function(){e.dashboard=new google.visualization.Dashboard(e.element.nativeElement),e.initializeBindings(),e.dashboard.draw(e.dataTable)})}},{key:"initializeBindings",value:function(){var e=this;this.controlWrappers.forEach(function(t){if(Array.isArray(t.for)){var n=t.for.map(function(e){return e.chartWrapper});e.dashboard.bind(t.controlWrapper,n)}else e.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}},{key:"createDataTable",value:function(){if(null!=this.data){var e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e)}}},{key:"getDataAsTable",value:function(){return this.columns?[this.columns].concat(n(this.data)):this.data}}]),e}()).\u0275fac=function(e){return new(e||rJ)(Mc(Xh),Mc(dJ))},rJ.\u0275cmp=ut({type:rJ,selectors:[["dashboard"]],contentQueries:function(e,t,n){var r;1&e&&Pd(n,pJ,0),2&e&&Dd(r=Ld())&&(t.controlWrappers=r)},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[Dt],ngContentSelectors:uJ,decls:1,vars:0,template:function(e,t){1&e&&(el(),tl(0))},encapsulation:2,changeDetection:0}),rJ),mJ=((nJ=function(){function e(t,n,r){v(this,e),this.element=t,this.scriptLoaderService=n,this.dashboard=r,this.options={},this.dynamicResize=!1,this.ready=new _d,this.error=new _d,this.select=new _d,this.mouseover=new _d,this.mouseleave=new _d,this.wrapperReadySubject=new BL(1),this.initialized=!1}return g(e,[{key:"chart",get:function(){return this.wrapper?this.wrapper.getChart():null}},{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"chartWrapper",get:function(){return this.wrapper},set:function(e){this.wrapper=e,this.drawChart()}},{key:"ngOnInit",value:function(){var e=this;this.scriptLoaderService.loadChartPackages().subscribe(function(){e.createDataTable(),e.wrapper=new google.visualization.ChartWrapper({container:e.element.nativeElement,chartType:e.type,dataTable:e.dataTable,options:e.mergeOptions()}),e.registerChartEvents(),e.wrapperReadySubject.next(e.wrapper),e.initialized=!0,e.drawChart()})}},{key:"ngOnChanges",value:function(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){var t=!1;(e.data||e.columns||e.formatters)&&(this.createDataTable(),this.wrapper.setDataTable(this.dataTable),t=!0),e.type&&(this.wrapper.setChartType(this.type),t=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),t=!0),t&&this.drawChart()}}},{key:"createDataTable",value:function(){if(null!=this.data){var e=!0;null!=this.columns&&(e=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),e),this.applyFormatters(this.dataTable)}}},{key:"getDataAsTable",value:function(){return this.columns?[this.columns].concat(n(this.data)):this.data}},{key:"updateResizeListener",value:function(){var e=this;null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),this.dynamicResize&&(this.resizeSubscription=LA(window,"resize").pipe(VD(100)).subscribe(function(){e.initialized&&e.drawChart()}))}},{key:"mergeOptions",value:function(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}},{key:"applyFormatters",value:function(e){if(null!=this.formatters){var n,r=t(this.formatters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.formatter.format(e,i.colIndex)}}catch(a){r.e(a)}finally{r.f()}}}},{key:"registerChartEvents",value:function(){var e=this;google.visualization.events.removeAllListeners(this.wrapper);var t=function(e,t,n){google.visualization.events.addListener(e,t,n)};t(this.wrapper,"ready",function(){google.visualization.events.removeAllListeners(e.chart),t(e.chart,"onmouseover",function(t){return e.mouseover.emit(t)}),t(e.chart,"onmouseout",function(t){return e.mouseleave.emit(t)}),t(e.chart,"select",function(){var t=e.chart.getSelection();e.select.emit({selection:t})}),e.ready.emit({chart:e.chart})}),t(this.wrapper,"error",function(t){return e.error.emit(t)})}},{key:"drawChart",value:function(){null==this.dashboard&&this.wrapper.draw()}}]),e}()).\u0275fac=function(e){return new(e||nJ)(Mc(Xh),Mc(dJ),Mc(vJ,8))},nJ.\u0275cmp=ut({type:nJ,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[Dt],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),nJ),gJ=((tJ=function(){function e(){v(this,e)}return g(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:hJ,useValue:t}]}}}]),e}()).\u0275fac=function(e){return new(e||tJ)},tJ.\u0275mod=vt({type:tJ}),tJ.\u0275inj=Me({}),tJ),yJ=["datasetInfoTable"];function bJ(e,t){1&e&&(Nc(0,"div",4),Nc(1,"span",5),Bl(2,"Loading..."),zc(),zc())}function _J(e,t){if(1&e&&(Nc(0,"div",6),Nc(1,"div",7),Nc(2,"h4"),Bl(3,"Error loading table"),zc(),Nc(4,"p"),Bl(5),zc(),zc(),zc()),2&e){var n=Qc();wo(5),Vl(n.error)}}function wJ(e,t){1&e&&(Nc(0,"mat-header-cell",21),Bl(1," Name "),zc())}function kJ(e,t){if(1&e&&(Nc(0,"mat-cell",21),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.dataset)}}function SJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Description "),zc())}function xJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.description)}}function CJ(e,t){1&e&&jc(0,"mat-header-row",22)}function EJ(e,t){1&e&&jc(0,"mat-row")}var RJ=function(){return["name","desc"]};function AJ(e,t){if(1&e&&(Bc(0),Nc(1,"h2",8),Bl(2,"Datasets available for species "),Nc(3,"span",9),Bl(4),zc(),zc(),Nc(5,"div",10),Nc(6,"mat-table",11,12),Bc(8,13),xc(9,wJ,2,0,"mat-header-cell",14),xc(10,kJ,2,1,"mat-cell",15),Vc(),Bc(11,16),xc(12,SJ,2,0,"mat-header-cell",17),xc(13,xJ,2,1,"mat-cell",18),Vc(),xc(14,CJ,1,0,"mat-header-row",19),xc(15,EJ,1,0,"mat-row",20),zc(),zc(),Vc()),2&e){var n=Qc();wo(4),Vl(n.species),wo(2),Lc("dataSource",n.datasetDescriptions),wo(8),Lc("matHeaderRowDef",Zf(5,RJ))("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",Zf(6,RJ))}}var TJ=function(){return{position:"none"}},IJ=function(e){return{legend:e}},OJ=function(){return{left:0,width:"100%",height:"75%"}},DJ=function(e){return{chartArea:e}};function MJ(e,t){if(1&e&&(Bc(0),Nc(1,"h2",8),Bl(2),zc(),Nc(3,"p",9),Bl(4),zc(),Nc(5,"div",7),Nc(6,"div",23),jc(7,"google-chart",24),zc(),Nc(8,"div",23),jc(9,"google-chart",25),zc(),Nc(10,"div",23),jc(11,"google-chart",24),zc(),Nc(12,"div",23),jc(13,"google-chart",24),zc(),zc(),Vc()),2&e){var n=Qc();wo(2),$l("Summary of dataset ",n.dataset,": ",n.datasetInfo.total_samples," samples from ",n.datasetInfo.total_subjects," subjects"),wo(2),Vl(n.datasetInfo.description),wo(3),Lc("type","BarChart")("title","Sex (no. of individuals)")("data",n.datasetInfo.sex_count)("options",Xf(22,IJ,Zf(21,TJ))),wo(2),Lc("type","PieChart")("title","Condition (% individuals)")("data",n.datasetInfo.condition_count)("options",Xf(25,DJ,Zf(24,OJ)))("width","100%"),wo(2),Lc("type","PieChart")("title","Cell Type (% samples)")("data",n.datasetInfo.celltype_count)("options",Xf(28,DJ,Zf(27,OJ))),wo(2),Lc("type","PieChart")("title","Tissue (% samples)")("data",n.datasetInfo.tissue_count)("options",Xf(31,DJ,Zf(30,OJ)))}}function PJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Project ID "),zc())}function LJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.name)}}function FJ(e,t){1&e&&(Nc(0,"mat-header-cell",37),Bl(1," Accession ID "),zc())}function NJ(e,t){if(1&e&&(Nc(0,"mat-cell",37),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.accession_id)}}function zJ(e,t){1&e&&(Nc(0,"mat-header-cell",37),Bl(1," Institute "),zc())}function jJ(e,t){if(1&e&&(Nc(0,"mat-cell",37),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.institute)}}function BJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Subjects "),zc())}function VJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.num_subjects)}}function UJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Subjects in VDJbase "),zc())}function HJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.subjects_in_vdjbase)}}function $J(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Samples "),zc())}function qJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.num_samples)}}function GJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Samples in VDJbase "),zc())}function WJ(e,t){if(1&e&&(Nc(0,"mat-cell"),Bl(1),zc()),2&e){var n=t.$implicit;wo(1),Vl(n.samples_in_vdjbase)}}function YJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Paper "),zc())}function ZJ(e,t){1&e&&(Nc(0,"a",39),jc(1,"i",40),zc()),2&e&&nl("href",Qc().$implicit.reference,oa)}function XJ(e,t){if(1&e&&(Nc(0,"span"),Bl(1),zc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.reference,"")}}function KJ(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,ZJ,2,1,"a",38),xc(2,XJ,2,1,"span",3),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.reference.includes("http")),wo(1),Lc("ngIf",!n.reference.includes("http"))}}function QJ(e,t){1&e&&(Nc(0,"mat-header-cell"),Bl(1," Study Data "),zc())}function JJ(e,t){1&e&&(Nc(0,"a",39),jc(1,"i",40),zc()),2&e&&nl("href",Qc().$implicit.accession_reference,oa)}function e0(e,t){if(1&e&&(Nc(0,"span"),Bl(1),zc()),2&e){var n=Qc().$implicit;wo(1),Ul(" ",n.accession_reference,"")}}function t0(e,t){if(1&e&&(Nc(0,"mat-cell"),xc(1,JJ,2,1,"a",38),xc(2,e0,2,1,"span",3),zc()),2&e){var n=t.$implicit;wo(1),Lc("ngIf",n.accession_reference.includes("http")),wo(1),Lc("ngIf",!n.accession_reference.includes("http"))}}function n0(e,t){1&e&&jc(0,"mat-header-row",22)}function r0(e,t){1&e&&jc(0,"mat-row")}var i0=function(){return["name","accession_id","institute","num_subjects","subjects_in_vdjbase","num_samples","samples_in_vdjbase","paper","study_data"]};function a0(e,t){if(1&e&&(Bc(0),Nc(1,"div",10),Nc(2,"h2",8),Bl(3),zc(),Nc(4,"p"),Bl(5,"Samples may be omitted from VDJbase if the associated set of reads is too small for analysis. "),zc(),Nc(6,"mat-table",11,26),Bc(8,13),xc(9,PJ,2,0,"mat-header-cell",17),xc(10,LJ,2,1,"mat-cell",18),Vc(),Bc(11,27),xc(12,FJ,2,0,"mat-header-cell",28),xc(13,NJ,2,1,"mat-cell",29),Vc(),Bc(14,30),xc(15,zJ,2,0,"mat-header-cell",28),xc(16,jJ,2,1,"mat-cell",29),Vc(),Bc(17,31),xc(18,BJ,2,0,"mat-header-cell",17),xc(19,VJ,2,1,"mat-cell",18),Vc(),Bc(20,32),xc(21,UJ,2,0,"mat-header-cell",17),xc(22,HJ,2,1,"mat-cell",18),Vc(),Bc(23,33),xc(24,$J,2,0,"mat-header-cell",17),xc(25,qJ,2,1,"mat-cell",18),Vc(),Bc(26,34),xc(27,GJ,2,0,"mat-header-cell",17),xc(28,WJ,2,1,"mat-cell",18),Vc(),Bc(29,35),xc(30,YJ,2,0,"mat-header-cell",17),xc(31,KJ,3,2,"mat-cell",18),Vc(),Bc(32,36),xc(33,QJ,2,0,"mat-header-cell",17),xc(34,t0,3,2,"mat-cell",18),Vc(),xc(35,n0,1,0,"mat-header-row",19),xc(36,r0,1,0,"mat-row",20),zc(),zc(),Vc()),2&e){var n=Qc();wo(3),Ul("Studies included in ",n.dataset,":"),wo(3),Lc("dataSource",n.datasetInfo.studies),wo(29),Lc("matHeaderRowDef",Zf(5,i0))("matHeaderRowDefSticky",!0),wo(1),Lc("matRowDefColumns",Zf(6,i0))}}function o0(e,t){1&e&&(Bc(0),Nc(1,"div",10),Nc(2,"p"),Bl(3,"Please select a single dataset to see its statistics and composition"),zc(),zc(),Vc())}var s0,c0,l0,u0=((l0=function(){function e(t,n){v(this,e),this.geneTableService=t,this.repseqService=n,this.geneTableServiceSubscription=null,this.species=null,this.dataset=null,this.datasetDescriptions=null,this.datasetInfo=null,this.loading=!1,this.error=null}return g(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.geneTableServiceSubscription=e.geneTableService.source.subscribe(function(t){e.species=t.species,e.dataset=t.repSeqs,e.datasetDescriptions=t.repDatasetDescriptions,void 0!==e.datasetInfoTable&&e.datasetInfoTable.renderRows(),e.datasetInfo=null,1===e.dataset.length&&(e.error=null,e.loading=!0,e.repseqService.getDataSetInfoApi(e.species,e.dataset[0]).subscribe(function(t){e.loading=!1,e.datasetInfo=t}))},function(t){e.error=t})})}}]),e}()).\u0275fac=function(e){return new(e||l0)(Mc(gD),Mc(eD))},l0.\u0275cmp=ut({type:l0,selectors:[["app-rep-explore-data-panel"]],viewQuery:function(e,t){var n;1&e&&Md(yJ,1),2&e&&Dd(n=Ld())&&(t.datasetInfoTable=n.first)},decls:8,vars:6,consts:[[1,"container-fluid"],["class","spinner-border","role","status",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],[1,"row"],[1,"mt-5"],[1,"font-italic"],[1,"container"],[3,"dataSource"],["datasetInfoTable",""],["matColumnDef","name"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matHeaderCellDef"],["style","width: 30% !important; flex: 0 0 30% !important;",4,"matCellDef"],["matColumnDef","desc"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-elevation-z1",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[2,"width","30% !important","flex","0 0 30% !important"],[1,"mat-elevation-z1"],[1,"col-lg-3","col-md-6","col-sm-12"],[3,"type","title","data","options"],[3,"type","title","data","options","width"],["datasetStudyTable",""],["matColumnDef","accession_id"],["class","large-col",4,"matHeaderCellDef"],["class","large-col",4,"matCellDef"],["matColumnDef","institute"],["matColumnDef","num_subjects"],["matColumnDef","subjects_in_vdjbase"],["matColumnDef","num_samples"],["matColumnDef","samples_in_vdjbase"],["matColumnDef","paper"],["matColumnDef","study_data"],[1,"large-col"],[3,"href",4,"ngIf"],[3,"href"],[1,"fa","fa-external-link",2,"line-height","inherit"]],template:function(e,t){1&e&&(Nc(0,"div",0),xc(1,bJ,3,0,"div",1),xc(2,_J,6,1,"div",2),xc(3,AJ,16,7,"ng-container",3),xc(4,MJ,14,33,"ng-container",3),xc(5,a0,37,7,"ng-container",3),Bl(6,"> "),xc(7,o0,4,0,"ng-container",3),zc()),2&e&&(wo(1),Lc("ngIf",t.loading),wo(1),Lc("ngIf",t.error),wo(1),Lc("ngIf",!t.loading&&!t.error),wo(1),Lc("ngIf",!t.loading&&!t.error&&t.datasetInfo),wo(1),Lc("ngIf",!t.loading&&!t.error&&t.datasetInfo),wo(2),Lc("ngIf",!t.loading&&!t.error&&!t.datasetInfo))},directives:[zv,uB,mB,pB,fB,kB,xB,yB,_B,EB,AB,mJ],styles:[".small-col{width:6%!important;flex:0 0 6%!important}.large-col{width:15%!important;flex:0 0 15%!important}"],encapsulation:2}),l0),h0=((c0=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c0)},c0.\u0275cmp=ut({type:c0,selectors:[["app-rep-explore-data"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"showGenomic","showAssembly","showRepseq"]],template:function(e,t){1&e&&(Nc(0,"div",0),jc(1,"app-gene-table-selector",1),jc(2,"app-rep-explore-data-panel"),zc()),2&e&&(wo(1),Lc("showGenomic",!1)("showAssembly",!1)("showRepseq",!0))},directives:[MD,u0],styles:[""]}),c0),f0=((s0=function(){function e(){v(this,e)}return g(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s0)},s0.\u0275cmp=ut({type:s0,selectors:[["app-licensing"]],decls:25,vars:0,consts:[[1,"container"],["href","https://creativecommons.org/publicdomain/zero/1.0/legalcode"],["href","https://github.com/williamdlees/digby"],["href","https://github.com/williamdlees/digby_backend"],["href","https://bitbucket.org/yaarilab/vdjbasevis"],["href","https://bitbucket.org/yaarilab/processpipeline"]],template:function(e,t){1&e&&(Nc(0,"div",0),Nc(1,"h1"),Bl(2,"Content"),zc(),Nc(3,"p"),Bl(4,"Information provided on this site and any reports that are created here are published under a "),Nc(5,"a",1),Bl(6,"CC0 (Creative Commons 0) license"),zc(),Bl(7,"."),zc(),Nc(8,"h1"),Bl(9,"Source Code"),zc(),Nc(10,"p"),Bl(11,"Source Code is available at the following links:"),zc(),Nc(12,"ul"),Nc(13,"li"),Nc(14,"a",2),Bl(15,"Website front-end"),zc(),zc(),Nc(16,"li"),Nc(17,"a",3),Bl(18,"Website back-end"),zc(),zc(),Nc(19,"li"),Nc(20,"a",4),Bl(21,"Reporting package"),zc(),zc(),Nc(22,"li"),Nc(23,"a",5),Bl(24,"Analysis pipeline"),zc(),zc(),zc(),zc())},styles:[""]}),s0),d0=function(){function e(e){this._options=Object(Qm.a)({logErrors:!0},e)}return e.prototype.handleError=function(e){var t=this._extractError(e)||"Handled unknown error",n=_y(t);this._options.logErrors&&console.error(t),this._options.showDialog&&function(e){void 0===e&&(e={}),e.eventId||(e.eventId=pg().lastEventId());var t=pg().getClient();t&&t.showReportDialog(e)}(Object(Qm.a)(Object(Qm.a)({},this._options.dialogOptions),{eventId:n}))},e.prototype._extractError=function(e){if(this._options.extractor){var t=this._defaultExtractor.bind(this);return this._options.extractor(e,t)}return this._defaultExtractor(e)},e.prototype._defaultExtractor=function(e){var t=e;return t&&t.ngOriginalError&&(t=t.ngOriginalError),"string"==typeof t||t instanceof Error?t:t instanceof vE?t.error instanceof Error?t.error:t.error instanceof ErrorEvent&&t.error.message?t.error.message:"string"==typeof t.error?"Server returned code "+t.status+' with body "'+t.error+'"':t.message:null},Object(Qm.b)([Oc({providedIn:"root"})],e)}();function p0(){return new KO({basePath:VW.apiBasePath})}var v0,m0,g0,y0=[{path:"",component:BW},{path:"genesample/:onlySelectedSamples",component:PQ},{path:"genetable",component:_W},{path:"genebrowser/:speciesName/:refName",component:GW},{path:"samplerep/:onlySelectedSamples",component:xX},{path:"generep",component:kK},{path:"generep/:species/:dataset/:alleleName",component:kK},{path:"datarep",component:h0},{path:"reports",component:oJ},{path:"quick-ref",component:cJ},{path:"user-guide",component:lJ},{path:"licensing",component:f0},{path:"**",component:BW}],b0=((m0=function e(){v(this,e)}).\u0275fac=function(e){return new(e||m0)},m0.\u0275mod=vt({type:m0,bootstrap:[CD]}),m0.\u0275inj=Me({providers:[KW,{provide:AE,useClass:QW,multi:!0},{provide:Ww,useClass:LQ},{provide:ma,useValue:(v0={showDialog:!1},new d0(v0))},{provide:Uk,deps:[ok]},{provide:tp,useFactory:function(){return function(){}},deps:[Uk],multi:!0}],imports:[[Ym,eE,VE,MA,PA,pO,OH,IB,qz,XW,WW,Ek.forRoot(y0),tD.forRoot(p0),MO.forRoot(),EX,JB,OU,ZU,iU,JU,vM,kH,gJ]]}),m0);(g0={dsn:"https://dea64cb99f074f61afd6888ff45fa3f7@o515727.ingest.sentry.io/5620970",integrations:[new AS.BrowserTracing({tracingOrigins:["localhost"],routingInstrumentation:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),Lk=!0,Fk=e,Nk=n,t&&e({name:window.location.pathname,op:"pageload"})}})],tracesSampleRate:1})._metadata=g0._metadata||{},g0._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:"6.0.4"}],version:"6.0.4"},function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Ly),void 0===e.release){var t=Object(ng.e)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"6.0.4"}],version:"6.0.4"},function(e,t){!0===t.debug&&sg.a.enable();var n=pg(),r=new e(t);n.bindClient(r)}(Ay,e),e.autoSessionTracking&&function(){var e=Object(ng.e)(),t=e.document;if(void 0!==t){var n=pg(),r="complete"===t.readyState,i=!1,a=function(){i&&r&&n.endSession()};n.startSession(),r||e.addEventListener("load",function t(){r=!0,a(),e.removeEventListener("load",t)});try{var o=new PerformanceObserver(function(e,t){e.getEntries().forEach(function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),i=!0,a())})}),s="hidden"===t.visibilityState?0:1/0;t.addEventListener("visibilitychange",function(e){s=Math.min(s,e.timeStamp)},{once:!0}),o.observe({type:"paint",buffered:!0})}catch(c){i=!0,a()}Og({callback:function(){var e;(null===(e=pg().getScope())||void 0===e?void 0:e.getSession())||(n.startSession(),n.endSession())},type:"history"})}else sg.a.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(g0),VW.production&&function(){if(Pp)throw new Error("Cannot enable prod mode after platform setup.");Mp=!1}(),Gm().bootstrapModule(b0).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]])}();
//# sourceMappingURL=main-es5.381a45ea32eb34d334b8.js.map