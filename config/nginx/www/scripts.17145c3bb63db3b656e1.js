/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,l={},c=l.toString,h=l.hasOwnProperty,u=h.toString,f=u.call(Object),d={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||m).createElement("script");if(o.text=e,t)for(r in v)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var w="3.6.0",x=function(e,t){return new x.fn.init(e,t)};function _(e){var t=!!e&&"length"in e&&e.length,n=y(e);return!p(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:w,constructor:x,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||p(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(x.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||x.isPlainObject(n)?n:{},i=!1,s[t]=x.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},x.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=r(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&u.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(_(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?x.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(_(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return o(a)},guid:1,support:d}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var S=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,r,i,o,s,a,l,c,h,u,f,d,p,g,m,v,b,y,w="sizzle"+1*new Date,x=e.document,_=0,S=0,k=le(),C=le(),T=le(),A=le(),E=function(e,t){return e===t&&(u=!0),0},L={}.hasOwnProperty,R=[],D=R.pop,M=R.push,I=R.push,N=R.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\[[\\x20\\t\\r\\n\\f]*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",j=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",z=new RegExp(O+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(O+"|>"),$=new RegExp(j),G=new RegExp("^"+B+"$"),Z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},se=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(R=N.call(x.childNodes),x.childNodes),R[x.childNodes.length].nodeType}catch(e){I={apply:R.length?function(e,t){M.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var o,a,c,h,u,p,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&(f(t),t=t||d,g)){if(11!==x&&(u=J.exec(e)))if(o=u[1]){if(9===x){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(b&&(c=b.getElementById(o))&&y(t,c)&&c.id===o)return r.push(c),r}else{if(u[2])return I.apply(r,t.getElementsByTagName(e)),r;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===x&&(W.test(e)||U.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((h=t.getAttribute("id"))?h=h.replace(re,ie):t.setAttribute("id",h=w)),a=(p=s(e)).length;a--;)p[a]=(h?"#"+h:":scope")+" "+ye(p[a]);v=p.join(",")}try{return I.apply(r,b.querySelectorAll(v)),r}catch(t){A(e,!0)}finally{h===w&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[w]=!0,e}function he(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce(function(t){return t=+t,ce(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},f=ae.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:x;return s!=d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),x!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=he(function(e){return p.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=he(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=he(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=he(function(e){return p.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Q.test(d.querySelectorAll))&&(he(function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+P+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),he(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&he(function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),y=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==x&&y(x,e)?-1:t==d||t.ownerDocument==x&&y(x,t)?1:h?F(h,e)-F(h,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e==d?-1:t==d?1:i?-1:o?1:h?F(h,e)-F(h,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?fe(s[r],a[r]):s[r]==x?-1:a[r]==x?1:0},d):d},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&g&&!A[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return ae(t,d,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=d&&f(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=d&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,o=0;if(u=!n.detectDuplicates,h=!n.sortStable&&e.slice(0),e.sort(E),u){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return h=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:ce,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+O+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,h,u,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(y=(d=(c=(h=(u=(f=m)[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){h[e]=[_,d,y];break}}else if(b&&(y=d=(c=(h=(u=(f=t)[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===y)for(;(f=++d&&f&&f[g]||(y=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(b&&((h=(u=f[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]=[_,y]),f!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=F(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ce(function(e){var t=[],n=[],r=a(e.replace(V,"$1"));return r[w]?ce(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return ae(e,t).length>0}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:ce(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function be(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,h,u,f=[_,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(h=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=h[o])&&c[0]===_&&c[1]===a)return f[2]=c[2];if(h[o]=f,f[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function Se(e,t,n,r,i,o){return r&&!r[w]&&(r=Se(r)),i&&!i[w]&&(i=Se(i,o)),ce(function(o,s,a,l){var c,h,u,f=[],d=[],p=s.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:_e(g,f,e,a,l),v=n?i||(o?e:p||r)?[]:s:m;if(n&&n(m,v,a,l),r)for(c=_e(v,d),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[d[h]]=!(m[d[h]]=u));if(o){if(i||e){if(i){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);i(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=i?F(o,u):f[h])>-1&&(o[c]=!(s[c]=u))}}else v=_e(v===s?v.splice(p,v.length):v),i?i(null,s,v,l):I.apply(s,v)})}function ke(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,h=we(function(e){return e===t},a,!0),u=we(function(e){return F(t,e)>-1},a,!0),f=[function(e,n,r){var i=!s&&(r||n!==c)||((t=n).nodeType?h(e,n,r):u(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])f=[we(xe(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return Se(l>1&&xe(f),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<i&&ke(e.slice(l,i)),i<o&&ke(e=e.slice(i)),i<o&&ye(e))}f.push(n)}return xe(f)}return be.prototype=r.filters=r.pseudos,r.setFilters=new be,s=ae.tokenize=function(e,t){var n,i,o,s,a,l,c,h=C[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(i=q.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(V," ")}),a=a.slice(n.length)),r.filter)!(i=Z[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):C(e,l).slice(0)},a=ae.compile=function(e,t){var n,i=[],o=[],a=T[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=ke(t[n]))[w]?i.push(a):o.push(a);(a=T(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,h){var u,p,m,v=0,b="0",y=o&&[],w=[],x=c,S=o||i&&r.find.TAG("*",h),k=_+=null==x?1:Math.random()||.1,C=S.length;for(h&&(c=s==d||s||h);b!==C&&null!=(u=S[b]);b++){if(i&&u){for(p=0,s||u.ownerDocument==d||(f(u),a=!g);m=e[p++];)if(m(u,s||d,a)){l.push(u);break}h&&(_=k)}n&&((u=!m&&u)&&v--,o&&y.push(u))}if(v+=b,n&&b!==v){for(p=0;m=t[p++];)m(y,w,s,a);if(o){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=D.call(l));w=_e(w)}I.apply(l,w),h&&!o&&w.length>0&&v+t.length>1&&ae.uniqueSort(l)}return h&&(_=k,c=x),y};return n?ce(o):o}(o,i))).selector=e}return a},l=ae.select=function(e,t,n,i){var o,l,c,h,u,f="function"==typeof e&&e,d=!i&&s(e=f.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Z.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[h=c.type]);)if((u=r.find[h])&&(i=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&ye(l)))return I.apply(n,i),n;break}}return(f||a(e,d))(i,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!u,f(),n.sortDetached=he(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),he(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&he(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),he(function(e){return null==e.getAttribute("disabled")})||ue(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(e);x.find=S,x.expr=S.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=S.uniqueSort,x.text=S.getText,x.isXMLDoc=S.isXML,x.contains=S.contains,x.escapeSelector=S.escape;var k=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=x.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return p(t)?x.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?x.grep(e,function(e){return e===t!==n}):"string"!=typeof t?x.grep(e,function(e){return a.call(t,e)>-1!==n}):x.filter(t,e,n)}x.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<r;t++)if(x.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)x.find(e,i[t],n);return r>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&T.test(e)?x(e):e||[],!1).length}});var R,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),E.test(r[1])&&x.isPlainObject(t))for(r in t)p(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=m.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,R=x(m);var M=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&x(e);if(!T.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(x(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(I[e]||x.uniqueSort(i),M.test(e)&&i.reverse()),this.pushStack(i)}});var F=/[^\x20\t\r\n\f]+/g;function P(e){return e}function O(e){throw e}function B(e,t,n,r){var i;try{e&&p(i=e.promise)?i.call(e).done(t).fail(n):e&&p(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(F)||[],function(e,n){t[n]=!0}),t}(e):x.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){x.each(n,function(n,r){p(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==y(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},x.extend({Deferred:function(t){var n=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(t){x.each(n,function(n,r){var i=p(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function s(t,n,r,i){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=r.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,p(c)?i?c.call(e,s(o,n,P,i),s(o,n,O,i)):(o++,c.call(e,s(o,n,P,i),s(o,n,O,i),s(o,n,P,n.notifyWith))):(r!==P&&(a=void 0,l=[e]),(i||n.resolveWith)(a,l))}},h=i?c:function(){try{c()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,h.stackTrace),t+1>=o&&(r!==O&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?h():(x.Deferred.getStackHook&&(h.stackTrace=x.Deferred.getStackHook()),e.setTimeout(h))}}return x.Deferred(function(e){n[0][3].add(s(0,e,p(i)?i:P,e.notifyWith)),n[1][3].add(s(0,e,p(t)?t:P)),n[2][3].add(s(0,e,p(r)?r:O))}).promise()},promise:function(e){return null!=e?x.extend(e,i):i}},o={};return x.each(n,function(e,t){var s=t[2],a=t[5];i[t[1]]=s.add,a&&s.add(function(){r=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),s=x.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||s.resolveWith(r,o)}};if(t<=1&&(B(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||p(o[n]&&o[n].then)))return s.then();for(;n--;)B(o[n],a(n),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},x.readyException=function(t){e.setTimeout(function(){throw t})};var j=x.Deferred();function z(){m.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),x.ready()}x.fn.ready=function(e){return j.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||j.resolveWith(m,[x]))}}),x.ready.then=j.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(x.ready):(m.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var V=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===y(n))for(a in i=!0,n)V(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,p(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},q=/^-ms-/,U=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function $(e){return e.replace(q,"ms-").replace(U,W)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=x.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[$(t)]=n;else for(r in t)i[$(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||x.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var X=new Z,Y=new Z,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:K.test(e)?JSON.parse(e):e)}(n)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Y.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=$(r.slice(5)),J(o,r,i[r]));X.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Y.set(this,e)}):V(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Y.get(o,e))||void 0!==(n=J(o,e))?n:void 0;this.each(function(){Y.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),x.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){x.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:x.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=m.documentElement,ie=function(e){return x.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===x.css(e,"display")};function ae(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return x.css(e,t,"")},l=a(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),h=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&te.exec(x.css(e,t));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;s--;)x.style(e,t,h+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),h/=o;h*=2,x.style(e,t,h+c),n=n||[]}return n&&(h=+h||+l||0,i=n[1]?h+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=h,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=x.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function he(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=X.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&se(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",X.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}x.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?x(this).show():x(this).hide()})}});var ue,fe,de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;ue=m.createDocumentFragment().appendChild(m.createElement("div")),(fe=m.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ue.appendChild(fe),d.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",d.option=!!ue.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?x.merge([e],n):n}function be(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,d.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,s,a,l,c,h,u=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===y(o))x.merge(f,o.nodeType?[o]:o);else if(ye.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;x.merge(f,s.childNodes),(s=u.firstChild).textContent=""}else f.push(t.createTextNode(o));for(u.textContent="",d=0;o=f[d++];)if(r&&x.inArray(o,r)>-1)i&&i.push(o);else if(c=ie(o),s=ve(u.appendChild(o),"script"),c&&be(s),n)for(h=0;o=s[h++];)ge.test(o.type||"")&&n.push(o);return u}var xe=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function Se(){return!1}function ke(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function Ce(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ce(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),e.each(function(){x.event.add(this,t,i,r,n)})}function Te(e,t,n){n?(X.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var r,o,s=X.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=i.call(arguments),X.set(this,t,s),r=n(this,t),this[t](),s!==(o=X.get(this,t))||r?X.set(this,t,!1):o={},s!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else s.length&&(X.set(this,t,{value:x.event.trigger(x.extend(s[0],x.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&x.event.add(e,t,_e)}x.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,h,u,f,d,p,g,m=X.get(e);if(G(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(re,i),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(F)||[""]).length;c--;)d=g=(a=xe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(u=x.event.special[d]||{},d=(i?u.delegateType:u.bindType)||d,u=x.event.special[d]||{},h=x.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[d])||((f=l[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(d,s)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,h):f.push(h),x.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,h,u,f,d,p,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(d=g=(a=xe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(u=x.event.special[d]||{},f=l[d=(r?u.delegateType:u.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!i&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,u.remove&&u.remove.call(e,h));s&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||x.removeEvent(e,d,m.handle),delete l[d])}else for(d in l)x.event.remove(e,d+t[c],n,r,!0);x.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=x.event.fix(e),c=(X.get(this,"events")||Object.create(null))[l.type]||[],h=x.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(s=x.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?x(i,this).index(c)>-1:x.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&A(t,"input")&&Te(t,"click",_e),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&A(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&A(t,"input")&&X.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(e,t){x.event.special[e]={setup:function(){return Te(this,e,ke),!1},trigger:function(){return Te(this,e),!0},_default:function(){return!0},delegateType:t}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||x.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.fn.extend({on:function(e,t,n,r){return Ce(this,e,t,n,r)},one:function(e,t,n,r){return Ce(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){x.event.remove(this,e,n,t)})}});var Ae=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(i in X.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)x.event.add(t,i,a[i][n]);Y.hasData(e)&&(o=Y.access(e),s=x.extend({},o),Y.set(t,s))}}function Ne(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=o(t);var i,s,a,l,c,h,u=0,f=e.length,g=f-1,m=t[0],v=p(m);if(v||f>1&&"string"==typeof m&&!d.checkClone&&Ee.test(m))return e.each(function(i){var o=e.eq(i);v&&(t[0]=m.call(this,i,o.html())),Fe(o,t,n,r)});if(f&&(s=(i=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(l=(a=x.map(ve(i,"script"),De)).length;u<f;u++)c=i,u!==g&&(c=x.clone(c,!0,!0),l&&x.merge(a,ve(c,"script"))),n.call(e[u],c,u);if(l)for(h=a[a.length-1].ownerDocument,x.map(a,Me),u=0;u<l;u++)c=a[u],ge.test(c.type||"")&&!X.access(c,"globalEval")&&x.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&!c.noModule&&x._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):b(c.textContent.replace(Le,""),c,h))}return e}function Pe(e,t,n){for(var r,i=t?x.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||x.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&be(ve(r,"script")),r.parentNode.removeChild(r));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ie(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=ve(a),r=0,i=(o=ve(e)).length;r<i;r++)Ne(o[r],s[r]);if(t)if(n)for(o=o||ve(e),s=s||ve(a),r=0,i=o.length;r<i;r++)Ie(o[r],s[r]);else Ie(e,a);return(s=ve(a,"script")).length>0&&be(s,!l&&ve(e,"script")),a},cleanData:function(e){for(var t,n,r,i=x.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)i[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return V(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,r=[],i=x(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var Oe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Be=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},He=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},je=new RegExp(ne.join("|"),"i");function ze(e,t,n){var r,i,o,s,a=e.style;return(n=n||Be(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ie(e)||(s=x.style(e,t)),!d.pixelBoxStyles()&&Oe.test(s)&&je.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(h);var t=e.getComputedStyle(h);r="1%"!==t.top,l=12===n(t.marginLeft),h.style.right="60%",s=36===n(t.right),i=36===n(t.width),h.style.position="absolute",o=12===n(h.offsetWidth/3),re.removeChild(c),h=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,s,a,l,c=m.createElement("div"),h=m.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===h.style.backgroundClip,x.extend(d,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==a&&(t=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",re.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,re.removeChild(t)),a}}))}();var qe=["Webkit","Moz","ms"],Ue=m.createElement("div").style,We={};function $e(e){var t=x.cssProps[e]||We[e];return t||(e in Ue?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=x.css(e,n+ne[s],!0,i)),r?("content"===n&&(l-=x.css(e,"padding"+ne[s],!0,i)),"margin"!==n&&(l-=x.css(e,"border"+ne[s]+"Width",!0,i))):(l+=x.css(e,"padding"+ne[s],!0,i),"padding"!==n?l+=x.css(e,"border"+ne[s]+"Width",!0,i):a+=x.css(e,"border"+ne[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function Je(e,t,n){var r=Be(e),i=(!d.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,r),o=i,s=ze(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Oe.test(s)){if(!n)return s;s="auto"}return(!d.boxSizingReliable()&&i||!d.reliableTrDimensions()&&A(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===x.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+Qe(e,t,n||(i?"border":"content"),o,r,s)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=$(t),l=Ze.test(t),c=e.style;if(l||(t=$e(a)),s=x.cssHooks[t]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=ae(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(x.cssNumber[a]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=$(t);return Ze.test(t)||(t=$e(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=ze(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,t,r):He(e,Xe,function(){return Je(e,t,r)})},set:function(e,n,r){var i,o=Be(e),s=!d.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===x.css(e,"boxSizing",!1,o),l=r?Qe(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Qe(e,t,"border",!1,o)-.5)),l&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),Ke(0,n,l)}}}),x.cssHooks.marginLeft=Ve(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ne[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(x.cssHooks[e+t].set=Ke)}),x.fn.extend({css:function(e,t){return V(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Be(e),i=t.length;s<i;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)}}),x.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=et.prototype.init,x.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,x.fx.interval),x.fx.tick())}function st(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function at(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o=0,s=ct.prefilters.length,a=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=tt||st(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),h=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=$(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=x.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(h,c.opts.specialEasing);o<s;o++)if(r=ct.prefilters[o].call(c,e,h,c.opts))return p(r.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return x.map(h,lt,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,h,u="width"in t||"height"in t,f=this,d={},p=e.style,g=e.nodeType&&se(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||x.style(e,r)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(d))for(r in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(h=x.css(e,"display"))&&(c?h=c:(he([e],!0),c=e.style.display||c,h=x.css(e,"display"),he([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===x.css(e,"float")&&(l||(f.done(function(){p.display=c}),null==c&&(h=p.display,c="none"===h?"":h)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,d)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&he([e],!0),f.done(function(){for(r in g||he([e]),X.remove(e,"fxshow"),d)x.style(e,r,d[r])})),l=lt(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||p(e)&&e,duration:e,easing:n&&t||t&&!p(t)&&t};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in x.fx.speeds?r.duration=x.fx.speeds[r.duration]:r.duration=x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=ct(this,x.extend({},e),o);(i||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=X.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&it.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(at(t,!0),e,r,i)}}),x.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),tt=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){nt||(nt=!0,ot())},x.fx.stop=function(){nt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,n){return t=x.fx&&x.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var ht,ut=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return V(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(i=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=x.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||x.find.attr;ut[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=ut[s],ut[s]=i,i=null!=n(e,t,r)?s:null,ut[s]=o),i}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function pt(e){return(e.match(F)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}x.fn.extend({prop:function(e,t){return V(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,i=x.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(p(e))return this.each(function(t){x(this).addClass(e.call(this,t,gt(this)))});if((t=mt(e)).length)for(;n=this[l++];)if(i=gt(n),r=1===n.nodeType&&" "+pt(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=pt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(p(e))return this.each(function(t){x(this).removeClass(e.call(this,t,gt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[l++];)if(i=gt(n),r=1===n.nodeType&&" "+pt(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=pt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):p(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,gt(this),t),t)}):this.each(function(){var t,i,o,s;if(r)for(i=0,o=x(this),s=mt(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+pt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;x.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,x(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(vt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:pt(x.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=x.makeArray(t),s=i.length;s--;)((r=i[s]).selected=x.inArray(x.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},d.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(t,n,r,i){var o,s,a,l,c,u,f,d,v=[r||m],b=h.call(t,"type")?t.type:t,y=h.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=r=r||m,3!==r.nodeType&&8!==r.nodeType&&!bt.test(b+x.event.triggered)&&(b.indexOf(".")>-1&&(y=b.split("."),b=y.shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[x.expando]?t:new x.Event(b,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[b]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!g(r)){for(l=f.delegateType||b,bt.test(l+b)||(s=s.parentNode);s;s=s.parentNode)v.push(s),a=s;a===(r.ownerDocument||m)&&v.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=v[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:f.bindType||b,(u=(X.get(s,"events")||Object.create(null))[t.type]&&X.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&G(s)&&(t.result=u.apply(s,n),!1===t.result&&t.preventDefault());return t.type=b,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!G(r)||c&&p(r[b])&&!g(r)&&((a=r[c])&&(r[c]=null),x.event.triggered=b,t.isPropagationStopped()&&d.addEventListener(b,yt),r[b](),t.isPropagationStopped()&&d.removeEventListener(b,yt),x.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(e,t,n){var r=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(r,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),d.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=X.access(r,t);i||r.addEventListener(e,n,!0),X.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=X.access(r,t)-1;i?X.access(r,t,i):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var wt=e.location,xt={guid:Date.now()},_t=/\?/;x.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||x.error("Invalid XML: "+(r?x.map(r.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var St=/\[\]$/,kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var i;if(Array.isArray(t))x.each(t,function(t,i){n||St.test(e)?r(e,i):At(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==y(t))r(e,t);else for(i in t)At(e+"["+i+"]",t[i],n,r)}x.param=function(e,t){var n,r=[],i=function(e,t){var n=p(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Et=/%20/g,Lt=/#.*$/,Rt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,It=/^\/\//,Nt={},Ft={},Pt="*/".concat("*"),Ot=m.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(F)||[];if(p(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var i={},o=e===Ft;function s(a){var l;return i[a]=!0,x.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function jt(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}Ot.href=wt.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,x.ajaxSettings),t):jt(x.ajaxSettings,e)},ajaxPrefilter:Bt(Nt),ajaxTransport:Bt(Ft),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,s,a,l,c,h,u,f,d=x.ajaxSetup({},n),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?x(p):x.event,v=x.Deferred(),b=x.Callbacks("once memory"),y=d.statusCode||{},w={},_={},S="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Dt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||S;return r&&r.abort(t),C(0,t),this}};if(v.promise(k),d.url=((t||d.url||wt.href)+"").replace(It,wt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){l=m.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ot.protocol+"//"+Ot.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=x.param(d.data,d.traditional)),Ht(Nt,d,n,k),c)return k;for(u in(h=x.event&&d.global)&&0==x.active++&&x.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mt.test(d.type),i=d.url.replace(Lt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Et,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(_t.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Rt,"$1"),f=(_t.test(i)?"&":"?")+"_="+xt.guid+++f),d.url=i+f),d.ifModified&&(x.lastModified[i]&&k.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&k.setRequestHeader("If-None-Match",x.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Pt+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(!1===d.beforeSend.call(p,k,d)||c))return k.abort();if(S="abort",b.add(d.complete),k.done(d.success),k.fail(d.error),r=Ht(Ft,d,n,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,d]),c)return k;d.async&&d.timeout>0&&(a=e.setTimeout(function(){k.abort("timeout")},d.timeout));try{c=!1,r.send(w,C)}catch(e){if(c)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,s,l){var u,f,m,w,_,S=n;c||(c=!0,a&&e.clearTimeout(a),r=void 0,o=l||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(w=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,k,s)),!u&&x.inArray("script",d.dataTypes)>-1&&x.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,s,a,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=h.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(d,w,k,u),u?(d.ifModified&&((_=k.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=_),(_=k.getResponseHeader("etag"))&&(x.etag[i]=_)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=w.state,f=w.data,u=!(m=w.error))):(m=S,!t&&S||(S="error",t<0&&(t=0))),k.status=t,k.statusText=(n||S)+"",u?v.resolveWith(p,[f,S,k]):v.rejectWith(p,[k,S,m]),k.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,d,u?f:m]),b.fireWith(p,[k,S]),h&&(g.trigger("ajaxComplete",[k,d]),--x.active||x.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return p(n)&&(i=i||r,r=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:i,data:n,success:r},x.isPlainObject(e)&&e))}}),x.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return p(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Vt=x.ajaxSettings.xhr();d.cors=!!Vt&&"withCredentials"in Vt,d.ajax=Vt=!!Vt,x.ajaxTransport(function(t){var n,r;if(d.cors||Vt&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}});var qt,Ut=[],Wt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||x.expando+"_"+xt.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Wt,"$1"+i):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?x(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(i)),s&&p(o)&&o(s[0]),s=o=void 0}),"script"}),d.createHTMLDocument=((qt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(r)):t=m),o=!n&&[],(i=E.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&x(o).remove(),x.merge([],i.childNodes)));var r,i,o},x.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=pt(e.slice(a)),e=e.slice(0,a)),p(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=x.css(e,"position"),h=x(e),u={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=h.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),p(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):h.css(u)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===x.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),i.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-x.css(r,"marginTop",!0),left:t.left-i.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||re})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(r){return V(this,function(e,r,i){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=Ve(d.pixelPosition,function(e,n){if(n)return n=ze(e,t),Oe.test(n)?x(e).position()[t]+"px":n})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return V(this,function(t,n,i){var o;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?x.css(t,n,a):x.style(t,n,i,a)},t,s?i:void 0,s)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var $t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),p(e))return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||x.guid++,o},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=A,x.isFunction=p,x.isWindow=g,x.camelCase=$,x.type=y,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace($t,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var Gt=e.jQuery,Zt=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=Zt),t&&e.jQuery===x&&(e.jQuery=Gt),x},void 0===t&&(e.jQuery=e.$=x),x}),
/*! DataTables 1.12.1
 * 2008-2022 SpryMedia Ltd - datatables.net/license
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:window.DataTable=e(jQuery,window,document)}(function(e,t,n,r){"use strict";var i,o,s,a,l=function(t,n){if(this instanceof l)return e(t).DataTable(n);n=t,this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new o(e?lt(this[i.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),o=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(n===r||n)&&i.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===r||e?t.draw(!1):""===i.sX&&""===i.sY||qe(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),o=i.rows(e),s=o.settings()[0],a=s.aoData[o[0][0]];return o.remove(),t&&t.call(this,s,a),(n===r||n)&&i.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,o,s){var a=this.api(!0);null===t||t===r?a.search(e,n,i,s):a.column(t).search(e,n,i,s),a.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==r){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===r||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(n===r||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return lt(this[i.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,o){var s=this.api(!0);return n===r||null===n?s.row(t).data(e):s.cell(t,n).data(e),(o===r||o)&&s.columns.adjust(),(i===r||i)&&s.draw(),0},this.fnVersionCheck=i.fnVersionCheck;var s=this,a=n===r,c=this.length;for(var h in a&&(n={}),this.oApi=this.internal=i.internal,l.ext.internal)h&&(this[h]=$t(h));return this.each(function(){var t,i=c>1?ut({},n,!0):n,o=0,h=this.getAttribute("id"),u=!1,f=l.defaults,d=e(this);if("table"==this.nodeName.toLowerCase()){M(f),I(f.column),L(f,f,!0),L(f.column,f.column,!0),L(f,e.extend(i,d.data()),!0);var p=l.settings;for(o=0,t=p.length;o<t;o++){var g=p[o];if(g.nTable==this||g.nTHead&&g.nTHead.parentNode==this||g.nTFoot&&g.nTFoot.parentNode==this){var m=i.bRetrieve!==r?i.bRetrieve:f.bRetrieve,v=i.bDestroy!==r?i.bDestroy:f.bDestroy;if(a||m)return g.oInstance;if(v){g.oInstance.fnDestroy();break}return void ct(g,0,"Cannot reinitialise DataTable",3)}if(g.sTableId==this.id){p.splice(o,1);break}}null!==h&&""!==h||(h="DataTables_Table_"+l.ext._unique++,this.id=h);var b=e.extend(!0,{},l.models.oSettings,{sDestroyWidth:d[0].style.width,sInstance:h,sTableId:h});b.nTable=this,b.oApi=s.internal,b.oInit=i,p.push(b),b.oInstance=1===s.length?s:d.dataTable(),M(i),R(i.oLanguage),i.aLengthMenu&&!i.iDisplayLength&&(i.iDisplayLength=Array.isArray(i.aLengthMenu[0])?i.aLengthMenu[0][0]:i.aLengthMenu[0]),i=ut(e.extend(!0,{},f),i),ht(b.oFeatures,i,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ht(b,i,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ht(b.oScroll,i,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ht(b.oLanguage,i,"fnInfoCallback"),dt(b,"aoDrawCallback",i.fnDrawCallback,"user"),dt(b,"aoServerParams",i.fnServerParams,"user"),dt(b,"aoStateSaveParams",i.fnStateSaveParams,"user"),dt(b,"aoStateLoadParams",i.fnStateLoadParams,"user"),dt(b,"aoStateLoaded",i.fnStateLoaded,"user"),dt(b,"aoRowCallback",i.fnRowCallback,"user"),dt(b,"aoRowCreatedCallback",i.fnCreatedRow,"user"),dt(b,"aoHeaderCallback",i.fnHeaderCallback,"user"),dt(b,"aoFooterCallback",i.fnFooterCallback,"user"),dt(b,"aoInitComplete",i.fnInitComplete,"user"),dt(b,"aoPreDrawCallback",i.fnPreDrawCallback,"user"),b.rowIdFn=Q(i.rowId),N(b);var y=b.oClasses;if(e.extend(y,l.ext.classes,i.oClasses),d.addClass(y.sTable),b.iInitDisplayStart===r&&(b.iInitDisplayStart=i.iDisplayStart,b._iDisplayStart=i.iDisplayStart),null!==i.iDeferLoading){b.bDeferLoading=!0;var w=Array.isArray(i.iDeferLoading);b._iRecordsDisplay=w?i.iDeferLoading[0]:i.iDeferLoading,b._iRecordsTotal=w?i.iDeferLoading[1]:i.iDeferLoading}var x=b.oLanguage;e.extend(!0,x,i.oLanguage),x.sUrl?(e.ajax({dataType:"json",url:x.sUrl,success:function(t){L(f.oLanguage,t),R(t),e.extend(!0,x,t,b.oInit.oLanguage),pt(b,null,"i18n",[b]),Ne(b)},error:function(){Ne(b)}}),u=!0):pt(b,null,"i18n",[b]),null===i.asStripeClasses&&(b.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var _=b.asStripeClasses,S=d.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(_,function(e,t){return S.hasClass(e)}))&&(e("tbody tr",this).removeClass(_.join(" ")),b.asDestroyStripes=_.slice());var k,C=[],T=this.getElementsByTagName("thead");if(0!==T.length&&(fe(b.aoHeader,T[0]),C=de(b)),null===i.aoColumns)for(k=[],o=0,t=C.length;o<t;o++)k.push(null);else k=i.aoColumns;for(o=0,t=k.length;o<t;o++)P(b,C?C[o]:null);if(U(b,i.aoColumnDefs,k,function(e,t){O(b,e,t)}),S.length){var A=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(S[0]).children("th, td").each(function(e,t){var n=b.aoColumns[e];if(n.mData===e){var i=A(t,"sort")||A(t,"order"),o=A(t,"filter")||A(t,"search");null===i&&null===o||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:r,type:null!==i?e+".@data-"+i:r,filter:null!==o?e+".@data-"+o:r},O(b,e))}})}var E=b.oFeatures,D=function(){if(i.aaSorting===r){var n=b.aaSorting;for(o=0,t=n.length;o<t;o++)n[o][1]=b.aoColumns[o].asSorting[0]}rt(b),E.bSort&&dt(b,"aoDrawCallback",function(){if(b.bSorted){var t=Qe(b),n={};e.each(t,function(e,t){n[t.src]=t.dir}),pt(b,null,"order",[b,t,n]),et(b)}}),dt(b,"aoDrawCallback",function(){(b.bSorted||"ssp"===vt(b)||E.bDeferRender)&&rt(b)},"sc");var s=d.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),a=d.children("thead");0===a.length&&(a=e("<thead/>").appendTo(d)),b.nTHead=a[0];var l=d.children("tbody");0===l.length&&(l=e("<tbody/>").insertAfter(a)),b.nTBody=l[0];var c=d.children("tfoot");if(0===c.length&&s.length>0&&(""!==b.oScroll.sX||""!==b.oScroll.sY)&&(c=e("<tfoot/>").appendTo(d)),0===c.length||0===c.children().length?d.addClass(y.sNoFooter):c.length>0&&(b.nTFoot=c[0],fe(b.aoFooter,b.nTFoot)),i.aaData)for(o=0;o<i.aaData.length;o++)W(b,i.aaData[o]);else(b.bDeferLoading||"dom"==vt(b))&&$(b,e(b.nTBody).children("tr"));b.aiDisplay=b.aiDisplayMaster.slice(),b.bInitialised=!0,!1===u&&Ne(b)};dt(b,"aoDrawCallback",ot,"state_save"),i.bStateSave?(E.bStateSave=!0,st(b,i,D)):D()}else ct(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),s=null,this},c={},h=/[\r\n\u2028]/g,u=/<.*?>/g,f=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),p=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,g=function(e){return!e||!0===e||"-"===e},m=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},v=function(e,t){return c[t]||(c[t]=new RegExp(Ce(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(c[t],"."):e},b=function(e,t,n){var r="string"==typeof e;return!!g(e)||(t&&r&&(e=v(e,t)),n&&r&&(e=e.replace(p,"")),!isNaN(parseFloat(e))&&isFinite(e))},y=function(e,t,n){return!!g(e)||(function(e){return g(e)||"string"==typeof e}(e)&&!!b(k(e),t,n)||null)},w=function(e,t,n){var i=[],o=0,s=e.length;if(n!==r)for(;o<s;o++)e[o]&&e[o][t]&&i.push(e[o][t][n]);else for(;o<s;o++)e[o]&&i.push(e[o][t]);return i},x=function(e,t,n,i){var o=[],s=0,a=t.length;if(i!==r)for(;s<a;s++)e[t[s]][n]&&o.push(e[t[s]][n][i]);else for(;s<a;s++)o.push(e[t[s]][n]);return o},_=function(e,t){var n,i=[];t===r?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)i.push(o);return i},S=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},k=function(e){return e.replace(u,"")},C=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],r=1,i=t.length;r<i;r++){if(t[r]===n)return!1;n=t[r]}return!0}(e))return e.slice();var t,n,r,i=[],o=e.length,s=0;e:for(n=0;n<o;n++){for(t=e[n],r=0;r<s;r++)if(i[r]===t)continue e;i.push(t),s++}return i},T=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)T(e,t[n]);else e.push(t);return e},A=function(e,t){return t===r&&(t=0),-1!==this.indexOf(e,t)};function E(t){var n,r,i={};e.each(t,function(e,o){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=e.replace(n[0],n[2].toLowerCase()),i[r]=e,"o"===n[1]&&E(t[e]))}),t._hungarianMap=i}function L(t,n,i){var o;t._hungarianMap||E(t),e.each(n,function(s,a){(o=t._hungarianMap[s])===r||!i&&n[o]!==r||("o"===o.charAt(0)?(n[o]||(n[o]={}),e.extend(!0,n[o],n[s]),L(t[o],n[o],i)):n[o]=n[s])})}function R(e){var t=l.defaults.oLanguage,n=t.sDecimal;if(n&&Pt(n),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&"No data available in table"===t.sEmptyTable&&ht(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&r&&"Loading..."===t.sLoadingRecords&&ht(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&n!==i&&Pt(i)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=A),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=A),l.util={throttle:function(e,t){var n,i,o=t!==r?t:200;return function(){var t=this,s=+new Date,a=arguments;n&&s<n+o?(clearTimeout(i),i=setTimeout(function(){n=r,e.apply(t,a)},o)):(n=s,e.apply(t,a))}},escapeRegex:function(e){return e.replace(d,"\\$1")},set:function(t){if(e.isPlainObject(t))return l.util.set(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,r){t(e,"set",n,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,i){for(var o,s,a,l,c,h=K(i),u=h[h.length-1],f=0,d=h.length-1;f<d;f++){if("__proto__"===h[f]||"constructor"===h[f])throw new Error("Cannot set prototype values");if(s=h[f].match(X),a=h[f].match(Y),s){if(h[f]=h[f].replace(X,""),e[h[f]]=[],(o=h.slice()).splice(0,f+1),c=o.join("."),Array.isArray(t))for(var p=0,g=t.length;p<g;p++)n(l={},t[p],c),e[h[f]].push(l);else e[h[f]]=t;return}a&&(h[f]=h[f].replace(Y,""),e=e[h[f]](t)),null!==e[h[f]]&&e[h[f]]!==r||(e[h[f]]={}),e=e[h[f]]}u.match(Y)?e=e[u.replace(Y,"")](t):e[u.replace(X,"")]=t};return function(e,r){return n(e,r,t)}},get:function(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=l.util.get(t))}),function(e,t,i,o){var s=n[t]||n._;return s!==r?s(e,t,i,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,r,i){return t(e,n,r,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var i=function(e,t,n){var o,s,a,l;if(""!==n)for(var c=K(n),h=0,u=c.length;h<u;h++){if(o=c[h].match(X),s=c[h].match(Y),o){if(c[h]=c[h].replace(X,""),""!==c[h]&&(e=e[c[h]]),a=[],c.splice(0,h+1),l=c.join("."),Array.isArray(e))for(var f=0,d=e.length;f<d;f++)a.push(i(e[f],t,l));var p=o[0].substring(1,o[0].length-1);e=""===p?a:a.join(p);break}if(s)c[h]=c[h].replace(Y,""),e=e[c[h]]();else{if(null===e||e[c[h]]===r)return r;e=e[c[h]]}}return e};return function(e,n){return i(e,n,t)}}};var D=function(e,t,n){e[t]!==r&&(e[n]=e[t])};function M(e){D(e,"ordering","bSort"),D(e,"orderMulti","bSortMulti"),D(e,"orderClasses","bSortClasses"),D(e,"orderCellsTop","bSortCellsTop"),D(e,"order","aaSorting"),D(e,"orderFixed","aaSortingFixed"),D(e,"paging","bPaginate"),D(e,"pagingType","sPaginationType"),D(e,"pageLength","iDisplayLength"),D(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&L(l.models.oSearch,t[n])}function I(e){D(e,"orderable","bSortable"),D(e,"orderData","aDataSort"),D(e,"orderSequence","asSorting"),D(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||Array.isArray(t)||(e.aDataSort=[t])}function N(n){if(!l.__browser){var r={};l.__browser=r;var i=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=i.children(),s=o.children();r.barWidth=o[0].offsetWidth-o[0].clientWidth,r.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,r.bScrollbarLeft=1!==Math.round(s.offset().left),r.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}e.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function F(e,t,n,i,o,s){var a,l=i,c=!1;for(n!==r&&(a=n,c=!0);l!==o;)e.hasOwnProperty(l)&&(a=c?t(a,e[l],l,e):e[l],c=!0,l+=s);return a}function P(t,r){var i=l.defaults.column,o=t.aoColumns.length,s=e.extend({},l.models.oColumn,i,{nTh:r||n.createElement("th"),sTitle:i.sTitle?i.sTitle:r?r.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[o],mData:i.mData?i.mData:o,idx:o});t.aoColumns.push(s);var a=t.aoPreSearchCols;a[o]=e.extend({},l.models.oSearch,a[o]),O(t,o,e(r).data())}function O(t,n,i){var o=t.aoColumns[n],s=t.oClasses,a=e(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(o.sWidthOrig=c[1])}if(i!==r&&null!==i){I(i),L(l.defaults.column,i,!0),i.mDataProp===r||i.mData||(i.mData=i.mDataProp),i.sType&&(o._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&a.addClass(i.sClass);var h=o.sClass;e.extend(o,i),ht(o,i,"sWidth","sWidthOrig"),h!==o.sClass&&(o.sClass=h+" "+o.sClass),i.iDataSort!==r&&(o.aDataSort=[i.iDataSort]),ht(o,i,"aDataSort")}var u=o.mData,f=Q(u),d=o.mRender?Q(o.mRender):null,p=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=e.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),o._setter=null,o.fnGetData=function(e,t,n){var i=f(e,t,r,n);return d&&t?d(i,t,e,n):i},o.fnSetData=function(e,t,n){return J(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(o.bSortable=!1,a.addClass(s.sSortableNone));var g=-1!==e.inArray("asc",o.asSorting),m=-1!==e.inArray("desc",o.asSorting);o.bSortable&&(g||m)?g&&!m?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&m?(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortable,o.sSortingClassJUI=s.sSortJUI):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function B(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;$e(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var i=e.oScroll;""===i.sY&&""===i.sX||qe(e),pt(e,null,"column-sizing",[e])}function H(e,t){var n=V(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function j(t,n){var r=V(t,"bVisible"),i=e.inArray(n,r);return-1!==i?i:null}function z(t){var n=0;return e.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==e(r.nTh).css("display")&&n++}),n}function V(t,n){var r=[];return e.map(t.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function q(e){var t,n,i,o,s,a,c,h,u,f=e.aoColumns,d=e.aoData,p=l.ext.type.detect;for(t=0,n=f.length;t<n;t++)if(u=[],!(c=f[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(i=0,o=p.length;i<o;i++){for(s=0,a=d.length;s<a&&(u[s]===r&&(u[s]=G(e,s,t,"type")),(h=p[i](u[s],e))||i===p.length-1)&&("html"!==h||g(u[s]));s++);if(h){c.sType=h;break}}c.sType||(c.sType="string")}}function U(t,n,i,o){var s,a,l,c,h,u,f,d=t.aoColumns;if(n)for(s=n.length-1;s>=0;s--){var p=(f=n[s]).target!==r?f.target:f.targets!==r?f.targets:f.aTargets;for(Array.isArray(p)||(p=[p]),l=0,c=p.length;l<c;l++)if("number"==typeof p[l]&&p[l]>=0){for(;d.length<=p[l];)P(t);o(p[l],f)}else if("number"==typeof p[l]&&p[l]<0)o(d.length+p[l],f);else if("string"==typeof p[l])for(h=0,u=d.length;h<u;h++)("_all"==p[l]||e(d[h].nTh).hasClass(p[l]))&&o(h,f)}if(i)for(s=0,a=i.length;s<a;s++)o(s,i[s])}function W(t,n,i,o){var s=t.aoData.length,a=e.extend(!0,{},l.models.oRow,{src:i?"dom":"data",idx:s});a._aData=n,t.aoData.push(a);for(var c=t.aoColumns,h=0,u=c.length;h<u;h++)c[h].sType=null;t.aiDisplayMaster.push(s);var f=t.rowIdFn(n);return f!==r&&(t.aIds[f]=a),!i&&t.oFeatures.bDeferRender||oe(t,s,i,o),s}function $(t,n){var r;return n instanceof e||(n=e(n)),n.map(function(e,n){return r=ie(t,n),W(t,r.data,n,r.cells)})}function G(e,t,n,i){"search"===i?i="filter":"order"===i&&(i="sort");var o=e.iDraw,s=e.aoColumns[n],a=e.aoData[t]._aData,c=s.sDefaultContent,h=s.fnGetData(a,i,{settings:e,row:t,col:n});if(h===r)return e.iDrawError!=o&&null===c&&(ct(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),c;if(h!==a&&null!==h||null===c||i===r){if("function"==typeof h)return h.call(a)}else h=c;if(null===h&&"display"===i)return"";if("filter"===i){var u=l.ext.type.search;u[s.sType]&&(h=u[s.sType](h))}return h}function Z(e,t,n,r){var i=e.aoColumns[n],o=e.aoData[t]._aData;i.fnSetData(o,r,{settings:e,row:t,col:n})}var X=/\[.*?\]$/,Y=/\(\)$/;function K(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}var Q=l.util.get,J=l.util.set;function ee(e){return w(e.aoData,"_aData")}function te(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ne(e,t,n){for(var i=-1,o=0,s=e.length;o<s;o++)e[o]==t?i=o:e[o]>t&&e[o]--;-1!=i&&n===r&&e.splice(i,1)}function re(e,t,n,i){var o,s,a=e.aoData[t],l=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=G(e,t,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var c=a.anCells;if(c)if(i!==r)l(c[i],i);else for(o=0,s=c.length;o<s;o++)l(c[o],o)}else a._aData=ie(e,a,i,i===r?r:a._aData).data;a._aSortData=null,a._aFilterData=null;var h=e.aoColumns;if(i!==r)h[i].sType=null;else{for(o=0,s=h.length;o<s;o++)h[o].sType=null;se(e,a)}}function ie(e,t,n,i){var o,s,a,l=[],c=t.firstChild,h=0,u=e.aoColumns,f=e._rowReadObject;i=i!==r?i:f?{}:[];var d=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var r=e.substring(n+1);J(e)(i,t.getAttribute(r))}}},p=function(e){n!==r&&n!==h||(s=u[h],a=e.innerHTML.trim(),s&&s._bAttrSrc?(J(s.mData._)(i,a),d(s.mData.sort,e),d(s.mData.type,e),d(s.mData.filter,e)):f?(s._setter||(s._setter=J(s.mData)),s._setter(i,a)):i[h]=a);h++};if(c)for(;c;)"TD"!=(o=c.nodeName.toUpperCase())&&"TH"!=o||(p(c),l.push(c)),c=c.nextSibling;else for(var g=0,m=(l=t.anCells).length;g<m;g++)p(l[g]);var v=t.firstChild?t:t.nTr;if(v){var b=v.getAttribute("id");b&&J(e.rowId)(i,b)}return{data:i,cells:l}}function oe(t,r,i,o){var s,a,l,c,h,u,f=t.aoData[r],d=f._aData,p=[];if(null===f.nTr){for(s=i||n.createElement("tr"),f.nTr=s,f.anCells=p,s._DT_RowIndex=r,se(t,f),c=0,h=t.aoColumns.length;c<h;c++)l=t.aoColumns[c],(a=(u=!i)?n.createElement(l.sCellType):o[c])._DT_CellIndex={row:r,column:c},p.push(a),!u&&(!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display")||(a.innerHTML=G(t,r,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!i?s.appendChild(a):!l.bVisible&&i&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,a,G(t,r,c),d,r,c);pt(t,"aoRowCreatedCallback",null,[s,d,r,p])}}function se(t,n){var r=n.nTr,i=n._aData;if(r){var o=t.rowIdFn(i);if(o&&(r.id=o),i.DT_RowClass){var s=i.DT_RowClass.split(" ");n.__rowc=n.__rowc?C(n.__rowc.concat(s)):s,e(r).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&e(r).attr(i.DT_RowAttr),i.DT_RowData&&e(r).data(i.DT_RowData)}}function ae(t){var n,r,i,o,s,a=t.nTHead,l=t.nTFoot,c=0===e("th, td",a).length,h=t.oClasses,u=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(a)),n=0,r=u.length;n<r;n++)s=u[n],i=e(s.nTh).addClass(s.sClass),c&&i.appendTo(o),t.oFeatures.bSort&&(i.addClass(s.sSortingClass),!1!==s.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),nt(t,s.nTh,n))),s.sTitle!=i[0].innerHTML&&i.html(s.sTitle),mt(t,"header")(t,i,s,h);if(c&&fe(t.aoHeader,a),e(a).children("tr").children("th, td").addClass(h.sHeaderTH),e(l).children("tr").children("th, td").addClass(h.sFooterTH),null!==l){var f=t.aoFooter[0];for(n=0,r=f.length;n<r;n++)(s=u[n]).nTf=f[n].cell,s.sClass&&e(s.nTf).addClass(s.sClass)}}function le(t,n,i){var o,s,a,l,c,h,u,f,d,p=[],g=[],m=t.aoColumns.length;if(n){for(i===r&&(i=!1),o=0,s=n.length;o<s;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,a=m-1;a>=0;a--)t.aoColumns[a].bVisible||i||p[o].splice(a,1);g.push([])}for(o=0,s=p.length;o<s;o++){if(u=p[o].nTr)for(;h=u.firstChild;)u.removeChild(h);for(a=0,l=p[o].length;a<l;a++)if(f=1,d=1,g[o][a]===r){for(u.appendChild(p[o][a].cell),g[o][a]=1;p[o+f]!==r&&p[o][a].cell==p[o+f][a].cell;)g[o+f][a]=1,f++;for(;p[o][a+d]!==r&&p[o][a].cell==p[o][a+d].cell;){for(c=0;c<f;c++)g[o+c][a+d]=1;d++}e(p[o][a].cell).attr("rowspan",f).attr("colspan",d)}}}}function ce(t,n){!function(e){var t="ssp"==vt(e),n=e.iInitDisplayStart;n!==r&&-1!==n&&(e._iDisplayStart=t?n:n>=e.fnRecordsDisplay()?0:n,e.iInitDisplayStart=-1)}(t);var i=pt(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,i)){var o=[],s=0,a=t.asStripeClasses,l=a.length,c=t.oLanguage,h="ssp"==vt(t),u=t.aiDisplay,f=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDrawing=!0,t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ze(t,!1);else if(h){if(!t.bDestroying&&!n)return void ge(t)}else t.iDraw++;if(0!==u.length)for(var p=h?0:f,g=h?t.aoData.length:d,m=p;m<g;m++){var v=u[m],b=t.aoData[v];null===b.nTr&&oe(t,v);var y=b.nTr;if(0!==l){var w=a[s%l];b._sRowStripe!=w&&(e(y).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}pt(t,"aoRowCallback",null,[y,b._aData,s,m,v]),o.push(y),s++}else{var x=c.sZeroRecords;1==t.iDraw&&"ajax"==vt(t)?x=c.sLoadingRecords:c.sEmptyTable&&0===t.fnRecordsTotal()&&(x=c.sEmptyTable),o[0]=e("<tr/>",{class:l?a[0]:""}).append(e("<td />",{valign:"top",colSpan:z(t),class:t.oClasses.sRowEmpty}).html(x))[0]}pt(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],ee(t),f,d,u]),pt(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],ee(t),f,d,u]);var _=e(t.nTBody);_.children().detach(),_.append(e(o)),pt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else ze(t,!1)}function he(e,t){var n=e.oFeatures,r=n.bSort,i=n.bFilter;r&&Je(e),i?we(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,ce(e),e._drawHold=!1}function ue(t){var n=t.oClasses,r=e(t.nTable),i=e("<div/>").insertBefore(r),o=t.oFeatures,s=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,c,h,u,f,d,p=t.sDom.split(""),g=0;g<p.length;g++){if(a=null,"<"==(c=p[g])){if(h=e("<div/>")[0],"'"==(u=p[g+1])||'"'==u){for(f="",d=2;p[g+d]!=u;)f+=p[g+d],d++;if("H"==f?f=n.sJUIHeader:"F"==f&&(f=n.sJUIFooter),-1!=f.indexOf(".")){var m=f.split(".");h.id=m[0].substr(1,m[0].length-1),h.className=m[1]}else"#"==f.charAt(0)?h.id=f.substr(1,f.length-1):h.className=f;g+=d}s.append(h),s=e(h)}else if(">"==c)s=s.parent();else if("l"==c&&o.bPaginate&&o.bLengthChange)a=Oe(t);else if("f"==c&&o.bFilter)a=ye(t);else if("r"==c&&o.bProcessing)a=je(t);else if("t"==c)a=Ve(t);else if("i"==c&&o.bInfo)a=De(t);else if("p"==c&&o.bPaginate)a=Be(t);else if(0!==l.ext.feature.length)for(var v=l.ext.feature,b=0,y=v.length;b<y;b++)if(c==v[b].cFeature){a=v[b].fnInit(t);break}if(a){var w=t.aanFeatures;w[c]||(w[c]=[]),w[c].push(a),s.append(a)}}i.replaceWith(s),t.nHolding=null}function fe(t,n){var r,i,o,s,a,l,c,h,u,f,d=e(n).children("tr"),p=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(t.splice(0,t.length),o=0,l=d.length;o<l;o++)t.push([]);for(o=0,l=d.length;o<l;o++)for(0,i=(r=d[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(h=(h=1*i.getAttribute("colspan"))&&0!==h&&1!==h?h:1,u=(u=1*i.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,c=p(t,o,0),f=1===h,a=0;a<h;a++)for(s=0;s<u;s++)t[o+s][c+a]={cell:i,unique:f},t[o+s].nTr=r;i=i.nextSibling}}function de(e,t,n){var r=[];n||(n=e.aoHeader,t&&fe(n=[],t));for(var i=0,o=n.length;i<o;i++)for(var s=0,a=n[i].length;s<a;s++)!n[i][s].unique||r[s]&&e.bSortCellsTop||(r[s]=n[i][s].cell);return r}function pe(t,n,r){if(pt(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var i={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);if(n){var r=n[0];i[r]||(i[r]=[]),i[r].push(t.value)}else i[t.name]=t.value}),n=i}var s,a=t.ajax,l=t.oInstance,c=function(e){var n=t.jqXHR?t.jqXHR.status:null;(null===e||"number"==typeof n&&204==n)&&be(t,e={},[]);var i=e.error||e.sError;i&&ct(t,0,i),t.json=e,pt(t,null,"xhr",[t,e,t.jqXHR]),r(e)};if(e.isPlainObject(a)&&a.data){var h="function"==typeof(s=a.data)?s(n,t):s;n="function"==typeof s&&h?h:e.extend(!0,n,h),delete a.data}var u={data:n,success:c,dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,r,i){var o=pt(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==r?ct(t,0,"Invalid JSON response",1):4===n.readyState&&ct(t,0,"Ajax error",7)),ze(t,!1)}};t.oAjaxData=n,pt(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(u,{url:a||t.sAjaxSource})):"function"==typeof a?t.jqXHR=a.call(l,n,c,t):(t.jqXHR=e.ajax(e.extend(u,a)),a.data=s)}function ge(e){e.iDraw++,ze(e,!0),pe(e,me(e),function(t){ve(e,t)})}function me(t){var n,r,i,o,s=t.aoColumns,a=s.length,c=t.oFeatures,h=t.oPreviousSearch,u=t.aoPreSearchCols,f=[],d=Qe(t),p=t._iDisplayStart,g=!1!==c.bPaginate?t._iDisplayLength:-1,m=function(e,t){f.push({name:e,value:t})};m("sEcho",t.iDraw),m("iColumns",a),m("sColumns",w(s,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",g);var v={draw:t.iDraw,columns:[],order:[],start:p,length:g,search:{value:h.sSearch,regex:h.bRegex}};for(n=0;n<a;n++)i=s[n],o=u[n],r="function"==typeof i.mData?"function":i.mData,v.columns.push({data:r,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),m("mDataProp_"+n,r),c.bFilter&&(m("sSearch_"+n,o.sSearch),m("bRegex_"+n,o.bRegex),m("bSearchable_"+n,i.bSearchable)),c.bSort&&m("bSortable_"+n,i.bSortable);c.bFilter&&(m("sSearch",h.sSearch),m("bRegex",h.bRegex)),c.bSort&&(e.each(d,function(e,t){v.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",d.length));var b=l.ext.legacy.ajax;return null===b?t.sAjaxSource?f:v:b?f:v}function ve(e,t){var n=function(e,n){return t[e]!==r?t[e]:t[n]},i=be(e,t),o=n("sEcho","draw"),s=n("iTotalRecords","recordsTotal"),a=n("iTotalDisplayRecords","recordsFiltered");if(o!==r){if(1*o<e.iDraw)return;e.iDraw=1*o}i||(i=[]),te(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(a,10);for(var l=0,c=i.length;l<c;l++)W(e,i[l]);e.aiDisplay=e.aiDisplayMaster.slice(),ce(e,!0),e._bInitComplete||Fe(e,t),ze(e,!1)}function be(t,n,i){var o=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;if(!i)return"data"===o?n.aaData||n[o]:""!==o?Q(o)(n):n;J(o)(n,i)}function ye(t){var r=t.oClasses,i=t.sTableId,o=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+r.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var h=e("<div/>",{id:a.f?null:i+"_filter",class:r.sFilter}).append(e("<label/>").append(c)),u=function(e){a.f;var n=this.value?this.value:"";s.return&&"Enter"!==e.key||n!=s.sSearch&&(we(t,{sSearch:n,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive,return:s.return}),t._iDisplayStart=0,ce(t))},f=null!==t.searchDelay?t.searchDelay:"ssp"===vt(t)?400:0,d=e("input",h).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",f?Ge(u,f):u).on("mouseup",function(e){setTimeout(function(){u.call(d[0],e)},10)}).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i);return e(t.nTable).on("search.dt.DT",function(e,r){if(t===r)try{d[0]!==n.activeElement&&d.val(s.sSearch)}catch(e){}}),h[0]}function we(e,t,n){var i=e.oPreviousSearch,o=e.aoPreSearchCols,s=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive,i.return=e.return},a=function(e){return e.bEscapeRegex!==r?!e.bEscapeRegex:e.bRegex};if(q(e),"ssp"!=vt(e)){Se(e,t.sSearch,n,a(t),t.bSmart,t.bCaseInsensitive,t.return),s(t);for(var l=0;l<o.length;l++)_e(e,o[l].sSearch,l,a(o[l]),o[l].bSmart,o[l].bCaseInsensitive);xe(e)}else s(t);e.bFiltered=!0,pt(e,null,"search",[e])}function xe(t){for(var n,r,i=l.ext.search,o=t.aiDisplay,s=0,a=i.length;s<a;s++){for(var c=[],h=0,u=o.length;h<u;h++)r=o[h],n=t.aoData[r],i[s](t,n._aFilterData,r,n._aData,h)&&c.push(r);o.length=0,e.merge(o,c)}}function _e(e,t,n,r,i,o){if(""!==t){for(var s,a=[],l=e.aiDisplay,c=ke(t,r,i,o),h=0;h<l.length;h++)s=e.aoData[l[h]]._aFilterData[n],c.test(s)&&a.push(l[h]);e.aiDisplay=a}}function Se(e,t,n,r,i,o){var s,a,c,h=ke(t,r,i,o),u=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,d=[];if(0!==l.ext.search.length&&(n=!0),a=Ee(e),t.length<=0)e.aiDisplay=f.slice();else{for((a||n||r||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=f.slice()),s=e.aiDisplay,c=0;c<s.length;c++)h.test(e.aoData[s[c]]._sFilterRow)&&d.push(s[c]);e.aiDisplay=d}}function ke(t,n,r,i){if(t=n?t:Ce(t),r){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,i?"i":"")}var Ce=l.util.escapeRegex,Te=e("<div>")[0],Ae=Te.textContent!==r;function Ee(e){var t,n,r,i,o,s,a,l=e.aoColumns,c=!1;for(t=0,r=e.aoData.length;t<r;t++)if(!(a=e.aoData[t])._aFilterData){for(o=[],n=0,i=l.length;n<i;n++)l[n].bSearchable?(null===(s=G(e,t,n,"filter"))&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Te.innerHTML=s,s=Ae?Te.textContent:Te.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),o.push(s);a._aFilterData=o,a._sFilterRow=o.join("  "),c=!0}return c}function Le(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Re(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function De(t){var n=t.sTableId,r=t.aanFeatures.i,i=e("<div/>",{class:t.oClasses.sInfo,id:r?null:n+"_info"});return r||(t.aoDrawCallback.push({fn:Me,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),i[0]}function Me(t){var n=t.aanFeatures.i;if(0!==n.length){var r=t.oLanguage,i=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?r.sInfo:r.sInfoEmpty;a!==s&&(l+=" "+r.sInfoFiltered),l=Ie(t,l+=r.sInfoPostFix);var c=r.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,i,o,s,a,l)),e(n).html(l)}}function Ie(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,i=e._iDisplayLength,o=e.fnRecordsDisplay(),s=-1===i;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(o/i)))}function Ne(e){var t,n,r,i=e.iInitDisplayStart,o=e.aoColumns,s=e.oFeatures,a=e.bDeferLoading;if(e.bInitialised){for(ue(e),ae(e),le(e,e.aoHeader),le(e,e.aoFooter),ze(e,!0),s.bAutoWidth&&$e(e),t=0,n=o.length;t<n;t++)(r=o[t]).sWidth&&(r.nTh.style.width=Ke(r.sWidth));pt(e,null,"preInit",[e]),he(e);var l=vt(e);("ssp"!=l||a)&&("ajax"==l?pe(e,[],function(n){var r=be(e,n);for(t=0;t<r.length;t++)W(e,r[t]);e.iInitDisplayStart=i,he(e),ze(e,!1),Fe(e,n)}):(ze(e,!1),Fe(e)))}else setTimeout(function(){Ne(e)},200)}function Fe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&B(e),pt(e,null,"plugin-init",[e,t]),pt(e,"aoInitComplete","init",[e,t])}function Pe(e,t){var n=parseInt(t,10);e._iDisplayLength=n,gt(e),pt(e,null,"length",[e,n])}function Oe(t){for(var n=t.oClasses,r=t.sTableId,i=t.aLengthMenu,o=Array.isArray(i[0]),s=o?i[0]:i,a=o?i[1]:i,l=e("<select/>",{name:r+"_length","aria-controls":r,class:n.sLengthSelect}),c=0,h=s.length;c<h;c++)l[0][c]=new Option("number"==typeof a[c]?t.fnFormatNumber(a[c]):a[c],s[c]);var u=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(u[0].id=r+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",function(n){Pe(t,e(this).val()),ce(t)}),e(t.nTable).on("length.dt.DT",function(n,r,i){t===r&&e("select",u).val(i)}),u[0]}function Be(t){var n=t.sPaginationType,r=l.ext.pager[n],i="function"==typeof r,o=function(e){ce(e)},s=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;return i||r.fnInit(t,s,o),a.p||(s.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(i){var t,n,s=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),h=-1===l,u=h?0:Math.ceil(s/l),f=h?1:Math.ceil(c/l),d=r(u,f);for(t=0,n=a.p.length;t<n;t++)mt(e,"pageButton")(e,a.p[t],t,d,u,f)}else r.fnUpdate(e,o)},sName:"pagination"})),s}function He(e,t,n){var r=e._iDisplayStart,i=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===i?r=0:"number"==typeof t?(r=t*i)>o&&(r=0):"first"==t?r=0:"previous"==t?(r=i>=0?r-i:0)<0&&(r=0):"next"==t?r+i<o&&(r+=i):"last"==t?r=Math.floor((o-1)/i)*i:ct(e,0,"Unknown paging action: "+t,5);var s=e._iDisplayStart!==r;return e._iDisplayStart=r,s&&(pt(e,null,"page",[e]),n&&ce(e)),s}function je(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(t.nTable)[0]}function ze(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),pt(t,null,"processing",[t,n])}function Ve(t){var n=e(t.nTable),r=t.oScroll;if(""===r.sX&&""===r.sY)return t.nTable;var i=r.sX,o=r.sY,s=t.oClasses,a=n.children("caption"),l=a.length?a[0]._captionSide:null,c=e(n[0].cloneNode(!1)),h=e(n[0].cloneNode(!1)),u=n.children("tfoot"),f="<div/>",d=function(e){return e?Ke(e):null};u.length||(u=null);var p=e(f,{class:s.sScrollWrapper}).append(e(f,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?d(i):"100%"}).append(e(f,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(n.children("thead"))))).append(e(f,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:d(i)}).append(n));u&&p.append(e(f,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:i?d(i):"100%"}).append(e(f,{class:s.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(n.children("tfoot")))));var g=p.children(),m=g[0],v=g[1],b=u?g[2]:null;return i&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t,u&&(b.scrollLeft=t)}),e(v).css("max-height",o),r.bCollapse||e(v).css("height",o),t.nScrollHead=m,t.nScrollBody=v,t.nScrollFoot=b,t.aoDrawCallback.push({fn:qe,sName:"scrolling"}),p[0]}function qe(n){var i,o,s,a,l,c,h,u,f,d=n.oScroll,p=d.sX,g=d.sXInner,m=d.sY,v=d.iBarWidth,b=e(n.nScrollHead),y=b[0].style,x=b.children("div"),_=x[0].style,S=x.children("table"),k=n.nScrollBody,C=e(k),T=k.style,A=e(n.nScrollFoot).children("div"),E=A.children("table"),L=e(n.nTHead),R=e(n.nTable),D=R[0],M=D.style,I=n.nTFoot?e(n.nTFoot):null,N=n.oBrowser,F=N.bScrollOversize,P=(w(n.aoColumns,"nTh"),[]),O=[],j=[],z=[],V=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},q=k.scrollHeight>k.clientHeight;if(n.scrollBarVis!==q&&n.scrollBarVis!==r)return n.scrollBarVis=q,void B(n);n.scrollBarVis=q,R.children("thead, tfoot").remove(),I&&(c=I.clone().prependTo(R),o=I.find("tr"),a=c.find("tr"),c.find("[id]").removeAttr("id")),l=L.clone().prependTo(R),i=L.find("tr"),s=l.find("tr"),l.find("th, td").removeAttr("tabindex"),l.find("[id]").removeAttr("id"),p||(T.width="100%",b[0].style.width="100%"),e.each(de(n,l),function(e,t){h=H(n,e),t.style.width=n.aoColumns[h].sWidth}),I&&Ue(function(e){e.style.width=""},a),f=R.outerWidth(),""===p?(M.width="100%",F&&(R.find("tbody").height()>k.offsetHeight||"scroll"==C.css("overflow-y"))&&(M.width=Ke(R.outerWidth()-v)),f=R.outerWidth()):""!==g&&(M.width=Ke(g),f=R.outerWidth()),Ue(V,s),Ue(function(n){var r=t.getComputedStyle?t.getComputedStyle(n).width:Ke(e(n).width());j.push(n.innerHTML),P.push(r)},s),Ue(function(e,t){e.style.width=P[t]},i),e(s).css("height",0),I&&(Ue(V,a),Ue(function(t){z.push(t.innerHTML),O.push(Ke(e(t).css("width")))},a),Ue(function(e,t){e.style.width=O[t]},o),e(a).height(0)),Ue(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+j[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=P[t]},s),I&&Ue(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+z[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=O[t]},a),Math.round(R.outerWidth())<Math.round(f)?(u=k.scrollHeight>k.offsetHeight||"scroll"==C.css("overflow-y")?f+v:f,F&&(k.scrollHeight>k.offsetHeight||"scroll"==C.css("overflow-y"))&&(M.width=Ke(u-v)),""!==p&&""===g||ct(n,1,"Possible column misalignment",6)):u="100%",T.width=Ke(u),y.width=Ke(u),I&&(n.nScrollFoot.style.width=Ke(u)),m||F&&(T.height=Ke(D.offsetHeight+v));var U=R.outerWidth();S[0].style.width=Ke(U),_.width=Ke(U);var W=R.height()>k.clientHeight||"scroll"==C.css("overflow-y"),$="padding"+(N.bScrollbarLeft?"Left":"Right");_[$]=W?v+"px":"0px",I&&(E[0].style.width=Ke(U),A[0].style.width=Ke(U),A[0].style[$]=W?v+"px":"0px"),R.children("colgroup").insertBefore(R.children("thead")),C.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(k.scrollTop=0)}function Ue(e,t,n){for(var r,i,o=0,s=0,a=t.length;s<a;){for(r=t[s].firstChild,i=n?n[s].firstChild:null;r;)1===r.nodeType&&(n?e(r,i,o):e(r,o),o++),r=r.nextSibling,i=n?i.nextSibling:null;s++}}var We=/<.*?>/g;function $e(n){var r,i,o,s=n.nTable,a=n.aoColumns,l=n.oScroll,c=l.sY,h=l.sX,u=l.sXInner,f=a.length,d=V(n,"bVisible"),p=e("th",n.nTHead),g=s.getAttribute("width"),m=s.parentNode,v=!1,b=n.oBrowser,y=b.bScrollOversize,w=s.style.width;for(w&&-1!==w.indexOf("%")&&(g=w),r=0;r<d.length;r++)null!==(i=a[d[r]]).sWidth&&(i.sWidth=Ze(i.sWidthOrig,m),v=!0);if(y||!v&&!h&&!c&&f==z(n)&&f==p.length)for(r=0;r<f;r++){var x=H(n,r);null!==x&&(a[x].sWidth=Ke(p.eq(r).width()))}else{var _=e(s).clone().css("visibility","hidden").removeAttr("id");_.find("tbody tr").remove();var S=e("<tr/>").appendTo(_.find("tbody"));for(_.find("thead, tfoot").remove(),_.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),_.find("tfoot th, tfoot td").css("width",""),p=de(n,_.find("thead")[0]),r=0;r<d.length;r++)i=a[d[r]],p[r].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?Ke(i.sWidthOrig):"",i.sWidthOrig&&h&&e(p[r]).append(e("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(r=0;r<d.length;r++)i=a[o=d[r]],e(Xe(n,o)).clone(!1).append(i.sContentPadding).appendTo(S);e("[name]",_).removeAttr("name");var k=e("<div/>").css(h||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(_).appendTo(m);h&&u?_.width(u):h?(_.css("width","auto"),_.removeAttr("width"),_.width()<m.clientWidth&&g&&_.width(m.clientWidth)):c?_.width(m.clientWidth):g&&_.width(g);var C=0;for(r=0;r<d.length;r++){var T=e(p[r]),A=T.outerWidth()-T.width(),E=b.bBounding?Math.ceil(p[r].getBoundingClientRect().width):T.outerWidth();C+=E,a[d[r]].sWidth=Ke(E-A)}s.style.width=Ke(C),k.remove()}if(g&&(s.style.width=Ke(g)),(g||h)&&!n._reszEvt){var L=function(){e(t).on("resize.DT-"+n.sInstance,Ge(function(){B(n)}))};y?setTimeout(L,1e3):L(),n._reszEvt=!0}}var Ge=l.util.throttle;function Ze(t,r){if(!t)return 0;var i=e("<div/>").css("width",Ke(t)).appendTo(r||n.body),o=i[0].offsetWidth;return i.remove(),o}function Xe(t,n){var r=Ye(t,n);if(r<0)return null;var i=t.aoData[r];return i.nTr?i.anCells[n]:e("<td/>").html(G(t,r,n,"display"))[0]}function Ye(e,t){for(var n,r=-1,i=-1,o=0,s=e.aoData.length;o<s;o++)(n=(n=(n=G(e,o,t,"display")+"").replace(We,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,i=o);return i}function Ke(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Qe(t){var n,i,o,s,a,c,h,u=[],f=t.aoColumns,d=t.aaSortingFixed,p=e.isPlainObject(d),g=[],m=function(t){t.length&&!Array.isArray(t[0])?g.push(t):e.merge(g,t)};for(Array.isArray(d)&&m(d),p&&d.pre&&m(d.pre),m(t.aaSorting),p&&d.post&&m(d.post),n=0;n<g.length;n++)for(i=0,o=(s=f[h=g[n][0]].aDataSort).length;i<o;i++)c=f[a=s[i]].sType||"string",g[n]._idx===r&&(g[n]._idx=e.inArray(g[n][1],f[a].asSorting)),u.push({src:h,col:a,dir:g[n][1],index:g[n]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return u}function Je(e){var t,n,r,i,o,s=[],a=l.ext.type.order,c=e.aoData,h=(e.aoColumns,0),u=e.aiDisplayMaster;for(q(e),t=0,n=(o=Qe(e)).length;t<n;t++)(i=o[t]).formatter&&h++,it(e,i.col);if("ssp"!=vt(e)&&0!==o.length){for(t=0,r=u.length;t<r;t++)s[u[t]]=t;h===o.length?u.sort(function(e,t){var n,r,i,a,l,h=o.length,u=c[e]._aSortData,f=c[t]._aSortData;for(i=0;i<h;i++)if(0!==(a=(n=u[(l=o[i]).col])<(r=f[l.col])?-1:n>r?1:0))return"asc"===l.dir?a:-a;return(n=s[e])<(r=s[t])?-1:n>r?1:0}):u.sort(function(e,t){var n,r,i,l,h,u=o.length,f=c[e]._aSortData,d=c[t]._aSortData;for(i=0;i<u;i++)if(n=f[(h=o[i]).col],r=d[h.col],0!==(l=(a[h.type+"-"+h.dir]||a["string-"+h.dir])(n,r)))return l;return(n=s[e])<(r=s[t])?-1:n>r?1:0})}e.bSorted=!0}function et(e){for(var t,n,r=e.aoColumns,i=Qe(e),o=e.oLanguage.oAria,s=0,a=r.length;s<a;s++){var l=r[s],c=l.asSorting,h=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(i.length>0&&i[0].col==s?(u.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=c[i[0].index+1]||c[0]):n=c[0],t=h+("asc"===n?o.sSortAscending:o.sSortDescending)):t=h,u.setAttribute("aria-label",t)}}function tt(t,n,i,o){var s,a=t.aoColumns[n],l=t.aaSorting,c=a.asSorting,h=function(t,n){var i=t._idx;return i===r&&(i=e.inArray(t[1],c)),i+1<c.length?i+1:n?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),i&&t.oFeatures.bSortMulti){var u=e.inArray(n,w(l,"0"));-1!==u?(null===(s=h(l[u],!0))&&1===l.length&&(s=0),null===s?l.splice(u,1):(l[u][1]=c[s],l[u]._idx=s)):(l.push([n,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(s=h(l[0]),l.length=1,l[0][1]=c[s],l[0]._idx=s):(l.length=0,l.push([n,c[0]]),l[0]._idx=0);he(t),"function"==typeof o&&o(t)}function nt(e,t,n,r){var i=e.aoColumns[n];ft(t,{},function(t){!1!==i.bSortable&&(e.oFeatures.bProcessing?(ze(e,!0),setTimeout(function(){tt(e,n,t.shiftKey,r),"ssp"!==vt(e)&&ze(e,!1)},0)):tt(e,n,t.shiftKey,r))})}function rt(t){var n,r,i,o=t.aLastSort,s=t.oClasses.sSortColumn,a=Qe(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,r=o.length;n<r;n++)i=o[n].src,e(w(t.aoData,"anCells",i)).removeClass(s+(n<2?n+1:3));for(n=0,r=a.length;n<r;n++)i=a[n].src,e(w(t.aoData,"anCells",i)).addClass(s+(n<2?n+1:3))}t.aLastSort=a}function it(e,t){var n,r,i,o=e.aoColumns[t],s=l.ext.order[o.sSortDataType];s&&(n=s.call(e.oInstance,e,t,j(e,t)));for(var a=l.ext.type.order[o.sType+"-pre"],c=0,h=e.aoData.length;c<h;c++)(r=e.aoData[c])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!s||(i=s?n[c]:G(e,c,t,"sort"),r._aSortData[t]=a?a(i):i)}function ot(t){if(!t._bLoadingState){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Le(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Le(t.aoPreSearchCols[n])}})};t.oSavedState=n,pt(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,n)}}function st(e,t,n){if(e.oFeatures.bStateSave){var i=e.fnStateLoadCallback.call(e.oInstance,e,function(t){at(e,t,n)});return i!==r&&at(e,i,n),!0}n()}function at(t,n,i){var o,s,a=t.aoColumns;t._bLoadingState=!0;var c=t._bInitComplete?new l.Api(t):null;if(!n||!n.time)return t._bLoadingState=!1,void i();var h=pt(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1!==e.inArray(!1,h))return t._bLoadingState=!1,void i();var u=t.iStateDuration;if(u>0&&n.time<+new Date-1e3*u)return t._bLoadingState=!1,void i();if(n.columns&&a.length!==n.columns.length)return t._bLoadingState=!1,void i();if(t.oLoadedState=e.extend(!0,{},n),n.length!==r&&(c?c.page.len(n.length):t._iDisplayLength=n.length),n.start!==r&&(null===c?(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start):He(t,n.start/t._iDisplayLength)),n.order!==r&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),n.search!==r&&e.extend(t.oPreviousSearch,Re(n.search)),n.columns){for(o=0,s=n.columns.length;o<s;o++){var f=n.columns[o];f.visible!==r&&(c?c.column(o).visible(f.visible,!1):a[o].bVisible=f.visible),f.search!==r&&e.extend(t.aoPreSearchCols[o],Re(f.search))}c&&c.columns.adjust()}t._bLoadingState=!1,pt(t,"aoStateLoaded","stateLoaded",[t,n]),i()}function lt(t){var n=l.settings,r=e.inArray(t,w(n,"nTable"));return-1!==r?n[r]:null}function ct(e,n,r,i){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,i&&(r+=". For more information about this error, please see http://datatables.net/tn/"+i),n)t.console&&console.log&&console.log(r);else{var o=l.ext,s=o.sErrMode||o.errMode;if(e&&pt(e,null,"error",[e,i,r]),"alert"==s)alert(r);else{if("throw"==s)throw new Error(r);"function"==typeof s&&s(e,i,r)}}}function ht(t,n,i,o){Array.isArray(i)?e.each(i,function(e,r){Array.isArray(r)?ht(t,n,r[0],r[1]):ht(t,n,r)}):(o===r&&(o=i),n[i]!==r&&(t[o]=n[i]))}function ut(t,n,r){var i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],e.isPlainObject(i)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],i)):r&&"data"!==o&&"aaData"!==o&&Array.isArray(i)?t[o]=i.slice():t[o]=i);return t}function ft(t,n,r){e(t).on("click.DT",n,function(n){e(t).trigger("blur"),r(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),r(e))}).on("selectstart.DT",function(){return!1})}function dt(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function pt(t,n,r,i){var o=[];if(n&&(o=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,i)})),null!==r){var s=e.Event(r+".dt");e(t.nTable).trigger(s,i),o.push(s.result)}return o}function gt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;t>=n&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function mt(t,n){var r=t.renderer,i=l.ext.renderer[n];return e.isPlainObject(r)&&r[n]?i[r[n]]||i._:"string"==typeof r&&i[r]||i._}function vt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var bt=[],yt=Array.prototype;o=function(t,n){if(!(this instanceof o))return new o(t,n);var r=[],i=function(t){var n=function(t){var n,r,i=l.settings,o=e.map(i,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[i[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?r=e(t):t instanceof e&&(r=t),r?r.map(function(t){return-1!==(n=e.inArray(this,o))?i[n]:null}).toArray():void 0):[]}(t);n&&r.push.apply(r,n)};if(Array.isArray(t))for(var s=0,a=t.length;s<a;s++)i(t[s]);else i(t);this.context=C(r),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,bt)},l.Api=o,e.extend(o.prototype,{any:function(){return 0!==this.count()},concat:yt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var s,a,l,c,h,u,f,d,p=[],g=this.context,m=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),a=0,l=g.length;a<l;a++){var v=new o(g[a]);if("table"===t)(s=n.call(v,g[a],a))!==r&&p.push(s);else if("columns"===t||"rows"===t)(s=n.call(v,g[a],this[a],a))!==r&&p.push(s);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(f=this[a],"column-rows"===t&&(u=Ct(g[a],m.opts)),c=0,h=f.length;c<h;c++)d=f[c],(s="cell"===t?n.call(v,g[a],d.row,d.column,a,c):n.call(v,g[a],d,a,c,u))!==r&&p.push(s)}if(p.length||i){var b=new o(g,e?p.concat.apply([],p):p),y=b.selector;return y.rows=m.rows,y.cols=m.cols,y.opts=m.opts,b}return this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new o(this.context,t)},pluck:function(e){let t=l.util.get(e);return this.map(function(e){return t(e)})},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return F(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return F(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,slice:function(){return new o(this.context,this)},sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new o(this.context,C(this))},unshift:yt.unshift}),o.extend=function(e,t,n){if(n.length&&t&&(t instanceof o||t.__dt_wrapper)){var r,i,s,a=function(e,t,n){return function(){var r=t.apply(e,arguments);return o.extend(r,r,n.methodExt),r}};for(r=0,i=n.length;r<i;r++)t[(s=n[r]).name]="function"===s.type?a(e,s.val,s):"object"===s.type?{}:s.val,t[s.name].__dt_wrapper=!0,o.extend(e,t[s.name],s.propExt)}},o.register=s=function(t,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)o.register(t[r],n);else{var s,a,l,c,h=t.split("."),u=bt,f=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(s=0,a=h.length;s<a;s++){var d=f(u,l=(c=-1!==h[s].indexOf("()"))?h[s].replace("()",""):h[s]);d||(d={name:l,val:{},methodExt:[],propExt:[],type:"object"},u.push(d)),s===a-1?(d.val=n,d.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):u=c?d.methodExt:d.propExt}}},o.registerPlural=a=function(e,t,n){o.register(e,n),o.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof o?e.length?Array.isArray(e[0])?new o(e.context,e[0]):e[0]:r:e})};var wt=function(t,n){if(Array.isArray(t))return e.map(t,function(e){return wt(e,n)});if("number"==typeof t)return[n[t]];var r=e.map(n,function(e,t){return e.nTable});return e(r).filter(t).map(function(t){var i=e.inArray(this,r);return n[i]}).toArray()};s("tables()",function(e){return e!==r&&null!==e?new o(wt(e,this.context)):this}),s("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new o(n[0]):t}),a("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),a("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),a("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),a("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),a("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),s("draw()",function(e){return this.iterator("table",function(t){"page"===e?ce(t):("string"==typeof e&&(e="full-hold"!==e),he(t,!1===e))})}),s("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){He(t,e)})}),s("page.info()",function(e){if(0===this.context.length)return r;var t=this.context[0],n=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),s=-1===i;return{page:s?0:Math.floor(n/i),pages:s?1:Math.ceil(o/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===vt(t)}}),s("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){Pe(t,e)})});var xt=function(e,t,n){if(n){var r=new o(e);r.one("draw",function(){n(r.ajax.json())})}if("ssp"==vt(e))he(e,t);else{ze(e,!0);var i=e.jqXHR;i&&4!==i.readyState&&i.abort(),pe(e,[],function(n){te(e);for(var r=be(e,n),i=0,o=r.length;i<o;i++)W(e,r[i]);he(e,t),ze(e,!1)})}};s("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),s("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),s("ajax.reload()",function(e,t){return this.iterator("table",function(n){xt(n,!1===t,e)})}),s("ajax.url()",function(t){var n=this.context;return t===r?0===n.length?r:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),s("ajax.url().load()",function(e,t){return this.iterator("table",function(n){xt(n,!1===t,e)})});var _t=function(e,t,n,o,s){var a,l,c,h,u,f,d=[],p=typeof t;for(t&&"string"!==p&&"function"!==p&&t.length!==r||(t=[t]),c=0,h=t.length;c<h;c++)for(u=0,f=(l=t[c]&&t[c].split&&!t[c].match(/[\[\(:]/)?t[c].split(","):[t[c]]).length;u<f;u++)(a=n("string"==typeof l[u]?l[u].trim():l[u]))&&a.length&&(d=d.concat(a));var g=i.selector[e];if(g.length)for(c=0,h=g.length;c<h;c++)d=g[c](o,s,d);return C(d)},St=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},kt=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Ct=function(t,n){var r,i=[],o=t.aiDisplay,s=t.aiDisplayMaster,a=n.search,l=n.order,c=n.page;if("ssp"==vt(t))return"removed"===a?[]:_(0,s.length);if("current"==c)for(u=t._iDisplayStart,f=t.fnDisplayEnd();u<f;u++)i.push(o[u]);else if("current"==l||"applied"==l){if("none"==a)i=s.slice();else if("applied"==a)i=o.slice();else if("removed"==a){for(var h={},u=0,f=o.length;u<f;u++)h[o[u]]=null;i=e.map(s,function(e){return h.hasOwnProperty(e)?null:e})}}else if("index"==l||"original"==l)for(u=0,f=t.aoData.length;u<f;u++)("none"==a||-1===(r=e.inArray(u,o))&&"removed"==a||r>=0&&"applied"==a)&&i.push(u);return i};s("rows()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=St(n);var i=this.iterator("table",function(i){return function(t,n,i){var o;return _t("row",n,function(n){var s=m(n),a=t.aoData;if(null!==s&&!i)return[s];if(o||(o=Ct(t,i)),null!==s&&-1!==e.inArray(s,o))return[s];if(null===n||n===r||""===n)return o;if("function"==typeof n)return e.map(o,function(e){var t=a[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var l=n._DT_RowIndex,c=n._DT_CellIndex;if(l!==r)return a[l]&&a[l].nTr===n?[l]:[];if(c)return a[c.row]&&a[c.row].nTr===n.parentNode?[c.row]:[];var h=e(n).closest("*[data-dt-row]");return h.length?[h.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var u=t.aIds[n.replace(/^#/,"")];if(u!==r)return[u.idx]}var f=S(x(t.aoData,o,"nTr"));return e(f).filter(n).map(function(){return this._DT_RowIndex}).toArray()},t,i)}(i,t,n)},1);return i.selector.rows=t,i.selector.opts=n,i}),s("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),s("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return x(e.aoData,t,"_aData")},1)}),a("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return"search"===e?r._aFilterData:r._aSortData},1)}),a("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){re(t,n,e)})}),a("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),a("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,r=0,i=n.length;r<i;r++)for(var s=0,a=this[r].length;s<a;s++){var l=n[r].rowIdFn(n[r].aoData[this[r][s]]._aData);t.push((!0===e?"#":"")+l)}return new o(n,t)}),a("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var o,s,a,l,c,h,u=t.aoData,f=u[n];for(u.splice(n,1),o=0,s=u.length;o<s;o++)if(h=(c=u[o]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==h)for(a=0,l=h.length;a<l;a++)h[a]._DT_CellIndex.row=o;ne(t.aiDisplayMaster,n),ne(t.aiDisplay,n),ne(e[i],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,gt(t);var d=t.rowIdFn(f._aData);d!==r&&delete t.aIds[d]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),s("rows.add()",function(t){var n=this.iterator("table",function(e){var n,r,i,o=[];for(r=0,i=t.length;r<i;r++)(n=t[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push($(e,n)[0]):o.push(W(e,n));return o},1),r=this.rows(-1);return r.pop(),e.merge(r,n),r}),s("row()",function(e,t){return kt(this.rows(e,t))}),s("row().data()",function(e){var t=this.context;if(e===r)return t.length&&this.length?t[0].aoData[this[0]]._aData:r;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&J(t[0].rowId)(e,n.nTr.id),re(t[0],this[0],"data"),this}),s("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),s("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?$(e,t)[0]:W(e,t)});return this.row(n[0])}),e(n).on("plugin-init.dt",function(t,n){var r=new o(n);r.on("stateSaveParams",function(e,t,n){for(var r=t.rowIdFn,i=t.aoData,o=[],s=0;s<i.length;s++)i[s]._detailsShow&&o.push("#"+r(i[s]._aData));n.childRows=o});var i=r.state.loaded();i&&i.childRows&&r.rows(e.map(i.childRows,function(e){return e.replace(/:/g,"\\:")})).every(function(){pt(n,null,"requestChild",[this])})});var Tt=l.util.throttle(function(e){ot(e[0])},500),At=function(t,n){var i=t.context;if(i.length){var o=i[0].aoData[n!==r?n:t[0]];o&&o._details&&(o._details.remove(),o._detailsShow=r,o._details=r,e(o.nTr).removeClass("dt-hasChild"),Tt(i))}},Et=function(t,n){var r=t.context;if(r.length&&t.length){var i=r[0].aoData[t[0]];i._details&&(i._detailsShow=n,n?(i._details.insertAfter(i.nTr),e(i.nTr).addClass("dt-hasChild")):(i._details.detach(),e(i.nTr).removeClass("dt-hasChild")),pt(r[0],null,"childRow",[n,t.row(t[0])]),Lt(r[0]),Tt(r))}},Lt=function(e){var t=new o(e),n=".dt.DT_details",r="draw"+n,i="column-sizing"+n,s="destroy"+n,a=e.aoData;t.off(r+" "+i+" "+s),w(a,"_details").length>0&&(t.on(r,function(n,r){e===r&&t.rows({page:"current"}).eq(0).each(function(e){var t=a[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(i,function(t,n,r,i){if(e===n)for(var o,s=z(n),l=0,c=a.length;l<c;l++)(o=a[l])._details&&o._details.children("td[colspan]").attr("colspan",s)}),t.on(s,function(n,r){if(e===r)for(var i=0,o=a.length;i<o;i++)a[i]._details&&At(t,i)}))},Rt="row().child()";s(Rt,function(t,n){var i=this.context;return t===r?i.length&&this.length?i[0].aoData[this[0]]._details:r:(!0===t?this.child.show():!1===t?At(this):i.length&&this.length&&function(t,n,r,i){var o=[],s=function(n,r){if(Array.isArray(n)||n instanceof e)for(var i=0,a=n.length;i<a;i++)s(n[i],r);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=e("<tr><td></td></tr>").addClass(r);e("td",l).addClass(r).html(n)[0].colSpan=z(t),o.push(l[0])}};s(r,i),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(i[0],i[0].aoData[this[0]],t,n),this)}),s(["row().child.show()",Rt+".show()"],function(e){return Et(this,!0),this}),s(["row().child.hide()",Rt+".hide()"],function(){return Et(this,!1),this}),s(["row().child.remove()",Rt+".remove()"],function(){return At(this),this}),s("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Dt=/^([^:]+):(name|visIdx|visible)$/,Mt=function(e,t,n,r,i){for(var o=[],s=0,a=i.length;s<a;s++)o.push(G(e,i[s],t));return o};s("columns()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=St(n);var i=this.iterator("table",function(r){return function(t,n,r){var i=t.aoColumns,o=w(i,"sName"),s=w(i,"nTh");return _t("column",n,function(n){var a=m(n);if(""===n)return _(i.length);if(null!==a)return[a>=0?a:i.length+a];if("function"==typeof n){var l=Ct(t,r);return e.map(i,function(e,r){return n(r,Mt(t,r,0,0,l),s[r])?r:null})}var c="string"==typeof n?n.match(Dt):"";if(c)switch(c[2]){case"visIdx":case"visible":var h=parseInt(c[1],10);if(h<0){var u=e.map(i,function(e,t){return e.bVisible?t:null});return[u[u.length+h]]}return[H(t,h)];case"name":return e.map(o,function(e,t){return e===c[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var f=e(s).filter(n).map(function(){return e.inArray(this,s)}).toArray();if(f.length||!n.nodeName)return f;var d=e(n).closest("*[data-dt-column]");return d.length?[d.data("dt-column")]:[]},t,r)}(r,t,n)},1);return i.selector.cols=t,i.selector.opts=n,i}),a("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),a("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),a("columns().data()","column().data()",function(){return this.iterator("column-rows",Mt,1)}),a("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),a("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,i,o){return x(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,i){return x(e.aoData,i,"anCells",t)},1)}),a("columns().visible()","column().visible()",function(t,n){var i=this,o=this.iterator("column",function(n,i){if(t===r)return n.aoColumns[i].bVisible;!function(t,n,i){var o,s,a,l,c=t.aoColumns,h=c[n],u=t.aoData;if(i===r)return h.bVisible;if(h.bVisible!==i){if(i){var f=e.inArray(!0,w(c,"bVisible"),n+1);for(s=0,a=u.length;s<a;s++)l=u[s].nTr,o=u[s].anCells,l&&l.insertBefore(o[n],o[f]||null)}else e(w(t.aoData,"anCells",n)).detach();h.bVisible=i}}(n,i,t)});return t!==r&&this.iterator("table",function(o){le(o,o.aoHeader),le(o,o.aoFooter),o.aiDisplay.length||e(o.nTBody).find("td[colspan]").attr("colspan",z(o)),ot(o),i.iterator("column",function(e,r){pt(e,null,"column-visibility",[e,r,t,n])}),(n===r||n)&&i.columns.adjust()}),o}),a("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?j(t,n):n},1)}),s("columns.adjust()",function(){return this.iterator("table",function(e){B(e)},1)}),s("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return H(n,t);if("fromData"===e||"toVisible"===e)return j(n,t)}}),s("column()",function(e,t){return kt(this.columns(e,t))});s("cells()",function(t,n,i){if(e.isPlainObject(t)&&(t.row===r?(i=t,t=null):(i=n,n=null)),e.isPlainObject(n)&&(i=n,n=null),null===n||n===r)return this.iterator("table",function(n){return function(t,n,i){var o,s,a,l,c,h,u,f=t.aoData,d=Ct(t,i),p=S(x(f,d,"anCells")),g=e(T([],p)),m=t.aoColumns.length;return _t("cell",n,function(n){var i="function"==typeof n;if(null===n||n===r||i){for(s=[],a=0,l=d.length;a<l;a++)for(o=d[a],c=0;c<m;c++)h={row:o,column:c},i?(u=f[o],n(h,G(t,o,c),u.anCells?u.anCells[c]:null)&&s.push(h)):s.push(h);return s}if(e.isPlainObject(n))return n.column!==r&&n.row!==r&&-1!==e.inArray(n.row,d)?[n]:[];var p=g.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(u=e(n).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},t,i)}(n,t,St(i))});var o,s,a,l,c=i?{page:i.page,order:i.order,search:i.search}:{},h=this.columns(n,c),u=this.rows(t,c),f=this.iterator("table",function(e,t){var n=[];for(o=0,s=u[t].length;o<s;o++)for(a=0,l=h[t].length;a<l;a++)n.push({row:u[t][o],column:h[t][a]});return n},1),d=i&&i.selected?this.cells(f,i):f;return e.extend(d.selector,{cols:n,rows:t,opts:i}),d}),a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var i=e.aoData[t];return i&&i.anCells?i.anCells[n]:r},1)}),s("cells().data()",function(){return this.iterator("cell",function(e,t,n){return G(e,t,n)},1)}),a("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]},1)}),a("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,r){return G(t,n,r,e)},1)}),a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:j(e,n)}},1)}),a("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,r){re(t,n,e,r)})}),s("cell()",function(e,t,n){return kt(this.cells(e,t,n))}),s("cell().data()",function(e){var t=this.context,n=this[0];return e===r?t.length&&n.length?G(t[0],n[0].row,n[0].column):r:(Z(t[0],n[0].row,n[0].column,e),re(t[0],n[0].row,"data",n[0].column),this)}),s("order()",function(e,t){var n=this.context;return e===r?0!==n.length?n[0].aaSorting:r:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),s("order.listener()",function(e,t,n){return this.iterator("table",function(r){nt(r,e,t,n)})}),s("order.fixed()",function(t){if(!t){var n=this.context,i=n.length?n[0].aaSortingFixed:r;return Array.isArray(i)?{pre:i}:i}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),s(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(r,i){var o=[];e.each(n[i],function(e,n){o.push([n,t])}),r.aaSorting=o})}),s("search()",function(t,n,i,o){var s=this.context;return t===r?0!==s.length?s[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&we(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),a("columns().search()","column().search()",function(t,n,i,o){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;if(t===r)return l[a].sSearch;s.oFeatures.bFilter&&(e.extend(l[a],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),we(s,s.oPreviousSearch,1))})}),s("state()",function(){return this.context.length?this.context[0].oSavedState:null}),s("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),s("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),s("state.save()",function(){return this.iterator("table",function(e){ot(e)})}),l.versionCheck=l.fnVersionCheck=function(e){for(var t,n,r=l.version.split("."),i=e.split("."),o=0,s=i.length;o<s;o++)if((t=parseInt(r[o],10)||0)!==(n=parseInt(i[o],10)||0))return t>n;return!0},l.isDataTable=l.fnIsDataTable=function(t){var n=e(t).get(0),r=!1;return t instanceof l.Api||(e.each(l.settings,function(t,i){var o=i.nScrollHead?e("table",i.nScrollHead)[0]:null,s=i.nScrollFoot?e("table",i.nScrollFoot)[0]:null;i.nTable!==n&&o!==n&&s!==n||(r=!0)}),r)},l.tables=l.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var r=e.map(l.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new o(r):r},l.camelToHungarian=L,s("$()",function(t,n){var r=this.rows(n).nodes(),i=e(r);return e([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){s(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var r=e(this.tables().nodes());return r[n].apply(r,t),this})}),s("clear()",function(){return this.iterator("table",function(e){te(e)})}),s("settings()",function(){return new o(this.context,this.context)}),s("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),s("data()",function(){return this.iterator("table",function(e){return w(e.aoData,"_aData")}).flatten()}),s("destroy()",function(n){return n=n||!1,this.iterator("table",function(r){var i,s=r.oClasses,a=r.nTable,c=r.nTBody,h=r.nTHead,u=r.nTFoot,f=e(a),d=e(c),p=e(r.nTableWrapper),g=e.map(r.aoData,function(e){return e.nTr});r.bDestroying=!0,pt(r,"aoDestroyCallback","destroy",[r]),n||new o(r).columns().visible(!0),p.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+r.sInstance),a!=h.parentNode&&(f.children("thead").detach(),f.append(h)),u&&a!=u.parentNode&&(f.children("tfoot").detach(),f.append(u)),r.aaSorting=[],r.aaSortingFixed=[],rt(r),e(g).removeClass(r.asStripeClasses.join(" ")),e("th, td",h).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),d.children().detach(),d.append(g);var m=r.nTableWrapper.parentNode,v=n?"remove":"detach";f[v](),p[v](),!n&&m&&(m.insertBefore(a,r.nTableReinsertBefore),f.css("width",r.sDestroyWidth).removeClass(s.sTable),(i=r.asDestroyStripes.length)&&d.children().each(function(t){e(this).addClass(r.asDestroyStripes[t%i])}));var b=e.inArray(r,l.settings);-1!==b&&l.settings.splice(b,1)})}),e.each(["column","row","cell"],function(e,t){s(t+"s().every()",function(e){var n=this.selector.opts,i=this;return this.iterator(t,function(o,s,a,l,c){e.call(i[t](s,"cell"===t?a:n,"cell"===t?n:r),s,a,l,c)})})}),s("i18n()",function(t,n,i){var o=this.context[0],s=Q(t)(o.oLanguage);return s===r&&(s=n),i!==r&&e.isPlainObject(s)&&(s=s[i]!==r?s[i]:s._),s.replace("%d",i)}),l.version="1.12.1",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},E(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},E(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==vt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==vt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,i=this.oFeatures,o=i.bPaginate;return i.bServerSide?!1===o||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!o||n>r||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=i={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},e.extend(i,{afnFiltering:i.search,aTypes:i.type.detect,ofnSearch:i.type.search,oSort:i.type.order,afnSortData:i.order,aoFeatures:i.feature,oApi:i.internal,oStdClasses:i.classes,oPagination:i.pager}),e.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var It=l.ext.pager;function Nt(e,t){var n=[],r=It.numbers_length,i=Math.floor(r/2);return t<=r?n=_(0,t):e<=i?((n=_(0,r-2)).push("ellipsis"),n.push(t-1)):e>=t-1-i?((n=_(t-(r-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=_(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(It,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Nt(e,t)]},simple_numbers:function(e,t){return["previous",Nt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Nt(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Nt(e,t),"last"]},_numbers:Nt,numbers_length:7}),e.extend(!0,l.ext.renderer,{pageButton:{_:function(t,i,o,s,a,l){var c,h,u,f=t.oClasses,d=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},g=0,m=function(n,r){var i,s,u,v,b=f.sPageButtonDisabled,y=function(e){He(t,e.data.action,!0)};for(i=0,s=r.length;i<s;i++)if(u=r[i],Array.isArray(u)){var w=e("<"+(u.DT_el||"div")+"/>").appendTo(n);m(w,u)}else{switch(c=null,h=u,v=t.iTabIndex,u){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=d.sFirst,0===a&&(v=-1,h+=" "+b);break;case"previous":c=d.sPrevious,0===a&&(v=-1,h+=" "+b);break;case"next":c=d.sNext,0!==l&&a!==l-1||(v=-1,h+=" "+b);break;case"last":c=d.sLast,0!==l&&a!==l-1||(v=-1,h+=" "+b);break;default:c=t.fnFormatNumber(u+1),h=a===u?f.sPageButtonActive:""}null!==c&&(ft(e("<a>",{class:f.sPageButton+" "+h,"aria-controls":t.sTableId,"aria-label":p[u],"data-dt-idx":g,tabindex:v,id:0===o&&"string"==typeof u?t.sTableId+"_"+u:null}).html(c).appendTo(n),{action:u},y),g++)}};try{u=e(i).find(n.activeElement).data("dt-idx")}catch(e){}m(e(i).empty(),s),u!==r&&e(i).find("[data-dt-idx="+u+"]").trigger("focus")}}}),e.extend(l.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return b(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!f.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||g(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return g(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(l.ext.type.search,{html:function(e){return g(e)?e:"string"==typeof e?e.replace(h," ").replace(u,""):""},string:function(e){return g(e)?e:"string"==typeof e?e.replace(h," "):e}});var Ft=function(e,t,n,r){return 0===e||e&&"-"!==e?(t&&(e=v(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),1*e):-1/0};function Pt(t){e.each({num:function(e){return Ft(e,t)},"num-fmt":function(e){return Ft(e,t,p)},"html-num":function(e){return Ft(e,t,u)},"html-num-fmt":function(e){return Ft(e,t,u,p)}},function(e,n){i.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(i.type.search[e+t]=i.type.search.html)})}e.extend(i.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return g(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return g(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Pt(""),e.extend(!0,l.ext.renderer,{header:{_:function(t,n,r,i){e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=r.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[l]?i.sSortAsc:"desc"==a[l]?i.sSortDesc:r.sSortingClass)}})},jqueryui:function(t,n,r,i){e("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(i.sSortIcon+" "+r.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=r.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[l]?i.sSortAsc:"desc"==a[l]?i.sSortDesc:r.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==a[l]?i.sSortJUIAsc:"desc"==a[l]?i.sSortJUIDesc:r.sSortingClassJUI)}})}}});var Ot=function(e){return Array.isArray(e)&&(e=e.join(",")),"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function Bt(e,n,r,i,o){return t.moment?e[n](o):t.luxon?e[r](o):i?e[i](o):e}var Ht=!1;function jt(e,n,r){var i;if(t.moment){if(!(i=t.moment.utc(e,n,r,!0)).isValid())return null}else if(t.luxon){if(!(i=n?t.luxon.DateTime.fromFormat(e,n):t.luxon.DateTime.fromISO(e)).isValid)return null;i.setLocale(r)}else n?(Ht||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),Ht=!0):i=new Date(e);return i}function zt(e){return function(t,n,i,o){0===arguments.length?(i="en",n=null,t=null):1===arguments.length?(i="en",n=t,t=null):2===arguments.length&&(i=n,n=t,t=null);var s="datetime-"+n;return l.ext.type.order[s]||(l.ext.type.detect.unshift(function(e){return e===s&&s}),l.ext.type.order[s+"-asc"]=function(e,t){var n=e.valueOf(),r=t.valueOf();return n===r?0:n<r?-1:1},l.ext.type.order[s+"-desc"]=function(e,t){var n=e.valueOf(),r=t.valueOf();return n===r?0:n>r?-1:1}),function(a,l){if(null===a||a===r)if("--now"===o){var c=new Date;a=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()))}else a="";if("type"===l)return s;if(""===a)return"sort"!==l?"":jt("0000-01-01 00:00:00",null,i);if(null!==n&&t===n&&"sort"!==l&&"type"!==l&&!(a instanceof Date))return a;var h=jt(a,t,i);if(null===h)return a;if("sort"===l)return h;var u=null===n?Bt(h,"toDate","toJSDate","")[e]():Bt(h,"format","toFormat","toISOString",n);return"display"===l?Ot(u):u}}}var Vt=",",qt=".";if(Intl)try{for(var Ut=(new Intl.NumberFormat).formatToParts(100000.1),Wt=0;Wt<Ut.length;Wt++)"group"===Ut[Wt].type?Vt=Ut[Wt].value:"decimal"===Ut[Wt].type&&(qt=Ut[Wt].value)}catch(e){}function $t(e){return function(){var t=[lt(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[e].apply(this,t)}}return l.datetime=function(e,t){var n="datetime-detect-"+e;t||(t="en"),l.ext.type.order[n]||(l.ext.type.detect.unshift(function(r){var i=jt(r,e,t);return!(""!==r&&!i)&&n}),l.ext.type.order[n+"-pre"]=function(n){return jt(n,e,t)||0})},l.render={date:zt("toLocaleDateString"),datetime:zt("toLocaleString"),time:zt("toLocaleTimeString"),number:function(e,t,n,i,o){return null!==e&&e!==r||(e=Vt),null!==t&&t!==r||(t=qt),{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;if(""===r||null===r)return r;var s=r<0?"-":"",a=parseFloat(r);if(isNaN(a))return Ot(r);a=a.toFixed(n),r=Math.abs(a);var l=parseInt(r,10),c=n?t+(r-l).toFixed(n).substring(2):"";return 0===l&&0===parseFloat(c)&&(s=""),s+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(o||"")}}},text:function(){return{display:Ot,filter:Ot}}},e.extend(l.ext.internal,{_fnExternApiFunc:$t,_fnBuildAjax:pe,_fnAjaxUpdate:ge,_fnAjaxParameters:me,_fnAjaxUpdateDraw:ve,_fnAjaxDataSrc:be,_fnAddColumn:P,_fnColumnOptions:O,_fnAdjustColumnSizing:B,_fnVisibleToColumnIndex:H,_fnColumnIndexToVisible:j,_fnVisbleColumns:z,_fnGetColumns:V,_fnColumnTypes:q,_fnApplyColumnDefs:U,_fnHungarianMap:E,_fnCamelToHungarian:L,_fnLanguageCompat:R,_fnBrowserDetect:N,_fnAddData:W,_fnAddTr:$,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,r){return e.inArray(r,t.aoData[n].anCells)},_fnGetCellData:G,_fnSetCellData:Z,_fnSplitObjNotation:K,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:J,_fnGetDataMaster:ee,_fnClearTable:te,_fnDeleteIndex:ne,_fnInvalidate:re,_fnGetRowElements:ie,_fnCreateTr:oe,_fnBuildHead:ae,_fnDrawHead:le,_fnDraw:ce,_fnReDraw:he,_fnAddOptionsHtml:ue,_fnDetectHeader:fe,_fnGetUniqueThs:de,_fnFeatureHtmlFilter:ye,_fnFilterComplete:we,_fnFilterCustom:xe,_fnFilterColumn:_e,_fnFilter:Se,_fnFilterCreateSearch:ke,_fnEscapeRegex:Ce,_fnFilterData:Ee,_fnFeatureHtmlInfo:De,_fnUpdateInfo:Me,_fnInfoMacros:Ie,_fnInitialise:Ne,_fnInitComplete:Fe,_fnLengthChange:Pe,_fnFeatureHtmlLength:Oe,_fnFeatureHtmlPaginate:Be,_fnPageChange:He,_fnFeatureHtmlProcessing:je,_fnProcessingDisplay:ze,_fnFeatureHtmlTable:Ve,_fnScrollDraw:qe,_fnApplyToChildren:Ue,_fnCalculateColumnWidths:$e,_fnThrottle:Ge,_fnConvertToWidth:Ze,_fnGetWidestNode:Xe,_fnGetMaxLenString:Ye,_fnStringToCss:Ke,_fnSortFlatten:Qe,_fnSort:Je,_fnSortAria:et,_fnSortListener:tt,_fnSortAttachListener:nt,_fnSortingClasses:rt,_fnSortData:it,_fnSaveState:ot,_fnLoadState:st,_fnImplementState:at,_fnSettingsFromNode:lt,_fnLog:ct,_fnMap:ht,_fnBindAction:ft,_fnCallbackReg:dt,_fnCallbackFire:pt,_fnLengthOverflow:gt,_fnRenderer:mt,_fnDataSource:vt,_fnRowAttributes:se,_fnExtend:ut,_fnCalculateEnd:function(){}}),e.fn.dataTable=l,l.$=e,e.fn.dataTableSettings=l.settings,e.fn.dataTableExt=l.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(l,function(t,n){e.fn.DataTable[t]=n}),l}),
/*! Select for DataTables 1.4.0-dev
 * 2015-2021 SpryMedia Ltd - datatables.net/license/mit
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,r){"use strict";var i=e.fn.dataTable;function o(e,t,n){var r,i,o,s=function(t,n){if(t>n){var r=n;n=t,t=r}var i=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(i=!0),e===n?(i=!1,!0):i})},a=function(t,n){var r=e.rows({search:"applied"}).indexes();if(r.indexOf(t)>r.indexOf(n)){var i=n;n=t,t=i}var o=!1;return r.filter(function(e){return e===t&&(o=!0),e===n?(o=!1,!0):o})};e.cells({selected:!0}).any()||n?(i=s(n.column,t.column),o=a(n.row,t.row)):(i=s(0,t.column),o=a(0,t.row)),r=e.cells(o,i).flatten(),e.cells(t,{selected:!0}).any()?e.cells(r).deselect():e.cells(r).select()}function s(t){var n=t.settings()[0]._select.selector;e(t.table().container()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),e("body").off("click.dtSelect"+d(t.table().node()))}function a(n){var r,i=e(n.table().container()),o=n.settings()[0],s=o._select.selector;i.on("mousedown.dtSelect",s,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&i.css("-moz-user-select","none").one("selectstart.dtSelect",s,function(){return!1}),t.getSelection&&(r=t.getSelection())}).on("mouseup.dtSelect",s,function(){i.css("-moz-user-select","")}).on("click.dtSelect",s,function(i){var o,s=n.select.items();if(r){var a=t.getSelection();if((!a.anchorNode||e(a.anchorNode).closest("table")[0]===n.table().node())&&a!==r)return}var c=n.settings()[0],h=n.settings()[0].oClasses.sWrapper.trim().replace(/ +/g,".");if(e(i.target).closest("div."+h)[0]==n.table().container()){var u=n.cell(e(i.target).closest("td, th"));if(u.any()){var d=e.Event("user-select.dt");if(l(n,d,[s,u,i]),!d.isDefaultPrevented()){var p=u.index();"row"===s?(o=p.row,f(i,n,c,"row",o)):"column"===s?(o=u.index().column,f(i,n,c,"column",o)):"cell"===s&&(o=u.index(),f(i,n,c,"cell",o)),c._select_lastCell=p}}}}),e("body").on("click.dtSelect"+d(n.table().node()),function(t){if(o._select.blurable){if(e(t.target).parents().filter(n.table().container()).length)return;if(0===e(t.target).parents("html").length)return;if(e(t.target).parents("div.DTE").length)return;var r=e.Event("select-blur.dt");if(l(n,r,[t.target,t]),r.isDefaultPrevented())return;u(o,!0)}})}function l(t,n,r,i){i&&!t.flatten().length||("string"==typeof n&&(n+=".dt"),r.unshift(t),e(t.table().node()).trigger(n,r))}function c(t){var n=new i.Api(t);t._select_init=!0,t.aoRowCreatedCallback.push({fn:function(n,r,i){var o,s,a=t.aoData[i];for(a._select_selected&&e(n).addClass(t._select.className),o=0,s=t.aoColumns.length;o<s;o++)(t.aoColumns[o]._select_selected||a._selected_cells&&a._selected_cells[o])&&e(a.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",function(e,t){if(t===n.settings()[0]){var i=n.rows({selected:!0}).ids(!0).filter(function(e){return e!==r}),o=n.cells({selected:!0}).eq(0).map(function(e){var t=n.row(e.row).id(!0);return t?{row:t,column:e.column}:r}).filter(function(e){return e!==r});n.one("draw.dt.dtSelect",function(){n.rows(i).select(),o.any()&&o.each(function(e){n.cells(e.row,e.column).select()})})}}),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){!function(t){var n=t.settings()[0];if(n._select.info&&n.aanFeatures.i&&"api"!==t.select.style()){var r=t.rows({selected:!0}).flatten().length,i=t.columns({selected:!0}).flatten().length,o=t.cells({selected:!0}).flatten().length,s=function(n,r,i){n.append(e('<span class="select-item"/>').append(t.i18n("select."+r+"s",{_:"%d "+r+"s selected",0:"",1:"1 "+r+" selected"},i)))};e.each(n.aanFeatures.i,function(t,n){n=e(n);var a=e('<span class="select-info"/>');s(a,"row",r),s(a,"column",i),s(a,"cell",o);var l=n.children("span.select-info");l.length&&l.remove(),""!==a.text()&&n.append(a)})}}(n),n.state.save()}),n.on("destroy.dtSelect",function(){n.rows({selected:!0}).deselect(),s(n),n.off(".dtSelect"),e("body").off(".dtSelect"+d(n.table().node()))})}function h(t,n,r,i){var o=t[n+"s"]({search:"applied"}).indexes(),s=e.inArray(i,o),a=e.inArray(r,o);if(t[n+"s"]({selected:!0}).any()||-1!==s){if(s>a){var l=a;a=s,s=l}o.splice(a+1,o.length),o.splice(0,s)}else o.splice(e.inArray(r,o)+1,o.length);t[n](r,{selected:!0}).any()?(o.splice(e.inArray(r,o),1),t[n+"s"](o).deselect()):t[n+"s"](o).select()}function u(e,t){if(t||"single"===e._select.style){var n=new i.Api(e);n.rows({selected:!0}).deselect(),n.columns({selected:!0}).deselect(),n.cells({selected:!0}).deselect()}}function f(e,t,n,r,i){var s=t.select.style(),a=t.select.toggleable(),l=t[r](i,{selected:!0}).any();if(!l||a)if("os"===s)if(e.ctrlKey||e.metaKey)t[r](i).select(!l);else if(e.shiftKey)"cell"===r?o(t,i,n._select_lastCell||null):h(t,r,i,n._select_lastCell?n._select_lastCell[r]:null);else{var c=t[r+"s"]({selected:!0});l&&1===c.flatten().length?t[r](i).deselect():(c.deselect(),t[r](i).select())}else"multi+shift"==s&&e.shiftKey?"cell"===r?o(t,i,n._select_lastCell||null):h(t,r,i,n._select_lastCell?n._select_lastCell[r]:null):t[r](i).select(!l)}function d(e){return e.id.replace(/[^a-zA-Z0-9\-\_]/g,"-")}i.select={},i.select.version="1.4.0-dev",i.select.init=function(t){var n=t.settings()[0];if(!n._select){var o=t.state.loaded(),s=function(e,n,i){if(null!==i&&i.select!==r){if(t.rows({selected:!0}).any()&&t.rows().deselect(),i.select.rows!==r&&t.rows(i.select.rows).select(),t.columns({selected:!0}).any()&&t.columns().deselect(),i.select.columns!==r&&t.columns(i.select.columns).select(),t.cells({selected:!0}).any()&&t.cells().deselect(),i.select.cells!==r)for(var o=0;o<i.select.cells.length;o++)t.cell(i.select.cells[o].row,i.select.cells[o].column).select();t.state.save()}};t.one("init",function(){t.on("stateSaveParams",function(e,n,r){r.select={},r.select.rows=t.rows({selected:!0}).ids(!0).toArray(),r.select.columns=t.columns({selected:!0})[0],r.select.cells=t.cells({selected:!0})[0].map(function(e){return{row:t.row(e.row).id(!0),column:e.column}})}),s(0,0,o),t.on("stateLoaded stateLoadParams",s)});var a=n.oInit.select,l=i.defaults.select,c=a===r?l:a,h="row",u="api",f=!1,d=!0,p=!0,g="td, th",m="selected",v=!1;n._select={},!0===c?(u="os",v=!0):"string"==typeof c?(u=c,v=!0):e.isPlainObject(c)&&(c.blurable!==r&&(f=c.blurable),c.toggleable!==r&&(d=c.toggleable),c.info!==r&&(p=c.info),c.items!==r&&(h=c.items),c.style!==r?(u=c.style,v=!0):(u="os",v=!0),c.selector!==r&&(g=c.selector),c.className!==r&&(m=c.className)),t.select.selector(g),t.select.items(h),t.select.style(u),t.select.blurable(f),t.select.toggleable(d),t.select.info(p),n._select.className=m,e.fn.dataTable.ext.order["select-checkbox"]=function(t,n){return this.api().column(n,{order:"index"}).nodes().map(function(n){return"row"===t._select.items?e(n).parent().hasClass(t._select.className):"cell"===t._select.items&&e(n).hasClass(t._select.className)})},!v&&e(t.table().node()).hasClass("selectable")&&t.select.style("os")}},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){i.ext.selector[t.type].push(function(e,n,r){var i,o=n.selected,s=[];if(!0!==o&&!1!==o)return r;for(var a=0,l=r.length;a<l;a++)i=e[t.prop][r[a]],(!0===o&&!0===i._select_selected||!1===o&&!i._select_selected)&&s.push(r[a]);return s})}),i.ext.selector.cell.push(function(e,t,n){var i,o=t.selected,s=[];if(o===r)return n;for(var a=0,l=n.length;a<l;a++)i=e.aoData[n[a].row],(!0===o&&i._selected_cells&&!0===i._selected_cells[n[a].column]||!1===o&&(!i._selected_cells||!i._selected_cells[n[a].column]))&&s.push(n[a]);return s});var p=i.Api.register,g=i.Api.registerPlural;function m(e,t){return function(n){return n.i18n("buttons."+e,t)}}function v(e){var t=e._eventNamespace;return"draw.dt.DT"+t+" select.dt.DT"+t+" deselect.dt.DT"+t}p("select()",function(){return this.iterator("table",function(e){i.select.init(new i.Api(e))})}),p("select.blurable()",function(e){return e===r?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),p("select.toggleable()",function(e){return e===r?this.context[0]._select.toggleable:this.iterator("table",function(t){t._select.toggleable=e})}),p("select.info()",function(e){return e===r?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),p("select.items()",function(e){return e===r?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,l(new i.Api(t),"selectItems",[e])})}),p("select.style()",function(e){return e===r?this.context[0]._select.style:this.iterator("table",function(t){t._select||i.select.init(new i.Api(t)),t._select_init||c(t),t._select.style=e;var n=new i.Api(t);s(n),"api"!==e&&a(n),l(new i.Api(t),"selectStyle",[e])})}),p("select.selector()",function(e){return e===r?this.context[0]._select.selector:this.iterator("table",function(t){s(new i.Api(t)),t._select.selector=e,"api"!==t._select.style&&a(new i.Api(t))})}),g("rows().select()","row().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("row",function(t,n){u(t),t.aoData[n]._select_selected=!0,e(t.aoData[n].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["row",n[t]],!0)}),this)}),p("row().selected()",function(){var e=this.context[0];return!!(e&&this.length&&e.aoData[this[0]]&&e.aoData[this[0]]._select_selected)}),g("columns().select()","column().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("column",function(t,n){u(t),t.aoColumns[n]._select_selected=!0;var r=new i.Api(t).column(n);e(r.header()).addClass(t._select.className),e(r.footer()).addClass(t._select.className),r.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["column",n[t]],!0)}),this)}),p("column().selected()",function(){var e=this.context[0];return!!(e&&this.length&&e.aoColumns[this[0]]&&e.aoColumns[this[0]]._select_selected)}),g("cells().select()","cell().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("cell",function(t,n,i){u(t);var o=t.aoData[n];o._selected_cells===r&&(o._selected_cells=[]),o._selected_cells[i]=!0,o.anCells&&e(o.anCells[i]).addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["cell",n.cells(n[t]).indexes().toArray()],!0)}),this)}),p("cell().selected()",function(){var e=this.context[0];if(e&&this.length){var t=e.aoData[this[0][0].row];if(t&&t._selected_cells&&t._selected_cells[this[0][0].column])return!0}return!1}),g("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,n){t.aoData[n]._select_selected=!1,t._select_lastCell=null,e(t.aoData[n].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,n){l(t,"deselect",["row",t[n]],!0)}),this}),g("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,n){t.aoColumns[n]._select_selected=!1;var r=new i.Api(t),o=r.column(n);e(o.header()).removeClass(t._select.className),e(o.footer()).removeClass(t._select.className),r.cells(null,n).indexes().each(function(n){var r=t.aoData[n.row],i=r._selected_cells;!r.anCells||i&&i[n.column]||e(r.anCells[n.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,n){l(t,"deselect",["column",t[n]],!0)}),this}),g("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,n,i){var o=t.aoData[n];o._selected_cells!==r&&(o._selected_cells[i]=!1),o.anCells&&!t.aoColumns[i]._select_selected&&e(o.anCells[i]).removeClass(t._select.className)}),this.iterator("table",function(e,n){l(t,"deselect",["cell",t[n]],!0)}),this});var b=0;return e.extend(i.ext.buttons,{selected:{text:m("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(t,n,r){var i=this;r._eventNamespace=".select"+b++,t.on(v(r),function(){i.enable(function(t,n){return!(-1===e.inArray("rows",n.limitTo)||!t.rows({selected:!0}).any())||!(-1===e.inArray("columns",n.limitTo)||!t.columns({selected:!0}).any())||!(-1===e.inArray("cells",n.limitTo)||!t.cells({selected:!0}).any())}(t,r))}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectedSingle:{text:m("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var r=this;n._eventNamespace=".select"+b++,e.on(v(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;r.enable(1===t)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectAll:{text:m("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:m("selectNone","Deselect all"),className:"buttons-select-none",action:function(){u(this.settings()[0],!0)},init:function(e,t,n){var r=this;n._eventNamespace=".select"+b++,e.on(v(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;r.enable(t>0)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}}}),e.each(["Row","Column","Cell"],function(e,t){var n=t.toLowerCase();i.ext.buttons["select"+t+"s"]={text:m("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,r,i){t.active(i===n)})}}}),e(n).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&i.select.init(new i.Api(t))}),i.select}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).igv=t()}(this,function(){"use strict";
/*!
     * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2018-01-20T17:24Z
     */var e=[],t=window.document,n=Object.getPrototypeOf,r=e.slice,i=e.concat,o=e.push,s=e.indexOf,a={},l=a.toString,c=a.hasOwnProperty,h=c.toString,u=h.call(Object),f={},d=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},p=function(e){return null!=e&&e===e.window},g={type:!0,src:!0,noModule:!0};function m(e,n,r){var i,o=(n=n||t).createElement("script");if(o.text=e,r)for(i in g)r[i]&&(o[i]=r[i]);n.head.appendChild(o).parentNode.removeChild(o)}function v(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[l.call(e)]||"object":typeof e}var b="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",y=function(e,t){return new y.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=v(e);return!d(e)&&!p(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}y.fn=y.prototype={jquery:b,constructor:y,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return y.each(this,e)},map:function(e){return this.pushStack(y.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:e.sort,splice:e.splice},y.extend=y.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||d(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(r=e[t])&&(c&&r&&(y.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&y.isPlainObject(n)?n:{},s[t]=y.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},y.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==l.call(e))&&(!(t=n(e))||"function"==typeof(r=c.call(t,"constructor")&&t.constructor)&&h.call(r)===u)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?y.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,o,s=0,a=[];if(x(e))for(r=e.length;s<r;s++)null!=(o=t(e[s],s,n))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,n))&&a.push(o);return i.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(y.fn[Symbol.iterator]=e[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()});var _=
/*!
    * Sizzle CSS Selector Engine v2.3.3
    * https://sizzlejs.com/
    *
    * Copyright jQuery Foundation and other contributors
    * Released under the MIT license
    * http://jquery.org/license
    *
    * Date: 2016-08-08
    */
function(e){var t,n,r,i,o,s,a,l,c,h,u,f,d,p,g,m,v,b,y,w="sizzle"+1*new Date,x=e.document,_=0,S=0,k=se(),C=se(),T=se(),A=function(e,t){return e===t&&(u=!0),0},E={}.hasOwnProperty,L=[],R=L.pop,D=L.push,M=L.push,I=L.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\[[\\x20\\t\\r\\n\\f]*("+O+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+P+"*\\]",H=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",j=new RegExp(P+"+","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),W=new RegExp(H),$=new RegExp("^"+O+"$"),G={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},ie=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{M.apply(L=I.call(x.childNodes),x.childNodes),L[x.childNodes.length].nodeType}catch(e){M={apply:L.length?function(e,t){D.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,a,c,h,u,p,v,b=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&((t?t.ownerDocument||t:x)!==d&&f(t),t=t||d,g)){if(11!==_&&(u=K.exec(e)))if(o=u[1]){if(9===_){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(b&&(c=b.getElementById(o))&&y(t,c)&&c.id===o)return r.push(c),r}else{if(u[2])return M.apply(r,t.getElementsByTagName(e)),r;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!T[e+" "]&&(!m||!m.test(e))){if(1!==_)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((h=t.getAttribute("id"))?h=h.replace(te,ne):t.setAttribute("id",h=w),a=(p=s(e)).length;a--;)p[a]="#"+h+" "+me(p[a]);v=p.join(","),b=Q.test(e)&&pe(t.parentNode)||t}if(v)try{return M.apply(r,b.querySelectorAll(v)),r}catch(e){}finally{h===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,r,i)}function se(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ae(e){return e[w]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return ae(function(t){return t=+t,ae(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=oe.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:x;return s!==d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),x!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(d.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Y.test(d.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Y.test(p.compareDocumentPosition),y=t||Y.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===x&&y(x,e)?-1:t===d||t.ownerDocument===x&&y(x,t)?1:h?N(h,e)-N(h,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:h?N(h,e)-N(h,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ce(s[r],a[r]):s[r]===x?-1:a[r]===x?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),t=t.replace(U,"='$1']"),n.matchesSelector&&g&&!T[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&E.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(u=!n.detectDuplicates,h=!n.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return h=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+P+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,h,u,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(y=(d=(c=(h=(u=(f=m)[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){h[e]=[_,d,y];break}}else if(b&&(y=d=(c=(h=(u=(f=t)[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===y)for(;(f=++d&&f&&f[g]||(y=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(b&&((h=(u=f[w]||(f[w]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]=[_,y]),f!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=N(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ae(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[w]?ae(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ae(function(e){return $.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ue(t);function ge(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,h,u,f=[_,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(h=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=h[o])&&c[0]===_&&c[1]===a)return f[2]=c[2];if(h[o]=f,f[2]=e(t,n,l))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function we(e,t,n,r,i,o){return r&&!r[w]&&(r=we(r)),i&&!i[w]&&(i=we(i,o)),ae(function(o,s,a,l){var c,h,u,f=[],d=[],p=s.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:ye(g,f,e,a,l),v=n?i||(o?e:p||r)?[]:s:m;if(n&&n(m,v,a,l),r)for(c=ye(v,d),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[d[h]]=!(m[d[h]]=u));if(o){if(i||e){if(i){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);i(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=i?N(o,u):f[h])>-1&&(o[c]=!(s[c]=u))}}else v=ye(v===s?v.splice(p,v.length):v),i?i(null,s,v,l):M.apply(s,v)})}function xe(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,h=ve(function(e){return e===t},a,!0),u=ve(function(e){return N(t,e)>-1},a,!0),f=[function(e,n,r){var i=!s&&(r||n!==c)||((t=n).nodeType?h(e,n,r):u(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])f=[ve(be(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return we(l>1&&be(f),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<i&&xe(e.slice(l,i)),i<o&&xe(e=e.slice(i)),i<o&&me(e))}f.push(n)}return be(f)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,s=oe.tokenize=function(e,t){var n,i,o,s,a,l,c,h=C[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),r.filter)!(i=G[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):C(e,l).slice(0)},a=oe.compile=function(e,t){var n,i=[],o=[],a=T[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=xe(t[n]))[w]?i.push(a):o.push(a);(a=T(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,h){var u,p,m,v=0,b="0",y=o&&[],w=[],x=c,S=o||i&&r.find.TAG("*",h),k=_+=null==x?1:Math.random()||.1,C=S.length;for(h&&(c=s===d||s||h);b!==C&&null!=(u=S[b]);b++){if(i&&u){for(p=0,s||u.ownerDocument===d||(f(u),a=!g);m=e[p++];)if(m(u,s||d,a)){l.push(u);break}h&&(_=k)}n&&((u=!m&&u)&&v--,o&&y.push(u))}if(v+=b,n&&b!==v){for(p=0;m=t[p++];)m(y,w,s,a);if(o){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=R.call(l));w=ye(w)}M.apply(l,w),h&&!o&&w.length>0&&v+t.length>1&&oe.uniqueSort(l)}return h&&(_=k,c=x),y};return n?ae(o):o}(o,i))).selector=e}return a},l=oe.select=function(e,t,n,i){var o,l,c,h,u,f="function"==typeof e&&e,d=!i&&s(e=f.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=G.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[h=c.type]);)if((u=r.find[h])&&(i=u(c.matches[0].replace(J,ee),Q.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&me(l)))return M.apply(n,i),n;break}}return(f||a(e,d))(i,t,!g,n,!t||Q.test(e)&&pe(t.parentNode)||t),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!u,f(),oe}(window);y.find=_,y.expr=_.selectors,y.expr[":"]=y.expr.pseudos,y.uniqueSort=y.unique=_.uniqueSort,y.text=_.getText,y.isXMLDoc=_.isXML,y.contains=_.contains,y.escapeSelector=_.escape;var S=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&y(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=y.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(e,t,n){return d(t)?y.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?y.grep(e,function(e){return e===t!==n}):"string"!=typeof t?y.grep(e,function(e){return s.call(t,e)>-1!==n}):y.filter(t,e,n)}y.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?y.find.matchesSelector(r,e)?[r]:[]:y.find.matches(e,y.grep(t,function(e){return 1===e.nodeType}))},y.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(y(e).filter(function(){for(t=0;t<r;t++)if(y.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)y.find(e,i[t],n);return r>1?y.uniqueSort(n):n},filter:function(e){return this.pushStack(E(this,e||[],!1))},not:function(e){return this.pushStack(E(this,e||[],!0))},is:function(e){return!!E(this,"string"==typeof e&&C.test(e)?y(e):e||[],!1).length}});var L,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(y.fn.init=function(e,n,r){var i,o;if(!e)return this;if(r=r||L,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof y?n[0]:n,y.merge(this,y.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:t,!0)),A.test(i[1])&&y.isPlainObject(n))for(i in n)d(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return(o=t.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):d(e)?void 0!==r.ready?r.ready(e):e(y):y.makeArray(e,this)}).prototype=y.fn,L=y(t);var D=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}y.fn.extend({has:function(e){var t=y(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(y.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&y(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&y.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?y.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(y(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return T(e,"iframe")?e.contentDocument:(T(e,"template")&&(e=e.content||e),y.merge([],e.childNodes))}},function(e,t){y.fn[e]=function(n,r){var i=y.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=y.filter(r,i)),this.length>1&&(M[e]||y.uniqueSort(i),D.test(e)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function F(e){return e}function P(e){throw e}function O(e,t,n,r){var i;try{e&&d(i=e.promise)?i.call(e).done(t).fail(n):e&&d(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}y.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return y.each(e.match(N)||[],function(e,n){t[n]=!0}),t}(e):y.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){y.each(n,function(n,r){d(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==v(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return y.each(arguments,function(e,t){for(var n;(n=y.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?y.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},y.extend({Deferred:function(e){var t=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return y.Deferred(function(n){y.each(t,function(t,r){var o=d(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&d(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var i=0;function o(e,t,n,r){return function(){var s=this,a=arguments,l=function(){var l,c;if(!(e<i)){if((l=n.apply(s,a))===t.promise())throw new TypeError("Thenable self-resolution");c=l&&("object"==typeof l||"function"==typeof l)&&l.then,d(c)?r?c.call(l,o(i,t,F,r),o(i,t,P,r)):(i++,c.call(l,o(i,t,F,r),o(i,t,P,r),o(i,t,F,t.notifyWith))):(n!==F&&(s=void 0,a=[l]),(r||t.resolveWith)(s,a))}},c=r?l:function(){try{l()}catch(r){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(r,c.stackTrace),e+1>=i&&(n!==P&&(s=void 0,a=[r]),t.rejectWith(s,a))}};e?c():(y.Deferred.getStackHook&&(c.stackTrace=y.Deferred.getStackHook()),window.setTimeout(c))}}return y.Deferred(function(i){t[0][3].add(o(0,i,d(r)?r:F,i.notifyWith)),t[1][3].add(o(0,i,d(e)?e:F)),t[2][3].add(o(0,i,d(n)?n:P))}).promise()},promise:function(e){return null!=e?y.extend(e,r):r}},i={};return y.each(t,function(e,o){var s=o[2],a=o[5];r[o[1]]=s.add,a&&s.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(o[3].fire),i[o[0]]=function(){return i[o[0]+"With"](this===i?void 0:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=y.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(O(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||d(o[n]&&o[n].then)))return s.then();for(;n--;)O(o[n],a(n),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&B.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},y.readyException=function(e){window.setTimeout(function(){throw e})};var H=y.Deferred();function j(){t.removeEventListener("DOMContentLoaded",j),window.removeEventListener("load",j),y.ready()}y.fn.ready=function(e){return H.then(e).catch(function(e){y.readyException(e)}),this},y.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--y.readyWait:y.isReady)||(y.isReady=!0,!0!==e&&--y.readyWait>0||H.resolveWith(t,[y]))}}),y.ready.then=H.then,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(y.ready):(t.addEventListener("DOMContentLoaded",j),window.addEventListener("load",j));var z=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===v(n))for(a in i=!0,n)z(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,d(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(y(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},V=/^-ms-/,q=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function W(e){return e.replace(V,"ms-").replace(q,U)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=y.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[W(t)]=n;else for(r in t)i[W(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in r?[t]:t.match(N)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||y.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!y.isEmptyObject(t)}};var Z=new G,X=new G,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Q(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}y.extend({hasData:function(e){return X.hasData(e)||Z.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),y.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=X.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=W(r.slice(5)),Q(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){X.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=X.get(o,e))||void 0!==(n=Q(o,e))?n:void 0;this.each(function(){X.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=y.queue(e,t),r=n.length,i=n.shift(),o=y._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){y.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:y.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),y.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?y.queue(this[0],e):void 0===t?this:this.each(function(){var n=y.queue(this,e,t);y._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){y.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=y.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Z.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&y.contains(e.ownerDocument,e)&&"none"===y.css(e,"display")},re=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i};var ie={};function oe(e){var t,n=e.ownerDocument,r=e.nodeName,i=ie[r];return i||(t=n.body.appendChild(n.createElement(r)),i=y.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ie[r]=i,i)}function se(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ne(r)&&(i[o]=oe(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}y.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ne(this)?y(this).show():y(this).hide()})}});var ae=/^(?:checkbox|radio)$/i,le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ce=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?y.merge([e],n):n}function fe(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var de=/<|&#?\w+;/;function pe(e,t,n,r,i){for(var o,s,a,l,c,h,u=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===v(o))y.merge(f,o.nodeType?[o]:o);else if(de.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(le.exec(o)||["",""])[1].toLowerCase(),l=he[a]||he._default,s.innerHTML=l[1]+y.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;y.merge(f,s.childNodes),(s=u.firstChild).textContent=""}else f.push(t.createTextNode(o));for(u.textContent="",d=0;o=f[d++];)if(r&&y.inArray(o,r)>-1)i&&i.push(o);else if(c=y.contains(o.ownerDocument,o),s=ue(u.appendChild(o),"script"),c&&fe(s),n)for(h=0;o=s[h++];)ce.test(o.type||"")&&n.push(o);return u}!function(){var e=t.createDocumentFragment().appendChild(t.createElement("div")),n=t.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ge=t.documentElement,me=/^key/,ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function we(){return!1}function xe(){try{return t.activeElement}catch(e){}}function _e(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)_e(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=we;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return y().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=y.guid++)),e.each(function(){y.event.add(this,t,i,r,n)})}y.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,h,u,f,d,p,g,m=Z.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&y.find.matchesSelector(ge,i),n.guid||(n.guid=y.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==y&&y.event.triggered!==t.type?y.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)d=g=(a=be.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(u=y.event.special[d]||{},d=(i?u.delegateType:u.bindType)||d,u=y.event.special[d]||{},h=y.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&y.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[d])||((f=l[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(d,s)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,h):f.push(h),y.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,h,u,f,d,p,g,m=Z.hasData(e)&&Z.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(d=g=(a=be.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(u=y.event.special[d]||{},f=l[d=(r?u.delegateType:u.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!i&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,u.remove&&u.remove.call(e,h));s&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||y.removeEvent(e,d,m.handle),delete l[d])}else for(d in l)y.event.remove(e,d+t[c],n,r,!0);y.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=y.event.fix(e),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],h=y.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=y.event.handlers.call(this,a,c),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((y.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?y(i,this).index(c)>-1:y.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(y.Event.prototype,e,{enumerable:!0,configurable:!0,get:d(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[y.expando]?e:new y.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xe()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(e){return T(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},y.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ve.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},y.event.addProp),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||y.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),y.fn.extend({on:function(e,t,n,r){return _e(this,e,t,n,r)},one:function(e,t,n,r){return _e(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,y(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=we),this.each(function(){y.event.remove(this,e,n,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ke=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&y(e).children("tbody")[0]||e}function Ee(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,i,o,s,a,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(o=Z.access(e),s=Z.set(t,o),c=o.events))for(i in delete s.handle,s.events={},c)for(n=0,r=c[i].length;n<r;n++)y.event.add(t,i,c[i][n]);X.hasData(e)&&(a=X.access(e),l=y.extend({},a),X.set(t,l))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Me(e,t,n,r){t=i.apply([],t);var o,s,a,l,c,h,u=0,p=e.length,g=p-1,v=t[0],b=d(v);if(b||p>1&&"string"==typeof v&&!f.checkClone&&Ce.test(v))return e.each(function(i){var o=e.eq(i);b&&(t[0]=v.call(this,i,o.html())),Me(o,t,n,r)});if(p&&(s=(o=pe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=y.map(ue(o,"script"),Ee)).length;u<p;u++)c=o,u!==g&&(c=y.clone(c,!0,!0),l&&y.merge(a,ue(c,"script"))),n.call(e[u],c,u);if(l)for(h=a[a.length-1].ownerDocument,y.map(a,Le),u=0;u<l;u++)c=a[u],ce.test(c.type||"")&&!Z.access(c,"globalEval")&&y.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?y._evalUrl&&y._evalUrl(c.src):m(c.textContent.replace(Te,""),h,c))}return e}function Ie(e,t,n){for(var r,i=t?y.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||y.cleanData(ue(r)),r.parentNode&&(n&&y.contains(r.ownerDocument,r)&&fe(ue(r,"script")),r.parentNode.removeChild(r));return e}y.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=y.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||y.isXMLDoc(e)))for(s=ue(a),r=0,i=(o=ue(e)).length;r<i;r++)De(o[r],s[r]);if(t)if(n)for(o=o||ue(e),s=s||ue(a),r=0,i=o.length;r<i;r++)Re(o[r],s[r]);else Re(e,a);return(s=ue(a,"script")).length>0&&fe(s,!l&&ue(e,"script")),a},cleanData:function(e){for(var t,n,r,i=y.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?y.event.remove(n,r):y.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),y.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?y.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(y.cleanData(ue(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return y.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!he[(le.exec(e)||["",""])[1].toLowerCase()]){e=y.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(y.cleanData(ue(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;y.inArray(this,e)<0&&(y.cleanData(ue(this)),n&&n.replaceChild(t,this))},e)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){y.fn[e]=function(e){for(var n,r=[],i=y(e),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),y(i[a])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var Ne=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},Pe=new RegExp(te.join("|"),"i");function Oe(e,t,n){var r,i,o,s,a=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||y.contains(e.ownerDocument,e)||(s=y.style(e,t)),!f.pixelBoxStyles()&&Ne.test(s)&&Pe.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(l).appendChild(c);var e=window.getComputedStyle(c);r="1%"!==e.top,a=12===n(e.marginLeft),c.style.right="60%",s=36===n(e.right),i=36===n(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",ge.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,s,a,l=t.createElement("div"),c=t.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,y.extend(f,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var He,je,ze=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,qe={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:"0",fontWeight:"400"},We=["Webkit","Moz","ms"],$e=t.createElement("div").style;function Ge(e){var t=y.cssProps[e];return t||(t=y.cssProps[e]=function(e){if(e in $e)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in $e)return e}(e)||e),t}function Ze(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Xe(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=y.css(e,n+te[s],!0,i)),r?("content"===n&&(l-=y.css(e,"padding"+te[s],!0,i)),"margin"!==n&&(l-=y.css(e,"border"+te[s]+"Width",!0,i))):(l+=y.css(e,"padding"+te[s],!0,i),"padding"!==n?l+=y.css(e,"border"+te[s]+"Width",!0,i):a+=y.css(e,"border"+te[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function Ye(e,t,n){var r=Fe(e),i=Oe(e,t,r),o="border-box"===y.css(e,"boxSizing",!1,r),s=o;if(Ne.test(i)){if(!n)return i;i="auto"}return s=s&&(f.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===y.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(i=parseFloat(i)||0)+Xe(e,t,n||(o?"border":"content"),s,r,i)+"px"}y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Oe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=W(t),l=Ve.test(t),c=e.style;if(l||(t=Ge(a)),s=y.cssHooks[t]||y.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ee.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return y.css(e,t,"")},l=a(),c=n&&n[3]||(y.cssNumber[t]?"":"px"),h=(y.cssNumber[t]||"px"!==c&&+l)&&ee.exec(y.css(e,t));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;s--;)y.style(e,t,h+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),h/=o;h*=2,y.style(e,t,h+c),n=n||[]}return n&&(h=+h||+l||0,i=n[1]?h+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=h,r.end=i)),i}(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(y.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=W(t);return Ve.test(t)||(t=Ge(a)),(s=y.cssHooks[t]||y.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Oe(e,t,r)),"normal"===i&&t in Ue&&(i=Ue[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),y.each(["height","width"],function(e,t){y.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(y.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ye(e,t,r):re(e,qe,function(){return Ye(e,t,r)})},set:function(e,n,r){var i,o=Fe(e),s="border-box"===y.css(e,"boxSizing",!1,o),a=r&&Xe(e,t,r,s,o);return s&&f.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Xe(e,t,"border",!1,o)-.5)),a&&(i=ee.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=y.css(e,t)),Ze(0,n,a)}}}),y.cssHooks.marginLeft=Be(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Oe(e,"marginLeft"))||e.getBoundingClientRect().left-re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(e,t){y.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+te[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(y.cssHooks[e+t].set=Ze)}),y.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;s<i;s++)o[t[s]]=y.css(e,t[s],!1,r);return o}return void 0!==n?y.style(e,t,n):y.css(e,t)},e,t,arguments.length>1)}}),y.fn.delay=function(e,t){return e=y.fx&&y.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}})},He=t.createElement("input"),je=t.createElement("select").appendChild(t.createElement("option")),He.type="checkbox",f.checkOn=""!==He.value,f.optSelected=je.selected,(He=t.createElement("input")).value="t",He.type="radio",f.radioValue="t"===He.value;var Ke,Qe=y.expr.attrHandle;y.fn.extend({attr:function(e,t){return z(this,y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){y.removeAttr(this,e)})}}),y.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?y.prop(e,t,n):(1===o&&y.isXMLDoc(e)||(i=y.attrHooks[t.toLowerCase()]||(y.expr.match.bool.test(t)?Ke:void 0)),void 0!==n?null===n?void y.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=y.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(N);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ke={set:function(e,t,n){return!1===t?y.removeAttr(e,n):e.setAttribute(n,n),n}},y.each(y.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Qe[t]||y.find.attr;Qe[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=Qe[s],Qe[s]=i,i=null!=n(e,t,r)?s:null,Qe[s]=o),i}});var Je=/^(?:input|select|textarea|button)$/i,et=/^(?:a|area)$/i;function tt(e){return(e.match(N)||[]).join(" ")}function nt(e){return e.getAttribute&&e.getAttribute("class")||""}function rt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}y.fn.extend({prop:function(e,t){return z(this,y.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[y.propFix[e]||e]})}}),y.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&y.isXMLDoc(e)||(t=y.propFix[t]||t,i=y.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=y.find.attr(e,"tabindex");return t?parseInt(t,10):Je.test(e.nodeName)||et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(y.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this}),y.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(d(e))return this.each(function(t){y(this).addClass(e.call(this,t,nt(this)))});if((t=rt(e)).length)for(;n=this[l++];)if(i=nt(n),r=1===n.nodeType&&" "+tt(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=tt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(d(e))return this.each(function(t){y(this).removeClass(e.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if((t=rt(e)).length)for(;n=this[l++];)if(i=nt(n),r=1===n.nodeType&&" "+tt(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=tt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):d(e)?this.each(function(n){y(this).toggleClass(e.call(this,n,nt(this),t),t)}):this.each(function(){var t,i,o,s;if(r)for(i=0,o=y(this),s=rt(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=nt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+tt(nt(n))+" ").indexOf(t)>-1)return!0;return!1}});var it=/\r/g;y.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=d(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,y(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=y.map(i,function(e){return null==e?"":e+""})),(t=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=y.valHooks[i.type]||y.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(it,""):null==n?"":n:void 0}}),y.extend({valHooks:{option:{get:function(e){var t=y.find.attr(e,"value");return null!=t?t:tt(y.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=y(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=y.makeArray(t),s=i.length;s--;)((r=i[s]).selected=y.inArray(y.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=y.inArray(y(e).val(),t)>-1}},f.checkOn||(y.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.focusin="onfocusin"in window;var ot=/^(?:focusinfocus|focusoutblur)$/,st=function(e){e.stopPropagation()};y.extend(y.event,{trigger:function(e,n,r,i){var o,s,a,l,h,u,f,g,m=[r||t],v=c.call(e,"type")?e.type:e,b=c.call(e,"namespace")?e.namespace.split("."):[];if(s=g=a=r=r||t,3!==r.nodeType&&8!==r.nodeType&&!ot.test(v+y.event.triggered)&&(v.indexOf(".")>-1&&(b=v.split("."),v=b.shift(),b.sort()),h=v.indexOf(":")<0&&"on"+v,(e=e[y.expando]?e:new y.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:y.makeArray(n,[e]),f=y.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!p(r)){for(l=f.delegateType||v,ot.test(l+v)||(s=s.parentNode);s;s=s.parentNode)m.push(s),a=s;a===(r.ownerDocument||t)&&m.push(a.defaultView||a.parentWindow||window)}for(o=0;(s=m[o++])&&!e.isPropagationStopped();)g=s,e.type=o>1?l:f.bindType||v,(u=(Z.get(s,"events")||{})[e.type]&&Z.get(s,"handle"))&&u.apply(s,n),(u=h&&s[h])&&u.apply&&$(s)&&(e.result=u.apply(s,n),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),n)||!$(r)||h&&d(r[v])&&!p(r)&&((a=r[h])&&(r[h]=null),y.event.triggered=v,e.isPropagationStopped()&&g.addEventListener(v,st),r[v](),e.isPropagationStopped()&&g.removeEventListener(v,st),y.event.triggered=void 0,a&&(r[h]=a)),e.result}},simulate:function(e,t,n){var r=y.extend(new y.Event,n,{type:e,isSimulated:!0});y.event.trigger(r,null,t)}}),y.fn.extend({trigger:function(e,t){return this.each(function(){y.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return y.event.trigger(e,t,n,!0)}}),f.focusin||y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){y.event.simulate(t,e.target,y.event.fix(e))};y.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}});var at,lt=/\[\]$/,ct=/\r?\n/g,ht=/^(?:submit|button|image|reset|file)$/i,ut=/^(?:input|select|textarea|keygen)/i;function ft(e,t,n,r){var i;if(Array.isArray(t))y.each(t,function(t,i){n||lt.test(e)?r(e,i):ft(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==v(t))r(e,t);else for(i in t)ft(e+"["+i+"]",t[i],n,r)}y.param=function(e,t){var n,r=[],i=function(e,t){var n=d(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,function(){i(this.name,this.value)});else for(n in e)ft(n,e[n],t,i);return r.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&ut.test(this.nodeName)&&!ht.test(e)&&(this.checked||!ae.test(e))}).map(function(e,t){var n=y(this).val();return null==n?null:Array.isArray(n)?y.map(n,function(e){return{name:t.name,value:e.replace(ct,"\r\n")}}):{name:t.name,value:n.replace(ct,"\r\n")}}).get()}}),y.fn.extend({wrapAll:function(e){var t;return this[0]&&(d(e)&&(e=e.call(this[0])),t=y(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return d(e)?this.each(function(t){y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=d(e);return this.each(function(n){y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(e){return!y.expr.pseudos.visible(e)},y.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},f.createHTMLDocument=((at=t.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===at.childNodes.length),y.parseHTML=function(e,n,r){return"string"!=typeof e?[]:("boolean"==typeof n&&(r=n,n=!1),n||(f.createHTMLDocument?((i=(n=t.implementation.createHTMLDocument("")).createElement("base")).href=t.location.href,n.head.appendChild(i)):n=t),s=!r&&[],(o=A.exec(e))?[n.createElement(o[1])]:(o=pe([e],n,s),s&&s.length&&y(s).remove(),y.merge([],o.childNodes)));var i,o,s},y.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=y.css(e,"position"),h=y(e),u={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=y.css(e,"top"),l=y.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=h.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),d(t)&&(t=t.call(e,n,y.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):h.css(u)}},y.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){y.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===y.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===y.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=y(e).offset()).top+=y.css(e,"borderTopWidth",!0),i.left+=y.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-y.css(r,"marginTop",!0),left:t.left-i.left-y.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===y.css(e,"position");)e=e.offsetParent;return e||ge})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;y.fn[e]=function(r){return z(this,function(e,r,i){var o;if(p(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),y.each(["top","left"],function(e,t){y.cssHooks[t]=Be(f.pixelPosition,function(e,n){if(n)return n=Oe(e,t),Ne.test(n)?y(e).position()[t]+"px":n})}),y.each({Height:"height",Width:"width"},function(e,t){y.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){y.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return p(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?y.css(t,n,a):y.style(t,n,i,a)},t,s?i:void 0,s)}})}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){y.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),y.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),y.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),d(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||y.guid++,o},y.holdReady=function(e){e?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=T,y.isFunction=d,y.isWindow=p,y.camelCase=W,y.type=v,y.now=Date.now,y.isNumeric=function(e){var t=y.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};const dt=y;function pt(e){return function(e,t){const n=document.createElement(e);t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(let n of Object.keys(t))e.style[n]=t[n]}(n,t.style));return n}("div",e)}function gt(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function mt(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function vt(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function bt(e,t){const{clientX:n,clientY:r}=e;return((e,{clientX:t,clientY:n})=>{const{left:r,top:i,width:o,height:s}=e.getBoundingClientRect(),a=t-r,l=n-i;return{x:a,y:l,xNormalized:a/o,yNormalized:l/s,width:o,height:s}})(t,{clientX:n,clientY:r})}function yt(e,t){return function(e,t){t=t||"currentColor";let n=wt[e];n||(console.error(`No icon named: ${e}`),n=wt.question);const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"fill",t),i.setAttributeNS(null,"d",n[4]),r.appendChild(i),r}(e,t)}const wt={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function xt(e,t){var n=document.createElement("div");e.appendChild(n),n.appendChild(yt("times")),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}function _t(e){return"string"==typeof e||e instanceof String}function St(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce(function(e,t,n){return n%3==0?e+","+t:e+t}).split("").reverse().join("")+(t[1]?"."+t[1]:"")}const kt=function(e){return e.split(/\n|\r\n|\r/g)};function Ct(e,t){var n,r,i=[],o=e.length,s=0,a=!1;if(o>0)for(i[s]=e.charAt(0),n=1;n<o;n++)'"'===(r=e.charAt(n))?a=!a:a||r!==t?i[s]+=r:i[++s]="";return i}function Tt(e){return e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e}function At(e){return e.includes("googleapis")&&!e.includes("urlshortener")||Et(e)||Lt(e)}function Et(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function Lt(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function Rt(e){let{bucket:t,object:n}=function(e){let t,n;if(e.startsWith("gs://")){const r=e.indexOf("/",5);if(r>=0){t=e.substring(5,r);const i=e.indexOf("?");n=i<0?e.substring(r+1):e.substring(r+1,i)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const r=e.indexOf("/v1/b/",8);if(r>0){const i=e.indexOf("/o/",r);if(i>0){const o=e.indexOf("?",i);t=e.substring(r+6,i),n=o>0?e.substring(i+3,o):e.substring(i+3)}}else{const r=e.indexOf("/",8),i=e.indexOf("/",r+1),o=e.indexOf("?",i);i>0&&(t=e.substring(r+1,i),n=o<0?e.substring(i+1):e.substring(i+1,o))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const r=e.indexOf("/v1/b/",8),i=e.indexOf("/o/",r);if(i>0){const o=e.indexOf("?",i);t=e.substring(r+6,i),n=o>0?e.substring(i+3,o):e.substring(i+3)}}if(t&&n)return{bucket:t,object:n};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);n=function(e){let t="";return e.split("").forEach(function(e){It.has(e)?t+=It.get(e):t+=e}),t}(n);const r=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${n}${r>0?e.substring(r)+"&alt=media":"?alt=media"}`}function Dt(e){var t=Mt(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function Mt(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,n=e.indexOf("&");if(t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/");return e.substring(t,n)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const n=e.indexOf("?");if(t>0)return t+=7,n>0?e.substring(t,n):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}const It=new Map;It.set("!","%21"),It.set("#","%23"),It.set("$","%24"),It.set("%","%25"),It.set("&","%26"),It.set("'","%27"),It.set("(","%28"),It.set(")","%29"),It.set("*","%2A"),It.set("+","%2B"),It.set(",","%2C"),It.set("/","%2F"),It.set(":","%3A"),It.set(";","%3B"),It.set("=","%3D"),It.set("?","%3F"),It.set("@","%40"),It.set("[","%5B"),It.set("]","%5D"),It.set(" ","%20");async function Nt(e){if(Ft())return void console.warn("oAuth has already been initialized");gapi.apiKey=e.apiKey;const t=Object.assign({},e);return t.scope||(t.scope="profile"),e.client_id||(e.client_id=e.clientId),await async function(e){return new Promise(function(t,n){gapi.load(e,{callback:t,onerror:n})})}("auth2"),new Promise(function(e,n){gapi.auth2.init(t).then(e,n)})}function Ft(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}let Pt=!1;async function Ot(e){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");if(!gapi.auth2)throw Error("Google 'auth2' has not been initialized");if(Pt)return new Promise(function(t,n){let r;r=setInterval(()=>{try{!1===Pt&&(t(Ot(e)),clearInterval(r))}catch(e){clearInterval(r),n(e)}},100)});Pt=!0;try{let t,n=gapi.auth2.getAuthInstance().currentUser.get();if(n.isSignedIn()){n.hasGrantedScopes(e)||await n.grant({scope:e});const{access_token:r,expires_at:i}=n.getAuthResponse();if(Date.now()<i-3e5)t={access_token:r,expires_at:i};else{const{access_token:e,expires_at:r}=n.reloadAuthResponse();t={access_token:e,expires_at:r}}}else{n=await async function(e){const t=new gapi.auth2.SigninOptionsBuilder;return t.setPrompt("select_account"),t.setScope(e),gapi.auth2.getAuthInstance().signIn(t)}(e);const{access_token:r,expires_at:i}=n.getAuthResponse();t={access_token:r,expires_at:i}}return t}finally{Pt=!1}}function Bt(){return gapi.apiKey}function Ht(e){for(var t=jt,n=t.parser.loose.exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const jt={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function zt(e){if(Vt(e))return e.name;if(_t(e)){let t=e.lastIndexOf("/"),n=t<0?e:e.substr(t+1);return t=n.indexOf("?"),t>0&&(n=n.substr(0,t)),n}throw Error("Expected File or string, got "+typeof e)}function Vt(e){return e instanceof File||"function"!=typeof e&&e.hasOwnProperty("name")&&e.hasOwnProperty("size")&&e.hasOwnProperty("type")}const qt=Vt;function Ut(e,t){const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Wt(e){let t=e.length;for(;--t>=0;)e[t]=0}const $t=256,Gt=286,Zt=30,Xt=15,Yt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Jt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),en=new Array(576);Wt(en);const tn=new Array(60);Wt(tn);const nn=new Array(512);Wt(nn);const rn=new Array(256);Wt(rn);const on=new Array(29);Wt(on);const sn=new Array(Zt);function an(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let ln,cn,hn;function un(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Wt(sn);const fn=e=>e<256?nn[e]:nn[256+(e>>>7)],dn=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},pn=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,dn(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gn=(e,t,n)=>{pn(e,n[2*t],n[2*t+1])},mn=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},vn=(e,t,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=Xt;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=mn(r[t]++,t))}},bn=e=>{let t;for(t=0;t<Gt;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Zt;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},yn=e=>{e.bi_valid>8?dn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},wn=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},xn=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&wn(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!wn(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},_n=(e,t,n)=>{let r,i,o,s,a=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?gn(e,i,t):(o=rn[i],gn(e,o+$t+1,t),s=Yt[o],0!==s&&(i-=on[o],pn(e,i,s)),r--,o=fn(r),gn(e,o,n),s=Kt[o],0!==s&&(r-=sn[o],pn(e,r,s)))}while(a<e.last_lit);gn(e,256,t)},Sn=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)xn(e,n,s);l=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xn(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[2*l]=n[2*s]+n[2*a],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[2*s+1]=n[2*a+1]=l,e.heap[1]=l++,xn(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,h,u,f,d,p,g=0;for(f=0;f<=Xt;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)h=e.heap[c],f=n[2*n[2*h+1]+1]+1,f>l&&(f=l,g++),n[2*h+1]=f,h>r||(e.bl_count[f]++,d=0,h>=a&&(d=s[h-a]),p=n[2*h],e.opt_len+=p*(f+d),o&&(e.static_len+=p*(i[2*h+1]+d)));if(0!==g){do{for(f=l-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(f=l;0!==f;f--)for(h=e.bl_count[f];0!==h;)u=e.heap[--c],u>r||(n[2*u+1]!==f&&(e.opt_len+=(f-n[2*u+1])*n[2*u],n[2*u+1]=f),h--)}})(e,t),vn(n,c,e.bl_count)},kn=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))},Cn=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{gn(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(gn(e,i,e.bl_tree),a--),gn(e,16,e.bl_tree),pn(e,a-3,2)):a<=10?(gn(e,17,e.bl_tree),pn(e,a-3,3)):(gn(e,18,e.bl_tree),pn(e,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}};let Tn=!1;const An=(e,t,n,r)=>{pn(e,0+(r?1:0),3),((e,t,n,r)=>{yn(e),r&&(dn(e,n),dn(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var En={_tr_init:e=>{Tn||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(on[r]=n,e=0;e<1<<Yt[r];e++)rn[n++]=r;for(rn[n-1]=r,i=0,r=0;r<16;r++)for(sn[r]=i,e=0;e<1<<Kt[r];e++)nn[i++]=r;for(i>>=7;r<Zt;r++)for(sn[r]=i<<7,e=0;e<1<<Kt[r]-7;e++)nn[256+i++]=r;for(t=0;t<=Xt;t++)o[t]=0;for(e=0;e<=143;)en[2*e+1]=8,e++,o[8]++;for(;e<=255;)en[2*e+1]=9,e++,o[9]++;for(;e<=279;)en[2*e+1]=7,e++,o[7]++;for(;e<=287;)en[2*e+1]=8,e++,o[8]++;for(vn(en,287,o),e=0;e<Zt;e++)tn[2*e+1]=5,tn[2*e]=mn(e,5);ln=new an(en,Yt,257,Gt,Xt),cn=new an(tn,Kt,0,Zt,Xt),hn=new an(new Array(0),Qt,0,19,7)})(),Tn=!0),e.l_desc=new un(e.dyn_ltree,ln),e.d_desc=new un(e.dyn_dtree,cn),e.bl_desc=new un(e.bl_tree,hn),e.bi_buf=0,e.bi_valid=0,bn(e)},_tr_stored_block:An,_tr_flush_block:(e,t,n,r)=>{let i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<$t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Sn(e,e.l_desc),Sn(e,e.d_desc),s=(e=>{let t;for(kn(e,e.dyn_ltree,e.l_desc.max_code),kn(e,e.dyn_dtree,e.d_desc.max_code),Sn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Jt[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?An(e,t,n,r):4===e.strategy||o===i?(pn(e,2+(r?1:0),3),_n(e,en,tn)):(pn(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(pn(e,t-257,5),pn(e,n-1,5),pn(e,r-4,4),i=0;i<r;i++)pn(e,e.bl_tree[2*Jt[i]+1],3);Cn(e,e.dyn_ltree,t-1),Cn(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),_n(e,e.dyn_ltree,e.dyn_dtree)),bn(e),r&&yn(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(rn[n]+$t+1)]++,e.dyn_dtree[2*fn(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{pn(e,2,3),gn(e,256,en),(e=>{16===e.bi_valid?(dn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Ln=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Rn=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Dn=(e,t,n,r)=>{const i=Rn,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},Mn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},In={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Nn,_tr_stored_block:Fn,_tr_flush_block:Pn,_tr_tally:On,_tr_align:Bn}=En,{Z_NO_FLUSH:Hn,Z_PARTIAL_FLUSH:jn,Z_FULL_FLUSH:zn,Z_FINISH:Vn,Z_BLOCK:qn,Z_OK:Un,Z_STREAM_END:Wn,Z_STREAM_ERROR:$n,Z_DATA_ERROR:Gn,Z_BUF_ERROR:Zn,Z_DEFAULT_COMPRESSION:Xn,Z_FILTERED:Yn,Z_HUFFMAN_ONLY:Kn,Z_RLE:Qn,Z_FIXED:Jn,Z_DEFAULT_STRATEGY:er,Z_UNKNOWN:tr,Z_DEFLATED:nr}=In,rr=258,ir=262,or=103,sr=113,ar=666,lr=(e,t)=>(e.msg=Mn[t],t),cr=e=>(e<<1)-(e>4?9:0),hr=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let ur=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const fr=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},dr=(e,t)=>{Pn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fr(e.strm)},pr=(e,t)=>{e.pending_buf[e.pending++]=t},gr=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},mr=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Ln(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Dn(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},vr=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-ir?e.strstart-(e.w_size-ir):0,c=e.window,h=e.w_mask,u=e.prev,f=e.strstart+rr;let d=c[o+s-1],p=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,c[n+s]===p&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=rr-(f-o),o=f-rr,r>s){if(e.match_start=t,s=r,r>=a)break;d=c[o+s-1],p=c[o+s]}}}while((t=u[t&h])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead},br=e=>{const t=e.w_size;let n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ir)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=mr(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=ur(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=ur(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ir&&0!==e.strm.avail_in)},yr=(e,t)=>{let n,r;for(;;){if(e.lookahead<ir){if(br(e),e.lookahead<ir&&t===Hn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ur(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ir&&(e.match_length=vr(e,n)),e.match_length>=3)if(r=On(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ur(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ur(e,e.ins_h,e.window[e.strstart+1]);else r=On(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(dr(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Vn?(dr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(dr(e,!1),0===e.strm.avail_out)?1:2},wr=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<ir){if(br(e),e.lookahead<ir&&t===Hn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ur(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ir&&(e.match_length=vr(e,n),e.match_length<=5&&(e.strategy===Yn||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=On(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ur(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(dr(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=On(e,0,e.window[e.strstart-1]),r&&dr(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=On(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Vn?(dr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(dr(e,!1),0===e.strm.avail_out)?1:2};function xr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const _r=[new xr(0,0,0,0,(e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(br(e),0===e.lookahead&&t===Hn)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,dr(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ir&&(dr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Vn?(dr(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(dr(e,!1),e.strm.avail_out),1)}),new xr(4,4,8,4,yr),new xr(4,5,16,8,yr),new xr(4,6,32,32,yr),new xr(4,4,16,16,wr),new xr(8,16,32,32,wr),new xr(8,16,128,128,wr),new xr(8,32,128,256,wr),new xr(32,128,258,1024,wr),new xr(32,258,258,4096,wr)];function Sr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),hr(this.dyn_ltree),hr(this.dyn_dtree),hr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),hr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),hr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const kr=e=>{if(!e||!e.state)return lr(e,$n);e.total_in=e.total_out=0,e.data_type=tr;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:sr,e.adler=2===t.wrap?0:1,t.last_flush=Hn,Nn(t),Un},Cr=e=>{const t=kr(e);var n;return t===Un&&((n=e.state).window_size=2*n.w_size,hr(n.head),n.max_lazy_match=_r[n.level].max_lazy,n.good_match=_r[n.level].good_length,n.nice_match=_r[n.level].nice_length,n.max_chain_length=_r[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Tr=(e,t,n,r,i,o)=>{if(!e)return $n;let s=1;if(t===Xn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==nr||r<8||r>15||t<0||t>9||o<0||o>Jn)return lr(e,$n);8===r&&(r=9);const a=new Sr;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,Cr(e)};var Ar={deflateInit:(e,t)=>Tr(e,t,nr,15,8,er),deflateInit2:Tr,deflateReset:Cr,deflateResetKeep:kr,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?$n:(e.state.gzhead=t,Un):$n,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>qn||t<0)return e?lr(e,$n):$n;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===ar&&t!==Vn)return lr(e,0===e.avail_out?Zn:$n);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,pr(i,31),pr(i,139),pr(i,8),i.gzhead?(pr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),pr(i,255&i.gzhead.time),pr(i,i.gzhead.time>>8&255),pr(i,i.gzhead.time>>16&255),pr(i,i.gzhead.time>>24&255),pr(i,9===i.level?2:i.strategy>=Kn||i.level<2?4:0),pr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(pr(i,255&i.gzhead.extra.length),pr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Dn(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(pr(i,0),pr(i,0),pr(i,0),pr(i,0),pr(i,0),pr(i,9===i.level?2:i.strategy>=Kn||i.level<2?4:0),pr(i,3),i.status=sr);else{let t=nr+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=Kn||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=sr,gr(i,t),0!==i.strstart&&(gr(i,e.adler>>>16),gr(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),fr(e),n=i.pending,i.pending!==i.pending_buf_size));)pr(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),fr(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,pr(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),fr(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,pr(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Dn(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=or)}else i.status=or;if(i.status===or&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&fr(e),i.pending+2<=i.pending_buf_size&&(pr(i,255&e.adler),pr(i,e.adler>>8&255),e.adler=0,i.status=sr)):i.status=sr),0!==i.pending){if(fr(e),0===e.avail_out)return i.last_flush=-1,Un}else if(0===e.avail_in&&cr(t)<=cr(o)&&t!==Vn)return lr(e,Zn);if(i.status===ar&&0!==e.avail_in)return lr(e,Zn);if(0!==e.avail_in||0!==i.lookahead||t!==Hn&&i.status!==ar){let n=i.strategy===Kn?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(br(e),0===e.lookahead)){if(t===Hn)return 1;break}if(e.match_length=0,n=On(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(dr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Vn?(dr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(dr(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Qn?((e,t)=>{let n,r,i,o;const s=e.window;for(;;){if(e.lookahead<=rr){if(br(e),e.lookahead<=rr&&t===Hn)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+rr;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=rr-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=On(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=On(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(dr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Vn?(dr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(dr(e,!1),0===e.strm.avail_out)?1:2})(i,t):_r[i.level].func(i,t);if(3!==n&&4!==n||(i.status=ar),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Un;if(2===n&&(t===jn?Bn(i):t!==qn&&(Fn(i,0,0,!1),t===zn&&(hr(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),fr(e),0===e.avail_out))return i.last_flush=-1,Un}return t!==Vn?Un:i.wrap<=0?Wn:(2===i.wrap?(pr(i,255&e.adler),pr(i,e.adler>>8&255),pr(i,e.adler>>16&255),pr(i,e.adler>>24&255),pr(i,255&e.total_in),pr(i,e.total_in>>8&255),pr(i,e.total_in>>16&255),pr(i,e.total_in>>24&255)):(gr(i,e.adler>>>16),gr(i,65535&e.adler)),fr(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Un:Wn)},deflateEnd:e=>{if(!e||!e.state)return $n;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==or&&t!==sr&&t!==ar?lr(e,$n):(e.state=null,t===sr?lr(e,Gn):Un)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return $n;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return $n;if(1===i&&(e.adler=Ln(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(hr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,br(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ur(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,br(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,Un},deflateInfo:"pako deflate (from Nodeca project)"};const Er=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Lr=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Er(n,t)&&(e[t]=n[t])}}return e},Rr=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let Dr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Dr=!1}const Mr=new Uint8Array(256);for(let e=0;e<256;e++)Mr[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Mr[254]=Mr[254]=1;var Ir=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Nr=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let s=Mr[t];if(s>4)o[i++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Dr)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},Fr=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Mr[e[n]]>t?n:t};var Pr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Or=Object.prototype.toString,{Z_NO_FLUSH:Br,Z_SYNC_FLUSH:Hr,Z_FULL_FLUSH:jr,Z_FINISH:zr,Z_OK:Vr,Z_STREAM_END:qr,Z_DEFAULT_COMPRESSION:Ur,Z_DEFAULT_STRATEGY:Wr,Z_DEFLATED:$r}=In;function Gr(e){this.options=Lr({level:Ur,method:$r,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wr},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pr,this.strm.avail_out=0;let n=Ar.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Vr)throw new Error(Mn[n]);if(t.header&&Ar.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ir(t.dictionary):"[object ArrayBuffer]"===Or.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ar.deflateSetDictionary(this.strm,e),n!==Vr)throw new Error(Mn[n]);this._dict_set=!0}}function Zr(e,t){const n=new Gr(t);if(n.push(e,!0),n.err)throw n.msg||Mn[n.err];return n.result}Gr.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?zr:Br,"string"==typeof e?n.input=Ir(e):"[object ArrayBuffer]"===Or.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Hr||o===jr)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Ar.deflate(n,o),i===qr)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ar.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Vr;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Gr.prototype.onData=function(e){this.chunks.push(e)},Gr.prototype.onEnd=function(e){e===Vr&&(this.result=Rr(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xr={Deflate:Gr,deflate:Zr,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Zr(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Zr(e,t)},constants:In};var Yr=function(e,t){let n,r,i,o,s,a,l,c,h,u,f,d,p,g,m,v,b,y,w,x,_,S,k,C;const T=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,C=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=T.dmax,l=T.wsize,c=T.whave,h=T.wnext,u=T.window,f=T.hold,d=T.bits,p=T.lencode,g=T.distcode,m=(1<<T.lenbits)-1,v=(1<<T.distbits)-1;e:do{d<15&&(f+=k[n++]<<d,d+=8,f+=k[n++]<<d,d+=8),b=p[f&m];t:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,0===y)C[i++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=p[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){T.mode=12;break e}e.msg="invalid literal/length code",T.mode=30;break e}w=65535&b,y&=15,y&&(d<y&&(f+=k[n++]<<d,d+=8),w+=f&(1<<y)-1,f>>>=y,d-=y),d<15&&(f+=k[n++]<<d,d+=8,f+=k[n++]<<d,d+=8),b=g[f&v];n:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,!(16&y)){if(0==(64&y)){b=g[(65535&b)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",T.mode=30;break e}if(x=65535&b,y&=15,d<y&&(f+=k[n++]<<d,d+=8,d<y&&(f+=k[n++]<<d,d+=8)),x+=f&(1<<y)-1,x>a){e.msg="invalid distance too far back",T.mode=30;break e}if(f>>>=y,d-=y,y=i-o,x>y){if(y=x-y,y>c&&T.sane){e.msg="invalid distance too far back",T.mode=30;break e}if(_=0,S=u,0===h){if(_+=l-y,y<w){w-=y;do{C[i++]=u[_++]}while(--y);_=i-x,S=C}}else if(h<y){if(_+=l+h-y,y-=h,y<w){w-=y;do{C[i++]=u[_++]}while(--y);if(_=0,h<w){y=h,w-=y;do{C[i++]=u[_++]}while(--y);_=i-x,S=C}}}else if(_+=h-y,y<w){w-=y;do{C[i++]=u[_++]}while(--y);_=i-x,S=C}for(;w>2;)C[i++]=S[_++],C[i++]=S[_++],C[i++]=S[_++],w-=3;w&&(C[i++]=S[_++],w>1&&(C[i++]=S[_++]))}else{_=i-x;do{C[i++]=C[_++],C[i++]=C[_++],C[i++]=C[_++],w-=3}while(w>2);w&&(C[i++]=C[_++],w>1&&(C[i++]=C[_++]))}break}}break}}while(n<r&&i<s);w=d>>3,n-=w,d-=w<<3,f&=(1<<d)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),T.hold=f,T.bits=d};const Kr=15,Qr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ei=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ti=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ni=(e,t,n,r,i,o,s,a)=>{const l=a.bits;let c,h,u,f,d,p,g=0,m=0,v=0,b=0,y=0,w=0,x=0,_=0,S=0,k=0,C=null,T=0;const A=new Uint16Array(16),E=new Uint16Array(16);let L,R,D,M=null,I=0;for(g=0;g<=Kr;g++)A[g]=0;for(m=0;m<r;m++)A[t[n+m]]++;for(y=l,b=Kr;b>=1&&0===A[b];b--);if(y>b&&(y=b),0===b)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(v=1;v<b&&0===A[v];v++);for(y<v&&(y=v),_=1,g=1;g<=Kr;g++)if(_<<=1,_-=A[g],_<0)return-1;if(_>0&&(0===e||1!==b))return-1;for(E[1]=0,g=1;g<Kr;g++)E[g+1]=E[g]+A[g];for(m=0;m<r;m++)0!==t[n+m]&&(s[E[t[n+m]]++]=m);if(0===e?(C=M=s,p=19):1===e?(C=Qr,T-=257,M=Jr,I-=257,p=256):(C=ei,M=ti,p=-1),k=0,m=0,g=v,d=o,w=y,x=0,u=-1,S=1<<y,f=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){L=g-x,s[m]<p?(R=0,D=s[m]):s[m]>p?(R=M[I+s[m]],D=C[T+s[m]]):(R=96,D=0),c=1<<g-x,h=1<<w,v=h;do{h-=c,i[d+(k>>x)+h]=L<<24|R<<16|D|0}while(0!==h);for(c=1<<g-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,m++,0==--A[g]){if(g===b)break;g=t[n+s[m]]}if(g>y&&(k&f)!==u){for(0===x&&(x=y),d+=v,w=g-x,_=1<<w;w+x<b&&(_-=A[w+x],!(_<=0));)w++,_<<=1;if(S+=1<<w,1===e&&S>852||2===e&&S>592)return 1;u=k&f,i[u]=y<<24|w<<16|d-o|0}}return 0!==k&&(i[d+k]=g-x<<24|64<<16|0),a.bits=y,0};const{Z_FINISH:ri,Z_BLOCK:ii,Z_TREES:oi,Z_OK:si,Z_STREAM_END:ai,Z_NEED_DICT:li,Z_STREAM_ERROR:ci,Z_DATA_ERROR:hi,Z_MEM_ERROR:ui,Z_BUF_ERROR:fi,Z_DEFLATED:di}=In,pi=12,gi=30,mi=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function vi(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bi=e=>{if(!e||!e.state)return ci;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,si},yi=e=>{if(!e||!e.state)return ci;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bi(e)},wi=(e,t)=>{let n;if(!e||!e.state)return ci;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ci:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,yi(e))},xi=(e,t)=>{if(!e)return ci;const n=new vi;e.state=n,n.window=null;const r=wi(e,t);return r!==si&&(e.state=null),r};let _i,Si,ki=!0;const Ci=e=>{if(ki){_i=new Int32Array(512),Si=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ni(1,e.lens,0,288,_i,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ni(2,e.lens,0,32,Si,0,e.work,{bits:5}),ki=!1}e.lencode=_i,e.lenbits=9,e.distcode=Si,e.distbits=5},Ti=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Ai={inflateReset:yi,inflateReset2:wi,inflateResetKeep:bi,inflateInit:e=>xi(e,15),inflateInit2:xi,inflate:(e,t)=>{let n,r,i,o,s,a,l,c,h,u,f,d,p,g,m,v,b,y,w,x,_,S,k=0;const C=new Uint8Array(4);let T,A;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return ci;n=e.state,n.mode===pi&&(n.mode=13),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,h=n.bits,u=a,f=l,S=si;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;h<16;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(2&n.wrap&&35615===c){n.check=0,C[0]=255&c,C[1]=c>>>8&255,n.check=Dn(n.check,C,2,0),c=0,h=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=gi;break}if((15&c)!==di){e.msg="unknown compression method",n.mode=gi;break}if(c>>>=4,h-=4,_=8+(15&c),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=gi;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:pi,c=0,h=0;break;case 2:for(;h<16;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(n.flags=c,(255&n.flags)!==di){e.msg="unknown compression method",n.mode=gi;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=gi;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Dn(n.check,C,2,0)),c=0,h=0,n.mode=3;case 3:for(;h<32;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.head&&(n.head.time=c),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=Dn(n.check,C,4,0)),c=0,h=0,n.mode=4;case 4:for(;h<16;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Dn(n.check,C,2,0)),c=0,h=0,n.mode=5;case 5:if(1024&n.flags){for(;h<16;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Dn(n.check,C,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(d=n.length,d>a&&(d=a),d&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),_)),512&n.flags&&(n.check=Dn(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break e;d=0;do{_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&d<a);if(512&n.flags&&(n.check=Dn(n.check,r,d,o)),a-=d,o+=d,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break e;d=0;do{_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&d<a);if(512&n.flags&&(n.check=Dn(n.check,r,d,o)),a-=d,o+=d,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;h<16;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=gi;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=pi;break;case 10:for(;h<32;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}e.adler=n.check=mi(c),c=0,h=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=h,li;e.adler=n.check=1,n.mode=pi;case pi:if(t===ii||t===oi)break e;case 13:if(n.last){c>>>=7&h,h-=7&h,n.mode=27;break}for(;h<3;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}switch(n.last=1&c,c>>>=1,h-=1,3&c){case 0:n.mode=14;break;case 1:if(Ci(n),n.mode=20,t===oi){c>>>=2,h-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=gi}c>>>=2,h-=2;break;case 14:for(c>>>=7&h,h-=7&h;h<32;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=gi;break}if(n.length=65535&c,c=0,h=0,n.mode=15,t===oi)break e;case 15:n.mode=16;case 16:if(d=n.length,d){if(d>a&&(d=a),d>l&&(d=l),0===d)break e;i.set(r.subarray(o,o+d),s),a-=d,o+=d,l-=d,s+=d,n.length-=d;break}n.mode=pi;break;case 17:for(;h<14;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(n.nlen=257+(31&c),c>>>=5,h-=5,n.ndist=1+(31&c),c>>>=5,h-=5,n.ncode=4+(15&c),c>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=gi;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;h<3;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.lens[E[n.have++]]=7&c,c>>>=3,h-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},S=ni(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid code lengths set",n.mode=gi;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],m=k>>>24,v=k>>>16&255,b=65535&k,!(m<=h);){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(b<16)c>>>=m,h-=m,n.lens[n.have++]=b;else{if(16===b){for(A=m+2;h<A;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(c>>>=m,h-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=gi;break}_=n.lens[n.have-1],d=3+(3&c),c>>>=2,h-=2}else if(17===b){for(A=m+3;h<A;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}c>>>=m,h-=m,_=0,d=3+(7&c),c>>>=3,h-=3}else{for(A=m+7;h<A;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}c>>>=m,h-=m,_=0,d=11+(127&c),c>>>=7,h-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=gi;break}for(;d--;)n.lens[n.have++]=_}}if(n.mode===gi)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=gi;break}if(n.lenbits=9,T={bits:n.lenbits},S=ni(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid literal/lengths set",n.mode=gi;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},S=ni(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,S){e.msg="invalid distances set",n.mode=gi;break}if(n.mode=20,t===oi)break e;case 20:n.mode=21;case 21:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=h,Yr(e,f),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,h=n.bits,n.mode===pi&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],m=k>>>24,v=k>>>16&255,b=65535&k,!(m<=h);){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(v&&0==(240&v)){for(y=m,w=v,x=b;k=n.lencode[x+((c&(1<<y+w)-1)>>y)],m=k>>>24,v=k>>>16&255,b=65535&k,!(y+m<=h);){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}c>>>=y,h-=y,n.back+=y}if(c>>>=m,h-=m,n.back+=m,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=pi;break}if(64&v){e.msg="invalid literal/length code",n.mode=gi;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(A=n.extra;h<A;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=n.distcode[c&(1<<n.distbits)-1],m=k>>>24,v=k>>>16&255,b=65535&k,!(m<=h);){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(0==(240&v)){for(y=m,w=v,x=b;k=n.distcode[x+((c&(1<<y+w)-1)>>y)],m=k>>>24,v=k>>>16&255,b=65535&k,!(y+m<=h);){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}c>>>=y,h-=y,n.back+=y}if(c>>>=m,h-=m,n.back+=m,64&v){e.msg="invalid distance code",n.mode=gi;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(A=n.extra;h<A;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=gi;break}n.mode=25;case 25:if(0===l)break e;if(d=f-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=gi;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=i,p=s-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do{i[s++]=g[p++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[s++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;h<32;){if(0===a)break e;a--,c|=r[o++]<<h,h+=8}if(f-=l,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?Dn(n.check,i,f,s-f):Ln(n.check,i,f,s-f)),f=l,(n.flags?c:mi(c))!==n.check){e.msg="incorrect data check",n.mode=gi;break}c=0,h=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;h<32;){if(0===a)break e;a--,c+=r[o++]<<h,h+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=gi;break}c=0,h=0}n.mode=29;case 29:S=ai;break e;case gi:S=hi;break e;case 31:return ui;case 32:default:return ci}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=h,(n.wsize||f!==e.avail_out&&n.mode<gi&&(n.mode<27||t!==ri))&&Ti(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?Dn(n.check,i,f,e.next_out-f):Ln(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===pi?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===f||t===ri)&&S===si&&(S=fi),S},inflateEnd:e=>{if(!e||!e.state)return ci;let t=e.state;return t.window&&(t.window=null),e.state=null,si},inflateGetHeader:(e,t)=>{if(!e||!e.state)return ci;const n=e.state;return 0==(2&n.wrap)?ci:(n.head=t,t.done=!1,si)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?ci:11===r.mode&&(i=1,i=Ln(i,t,n,0),i!==r.check)?hi:(o=Ti(e,t,n,n),o?(r.mode=31,ui):(r.havedict=1,si))):ci},inflateInfo:"pako inflate (from Nodeca project)"};var Ei=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Li=Object.prototype.toString,{Z_NO_FLUSH:Ri,Z_FINISH:Di,Z_OK:Mi,Z_STREAM_END:Ii,Z_NEED_DICT:Ni,Z_STREAM_ERROR:Fi,Z_DATA_ERROR:Pi,Z_MEM_ERROR:Oi}=In;function Bi(e){this.options=Lr({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pr,this.strm.avail_out=0;let n=Ai.inflateInit2(this.strm,t.windowBits);if(n!==Mi)throw new Error(Mn[n]);if(this.header=new Ei,Ai.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ir(t.dictionary):"[object ArrayBuffer]"===Li.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ai.inflateSetDictionary(this.strm,t.dictionary),n!==Mi)))throw new Error(Mn[n])}function Hi(e,t){const n=new Bi(t);if(n.push(e),n.err)throw n.msg||Mn[n.err];return n.result}Bi.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Di:Ri,"[object ArrayBuffer]"===Li.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Ai.inflate(n,s),o===Ni&&i&&(o=Ai.inflateSetDictionary(n,i),o===Mi?o=Ai.inflate(n,s):o===Pi&&(o=Ni));n.avail_in>0&&o===Ii&&n.state.wrap>0&&0!==e[n.next_in];)Ai.inflateReset(n),o=Ai.inflate(n,s);switch(o){case Fi:case Pi:case Ni:case Oi:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===Ii))if("string"===this.options.to){let e=Fr(n.output,n.next_out),t=n.next_out-e,i=Nr(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Mi||0!==a){if(o===Ii)return o=Ai.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Bi.prototype.onData=function(e){this.chunks.push(e)},Bi.prototype.onEnd=function(e){e===Mi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Rr(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ji={Inflate:Bi,inflate:Hi,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Hi(e,t)},ungzip:Hi,constants:In};const{Deflate:zi,deflate:Vi,deflateRaw:qi,gzip:Ui}=Xr,{Inflate:Wi,inflate:$i,inflateRaw:Gi,ungzip:Zi}=ji;var Xi={Deflate:zi,deflate:Vi,deflateRaw:qi,gzip:Ui,Inflate:Wi,inflate:$i,inflateRaw:Gi,ungzip:Zi,constants:In};Xi.deflateRaw,Xi.deflate,Xi.inflateRaw;const Yi=Xi.inflate;Xi.gzip;function Ki(e,t){const n=[];let r=0,i=0;for(t=t||e.byteLength-18;r<t;)try{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e,r,18),o=t[11]<<8|t[10],s=(t[3],t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),a=12+o+r,l=e.byteLength-a,c=s-o-19;if(l<c||c<=0)break;const h=new Uint8Array(e,a,c),u=Xi.inflateRaw(h);r+=c-1+26,i+=u.byteLength,n.push(u)}catch(e){console.error(e);break}if(1===n.length)return n[0];{const e=new Uint8Array(i);let t=0;for(let r=0;r<n.length;++r){var o=new Uint8Array(n[r]);eo(o,0,e,t,o.length),t+=o.length}return e}}function Qi(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 1+(t[17]<<8|t[16])}const Ji="function"==typeof new Uint8Array(1).subarray;function eo(e,t,n,r,i){if(0!==i){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&i===e.length?to(e,n,r):Ji?to(e.subarray(t,t+i),n,r):1===e.BYTES_PER_ELEMENT&&i>100?to(new Uint8Array(e.buffer,e.byteOffset+t,i),n,r):function(e,t,n,r,i){for(let o=0;o<i;++o)n[r+o]=e[t+o]}(e,t,n,r,i)}}function to(e,t,n){t.set(e,n)}function no(e,t){const n=e.split(","),r=n[0].split(":")[1];let i=n[1];if(r.indexOf("base64")>=0){i=atob(i);const e=new Uint8Array(i.length);for(let t=0;t<i.length;t++)e[t]=i.charCodeAt(t);let n;return n=t||r.indexOf("gzip")>0?Xi.ungzip(e):e,n}return decodeURIComponent(i)}const ro=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort(function(e,t){return t-e}),e[n]):function(e,t){var n,r=new so;for(n=0;n<e.length;n++){var i=e[n];(r.content.length<t||i>r.content[0])&&(r.content.length===t&&r.pop(),r.push(i))}return r.content[0]}(e,n)}},io=function(e,t,n){return Math.min(Math.max(e,t),n)},oo=function(e){return Math.log(e)/Math.LN2};function so(){this.content=[]}function ao(e,t){return Math.random()*(t-e)+e}so.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var i=2*(e+1),o=i-1,s=null;if(o<t){var a=this.content[o],l=a;a<r&&(s=o)}if(i<t)this.content[i]<(null==s?r:l)&&(s=i);if(null==s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}};const lo={rgbListFromHSV:()=>{let e=[];for(let t=1;t>=.5;t-=.1)for(let n=0;n<1;n+=1/28){const r="rgb("+lo.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(lo.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var r,i,o,s=Math.floor(6*e),a=6*e-s,l=n*(1-t),c=n*(1-a*t),h=n*(1-(1-a)*t);switch(s%6){case 0:r=n,i=h,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=h;break;case 3:r=l,i=c,o=n;break;case 4:r=h,i=l,o=n;break;case 5:r=n,i=l,o=c}return[Math.floor(255*r),Math.floor(255*i),Math.floor(255*o)]},hslToRgb:function(e,t,n){var r,i,o;if(0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=lo.hue2rgb(a,s,e+1/3),i=lo.hue2rgb(a,s,e),o=lo.hue2rgb(a,s,e-1/3)}return[255*r,255*i,255*o]},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),rgbaColor:function(e,t,n,r){return"rgba("+(e=io(e,0,255))+","+(t=io(t,0,255))+","+(n=io(n,0,255))+","+(r=io(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=io(e,0,255))+","+(t=io(t,0,255))+","+(n=io(n,0,255))+")"},greyScale:function(e){var t=io(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=io(e,0,255),t=io(t,0,255);var n=Math.round(ao(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=io(e,0,255),t=io(t,0,255),"rgb("+Math.round(ao(e,t)).toString(10)+","+Math.round(ao(e,t)).toString(10)+","+Math.round(ao(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=io(e,0,255),t=io(t,0,255),"rgba("+Math.round(ao(e,t)).toString(10)+","+Math.round(ao(e,t)).toString(10)+","+Math.round(ao(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){if("0"===e||"."===e)e="rgb(0,0,0)";else{const t=this.colorNameToHex(e);t&&(e=t)}var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);if(e.startsWith("rgba")){const n=e.lastIndexOf(",");return e.substring(0,n+1)+t.toString()+")"}return n&&(e=lo.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):(console.log(e+" is not an rgb style string"),e)},rgbComponents:function(e){if("0"===e||"."===e)return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))e=lo.hexToRgb(e);else if(!e.startsWith("rgb")){const t=this.colorNameToHex(e);e=this.hexToRgb(t)}if(e.startsWith("rgb("))return e.substring(4,e.length-1).split(",").map(e=>Number.parseInt(e.trim()));if(e.startsWith("rgba("))return e.substring(5,e.length-1).split(",").map((e,t)=>(e=e.trim(),3===t?Number.parseFloat(e):Number.parseInt(e)));throw Error("Unrecognized color string: color")},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return void 0===e||((e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1))),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){let n,r=this.colorNameToHex(e);n=r?lo.hexToRgb(r):e.startsWith("rgb(")?e:lo.hexToRgb(e);const i=n.replace(")","").substring(4).split(","),o=Math.max(0,Math.min(255,Number.parseInt(i[0].trim())+t)),s=Math.max(0,Math.min(255,Number.parseInt(i[1].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(i[2].trim())+t));return"rgb("+o.toString()+","+s.toString()+","+a.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};let co;function ho(e,t){t.addEventListener("mousedown",uo.bind(e))}function uo(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;t.top,n.pageYOffset,t.left,n.pageXOffset}(this);const t=fo.bind(this),n=po.bind(this),r=getComputedStyle(this),i=parseInt(r.top.replace("px","")),o=parseInt(r.left.replace("px",""));co={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:i,left:o},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function fo(e){if(!co)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-co.screenX,n=e.screenY-co.screenY;this.style.left=`${co.left+t}px`,this.style.top=`${co.top+n}px`}function po(e){if(!co)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=co.dragFunction,n=co.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),document.removeEventListener("mouseleave",n),document.removeEventListener("mouseexit",n),co=void 0}const go={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},mo="googleapis",vo={oauthTokens:{},setToken:function(e,t){t=t||mo,this.oauthTokens[t]=e,t===mo&&(this.google.access_token=e)},getToken:function(e){let t;e=e||mo;for(let n of Object.keys(this.oauthTokens)){if(bo(n).test(e)){t=this.oauthTokens[n];break}}return t},removeToken:function(e){e=e||mo;for(let t of Object.keys(this.oauthTokens)){bo(t).test(e)&&(this.oauthTokens[t]=void 0)}e===mo&&(this.google.access_token=void 0)},google:{setToken:function(e){vo.setToken(e)}}};function bo(e){return new RegExp("^"+e.split(/\*+/).map(yo).join(".*")+"$")}function yo(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}const wo=new class{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var n=this;return new Promise(function(t,r){n.queued.push({resolve:t,reject:r,asyncFunction:e}),n.dequeue()})}addAll(e,t){var n=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(n)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,n=e-this.lastStartTime;n>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-n)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const n=await t();e.resolve(n)}catch(t){e.reject(t)}}}({requestsPerSecond:8}),xo={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:_o,loadArrayBuffer:async function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),Vt(e)?ko(e,t):_o(e,t)},loadJson:async function(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const n=await this.loadString(e,t);return n?JSON.parse(n):n},loadString:async function(e,t){return t=t||{},e instanceof File?async function(e,t){const n=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return Ao(await Co(n))}(e,t):async function(e,t){(t=t||{}).responseType="arraybuffer";return Ao(await xo.load(e,t))}(e,t)}};async function _o(e,t){t=t||{};const n=typeof e;if(Vt(e=await("function"==typeof e?e():e)))return ko(e,t);if("function"==typeof e.startsWith){if(e.startsWith("data:")){const n=no(e).buffer;if(t.range){const e=t.range.size?t.range.start+t.range.size:n.byteLength;return n.slice(t.range.start,e)}return n}return e.startsWith("https://drive.google.com")&&(e=Dt(e)),Lt(e)||e.startsWith("https://www.dropbox.com")?wo.add(async function(){return So(e,t)}):So(e,t)}throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${n}`)}async function So(e,t){e=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Dt(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let n=(t=t||{}).oauthToken||function(e){const t=At(e)?void 0:Ht(e).host;let n=vo.getToken(t);if(n)return n;if(void 0===t){const e=To();if(e&&e.expires_at>Date.now())return e.access_token}}(e);return n&&(n=await("function"==typeof n?n():n)),new Promise(function(r,i){At(e)&&(Et(e)&&(e=Rt(e)),Lt(e=function(e){let t=xo.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e}(e))&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),n||(n=To()));const o=t.headers||{};n&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(o,n);const s=t.range,a=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),s&&a&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));const l=new XMLHttpRequest,c=t.sendData||t.body,h=t.method||(c?"POST":"GET"),u=t.responseType,f=t.contentType,d=t.mimeType;if(l.open(h,e),t.timeout&&(l.timeout=t.timeout),s){var p=s.size?s.start+s.size-1:"";l.setRequestHeader("Range","bytes="+s.start+"-"+p)}if(f&&l.setRequestHeader("Content-Type",f),d&&l.overrideMimeType(d),u&&(l.responseType=u),o)for(let e of Object.keys(o)){const t=o[e];l.setRequestHeader(e,t)}!0===t.withCredentials&&(l.withCredentials=!0),l.onload=async function(n){0===l.status||l.status>=200&&l.status<=300?s&&206!==l.status&&0!==s.start?(l.response.length>1e5&&alert(`Warning: Range header ignored for URL: ${e}.  This can have performance impacts.`),r(l.response.slice(s.start,s.start+s.size))):r(l.response):"undefined"==typeof gapi||404!==l.status&&401!==l.status&&403!==l.status||!At(e)||t.retries?403===l.status?g("Access forbidden: "+e):416===l.status?g("xxUnsatisfiable range"):g(l.status):m()},l.onerror=function(n){At(e)&&!t.retries&&m(),g("Error accessing resource: "+e+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){console.log("Aborted"),i(e)};try{l.send(c)}catch(e){i(e)}function g(e){if(!i)throw e;i(e)}async function m(){try{const n=await async function(e){if(console.log("Fetch token for "+e),Ft()){const t=function(e){return Lt(e)?"https://www.googleapis.com/auth/drive.file":Et(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),n=await Ot(t);return n?n.access_token:void 0}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=n;const i=await _o(e,t);r(i)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else g(e)}}})}async function ko(e,t){let n=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return"arraybuffer"===t.responseType?Co(n):new Promise(function(t,r){const i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(t){console.error("reject uploading local file "+e.name),r(null,i)},i.readAsBinaryString(n),console.warn("Deprecated method used: readAsBinaryString")})}async function Co(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise(function(t,n){const r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(e){console.error("reject uploading local file "+localfile.name),n(null,r)},r.readAsArrayBuffer(e)})}function To(){if(Ft()){const e=function(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){const{access_token:t,expires_at:n}=e.getAuthResponse();return{access_token:t,expires_at:n}}}();return e?e.access_token:void 0}}function Ao(e){let t;return t=function(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 31===t[0]&&139===t[1]}(e)?function(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 0!=(4&t[3])&&66===t[12]&&67===t[13]?Ki(t.buffer):Xi.ungzip(t)}(e):new Uint8Array(e),"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(t):function(e){var t="",n=0;for(;n<e.length;){var r=e[n],i=0,o=0;if(r<=127?(i=0,o=255&r):r<=223?(i=1,o=31&r):r<=239?(i=2,o=15&r):r<=244&&(i=3,o=7&r),e.length-n-i>0)for(var s=0;s<i;)o=o<<6|63&(r=e[n+s+1]),s+=1;else o=65533,i=e.length-n;t+=String.fromCodePoint(o),n+=i+1}return t}(t)}var Eo={color:1};Eo.parent=Eo,Eo.left=Eo,Eo.right=Eo;class Lo{constructor(){this.root=Eo}insert(e,t,n){var r=new Fo(new No(e,t,n));for(this.treeInsert(r),r.color=2;r!==this.root&&2===r.parent.color;)if(r.parent===r.parent.parent.left){let e=r.parent.parent.right;2===e.color?(r.parent.color=1,e.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,Do.call(this,r)),r.parent.color=1,r.parent.parent.color=2,Mo.call(this,r.parent.parent))}else{let e=r.parent.parent.left;2===e.color?(r.parent.color=1,e.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,Mo.call(this,r)),r.parent.color=1,r.parent.parent.color=2,Do.call(this,r.parent.parent))}this.root.color=1}findOverlapping(e,t){var n=new No(e,t,0);if(this.root===Eo)return[];var r=Ro.call(this,n,this.root,[]);return r.length>1&&r.sort(function(e,t){return e.low-t.low}),r}logIntervals(){!function e(t,n){for(var r="",i=0;i<n;i++)r+=" ";console.log(r+t.interval.low+" "+t.interval.high),n+=5,t.left!==Eo&&e(t.left,n);t.right!==Eo&&e(t.right,n)}(this.root,0)}mapIntervals(e){!function t(n){e(n.interval),n.left!==Eo&&t(n.left);n.right!==Eo&&t(n.right)}(this.root)}treeInsert(e){for(var t=this.root,n=Eo;t!==Eo;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===Eo?(this.root=e,e.left=e.right=Eo):e.interval.low<=n.interval.low?n.left=e:n.right=e,Io.call(this,e)}}function Ro(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==Eo&&t.left.max>=e.low&&Ro.call(this,e,t.left,n),t.right!==Eo&&t.right.min<=e.high&&Ro.call(this,e,t.right,n),n}function Do(e){var t=e.right;e.right=t.left,t.left!==Eo&&(t.left.parent=e),t.parent=e.parent,e.parent===Eo?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Io.call(this,e)}function Mo(e){var t=e.left;e.left=t.right,t.right!==Eo&&(t.right.parent=e),t.parent=e.parent,e.parent===Eo?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Io.call(this,e)}function Io(e){for(;e!==Eo;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,i=e.interval.low;e.min=r<i?r:i,e=e.parent}}class No{constructor(e,t,n){this.low=e,this.high=t,this.value=n}equals(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)}compareTo(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0}overlaps(e){return this.low<=e.high&&e.low<=this.high}}function Fo(e){this.parent=Eo,this.left=Eo,this.right=Eo,this.interval=e,this.color=2}class Po{constructor(e,t,n){e=e||[],this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length}containsRange(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)}queryFeatures(e,t,n){const r=this.treeMap[e];if(!r)return[];const i=r.findOverlapping(t,n);if(0===i.length)return[];{const r=[],o=this.allFeatures[e];if(o){for(let e of i){const i=e.value;for(let e=i.start;e<i.end;e++){let i=o[e];if(i.start>n)break;i.end>=t&&r.push(i)}}r.sort(function(e,t){return e.start-t.start})}return r}}getAllFeatures(){return this.allFeatures}buildTreeMap(e,t){const n={},r=[];if(this.allFeatures={},e){for(let n of e){let e=n.chr;t&&(e=t.getChromosomeName(e));let i=this.allFeatures[e];i||(r.push(e),i=[],this.allFeatures[e]=i),i.push(n)}for(let e of r){const t=this.allFeatures[e];t.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}),n[e]=Oo(t)}}return n}}function Oo(e){const t=new Lo,n=e.length,r=Math.max(10,Math.round(n/10));for(let i=0;i<n;i+=r){const o=Math.min(n,i+r),s=new Bo(i,o),a=e[i].start;let l=a;for(let t=i;t<o;t++)l=Math.max(l,e[t].end);t.insert(a,l,s)}return t}class Bo{constructor(e,t){this.start=e,this.end=t}}const Ho=function(e,t,n){if(e&&0!==e.length){const r=function(e){const t=new Lo,n=e.length,r=Math.max(10,Math.round(n/100));e.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1});for(let i=0;i<n;i+=r){const o=Math.min(n,i+r),s=e.slice(i,o),a=s[0].start;let l=a;s.forEach(function(e){l=Math.max(l,e.end)}),t.insert(a,l,s)}return t}(e).findOverlapping(t,n);return 0===r.length?[]:(e=[],r.forEach(function(r){const i=r.value,o=i.length;for(let r=0;r<o;r++){const o=i[r];if(o.start>n)break;o.end>t&&e.push(o)}}),e.sort(function(e,t){return e.start-t.start}),e)}return[]};function jo(e,t){const n=pt({class:"igv-menu-popup-check-container"}),r=pt();n.appendChild(r);const i=yt("check",!0===t?"#444":"transparent");r.appendChild(i);const o=pt();return o.innerText=e,n.appendChild(o),n}const zo={trackMenuItemList:function(e){const t=new Set(["alignment","annotation","variant","eqtl","snp"]),n=e.track.config&&void 0!==e.track.config.visibilityWindow;let r=[];return"sequence"!==e.track.config.type&&(r.push(function(e){const t=t=>{const n=function(){let t=e.browser.inputDialog.input.value;t=""===t||void 0===t?"untitled":t.trim(),e.track.name=t},r={label:"Track Name",value:qo(e.track)||"unnamed",callback:n};e.browser.inputDialog.present(r,t)},n=dt("<div>");return n.text("Set track name"),{object:n,click:t}}(e)),r.push(function(e){const t=t=>{const n=()=>{const t=parseFloat(e.browser.inputDialog.input.value,10);void 0!==t&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0),e.checkContentHeight(),e.repaintViews(),e.track.autoHeight=!1)},r={label:"Track Height",value:e.track.height,callback:n};e.browser.inputDialog.present(r,t)},n=dt("<div>");return n.text("Set track height"),{object:n,click:t}}(e))),this.showColorPicker(e.track)&&(r.push("<hr/>"),r.push(Vo({trackView:e,label:"Set track color",option:"color"})),r.push(function({trackView:e,label:t}){const n=dt("<div>");return n.text(t),{object:n,click:()=>{e.track.color=void 0,e.repaintViews()}}}({trackView:e,label:"Unset track color"})),r.push(Vo({trackView:e,label:"Set alt color",option:"altColor"}))),e.track.menuItemList&&(r=r.concat(e.track.menuItemList())),(n||t.has(e.track.type))&&(r.push("<hr/>"),r.push(function(e){const t=t=>{const n=()=>{let t=e.browser.inputDialog.input.value;t=""===t||void 0===t?-1:t.trim(),e.track.visibilityWindow=Number.parseInt(t),e.track.config.visibilityWindow=Number.parseInt(t),e.updateViews()},r={label:"Visibility Window",value:e.track.visibilityWindow,callback:n};e.browser.inputDialog.present(r,t)},n=dt("<div>");return n.text("Set visibility window"),{object:n,click:t}}(e))),!1!==e.track.removable&&(r.push("<hr/>"),r.push(function(e){const t=dt("<div>");return t.text("Remove track"),{object:t,click:()=>e.browser.removeTrack(e.track)}}(e))),r},numericDataMenuItems:function(e){const t=[];t.push("<hr/>");const n=dt("<div>");n.text("Set data range");return t.push({object:n,click:()=>{e.browser.dataRangeDialog.configure(e),e.browser.dataRangeDialog.present(dt(e.browser.columnContainer))}}),void 0!==e.track.logScale&&t.push({object:dt(jo("Log scale",e.track.logScale)),click:()=>{e.track.logScale=!e.track.logScale,e.repaintViews()}}),t.push({object:dt(jo("Autoscale",e.track.autoscale)),click:()=>{e.track.autoscale=!e.track.autoscale,e.updateViews()}}),t},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map(function(e,n){var r;if(e.name?(r=dt("<div>")).text(e.name):e.object?r=e.object:"string"==typeof e.label?(r=dt("<div>")).html(e.label):"string"==typeof e&&(r=e.startsWith("<")?dt(e):dt("<div>"+e+"</div>")),0===n&&r.addClass("igv-track-menu-border-top"),e.click){function n(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()}r.on("click",n),r.on("touchend",function(e){n(e)}),r.on("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}return{object:r,init:e.init||void 0}})),n},showColorPicker:e=>void 0===e.type||"bedtype"===e.type||"alignment"===e.type||"annotation"===e.type||"variant"===e.type||"wig"===e.type||"interact"===e.type,createMenuItem(e,t){const n=dt("<div>");return n.text(e),{object:n,click:t}}};function Vo({trackView:e,label:t,option:n}){const r=dt("<div>");return r.text(t),{object:r,click:()=>e.presentColorPicker(n)}}function qo(e){return e.trackView.viewports[0].$trackLabel.text()}function Uo(e){return function(e,t){const n=document.createElement(e);t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(let n of Object.keys(t))e.style[n]=t[n]}(n,t.style));return n}("div",e)}function Wo(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function $o(e){if("none"===getComputedStyle(e).display){const t=e._initialDisplay||"block";e.style.display=t}}function Go(e,t){t=t||"currentColor";let n=Zo[e];n||(console.error(`No icon named: ${e}`),n=Zo.question);const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"fill",t),i.setAttributeNS(null,"d",n[4]),r.appendChild(i),r}const Zo={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function Xo(e,t){var n,r=document.createElement("div");e.appendChild(r),r.appendChild(Go("times",n)),r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}let Yo;function Ko(e,t){t.addEventListener("mousedown",Qo.bind(e))}function Qo(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;t.top,n.pageYOffset,t.left,n.pageXOffset}(this);const t=Jo.bind(this),n=es.bind(this),r=getComputedStyle(this),i=parseInt(r.top.replace("px","")),o=parseInt(r.left.replace("px",""));Yo={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:i,left:o},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function Jo(e){if(!Yo)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-Yo.screenX,n=e.screenY-Yo.screenY;this.style.left=`${Yo.left+t}px`,this.style.top=`${Yo.top+n}px`}function es(e){if(!Yo)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=Yo.dragFunction,n=Yo.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),document.removeEventListener("mouseleave",n),document.removeEventListener("mouseexit",n),Yo=void 0}const ts={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class ns{constructor(e){this.container=Uo({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const t=Uo();this.container.appendChild(t),this.errorHeadline=Uo(),t.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let n=Uo({id:"igv-ui-alert-dialog-body"});this.container.appendChild(n),this.body=Uo({id:"igv-ui-alert-dialog-body-copy"}),n.appendChild(this.body);let r=Uo();this.container.appendChild(r),this.ok=Uo(),r.appendChild(this.ok),this.ok.textContent="OK";const i=()=>{"function"==typeof this.callback&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",Wo(this.container)};this.ok.addEventListener("click",e=>{e.stopPropagation(),i()}),this.container.addEventListener("keypress",e=>{e.stopPropagation(),"Enter"===e.key&&i()}),Ko(this.container,t),Wo(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let n=e.message||e;ts.hasOwnProperty(n)&&(n=ts[n]),this.body.innerHTML=n,this.callback=t,$o(this.container),this.container.focus()}}let rs;const is={init(e){rs||(rs=new ns(e))},presentAlert(e,t){rs||this.init(document.body),rs.present(e,t)}};class os{constructor(e){this.parent=e,this.container=Uo({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=Uo({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=Uo({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=Uo({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this.input=document.createElement("input"),this.input_container.appendChild(this.input);const n=Uo({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(n),this.ok=Uo(),n.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Uo(),n.appendChild(this.cancel),this.cancel.textContent="Cancel",Wo(this.container),this.input.addEventListener("keyup",e=>{13===e.keyCode&&("function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,Wo(this.container))}),this.ok.addEventListener("click",()=>{"function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,Wo(this.container)});const r=()=>{this.input.value="",Wo(this.container)};this.cancel.addEventListener("click",r),Xo(t,r),Ko(this.container,t)}present(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback||e.click,$o(this.container);const{x:n,y:r}=function(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}(t);this.clampLocation(n,r)}clampLocation(e,t){const{width:n,height:r}=this.container.getBoundingClientRect();console.log(`InputDialog - clampLocation() - width ${n} height ${r}`);const{x:i,y:o,width:s,height:a}=this.parent.getBoundingClientRect(),l=Math.min(Math.max(t,o),o+a-r),c=Math.min(Math.max(e,i),i+s-n);this.container.style.left=`${c}px`,this.container.style.top=`${l}px`}}const ss={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"};class as{constructor({parent:e,top:t,left:n,width:r,height:i,border:o,closeHandler:s}){let a=Uo({class:"igv-ui-generic-container"});e.appendChild(a),Wo(a),this.container=a,void 0!==t&&(this.container.style.top=`${t}px`),void 0!==n&&(this.container.style.left=`${n}px`),void 0!==r&&(this.container.style.width=`${r}px`),void 0!==i&&(this.container.style.height=`${i}px`),o&&(this.container.style.border=o);const l=Uo();this.container.appendChild(l),Xo(l,e=>{Wo(this.container),"function"==typeof s&&s(e)}),Ko(this.container,l)}show(){$o(this.container)}hide(){Wo(this.container)}dispose(){this.container.parent&&this.container.parent.removeChild(this.container)}}class ls extends as{constructor({parent:e,top:t,left:n,width:r,height:i,defaultColors:o,colorHandler:s}){super({parent:e,top:t,left:n,width:r,height:i,border:"1px solid gray"}),cs(this.container,s,o)}}const cs=(e,t,n)=>{const r=Object.values(ss);for(let n of r){const r=Uo({class:"igv-ui-color-swatch"});e.appendChild(r),hs(r,n,t)}if(n)for(let r of n){const n=Uo({class:"igv-ui-color-swatch"});e.appendChild(n),hs(n,r,t)}},hs=(e,t,n)=>{e.style.backgroundColor=t,e.addEventListener("mouseenter",n=>e.style.borderColor=t),e.addEventListener("mouseleave",t=>e.style.borderColor="white"),e.addEventListener("click",e=>{e.stopPropagation(),n(t)}),e.addEventListener("touchend",e=>{e.stopPropagation(),n(t)})};class us{constructor(e,t){this.parent=e,this.popover=Uo({class:"igv-ui-popover"}),e.appendChild(this.popover);const n=Uo();this.popover.appendChild(n);const r=Uo();n.appendChild(r),t&&(r.textContent=t),Xo(n,()=>this.hide()),Ko(this.popover,n),this.popoverContent=Uo(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none"}presentContentWithEvent(e,t){this.popover.style.display="block",this.popoverContent.innerHTML=t,fs(e,this.popover)}presentMenu(e,t){if(0===t.length)return;this.popover.style.display="block";const n=(r=t,i=this.popover,r.map(function(e,t){let n;if("string"==typeof e)n=Uo(),n.innerHTML=e;else if("Node"==typeof e)n=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)n=function(e,t){const n=Uo({class:"igv-ui-trackgear-popover-check-container"}),r=Go("check",!0===t?"#444":"transparent");r.style.borderColor="gray",r.style.borderWidth="1px",r.style.borderStyle="solid",n.appendChild(r);let i=Uo();return i.textContent=e,n.appendChild(i),n}("Show all bases",e.value);else if("color"===e.type){const t=new ls({parent:i.parentElement,width:364,colorHandler:t=>e.click(t)});n=Uo(),"string"==typeof e.label&&(n.innerHTML=e.label);const r=e=>{t.show(),Wo(i),e.preventDefault(),e.stopPropagation()};n.addEventListener("click",r),n.addEventListener("touchend",r),n.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}else n=Uo(),"string"==typeof e.label&&(n.innerHTML=e.label);if(e.click&&"color"!==e.type){function t(t){e.click(),Wo(i),t.preventDefault(),t.stopPropagation()}n.addEventListener("click",t),n.addEventListener("touchend",t),n.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}}return{object:n,init:e.init}}));var r,i;for(let e of n)this.popoverContent.appendChild(e.object);fs(e,this.popover)}hide(){this.popover.style.display="none",this.dispose()}dispose(){this.popover&&this.popover.parentNode.removeChild(this.popover);const e=Object.keys(this);for(let t of e)this[t]=void 0}}function fs(e,t){const{x:n,y:r}=function(e,t){const{clientX:n,clientY:r}=e;return((e,{clientX:t,clientY:n})=>{const{left:r,top:i,width:o,height:s}=e.getBoundingClientRect(),a=t-r,l=n-i;return{x:a,y:l,xNormalized:a/o,yNormalized:l/s,width:o,height:s}})(t,{clientX:n,clientY:r})}(e,t.parentNode),{width:i}=t.parentNode.getBoundingClientRect(),{width:o}=t.getBoundingClientRect(),s=n+o;console.log(`popover-parent width ${i}. popover x ${n} width ${o} xmax ${s}.`),t.style.left=`${s>i?n-(s-i):n}px`,t.style.top=`${r}px`}if("undefined"!=typeof document){function e(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}e("igv-ui.css")||((ds=document.createElement("style")).setAttribute("type","text/css"),ds.innerHTML='.igv-ui-popover {\n  cursor: default;\n  position: absolute;\n  z-index: 2048;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  background-color: white; }\n  .igv-ui-popover > div:first-child {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-popover > div:first-child > div:first-child {\n      margin-left: 4px; }\n    .igv-ui-popover > div:first-child > div:last-child {\n      margin-right: 4px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-popover > div:first-child > div:last-child:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-popover > div:last-child {\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 400px;\n    max-width: 1500px;\n    background-color: white; }\n    .igv-ui-popover > div:last-child > div {\n      -webkit-user-select: all;\n      /* Chrome/Safari */\n      -moz-user-select: all;\n      /* Firefox */\n      margin-left: 4px;\n      margin-right: 4px;\n      min-width: 220px;\n      overflow-x: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n      .igv-ui-popover > div:last-child > div > span {\n        font-weight: bolder; }\n    .igv-ui-popover > div:last-child hr {\n      width: 100%; }\n\n.igv-ui-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center; }\n  .igv-ui-alert-dialog-container > div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-alert-dialog-container > div:first-child div:first-child {\n      padding-left: 8px; }\n  .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body #igv-ui-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-ui-alert-dialog-container > div:last-child {\n    width: 100%;\n    margin-bottom: 10px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-ui-alert-dialog-container > div:last-child div {\n      margin: unset;\n      width: 40px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: small;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-alert-dialog-container > div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-ui-color-swatch {\n  position: relative;\n  box-sizing: content-box;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-ui-color-swatch:hover {\n  border-color: dimgray; }\n\n.igv-ui-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-ui-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-ui-colorpicker-menu-close-button i.fa:hover,\n  .igv-ui-colorpicker-menu-close-button i.fa:focus,\n  .igv-ui-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-ui-generic-dialog-container {\n  box-sizing: content-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-generic-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-ui-generic-container div:first-child div {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-ui-dialog {\n  z-index: 2048;\n  position: fixed;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400; }\n  .igv-ui-dialog .igv-ui-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-dialog .igv-ui-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-dialog .igv-ui-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-dialog .igv-ui-dialog-one-liner {\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin: 8px;\n    overflow-wrap: break-word;\n    background-color: white;\n    font-weight: bold; }\n  .igv-ui-dialog .igv-ui-dialog-ok-cancel {\n    width: 100%;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div {\n      margin: 16px;\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {\n      background-color: #5ea4e0; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {\n      background-color: #c4c4c4; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-dialog .igv-ui-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-dialog .igv-ui-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-panel, .igv-ui-panel-column, .igv-ui-panel-row {\n  z-index: 2048;\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n.igv-ui-panel-column {\n  display: flex;\n  flex-direction: column; }\n\n.igv-ui-panel-row {\n  display: flex;\n  flex-direction: row; }\n\n.igv-ui-textbox {\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n/*# sourceMappingURL=igv-ui.css.map */\n',document.head.insertBefore(ds,document.head.childNodes[document.head.childNodes.length-1]))}var ds;class ps{constructor(e,t){this.$container=dt("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0});const n=dt("<div>",{class:"igv-generic-dialog-header"});this.$container.append(n),xt(n[0],()=>{this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}),this.$minimum=dt("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum);const r=dt("<div>");r.text("Minimum"),this.$minimum.append(r),this.$minimum_input=dt("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=dt("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum);const i=dt("<div>");i.text("Maximum"),this.$maximum.append(i),this.$maximum_input=dt("<input>"),this.$maximum.append(this.$maximum_input);const o=dt("<div>",{class:"igv-generic-dialog-ok-cancel"});this.$container.append(o),this.$ok=dt("<div>"),o.append(this.$ok),this.$ok.text("OK"),this.$cancel=dt("<div>"),o.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",()=>{this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}),ho(this.$container.get(0),n.get(0)),this.$container.hide()}configure(e){const t=e.dataRange();let n,r;t?(n=t.min,r=t.max):(n=0,r=100),this.$minimum_input.val(n),this.$maximum_input.val(r),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",t=>{13===t.keyCode&&this.processResults(e)}),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",t=>{13===t.keyCode&&this.processResults(e)}),this.$ok.unbind(),this.$ok.on("click",t=>{this.processResults(e)})}processResults(e){const t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val());isNaN(t)||isNaN(n)?is.presentAlert(new Error("Must input numeric values"),void 0):e.setDataRange(t,n),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}present(e){const t=e.offset().top,n=dt("body").scrollTop();this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()}}const gs={configureHighDPICanvas:function(e,t,n){const r=window.devicePixelRatio;e.canvas.style.width=`${t}px`,e.canvas.width=Math.floor(r*t),e.canvas.style.height=`${n}px`,e.canvas.height=Math.floor(r*n),e.scale(r,r)},setProperties:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]=r}},strokeLine:function(e,t,n,r,i,o){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,i=Math.floor(i)+.5,o&&(e.save(),gs.setProperties(e,o)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),o&&e.restore()},fillRect:function(e,t,n,r,i,o){t=Math.round(t),n=Math.round(n),o&&(e.save(),gs.setProperties(e,o)),e.fillRect(t,n,r,i),o&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),gs.setProperties(e,r)),ms(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),gs.setProperties(e,r)),ms(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,i,o){if((i||o)&&e.save(),i&&gs.setProperties(e,i),o){for(var s in e.translate(n,r),o){var a=o[s];"translate"===s&&e.translate(a.x,a.y),"rotate"===s&&e.rotate(a.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(i||o)&&e.restore()},strokeText:function(e,t,n,r,i,o){if((i||o)&&e.save(),i&&gs.setProperties(e,i),o){for(var s in e.translate(n,r),o){var a=o[s];"translate"===s&&e.translate(a.x,a.y),"rotate"===s&&e.rotate(a.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(i||o)&&e.restore()},strokeCircle:function(e,t,n,r,i){i&&(e.save(),gs.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke(),i&&e.restore()},fillCircle:function(e,t,n,r,i){i&&(e.save(),gs.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.restore()},drawArrowhead:function(e,t,n,r,i){e.save(),r||(r=5),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,r,i,o,s={}){void 0===o&&(o=2),e.setLineDash([o,o]),gs.strokeLine(e,t,n,r,i,s),e.setLineDash([])},roundRect:function(e,t,n,r,i,o,s,a){void 0===a&&(a=!0),void 0===o&&(o=5),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),a&&e.stroke(),s&&e.fill()},polygon:function(e,t,n,r,i){void 0===i&&(i=!0),e.beginPath();var o=t.length;e.moveTo(t[0],n[0]);for(var s=1;s<o;s++)e.lineTo(t[s],n[s]);e.closePath(),i&&e.stroke(),r&&e.fill()}};function ms(e,t,n){var r,i=t.length;for(r=0;r<i;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<i;r++)e.lineTo(t[r],n[r]);e.closePath()}const vs={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},bs=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas","maf","mut"]);function ys(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0);"junctions"===e.type?e.type="junction":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),e.type)return e.type;if(e.format){switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":return"wig";case"vcf":return"variant";case"seg":return"seg";case"mut":case"maf":return"mut";case"bam":case"cram":return"alignment";case"bedpe":case"bedpe-loop":return"interact";case"bp":return"arc";case"gwas":return"gwas";case"bed":case"bigbed":case"bb":return"bedtype";default:return"annotation"}}}const ws={cantaloupe:{r:255,g:206,b:110},honeydew:{r:206,g:250,b:110},spindrift:{r:104,g:251,b:208},sky:{r:106,g:207,b:255},lavender:{r:210,g:120,b:255},carnation:{r:255,g:127,b:211},licorice:{r:0,g:0,b:0},snow:{r:255,g:255,b:255},salmon:{r:255,g:114,b:110},banana:{r:255,g:251,b:109},flora:{r:104,g:249,b:110},ice:{r:104,g:253,b:255},orchid:{r:110,g:118,b:255},bubblegum:{r:255,g:122,b:255},lead:{r:30,g:30,b:30},mercury:{r:232,g:232,b:232},tangerine:{r:255,g:136,b:2},lime:{r:131,g:249,b:2},sea_foam:{r:3,g:249,b:135},aqua:{r:0,g:140,b:255},grape:{r:137,g:49,b:255},strawberry:{r:255,g:41,b:135},tungsten:{r:58,g:58,b:58},silver:{r:208,g:208,b:208},maraschino:{r:255,g:33,b:1},lemon:{r:255,g:250,b:3},spring:{r:5,g:248,b:2},turquoise:{r:0,g:253,b:255},blueberry:{r:0,g:46,b:255},magenta:{r:255,g:57,b:255},iron:{r:84,g:84,b:83},magnesium:{r:184,g:184,b:184},mocha:{r:137,g:72,b:0},fern:{r:69,g:132,b:1},moss:{r:1,g:132,b:72},ocean:{r:0,g:74,b:136},eggplant:{r:73,g:26,b:136},maroon:{r:137,g:22,b:72},steel:{r:110,g:110,b:110},aluminum:{r:160,g:159,b:160},cayenne:{r:137,g:17,b:0},aspargus:{r:136,g:133,b:1},clover:{r:2,g:132,b:1},teal:{r:0,g:134,b:136},midnight:{r:0,g:24,b:136},plum:{r:137,g:30,b:136},tin:{r:135,g:134,b:135},nickel:{r:136,g:135,b:135}};const xs={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};class _s{constructor(e){this.colors=xs[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new ks}getColor(e){return this.colorTable.hasOwnProperty(e)||(this.nextIdx<this.colors.length?this.colorTable[e]=this.colors[this.nextIdx]:this.colorTable[e]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]}}class Ss{constructor(e){this.colorTable=e||{},this.nextIdx=0,this.colorGenerator=new ks}getColor(e){if(!this.colorTable.hasOwnProperty(e)){if(this.colorTable.hasOwnProperty("*"))return this.colorTable["*"];this.colorTable[e]=this.colorGenerator.get()}return this.colorTable[e]}}function ks(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}ks.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),i=6*e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=255,c=255,h=255;switch(r){case 0:l=n,c=a,h=o;break;case 1:l=s,c=n,h=o;break;case 2:l=o,c=n,h=a;break;case 3:l=o,c=s,h=n;break;case 4:l=a,c=o,h=n;break;case 5:l=n,c=o,h=s}return[Math.floor(256*l),Math.floor(256*c),Math.floor(256*h)]},ks.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},ks.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};const Cs=new ks;const Ts=Number.MIN_SAFE_INTEGER,As={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"},Es={},Ls=["A","G","C","T","Y","R","W","S","K","M","D","V","H","B","N","X"],Rs=["T","C","G","A","R","Y","W","S","M","K","H","B","D","V","N","X"];for(let e=0;e<Ls.length;e++)Es[Ls[e]]=Rs[e],Es[Ls[e].toLowerCase()]=Rs[e].toLowerCase();class Ds{constructor(e,t){this.type="sequence",this.browser=t,this.removable=!1,this.config=e,this.name="Sequence",this.id="sequence",this.sequenceType=e.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=e.order||Ts,this.ignoreTrackMenu=!1,this.reversed=!1,this.frameTranslate=!1}menuItemList(){return[{name:this.reversed?"Forward":"Reverse",click:()=>{this.reversed=!this.reversed,this.trackView.repaintViews()}},{name:this.frameTranslate?"Close Translation":"Three-frame Translate",click:()=>{if(this.frameTranslate=!this.frameTranslate,this.frameTranslate){for(let e of this.trackView.viewports)e.setContentHeight(115);this.trackView.setTrackHeight(115)}else{for(let e of this.trackView.viewports)e.setContentHeight(25);this.trackView.setTrackHeight(25)}this.trackView.repaintViews()}}]}contextMenuItemList(e){const t=e.viewport;return t.referenceFrame.bpPerPixel<=1?[{label:"View visible sequence...",click:async()=>{const e=t.getWidth()*t.referenceFrame.bpPerPixel,n=t.referenceFrame.chr,r=t.referenceFrame.start,i=r+e,o=await this.browser.genome.sequence.getSequence(n,r,i);is.presentAlert(o)}},{label:"Copy visible sequence",click:async()=>{const e=t.getWidth()*t.referenceFrame.bpPerPixel,n=t.referenceFrame.chr,r=t.referenceFrame.start,i=r+e,o=await this.browser.genome.sequence.getSequence(n,r,i);navigator.clipboard.writeText(o)}},"<hr/>"]:void 0}translateSequence(e){const t=[[],[],[]];for(let n of[0,1,2]){let r=n;for(;e.length-r>=3;){let i=e.slice(r,r+3);this.reversed&&(i=i.split("").reverse().join(""));const o=As[i.toUpperCase()]||"";t[n].push({codons:i,aminoA:o}),r+=3}}return t}async getFeatures(e,t,n,r){if(r&&r>1)return null;return{bpStart:t,sequence:await this.browser.genome.sequence.getSequence(e,t,n)}}draw(e){const t=e.context;if(e.features){const n=e.features.sequence,r=e.features.bpStart,i=1+e.bpStart+e.pixelWidth*e.bpPerPixel;let o=15;for(let s=r;s<=i;s++){let i=Math.floor(s-r);if(i<n.length){let r=n[i];this.reversed&&(r=Es[r]||"");let a=s-e.bpStart,l=a/e.bpPerPixel,c=(a+1)/e.bpPerPixel,h=this.fillColor(r);if(e.bpPerPixel>.1)gs.fillRect(t,l,5,c-l,o-5,{fillStyle:h});else{let e=.5*(l+c-t.measureText(r).width);gs.strokeText(t,r,e,o,{strokeStyle:h})}}}if(this.frameTranslate){let r;this.reversed?(r=n.split("").map(function(e){return Es[e]}),r=r.join("")):r=n;let i=o,s=this.translateSequence(r);for(let n of s){let r=s.indexOf(n),o=r,a=25;i=0===r?i+10:i+30;for(let r of n){let s,l=n.indexOf(r),c=l+o+2*l,h=0==l%2?"rgb(160,160,160)":"rgb(224,224,224)",u=Math.floor(c/e.bpPerPixel),f=Math.floor((c+3)/e.bpPerPixel),d=Math.round((u+f)/2);r.aminoA.indexOf("STOP")>-1?(h="rgb(255, 0, 0)",s="STOP"):s=r.aminoA,"M"===r.aminoA&&(h="rgb(0, 153, 0)",s="START"),gs.fillRect(t,u,i,f-u,a,{fillStyle:h}),e.bpPerPixel<=.1&&gs.strokeText(t,s,d-t.measureText(s).width/2,i+15)}}}}}supportsWholeGenome(){return!1}computePixelHeight(e){return this.height}fillColor(e){return this.color?this.color:"dna"===this.sequenceType?this.browser.nucleotideColors[e]||"gray":"rgb(0, 0, 150)"}}
/*!!
     *  Canvas 2 Svg v1.0.19
     *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
     *
     *  Licensed under the MIT license:
     *  http://www.opensource.org/licenses/mit-license.php
     *
     *  Author:
     *  Kerry Liu
     *
     *  Copyright (c) 2014 Gliffy Inc.
     */
function Ms(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function Is(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function Ns(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}function Fs(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}const Ps=function(e,t){var n,r,i,o={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),o[r]="&#"+i+";";return o["\\xa0"]="&#160;",o}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Os={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}};class Bs{constructor(e,t){this.__root=e,this.__ctx=t}addColorStop(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",Ms("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)}}class Hs{constructor(e,t){this.__root=e,this.__ctx=t}}class js{constructor(e){if(!(this instanceof js))return new js(e);if(this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox){const t=e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height;this.__root.setAttribute("viewBox",t),this.viewbox=e.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;let t={id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"},n=this.__createElement("rect",t);this.__root.appendChild(n),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}setWidth(e){this.width=e,this.__root.setAttribute("width",this.width);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)}setHeight(e){this.height=e,this.__root.setAttribute("height",this.height);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)}__createElement(e,t,n){void 0===t&&(t={});let r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(let e of Object.keys(t))r.setAttribute(e,t[e]);return r}__setDefaultStyles(){var e,t,n=Object.keys(Os);for(e=0;e<n.length;e++)this[t=n[e]]=Os[t].canvas}__applyStyleState(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]}__getStyleState(){var e,t,n={},r=Object.keys(Os);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n}__applyStyleToCurrentElement(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach(function(t){t.setAttribute(e,"")}));var r,i,o,s,a,l=Object.keys(Os);for(r=0;r<l.length;r++)if(i=Os[l[r]],o=this[l[r]],i.apply)if(o instanceof Hs){if(o.__ctx)for(;o.__ctx.__defs.childNodes.length;)s=o.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[s]=s,this.__defs.appendChild(o.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,Ms("url(#{id})",{id:o.__root.getAttribute("id")}))}else if(o instanceof Bs)t.setAttribute(i.apply,Ms("url(#{id})",{id:o.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(e)&&i.svg!==o)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!o||-1===o.indexOf("rgba")){var c=i.svgAttr;if("globalAlpha"===l[r]&&(c=e+"-"+i.svgAttr,t.getAttribute(c)))continue;t.setAttribute(c,o)}else{a=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(o),t.setAttribute(i.svgAttr,Ms("rgb({r},{g},{b})",{r:a[1],g:a[2],b:a[3]}));var h=a[4],u=this.globalAlpha;null!=u&&(h*=u),t.setAttribute(i.svgAttr+"-opacity",h)}}__closestGroupOrSvg(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)}getSerializedSvg(e){var t,n,r,i,o,s=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Ps),n=0;n<t.length;n++)r=t[n],i=Ps[r],(o=new RegExp(r,"gi")).test(s)&&(s=s.replace(o,i));return s}getSvg(){return this.__root}saveWithTranslationAndClipRect(e,t,n,r,i,o){const s=`${e}_clip_rect`;let a=this.__createElement("clipPath",{id:s});this.__defs.appendChild(a);const l={x:"0",y:o.toString(),width:r.toString(),height:i.toString()};a.appendChild(this.__createElement("rect",l));const c=this.__createElement("g");c.setAttribute("transform",Ms("translate({x},{y})",{x:t,y:n})),c.setAttribute("clip-path",Ms("url(#{id})",{id:s}));const h=this.__closestGroupOrSvg();h.appendChild(c),this.__groupStack.push(h),this.__currentElement=c,this.__stack.push(this.__getStyleState())}save(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())}restore(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)}__addTransform(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)}addTrackGroupWithTranslationAndClipRect(e,t,n,r,i,o){const s=e+"_clip_rect";let a=this.__createElement("clipPath",{id:s});this.__defs.appendChild(a),a.appendChild(this.__createElement("rect",{x:"0",y:o.toString(),width:r.toString(),height:i.toString()}));let l=this.__createElement("g");this.__rootGroup.appendChild(l),l.setAttribute("transform",Ms("translate({x},{y})",{x:t,y:n})),l.setAttribute("id",e+"_group"),l.setAttribute("clip-path",Ms("url(#{id})",{id:s})),this.__currentElement=l}scale(e,t){void 0===t&&(t=e),this.__addTransform(Ms("scale({x},{y})",{x:e,y:t}))}rotate(e){var t=180*e/Math.PI;this.__addTransform(Ms("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))}translate(e,t){this.__addTransform(Ms("translate({x},{y})",{x:e,y:t}))}transform(e,t,n,r,i,o){this.__addTransform(Ms("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:o}))}beginPath(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e}__applyCurrentDefaultPath(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)}__addPathCommand(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e}moveTo(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Ms("M {x} {y}",{x:e,y:t}))}closePath(){this.__currentDefaultPath&&this.__addPathCommand("Z")}lineTo(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Ms("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Ms("M {x} {y}",{x:e,y:t}))}bezierCurveTo(e,t,n,r,i,o){this.__currentPosition={x:i,y:o},this.__addPathCommand(Ms("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:o}))}quadraticCurveTo(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(Ms("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))}arcTo(e,t,n,r,i){var o=this.__currentPosition&&this.__currentPosition.x,s=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==s){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(o===e&&s===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var a=Fs([o-e,s-t]),l=Fs([n-e,r-t]);if(a[0]*l[1]!=a[1]*l[0]){var c=a[0]*l[0]+a[1]*l[1],h=Math.acos(Math.abs(c)),u=Fs([a[0]+l[0],a[1]+l[1]]),f=i/Math.sin(h/2),d=e+f*u[0],p=t+f*u[1],g=[-a[1],a[0]],m=[l[1],-l[0]],v=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},b=v(g),y=v(m);this.lineTo(d+g[0]*i,p+g[1]*i),this.arc(d,p,i,b,y)}else this.lineTo(e,t)}}}stroke(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}fill(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}rect(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()}fillRect(e,t,n,r){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n);var i,o,s,a={x:e,y:t,width:n,height:r};(!this.viewbox||(i=this.viewbox,o=a,i.x<o.x+o.width&&i.x+i.width>o.x&&i.y<o.y+o.height&&i.y+i.height>o.y))&&(s=this.__createElement("rect",a,!0),this.__closestGroupOrSvg().appendChild(s),this.__currentElement=s,this.__applyStyleToCurrentElement("fill"))}strokeRect(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")}strokeEllipse(e,t,n,r,i,o,s,a){this.__ellipse(e,t,n,r,i,o,s,a,"stroke")}fillEllipse(e,t,n,r,i,o,s,a){this.__ellipse(e,t,n,r,i,o,s,a,"fill")}__ellipse(e,t,n,r,i,o,s,a,l){const c={cx:e,cy:t,rx:n,ry:r},h=this.__createElement("ellipse",c,!0);this.__closestGroupOrSvg().appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement(l)}__clearCanvas(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)}clearRect(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,o=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),o.appendChild(i)}else this.__clearCanvas()}createLinearGradient(e,t,n,r){var i=this.__createElement("linearGradient",{id:Is(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new Bs(i,this)}createRadialGradient(e,t,n,r,i,o){var s=this.__createElement("radialGradient",{id:Is(this.__ids),cx:r+"px",cy:i+"px",r:o+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(s),new Bs(s,this)}__parseFont(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t}__wrapTextLink(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t}__applyText(e,t,n,r){var i,o,s=this.__parseFont(),a=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":s.family,"font-size":s.size,"font-style":s.style,"font-weight":s.weight,"text-decoration":s.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[i]||o.start),"dominant-baseline":Ns(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(e)),this.__currentElement=l,this.__applyStyleToCurrentElement(r),a.appendChild(this.__wrapTextLink(s,l))}fillText(e,t,n){this.__applyText(e,t,n,"fill")}strokeText(e,t,n){this.__applyText(e,t,n,"stroke")}measureText(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)}arc(e,t,n,r,i,o){if(r!==i){(r%=2*Math.PI)===(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var s=e+n*Math.cos(i),a=t+n*Math.sin(i),l=e+n*Math.cos(r),c=t+n*Math.sin(r),h=o?0:1,u=0,f=i-r;f<0&&(f+=2*Math.PI),u=o?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(l,c),this.__addPathCommand(Ms("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:u,sweepFlag:h,endX:s,endY:a})),this.__currentPosition={x:s,y:a}}}clip(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=Is(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Ms("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r}drawImage(){var e,t,n,r,i,o,s,a,l,c,h,u,f,d=Array.prototype.slice.call(arguments),p=d[0],g=0,m=0;if(3===d.length)e=d[1],t=d[2],n=i=p.width,r=o=p.height;else if(5===d.length)e=d[1],t=d[2],n=d[3],r=d[4],i=p.width,o=p.height;else{if(9!==d.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);g=d[1],m=d[2],i=d[3],o=d[4],e=d[5],t=d[6],n=d[7],r=d[8]}s=this.__closestGroupOrSvg();var v="translate("+e+", "+t+")";if(p instanceof js){if((a=p.getSvg().cloneNode(!0)).childNodes&&a.childNodes.length>1){for(l=a.childNodes[0];l.childNodes.length;)f=l.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(l.childNodes[0]);if(c=a.childNodes[1]){var b,y=c.getAttribute("transform");b=y?y+" "+v:v,c.setAttribute("transform",b),s.appendChild(c)}}}else"CANVAS"!==p.nodeName&&"IMG"!==p.nodeName||((h=this.__createElement("image")).setAttribute("width",n),h.setAttribute("height",r),h.setAttribute("preserveAspectRatio","none"),(g||m||i!==p.width||o!==p.height)&&((u=this.__document.createElement("canvas")).width=n,u.height=r,u.getContext("2d").drawImage(p,g,m,i,o,0,0,n,r),p=u),h.setAttribute("transform",v),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===p.nodeName?p.toDataURL():p.getAttribute("src")),s.appendChild(h))}createPattern(e,t){let n,r=this.__document.__createElement("pattern"),i=Is(this.__ids);return r.setAttribute("id",i),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?(n=this.__createElement("image"),n.setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof js&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new Hs(r,this)}setLineDash(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null}drawFocusRing(){}createImageData(){}getImageData(){}putImageData(){}globalCompositeOperation(){}setTransform(){}}const zs=function(e,t,n,r,i){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=i},Vs=kt,qs=new Set(["fastaURL","indexURL","cytobandURL","indexed"]);class Us{constructor(e){this.fastaURL=e.fastaURL,this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences=new Map,this.offsets={};const t={};for(let n in e)e.hasOwnProperty(n)&&!qs.has(n)&&(t[n]=e[n]);this.config=t}async init(){return this.loadAll()}async getSequence(e,t,n){this.offsets[e]&&(t-=this.offsets[e],n-=this.offsets[e]);let r="";if(t<0)for(let e=t;e<Math.min(n,0);e++)r+="*";if(n<=0)return Promise.resolve(r);const i=this.sequences.get(e),o=Math.min(n,i.length);return r+i.substring(t,o)}async loadAll(){let e;if(ya(this.fastaURL)){let t=no(this.fastaURL);e="";for(let n of t)e+=String.fromCharCode(n)}else e=await xo.load(this.fastaURL,pa(this.config));const t=Vs(e),n=t.length;let r,i,o,s,a=0,l=0,c=0;for(;a<n;)if(o=t[a++].trim(),o.startsWith("#")||0===o.length);else if(o.startsWith(">")){r&&(this.chromosomeNames.push(s),this.sequences.set(s,r),this.chromosomes[s]=new zs(s,c++,l,l+r.length,i));const e=o.substr(1).split(/\s+/)[0].split(":");if(s=e[0],r="",l=0,i=void 0,e.length>1&&e[1].indexOf("-")>0){const t=e[1].split("-");2===t.length&&/^[0-9]+$/.test(t[0])&&/^[0-9]+$/.test(t[1]);const n=Number.parseInt(t[0]);Number.parseInt(t[1])>n&&(l=n-1,this.offsets[s]=l,i=e[1])}}else r+=o;r&&(this.chromosomeNames.push(s),this.sequences.set(s,r),this.chromosomes[s]=new zs(s,c++,l,l+r.length,i))}}const Ws=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};Ws.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Ws.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};const $s=kt,Gs=new Set(["fastaURL","indexURL","cytobandURL","indexed"]);class Zs{constructor(e){this.file=e.fastaURL,this.indexFile=e.indexURL||e.indexFile||this.file+".fai",this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={};const t={};for(let n in e)e.hasOwnProperty(n)&&!Gs.has(n)&&(t[n]=e[n]);this.config=t}async init(){return this.getIndex()}async getSequence(e,t,n){if(!this.interval||!this.interval.contains(e,t,n)){let r=t,i=n;if(n-t<5e4){const e=n-t,o=Math.round(t+e/2);r=Math.max(0,o-25e3),i=o+25e3}const o=await this.readSequence(e,r,i);this.interval=new Ws(e,r,i,o)}const r=t-this.interval.start,i=n-t;return this.interval.features?this.interval.features.substr(r,i):null}async getIndex(){if(this.index)return this.index;{const e=await xo.load(this.indexFile,pa(this.config)),t=$s(e),n=t.length;let r=0,i=0;for(this.index={};r<n;){const e=t[r++].split("\t");if(5===e.length){const t=e[0],n=parseInt(e[1]),r={size:n,position:parseInt(e[2]),basesPerLine:parseInt(e[3]),bytesPerLine:parseInt(e[4])};this.chromosomeNames.push(t),this.index[t]=r,this.chromosomes[t]=new zs(t,i++,0,n)}}return this.index}}async readSequence(e,t,n){await this.getIndex();const r=this.index[e];if(r){const i=Math.max(0,t),o=Math.min(r.size,n),s=r.bytesPerLine,a=r.basesPerLine,l=r.position,c=s-a,h=Math.floor(i/a),u=Math.floor(o/a),f=i-h*a,d=l+h*s+f,p=l+u*s+(o-u*a)-1-d+1;let g;if(p<=0?console.error("No sequence for "+e+":"+t+"-"+n):g=await xo.load(this.file,pa(this.config,{range:{start:d,size:p}})),g){let e,t="",n=0,r=g.length;for(f>0&&(e=Math.min(o-i,a-f),t+=g.substr(n,e),n+=e+c);n<r;)e=Math.min(a,r-n),t+=g.substr(n,e),n+=e+c;return t}return null}return console.log("No index entry for chr: "+e),this.interval=new Ws(e,t,n,null),null}}const Xs=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))};function Ys(){return"2.10.4"}const Ks=kt,Qs={loadGenome:async function(e){const t=e.cytobandURL,n=e.aliasURL,r=await async function(e){let t;return t=ya(e.fastaURL)||!1===e.indexed?new Us(e):new Zs(e),await t.init(),t}(e);let i,o;return t&&(i=await async function(e,t){let n;if(ya(e)){const t=no(e);n="";const r=t.length;for(let e=0;e<r;e++)n+=String.fromCharCode(t[e])}else n=await xo.loadString(e,pa(t));const r={};let i,o=[];const s=Ks(n);for(let e of s){var a=e.split("\t"),l=a[0];if(i||(i=l),l!==i&&(r[i]=o,o=[],i=l),5===a.length){var c=parseInt(a[1]),h=parseInt(a[2]),u=a[3],f=a[4];o.push(new Xs(c,h,u,f))}}return r}(t,r.config)),n&&(o=await function(e,t){return xo.loadString(e,pa(t)).then(function(e){var t=Ks(e),n=[];return t.forEach(function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))}),n})}(n,r.config)),new Js(e,r,i,o)},initializeGenomes:async function(e){if(!Qs.KNOWN_GENOMES){const t={};if(!1!==e.loadDefaultGenomes)try{const e=`https://igv.org/genomes/genomes.json?randomSeed=${Math.random().toString(36)}&version=2.10.4`;r(await xo.loadJson(e,{timeout:5e3}))}catch(e){console.error(e);try{const e=`https://s3.amazonaws.com/igv.org.genomes/genomes.json?randomSeed=${Math.random().toString(36)}&version=2.10.4`;r(await xo.loadJson(e,{}))}catch(e){console.error(e),console.warn("Errors loading default genome definitions.")}}const n=e.genomeList||e.genomes;if(n)if("string"==typeof n){r(await xo.loadJson(n,{}))}else r(n);function r(e){return e.forEach(function(e){t[e.id]=e}),t}Qs.KNOWN_GENOMES=t}},isWholeGenomeView:function(e){return"all"===e.toLowerCase()},expandReference:function(e){if(_t(e)&&e.startsWith("{"))try{e=JSON.parse(e)}catch(e){}let t;if(_t(e)?t=e:e.genome?t=e.genome:void 0!==e.id&&void 0===e.fastaURL&&(t=e.id),t){const e=Qs.KNOWN_GENOMES[t];return e||is.presentAlert(new Error(`Unknown genome id: ${t}`),void 0),e}return e}};class Js{constructor(e,t,n,r){this.config=e,this.id=e.id,this.sequence=t,this.chromosomeNames=t.chromosomeNames,this.chromosomes=t.chromosomes,this.ideograms=n,this.featureDB={},this.wholeGenomeView=void 0===e.wholeGenomeView||e.wholeGenomeView,this.wholeGenomeView&&Object.keys(t.chromosomes).length>1?function(e,t){let n;if(t.chromosomeOrder)Array.isArray(t.chromosomeOrder)?e.wgChromosomeNames=t.chromosomeOrder:e.wgChromosomeNames=t.chromosomeOrder.split(",").map(e=>e.trim()),n=e.wgChromosomeNames.map(t=>e.chromosomes[t]).filter(e=>void 0!==e);else{const t=Object.keys(e.chromosomes).map(t=>e.chromosomes[t].bpLength).reduce((e,t)=>Math.max(e,t))/50;n=Object.values(e.chromosomes).filter(e=>e.bpLength>t);const r=n.filter(e=>i(e.name.replace("chr",""))),o=n.filter(e=>!i(e.name.replace("chr","")));r.sort((e,t)=>Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr","")));const s=r.map(e=>e.name);for(let e of o)s.push(e.name);e.wgChromosomeNames=s}const r=n.reduce((e,t)=>e+t.bpLength,0);function i(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:r}}(this,e):this.wgChromosomeNames=t.chromosomeNames;var i={},o=this;i.all="all",this.chromosomeNames.forEach(function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;i[t.toLowerCase()]=e,"chrM"===e&&(i.mt="chrM"),"MT"===e&&(i.chrm="MT"),i[e.toLowerCase()]=e}),r&&r.forEach(function(e){var t,n;for(n=0;n<e.length;n++)if(o.chromosomes[e[n]]){t=e[n];break}t&&e.forEach(function(e){e!==t&&(i[e.toLowerCase()]=t,i[e]=t)})}),this.chrAliasTable=i}showWholeGenomeView(){return!1!==this.config.wholeGenomeView}toJSON(){return Object.assign({},this.config,{tracks:void 0})}getInitialLocus(){}getHomeChromosomeName(){return this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all")?"all":this.chromosomeNames[0]}getChromosomeName(e){var t=this.chrAliasTable[e.toLowerCase()];return t||e}getChromosome(e){return e=this.getChromosomeName(e),this.chromosomes[e]}getCytobands(e){return this.ideograms?this.ideograms[e]:null}getLongestChromosome(){var e,t=this.chromosomes;for(let r in t){if(t.hasOwnProperty(r)){var n=t[r];(void 0===e||n.bpLength>e.bpLength)&&(e=n)}return e}}getChromosomes(){return this.chromosomes}getGenomeCoordinate(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t}getChromosomeCoordinate(e){let t;void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=computeCumulativeOffsets.call(this));let n=0;for(let r of this.wgChromosomeNames){const i=this.cumulativeOffsets[r];if(i>e){return{chr:t,position:e-n}}t=r,n=i}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}}getCumulativeOffset(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=function(){let e=this,t={},n=0;for(let r of e.wgChromosomeNames){t[r]=Math.floor(n);n+=e.getChromosome(r).bpLength}return t}.call(this));const t=this.getChromosomeName(e);return this.cumulativeOffsets[t]}getGenomeLength(){let e=this;if(!this.bpLength){let t=0;e.wgChromosomeNames.forEach(function(n){let r=e.chromosomes[n];t+=r.bpLength}),this.bpLength=t}return this.bpLength}async getSequence(e,t,n){return this.sequence.getSequence(e,t,n)}}let ea,ta=0;class na extends class{constructor(e,t,n,r){this.guid=vt(),this.trackView=e,this.referenceFrame=n,this.browser=e.browser,this.$viewport=dt('<div class="igv-viewport">'),t.appendChild(this.$viewport.get(0)),e.track.height&&(this.$viewport.get(0).style.height=`${e.track.height}px`),e.track instanceof Ds&&(this.alert=new ns(this.$viewport.get(0))),this.$content=dt("<div>",{class:"igv-viewport-content"}),this.$viewport.append(this.$content),this.$content.height(this.$viewport.height()),this.contentDiv=this.$content.get(0),this.$canvas=dt("<canvas>"),this.$content.append(this.$canvas),this.canvas=this.$canvas.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(r),this.initializationHelper()}initializationHelper(){}showMessage(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}hideMessage(e){this.messageDiv&&(this.messageDiv.style.display="none")}setTrackLabel(e){}startSpinner(){}stopSpinner(){}checkZoomIn(){return!0}shift(){}setTop(e){const t=-e,n=t+this.$viewport.height();this.$content.css("top",`${e}px`),(void 0===this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}async loadFeatures(){}async repaint(){console.log("Viewport - repaint()")}draw(e,t,n){console.log("Viewport - draw(drawConfiguration, features, roiFeatures)")}checkContentHeight(){let e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){let t=this.cachedFeatures;if(t&&t.length>0){let n=e.computePixelHeight(t);n!==this.$content.height()&&this.setContentHeight(n)}}}getContentHeight(){return this.$content.height()}setContentHeight(e){e=Math.min(e,32e3),this.$content.height(e),this.tile&&(this.tile.invalidate=!0)}isLoading(){return!1}saveSVG(){}isVisible(){return this.$viewport.width()}setWidth(e){this.$viewport.width(e),this.canvas.style.width=`${e}px`,this.canvas.setAttribute("width",e)}getWidth(){return this.$viewport.width()}getContentTop(){return this.contentDiv.offsetTop}containsPosition(e,t){console.log("Viewport - containsPosition(chr, position)")}addMouseHandlers(){}removeMouseHandlers(){}dispose(){this.popover&&this.popover.dispose(),this.removeMouseHandlers(),this.$viewport.get(0).remove();for(let e of Object.keys(this))this[e]=void 0}}{constructor(e,t,n,r){super(e,t,n,r)}initializationHelper(){this.$spinner=dt("<div>",{class:"igv-loading-spinner-container"}),this.$viewport.append(this.$spinner),this.$spinner.append(dt("<div>"));const{track:e}=this.trackView;"sequence"!==e.type&&(this.$zoomInNotice=this.createZoomInNotice(this.$content)),e.name&&"sequence"!==e.config.type&&(this.$trackLabel=dt('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide()),this.stopSpinner(),this.addMouseHandlers()}setTrackLabel(e){this.$trackLabel.empty(),this.$trackLabel.html(e);const t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}startSpinner(){this.$spinner.show()}stopSpinner(){this.$spinner.hide()}checkZoomIn(){const e=()=>{const e=this.referenceFrame;if("all"!==this.referenceFrame.chr.toLowerCase()||this.trackView.track.supportsWholeGenome()){const t="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return void 0!==t&&t>0&&e.bpPerPixel*this.$viewport.width()>t}return!0};if(!this.viewIsReady())return!1;if(this.$zoomInNotice){if(e()){if(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight){const e=this.trackView.minHeight||0;this.setContentHeight(e)}return!1}return this.$zoomInNotice.hide(),!0}return!0}shift(){const e=this,t=e.referenceFrame;if(e.canvas&&e.tile&&e.tile.chr===e.referenceFrame.chr&&e.tile.bpPerPixel===t.bpPerPixel){const n=Math.round((e.tile.startBP-t.start)/t.bpPerPixel);e.canvas.style.left=n+"px"}}async loadFeatures(){const e=this.referenceFrame,t=e.chr,n=this.browser.genome.getChromosome(t).bpLength,r=this.$content.width()*e.bpPerPixel,i=Math.floor(Math.max(0,e.start-r)),o=Math.ceil(Math.min(n,e.start+r+r));if(!this.loading||this.loading.start!==i||this.loading.end!==o){this.loading={start:i,end:o},this.startSpinner();try{const n=await this.getFeatures(this.trackView.track,t,i,o,e.bpPerPixel);let r=[];const l=(s=this.browser.roi,a=this.trackView.track.roi,s&&a?s.concat(a):s||a);if(l)for(let n of l){const s=await n.getFeatures(t,i,o,e.bpPerPixel);r.push({track:n,features:s})}return this.tile=new sa(t,i,o,e.bpPerPixel,n,r),this.loading=!1,this.hideMessage(),this.stopSpinner(),this.tile}catch(e){this.trackView&&!0!==this.trackView.disposed&&(this.showMessage("Error loading track data"),is.presentAlert(e),console.error(e))}finally{this.loading=!1,this.stopSpinner()}var s,a}}async repaint(){if(void 0===this.tile)return;let{features:e,roiFeatures:t,bpPerPixel:n,startBP:r,endBP:i}=this.tile;let o;Qs.isWholeGenomeView(this.referenceFrame.chr)?(n=this.referenceFrame.end/this.$viewport.width(),r=0,i=this.referenceFrame.end,o=this.$viewport.width()):o=Math.ceil((i-r)/n);const s=this.$viewport.height(),a=this.getContentHeight(),l=t?Math.max(a,s):a;let c=Math.min(l,3*s);if(0===o||0===c)return void(this.canvas&&dt(this.canvas).remove());const h=Math.max(0,-this.$content.position().top-s);let u;u="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio;const f=Math.round((r-this.referenceFrame.start)/this.referenceFrame.bpPerPixel),d=dt('<canvas class="igv-canvas">').get(0),p=d.getContext("2d");d.style.width=o+"px",d.style.height=c+"px",d.width=u*o,d.height=u*c,p.scale(u,u),d.style.left=f+"px",d.style.top=h+"px",p.translate(0,-h);const g={context:p,pixelXOffset:f,pixelWidth:o,pixelHeight:c,pixelTop:h,bpStart:r,bpEnd:i,bpPerPixel:n,referenceFrame:this.referenceFrame,selection:this.selection,viewport:this,viewportWidth:this.$viewport.width()};this.draw(g,e,t),this.canvasVerticalRange={top:h,bottom:h+c},this.$canvas&&this.$canvas.remove(),this.$canvas=dt(d),this.$content.append(this.$canvas),this.canvas=d,this.ctx=p}draw(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n)for(let t of n)e.features=t.features,t.track.draw(e)}async toSVG(e){if(this.$zoomInNotice&&this.$zoomInNotice.is(":visible"))return;const t=this.referenceFrame,n=e.bpPerPixel,r=e.features,i=e.roiFeatures,o=this.$viewport.width(),s=this.$viewport.height(),a=t.start,l=t.start+o*t.bpPerPixel,c=new js({width:o,height:s,viewbox:{x:0,y:-this.$content.position().top,width:o,height:s}}),h={viewport:this,context:c,top:-this.$content.position().top,pixelTop:0,pixelWidth:o,pixelHeight:s,bpStart:a,bpEnd:l,bpPerPixel:n,referenceFrame:this.referenceFrame,selection:this.selection,viewportWidth:o};return this.draw(h,r,i),c.getSerializedSvg(!0)}containsPosition(e,t){return this.referenceFrame.chr===e&&t>=this.referenceFrame.start&&t<=this.referenceFrame.calculateEnd(this.getWidth())}isLoading(){return this.loading}saveImage(){if(!this.ctx)return;const e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,i=-dt(this.canvas).position().left*t,o=(-this.$content.position().top-e)*t,s=this.ctx.getImageData(i,o,n,r),a=document.createElement("canvas"),l=a.getContext("2d");a.width=s.width,a.height=s.height,l.putImageData(s,0,0);Ut((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",a.toDataURL("image/png"))}saveSVG(){const{width:e,height:t}=this.$viewport.get(0).getBoundingClientRect(),n={width:e,height:t,viewbox:{x:0,y:-this.$content.position().top,width:e,height:t}},r=new js(n),i=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_referenceFrame_${this.browser.referenceFrameList.indexOf(this.referenceFrame)}_guid_${vt()}`;this.drawSVGWithContext(r,e,t,i,0,0,0);const o=r.getSerializedSvg(!0);Ut(`${i}.svg`,URL.createObjectURL(new Blob([o],{type:"application/octet-stream"})))}renderSVGContext(e,{deltaX:t,deltaY:n}){if(this.$zoomInNotice&&this.$zoomInNotice.is(":visible"))return;const r=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_referenceFrame_${this.browser.referenceFrameList.indexOf(this.referenceFrame)}_guid_${vt()}`,{top:i}=this.$content.position(),{width:o,height:s}=this.$viewport.get(0).getBoundingClientRect();if(this.drawSVGWithContext(e,o,s,r,t,n+i,-i),this.$trackLabel&&!0===this.browser.trackLabelsVisible){const{x:r,y:i,width:o,height:s}=((e,t)=>{const{x:n,y:r,width:i,height:o}=e.getBoundingClientRect(),{x:s,y:a,width:l,height:c}=t.getBoundingClientRect();return{x:s-n,y:a-r,width:l,height:c}})(this.$viewport.get(0),this.$trackLabel.get(0));this.renderTrackLabelSVG(e,t+r,n+i,o,s)}}renderTrackLabelSVG(e,t,n,r,i){const o=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_track_label_guid_${vt()}`;e.saveWithTranslationAndClipRect(o,t,n,r,i,0),e.fillStyle="white",e.fillRect(0,0,r,i),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";const{width:s}=e.measureText(this.$trackLabel.text()),a=.25*(r-s),l=.7*(i-12);e.fillText(this.$trackLabel.text(),a,i-l),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(0,0,r,i),e.restore()}drawSVGWithContext(e,t,n,r,i,o,s){e.saveWithTranslationAndClipRect(r,i,o,t,n,s);let{start:a,bpPerPixel:l}=this.referenceFrame;const c={context:e,viewport:this,referenceFrame:this.referenceFrame,top:s,pixelTop:s,pixelWidth:t,pixelHeight:n,bpStart:a,bpEnd:a+t*l,bpPerPixel:l,viewportWidth:t,selection:this.selection},h=this.tile?this.tile.features:[],u=this.tile?this.tile.roiFeatures:void 0;this.draw(c,h,u),e.restore()}getCachedFeatures(){return this.tile?this.tile.features:[]}async getFeatures(e,t,n,r,i){if(this.tile&&this.tile.containsRange(t,n,r,i))return this.tile.features;if("function"==typeof e.getFeatures){const o=await e.getFeatures(t,n,r,i,this);return this.cachedFeatures=o,this.checkContentHeight(),o}}createZoomInNotice(e){const t=dt("<div>",{class:"igv-zoom-in-notice-container"});e.append(t);const n=dt("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}viewIsReady(){return this.browser&&this.browser.referenceFrameList&&this.referenceFrame}addMouseHandlers(){this.addViewportContextMenuHandler(this.$viewport.get(0)),this.addViewportMouseDownHandler(this.$viewport.get(0)),this.addViewportTouchStartHandler(this.$viewport.get(0)),this.addViewportMouseUpHandler(this.$viewport.get(0)),this.addViewportTouchEndHandler(this.$viewport.get(0)),this.addViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.addTrackLabelClickHandler(this.$trackLabel.get(0))}removeMouseHandlers(){this.removeViewportContextMenuHandler(this.$viewport.get(0)),this.removeViewportMouseDownHandler(this.$viewport.get(0)),this.removeViewportTouchStartHandler(this.$viewport.get(0)),this.removeViewportMouseUpHandler(this.$viewport.get(0)),this.removeViewportTouchEndHandler(this.$viewport.get(0)),this.removeViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.removeTrackLabelClickHandler(this.$trackLabel.get(0))}addViewportContextMenuHandler(e){this.boundContextMenuHandler=function(e){if(this.browser.dragObject)return!1;const t=oa(e,this);if(void 0===t)return!1;e.preventDefault();let n=[];if("function"==typeof this.trackView.track.contextMenuItemList){const e=this.trackView.track.contextMenuItemList(t);e&&(n=e)}n.length>0&&n.push({label:dt("<HR>")});n.push({label:"Save Image (PNG)",click:()=>this.saveImage()}),n.push({label:"Save Image (SVG)",click:()=>this.saveSVG()}),this.browser.menuPopup.presentTrackContextMenu(e,n)}.bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}removeViewportContextMenuHandler(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}addViewportMouseDownHandler(e){this.boundMouseDownHandler=ra.bind(this),e.addEventListener("mousedown",this.boundMouseDownHandler)}removeViewportMouseDownHandler(e){e.removeEventListener("mousedown",this.boundMouseDownHandler)}addViewportTouchStartHandler(e){this.boundTouchStartHandler=ra.bind(this),e.addEventListener("touchstart",this.boundTouchStartHandler)}removeViewportTouchStartHandler(e){e.removeEventListener("touchstart",this.boundTouchStartHandler)}addViewportMouseUpHandler(e){this.boundMouseUpHandler=ia.bind(this),e.addEventListener("mouseup",this.boundMouseUpHandler)}removeViewportMouseUpHandler(e){e.removeEventListener("mouseup",this.boundMouseUpHandler)}addViewportTouchEndHandler(e){this.boundTouchEndHandler=ia.bind(this),e.addEventListener("touchend",this.boundTouchEndHandler)}removeViewportTouchEndHandler(e){e.removeEventListener("touchend",this.boundTouchEndHandler)}addViewportClickHandler(e){this.boundClickHandler=function(e){if(this.enableClick){if(3===e.which||e.ctrlKey)return;if(dt(".igv-popover").hide(),this.browser.dragObject||this.browser.isScrolling)return;e.preventDefault(),e.stopPropagation();const t=bt(e,this.$viewport.get(0)).x,n=bt(e,this.canvas).x,r=this.referenceFrame,i=Math.floor(r.start+r.toBP(n)),o=Date.now();if(o-ta<this.browser.constants.doubleClickDelay){ea&&(window.clearTimeout(ea),ea=void 0);const e=Math.round(r.start+r.toBP(t));let n;if("all"===this.referenceFrame.chr.toLowerCase()){const t=this.browser.genome.getChromosomeCoordinate(e).chr;if(1===this.browser.referenceFrameList.length)n=t;else{const e=this.browser.referenceFrameList.map(({locusSearchString:e})=>e),r=this.browser.referenceFrameList.indexOf(this.referenceFrame);e[r]=t,n=e.join(" ")}this.browser.search(n)}else this.browser.zoomWithScaleFactor(.5,e,this.referenceFrame)}else e.shiftKey&&"function"==typeof this.trackView.track.shiftClick?this.trackView.track.shiftClick(i,e):"function"==typeof this.trackView.track.popupData&&(ea=setTimeout(()=>{const t=function(e,t){const n=oa(e,t);if(void 0===n)return;let r=t.trackView.track;const i=r.popupData(n),o=t.browser.fireEvent("trackclick",[r,i]);let s;void 0===o||!0===o?i&&i.length>0&&(s=i.map(e=>{if(e.name){const t=`<span>${e.name}</span>&nbsp&nbsp&nbsp${e.value}`;return`<div title="${e.value}">${t}</div>`}return"<hr>"===e?e:e.html?e.html:`<div title="${e}">${e}</div>`}).join("")):"string"==typeof o&&(s=o);return s}(e,this);t&&(this.popover&&this.popover.dispose(),this.popover=new us(this.browser.columnContainer),this.popover.presentContentWithEvent(e,t)),window.clearTimeout(ea),ea=void 0},this.browser.constants.doubleClickDelay));ta=o}}.bind(this),e.addEventListener("click",this.boundClickHandler)}removeViewportClickHandler(e){e.removeEventListener("click",this.boundClickHandler)}addTrackLabelClickHandler(e){this.boundTrackLabelClickHandler=function(e){e.stopPropagation();const{track:t}=this.trackView;let n;n="function"==typeof t.description?t.description():t.description?`<div>${t.description}</div>`:t.url?Vt(t.url)?`<div><b>Filename: </b>${t.url.name}`:`<div><b>URL: </b>${t.url}`:t.name;this.popover&&this.popover.dispose();this.popover=new us(this.browser.columnContainer,t.name||"unnamed"),this.popover.presentContentWithEvent(e,n)}.bind(this),e.addEventListener("click",this.boundTrackLabelClickHandler)}removeTrackLabelClickHandler(e){e.removeEventListener("click",this.boundTrackLabelClickHandler)}}function ra(e){this.enableClick=!0,this.browser.mouseDownOnViewport(e,this),mt(e)}function ia(e){this.browser.dragObject||this.browser.isScrolling?(this.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),this.enableClick=!1):(this.browser.cancelTrackPan(),this.browser.endTrackDrag())}function oa(e,t){const n=t.referenceFrame,r=bt(e,t.contentDiv),i=bt(e,t.canvas),o=n.start+n.toBP(r.x);if(void 0!==o&&null!==t.tile)return{event:e,viewport:t,referenceFrame:n,genomicLocation:o,x:r.x,y:r.y,canvasX:i.x,canvasY:i.y}}var sa=function(e,t,n,r,i,o){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=i,this.roiFeatures=o};sa.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},sa.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};class aa{constructor(e){this.rulerSweeper=pt({class:"igv-ruler-sweeper"}),e.contentDiv.appendChild(this.rulerSweeper),this.rulerViewport=e,this.isMouseHandlers=void 0,this.addBrowserObserver()}addBrowserObserver(){this.boundObserverHandler=function(){Qs.isWholeGenomeView(this.rulerViewport.referenceFrame.chr)?this.removeMouseHandlers():this.addMouseHandlers()}.bind(this),this.rulerViewport.browser.on("locuschange",this.boundObserverHandler)}removeBrowserObserver(){this.rulerViewport.browser.off("locuschange",this.boundObserverHandler)}addMouseHandlers(){if(!0===this.isMouseHandlers)return;let e,t,n,r,i,o;this.boundContentMouseDownHandler=function(o){e=!0,t=!0;const{x:s}=bt(o,this.rulerViewport.contentDiv);r=n=s,i=1,this.rulerSweeper.style.display="block",this.rulerSweeper.style.left=`${r}px`,this.rulerSweeper.style.width=`${i}px`}.bind(this),this.rulerViewport.contentDiv.addEventListener("mousedown",this.boundContentMouseDownHandler),this.boundDocumentMouseMoveHandler=function(s){let a;if(e&&t){const{x:e}=bt(s,this.rulerViewport.contentDiv);a=Math.max(Math.min(e,this.rulerViewport.contentDiv.clientWidth),0),o=a-n,i=Math.abs(o),this.rulerSweeper.style.width=`${i}px`,o<0&&(r=n+o,this.rulerSweeper.style.left=`${r}px`)}}.bind(this),document.addEventListener("mousemove",this.boundDocumentMouseMoveHandler),this.boundDocumentMouseUpHandler=function(n){let o;!0===e&&!0===t&&(e=t=void 0,this.rulerSweeper.style.display="none",i>1&&(o={start:la(this.rulerViewport.referenceFrame,r),end:la(this.rulerViewport.referenceFrame,r+i)},ma(this.rulerViewport.browser.genome.getChromosome(this.rulerViewport.referenceFrame.chr).bpLength,o,this.rulerViewport.browser.minimumBases()),this.rulerViewport.referenceFrame.bpPerPixel=(Math.round(o.end)-Math.round(o.start))/this.rulerViewport.contentDiv.clientWidth,this.rulerViewport.referenceFrame.start=Math.round(o.start),this.rulerViewport.referenceFrame.end=Math.round(o.end),this.rulerViewport.browser.updateViews(this.rulerViewport.referenceFrame)))}.bind(this),document.addEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!0}removeMouseHandlers(){this.rulerViewport.contentDiv.removeEventListener("mousedown",this.boundContentMouseDownHandler),document.removeEventListener("mousemove",this.boundDocumentMouseMoveHandler),document.removeEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!1}dispose(){this.removeBrowserObserver(),this.removeMouseHandlers(),this.rulerSweeper.remove()}}function la(e,t){return e.start+t*e.bpPerPixel}let ca,ha;class ua extends na{constructor(e,t,n,r){super(e,t,n,r)}initializationHelper(){this.$viewport.get(0).dataset.rulerTrack="rulerTrack",this.rulerSweeper=new aa(this);const e=this.$viewport.get(0);this.multiLocusPanelCloseButton=pt({class:"igv-multi-locus-close-button"}),e.appendChild(this.multiLocusPanelCloseButton),this.multiLocusPanelCloseButton.appendChild(yt("times-circle")),this.rulerLabel=pt({class:"igv-multi-locus-ruler-label"}),e.appendChild(this.rulerLabel),this.$tooltip=dt("<div>",{class:"igv-ruler-tooltip"}),this.$tooltip.height(this.$viewport.height()),this.$viewport.append(this.$tooltip),this.$tooltipContent=dt("<div>"),this.$tooltip.append(this.$tooltipContent),this.$tooltip.hide(),this.dismissLocusLabel(),this.addMouseHandlers()}addMouseHandlers(){this.addMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.addRulerLableClickHandler(this.rulerLabel),Qs.isWholeGenomeView(this.referenceFrame.chr)?this.addViewportClickHandler(this.$viewport.get(0)):this.removeViewportClickHandler(this.$viewport.get(0))}removeMouseHandlers(){this.removeMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.removeRulerLableClickHandler(this.rulerLabel),this.removeViewportClickHandler(this.$viewport.get(0))}addMultiLocusPanelCloseHandler(e){this.boundMultiLocusPanelCloseHandler=function(e){ha===this&&(ha=void 0);this.browser.removeMultiLocusPanel(this.referenceFrame)}.bind(this),e.addEventListener("click",this.boundMultiLocusPanelCloseHandler)}removeMultiLocusPanelCloseHandler(e){e.removeEventListener("click",this.boundMultiLocusPanelCloseHandler)}addRulerLableClickHandler(e){this.boundRulerLableClickHandler=async function(){const e=this.browser.referenceFrameList.filter(e=>this.referenceFrame!==e);for(let t of e)await this.browser.removeMultiLocusPanel(t)}.bind(this),e.addEventListener("click",this.boundRulerLableClickHandler)}removeRulerLableClickHandler(e){e.removeEventListener("click",this.boundRulerLableClickHandler)}addViewportClickHandler(e){this.boundViewportClickHandler=function(e){const t=this.browser.referenceFrameList.indexOf(this.referenceFrame),{x:n}=bt(e,this.$viewport.get(0)),r=Math.round(this.referenceFrame.start+this.referenceFrame.toBP(n)),{chr:i}=this.browser.genome.getChromosomeCoordinate(r);let o;if(1===this.browser.referenceFrameList.length)o=i;else{let e=this.browser.referenceFrameList.map(({locusSearchString:e})=>e);e[t]=i,o=e.join(" ")}this.browser.search(o)}.bind(this),e.addEventListener("click",this.boundViewportClickHandler)}removeViewportClickHandler(e){e.removeEventListener("click",this.boundViewportClickHandler)}presentLocusLabel(e){this.rulerLabel.innerHTML=this.referenceFrame.getMultiLocusLabel(e),this.rulerLabel.style.display="block",this.multiLocusPanelCloseButton.style.display="block"}dismissLocusLabel(){this.rulerLabel.style.display="none",this.multiLocusPanelCloseButton.style.display="none"}mouseMove(e){if(!0===this.browser.cursorGuideVisible){void 0===ha?(ha=this,this.$tooltip.show()):ha.guid!==this.guid?(ha.$tooltip&&ha.$tooltip.hide(),this.$tooltip.show(),ha=this):this.$tooltip.show();if(this.browser.isMultiLocusWholeGenomeView()||Qs.isWholeGenomeView(this.referenceFrame.chr))return void this.$tooltip.hide();const{x:t}=bt(e,this.$viewport.get(0)),{start:n,bpPerPixel:r,end:i}=this.referenceFrame,o=Math.round(.5+n+Math.max(0,t)*r);this.$tooltipContent.text(St(o));const{width:s}=this.$tooltipContent.get(0).getBoundingClientRect(),{width:a}=this.$viewport.get(0).getBoundingClientRect();return this.$tooltip.css({left:`${io(t,0,a-s)}px`}),clearTimeout(ca),ca=setTimeout(()=>{this.$tooltip&&this.$tooltip.hide()},1e4),{start:n,bp:o,end:i}}}startSpinner(){}stopSpinner(){}dispose(){this.rulerSweeper.dispose(),super.dispose()}}class fa extends na{constructor(e,t,n,r){super(e,t,n,r)}initializationHelper(){this.$ideogramCanvas=dt("<canvas>",{class:"igv-ideogram-canvas"}),this.$ideogramCanvas.insertBefore(this.$canvas);const e=this.$ideogramCanvas.get(0);this.ideogram_ctx=e.getContext("2d"),this.$canvas.remove(),this.canvas=void 0,this.ctx=void 0,this.addMouseHandlers()}addMouseHandlers(){this.addViewportClickHandler(this.$viewport.get(0))}removeMouseHandlers(){this.removeViewportClickHandler(this.$viewport.get(0))}addViewportClickHandler(e){this.boundClickHandler=function(e){const{xNormalized:t,width:n}=bt(e,this.ideogram_ctx.canvas),{bpLength:r}=this.browser.genome.getChromosome(this.referenceFrame.chr),i=this.referenceFrame.bpPerPixel*n/r;let o=t;o-i/2<0&&(o=i/2);o+i/2>1&&(o=1-i/2);const s=Math.round((o-i/2)*r),a=Math.round((o+i/2)*r);this.referenceFrame.start=s,this.referenceFrame.end=a,this.referenceFrame.bpPerPixel=(a-s)/n,this.browser.updateViews(this.referenceFrame,this.browser.trackViews,!0)}.bind(this),e.addEventListener("click",this.boundClickHandler)}removeViewportClickHandler(e){e.removeEventListener("click",this.boundClickHandler)}setWidth(e){this.$viewport.width(e)}drawSVGWithContext(e,t,n,r,i,o,s){e.saveWithTranslationAndClipRect(r,i,o,t,n,s),this.trackView.track.draw({context:e,referenceFrame:this.referenceFrame,pixelWidth:t,pixelHeight:n}),e.restore()}async repaint(){this.draw({referenceFrame:this.referenceFrame})}draw({referenceFrame:e}){this.$canvas.hide(),gs.configureHighDPICanvas(this.ideogram_ctx,this.$viewport.width(),this.$viewport.height()),this.trackView.track.draw({context:this.ideogram_ctx,referenceFrame:e,pixelWidth:this.$viewport.width(),pixelHeight:this.$viewport.height()})}startSpinner(){}stopSpinner(){}}function da(e){const t=new Set(["boolean","number","string","symbol"]),n=typeof e;return void 0!==e&&(t.has(n)||e.substring||e.toFixed)}function pa(e,t){var n={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(n,t)}const ga=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))}),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},ma=function(e,t,n){let r=t.start,i=t.end;if(void 0===i)r-=n/2,i=r+n,i>e?(i=e,r=i-n):r<0&&(r=0,i=n);else if(i-r<n){const t=(i+r)/2;t-n/2<0?(r=0,i=r+n):t+n/2>e?(i=e,r=i-n):(r=t-n/2,i=r+n)}t.start=Math.ceil(r),t.end=Math.floor(i)};async function va(e){if(_t(e)&&e.startsWith("https://drive.google.com")){if(void 0===Bt())throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const t=await async function(e){let t="https://www.googleapis.com/drive/v3/files/"+Mt(e)+"?supportsTeamDrives=true";const n=Bt();n&&(t+="&key="+n);const r=await fetch(t);let i=await r.json();if(i.error&&404===i.error.code){const{access_token:e}=await Ot("https://www.googleapis.com/auth/drive.readonly");if(!e)throw Error(i.error);{const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(i=await n.json(),i.error)throw Error(i.error)}}return i}(e);return t.originalFileName||t.name}return zt(e)}function ba(e){var t,n;return e>1e7?(t=" mb",n=e/1e6,Math.floor(n).toString()+t):e>1e4?(t=" kb",n=e/1e3,St(Math.floor(n))+t):St(e)+" bp"}function ya(e){return _t(e)&&e.startsWith("data:")}function wa(e,t){const n=pt({class:t});e.appendChild(n)}function xa(e,t){t.parentNode.insertBefore(e,t)}function _a(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function Sa(e,t,n,r){return"ruler"===e.track.type?new ua(e,t,n,r):"ideogram"===e.track.type?new fa(e,t,n,r):new na(e,t,n,r)}const ka={textAlign:"start",textBaseline:"bottom",strokeStyle:"black",fillStyle:"black"};class Ca{constructor(e,t,n,r){this.guid=vt(),this.trackView=e,this.browser=e.browser,this.viewport=pt({class:"igv-viewport"}),t.appendChild(this.viewport),e.track.height&&(this.viewport.style.height=`${e.track.height}px`),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.trackScrollDelta=0,this.contentTop=0,this.setWidth(r),!1===this.browser.showSampleNames&&this.hide(),this.addMouseHandlers()}checkCanvas(){const e=window.devicePixelRatio,t=this.viewport.clientHeight,n=this.browser.sampleNameViewportWidth;if(this.canvas.width!==n*e||this.canvas.height!==t*e){const r=this.canvas;r.width=n*e,r.height=t*e,r.style.width=`${n}px`,r.style.height=`${t}px`,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(e,e)}}setTop(e){if("function"==typeof this.trackView.track.getSamples){this.contentTop=e;const t=this.trackView.track.getSamples();this.repaint(t)}}setWidth(e){this.viewport.innerWidth=e,this.checkCanvas()}show(){this.viewport.style.display="block"}hide(){this.viewport.style.display="none"}async repaint(e){this.checkCanvas(),this.draw({context:this.ctx,samples:e})}draw({context:e,samples:t}){if(!t||0===t.names.length)return;!function(e,{textAlign:t,textBaseline:n,strokeStyle:r,fillStyle:i},o){const s=Math.min(o,10);e.font=`${s}px sans-serif`,e.textAlign=t,e.textBaseline=n,e.fillStyle=i}(e,ka,t.height);e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=function(e){const{r:t,g:n,b:r}=ws[e];return`rgb(${t},${n},${r})`}("lead");const n=this.viewport.getBoundingClientRect().height;let r=(t.yOffset||0)+this.contentTop;for(let i of t.names){if(r>n)break;if(r+t.height>0){const n=i,o=Ta(e,n,r,t.height);e.fillText(n,4,o)}r+=t.height}}renderSVGContext(e,{deltaX:t,deltaY:n}){if("function"==typeof this.trackView.track.getSamples){const r=this.trackView.track.getSamples(),i=0,{width:o,height:s}=this.viewport.getBoundingClientRect(),a=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_sample_names_guid_${vt()}`;e.saveWithTranslationAndClipRect(a,t,n+i,o,s,-i),this.draw({context:e,samples:r}),e.restore()}}addMouseHandlers(){this.addViewportContextMenuHandler(this.viewport)}removeMouseHandlers(){this.removeViewportContextMenuHandler(this.viewport)}addViewportContextMenuHandler(e){this.boundContextMenuHandler=function(e){e.preventDefault(),e.stopPropagation();const t={label:"Name Panel Width",value:this.browser.sampleNameViewportWidth,callback:e=>{this.browser.sampleNameViewportWidth=parseInt(e);for(let{sampleNameViewport:e}of this.browser.trackViews)e.setWidth(this.browser.sampleNameViewportWidth);this.browser.resize()}};this.browser.inputDialog.present(t,e)}.bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}removeViewportContextMenuHandler(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}dispose(){this.removeMouseHandlers(),this.viewport.remove()}}function Ta(e,t,n,r){return n+r-function(e,t,n){const{actualBoundingBoxAscent:r,actualBoundingBoxDescent:i}=e.measureText(t);return(n-(r+i))/2}(e,t,r)}class Aa extends as{constructor({parent:e,width:t}){super({parent:e,width:t,border:"1px solid gray"})}configure(e,t){this.colorHandlers=t,this.setActiveColorHandler("color"),this.createSwatches(e)}setActiveColorHandler(e){this.activeColorHandler=this.colorHandlers[e]}createSwatches(e){this.container.querySelectorAll(".igv-ui-color-swatch").forEach(e=>e.remove());const t=Object.values(go);for(let e of t){const t=pt({class:"igv-ui-color-swatch"});this.container.appendChild(t),this.decorateSwatch(t,e)}if(e)for(let t of e){const e=pt({class:"igv-ui-color-swatch"});this.container.appendChild(e),this.decorateSwatch(e,t)}}decorateSwatch(e,t){e.style.backgroundColor=t,e.addEventListener("mouseenter",()=>e.style.borderColor=t),e.addEventListener("mouseleave",()=>e.style.borderColor="white"),e.addEventListener("click",e=>{e.stopPropagation(),this.activeColorHandler(t)}),e.addEventListener("touchend",e=>{e.stopPropagation(),this.activeColorHandler(t)})}}const Ea=function(e){this.popover=pt({class:"igv-menu-popup"}),e.appendChild(this.popover);const t=pt({class:"igv-menu-popup-header"});this.popover.appendChild(t),xt(t,()=>this.hide()),this.popoverContent=pt(),this.popover.appendChild(this.popoverContent),ho(this.popover,t),t.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault()}),this.hide()};Ea.prototype.hide=function(){this.popover.style.display="none"},Ea.prototype.presentMenuList=function(e){if(La(),e.length>0){this.popoverContent.innerHTML="",e=zo.trackMenuItemListHelper(e,this);for(let t of e){t.init&&t.init();let n=t.object;0===e.indexOf(t)&&n.removeClass("igv-track-menu-border-top"),n.hasClass("igv-track-menu-border-top")||n.hasClass("igv-menu-popup-check-container")||n.is("div")&&n.addClass("igv-menu-popup-shim"),this.popoverContent.appendChild(n.get(0))}this.popover.style.display="flex";const{width:t}=this.popover.getBoundingClientRect();this.popover.style.left=-t+"px",this.popover.style.top="0px"}},Ea.prototype.presentTrackContextMenu=function(e,t){this.popoverContent.innerHTML="";const n=(r=t,i=this.popover,r.map(e=>{let t;if("string"==typeof e&&"<hr/>"===e)t=document.createElement("hr");else if("string"==typeof e)t=pt({class:"context-menu"}),t.innerHTML=e;else if("Node"==typeof e)t=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)t=jo("Show all bases",e.value);else if("color"===e.type){const n=new Aa({parent:i.parentElement,width:364});n.configure(void 0,{color:t=>e.click(t)}),t=pt({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);const r=e=>{n.show(),gt(i),e.preventDefault(),e.stopPropagation()};t.addEventListener("click",r),t.addEventListener("touchend",r),t.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}else t=pt({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);if(e.click&&"color"!==e.type){function n(t){e.click(),gt(i),t.preventDefault(),t.stopPropagation()}t.addEventListener("click",n),t.addEventListener("touchend",n),t.addEventListener("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}}return{el:t,init:e.init}}));var r,i;for(let{el:e}of n)this.popoverContent.appendChild(e);!function(e,t){t.style.display="flex";const{x:n,y:r}=bt(e,t.parentNode),{width:i}=t.getBoundingClientRect(),o=n+i,{width:s}=t.parentNode.getBoundingClientRect();t.style.left=`${o>s?n-(o-s):n}px`,t.style.top=`${r}px`}(e,this.popover)},Ea.prototype.dispose=function(){this.popoverContent.innerHTML="",this.popover.innerHTML="",Object.keys(this).forEach(function(e){this[e]=void 0})};const La=()=>{const e=document.querySelectorAll(".igv-menu-popup");for(let t=0;t<e.length;t++)e[t].style.display="none"},Ra=new Set(["ruler","sequence","ideogram"]),Da=new Set(["ruler","sequence","ideogram"]);class Ma{constructor(e,t,n){this.namespace=`trackview-${vt()}`,this.browser=e,this.track=n,n.trackView=this,this.addDOMToColumnContainer(e,t,e.referenceFrameList)}startSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].startSpinner()}stopSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].stopSpinner()}addDOMToColumnContainer(e,t,n){this.axis=this.createAxis(e,this.track),this.viewports=[];const r=e.calculateViewportWidth(n.length),i=t.querySelectorAll(".igv-column");for(let e=0;e<i.length;e++){const t=Sa(this,i[e],n[e],r);this.viewports.push(t)}this.sampleNameViewport=new Ca(this,e.columnContainer.querySelector(".igv-sample-name-column"),void 0,e.sampleNameViewportWidth),this.createTrackScrollbar(e),this.createTrackDragHandle(e),this.createTrackGearPopup(e)}createAxis(e,t){const n=pt();if(e.columnContainer.querySelector(".igv-axis-column").appendChild(n),n.style.height=`${t.height}px`,"function"==typeof t.paintAxis){t.dataRange&&n.addEventListener("click",()=>{e.dataRangeDialog.configure(this),e.dataRangeDialog.present(dt(e.columnContainer))});const{width:r,height:i}=n.getBoundingClientRect();this.axisCanvas=document.createElement("canvas"),this.axisCanvas.style.width=`${r}px`,this.axisCanvas.style.height=`${i}px`,n.appendChild(this.axisCanvas)}return n}resizeAxisCanvas(e,t){this.axis.style.width=`${e}px`,this.axis.style.height=`${t}px`,"function"==typeof this.track.paintAxis&&(this.axisCanvas.style.width=`${e}px`,this.axisCanvas.style.height=`${t}px`)}removeDOMFromColumnContainer(){this.boundAxisClickHander&&this.removeAxisEventListener(this.axis),this.axis.remove();for(let e of this.viewports)e.removeMouseHandlers(),e.$viewport.remove();this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove()}renderSVGContext(e,{deltaX:t,deltaY:n}){!function(e,t,n,r,i){if("function"==typeof t.paintAxis){const{y:o,width:s,height:a}=n.getBoundingClientRect(),l=`${(t.name||t.id).replace(/\W/g,"")}_axis_guid_${vt()}`;e.saveWithTranslationAndClipRect(l,r,o+i,s,a,0),t.paintAxis(e,s,a),e.restore()}}(e,this.track,this.axisCanvas,t,n);const{width:r}=this.axis.getBoundingClientRect(),{y:i}=this.viewports[0].$viewport.get(0).getBoundingClientRect();let o={deltaX:r+t,deltaY:i+n};for(let t of this.viewports){t.renderSVGContext(e,o);const{width:n}=t.$viewport.get(0).getBoundingClientRect();o.deltaX+=n}!0===this.browser.showSampleNames&&this.sampleNameViewport.renderSVGContext(e,o)}dataRange(){return this.track.dataRange?this.track.dataRange:void 0}setDataRange(e,t){void 0!==e&&(this.track.dataRange.min=e),void 0!==t&&(this.track.dataRange.max=t),this.track.autoscale=!1,this.repaintViews()}presentColorPicker(e){if(!1===Da.has(this.track.type)){const t=[],n=this.track.color||this.track.defaultColor;_t(n)&&t.push(n),this.track.altColor&&_t(this.track.altColor)&&t.push(this.track.altColor);const r=t.map(e=>e.startsWith("#")?e:e.startsWith("rgb(")?lo.rgbToHex(e):lo.colorNameToHex(e)),i={color:e=>{this.track.color=e,this.repaintViews()},altColor:e=>{this.track.altColor=e,this.repaintViews()}};this.browser.genericColorPicker.configure(r,i),this.browser.genericColorPicker.setActiveColorHandler(e),this.browser.genericColorPicker.show()}}setTrackHeight(e,t){t||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,this.resizeAxisCanvas(this.axis.clientWidth,this.track.height),"function"==typeof this.track.paintAxis&&this.paintAxis();for(let{$viewport:t}of this.viewports)t.height(e);if(this.sampleNameViewport.viewport.style.height=`${e}px`,"function"!=typeof this.track.computePixelHeight)for(let t of this.viewports)t.setContentHeight(e);this.repaintViews(),!1===Ra.has(this.track.type)&&this.updateScrollbar(),this.dragHandle.style.height=`${e}px`,this.gearContainer.style.height=`${e}px`}updateScrollbar(){const e=this.viewports[0].$viewport.height();this.outerScroll.style.height=`${e}px`;const t=Ia(this.viewports),n=Math.round(e/t*e);t>e?(this.innerScroll.style.display="block",this.innerScroll.style.height=`${n}px`):this.innerScroll.style.display="none"}moveScroller(e){const t=dt(this.innerScroll).position().top+e,n=Math.min(Math.max(0,t),this.outerScroll.clientHeight-this.innerScroll.clientHeight);dt(this.innerScroll).css("top",`${n}px`);const r=Ia(this.viewports),i=-Math.round(n*(r/this.viewports[0].$viewport.height()));for(let e of this.viewports)e.setTop(i);this.sampleNameViewport.trackScrollDelta=e,this.sampleNameViewport.setTop(i)}isLoading(){for(let e of this.viewports)if(e.isLoading())return!0}resize(e){for(let t of this.viewports)t.setWidth(e);this.updateViews(!0)}repaintViews(){for(let e of this.viewports)e.repaint();"function"==typeof this.track.paintAxis&&this.paintAxis(),this.repaintSamples()}repaintSamples(){if("function"==typeof this.track.getSamples){const e=this.track.getSamples();this.sampleNameViewport.repaint(e)}}setTrackLabelName(e){this.viewports.forEach(t=>t.setTrackLabel(e))}async updateViews(e){if(!this.browser||!this.browser.referenceFrameList)return;const t=this.viewports.filter(e=>e.isVisible());t.forEach(e=>e.shift());const n=this.browser.dragObject;if(n)return;const r=this.viewportsToReload(e);for(let e of r)await e.loadFeatures();if("function"==typeof this.track.variantRowCount&&r.length>0){let e=0;for(let t of this.viewports)t.tile&&t.tile.features&&(e=Math.max(e,t.tile.features.reduce((e,t)=>Math.max(e,t.row||0),0)));if(this.track.nVariantRows!==e+1){this.track.variantRowCount(e+1);for(let e of this.viewports)e.checkContentHeight()}}if(!this.disposed){if(this.track.autoscale){let e=[];for(let n of t){const t=n.referenceFrame,r=t.start,i=r+t.toBP(dt(n.contentDiv).width());if(n.tile&&n.tile.features)if("function"==typeof n.tile.features.getMax){const t=n.tile.features.getMax(r,i);e.push({value:t})}else e=e.concat(Ho(n.tile.features,r,i))}"function"==typeof this.track.doAutoscale?this.track.dataRange=this.track.doAutoscale(e):this.track.dataRange=ga(e)}if(n||!this.track.autoscale&&!this.track.autoscaleGroup)for(let e of r)e.repaint();else for(let e of t)e.repaint();this.adjustTrackHeight(),this.repaintSamples(),this.updateRulerViewportLabels()}}updateRulerViewportLabels(){const e=this.browser.calculateViewportWidth(this.viewports.length);for(let t of this.viewports)"ruler"===this.track.type&&(this.viewports.length>1?t.presentLocusLabel(e):t.dismissLocusLabel())}async getInViewFeatures(e){if(!this.browser||!this.browser.referenceFrameList)return[];const t=this.viewportsToReload(e).map(function(e){return e.loadFeatures()});await Promise.all(t);let n=[];for(let e of this.viewports)if(e.tile&&e.tile.features){const t=e.referenceFrame,r=t.start,i=r+t.toBP(dt(e.contentDiv).width());if("function"==typeof e.tile.features.getMax){const t=e.tile.features.getMax(r,i);n.push({value:t})}else n=n.concat(Ho(e.tile.features,r,i))}return n}checkContentHeight(){for(let e of this.viewports)e.checkContentHeight();this.adjustTrackHeight()}adjustTrackHeight(){var e=Ia(this.viewports);if(this.track.autoHeight?this.setTrackHeight(e,!1):this.track.paintAxis&&this.paintAxis(),!1===Ra.has(this.track.type)){const e=this.viewports[0].getContentTop(),t=this.viewports.map(e=>e.getContentHeight()),n=Math.min(...t),r=Math.min(0,this.viewports[0].$viewport.height()-n);if(e<r)for(let e of this.viewports)e.$content.css("top",`${r}px`);this.updateScrollbar()}}viewportsToReload(e){return this.viewports.filter(t=>{if(!t.isVisible())return!1;if(t.checkZoomIn()){const n=t.referenceFrame,r=t.referenceFrame.chr,i=n.start,o=i+n.toBP(dt(t.contentDiv).width()),s=n.bpPerPixel;return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,i,o,s)}return!1})}createTrackScrollbar(e){const t=pt();if(e.columnContainer.querySelector(".igv-scrollbar-column").appendChild(t),t.style.height=`${this.track.height}px`,this.outerScroll=t,!1===Ra.has(this.track.type)){const n=pt();t.appendChild(n),this.innerScroll=n,this.addTrackScrollMouseHandlers(e)}}createTrackDragHandle(e){const t="ideogram"===this.track.type||"ruler"===this.track.type?"igv-track-drag-shim":"igv-track-drag-handle";this.dragHandle=pt({class:t}),e.columnContainer.querySelector(".igv-track-drag-column").appendChild(this.dragHandle),this.dragHandle.style.height=`${this.track.height}px`,this.addTrackDragMouseHandlers(e)}createTrackGearPopup(e){this.gearContainer=pt(),e.columnContainer.querySelector(".igv-gear-menu-column").appendChild(this.gearContainer),this.gearContainer.style.height=`${this.track.height}px`,!0===this.track.ignoreTrackMenu||(this.gear=pt(),this.gearContainer.appendChild(this.gear),this.gear.appendChild(yt("cog")),this.trackGearPopup=new Ea(this.gear),this.addTrackGearMouseHandlers())}addAxisEventListener(e){this.boundAxisClickHander=function(e){this.browser.dataRangeDialog.configure(this),this.browser.dataRangeDialog.present(dt(this.browser.columnContainer))}.bind(this),e.addEventListener("click",this.boundAxisClickHander)}removeAxisEventListener(e){e.removeEventListener("click",this.boundAxisClickHander)}addTrackScrollMouseHandlers(e){this.boundTrackScrollMouseDownHandler=function(t){t.stopPropagation();const{y:n}=mt(t);dt(this.innerScroll).data("yDown",n.toString()),this.boundColumnContainerMouseMoveHandler=function(e){e.stopPropagation();const{y:t}=mt(e);this.moveScroller(t-parseInt(dt(this.innerScroll).data("yDown"))),dt(this.innerScroll).data("yDown",t.toString())}.bind(this),e.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),this.innerScroll.addEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.boundColumnContainerMouseUpHandler=function(t){e.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),e.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler)}removeTrackScrollMouseHandlers(){!1===Ra.has(this.track.type)&&(this.innerScroll.removeEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.browser.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.browser.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler))}addTrackDragMouseHandlers(e){if("ideogram"===this.track.type||"ruler"===this.track.type);else{let t;function n(n){n.preventDefault(),t=n.target,t.classList.add("igv-track-drag-handle-hover"),e.startTrackDrag(this)}function r(n){e.endTrackDrag(),t&&n.target!==t&&t.classList.remove("igv-track-drag-handle-hover"),t=void 0}function i(n){n.preventDefault(),void 0===t&&n.target.classList.add("igv-track-drag-handle-hover"),e.updateTrackDrag(this)}function o(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}this.boundTrackDragMouseDownHandler=n.bind(this),this.dragHandle.addEventListener("mousedown",this.boundTrackDragMouseDownHandler),this.boundDocumentTrackDragMouseUpHandler=r.bind(this),document.addEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.boundTrackDragMouseEnterHandler=i.bind(this),this.dragHandle.addEventListener("mouseenter",this.boundTrackDragMouseEnterHandler),this.dragHandle.addEventListener("mouseout",e=>{e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}),this.boundTrackDragMouseOutHandler=o.bind(this),this.dragHandle.addEventListener("mouseout",this.boundTrackDragMouseOutHandler)}}removeTrackDragMouseHandlers(){"ideogram"===this.track.type||"ruler"===this.track.type||(this.dragHandle.removeEventListener("mousedown",this.boundTrackDragMouseDownHandler),document.removeEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.dragHandle.removeEventListener("mouseup",this.boundTrackDragMouseEnterHandler),this.dragHandle.removeEventListener("mouseout",this.boundTrackDragMouseOutHandler))}addTrackGearMouseHandlers(){if(!0===this.track.ignoreTrackMenu);else{function e(e){e.preventDefault(),e.stopPropagation(),this.trackGearPopup.presentMenuList(zo.trackMenuItemList(this))}this.boundTrackGearClickHandler=e.bind(this),this.gear.addEventListener("click",this.boundTrackGearClickHandler)}}removeTrackGearMouseHandlers(){!0===this.track.ignoreTrackMenu||this.gear.removeEventListener("click",this.boundTrackGearClickHandler)}dispose(){this.removeAxisEventListener(this.axis),this.axis.remove();for(let e of this.viewports)e.dispose();this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove(),"function"==typeof this.track.dispose&&this.track.dispose();const e=this.track;"function"==typeof e.dispose&&e.dispose();for(let t of Object.keys(e))e[t]=void 0;for(let e of Object.keys(this))this[e]=void 0;this.alert&&this.alert.container.remove(),this.disposed=!0}paintAxis(){if("function"==typeof this.track.paintAxis){const{width:e,height:t}=this.axisCanvas.getBoundingClientRect(),n=window.devicePixelRatio||1;this.axisCanvas.height=n*t,this.axisCanvas.width=n*e;const r=this.axisCanvas.getContext("2d");r.scale(n,n),this.track.paintAxis(r,e,t)}}}function Ia(e){const t=e.map(e=>e.getContentHeight());return Math.max(...t)}function Na(e,t){if(e.length<6)console.log("Skipping line: "+e.join(" "));else{var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};if(!(isNaN(n.start1)||isNaN(n.end1)||isNaN(n.start2)||isNaN(n.end2))){if(e.length>6&&"."!==e[6]&&(n.name=e[6]),e.length>7&&"."!==e[7]&&(n.score=parseFloat(e[7])),e.length>8&&"."!==e[8]&&(n.strand1=e[8]),e.length>9&&"."!==e[9]&&(n.strand2=e[9]),t){const r=t.colorColumn;r&&r<e.length&&(n.color=lo.createColorString(e[r]));const i=t.thicknessColumn;i&&i<e.length&&(n.thickness=e[i]),e.length>10&&t.columnNames&&t.columnNames.length===e.length&&(n.extras=e.slice(10))}return n.chr1===n.chr2&&(n.chr=n.chr1,n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2)),n}}}function Fa(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:lo.createColorString(e[6]),value:Number.parseFloat(e[7])}}function Pa(e,t){if(!(e.length<6))return{chr:e[0],start:e[1],end:e[2],chr1:e[8],start1:Number.parseInt(e[9]),end1:Number.parseInt(e[10]),chr2:e[13],start2:Number.parseInt(e[14]),end2:Number.parseInt(e[15]),name:e[3],score:Number.parseFloat(e[4]),value:Number.parseFloat(e[5]),color:"."===e[7]?void 0:"0"===e[7]?"rgb(0,0,0)":e[7]};console.log("Skipping line: "+e.join(" "))}const Oa=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna","lnc_RNA","miRNA","ncRNA","rRNA","scRNA","snRNA","snoRNA","tRNA"]),Ba=new Set(["CDS","cds"]),Ha=new Set(["start_codon","stop_codon"]),ja=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),za=new Set(["exon","coding-exon"]),Va=new Set;for(let e of[Ba,Ha,ja,za])for(let t of e)Va.add(t);function qa(e){return e.includes("intron")}function Ua(e){return Ba.has(e)||Ha.has(e)}function Wa(e){return ja.has(e)}function $a(e){return Oa.has(e)||e.endsWith("RNA")||e.endsWith("transcript")}function Ga(e){return Va.has(e)||e.endsWith("RNA")||qa(e)}const Za=new Set(["id","parent","name"]);class Xa{constructor(e){Object.assign(this,e)}popupData(e){const t=this.geneObject?this.geneObject.popupData():[];if(this.geneObject&&t.push("<hr/>"),this.name&&t.push({name:"Name",value:this.name}),t.push({name:"Type",value:this.type}),t.push({name:"Source",value:this.source}),this.attributeString){const e=el(this.attributeString,this.delim);for(let[n,r]of e)void 0!==r&&r.length>0&&!Za.has(n.toLowerCase())&&t.push({name:n+":",value:r})}return t.push({name:"Location",value:`${this.chr}:${St(this.start+1)}-${St(this.end)}`}),t}getAttributeValue(e){if(this.hasOwnProperty(e))return this[e];if(this._attributeCache||(this._attributeCache=new Map),this._attributeCache.has(e))return this._attributeCache.get(e);{const t=el(this.attributeString,this.delim);let n;for(let[r,i]of t)if(r===e){n=i;break}return this._attributeCache.set(e,n),n}}}class Ya extends Xa{constructor(e){super(e),this.exons=[],this.parts=[]}addExon(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)}addPart(e){this.parts.push(e)}assembleParts(){if(0===this.parts.length)return;this.parts.sort(function(e,t){return e.start-t.start});let e=this.parts[0].start,t=this.parts[0].end;for(let n=1;n<this.parts.length;n++){const r=this.parts[n];if(!qa(r.type))if(r.start<=t)t=Math.max(t,r.end);else{this.findExonContaining({start:e,end:t})||this.exons.push({start:e,end:t,psuedo:!0}),e=r.start,t=r.end}}this.findExonContaining({start:e,end:t})||(this.exons.push({start:e,end:t,psuedo:!0}),this.start=Math.min(this.start,e),this.end=Math.max(this.end,t));for(let e of this.parts){const t=e.type;Ua(t)?this.addCDS(e):Wa(t)&&this.addUTR(e)}}findExonContaining({start:e,end:t}){for(let n of this.exons)if(n.end>=t&&n.start<=e)return n}addCDS(e){let t;const n=this.exons;for(let r of n)if(r.start<=e.start&&r.end>=e.end){t=r;break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end):console.error("No exon found spanning "+e.start+"-"+e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end}addUTR(e){let t;const n=this.exons;for(let r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)):console.error("No exon found spanning "+cds.start+"-"+cds.end)}finish(){this.assembleParts();var e=this.cdStart,t=this.cdEnd;this.exons.sort(function(e,t){return e.start-t.start}),e&&this.exons.forEach(function(n){(n.end<e||n.start>t)&&(n.utr=!0)})}popupData(e){const t=super.popupData(e);for(let n of this.exons)if(!n.pseudo&&e>=n.start&&e<n.end&&"function"==typeof n.popupData){t.push("<hr/>");const r=n.popupData(e);for(let e of r)t.push(e)}for(let n of this.parts)if(e>=n.start&&e<n.end&&"function"==typeof n.popupData){t.push("<hr/>");const r=n.popupData(e);for(let e of r)t.push(e)}return t}}function Ka(e,t){const n=t.format;if(e.length<9)return;const r="gff3"===n?"=":" ";return new Xa({source:e[1],type:e[2],chr:e[0],start:parseInt(e[3])-1,end:parseInt(e[4]),score:"."===e[5]?0:parseFloat(e[5]),strand:e[6],phase:"."===e[7]?0:parseInt(e[7]),attributeString:e[8],delim:r})}function Qa(e,t){const n=Ka(e,t);if(!n)return;const r=el(n.attributeString,n.delim);for(let[e,t]of r){const r=e.toLowerCase();"color"===r||"colour"===r?n.color=lo.createColorString(t):"ID"===e?n.id=t:"Parent"===e&&(n.parent=t)}return n}function Ja(e,t){const n=Ka(e,t);if(!n)return;const r=el(n.attributeString,n.delim);let i,o;switch(n.type){case"gene":i="gene_id";break;case"transcript":i="transcript_id",o="gene_id";break;default:o="transcript_id"}for(let[e,t]of r){const r=e.toLowerCase();"color"===r||"colour"===r?n.color=lo.createColorString(t):e===i?n.id=t:e===o&&(n.parent=t)}return n}function el(e,t){var n=[];for(let r of e.split(";")){r=r.trim();const e=r.indexOf(t);if(e>0&&e<r.length-1){const t=r.substring(0,e);let i=tl(decodeURIComponent(r.substring(e+1).trim()));n.push([t,i])}}return n}function tl(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),e}class nl{constructor(e){this.message=e}}function rl(e,t){if(e.length<3)return;t&&t.gffTags;const n=e[0],r=parseInt(e[1]),i=e.length>2?parseInt(e[2]):r+1;if(isNaN(r)||isNaN(i))return new nl("Unparsable bed record.");const o=new dl({chr:n,start:r,end:i,score:1e3});try{if(e.length>3){if(e[3].indexOf(";")>0&&e[3].indexOf("=")>0){const t=el(e[3],"=");o.attributes={};for(let e of t)o.attributes[e[0]]=e[1]}o.name||(o.name="."===e[3]?"":e[3])}if(e.length>4&&(o.score="."===e[4]?0:parseFloat(e[4]),isNaN(o.score)))return o;if(e.length>5&&(o.strand=e[5],"."!==o.strand&&"+"!==o.strand&&"-"!==o.strand))return o;if(e.length>6&&(o.cdStart=parseInt(e[6]),isNaN(o.cdStart)))return o;if(e.length>7&&(o.cdEnd=parseInt(e[7]),isNaN(o.cdEnd)))return o;if(e.length>8&&"."!==e[8]&&"0"!==e[8]&&(o.color=lo.createColorString(e[8])),e.length>11){const t=parseInt(e[9]);if(t>1e3)return o;const n=e[10].replace(/,$/,"").split(","),i=e[11].replace(/,$/,"").split(",");if(n.length!==i.length||t!==n.length)return o;const s=[];for(let e=0;e<t;e++){const t=r+parseInt(i[e]),o=t+parseInt(n[e]);s.push({start:t,end:o})}ll(s,o.cdStart,o.cdEnd),o.exons=s}if(t){let n=t.thicknessColumn,r=t.colorColumn;r&&r<e.length&&(o.color=lo.createColorString(e[r])),n&&n<e.length&&(o.thickness=e[n])}}catch(e){}return o}function il(e,t){if(e.length<=15)return;return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function ol(e,t){var n=void 0===t.shift?0:1;if(e.length<=9+n)return;const r=parseInt(e[5+n]),i=parseInt(e[6+n]);var o={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},s=parseInt(e[7+n]),a=e[8+n].split(","),l=e[9+n].split(","),c=[];for(let e=0;e<s;e++){const t=parseInt(a[e]),n=parseInt(l[e]);c.push({start:t,end:n})}return ll(c,r,i),o.exons=c,o}function sl(e,t){var n=void 0===t.shift?0:1;if(e.length<=11+n)return;const r=parseInt(e[5+n]),i=parseInt(e[6+n]),o={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},s=parseInt(e[7+n]),a=e[8+n].split(","),l=e[9+n].split(","),c=[];for(let e=0;e<s;e++){const t=parseInt(a[e]),n=parseInt(l[e]);c.push({start:t,end:n})}return ll(c,r,i),o.exons=c,o}function al(e,t){var n=void 0===t.shift?0:1;if(e.length<=10+n)return;const r=parseInt(e[6+n]),i=parseInt(e[7+n]);var o={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:r,cdEnd:i},s=parseInt(e[8+n]),a=e[9+n].split(","),l=e[10+n].split(","),c=[];for(let e=0;e<s;e++){const t=parseInt(a[e]),n=parseInt(l[e]);c.push({start:t,end:n})}return ll(c,r,i),o.exons=c,o}function ll(e,t,n){for(let r of e){const e=r.end,i=r.start;e<t||i>n?r.utr=!0:(t>=i&&t<=e&&(r.cdStart=t),n>=i&&n<=e&&(r.cdEnd=n))}}function cl(e,t){var n,r,i,o,s,a,l;if(!(e.length<9))return n=e[0],r=parseInt(e[1]),i=parseInt(e[2]),s=e[3],a=parseFloat(e[4]),o=e[5].trim(),l=parseFloat(e[6]),0===a&&(a=l),{chr:n,start:r,end:i,name:s,score:a,strand:o,signal:l,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])}}function hl(e,t){if(e.length<=3)return;const n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(t){let r=t.colorColumn;r&&r<e.length&&(n.color=lo.createColorString(e[r]))}return n}function ul(e,t){const n=t.wig;if(n&&"fixedStep"===n.format){const t=n.index*n.step+n.start,r=t+n.span,i=parseFloat(e[0]);return++n.index,isNaN(i)?null:{chr:n.chrom,start:t,end:r,value:i}}if(n&&"variableStep"===n.format){if(e.length<2)return null;const t=parseInt(e[0],10)-1,r=t+n.span,i=parseFloat(e[1]);return isNaN(i)?null:{chr:n.chrom,start:t,end:r,value:i}}return hl(e)}function fl(e,t){if(e.length<6)return;const n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},i=Math.min(e.length,n.length);for(let t=6;t<i;t++)r[n[t]]=e[t];return r}class dl{constructor(e){Object.assign(this,e)}getAttributeValue(e){return this.hasOwnProperty(e)?this[e]:this.attributes?this.attributes[e]:void 0}}function pl(e,t){if(!(e.length<7)){var n=e[0],r=e[1],i=parseInt(e[2]),o=parseInt(e[3]),s=parseInt(e[4]),a=parseInt(e[5]),l=e[6],c={chr:n,name:r,junction_left:i,junction_right:o,num_junction_reads:s,num_spanning_frags:a,spanning_frag_coords:[],start:-1,end:-1},h=i,u=o;if(a>0)for(var f=l.split(","),d=0;d<f.length;d++){var p=f[d].split("-"),g=p[0],m=p[1];g<h&&(h=g),m>u&&(u=m),c.spanning_frag_coords.push({left:g,right:m})}return c.start=h,c.end=u,c}}function gl(e,t){if(e.length<7)return null;const n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID=`<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/${e[7]}">${e[7]}</a>`),n}function ml(e,t){const n=t.customFormat;if(e.length<n.fields.length)return;const r=n.coords||0,i=e[n.chr],o=parseInt(e[n.start])-r,s={chr:i,start:o,end:void 0!==n.end?parseInt(e[n.end]):o+1};return n.fields&&n.fields.forEach(function(t,r){r!==n.chr&&r!==n.start&&r!==n.end&&(s[t]=e[r])}),s}function vl(e,t){const n=t.columnNames;if(!n)throw Error("Sample names are not defined.   Missing column headers?");const r=n.length-3,i=e[0],o=parseInt(e[1]),s=parseInt(e[2]),a=e.slice(3).map(parseFloat);return a.length==r?{chr:i,start:o,end:s,values:a}:void console.warn(`${i}:${o}-${s} row contains ${a.length} sample columns instead of the expected ${r} columns. Skipping...`)}class bl{constructor(e){this.config=e,this.header={},e.nameField&&(this.header.nameField=e.nameField),this.skipRows=0,e.decode?(this.decode=e.decode,this.delimiter=e.delimiter||"\t"):e.format&&(this.header.format=e.format.toLowerCase(),this.setDecoder(this.header.format)),this.delimiter||(this.delimiter="\t")}async parseHeader(e){let t,n,r=this.header;for(;void 0!==(n=await e.nextLine());)if(n.startsWith("track")||n.startsWith("#track")){let e=yl(n);Object.assign(r,e)}else if(n.startsWith("browser"));else if(n.startsWith("#columns")){let e=wl(n);Object.assign(r,e)}else if(n.startsWith("##gff-version 3"))r.format="gff3";else if(n.startsWith("#gffTags"))r.gffTags=!0;else{if(n.startsWith("fixedStep")||n.startsWith("variableStep"))break;if(n.startsWith("#")){const e=n.split(this.delimiter||"\t");e.length>1&&(t=e)}else{this.setDecoder(r.format);const e=n.split(this.delimiter||"\t");try{const n=Object.assign({columnNames:t},r);if(this.decode(e,n))break;e.length>1&&(t=e)}catch(n){e.length>1&&(t=e)}}}if(t){r.columnNames=t;for(let e=0;e<t.length;e++)"color"===t[e]||"colour"===t[e]?r.colorColumn=e:"thickness"===t[e]&&(r.thicknessColumn=e)}return this.header=r,r}async parseFeatures(e){const t=[],n=this.decode,r=this.header.format,i=this.delimiter||"\t";let o,s=0,a=0;for(;void 0!==(o=await e.nextLine());){if(s++,s<=this.skipRows)continue;if(!o||o.startsWith("track")||o.startsWith("#")||o.startsWith("browser"))continue;if("wig"===r&&o.startsWith("fixedStep")){this.header.wig=xl(o);continue}if("wig"===r&&o.startsWith("variableStep")){this.header.wig=_l(o);continue}const e=o.split(i);if(e.length<1)continue;const l=n(e,this.header);l instanceof nl?(a++,a>0&&console.error(`Error parsing line '${o}': ${l.message}`)):l&&t.push(l)}return n===Na&&function(e){if(0==e.length)return;const t=e[0];if(void 0===t.score&&void 0!==t.name){for(let t of e)if(!("number"==typeof(n=t.name)?n-n==0:"string"==typeof n&&""!==n.trim()&&(Number.isFinite?Number.isFinite(+n):isFinite(+n)))&&"."!==t.name)return;for(let t of e)t.score=parseFloat(t.name),delete t.name}var n;const r=e.filter(e=>e.chr1!==e.chr2);for(let t of r){const n=Object.assign({},t);n.dup=!0,e.push(n),t.chr=t.chr1,t.start=t.start1,t.end=t.end1,n.chr=n.chr2,n.start=n.start2,n.end=n.end2}}(t),t}setDecoder(e){switch(e){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=cl,this.delimiter=this.config.delimiter||/\s+/;break;case"bedgraph":this.decode=hl,this.delimiter=/\s+/;break;case"wig":this.decode=ul,this.delimiter=this.config.delimiter||/\s+/;break;case"gff3":case"gff":this.decode=Qa,this.delimiter="\t";break;case"gtf":this.decode=Ja,this.delimiter="\t";break;case"fusionjuncspan":this.decode=pl,this.delimiter=this.config.delimiter||/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=gl,this.delimiter="\t";break;case"refflat":this.decode=al,this.delimiter=this.config.delimiter||/\s+/;break;case"genepred":this.decode=ol,this.delimiter=this.config.delimiter||/\s+/;break;case"genepredext":this.decode=sl,this.delimiter=this.config.delimiter||/\s+/;break;case"ensgene":this.decode=ol,this.header.shift=1,this.delimiter=this.config.delimiter||/\s+/;break;case"refgene":this.decode=sl,this.delimiter=this.config.delimiter||/\s+/,this.header.shift=1;break;case"bed":this.decode=rl,this.delimiter=this.config.delimiter||/\s+/;break;case"bedpe":this.decode=Na,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-domain":this.decode=Fa,this.headerLine=!0,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-loop":this.decode=Na,this.delimiter=this.config.delimiter||"\t",this.header={colorColumn:7};break;case"interact":this.decode=Pa,this.delimiter=this.config.delimiter||/\s+/;break;case"snp":this.decode=fl,this.delimiter="\t";break;case"rmsk":this.decode=il,this.delimiter="\t";break;case"gcnv":this.decode=vl,this.delimiter="\t";break;default:const n=(t=e,vs&&vs[t]?function(e){const t=e.fields,n=["chr","start","end"];for(let r=0;r<t.length;r++)for(let i of n)i===t[r]&&(e[i]=r);return e}(vs[t]):void 0);void 0!==n?(this.decode=ml,this.header.customFormat=n,this.delimiter=n.delimiter||"\t"):(this.decode=rl,this.delimiter=this.config.delimiter||/\s+/)}var t}}function yl(e){const t={},n=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let r;const i=[];for(let e of n)e&&0!==e.trim().length&&(e.endsWith("=")?r=e:r?(i.push(r+e),r=void 0):i.push(e));for(let e of i){if(!e)return;var o=e.split("=",2);if(2===o.length){const e=o[0].trim(),n=o[1].trim();if(t.hasOwnProperty(e)){let r=t[e];Array.isArray(r)?r.push(n):t[e]=[r,n]}else t[e]=n}}return"interact"==t.type?t.format="interact":"gcnv"===t.type&&(t.format="gcnv"),t}function wl(e){let t={},n=e.split(/\s+/);if(2===n.length){n[1].split(";").forEach(function(e){let n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})}return t}function xl(e){const t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function _l(e){const t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}class Sl{constructor(e){switch(this.type=e||"seg",this.type){case"mut":this.sampleColumn=3,this.chrColumn=0,this.startColumn=1,this.endColumn=2,this.dataColumn=4;break;case"maf":this.sampleColumn=15,this.chrColumn=4,this.startColumn=5,this.endColumn=6,this.dataColumn=8;break;default:this.sampleColumn=0,this.chrColumn=1,this.startColumn=2,this.endColumn=3}}async parseHeader(e){let t;for(;void 0!==(t=await e.nextLine());)if(!t.startsWith("#")){const e=t.split("\t");this.header={headings:e};break}return this.header}async parseFeatures(e){const t=[];let n;this.header||(this.header=await this.parseHeader(e)),"seg"===this.type&&(this.dataColumn=this.header.headings.length-1),this.header.headings.length>5&&(n=this.extractExtraColumns(this.header.headings));const r=this.header.headings[this.dataColumn];let i;for(;void 0!==(i=await e.nextLine());){const e=i.split("\t"),o="seg"===this.type?parseFloat(e[this.dataColumn]):e[this.dataColumn];if(e.length>this.dataColumn){const i=new kl({sample:e[this.sampleColumn],chr:e[this.chrColumn],start:parseInt(e[this.startColumn])-1,end:parseInt(e[this.endColumn]),value:o,valueColumnName:r});if(n){const t=this.extractExtraColumns(e);i.setAttributes({names:n,values:t})}t.push(i)}}return t}extractExtraColumns(e){const t=[];for(let n=0;n<e.length;n++)n!==this.chrColumn&&n!==this.startColumn&&n!==this.endColumn&&n!==this.sampleColumn&&t.push(e[n]);return t}}class kl{constructor({sample:e,chr:t,start:n,end:r,value:i,valueColumnName:o}){this.sample=e,this.chr=t,this.start=n,this.end=r,this.value=i,this.valueColumnName=o}setAttributes({names:e,values:t}){this.attributeNames=e,this.attributeValues=t}getAttribute(e){if(this.attributeNames){const t=this.attributeNames.indexOf(e);if(t>=0)return this.attributeValues[t]}}popupData(){const e=new Set(["chr","start","end","sample","value","row","color","sampleKey","uniqueSampleKey","sampleId","chromosome","uniquePatientKey"]),t=this.chr+":"+St(this.start+1)+"-"+St(this.end),n=[{name:"Sample",value:this.sample},{name:"Location",value:t},{name:this.valueColumnName?Tt(this.valueColumnName):"Value",value:this.value}];if(this.attributeNames&&this.attributeNames.length>0)for(let t=0;t<this.attributeNames.length;t++)!e.has(this.attributeNames[t])&this.valueColumnName!==this.attributeNames[t]&&n.push({name:Tt(this.attributeNames[t]),value:this.attributeValues[t]});return n}}class Cl{constructor(e,t){this.browser=t,this.init(e)}init(e){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name||e.label?this.name=e.name||e.label:Vt(e.url)?this.name=e.url.name:_t(e.url)&&!e.url.startsWith("data:")&&(this.name=zt(e.url)),this.id=void 0===this.config.id?this.name:this.config.id,this.order=e.order,this.color=e.color,this.altColor=e.altColor,"civic-ws"===e.sourceType?this.defaultColor="rgb(155,20,20)":this.defaultColor="rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow,this.trackView=void 0}get name(){return this._name}set name(e){this._name=e,this.trackView&&this.trackView.setTrackLabelName(e)}updateConfig(e){this.init(e)}getState(){const e={};for(let t of Object.keys(this.config))t.startsWith("_")||"function"==typeof this.config[t]||(e[t]=this.config[t]);for(let t of Object.keys(e)){if(t.startsWith("_"))continue;const n=this[t];n&&(da(n)||"boolean"==typeof n)&&(e[t]=n)}this.color&&(e.color=this.color),this.altColor&&(e.altColor=this.altColor),!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max);for(let t of Object.keys(e)){if("function"==typeof e[t])throw Error(`Property '${t}' of track '${this.name} is a function. Functions cannot be saved in sessions.`);if(Vt(e[t])){const e=`Track ${this.name} is a local file. Sessions cannot be saved with local file references.`;throw Error(e)}if(e[t]instanceof Promise)throw Error(`Property '${t}' of track '${this.name} is a Promise. Promises cannot be saved in sessions.`)}return e}supportsWholeGenome(){return!1}hasSamples(){return!1}getGenomeId(){return this.browser.genome?this.browser.genome.id:void 0}setTrackProperties(e){const t={};let n;for(let r of Object.keys(e))switch(r.toLowerCase()){case"usescore":t.useScore=1===e[r]||"1"===e[r]||"on"===e[r]||!0===e[r];break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":t.displayMode="EXPANDED";break;case"4":case"squish":t.displayMode="SQUISHED";break;case"1":case"dense":t.displayMode="COLLAPSED"}break;case"color":case"altcolor":t[r]=e[r].startsWith("rgb(")?e[r]:"rgb("+e[r]+")";break;case"featurevisiblitywindow":case"visibilitywindow":t.visibilityWindow=Number.parseInt(e[r]);break;case"maxheightpixels":n=e[r].split(":"),3===n.length&&(t.minHeight=Number.parseInt(n[2]),t.height=Number.parseInt(n[1]),t.maxHeight=Number.parseInt(n[0]));break;case"viewlimits":if(!this.config.autoscale){n=e[r].split(":");let i,o=0;1==n.length?i=Number.parseFloat(n[0]):2==n.length&&(o=Number.parseFloat(n[0]),i=Number.parseFloat(n[1])),t.autoscale=!1,t.dataRange={min:o,max:i}}case"name":t[r]=e[r];break;case"url":t.infoURL=e[r];break;case"type":const i=e[r];Tl.has(i)&&(t[r]=Tl.get(i));break;case"graphtype":t.graphType=e[r];break;default:t[r]=e[r]}for(let e of Object.keys(t))if((!this.config.hasOwnProperty(e)||"name"===e&&this.config._derivedName)&&(this[e]=t[e],"height"===e&&this.trackView))try{const n=Number.parseInt(t[e]);this.trackView.setTrackHeight(n)}catch(e){console.error(e)}}getVisibilityWindow(){return this.visibilityWindow}clickedFeatures(e,t){if(t||(t=e.viewport.getCachedFeatures()),!t||0===t.length)return[];const n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2;return Ho(t,n-r,n+r)}extractPopupData(e,t){const n=new Set(["row","color","chr","start","end","cdStart","cdEnd","strand","alpha"]),r=[];let i,o;for(let t in e)if(e.hasOwnProperty(t)&&!n.has(t)&&da(e[t])){let n=e[t];r.push({name:Tt(t),value:n}),"alleles"===t?i=e[t]:"alleleFreqs"===t&&(o=e[t])}if(i&&o){i.endsWith(",")&&(i=i.substr(0,i.length-1)),o.endsWith(",")&&(o=o.substr(0,o.length-1));let n=i.split(","),s=o.split(",");if(s.length>1){let i=[];for(let e=0;e<s.length;e++)i.push({a:n[e],af:Number.parseFloat(s[e])});i.sort(function(e,t){return e.af-t.af});let o=i[i.length-1].a;if(1===o.length)for(let n=i.length-2;n>=0;n--){let s=i[n].a;if(1===s.length){t||(t=this.getGenomeId());const n=Cl.getCravatLink(e.chr,e.start+1,o,s,t);console.log(n),n&&(r.push("<hr/>"),r.push({html:n}),r.push("<hr/>"))}}}}if(e.attributes)for(let t of Object.keys(e.attributes))r.push({name:t,value:e.attributes[t]});let s=`${e.chr}:${St(e.start+1)}-${St(e.end)}`;return e.strand&&(s+=` (${e.strand})`),r.push({name:"Location",value:s}),r}static getCravatLink(e,t,n,r,i){if("hg38"===i||"GRCh38"===i){return`<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html?chrom=${e.startsWith("chr")?e:"chr"+e}&pos=${t}&ref_base=${n}&alt_base=${r}">Cravat ${n}->${r}</a>`}}}const Tl=new Map([["wiggle_0","wig"],["bed","bed"],["bigBed","bigBed"],["bigWig","bigWig"]]),Al=new Set(["A","C","T","G"].map(e=>e.charCodeAt(0)));function El(e){return new Ll(e)}class Ll{constructor(e){this.chr=e[0],this.pos=parseInt(e[1]),this.names=e[2],this.referenceBases=e[3],this.alternateBases=e[4],this.quality=e[5],this.filter=e[6],this.info=function(e){var t={};e&&e.split(";").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]});return t}(e[7]),this.init()}init(){const e=this.referenceBases,t=this.alternateBases;if(this.info&&(this.info.VT?this.type=this.info.VT:this.info.SVTYPE?this.type="SV":this.info.PERIOD&&(this.type="STR")),void 0===this.type&&(this.type=function(e,t){const n=e.length;if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";{const e=t.split(",").map(function(e){return 1===n&&1===e.length?"SNP":"<NON_REF>"===e?"NONVARIANT":"OTHER"});let r=e[0];for(let t of e)if(t!==r)return"MIXED";return r}}(e,t)),"NONVARIANT"===this.type&&(this.heterozygosity=0),this.info.END)this.start=this.pos-1,this.info.CHR2&&this.info.CHR2!==this.chr?this.end=this.start+1:this.end=Number.parseInt(this.info.END);else if("NONVARIANT"===this.type)this.start=this.pos-1,this.end=this.start+e.length;else{const n=t.split(",").filter(e=>e.length>0);this.alleles=[],this.start=void 0,this.end=void 0;for(let t of n)if(this.alleles.push(t),"SV"!==this.type&&Rl(t)){let n=t.length,r=e.length;const i=Math.min(n,r);let o=0;for(;o<i&&e.charCodeAt(o)===t.charCodeAt(o);)o++,n--,r--;for(;n>0&&r>0;){const i=o+n-1,s=o+r-1;if(t.charCodeAt(i)!==e.charCodeAt(s))break;n--,r--}for(;n>0&&r>0;){const i=o,s=o;if(t.charCodeAt(i)!==e.charCodeAt(s))break;o++,n--,r--}const s=this.pos+o-1,a=s+r;this.start=void 0===this.start?s:Math.min(this.start,s),this.end=void 0===this.end?a:Math.max(this.end,a)}void 0===this.start&&(this.start=this.pos-1,this.end=this.pos)}}popupData(e,t){const n=`${St(this.pos)}`,r=this.start===this.end?`${St(this.start)} | ${St(this.start+1)}`:`${St(this.start+1)}-${St(this.end)}`,i=[{name:"Chr",value:this.chr},{name:"Pos",value:n},{name:"Loc",value:r},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}];if("SNP"===this.type){let e=this.referenceBases;if(1===e.length){let n=this.alternateBases.split(",");for(let r of n)if(1===r.length){let n=Cl.getCravatLink(this.chr,this.pos,e,r,t);n&&(i.push("<hr/>"),i.push({html:n}))}}}if(this.hasOwnProperty("heterozygosity")&&i.push({name:"Heterozygosity",value:this.heterozygosity}),this.info){i.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'});for(let e of Object.keys(this.info))i.push({name:e,value:Dl(decodeURIComponent(this.info[e]))})}return i}isRefBlock(){return"NONVARIANT"===this.type}}function Rl(e){for(let t=0;t<e.length;t++)if(!Al.has(e.charCodeAt(t)))return!1;return!0}function Dl(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}class Ml{construtor(){}async parseHeader(e,t){const n={};n.chrAliasTable=new Map;let r=await e.nextLine();if(!r.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(n.version=r.substr(13);void 0!==(r=await e.nextLine())&&r.startsWith("#");){let e;const o={};if(r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){const t=r.indexOf("<"),s=r.lastIndexOf(">");if(!(t>2&&s>0)){console.log("Malformed VCF header line: "+r);continue}const a=r.substring(2,t-1);n[a]||(n[a]={});const l=Ct(r.substring(t+1,s-1),",");for(let t of l){var i=t.split("=");i.length>1&&("ID"===i[0]?e=i[1]:o[i[0]]=i[1])}e&&(n[a][e]=o)}else if(r.startsWith("##contig")&&t){const e=r.indexOf("<ID=");let i=r.indexOf(",",e);-1==i&&(i=r.indexOf(">",e));const o=r.substring(e+4,i),s=t.getChromosomeName(o);n.chrAliasTable.set(s,o)}}else if(r.startsWith("#CHROM")){const e=r.split("\t");if(e.length>8){n.callSets=[];for(let t=9;t<e.length;t++)n.callSets.push({id:t,name:e[t]})}}}return this.header=n,n}async parseFeatures(e){const t=[],n=this.header.callSets,r=8+(n?n.length+1:0);let i;for(;void 0!==(i=await e.nextLine());)if(i&&!i.startsWith("#")){const e=i.split("\t");if(e.length===r){const r=El(e);if(r.header=this.header,t.push(r),e.length>9){const t=Il(e[8].split(":"));r.calls={};for(let i=9;i<e.length;i++){const o=e[i],s=n[i-9],a={callSetName:s.name,info:{}};r.calls[s.id]=a,o.split(":").forEach(function(e,n){switch(n){case t.genotypeIndex:a.genotype=[],e.split(/[\|\/]/).forEach(function(e){a.genotype.push("."===e?e:parseInt(e))});break;default:a.info[t.fields[n]]=e}})}}}}return t}}function Il(e){const t={genotypeIndex:-1,fields:e};for(let n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}function Nl(e){return"string"==typeof e||e instanceof String?new Fl(e):new Pl(e)}class Fl{constructor(e){this.data=e,this.ptr=0}nextLine(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var r=n.length;return this.ptr=r,e>=r?void 0:n.substring(e)}}class Pl{constructor(e){this.data=e,this.length=this.data.length,this.ptr=0}nextLine(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}}}class Ol{constructor(e){if(this.config=e,e.columns){if(void 0===e.columns.chromosome||void 0===e.columns.position||void 0===e.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=e.columns.position-1,this.chrCol=e.columns.chromosome-1,this.pvalueCol=e.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}async parseHeader(e){const t=await e.nextLine();return this.parseHeaderLine(t)}parseHeaderLine(e){if(this.columns=e.split(/\t/),!this.config.columns)for(let e=0;e<this.columns.length;e++){switch(this.columns[e].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=e;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=e;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.valueCol=e}}return this.columns}async parseFeatures(e){const t=[],n=e.nextLine();let r;for(this.columns||this.parseHeaderLine(n);void 0!==(r=e.nextLine());){const e=r.split(/\t/);if(e.length===this.columns.length){const n=e[this.chrCol],i=parseInt(e[this.posCol])-1,o=i+1,s=parseFloat(e[this.valueCol]);t.push(new Bl({chr:n,start:i,end:o,value:s,line:r,columns:this.columns}))}}return t}}class Bl{constructor({chr:e,start:t,end:n,value:r,line:i,columns:o}){this.chr=e,this.start=t,this.end=n,this.value=r,this.line=i,this.columns=o}popupData(){const e=this.line.split(/\t/);return this.columns.map(function(t,n){return{name:t,value:e[n]}})}getAttribute(e){const t=this.line.split(/\t/);for(let n=0;n<this.columns.length;n++)if(this.columns[n]===e)return t[n]}}var Hl=new RegExp("([^:]*)\\(([^)]*)\\)"),jl=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)");class zl{constructor(e){const t=e?e.decode:void 0;this.nameField=e?e.nameField:void 0,this.skipRows=0,this.decode=t||Gl,this.delimiter="\t"}async parseHeader(e){let t,n;for(;(t=await e.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){let e=Ul(t);n?Object.assign(n,e):n=e}else if(t.startsWith("#columns")){let e=Wl(t);n?Object.assign(n,e):n=e}else t.startsWith("##gff-version 3")&&(this.format="gff3",n||(n={}),n.format="gff3");return this.header=n,n}async parseFeatures(e){const t=[],n=this.decode,r=this.delimiter||"\t";let i,o=0;for(;void 0!==(i=e.nextLine());){if(o++,o<=this.skipRows||i.startsWith("track")||i.startsWith("#")||i.startsWith("browser"))continue;let e=s();if(e.length<1)continue;if(!this.aed){this.aed=ql(e);continue}const r=n.call(this,e,undefined);r&&t.push(r)}return t;function s(){for(var e,t,n=[],o="",s=!1;i||""===i;){for(e=0;e<i.length;e++)(t=i.charAt(e))===r?s?o+=t:(n.push(o),o=""):'"'===t?e+1<i.length&&'"'===i.charAt(e+1)?(s&&(o+='"'),e++):s=!s:o+=t;if(!s)break;o+="\n",i=nextLine()}return n.push(o),n}}}function Vl(e){var t=jl.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Hl.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function ql(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=Vl(e[n]),t.columns.push(r);return t}function Ul(e){const t={},n=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let r;const i=[];for(let e of n)e&&0!==e.trim().length&&(e.endsWith("=")>0?r=e:r?(i.push(r+e),r=void 0):i.push(e));for(let e of i){if(!e)return;var o=e.split("=",2);if(2===o.length){const e=o[0].trim(),n=o[1].trim();t[e]=n}}return t}function Wl(e){let t={},n=e.split(/\s+/);if(2===n.length){n[1].split(";").forEach(function(e){let n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})}return t}function $l(e,t){var n,r,i=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(let e=0;e<t.length;e++)if(n=t[e]){"aed:Integer"===(r=i[e]).type&&(n=parseInt(n));var o=[];if(r.namespace.length>0)for(let e=0;e<r.namespace.length;e++)o.push(r.namespace.charCodeAt(e));"bio"===r.namespace.trim()?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=lo.createColorString(n))}}function Gl(e,t){var n,r,i,o,s,a,l=0,c=this.aed.columns;if(e.length===c.length){for(a=0;a<e.length;a++)o=c[a],""!==(i=e[a])&&l++,"name"===o.name&&"aed"===o.namespace?n=i:"value"===o.name&&"aed"===o.namespace&&(r=i);if(2===l&&n&&r)return s=Vl(n),this.aed.metadata[s.namespace]||(this.aed.metadata[s.namespace]={}),void(this.aed.metadata[s.namespace][s.name]||(this.aed.metadata[s.namespace][s.name]={type:s.type,value:r}));var h=new $l(this.aed,e);if(h.chr&&(h.start||0===h.start)&&h.end)return h;console.log("Cannot parse feature: "+e.join(","))}else console.log("Corrupted AED file row: "+e.join(","))}$l.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],i=t.columns[n].name;"sequence"!==i&&"color"!==i&&r&&e.push({name:i,value:r})}return e};class Zl{constructor(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength}available(){return this.length-this.position}remLength(){return this.length-this.position}hasNext(){return this.position<this.length-1}getByte(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e}getShort(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e}getUShort(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e}getInt(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e}getUInt(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e}getLong(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(let n=e.length-1;n>=0;n--)t=256*t+e[n];else for(let n=0;n<e.length;n++)t=256*t+e[n];return this.position+=8,t}getString(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n}getFixedLengthString(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r}getFixedLengthTrimmedString(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r}getFloat(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e}getDouble(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e}skip(e){return this.position+=e,this.position}getVPointer(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new Xl(n,t)}}class Xl{constructor(e,t){this.block=e,this.offset=t}isLessThan(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset}isGreaterThan(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset}print(){return this.block+":"+this.offset}}class Yl{constructor(e){this.tabix=!0}parse(e,t){const n=new Zl(new DataView(e)),r=n.getInt();if(21582659!==r)throw 38359875===r?Error("CSI version 2 is not supported.  Please enter an issue at https://github.com/igvteam/igv.js"):Error("Not a CSI index");this.indices=[],this.blockMin=Number.MAX_SAFE_INTEGER,this.blockMax=0,this.sequenceIndexMap={},this.minShift=n.getInt(),this.depth=n.getInt();if(n.getInt()>=28){n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt();const e=n.getInt(),r=n.position+e;let i=0;for(;n.position<r;){let e=n.getString();t&&(e=t.getChromosomeName(e)),this.sequenceIndexMap[e]=i,i++}}const i=this.bin_limit()+1,o=n.getInt();for(let e=0;e<o;e++){const t=[],r=[],o=n.getInt();for(let e=0;e<o;e++){const e=n.getInt();if(r[e]=n.getVPointer(),e>i)n.getInt(),n.getVPointer(),n.getVPointer(),n.getLong(),n.getLong();else{t[e]=[];const r=n.getInt();for(let i=0;i<r;i++){const r=n.getVPointer(),i=n.getVPointer();r&&i&&(r.block<this.blockMin&&(this.blockMin=r.block),i.block>this.blockMax&&(this.blockMax=i.block),t[e].push([r,i]))}}}o>0&&(this.indices[e]={binIndex:t,loffset:r})}}blocksForRange(e,t,n){const r=this.indices[e];if(r){const e=this.reg2bins(t,n);if(0==e.length)return[];const i=[];for(let t of e)for(let e=t[0];e<=t[1];e++)if(r.binIndex[e]){const t=r.binIndex[e],n=t.length;for(let r=0;r<n;++r){const n=t[r][0],o=t[r][1];i.push({minv:n,maxv:o,bin:e})}}return function(e,t){const n=[];let r=null;return 0===e.length?e:(e.sort(function(e,t){const n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var i,o;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(i=r,(o=e).minv.block-i.maxv.block<65e3&&o.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))}),n)}(i,r.loffset[e[0]])}return[]}reg2bins(e,t){(e-=1)<1&&(e=1),t>2**50&&(t=2**34),t-=1;let n=0,r=0,i=this.minShift+3*this.depth;const o=[];for(;n<=this.depth;i-=3,r+=1<<3*n,n+=1){const n=r+(e>>i),s=r+(t>>i);if(s-n+o.length>this.maxBinNumber)throw new Error(`query ${e}-${t} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([n,s])}return o}bin_limit(){return((1<<3*(this.depth+1))-1)/7}}async function Kl(e,t,n){const r=[];let i=Number.MAX_SAFE_INTEGER,o=0;const s=new Zl(new DataView(e)),a=s.getInt(),l={};if(!(21578050===a||t&&21578324===a))throw new Error(indexURL+" is not a "+(t?"tabix":"bai")+" file");{const e=s.getInt();if(t){s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt();for(let t=0;t<e;t++){let e=s.getString();n&&(e=n.getChromosomeName(e)),l[e]=t}}for(let t=0;t<e;t++){const e={},n=[],a=s.getInt();for(let t=0;t<a;t++){const t=s.getInt();if(37450===t)s.getInt(),s.getVPointer(),s.getVPointer(),s.getLong(),s.getLong();else{e[t]=[];const n=s.getInt();for(let r=0;r<n;r++){const n=s.getVPointer(),r=s.getVPointer();n&&r&&(n.block<i&&(i=n.block),r.block>o&&(o=r.block),e[t].push([n,r]))}}}const l=s.getInt();for(let e=0;e<l;e++){const e=s.getVPointer();n.push(e)}a>0&&(r[t]={binIndex:e,linearIndex:n})}}return new Ql(r,i,o,l,t)}class Ql{constructor(e,t,n,r,i){this.firstAlignmentBlock=t,this.lastAlignmentBlock=n,this.indices=e,this.sequenceIndexMap=r,this.tabix=i}blocksForRange(e,t,n){const r=this.indices[e];if(r){const e=function(e,t){const n=[];t>=1<<29&&(t=1<<29);return--t,n.push([0,0]),n.push([1+(e>>26),1+(t>>26)]),n.push([9+(e>>23),9+(t>>23)]),n.push([73+(e>>20),73+(t>>20)]),n.push([585+(e>>17),585+(t>>17)]),n.push([4681+(e>>14),4681+(t>>14)]),n}(t,n),i=[];for(let t of e)for(let e=t[0];e<=t[1];e++)if(r.binIndex[e]){const t=r.binIndex[e],n=t.length;for(let r=0;r<n;++r){const n=t[r][0],o=t[r][1];i.push({minv:n,maxv:o,bin:e})}}const o=r.linearIndex.length;let s=null;const a=Math.min(t>>14,o-1),l=Math.min(n>>14,o-1);for(let e=a;e<=l;++e){const t=r.linearIndex[e];t&&(s&&!t.isLessThan(s)||(s=t))}return function(e,t){const n=[];let r=null;return 0===e.length?e:(e.sort(function(e,t){const n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var i,o;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(i=r,(o=e).minv.block-i.maxv.block<65e3&&o.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))}),n)}(i,s)}return[]}}class Jl{constructor(e){this.chrIndex=e}blocksForRange(e,t,n){const r=this.chrIndex[e];if(r){const e=r.blocks,i=r.longestFeature,o=r.binWidth,s=Math.max(t-i,0),a=Math.floor(s/o);if(a>=e.length)return[];{const t=Math.min(Math.floor((n-1)/o),e.length-1),r=e[a].min,i=e[t].max;if(0===i-r)return[];return[{minv:{block:r,offset:0},maxv:{block:i,offset:0}}]}}}}async function ec(e,t,n){let r=await xo.loadArrayBuffer(e,pa(t)),i=new DataView(r);if(31===i.getUint8(0)&&139===i.getUint8(1)){r=Ki(r).buffer,i=new DataView(r)}switch(i.getInt32(0,!0)){case 21578050:return async function(e,t){return Kl(e,!1,t)}(r,n);case 21578324:return async function(e,t){return Kl(e,!0,t)}(r,n);case 21582659:return async function(e,t){const n=new Yl;return n.parse(e,t),n}(r,n);case 1480870228:return async function(e,t){const n={},r=new Zl(new DataView(e));!function(e){e.getInt(),e.getInt();const t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3){let t=e.getInt();for(;t-- >0;)e.getString(),e.getString()}}(r);let i=r.getInt();for(;i-- >0;){const e=o(r);n[e.chr]=e}return new Jl(n);function o(e){let n=e.getString();t&&(n=t.getChromosomeName(n));const r=e.getInt(),i=e.getInt(),o=e.getInt();e.getInt(),e.getInt();let s=e.getLong();const a=new Array;for(let t=0;t<i;t++){const t=e.getLong();a.push({min:s,max:t}),s=t}return{chr:n,blocks:a,longestFeature:o,binWidth:r}}}(r,n);case 38359875:throw Error("CSI version 2 is not supported.");default:throw Error(`Unrecognized index type: ${e}`)}}class tc{constructor(e){this.config=e,this.filePtr=0,this.bufferPtr=0,this.buffer}async nextLine(){let e;try{for(;;){const t=this.buffer?this.buffer.length:0;for(;this.bufferPtr<t;){const t=String.fromCharCode(this.buffer[this.bufferPtr++]);if("\r"!==t){if("\n"===t)return e;e=e?e+t:t}}if(this.eof)return e;await this.readNextBlock()}}catch(t){return console.warn(t),this.eof=!0,e}}async readNextBlock(){const e=pa(this.config,{range:{start:this.filePtr,size:26}}),t=Qi(await xo.loadArrayBuffer(this.config.url,e));if(0===t)this.eof=!0,this.buffer=void 0;else{const e=pa(this.config,{range:{start:this.filePtr,size:t}}),n=await xo.loadArrayBuffer(this.config.url,e);n.byteLength<t&&(this.eof=!0),this.buffer=Ki(n),this.bufferPtr=0,this.filePtr+=n.byteLength}}}class nc{constructor(e,t){var n;this.config=e||{},this.genome=t,this.indexURL=e.indexURL,this.indexed=e.indexed,Vt(this.config.url)?this.filename=this.config.url.name:ya(this.config.url)?(this.indexed=!1,this.dataURI=e.url):(n=Ht(this.config.url),this.filename=e.filename||n.file),this.parser=this.getParser(this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}async readFeatures(e,t,n){return await this.getIndex()?(this.indexed=!0,this.loadFeaturesWithIndex(e,t,n)):this.dataURI?(this.indexed=!1,this.loadFeaturesFromDataURI()):(this.indexed=!1,this.loadFeaturesNoIndex())}async readHeader(){if(this.dataURI)return await this.loadFeaturesFromDataURI(this.dataURI),this.header;if(this.config.indexURL){const e=await this.getIndex();if(!e)throw new Error("Unable to load index: "+this.config.indexURL);let t;if(e.tabix)t=new tc(this.config);else{const n=Object.values(e.chrIndex).flatMap(e=>e.blocks).map(e=>e.max).reduce((e,t)=>Math.min(e,t),Number.MAX_SAFE_INTEGER),r=pa(this.config,{bgz:e.tabix,range:{start:0,size:n}});t=Nl(await xo.loadString(this.config.url,r))}return this.header=await this.parser.parseHeader(t),this.header}{const e=pa(this.config),t=await xo.loadString(this.config.url,e);let n=Nl(t);return this.header=await this.parser.parseHeader(n),n=Nl(t),this.features=await this.parser.parseFeatures(n),this.header}}getParser(e){switch(e.format){case"vcf":return new Ml(e);case"seg":return new Sl("seg");case"mut":return new Sl("mut");case"maf":return new Sl("maf");case"gwas":return new Ol(e);case"aed":return new zl(e);default:return new bl(e)}}async loadFeaturesNoIndex(){if(this.features){const e=this.features;return delete this.features,e}{const e=pa(this.config),t=await xo.loadString(this.config.url,e);if(!this.header){const e=Nl(t);this.header=await this.parser.parseHeader(e)}const n=Nl(t);return await this.parser.parseFeatures(n)}}async loadFeaturesWithIndex(e,t,n){const r=this.config,i=this.parser,o=this.index.tabix,s=o?this.index.sequenceIndexMap[e]:e;if(void 0===s)return[];const a=this.genome,l=this.index.blocksForRange(s,t,n);if(l&&0!==l.length){const s=[];for(let c of l){const l=c.minv.block,h=c.minv.offset,u=c.maxv.offset;let f;if(o){let e=0;if(u>0){const t=pa(r,{range:{start:c.maxv.block,size:26}});e=Qi(await xo.loadArrayBuffer(r.url,t))}f=c.maxv.block+e}else f=c.maxv.block;const d=pa(r,{range:{start:l,size:f-l+1}});let p;if(o){p=Ki(await xo.loadArrayBuffer(r.url,d))}else p=await xo.loadString(r.url,d);const g=Nl(h?p.slice(h):p),m=await i.parseFeatures(g);let v=!1;for(let r=0;r<m.length;r++){const i=m[r];if((a?a.getChromosomeName(i.chr):i.chr)!==e){if(0===s.length)continue;break}if(i.start>n){s.push(i);break}i.end>=t&&i.start<=n&&(v||(v=!0,r>0&&s.push(m[r-1])),s.push(i))}}return s.sort(function(e,t){return e.start-t.start}),s}return[]}async getIndex(){return this.index||!this.config.indexURL||(this.index=await this.loadIndex()),this.index}async loadIndex(){return ec(this.config.indexURL,this.config,this.genome)}async loadFeaturesFromDataURI(){if(this.features){const e=this.features;return delete this.features,e}{const e=no(this.dataURI);let t=Nl(e);return this.header=await this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),t=Nl(e),this.features=await this.parser.parseFeatures(t),this.features}}}const rc=_t;class ic{constructor(e){this.config=e}async readFeatures(e,t,n){let r;r="function"==typeof this.config.url?this.config.url({chr:e,start:t,end:n}):this.config.url.replace("$CHR",e).replace("$START",t).replace("$END",n);let i,o=Object.assign({},this.config);void 0!==this.config.body&&("function"==typeof this.config.body?o.body=this.config.body({chr:e,start:t,end:n}):o.body=this.config.body.replace("$CHR",e).replace("$START",t).replace("$END",n));const s=await xo.load(r,o);if(s&&(i="function"==typeof this.config.parser?this.config.parser(s):rc(s)?JSON.parse(s):s),this.config.mappings){let e=Object.keys(this.config.mappings);for(let t of i)for(let n of e)t[n]=t[this.config.mappings[n]]}return i}}const oc=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};oc.prototype.readFeatures=function(e,t,n){const r=Math.max(0,Math.floor(t));let i=Math.ceil(n);if(this.genome){const t=this.genome.getChromosome(e);t&&i>t.bpLength&&(i=t.bpLength)}const o=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+i;return xo.loadJson(o,this.config).then(function(e){return e?(e.forEach(function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,i,o,s;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),i=[];for(var a=0;a<t;a++){var l={start:o=parseInt(n[a]),end:s=parseInt(r[a])};(e.cdsStart>s||e.cdsEnd<e.cdsStart)&&(l.utr=!0),e.cdsStart>=o&&e.cdsStart<=s&&(l.cdStart=e.cdsStart),e.cdsEnd>=o&&e.cdsEnd<=s&&(l.cdEnd=e.cdsEnd),i.push(l)}e.exons=i}(e)}),e):null})};const sc=["Name","gene_name","gene","gene_id","alias","locus","name"];class ac{constructor(e){this.format=e.format,this.nameField=e.nameField,this.filterTypes=void 0===e.filterTypes?new Set(["chromosome"]):new Set(e.filterTypes)}combineFeatures(e,t){let n;const r=this.filterTypes;if(e=e.filter(e=>void 0===r||!r.has(e.type)),"gff3"===this.format){const t=this.combineFeaturesById(e);n=this.combineFeaturesByType(t)}else n=this.combineFeaturesByType(e);return n.sort(function(e,t){return e.start-t.start}),this.numberExons(n,t),this.nameFeatures(n),n}combineFeaturesById(e){const t=new Map,n=[];for(let r of e)if(Ga(r.type)||$a(r.type)||!r.id)n.push(r);else{let e=t.get(r.chr);e||(e=new Map,t.set(r.chr,e));let n=e.get(r.id);n?n.push(r):e.set(r.id,[r])}for(let e of t.values())for(let t of e.values())if(t.length>1){const e=t[0];e.exons=[];for(let n of t)e.start=Math.min(e.start,n.start),e.end=Math.max(e.end,n.end),e.exons.push({start:n.start,end:n.end});n.push(e)}else n.push(t[0]);return n}combineFeaturesByType(e){const t=e.filter(e=>"gene"===e.type||e.type.endsWith("_gene")),n=Object.create(null);for(let e of t)n[e.id]=e;const r=Object.create(null),i=[],o=new Set,s=this.filterTypes;e=e.filter(e=>void 0===s||!s.has(e.type));for(let t of e)if("biological_region"===t.type&&console.log(),$a(t.type)){const e=t.id;if(void 0!==e){const s=new Ya(t);r[e]=s,i.push(s),o.add(t);const a=n[t.parent];a&&(s.geneObject=a,o.add(a))}}for(let t of e)if(Ga(t.type)){const e=c(t);if(e)for(let n of e){let s=r[n];if(!s&&"gtf"===this.format){const e=Object.assign({},t);e.type="transcript",s=new Ya(e),r[n]=s,i.push(s)}if(void 0!==s){if(a=t.type,za.has(a))if(e.length>1){const e=new Xa(t);s.addExon(e)}else s.addExon(t);else s.addPart(t);o.add(t)}}}var a;i.forEach(function(e){"function"==typeof e.finish&&e.finish()});const l=e.filter(e=>!o.has(e));for(let e of l)i.push(e);return i;function c(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}numberExons(e,t){for(let n of e)if(n.exons&&(!t||n.end<=t.end&&n.start>t.start))for(let e=0;e<n.exons.length;e++){n.exons[e].number="-"===n.strand?n.exons.length-e:e+1}}nameFeatures(e){for(let t of e)if(t.attributeString){const e="gff3"===this.format?"=":" ",n=el(t.attributeString,e),r=new Map(n);if(this.nameField)t.name=r.get(this.nameField);else for(let e of sc)if(r.has(e)){t.name=r.get(e);break}}}}const lc=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};lc.prototype.readFeatures=async function(e,t,n){let r=e.startsWith("chr")?e:"chr"+e,i=Math.floor(t),o=Math.ceil(n),s=this.datasetId,a=this.url+"?chromosome="+r+"&start="+i+"&end="+o+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+s;const l=await xo.loadJson(a,{withCredentials:this.config.withCredentials});return l&&l.singleTissueEqtl?(l.singleTissueEqtl.forEach(function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId}),l.singleTissueEqtl):void 0};const cc=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};cc.prototype.readFeatures=function(e,t,n){var r=this,i=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise(function(e,t){xo.loadJson(i,{withCredentials:r.config.withCredentials}).then(function(t){t?(t.eqtls.forEach(function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1}),e(t.eqtls)):e(null)}).catch(function(e){t(e)})})};const hc=xo.apiKey;function uc(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},xo.loadJson(t,e)}function fc(e){return new Promise(function(t,n){var r=e.results?e.results:[],i=e.url,o=e.body,s=e.decode,a="?",l=e.fields;return hc&&(i=i+a+"key="+hc,a="&"),l&&(i=i+a+"fields="+l),function e(a){a?o.pageToken=a:void 0!==o.pageToken&&delete o.pageToken;var l=JSON.stringify(o);xo.loadJson(i,{sendData:l,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then(function(n){var i,o;n?((o=s?s(n):n)&&o.forEach(function(e){r.push(e)}),(i=n.nextPageToken)?e(i):t(r)):t(r)}).catch(function(e){n(e)})}()})}const dc=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};dc.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):fc({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach(function(e){r.add(e)}),t.callSets.forEach(function(e){r.has(e.id)&&n.push(e)}),n}return t.callSets}}).then(function(t){return e.header.callSets=t,e.header}))},dc.prototype.readFeatures=function(e,t,n){const r=this,i=this.genome;return r.readHeader().then(function(e){return new Promise(function(e,t){r.chrAliasTable?e(r.chrAliasTable):r.readMetadata().then(function(t){r.metadata=t.metadata,r.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach(function(e){var t=e.referenceName,n=i.getChromosomeName(t);r.chrAliasTable[n]=t}),e(r.chrAliasTable)})})}).then(function(i){var o=i.hasOwnProperty(e)?i[e]:e;return fc({url:r.url+"/variants/search",fields:r.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(r.variantSetId)?r.variantSetId:[r.variantSetId],callSetIds:r.callSetIds?r.callSetIds:void 0,referenceName:o,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach(function(e){(t=function(e){var t,n=new Ll;return n.chr=e.referenceName,n.start=parseInt(e.start),n.end=parseInt(e.end),n.pos=n.start+1,n.names=Dl(e.names,"; "),n.referenceBases=e.referenceBases,n.alternateBases=Dl(e.alternateBases),n.quality=e.quality,n.filter=Dl(e.filter),n.info={},e.info&&Object.keys(e.info).forEach(function(t){var r,i=e.info[t];r=Array.isArray(i)?i.join(","):i,n.info[t]=r}),n.calls={},e.calls&&e.calls.forEach(function(e){t=e.callSetId,n.calls[t]=e}),init(n),n}(e)).isRefBlock()||n.push(t)}),n}})})},dc.prototype.readMetadata=function(){return uc({url:this.url,entity:"variantsets",entityId:this.variantSetId})};class pc{constructor(e){this.config=e}async readFeatures(e,t,n){const r=(await xo.loadJson(this.config.url+"/variants/?count=50000")).records,i=[];for(let e of r)if(e.coordinates){e.id;const t=e.coordinates;t.chromosome&&i.push(new gc(t.chromosome,t.start-1,t.stop,e)),t.chromosome2&&i.push(new gc(t.chromosome2,t.start2-1,t.stop2,e))}return i}}class gc{constructor(e,t,n,r){if(this.chr=e,this.start=t,this.end=n,this.id=r.id,this.entrezName=r.entrez_name,this.name=r.name,this.actionabilityScore=r.civic_actionability_score,r.coordinates.reference_bases&&(this.refBases=r.coordinates.reference_bases),r.coordinates.variant_bases&&(this.altBases=r.coordinates.variant_bases),r.variant_types&&(this.variant_types=r.variant_types),this.locationString=this.chr+":"+St(this.start+1)+"-"+St(this.end),void 0!==this.actionabilityScore){let e;if(this.actionabilityScore<=10)e=.2;else{const t=Math.min(30,this.actionabilityScore);e=.2+.8*Math.log10((t-10)/2)}this.alpha=e}}popupData(){const e=n("CIViC","https://civicdb.org/links/variants/"+this.id);this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length;const t=[e];if(t.push({name:"Entrez",value:n(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),t.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){const e=1===this.variant_types.length?"Type":"Types";let n;for(let e of this.variant_types)n?n+=", "+e.display_name:n=e.display_name;t.push({name:e,value:n})}return t.push({name:"Actionability",value:this.actionabilityScore}),t.push({name:"Location",value:this.locationString}),t;function n(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}}}function mc(e,t){t=t||Number.MAX_SAFE_INTEGER;const n=[];e.sort(function(e,t){return e.start-t.start}),n.push(-1e3);for(let r of e){let e=0;const i=Math.min(n.length,t);for(e=0;e<i;e++)if(r.start>n[e]){r.row=e,n[e]=r.end;break}r.row=e,n[e]=r.end}}class vc{constructor(e,t){if(this.config=e,this.genome=t,this.format=e.format?e.format.toUpperCase():"BAM","BAM"!==this.format&&"VCF"!==this.format)throw Error(`htsget format ${e.format} is not supported`)}async readHeaderData(){const e=`${bc(this.config)}?class=header&format=${this.format}`,t=await xo.loadJson(e,pa(this.config));return await this.loadUrls(t.htsget.urls)}async readData(e,t,n){const r=`${bc(this.config)}?format=${this.format}&referenceName=${e}&start=${Math.floor(t)}&end=${Math.ceil(n)}`,i=await xo.loadJson(r,pa(this.config));return this.loadUrls(i.htsget.urls)}async loadUrls(e){const t=[];for(let n of e)if(n.url.startsWith("data:"))t.push(Promise.resolve(yc(n.url)));else{const e=pa(this.config||{});n.headers&&(e.headers=Object.assign(e.headers||{},n.headers)),t.push(xo.loadArrayBuffer(n.url,e))}return function(e){let t=0;for(let n of e)t+=n.byteLength;let n=0;const r=new Uint8Array(t);for(let t of e){const e=new Uint8Array(t);r.set(e,n),n+=e.length}return r}(await Promise.all(t))}static async inferFormat(e){try{const t=bc(e),n=`${t}${t.includes("?")?"&":"?"}class=header`,r=await xo.loadJson(n,pa(e));if(r.htsget){const t=r.htsget.format;if("BAM"!==t&&"VCF"!==t)throw Error(`htsget format ${t} is not supported`);e.format=t.toLowerCase(),e.sourceType="htsget",e.name||(e.name=await va(e.url))}}catch(e){}}}function bc(e){if(e.url&&e.endpoint&&e.id)return e.url+e.endpoint+e.id;if(e.endpoint&&e.id)return e.endpoint+e.id;if(e.url)return e.url.startsWith("htsget://")?e.url.replace("htsget://","https://"):e.url;throw Error("Must specify either 'url', or 'endpoint' and 'id")}function yc(e){const t=e.split(","),n=t[0].split(":")[1];let r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);const i=new Uint8Array(r.length);for(var o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}class wc extends vc{constructor(e,t){super(e,t),this.parser=new Ml}async readHeader(){if(!this.header){const e=Nl(await this.readHeaderData());this.header=await this.parser.parseHeader(e,this.genome),this.chrAliasTable=this.header.chrAliasTable}return this.header}async readFeatures(e,t,n){if(this.config.format&&"VCF"!==this.config.format.toUpperCase())throw Error(`htsget format ${this.config.format} is not supported`);this.chrAliasTable||await this.readHeader();let r=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e;const i=Nl(await this.readData(r,t,n));return this.parser.parseFeatures(i)}}class xc{constructor(e,t){this.config=e||{},this.genome=t,this.sourceType=void 0===e.sourceType?"file":e.sourceType,this.visibilityWindow=e.visibilityWindow;const n=new Set(["bigwig","bw","bigbed","bb","tdf"]);if(e.features&&Array.isArray(e.features)){let n=function(e,t){if(!e||0===e.length)return[];if(void 0===e[0].chr&&void 0!==e[0].chr1){const n=[];for(let r of e)t&&(r.chr1=t.getChromosomeName(r.chr1),r.chr2=t.getChromosomeName(r.chr2)),r.chr1===r.chr2?(r.chr=r.chr1,r.start=Math.min(r.start1,r.start2),r.end=Math.max(r.end1,r.end2)):n.push(r);for(let t of n){const n=Object.assign({dup:!0},t);e.push(n),t.chr=t.chr1,t.start=t.start1,t.end=t.end1,n.chr=n.chr2,n.start=n.start2,n.end=n.end2}}else if(t)for(let n of e)n.chr=t.getChromosomeName(n.chr);return e}(e.features,t);_c(n),e.mappings&&function(e,t){let n=Object.keys(t);e.forEach(function(e){n.forEach(function(n){e[n]=e[t[n]]})})}(n,e.mappings),this.queryable=!1,this.featureCache=new Po(n,t)}else e.reader?(this.reader=e.reader,this.queryable=void 0===e.queryable||e.queryable,this.expandQuery=!!e.expandQuery):"ga4gh"===e.sourceType?(this.reader=new dc(e,t),this.queryable=!0):"immvar"===e.sourceType?(this.reader=new cc(e),this.queryable=!0):"eqtl"===e.type&&"gtex-ws"===e.sourceType?(this.reader=new lc(e),this.queryable=!0,this.expandQuery=!!e.expandQuery):"htsget"===e.sourceType?this.reader=new wc(e,t):"ucscservice"===e.sourceType?(this.reader=new oc(e.source),this.queryable=!0):"custom"===e.sourceType||void 0!==e.source?(this.reader=new ic(e.source),this.queryable=void 0===e.source.queryable||e.source.queryable,this.expandQuery=!!e.expandQuery):"civic-ws"===e.sourceType?(this.reader=new pc(e),this.queryable=!1,this.expandQuery=!!e.expandQuery):(this.reader=new nc(e,t),void 0!==e.queryable?this.queryable=e.queryable:n.has(e.format)&&(this.queryable=n.has(e.format)||this.reader.indexed))}supportsWholeGenome(){return!this.queryable&&(void 0===this.visibilityWindow||this.visibilityWindow<=0)}async trackType(){const e=await this.getHeader();return e?e.type:void 0}async getHeader(){if(!this.header)if(this.reader&&"function"==typeof this.reader.readHeader){const e=await this.reader.readHeader();e?(this.header=e,e.format&&(this.config.format=e.format)):this.header={}}else this.header={};return this.header}async getFeatures({chr:e,start:t,end:n,bpPerPixel:r,visibilityWindow:i}){const o=this.genome,s=o?o.getChromosomeName(e):e,a="all"===s.toLowerCase();return(a&&!this.getWGFeatures||this.config.disableCache||!this.featureCache||!this.featureCache.containsRange(new Ws(s,t,n)))&&await this.loadFeatures(t,n,i,s),a?(this.wgFeatures||(this.queryable?this.wgFeatures=[]:this.wgFeatures=this.getWGFeatures(this.featureCache.getAllFeatures())),this.wgFeatures):this.featureCache.queryFeatures(s,t,n)}async loadFeatures(e,t,n,r){const i=this.reader;let o=e,s=t;if((!n||n<=0)&&!1!==this.expandQuery){const e=this.genome?this.genome.getChromosome(r):void 0;o=0,s=e?e.bpLength:Number.MAX_SAFE_INTEGER}else if(n>t-e&&!1!==this.expandQuery){const r=Math.min(4.1*(t-e),n);o=Math.max(0,(e+t)/2-r),s=e+r}let a=await i.readFeatures(r,o,s);void 0===this.queryable&&(this.queryable=i.indexed);const l=this.queryable?new Ws(r,o,s):void 0;if(a){if(!1===this.config.assembleGFF||"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(a=new ac(this.config).combineFeatures(a,l)),"wig"!==this.config.format&&"junctions"!==this.config.type){_c(a,this.config.maxRows||Number.MAX_SAFE_INTEGER)}this.featureCache=new Po(a,this.genome,l),(this.config.searchable||this.config.searchableFields)&&this.addFeaturesToDB(a)}else this.featureCache=new Po([],l)}addFeaturesToDB(e){for(let t of e)if(t.name&&(this.genome.featureDB[t.name.toUpperCase()]=t),t.gene&&t.gene.name&&(this.genome.featureDB[t.gene.name.toUpperCase()]=t),this.config.searchableFields)for(let e of this.config.searchableFields){const n=t.getAttributeValue(e);n&&(n.indexOf(" ")>0?(this.genome.featureDB[n.replaceAll(" ","+").toUpperCase()]=t,this.genome.featureDB[n.replaceAll(" ","%20").toUpperCase()]=t):this.genome.featureDB[n.toUpperCase()]=t)}}getWGFeatures(e){const t=this.genome,n=new Set(t.wgChromosomeNames),r=[];for(let i of t.wgChromosomeNames){const o=e[i];if(o)for(let e of o){let i=t.getChromosomeName(e.chr);if(n.has(i)){const n=Object.assign({},e);n.chr="all",n.start=t.getGenomeCoordinate(e.chr,e.start),n.end=t.getGenomeCoordinate(e.chr,e.end),n._f=e,n.exons&&delete n.exons,r.push(n)}}}return r.sort(function(e,t){return e.start-t.start}),r}}function _c(e,t){if(t=t||1e3,null==e||0===e.length)return;const n={},r=[];for(let t of e){const e=t.chr;let i=n[e];i||(i=[],n[e]=i,r.push(e)),i.push(t)}for(let e of r)mc(n[e],t)}class Sc{constructor(e,t,n){this.path=e.url,this.bufferSize=n||512e3,this.range={start:-1,size:-1},this.config=e}async dataViewForRange(e,t){if(!(this.data&&this.range.start<=e.start&&this.range.start+this.range.size>=e.start+e.size)){let t;t=e.size?Math.max(this.bufferSize,e.size):this.bufferSize;const n={start:e.start,size:t},r=await xo.loadArrayBuffer(this.path,pa(this.config,{range:n}));this.data=r,this.range=n}const n=this.data.byteLength,r=e.start-this.range.start;return t?new Uint8Array(this.data,r,n-r):new DataView(this.data,r,n-r)}}let kc=512e3;class Cc{constructor(e,t){this.path=e.url,this.genome=t,this.rpTreeCache={},this.config=e,this.loader=ya(this.path)?new Pc(this.path):xo}async readWGFeatures(e,t){await this.loadHeader();const n=this.chromTree.idToChrom.length-1,r=this.chromTree.idToChrom[0],i=this.chromTree.idToChrom[n];return this.readFeatures(r,0,i,Number.MAX_VALUE,e,t)}async readFeatures(e,t,n,r,i,o){await this.loadHeader();const s=this.chromTree.chromToID[e],a=this.chromTree.chromToID[n];if(void 0===s||void 0===a)return[];let l,c;if("bigwig"===this.type){const e=await this.getZoomHeaders();let t=i?function(e,t){let n;for(let r=0;r<t.length;r++){const i=t[r];if(i.reductionLevel<e){n=i;break}}return n}(i,e):void 0;t?(l=t.indexOffset,c=Fc):(l=this.header.fullIndexOffset,c=Ic)}else l=this.header.fullIndexOffset,c=Nc.call(this);const h=await this.loadRPTree(l),u=await h.findLeafItemsOverlapping(s,t,a,r);if(u&&0!==u.length){let e=Number.MAX_VALUE,n=0;for(let t of u)e=Math.min(e,t.dataOffset),n=Math.max(n,t.dataOffset+t.dataSize);const i=n-e,l=await this.loader.loadArrayBuffer(this.config.url,pa(this.config,{range:{start:e,size:i}})),h=[];for(let n of u){const i=new Uint8Array(l,n.dataOffset-e,n.dataSize);let u;u=this.header.uncompressBuffSize>0?Yi(i):i,c.call(this,new DataView(u.buffer),s,t,a,r,h,this.chromTree.idToChrom,o)}return h.sort(function(e,t){return e.start-t.start}),h}return[]}async getZoomHeaders(){return this.zoomLevelHeaders||await this.loadHeader(),this.zoomLevelHeaders}async loadHeader(){if(this.header)return this.header;{let e,t=await this.loader.loadArrayBuffer(this.path,pa(this.config,{range:{start:0,size:64}}));this.littleEndian=!0;let n=new Zl(new DataView(t)),r=n.getUInt();if(2291137574===r)this.type="bigwig";else if(2273964779===r)this.type="bigbed";else{this.littleEndian=!1,n.littleEndian=!1,n.position=0;let e=n.getUInt();654085990===e?this.type="bigwig":3958540679===e&&(this.type="bigbed")}e={bwVersion:n.getUShort(),nZoomLevels:n.getUShort(),chromTreeOffset:n.getLong(),fullDataOffset:n.getLong(),fullIndexOffset:n.getLong(),fieldCount:n.getUShort(),definedFieldCount:n.getUShort(),autoSqlOffset:n.getLong(),totalSummaryOffset:n.getLong(),uncompressBuffSize:n.getInt(),extensionOffset:n.getLong()};const i=64;let o={start:i,size:e.fullDataOffset-i+5};t=await this.loader.loadArrayBuffer(this.path,pa(this.config,{range:o}));const s=e.nZoomLevels;n=new Zl(new DataView(t)),this.zoomLevelHeaders=[],this.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(let e=1;e<=s;e++){const t=s-e,r=new Tc(t,n);this.firstZoomDataOffset=Math.min(r.dataOffset,this.firstZoomDataOffset),this.zoomLevelHeaders[t]=r}if(e.autoSqlOffset>0){n.position=e.autoSqlOffset-i;const t=n.getString();t&&(this.autoSql=function(e){let t;const n=[];let r=!1;const i=e.trim().split(/\s*[\r\n]+\s*/g);for(let e of i)if(e.startsWith("table"))t=e.split(/\s+/)[1].trim();else if(e.startsWith("("))r=!0;else if(e.startsWith(")"));else if(r&&e.length>0){const t=e.indexOf(";"),r=e.substr(0,t).split(/\s+/),i=e.substr(t+1).replace(/"/g,"").trim();n.push({type:r[0],name:r[1],description:i})}return{table:t,fields:n}}(t))}if(e.totalSummaryOffset>0&&(n.position=e.totalSummaryOffset-i,this.totalSummary=new Dc(n)),!(e.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return n.position=e.chromTreeOffset-i,this.chromTree=new Lc(n,i,this.genome),n.position=e.fullDataOffset-i,e.dataCount=n.getInt(),this.setDefaultVisibilityWindow(e),this.header=e,this.header}}async loadRPTree(e){let t=this.rpTreeCache[e];return t||(t=new Ac(e,this.config,this.littleEndian,this.loader),await t.load(),this.rpTreeCache[e]=t,t)}async getType(){return await this.loadHeader(),this.type}async getTrackType(){return await this.loadHeader(),"bigwig"===this.type?"wig":this.autoSql&&"chromatinInteract"===this.autoSql.table?"interact":"annotation"}setDefaultVisibilityWindow(e){if("bigwig"===this.type)this.visibilityWindow=-1;else{let t=this.genome?this.genome.getGenomeLength():3088286401;this.visibilityWindow=e.dataCount<1e3?-1:t/e.dataCount*1e3}}}class Tc{constructor(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}}class Ac{constructor(e,t,n,r){this.config=t,this.loader=r,this.fileOffset=e,this.path=t.url,this.littleEndian=n}async load(){const e=this.fileOffset+48,t=ya(this.path)?this.loader:new Sc(this.config,kc);return this.rootNode=await this.readNode(e,t),this}async readNode(e,t){let n=await t.dataViewForRange({start:e,size:4},!1),r=new Zl(n,this.littleEndian);const i=1===r.getByte();r.getByte();const o=r.getUShort();let s={start:e+=4,size:o*(i?32:24)};n=await t.dataViewForRange(s,!1);const a=new Array(o);if(r=new Zl(n),i){for(let e=0;e<o;e++){let t={isLeaf:!0,startChrom:r.getInt(),startBase:r.getInt(),endChrom:r.getInt(),endBase:r.getInt(),dataOffset:r.getLong(),dataSize:r.getLong()};a[e]=t}return new Ec(a)}for(let e=0;e<o;e++){let t={isLeaf:!1,startChrom:r.getInt(),startBase:r.getInt(),endChrom:r.getInt(),endBase:r.getInt(),childOffset:r.getLong()};a[e]=t}return new Ec(a)}async findLeafItemsOverlapping(e,t,n,r){let i=this;return new Promise(function(o,s){let a=[],l=new Set,c=ya(i.path)?i.loader:new Sc(i.config,kc);l.add(0),function h(u,f){if(Rc(u,e,t,n,r)){u.items.forEach(function(o){Rc(o,e,t,n,r)&&(o.isLeaf?a.push(o):o.childNode?h(o.childNode):(l.add(o.childOffset),i.readNode(o.childOffset,c).then(function(e){o.childNode=e,h(e,o.childOffset)}).catch(s)))})}void 0!==f&&l.delete(f);0===l.size&&o(a)}(i.rootNode,0)})}}class Ec{constructor(e){this.items=e;let t,n,r=Number.MAX_SAFE_INTEGER,i=0,o=Number.MAX_SAFE_INTEGER,s=0;for(t=0;t<e.length;t++)n=e[t],r=Math.min(r,n.startChrom),i=Math.max(i,n.endChrom),o=Math.min(o,n.startBase),s=Math.max(s,n.endBase);this.startChrom=r,this.endChrom=i,this.startBase=o,this.endBase=s}}class Lc{constructor(e,t,n){let r=e.getInt(),i=e.getInt(),o=e.getInt(),s=e.getInt(),a=e.getLong(),l=e.getLong(),c={},h=[];this.header={magic:r,blockSize:i,keySize:o,valSize:s,itemCount:a,reserved:l},this.chromToID=c,this.idToChrom=h,function e(r,i){i>=0&&(r.position=i);let s=r.getByte();r.getByte();let a,l,u,f,d,p,g=r.getUShort();if(1===s)for(a=0;a<g;a++)l=r.getFixedLengthTrimmedString(o),u=r.getInt(),r.getInt(),n&&(l=n.getChromosomeName(l)),c[l]=u,h[u]=l;else for(a=0;a<g;a++)l=r.getFixedLengthTrimmedString(o),f=r.getLong(),d=f-t,p=r.position,e(r,d),r.position=p}(e,-1)}}function Rc(e,t,n,r,i){return e?(r>e.startChrom||r===e.startChrom&&i>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase):(console.log("null item for "+t+" "+n+" "+i),!1)}class Dc{constructor(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),Mc.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}}function Mc(){let e=this.basesCovered;if(e>0){this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1));let t=this.minVal<0?this.mean-2*this.stddev:0,n=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:t,max:n}}}function Ic(e,t,n,r,i,o,s){const a=new Zl(e),l=a.getInt();let c=a.getInt(),h=a.getInt();const u=a.getInt(),f=a.getInt(),d=a.getByte();a.getByte();let p=a.getUShort();if(l>=t&&l<=r)for(;p-- >0;){let e;switch(d){case 1:c=a.getInt(),h=a.getInt(),e=a.getFloat();break;case 2:c=a.getInt(),e=a.getFloat(),h=c+f;break;case 3:e=a.getFloat(),h=c+f,c+=u}if(!(l<t||l===t&&h<n)){if(l>r||l===r&&c>=i)break;if(Number.isFinite(e)){const t=s[l];o.push({chr:t,start:c,end:h,value:e})}}}}function Nc(){const e=function(e,t,n){if(n&&"chromatinInteract"===n.table)return function(e,t){return e.chr1=t[5],e.start1=Number.parseInt(t[6]),e.end1=Number.parseInt(t[7]),e.chr2=t[10],e.start2=Number.parseInt(t[11]),e.end2=Number.parseInt(t[12]),e.name=t[0],e.score=Number.parseFloat(t[1]),e.value=Number.parseFloat(t[2]),e.color="."===t[4]?void 0:"0"===t[4]?"rgb(0,0,0)":t[4],e};{const r=e-3;return function(i,o){if(r>0&&(i.name=o[0]),r>1&&(i.score=parseFloat(o[1])),r>2&&(i.strand=o[2]),r>3&&(i.cdStart=parseInt(o[3])),r>4&&(i.cdEnd=parseInt(o[4])),r>5&&"."!==o[5]&&"0"!==o[5]&&"-1"!==o[5]){const e=lo.createColorString(o[5]);i.color=e.startsWith("rgb")?e:void 0}if(r>8){const e=parseInt(o[6]),t=o[7].split(","),n=o[8].split(","),r=[];for(let o=0;o<e;o++){const e=i.start+parseInt(n[o]),s=e+parseInt(t[o]);r.push({start:e,end:s})}i.exons=r}if(n)for(let r=e;r<t;r++)if(r<n.fields.length){const e=n.fields[r].name,t=o[r-3];i[e]=t}}}}(this.header.definedFieldCount,this.header.fieldCount,this.autoSql);return function(t,n,r,i,o,s,a){const l=new Zl(t);for(;l.remLength()>=13;){const t=l.getInt(),c=a[t],h=l.getInt(),u=l.getInt(),f=l.getString();if(!(t<n||t===n&&u<r)){if(t>i||t===i&&h>=o)break;if(u>0){const t={chr:c,start:h,end:u};s.push(t);const n=f.split("\t");e(t,n)}}}}}function Fc(e,t,n,r,i,o,s,a){const l=new Zl(e);for(;l.remLength()>=32;){const e=l.getInt(),c=s[e],h=l.getInt(),u=l.getInt(),f=l.getInt(),d=l.getFloat(),p=l.getFloat(),g=l.getFloat();let m;switch(l.getFloat(),a){case"min":m=d;break;case"max":m=p;break;default:m=0===f?0:g/f}if(!(e<t||e===t&&u<n)){if(e>r||e===r&&h>=i)break;Number.isFinite(m)&&o.push({chr:c,start:h,end:u,value:m})}}}class Pc{constructor(e){this.data=no(e).buffer}loadArrayBuffer(e,t){const n=t.range;return n?this.data.slice(n.start,n.start+n.size):this.data}async dataViewForRange(e,t){const n=Math.min(this.data.byteLength-e.start,e.size);return t?new Uint8Array(this.data,e.start,n):new DataView(this.data,e.start,n)}}class Oc{constructor(e,t){this.reader=new Cc(e,t),this.genome=t,this.format=e.format||"bigwig",this.wgValues={}}async getFeatures({chr:e,start:t,end:n,bpPerPixel:r,windowFunction:i}){const o="all"===e.toLowerCase()?await this.getWGValues(i):await this.reader.readFeatures(e,t,e,n,r,i);return"bigwig"===this.reader.type||mc(o),o}async getHeader(){return this.reader.loadHeader()}getDefaultRange(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0}async defaultVisibilityWindow(){return this.reader.defaultVisibilityWindow}async getWGValues(e){const t=this.genome;if(this.wgValues[e])return this.wgValues[e];{const n=t.getGenomeLength()/1e3,r=await this.reader.readWGFeatures(n,e);let i=[];for(let e of r){const n=e.chr,r=t.getCumulativeOffset(n),o=Object.assign({},e);o.chr="all",o.start=r+e.start,o.end=r+e.end,i.push(o)}return this.wgValues[e]=i,i}}supportsWholeGenome(){return"bigwig"===this.reader.type||this.defaultVisibilityWindow()<=0}async trackType(){return this.reader.getTrackType()}}class Bc{constructor(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}}async readHeader(){if(void 0!==this.magic)return this;let e=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:0,size:64e3}})),t=new Zl(new DataView(e));if(this.magic=t.getInt(),this.version=t.getInt(),this.indexPos=t.getLong(),this.indexSize=t.getInt(),t.getInt(),this.version>=2){let e=t.getInt();for(this.windowFunctions=[];e-- >0;)this.windowFunctions.push(t.getString())}this.trackType=t.getString(),this.trackLine=t.getString();let n=t.getInt();for(this.trackNames=[];n-- >0;)this.trackNames.push(t.getString());this.genomeID=t.getString(),this.flags=t.getInt(),this.compressed=0!=(1&this.flags),e=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:this.indexPos,size:this.indexSize}})),t=new Zl(new DataView(e)),this.datasetIndex={};let r=t.getInt();for(;r-- >0;){const e=t.getString(),n=t.getLong(),r=t.getInt();this.datasetIndex[e]={position:n,size:r}}for(this.groupIndex={},r=t.getInt();r-- >0;){const e=t.getString(),n=t.getLong(),r=t.getInt();this.groupIndex[e]={position:n,size:r}}return this}async readDataset(e,t,n){const r=e+"_"+t+"_"+n;if(this.datasetCache[r])return this.datasetCache[r];{await this.readHeader();const i=this.version<2?"":"/"+t,o="all"===e.toLowerCase()||void 0===n?"0":n.toString();let s;s="raw"===t?"/"+e+"/raw":"/"+e+"/z"+o+i;const a=this.datasetIndex[s];if(void 0===a)return;const l=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:a.position,size:a.size}}));if(!l)return;const c=new Zl(new DataView(l));let h=c.getInt();const u={};for(;h-- >0;)u[c.getString()]=c.getString();const f=c.getString(),d=c.getFloat();let p=c.getInt();const g=[];for(;p-- >0;)g.push({position:c.getLong(),size:c.getInt()});const m={name:s,attributes:u,dataType:f,tileWidth:d,tiles:g};return this.datasetCache[r]=m,m}}async readRootGroup(){const e=this.genome,t=this.groupCache["/"];if(t)return t;{const t=await this.readGroup("/"),n=t.chromosomes,r=t.maxZoom;r&&(this.maxZoom=Number(r));const i=t.totalCount;i&&(t.totalCount=Number.parseFloat(i));const o={};return n&&n.split(",").forEach(function(t){const n=e.getChromosomeName(t);o[n]=t}),this.chrAliasTable=o,this.groupCache["/"]=t,t}}async readGroup(e){const t=this.groupCache[e];if(t)return t;{await this.readHeader();const t=this.groupIndex[e];if(void 0===t)return;const n=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:t.position,size:t.size}}));if(!n)return;const r=new Zl(new DataView(n)),i={name:e};let o=r.getInt();for(;o-- >0;){const e=r.getString(),t=r.getString();i[e]=t}return this.groupCache[e]=i,i}}async readTiles(e,t){if(e.sort(function(e,t){return e.position-t.position}),0===(e=e.filter(function(e){return e.size>0})).length)return Promise.resolve([]);const n=e[0],r=e[e.length-1],i=n.position,o=r.position+r.size-i,s=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:i,size:o}})),a=[];for(let n of e){const e=n.position-i,r=n.size;if(r>0){let n;if(this.compressed){n=Yi(s.slice(e,e+r)).buffer}else n=s.slice(e,e+r);const i=new Zl(new DataView(n)),o=i.getString();let l;switch(o){case"fixedStep":l=Hc(i,t);break;case"variableStep":l=jc(i,t);break;case"bed":case"bedWithName":l=zc(i,t,o);break;default:throw"Unknown tile type: "+o}a.push(l)}}return a}async readTile(e,t){let n=await xo.loadArrayBuffer(this.path,pa(this.config,{range:{start:e.position,size:e.size}}));if(this.compressed){n=Yi(n).buffer}const r=new Zl(new DataView(n)),i=r.getString();switch(i){case"fixedStep":return Hc(r,t);case"variableStep":return jc(r,t);case"bed":case"bedWithName":return zc(r,t,i);default:throw"Unknown tile type: "+i}}}function Hc(e,t){const n=e.getInt(),r=e.getInt(),i=e.getFloat(),o=[];let s=t;for(;s-- >0;){let t=n;const r=[];for(;t-- >0;)r.push(e.getFloat());o.push(r)}return{type:"fixedStep",start:r,span:i,data:o,nTracks:t,nPositions:n}}function jc(e,t){const n=e.getInt(),r=e.getFloat(),i=e.getInt(),o=[];let s=i;for(;s-- >0;)o.push(e.getInt());e.getInt();const a=[];let l=t;for(;l-- >0;){s=i;const t=[];for(;s-- >0;)t.push(e.getFloat());a.push(t)}return{type:"variableStep",tileStart:n,span:r,start:o,data:a,nTracks:t,nPositions:i}}function zc(e,t,n){const r=e.getInt();let i=r;const o=[];for(;i-- >0;)o.push(e.getInt());i=r;const s=[];for(;i-- >0;)s.push(e.getInt());e.getInt();const a=[];let l=t;for(;l-- >0;){let t=r;const n=[];for(;t-- >0;)n.push(e.getFloat());a.push(n)}if("bedWithName"===n){i=r;const t=[];for(;i-- >0;)t.push(e.getString())}return{type:n,start:o,end:s,data:a,nTracks:t,nPositions:r}}class Vc{constructor(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new Bc(e,t)}async getFeatures({chr:e,start:t,end:n,bpPerPixel:r}){const i=new Ws(e,t,n),o=this.genome;if(!this.rootGroup&&(this.rootGroup=await this.reader.readRootGroup(),!this.normalizationFactor)){const e=this.rootGroup.totalCount;e&&(this.normalizationFactor=1e6/e)}if("all"===e.toLowerCase())return[];i.bpPerPixel=r;const s=function(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/$c)}(e,r,o);let a=this.reader.chrAliasTable[e],l=this.reader.maxZoom;void 0===a&&(a=e),void 0===l&&(l=-1);const c=s>l?"raw":this.windowFunction,h=await this.reader.readDataset(a,c,s);if(null==h)return[];const u=h.tileWidth,f=Math.floor(t/u),d=Math.floor(n/u),p=await this.reader.readTiles(h.tiles.slice(f,d+1),1),g=[];for(let i of p)switch(i.type){case"bed":qc(i,e,t,n,r,g);break;case"variableStep":Uc(i,e,t,n,r,g);break;case"fixedStep":Wc(i,e,t,n,r,g);break;default:throw"Unknown tile type: "+i.type}return g.sort(function(e,t){return e.start-t.start}),g}supportsWholeGenome(){return!1}}function qc(e,t,n,r,i,o){const s=e.nPositions,a=e.start,l=e.end,c=e.data[0];for(let e=0;e<s;e++){const i=a[e],s=l[e];if(!(s<n)){if(i>r)break;o.push({chr:t,start:i,end:s,value:c[e]})}}}function Uc(e,t,n,r,i,o){const s=e.nPositions,a=e.start,l=e.span,c=e.data[0];for(let e=0;e<s;e++){const i=a[e],s=i+l;if(!(s<n)){if(i>r)break;o.push({chr:t,start:i,end:s,value:c[e]})}}}function Wc(e,t,n,r,i,o){const s=e.nPositions;let a=e.start;const l=e.span,c=e.data[0];for(let e=0;e<s;e++){const i=a+l;if(a>r)break;i>=n&&(Number.isNaN(c[e])||o.push({chr:t,start:a,end:i,value:c[e]})),a=i}}var $c=Math.log(2);function Gc(e,t){const n=e.format?e.format.toLowerCase():void 0;return"bigwig"===n||"bigbed"===n||"bb"===n?new Oc(e,t):"tdf"===n?new Vc(e,t):new xc(e,t)}const Zc=[["A","T"],["G","C"],["Y","R"],["W","S"],["K","M"],["D","H"],["B","V"]],Xc=new Map;for(let e of Zc){const t=e[0],n=e[1];Xc.set(t,n),Xc.set(n,t),Xc.set(t.toLowerCase(),n.toLowerCase()),Xc.set(n.toLowerCase(),t.toLowerCase())}const Yc={getTissueInfo:function(e,t){let n=(t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8");return xo.loadJson(n,{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}};function Kc(e,t,n){let r=(e.start-t)/n,i=(e.end-t)/n,o=i-r;return o<3&&(o=3,r-=1.5),{px:r,px1:i,pw:o}}function Qc(e,t,n,r,i,o){try{i.save(),i.fillStyle=this.defaultColor,i.strokeStyle=this.defaultColor;const r=eh.call(this,e);let s,a;i.fillStyle=r,i.strokeStyle=r,"SQUISHED"===this.displayMode&&void 0!==e.row?(s=this.featureHeight/2,a=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(s=this.featureHeight,a=this.margin+this.expandedRowHeight*e.row):(s=this.featureHeight,a=this.margin);const l=o.pixelWidth,c=a+s/2,h=s/2,u=c-h/2,f=e.exons?e.exons.length:0,d=Kc(e,t,n),p=this.arrowSpacing,g="+"===e.strand?1:"-"===e.strand?-1:0;if(0===f){const e=Math.max(0,d.px),t=Math.min(l,d.px1),n=Math.max(d.pw,t-e);if(i.fillRect(e,a,n,s),0!==g){i.fillStyle="white",i.strokeStyle="white";for(let n=e+p/2;n<t;n+=p)gs.strokeLine(i,n-2*g,c-2,n,c),gs.strokeLine(i,n-2*g,c+2,n,c);i.fillStyle=r,i.strokeStyle=r}}else{gs.strokeLine(i,d.px+1,c,d.px1-1,c);const o=Math.max(0,d.px)+p/2,m=Math.min(l,d.px1);for(let e=o;e<m;e+=p)gs.strokeLine(i,e-2*g,c-2,e,c),gs.strokeLine(i,e-2*g,c+2,e,c);for(let o=0;o<f;o++){const f=e.exons[o];let d,m=Math.round((f.start-t)/n),v=Math.round((f.end-t)/n),b=Math.max(1,v-m);if(!(m+b<0)){if(m>l)break;if(f.utr)i.fillRect(m,u,b,h);else if(f.cdStart&&(d=Math.round((f.cdStart-t)/n),i.fillRect(m,u,d-m,h),b-=d-m,m=d),f.cdEnd&&(d=Math.round((f.cdEnd-t)/n),i.fillRect(d,u,v-d,h),b-=v-d,v=d),b=Math.max(b,1),i.fillRect(m,a,b,s),b>p+5&&0!==g){i.fillStyle="white",i.strokeStyle="white";for(let e=m+p/2;e<v;e+=p)gs.strokeLine(i,e-2*g,c-2,e,c),gs.strokeLine(i,e-2*g,c+2,e,c);i.fillStyle=r,i.strokeStyle=r}}}}o.drawLabel&&"SQUISHED"!==this.displayMode&&Jc.call(this,i,e,d.px,d.px1,a,o.referenceFrame,o)}finally{i.restore()}}function Jc(e,t,n,r,i,o,s){try{e.save();let a=t.name;if(void 0===a&&t.gene&&(a=t.gene.name),void 0===a&&(a=t.id||t.ID),!a||"."===a)return;let l=s.pixelXOffset||0;const c=Math.max(n,-l),h=(c+Math.min(r,-l+s.viewportWidth))/2;let u;"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(u={rotate:{angle:45}});const f=function(e,t){return t?e+20:e+25}(i,u);let d,p=eh.call(this,t),g=!1;o.selection&&Yc.gtexLoaded&&(g=!0,d=o.selection.colorForGene(a));const m={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:d||p,strokeStyle:d||p},v=e.measureText(a),b=h-v.width/2,y=h+v.width/2;(s.labelAllFeatures||b>s.rowLastX[t.row]||g)&&(s.rowLastX[t.row]=y,gs.fillText(e,a,h,f,m,u))}finally{e.restore()}}function eh(e){let t;if(this.altColor&&"-"===e.strand)t="function"==typeof this.altColor?this.altColor(e):this.altColor;else if(this.color)t="function"==typeof this.color?this.color(e):this.color;else if(this.colorBy){const n=e.getAttributeValue?e.getAttributeValue(this.colorBy):e[this.colorBy];t=this.colorTable.getColor(n)}else t=e.color?e.color:this.defaultColor;if(e.alpha&&1!==e.alpha)t=lo.addAlpha(t,e.alpha);else if(this.useScore&&e.score&&!Number.isNaN(e.score)){const n=function(e,t,n){const r=(t-e)/9,i=Math.floor((n-e)/r);return Math.min(1,.2+.8*i/9)}(this.config.min?this.config.min:0,this.config.max?this.config.max:1e3,e.score);e.alpha=n,t=lo.addAlpha(t,n)}return t}const th=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),nh=new Set(["coding-synon"]),rh=new Set(["splice-3","splice-5"]),ih=new Set(["untranslated-5","untranslated-3"]);function oh(e,t,n,r,i){var o,s,a,l,c=Kc(e,t,n),h=this.margin,u=this.snpColors.length;switch(o="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":l=e.func,s=l.split(",").map(function(e){return th.has(e)||rh.has(e)?u-1:nh.has(e)?u-2:ih.has(e)?u-3:0}).reduce(function(e,t){return Math.max(e,t)});break;case"class":s="deletion"===(a=e.class)?u-1:"mnp"===a?u-2:"microsatellite"===a||"named"===a?u-3:0}i.fillStyle=this.snpColors[s],i.fillRect(c.px,h,c.pw,o)}function sh(e,t,n,r,i){const o="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;let s=this.margin;"COLLAPSED"!==this.displayMode&&void 0!==e.row&&(s+=e.row*o);const a=s+.5*o,l=a-.5*o,c=a+.5*o,h=Math.round((e.junction_left-t)/n),u=Math.round((e.junction_right-t)/n);i.beginPath(),i.moveTo(h,a),i.bezierCurveTo(h,l,u,l,u,a),i.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();const f=e.spanning_frag_coords;for(let e=0;e<f.length;e++){const r=f[e],o=Math.round((r.left-t)/n),s=Math.round((r.right-t)/n);i.beginPath(),i.moveTo(o,a),i.bezierCurveTo(o,c,s,c,s,a),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}class ah extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.type=e.type||"annotation",this.maxRows=void 0===e.maxRows?1e3:e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:Gc(e,this.browser.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.render=e.render||sh,this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.render=e.render||oh,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function",this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.render=e.render||Qc,this.arrowSpacing=30,function(e){e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",n));function t(){e.trackView&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}function n(r){e.browser.un&&e===r&&(e.browser.un("trackdragend",t),e.browser.un("trackremoved",n))}}(this),this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight,e.colorBy&&(e.colorBy.field&&(e.colorTable=e.colorBy.pallete||e.colorBy.palette,e.colorBy=e.colorBy.field),this.colorBy=e.colorBy,e.colorTable?this.colorTable=new Ss(e.colorTable):this.colorTable=new _s("Set1"))),this.useScore=e.useScore}async postInit(){return"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow(),this.featureSource.visibilityWindow=this.visibilityWindow),this}supportsWholeGenome(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}async getFeatures(e,t,n,r){const i=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:n,bpPerPixel:r,visibilityWindow:i})}computePixelHeight(e){if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;{let t=0;if(e&&"function"==typeof e.forEach)for(let n of e)n.row&&n.row>t&&(t=n.row);return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)}}draw(e){const t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,s=e.pixelHeight,a=i+o*r+1;if(this.config.isMergedTrack||gs.fillRect(n,0,e.pixelTop,o,s,{fillStyle:"rgb(255, 255, 255)"}),t){const l=[];e.rowLastX=[];for(let n of t){const t=n.row||0;void 0===l[t]?l[t]=1:l[t]++,e.rowLastX[t]=-Number.MAX_SAFE_INTEGER}let c=[];for(let h of t){if(h.end<i)continue;if(h.start>a)break;const t="COLLAPSED"===this.displayMode?0:h.row,u=o/l[t];e.drawLabel=e.labelAllFeatures||u>10;const f=Math.ceil((h.end-i)/r),d=c[t];if(!d||f>d){this.render.call(this,h,i,r,s,n,e);const o=Math.floor((h.start-i)/r);d&&o-d<=0&&(n.globalAlpha=.5,gs.strokeLine(n,o,0,o,s,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),c[t]=f}}}else console.log("No feature list")}clickedFeatures(e,t){const n=e.y-this.margin,r=super.clickedFeatures(e,t);let i;switch(this.displayMode){case"SQUISHED":i=Math.floor(n/this.squishedRowHeight);break;case"EXPANDED":i=Math.floor(n/this.expandedRowHeight);break;default:i=void 0}return r.filter(function(e){return void 0===i||void 0===e.row||i===e.row})}popupData(e,t){t=this.clickedFeatures(e,t);const n=e.genomicLocation,r=[];for(let e of t){const t=e._f||e,i="function"==typeof t.popupData?t.popupData(n):this.extractPopupData(t);if(i){r.length>0&&r.push("<hr/><hr/>");const o=this.infoURL||this.config.infoURL;for(let t of i)if(r.push(t),o&&t.name&&"name"===t.name.toLowerCase()&&t.value&&_t(t.value)&&!t.value.startsWith("<")){const n=(this.infoURL||this.config.infoURL).replace("$$",e.name);r.push({name:"Info",value:`<a target="_blank" href=${n}>${t.value}</a>`})}const s="gff"===this.config.format||"gff3"===this.config.format||"gtf"===this.config.format;if(t.exons)for(let e=0;e<t.exons.length;e++){const i=t.exons[e];if(n>=i.start&&n<=i.end){const n=s?i.number:"-"===t.strand?t.exons.length-e:e+1;n&&(r.push("<hr/>"),r.push({name:"Exon Number",value:n}));break}}}}return r}menuItemList(){const e=this,t=[];if(this.render===oh){t.push("<hr/>");for(let e of["function","class"])t.push({object:dt(jo("Color by "+e,e===this.colorBy)),click:()=>{this.colorBy=e,this.trackView.repaintViews()}})}return t.push("<hr/>"),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(n){t.push({object:dt(jo({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode)),click:function(){e.displayMode=n,e.config.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t}contextMenuItemList(e){const t=this.clickedFeatures(e);t.length>1&&t.sort((e,t)=>e.end-e.start-(t.end-t.start));const n=t[0];return n.end-n.start<=1e6?[{label:"Copy feature sequence",click:async()=>{let e=await this.browser.genome.getSequence(n.chr,n.start,n.end);"-"===n.strand&&(e=function(e){let t="",n=e.length;for(;n-- >0;){const r=e[n];t+=Xc.has(r)?Xc.get(r):r}return t}(e)),navigator.clipboard.writeText(e)}},"<hr/>"]:void 0}description(){if(oh===this.render){let e="<html>"+this.name+"<hr/>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>",e}return this.name}dispose(){this.trackView=void 0}}function lh(e,t,n){var r,i,o,s,a,l,c,h={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function u(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(gs.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),r=(c=.95*t)-8,.01,a={x:i=c,y:o=s=.01*n},gs.strokeLine(e,r,o,i,s,h),gs.fillText(e,u(this.dataRange.max),r+4,o+12,h),l={x:i,y:o=s=.99*n},gs.strokeLine(e,r,o,i,s,h),gs.fillText(e,u(this.dataRange.min),r+4,o-4,h),gs.strokeLine(e,a.x,a.y,l.x,l.y,h))}class ch extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.type="wig",this.height=e.height||50,this.featureType="numeric",this.paintAxis=lh;const t=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===t?new Oc(e,this.browser.genome):"tdf"===t?new Vc(e,this.browser.genome):Gc(e,this.browser.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.graphType=e.graphType||"bar",this.normalize=e.normalize,this.scaleFactor=e.scaleFactor}async postInit(){const e=await this.getHeader();e&&this.setTrackProperties(e)}async getFeatures(e,t,n,r){const i=await this.featureSource.getFeatures({chr:e,start:t,end:n,bpPerPixel:r,windowFunction:this.windowFunction});if(this.normalize&&this.featureSource.normalizationFactor){const e=this.featureSource.normalizationFactor;for(let t of i)t.value*=e}if(this.scaleFactor){const e=this.scaleFactor;for(let t of i)t.value*=e}return i}menuItemList(){return zo.numericDataMenuItems(this.trackView)}async getHeader(){return"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header}draw(e){const t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,s=e.pixelHeight,a=i+o*r+1;let l=-1,c=-1;const h=this.color||"rgb(150,150,150)";let u;"string"==typeof h&&h.startsWith("rgb(")&&(u=lo.addAlpha(h,.1));const f=e=>(this.dataRange.max-e)/(this.dataRange.max-this.dataRange.min)*s;if(t&&t.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){const o=0==this.dataRange.min?s:f(0);for(let e of t){if(e.end<i)continue;if(e.start>a)break;const t=Math.floor((e.start-i)/r);if(isNaN(t))continue;let s=f(e.value);const u=Math.ceil((e.end-i)/r),d=Math.max(1,u-t);let p=e.value<0&&this.altColor?this.altColor:h;const g="function"==typeof p?p(e.value):p;if("points"===this.graphType){const e=this.config.pointSize||3,r=t+d/2;gs.fillCircle(n,r,s,e/2,{fillStyle:g,strokeStyle:g})}else{let r=s-o;Math.abs(r)<1&&(r=r<0?-1:1);const i=t+d;(i>l||e.value>=0&&e.value>c||e.value<0&&e.value<1)&&gs.fillRect(n,t,o,d,r,{fillStyle:g}),c=e.value,l=i}}if(this.dataRange.min<0){const t=this.dataRange.max/(this.dataRange.max-this.dataRange.min)*e.pixelHeight;gs.strokeLine(n,0,t,e.pixelWidth,t,{strokeStyle:u})}}if(this.config.hasOwnProperty("guideLines"))for(let t of this.config.guideLines)if(t.hasOwnProperty("color")&&t.hasOwnProperty("y")&&t.hasOwnProperty("dotted")){let n=f(t.y),r={strokeStyle:t.color,strokeWidth:2};t.dotted?gs.dashedLine(e.context,0,n,e.pixelWidth,n,5,r):gs.strokeLine(e.context,0,n,e.pixelWidth,n,r)}}popupData(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0){const n=e.genomicLocation,r=[];t.sort(function(e,t){return Math.abs((e.start+e.end)/2-n)-Math.abs((t.start+t.end)/2-n)});const i=t.length>10?t.slice(0,10):t;i.sort(function(e,t){return e.start-t.start});for(let e of i)if(e){r.length>0&&r.push("<hr/>");let t=e.end-e.start==1?St(e.start+1):St(e.start+1)+"-"+St(e.end);r.push({name:"Position:",value:t}),r.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:St(e.value)})}return i.length<t.length&&r.push("<hr/>..."),r}return[]}supportsWholeGenome(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()}dispose(){this.trackView=void 0}}function hh(e){this.thresholds=e.thresholds,this.colors=e.colors}function uh(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}hh.prototype.getColor=function(e){for(let t of this.thresholds)if(e<t)return this.colors[this.thresholds.indexOf(t)];return this.colors[this.colors.length-1]},uh.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};class fh{constructor(e){this.color=e}getColor(){return this.color}}class dh extends Cl{constructor(e,t){super(e,t)}init(e){if(super.init(e),this.type=e.type||"seg","maf"===this.type&&(this.type="mut"),this.isLog=e.isLog,this.displayMode=e.displayMode||"EXPANDED",this.height=e.height||300,this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||13,this.sampleHeight=this.squishedRowHeight,e.color?this.color=e.color:(this.posColorScale=e.posColorScale||new uh({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new uh({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),"mut"===this.type&&(this.colorTable=new Ss(e.colorTable||ph))),this.sampleKeys=[],this.sampleNames=new Map,e.samples){for(let t of e.samples)this.sampleKeys.push(t),this.sampleNames.set(t,t);this.explicitSamples=!0}this.featureSource=Gc(this.config,this.browser.genome),this.initialSort=e.sort}async postInit(){"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header&&this.setTrackProperties(this.header)}menuItemList(){const e=[],t={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};e.push("<hr/>"),e.push("DisplayMode:");const n="seg"===this.type?["SQUISHED","EXPANDED","FILL"]:["SQUISHED","EXPANDED"];for(let r of n){const n=jo(t[r],r===this.displayMode);e.push({object:dt(n),click:()=>{this.displayMode=r,this.config.displayMode=r,this.trackView.checkContentHeight(),this.trackView.repaintViews(),this.trackView.moveScroller(this.trackView.sampleNameViewport.trackScrollDelta)}})}return e}hasSamples(){return!0}getSamples(){return{names:this.sampleKeys.map(e=>this.sampleNames.get(e)),height:this.sampleHeight,yOffset:0}}async getFeatures(e,t,n){const r=await this.featureSource.getFeatures({chr:e,start:t,end:n});if(this.initialSort){const e=this.initialSort;this.sortSamples(e.chr,e.start,e.end,e.direction,r),this.initialSort=void 0}return r}draw({context:e,renderSVG:t,pixelTop:n,pixelWidth:r,pixelHeight:i,features:o,bpPerPixel:s,bpStart:a}){if(gs.fillRect(e,0,0,r,i,{fillStyle:"rgb(255, 255, 255)"}),o&&o.length>0){this.checkForLog(o),this.updateSampleKeys(o);const t={};let l;switch(this.sampleKeys.forEach(function(e,n){t[e]=n}),this.displayMode){case"FILL":this.sampleHeight=i/this.sampleKeys.length,l=0;break;case"SQUISHED":this.sampleHeight=this.squishedRowHeight,l=0;break;default:this.sampleHeight=this.expandedRowHeight,l=1}const c=this.sampleHeight;for(let e of o)e.pixelRect=void 0;const h=n+i,u=a+r*s+1,f=s;this.sampleYStart=void 0;for(let r of o){if(r.end<a)continue;if(r.start>u)break;const i=r.sampleKey||r.sample;r.row=t[i];const o=r.row*c+l;void 0===this.sampleYStart&&(this.sampleYStart=o);if(o+c<n||o>h)continue;const s=Math.max(r.start,a);let d=Math.round((s-a)/f);const p=Math.min(r.end,u),g=Math.round((p-a)/f);let m,v,b=Math.max(1,g-d);if(this.color?m="function"==typeof this.color?this.color(r):this.color:this.colorTable&&(m=this.colorTable.getColor(r.value.toLowerCase())),"mut"===this.type)v=c-2*l,b<3&&(b=3,d-=1);else{let e=r.value;this.isLog||(e=oo(e/2)),m=e<-.1?this.negColorScale.getColor(e):e>.1?this.posColorScale.getColor(e):"white";let t=c;if(c<.25){const n=.1+2*Math.abs(e);t=Math.min(1,n*c)}v=t-2*l}r.pixelRect={x:d,y:o,w:b,h:v},e.fillStyle=m,e.fillRect(d,o,b,v)}}}checkForLog(e){if(void 0===this.isLog){this.isLog=!1;for(let t of e)if(t.value<0)return void(this.isLog=!0)}}computePixelHeight(e){if(!e)return 0;const t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t}async sortSamples(e,t,n,r,i){if(i||(i=await this.featureSource.getFeatures({chr:e,start:t,end:n})),!i)return;this.updateSampleKeys(i);const o={},s="ASC"===r?1:-1,a=()=>{const e=n-t+1;for(let r of i){if(r.end<t)continue;if(r.start>n)break;const i=Math.max(t,r.start),s=(Math.min(n,r.end)-i)/e,a=r.sampleKey||r.sample,l=o[a]||0;o[a]=l+s*r.value}this.sampleKeys.sort(function(e,t){let n=o[e],r=o[t];return n||(n=s*Number.MAX_VALUE),r||(r=s*Number.MAX_VALUE),n===r?0:n>r?s:-1*s})},l=()=>{for(let e of i){if(e.end<t)continue;if(e.start>n)break;const r=e.sampleKey||e.sample;(!o.hasOwnProperty(r)||e.value.localeCompare(o[r])>0)&&(o[r]=e.value)}this.sampleKeys.sort(function(e,t){let n=o[e]||"",r=o[t]||"";return s*n.localeCompare(r)})};"mut"===this.type?l():a(),this.trackView.repaintViews()}clickedFeatures(e,t){const n=super.clickedFeatures(e,t),r=e.y;return n.filter(function(e){const t=e.pixelRect;return t&&r>=t.y&&r<=t.y+t.h})}popupData(e,t){t=this.clickedFeatures(e);const n=[];for(let e of t){n.length>0&&(n.push("<hr/>"),n.push("<hr/>"));const t=e._f||e,r="function"==typeof t.popupData?t.popupData():this.extractPopupData(t);Array.prototype.push.apply(n,r)}return n}contextMenuItemList(e){const t=e.viewport.referenceFrame,n=e.genomicLocation,r=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",i=t.toBP(2.5),o=t=>{const n=e.viewport.getCachedFeatures();this.sortSamples(t.chr,t.start,t.end,t.direction,n)};return[{label:"seg"===this.type?"Sort by value":"Sort by type",click:t=>{const s={direction:r,chr:e.viewport.referenceFrame.chr,start:n-i,end:n+i};o(s),this.config.sort=s}}]}supportsWholeGenome(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}updateSampleKeys(e){if(!this.explicitSamples)for(let t of e){const e=t.sampleKey||t.sample;this.sampleNames.has(e)||(this.sampleNames.set(e,t.sample),this.sampleKeys.push(e))}}}const ph={indel:"rgb(0,200,0)","targeted region":"rgb(236,155,43)",truncating:"rgb(\t150,0,0)","non-coding transcript":"rgb(0,0,150)",synonymous:"rgb(109,165,95)",silent:"rgb(109,135,80)",missense_mutation:"rgb(72,130,187)",missense:"rgb(72,130,187)","splice site":"rgb(143,83,155)",splice_region:"rgb(143,83,155)",nonsense:"rgb(216, 57,81)",nonsense_mutation:"rgb(216, 57,81)",frame_shift_del:"rgb(226,135,65)",frame_shift_ins:"rgb(226,135,65)",in_frame_del:"rgb(247,235,94)",in_frame_ins:"rgb(247,235,94)","*other*":"rgb(159,91,50)"};class gh extends Cl{constructor(e,t){super(e,t)}init(e){if(!e.tracks)throw Error("Error: no tracks defined for merged track"+e);super.init(e)}get height(){return this._height}set height(e){if(this._height=e,this.tracks)for(let t of this.tracks)t.height=e,t.config.height=e}async postInit(){this.tracks=[];const e=[];for(let t of this.config.tracks){t.isMergedTrack=!0;const n=await this.browser.createTrack(t);n?(n.autoscale=!1,this.tracks.push(n)):console.warn("Could not create track "+t),"function"==typeof n.postInit&&e.push(n.postInit())}return this.height=this.config.height||100,Promise.all(e)}async getFeatures(e,t,n,r){const i=this.tracks.map(i=>i.getFeatures(e,t,n,r));return Promise.all(i)}draw(e){var t,n,r,i,o,s,a,l;for(r=e.features,e.referenceFrame.chr,s=r,a=0,l=-Number.MAX_VALUE,s.forEach(function(e,t){e.forEach(function(e){void 0===e.value||Number.isNaN(e.value)||(a=Math.min(a,e.value),l=Math.max(l,e.value))})}),o={min:a,max:l},t=0,n=this.tracks.length;t<n;t++)(i=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=o,this.tracks[t].draw(i)}paintAxis(e,t,n){var r,i,o;for(!0,r=0,i=this.tracks.length;r<i;r++)if("function"==typeof(o=this.tracks[r]).paintAxis){o.paintAxis(e,t,n);break}}popupData(e,t){const n=t||e.viewport.getCachedFeatures();if(n&&n.length===this.tracks.length){const t=[];for(let r=0;r<this.tracks.length;r++){r>0&&t.push("<hr/>"),t.push(`<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >${this.tracks[r].name}</div>`);const i=this.tracks[r].popupData(e,n[r]);t.push(...i)}return t}}supportsWholeGenome(){return this.tracks.every(e=>e.supportsWholeGenome())}}class mh{constructor(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;let t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart}setSecondAlignment(e){this.secondAlignment=e;const t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);const n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart}containsLocation(e,t){const n=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=n&&e<=n+r}alignmentContaining(e,t){return this.firstAlignment.containsLocation(e,t)?this.firstAlignment:this.secondAlignment&&this.secondAlignment.containsLocation(e,t)?this.secondAlignment:void 0}popupData(e){let t=this.firstAlignment.popupData(e);return this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t}isPaired(){return!0}firstOfPairStrand(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand}}const vh=_t,bh=function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)};class yh{constructor(){this.alignments=[],this.score=void 0}findAlignment(e){const t=(e,t)=>t>=e.start&&t<e.start+e.lengthOnRef;let n;for(let r=0;r<this.alignments.length;r++){const i=this.alignments[r];if(e>=i.start&&e<i.start+i.lengthOnRef){i.paired?i.firstAlignment&&t(i.firstAlignment,e)?n=i.firstAlignment:i.secondAlignment&&t(i.secondAlignment,e)&&(n=i.secondAlignment):n=i;break}}return n}updateScore(e,t){this.score=this.calculateScore(e,t)}calculateScore({position:e,option:t,direction:n,tag:r},i){t||(t="BASE");const o=this.findAlignment(e);if(void 0===o)return Number.MAX_VALUE*(n?1:-1);let s;switch(t){case"NUCLEOTIDE":case"BASE":return function(e,t,n){let r;const i=Math.floor(n)-t.start;i<t.sequence.length&&(r=t.sequence.charAt(i));if(!r)return 0;const o=e.readBaseAt(n),s=e.readBaseQualityAt(n),a=t.coverageMap,l=Math.floor(n-a.bpStart),c=a.coverage[l];let h=0;if(e.insertions)for(let t of e.insertions)t.start===n&&(h=-c.ins);if(o)if(r=r.toUpperCase(),"N"===o&&0===h)h=2;else if(r!==o&&"="!==o||0!==h){if("X"===o||r!==o){h-=c["pos"+o]+c["neg"+o]+s/1e3}}else h=4-s/1e3;else{const e=c.del;e>0?h-=e:0===h&&(h=1)}return h}(o,i,e);case"STRAND":return o.strand?1:-1;case"START":return o.start;case"TAG":{const e=o.tags()[r];return void 0!==e?vh(e)?bh(e):e:Number.MAX_VALUE}case"READ_NAME":return bh(o.readName);case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"GAP_SIZE":return-o.gapSizeAt(e);case"MATE_CHR":return s=o.mate,s?s.chr===o.chr?Number.MAX_VALUE-1:bh(s.chr):Number.MAX_VALUE;case"MQ":return void 0===o.mq?Number.MAX_VALUE:-o.mq;default:return Number.MAX_VALUE}}}function wh(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function xh(e){const t=[];for(let n of e)for(let e of n.alignments)e instanceof mh?(e.firstAlignment&&t.push(e.firstAlignment),e.secondAlignment&&t.push(e.secondAlignment)):t.push(e);return t}function _h(e,t,n,r){if(e){if(0===e.length)return[];{e.sort(function(e,t){return r?e.scStart-t.scStart:e.start-t.start});const i=e[0];let o=Math.max(t,r?i.scStart:i.start),s=o;const a=[];for(let t of e){const e=r?t.scStart:t.start,n=Math.max(0,e-o);void 0===a[n]&&(a[n]=[]),a[n].push(t)}let l=0,c=0;const h=[],u=2;try{for(;l<e.length;){const e=new yh;for(;s<=n;){let t,i;for(;!t&&s<=n;)i=s-o,void 0===a[i]?++s:t=a[i];if(!t)break;const c=t.pop();0===t.length&&(a[i]=void 0),e.alignments.push(c),s=r?c.scStart+c.scLengthOnRef+u:c.start+c.lengthOnRef+u,++l}if(e.alignments.length>0&&h.push(e),s=o,l===c)break;c=l}}catch(e){throw console.error(e),e}return h}}}class Sh{constructor(e,t,n,r,i,o,s){this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(n),this.length=n-t,this.alleleFreqThreshold=void 0===s?.2:s,this.coverageMap=new Ch(e,t,n,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===r?100:r,this.samplingDepth=void 0===i?1e3:i,this.pairsSupported=void 0===o||o,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new kh(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new Eh}push(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(this.finishBucket(),this.currentBucket=new kh(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))}forEach(e){this.alignments.forEach(e)}finish(){void 0!==this.currentBucket&&this.finishBucket(),this.alignments.sort(function(e,t){return e.start-t.start}),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()}contains(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n}hasDownsampledIntervals(){return this.downsampledIntervals&&this.downsampledIntervals.length>0}finishBucket(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new Ah(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}setViewAsPairs(e){let t;t=e?function(e){const t={},n=[];for(let r of e)for(let e of r.alignments)if(wh(e)){let r=t[e.readName];r?(r.setSecondAlignment(e),t[e.readName]=void 0):(r=new mh(e),t[e.readName]=r,n.push(r))}else n.push(e);return n}(this.packedAlignmentRows):xh(this.packedAlignmentRows),this.packedAlignmentRows=_h(t,this.start,this.end)}setShowSoftClips(e){const t=this.allAlignments();this.packedAlignmentRows=_h(t,this.start,this.end,e)}allAlignments(){const e=[];for(let t of this.packedAlignmentRows)for(let n of t.alignments)e.push(n);return e}getMax(e,t){return this.coverageMap.getMax(e,t)}}class kh{constructor(e,t,n){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=n.samplingDepth,this.pairsSupported=n.pairsSupported,this.downsampledReads=n.downsampledReads,this.pairsCache=n.pairsCache}addAlignment(e){var t,n,r;if(this.pairsSupported&&wh(e)&&(r=this.pairsCache[e.readName]))return r.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&wh(e)?(r=new mh(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments.push(r)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&wh(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),r=new mh(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments[t]=r):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)}}class Ch{constructor(e,t,n,r){this.chr=e,this.bpStart=t,this.length=n-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}getMax(e,t){let n=0;const r=this.coverage.length;for(let i=0;i<r;i++){const r=this.bpStart+i;if(r>t)break;const o=this.coverage[i];r>=e&&o&&(n=Math.max(n,o.total))}return n}incCounts(e){var t=this;if(void 0===e.blocks?n(e):e.blocks.forEach(function(e){n(e)}),e.gaps)for(let n of e.gaps)if("D"===n.type){const e=n.start-t.bpStart;for(let r=e;r<e+n.len;r++)r<0||(this.coverage[r]||(this.coverage[r]=new Th(t.threshold)),this.coverage[r].del++)}if(e.insertions)for(let n of e.insertions){const e=n.start-this.bpStart;e<0||(this.coverage[e]||(this.coverage[e]=new Th(t.threshold)),this.coverage[e].ins++)}function n(n){if("S"===n.type)return;const r=e.seq,i=e.qual,o=n.seqOffset;for(let s=n.start-t.bpStart,a=0;a<n.len;s++,a++){t.coverage[s]||(t.coverage[s]=new Th(t.threshold));const n=null==r?"N":r.charAt(o+a),l=e.strand?"pos"+n:"neg"+n,c=i&&o+a<i.length?i[o+a]:30;t.coverage[s][l]+=1,t.coverage[s]["qual"+n]+=c,t.coverage[s].total+=1,t.coverage[s].qual+=c,t.maximum=Math.max(t.coverage[s].total,t.maximum)}}}}class Th{constructor(e){this.qualityWeight=!0,this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}isMismatch(e){const t=this.threshold*(this.qualityWeight&&this.qual?this.qual:this.total);let n=0;for(let t of["A","T","C","G"])t!==e&&(n+=this.qualityWeight&&this.qual?this["qual"+t]:this["pos"+t]+this["neg"+t]);return n>=t}}class Ah{constructor(e,t,n){this.start=e,this.end=t,this.counts=n}popupData(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]}}class Eh{constructor(e,t){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}push(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}}compute(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}}}const Lh={c:1,C:1,s:2,S:2,i:4,I:4,f:4};class Rh{constructor(){this.hidden=!1}isMapped(){return 0==(4&this.flags)}isPaired(){return 0!=(1&this.flags)}isProperPair(){return 0!=(2&this.flags)}isFirstOfPair(){return 0!=(64&this.flags)}isSecondOfPair(){return 0!=(128&this.flags)}isSecondary(){return 0!=(256&this.flags)}isSupplementary(){return 0!=(2048&this.flags)}isFailsVendorQualityCheck(){return 0!=(512&this.flags)}isDuplicate(){return 0!=(1024&this.flags)}isMateMapped(){return 0==(8&this.flags)}isNegativeStrand(){return 0!=(16&this.flags)}isMateNegativeStrand(){return 0!=(32&this.flags)}tags(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){let t=0;const n=e.length,r={};for(;t<n;){const n=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);t+=2;const o=String.fromCharCode(e[t++]);let s;if("A"===o)s=String.fromCharCode(e[t]),t++;else if("i"===o||"I"===o)s=Mh(e,t),t+=4;else if("c"===o)s=Fh(e,t),t++;else if("C"===o)s=Ph(e,t),t++;else if("s"===o||"S"===o)s=Ih(e,t),t+=2;else if("f"===o)s=Nh(e,t),t+=4;else if("Z"===o)for(s="";;){var i=e[t++];if(0===i)break;s+=String.fromCharCode(i)}else{if("B"!==o){s="Error unknown type: "+o,r[n]=s;break}{const i=String.fromCharCode(e[t++]);let o=Lh[i];if(void 0===o){r[n]=`Error: unknown element type '${i}'`;break}t+=4+Mh(e,t)*o,s="[not shown]"}}r[n]=s}return r}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict}containsLocation(e,t){const n=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=n&&e<=n+r}popupData(e){const t=[];if(e=Math.floor(e),this.insertions){const r=this.seq;for(let i of this.insertions){var n=i.start;if(e===n||e===n-1)return t.push({name:"Insertion",value:r.substr(i.seqOffset,i.len)}),t.push({name:"Location",value:n}),t}}t.push({name:"Read Name",value:this.readName}),t.push("<hr/>"),t.push({name:"Alignment Start",value:St(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:o(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:o(this.isSecondary())}),t.push({name:"Supplementary",value:o(this.isSupplementary())}),t.push({name:"Duplicate",value:o(this.isDuplicate())}),t.push({name:"Failed QC",value:o(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr/>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:o(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr/>");const r=this.tags();let i=!0;for(let e in r)r.hasOwnProperty(e)&&(i?(t.push({name:e,value:r[e],borderTop:!0}),i=!1):t.push({name:e,value:r[e]}));return t.push("<hr/>"),t.push({name:"Genomic Location: ",value:St(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function o(e){return e?"Yes":"No"}}readBaseAt(e){const t=Dh(this.blocks,e);if(t){if("*"===this.seq)return"*";{const n=t.seqIndexAt(e);return this.seq[n]}}}readBaseQualityAt(e){const t=Dh(this.blocks,e);if(t){if("*"===this.qual)return 30;{const n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}}}gapSizeAt(e){if(this.gaps)for(let t of this.gaps)if(e>=t.start&&e<t.start+t.len)return t.len;return 0}}function Dh(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t>=r.start&&t<r.start+r.len)return r}}function Mh(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Ih(e,t){return e[t+1]<<8|e[t]}function Nh(e,t){return new DataView(e.buffer).getFloat32(t)}function Fh(e,t){return new DataView(e.buffer).getInt8(t)}function Ph(e,t){return new DataView(e.buffer).getUint8(t)}class Oh{constructor(e){e&&Object.assign(this,e)}seqIndexAt(e){return Math.floor(e)-this.start+this.seqOffset}}class Bh{constructor(e){e||(e={}),this.vendorFailed=void 0===e.vendorFailed||e.vendorFailed,this.duplicates=void 0===e.duplicates||e.duplicates,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mqThreshold=void 0===e.mqThreshold?0:e.mqThreshold,e.readgroups&&(this.readgroups=new Set(e.readgroups))}pass(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0}}const Hh=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],jh=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],zh=Wh(new Uint8Array([66,65,77,1]),0),Vh=1e4,qh={readHeader:function(e,t,n){return xo.loadArrayBuffer(e,t).then(function(e){var t;return t=Ki(e),qh.decodeBamHeader(t,n)})},decodeBamHeader:function(e,t){var n,r,i,o,s;if((n=Wh(e,0))!==zh)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=Wh(e,4);for(var a=0;a<r;++a)String.fromCharCode(e[a+8]);var l=Wh(e,r+8),c=r+12;for(i={},o=[],s={},a=0;a<l;++a){for(var h=Wh(e,c),u="",f=0;f<h-1;++f)u+=String.fromCharCode(e[c+4+f]);Wh(e,c+h+4),i[u]=a,o[a]=u,t&&(s[t.getChromosomeName(u)]=u),c=c+8+h}return{magicNumber:n,size:c,chrNames:o,chrToIndex:i,chrAliasTable:s}},bam_tag2cigar:function(e,t,n,r,i,o){function s(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==o.length||i.start<0)return!1;for(var a=n+(r+1>>1)+r;a+4<t;){if("CG"===String.fromCharCode(e[a])+String.fromCharCode(e[a+1]))break;var l=String.fromCharCode(e[a+2]);if("B"===l)a+=8+s(l=String.fromCharCode(e[a+3]))*Wh(e,a+4);else if("Z"===l||"H"===l)for(a+=3;0!==e[a++];);else a+=3+s(l)}if(a>=t)return!1;if("B"!==String.fromCharCode(e[a+2])||"I"!==String.fromCharCode(e[a+3]))return!1;var c=Wh(e,a+4),h=a+8;if(h+4*c>t)return!1;var u="",f=0;o.length=0,a=h;for(var d=0;d<c;++d,a+=4){var p=Wh(e,a),g=p>>4,m=jh[15&p];"M"!==m&&"EQ"!==m&&"X"!==m&&"D"!==m&&"N"!==m&&"="!==m||(f+=g),u=u+g+m,o.push({len:g,ltr:m})}return i.cigar=u,i.lengthOnRef=f,!0},decodeBamRecords:function(e,t,n,r,i,o,s,a){for(;t<e.length;){const f=t+Wh(e,t)+4,d=new Rh,p=Wh(e,t+4),g=Wh(e,t+8);if(f>e.length)return void console.log("finished block (no return value");if(p<0){t=f;continue}if(void 0!==i&&(p>i||g>s))return console.log("decodeBamRecords: got to end"),!0;if(void 0!==i&&p<i){t=f;continue}const m=Wh(e,t+12),v=(65280&m)>>8,b=255&m,y=Wh(e,t+16),w=(4294901760&y)>>16,x=65535&y,_=Wh(e,t+20),S=Wh(e,t+24),k=Wh(e,t+28),C=Wh(e,t+32);let T=[];for(let n=0;n<b-1;++n)T.push(String.fromCharCode(e[t+36+n]));T=T.join(""),console.log("readName: "+T);let A=0,E="",L=t+36+b;const R=[];let D;for(let t=0;t<x;++t){var l=Wh(e,L),c=l>>4,h=jh[15&l];"M"!==h&&"EQ"!==h&&"X"!==h&&"D"!==h&&"N"!==h&&"="!==h||(A+=c),E=E+c+h,L+=4,D={len:c,ltr:h},R.push(D)}if(d.chr=r[p],d.start=g,d.flags=w,d.strand=!(16&w),d.readName=T,d.cigar=E,d.lengthOnRef=A,d.fragmentLength=C,d.mq=v,qh.bam_tag2cigar(e,f,L,_,d,R),d.end=d.start+d.lengthOnRef,d.end<o){t=f;continue}let M=[];const I=_+1>>1;for(let t=0;t<I;++t){var u=e[L+t];M.push(Hh[(240&u)>>4]),M.push(Hh[15&u])}M=M.slice(0,_).join(""),L+=I;const N=[];for(let t=0;t<_;++t)N.push(e[L+t]);L+=_,S>=0&&(d.mate={chr:r[S],position:k,strand:!(32&w)}),d.seq=M,d.qual=N,d.tagBA=new Uint8Array(e.buffer.slice(L,f)),this.setPairOrientation(d),(void 0===a||a.pass(d))&&(Uh(d,R),n.push(d)),t=f}},decodeSamRecords:function(e,t,n,r,i,o){var s,a,l,c,h,u,f,d,p,g;for(c=(s=kt(e)).length,!1,a=0;a<c;a++)if(h=s[a].split("\t"),(p=new Rh).chr=h[2],p.start=Number.parseInt(h[3])-1,p.flags=Number.parseInt(h[1]),p.readName=h[0],p.strand=!(16&p.flags),p.mq=Number.parseInt(h[4]),p.cigar=h[5],p.fragmentLength=Number.parseInt(h[8]),p.seq=h[9],"*"!==p.chr&&p.isMapped()&&p.chr===n){if(p.start>i)break;if(d=0,(g=$h(p.cigar)).forEach(function(e){var t=e.len,n=e.ltr;"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(d+=t)}),p.lengthOnRef=d,!(p.start+d<r)){for(u=h[10],p.qual=[],l=0;l<u.length;l++)p.qual[l]=u.charCodeAt(l)-33;p.tagDict=h.length<11?{}:Gh(h.slice(11)),p.isMateMapped()&&(f=h[6],p.mate={chr:"="===f?p.chr:f,position:Number.parseInt(h[7]),strand:!(32&p.flags)}),this.setPairOrientation(p),(void 0===o||o.pass(p))&&(Uh(p,g),t.push(p))}}},setReaderDefaults:function(e,t){e.filter=new Bh(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>Vh&&(console.log("Warning: attempt to set sampling depth > maximum value of 10000"),e.samplingDepth=Vh),t.viewAsPairs?e.pairsSupported=!0:e.pairsSupported=void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",i=" ",o=" ";e.isFirstOfPair()?(i="1",o="2"):e.isSecondOfPair()&&(i="2",o="1");var s=[],a=e.fragmentLength,l=e.end-e.start;if(0===a)a=(e.start<n.position?n.position+l:n.position-l)-e.start;a>0?(s[0]=t,s[1]=i,s[2]=r,s[3]=o):(s[2]=t,s[3]=i,s[0]=r,s[1]=o),e.pairOrientation=s.join("")}}};function Uh(e,t){const n=[];let r,i,o=0,s=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;for(let a of t){let t;switch(a.ltr){case"H":case"P":break;case"S":t=s,e.scLengthOnRef+=a.len,0===n.length&&(e.scStart-=a.len,t-=a.len),n.push(new Oh({start:t,seqOffset:o,len:a.len,type:"S"})),o+=a.len;break;case"N":case"D":void 0===i&&(i=[]),i.push({start:s,len:a.len,type:a.ltr}),s+=a.len;break;case"I":void 0===r&&(r=[]),r.push(new Oh({start:s,len:a.len,seqOffset:o,type:"I"})),o+=a.len;break;case"M":case"EQ":case"=":case"X":n.push(new Oh({start:s,seqOffset:o,len:a.len,type:"M"})),o+=a.len,s+=a.len;break;default:console.log("Error processing cigar element: "+a.len+a.ltr)}}e.blocks=n,e.insertions=r,e.gaps=i}function Wh(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function $h(e){var t,n,r,i,o,s,a,l,c;for(t=[],n=[],o=null,i=e.length,r=0;r<i;r++)s=e.charAt(r),c=void 0,(c=s.charCodeAt(0))>=48&&c<=57?n.push(s):(a=s,l=Number.parseInt(n.join("")),n=[],null!==o&&o.ltr===a?o.len+=l:(o={len:l,ltr:a},t.push(o)));return t}function Gh(e){var t={};return e.forEach(function(e){var n=e.split(":");t[n[0]]=n[2]}),t}class Zh{constructor(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=ya(e.url),qh.setReaderDefaults(this,e)}async readAlignments(e,t,n){if(this.alignmentCache){const r=this.header,i=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,o=this.alignmentCache.queryFeatures(i,t,n),s=new Sh(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold);for(let e of o)s.push(e);return s.finish(),s}if(this.isDataUri){const r=Ki(function(e){const t=e.split(","),n=t[0].split(":")[1];let r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);const i=new Uint8Array(r.length);for(var o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.bamPath).buffer);return this.parseAlignments(r),this.fetchAlignments(e,t,n)}{const r=Ki(await xo.loadArrayBuffer(this.bamPath,pa(this.config)));return this.parseAlignments(r),this.fetchAlignments(e,t,n)}}parseAlignments(e){const t=[];this.header=qh.decodeBamHeader(e),qh.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new Po(t,this.genome)}fetchAlignments(e,t,n){const r=this.header.chrAliasTable.hasOwnProperty(e)?this.header.chrAliasTable[e]:e,i=this.alignmentCache.queryFeatures(r,t,n),o=new Sh(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported);for(let e of i)o.push(e);return o.finish(),o}}class Xh{constructor(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL,qh.setReaderDefaults(this,e)}async readAlignments(e,t,n){console.log("in bamreader.readalignments");const r=(await this.getChrIndex())[this.chrAliasTable.hasOwnProperty(e)?this.chrAliasTable[e]:e],i=new Sh(e,t,n,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold);if(void 0===r)return i;{const e=(await this.getIndex()).blocksForRange(r,t,n);if(!e||0===e.length)return i;for(let s of e){let e;if(0===s.maxv.offset)e=0;else{const t=pa(this.config,{range:{start:s.maxv.block,size:26}});e=Qi(await xo.loadArrayBuffer(this.bamPath,t))}const a=s.minv.block,l={start:a,size:s.maxv.block+e-a+1};var o=Ki(await xo.loadArrayBuffer(this.bamPath,pa(this.config,{range:l})));console.log("loaded chunk");if(qh.decodeBamRecords(o,s.minv.offset,i,this.indexToChr,r,t,n,this.filter)){console.log("done loading chunks");break}}return i.finish(),i}}async getHeader(){if(!this.header){const e=this.genome,t=await this.getIndex();let n;if(t.firstAlignmentBlock){const e=pa(this.config,{range:{start:t.firstAlignmentBlock,size:26}}),r=Qi(await xo.loadArrayBuffer(this.bamPath,e));n=t.firstAlignmentBlock+r}else n=64e3;const r=pa(this.config,{range:{start:0,size:n}});this.header=await qh.readHeader(this.bamPath,r,e)}return this.header}async getIndex(){const e=this.genome;return this.index||(this.index=await ec(this.baiPath,this.config,e)),this.index}async getChrIndex(){if(this.chrToIndex)return this.chrToIndex;{const e=await this.getHeader();return this.chrToIndex=e.chrToIndex,this.indexToChr=e.chrNames,this.chrAliasTable=e.chrAliasTable,this.chrToIndex}}}class Yh{constructor(e,t){this.config=e,this.genome=t;const n={};e.sources.sequences.forEach(function(r){const i=t?t.getChromosomeName(r):r;n[i]=function(e,t,n){const r={url:e.sources.url.replace("$CHR",n)};e.sources.indexURL&&(r.indexURL=e.sources.indexURL.replace("$CHR",n));const i=Object.assign(e,r);return new Xh(i,t)}(e,t,r)}),this.bamReaders=n,qh.setReaderDefaults(this,e)}async readAlignments(e,t,n){if(this.bamReaders.hasOwnProperty(e)){let r=this.bamReaders[e];return await r.readAlignments(e,t,n)}return new Sh(e,t,n)}}const Kh=function(e,t){this.config=e,this.genome=t,qh.setReaderDefaults(this,e)};function Qh(){const e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);{const n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=pa(this.config);return qh.readHeader(n,r,t).then(function(t){return e.header=t,t})}}Kh.prototype.readAlignments=function(e,t,n){var r=this;return Qh.call(r).then(function(i){var o,s;return o=i.chrAliasTable.hasOwnProperty(e)?i.chrAliasTable[e]:e,s=r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+o+":"+t+"-"+n,xo.loadString(s,pa(r.config)).then(function(s){var a;return i.chrToIndex[o],a=new Sh(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),qh.decodeSamRecords(s,a,o,t,n,r.filter),a})})};class Jh extends vc{constructor(e,t){super(e,t),qh.setReaderDefaults(this,e)}async readAlignments(e,t,n){if(!this.header){const e=Ki((await this.readHeaderData()).buffer);this.header=qh.decodeBamHeader(e,this.genome),this.chrAliasTable=new Map;for(let e of Object.keys(this.header.chrAliasTable))this.chrAliasTable.set(e,this.header.chrAliasTable[e])}let r=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e;const i=Ki((await this.readData(r,t,n)).buffer),o=this.header.chrToIndex[e],s=new Sh(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold);return qh.decodeBamRecords(i,this.header.size,s,this.header.chrNames,o,t,n),s.finish(),s}}const eu=eval,tu=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t,n){var r=n(13),i=n(81).f,o=n(107),s=n(3),a=n(15),l=n(20),c=n(24),h=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,u,f,d,p,g,m,v,b=e.target,y=e.global,w=e.stat,x=e.proto,_=y?r:w?r[b]:(r[b]||{}).prototype,S=y?s:s[b]||(s[b]={}),k=S.prototype;for(f in t)n=!o(y?f:b+(w?".":"#")+f,e.forced)&&_&&c(_,f),p=S[f],n&&(g=e.noTargetGet?(v=i(_,f))&&v.value:_[f]),d=n&&g?g:t[f],n&&typeof p==typeof d||(m=e.bind&&n?a(d,r):e.wrap&&n?h(d):x&&"function"==typeof d?a(Function.call,d):d,(e.sham||d&&d.sham||p&&p.sham)&&l(m,"sham",!0),S[f]=m,x&&(c(s,u=b+"Prototype")||l(s,u,{}),s[u][f]=d,e.real&&k&&!k[f]&&l(k,f,d)))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(13),i=n(61),o=n(64),s=n(110),a=r.Symbol,l=i("wks");e.exports=function(e){return l[e]||(l[e]=s&&a[e]||(s?a:o)("Symbol."+e))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(2),i=n(119),o=n(29),s=n(15),a=n(90),l=n(120),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,h,u){var f,d,p,g,m,v,b=s(t,n,h?2:1);if(u)f=e;else{if("function"!=typeof(d=a(e)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,g=o(e.length);g>p;p++)if((m=h?b(r(v=e[p])[0],v[1]):b(e[p]))&&m instanceof c)return m;return new c(!1)}f=d.call(e)}for(;!(v=f.next()).done;)if((m=l(f,b,v.value,h))&&m instanceof c)return m;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r=n(1),i=r(n(7)),o=r(n(32)),s=r(n(27)),a=r(n(33)),l=r(n(265)),c=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}((0,l.default)(Error)),h=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}((0,l.default)(Error)),u=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}(c),f=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}(u),d=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}(c),p=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,a.default)(t,e),t}(c);e.exports={CramBufferOverrunError:f,CramMalformedError:u,CramUnimplementedError:h,CramSizeLimitError:d,CramArgumentError:p}},function(e,t,n){var r=n(196);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,n){var r=n(3),i=n(24),o=n(95),s=n(21).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n="object",r=function(e){return e&&e.Math==Math&&e};e.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof t==n&&t)||Function("return this")()}).call(this,n(23))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(5);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=n(167)},function(e,t,n){var r=n(12);e.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(3);e.exports=function(e){return r[e+"Prototype"]}},function(e,t,n){(function(e){
/*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
         * @license  MIT
         */
var r=n(165),i=n(166),o=n(105);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=a(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var u=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){u=!1;break}if(u)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return q(V(t),e,n,r)}function k(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],h=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u<=n)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=u}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),h=e.slice(t,n),u=0;u<a;++u)if(c[u]!==h[u]){o=c[u],s=h[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return o||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:z(new l(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(23))},function(e,t,n){var r=n(17),i=n(21),o=n(43);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(17),i=n(106),o=n(2),s=n(62),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(4),i=n(142);e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},function(e,t,n){var r=n(3),i=n(13),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(255),i=n(139);function o(t){return e.exports=o=i?r:function(e){return e.__proto__||r(e)},o(t)}e.exports=o},function(e,t,n){var r=n(60),i=n(49);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(83),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){e.exports=n(184)},function(e,t,n){var r=n(185);function i(e,t,n,i,o,s,a){try{var l=e[s](a),c=l.value}catch(e){return void n(e)}l.done?t(c):r.resolve(c).then(i,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new r(function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,l,"next",e)}function l(e){i(s,r,o,a,l,"throw",e)}a(void 0)})}}},function(e,t,n){var r=n(225),i=n(254);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(140),i=n(96);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(21).f,i=n(20),o=n(24),s=n(174),a=n(6)("toStringTag"),l=s!=={}.toString;e.exports=function(e,t,n,c){if(e){var h=n?e:e.prototype;o(h,a)||r(h,a,{configurable:!0,value:t}),c&&l&&i(h,"toString",s)}}},function(e,t,n){e.exports=n(181)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=a(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(70),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var o=n(57);o.inherits=n(47);var s=n(127),a=n(93);o.inherits(u,s);for(var l=i(a.prototype),c=0;c<l.length;c++){var h=l[c];u.prototype[h]||(u.prototype[h]=a.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(1),i=r(n(7)),o=r(n(10)),s=n(9).CramBufferOverrunError,a={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!a[n])throw new TypeError("invalid data type ".concat(n))}return(0,o.default)(e,[{key:"_getBits",value:function(e,t,n){var r=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new s("read error during decoding. the file seems to be truncated.");for(var i=n;i;i-=1)r<<=1,r|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return r}}]),e}();e.exports=l},function(e,t,n){n(168);var r=n(176),i=n(13),o=n(20),s=n(35),a=n(6)("toStringTag");for(var l in r){var c=i[l],h=c&&c.prototype;h&&!h[a]&&o(h,a,l),s[l]=s.Array}},function(e,t,n){var r,i,o,s=n(169),a=n(13),l=n(14),c=n(20),h=n(24),u=n(63),f=n(50),d=a.WeakMap;if(s){var p=new d,g=p.get,m=p.has,v=p.set;r=function(e,t){return v.call(p,e,t),t},i=function(e){return g.call(p,e)||{}},o=function(e){return m.call(p,e)}}else{var b=u("state");f[b]=!0,r=function(e,t){return c(e,b,t),t},i=function(e){return h(e,b)?e[b]:{}},o=function(e){return h(e,b)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),i=n(173),o=n(85),s=n(50),a=n(112),l=n(79),c=n(63)("IE_PROTO"),h=function(){},u=function(){var e,t=l("iframe"),n=o.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[c]=e):n=u(),void 0===t?n:i(n,t)},s[c]=!0},function(e,t,n){var r=n(15),i=n(60),o=n(22),s=n(29),a=n(113),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,h=4==e,u=6==e,f=5==e||u;return function(d,p,g,m){for(var v,b,y=o(d),w=i(y),x=r(p,g,3),_=s(w.length),S=0,k=m||a,C=t?k(d,_):n?k(d,0):void 0;_>S;S++)if((f||S in w)&&(b=x(v=w[S],S,y),e))if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(C,v)}else if(h)return!1;return u?-1:c||h?h:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(187).charAt,i=n(42),o=n(80),s=i.set,a=i.getterFor("String Iterator");o(String,"String",function(e){s(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=a(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})})},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(157),i=n(384),o=n(158);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(111),i=n(85);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(20);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12);e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){var r=n(2),i=n(5),o=n(6)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r=n(5),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(19).Buffer)},function(e,t,n){var r=n(1)(n(76)),i=n(331),o=n(9).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,i=e[r];if(i<128?(n=i,r+=1):i<192?(n=16383&(i<<8|e[r+1]),r+=2):i<224?(n=2097151&(i<<16|e[r+1]<<8|e[r+2]),r+=3):i<240?(n=268435455&(i<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&i)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new o("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.parse(e),o=i.offset,s=i.result;return s._endPosition=o+r,s._size=o-n,s},tinyMemoize:function(e,t){var n=e.prototype[t],i="_memo_".concat(t);e.prototype[t]=function(){var e=this;if(!(i in this)){var t=n.call(this);this[i]=t,r.default.resolve(t).catch(function(){delete e[i]})}return this[i]}},sequenceMD5:function(e){return i(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){var r=n(351),i=n(152),o=n(362);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t,n){var r=n(12),i=n(34),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(13),i=n(171),o=n(4),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(61),i=n(64),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(24),i=n(22),o=n(63),s=n(109),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(34),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(12),i=n(6)("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(38))},function(e,t,n){var r=n(19),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},s={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},function(e,t,n){var r=n(1)(n(7)),i=n(9).CramMalformedError,o=n(74),s=function e(){(0,r.default)(this,e),this.F=void 0,this.C=void 0};function a(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var l={FC:s,AriDecoder:function e(){(0,r.default)(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new s;this.R=null},Symbol:function e(){(0,r.default)(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new i("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new i("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:a,advanceSymbolStep:function(e,t,n){return a(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,i){if((e=r*(e>>i)+(e&(1<<i)-1)-n)<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}};e.exports=l},function(e,t,n){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t,n){e.exports=n(322)},function(e,t,n){e.exports=n(330)},function(e,t,n){e.exports=n(347)},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(13),i=n(14),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(0),i=n(172),o=n(66),s=n(86),a=n(36),l=n(20),c=n(52),h=n(6),u=n(4),f=n(35),d=n(108),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=h("iterator"),v=function(){return this};e.exports=function(e,t,n,h,d,b,y){i(n,t,h);var w,x,_,S=function(e){if(e===d&&E)return E;if(!g&&e in T)return T[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",C=!1,T=e.prototype,A=T[m]||T["@@iterator"]||d&&T[d],E=!g&&A||S(d),L="Array"==t&&T.entries||A;if(L&&(w=o(L.call(new e)),p!==Object.prototype&&w.next&&(u||o(w)===p||(s?s(w,p):"function"!=typeof w[m]&&l(w,m,v)),a(w,k,!0,!0),u&&(f[k]=v))),"values"==d&&A&&"values"!==A.name&&(C=!0,E=function(){return A.call(this)}),u&&!y||T[m]===E||l(T,m,E),f[t]=E,d)if(x={values:S("values"),keys:b?E:S("keys"),entries:S("entries")},y)for(_ in x)!g&&!C&&_ in T||c(T,_,x[_]);else r({target:t,proto:!0,forced:g||C},x);return x}},function(e,t,n){var r=n(17),i=n(65),o=n(43),s=n(28),a=n(62),l=n(24),c=n(106),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=s(e),t=a(t,!0),c)try{return h(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(28),i=n(29),o=n(84),s=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),h=o(s,c);if(e&&n!=n){for(;c>h;)if((a=l[h++])!=a)return!0}else for(;c>h;h++)if((e||h in l)&&l[h]===n)return e||h||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(83),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(2),i=n(175);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(62),i=n(21),o=n(43);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},function(e,t){},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(67),i=n(35),o=n(6)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function u(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,h=g(l,c);for(n=0;n<c;++n)o(h[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(127)).Stream=t,t.Readable=t,t.Writable=n(93),t.Duplex=n(39),t.Transform=n(131),t.PassThrough=n(207)},function(e,t,n){(function(t,r,i){var o=n(70);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;b.WritableState=v;var c=n(57);c.inherits=n(47);var h,u={deprecate:n(206)},f=n(128),d=n(71).Buffer,p=i.Uint8Array||function(){},g=n(129);function m(){}function v(e,t){a=a||n(39),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),k(e,t))}(e,n,r,t,i);else{var s=_(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?l(w,e,n,s,i):w(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(e){if(a=a||n(39),!(h.call(b,this)||this instanceof a))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,u=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,h,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=_(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(b,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===b&&e&&e._writableState instanceof v}})):h=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof p);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,o);return l}(this,i,a,e,t,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(38),n(204).setImmediate,n(23))},function(e,t,n){e.exports=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}},function(e,t,n){t.f=n(6)},function(e,t,n){var r=n(139);function i(t,n){return e.exports=i=r||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t,n){e.exports=n(310)},function(e,t,n){e.exports=n(319)},function(e,t,n){e.exports=n(342)},function(e,t,n){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){e.exports=n(368)},function(e,t,n){e.exports=n(396)},function(e,t,n){e.exports=n(399)},function(e,t,n){var r=n(164);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(17),i=n(12),o=n(79);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(12),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r,i,o,s=n(66),a=n(20),l=n(24),c=n(6),h=n(4),u=c("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),h||l(r,u)||a(r,u,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(12);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(12);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r=n(24),i=n(28),o=n(82).indexOf,s=n(50);e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(26);e.exports=r("document","documentElement")},function(e,t,n){var r=n(14),i=n(53),o=n(6)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(0),i=n(12),o=n(53),s=n(14),a=n(22),l=n(29),c=n(87),h=n(113),u=n(68),f=n(6)("isConcatSpreadable"),d=!i(function(){var e=[];return e[f]=!1,e.concat()[0]!==e}),p=u("concat"),g=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!d||!p},{concat:function(e){var t,n,r,i,o,s=a(this),u=h(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(o=-1===t?s:arguments[t])){if(f+(i=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in o&&c(u,f,o[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(u,f++,o)}return u.length=f,u}})},function(e,t,n){n(88),n(46),n(41),n(188),n(125),n(191);var r=n(3);e.exports=r.Promise},function(e,t,n){var r=n(13);e.exports=r.Promise},function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},function(e,t,n){var r=n(26),i=n(21),o=n(6),s=n(17),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(6),i=n(35),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(6)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r,i,o,s=n(13),a=n(12),l=n(34),c=n(15),h=n(112),u=n(79),f=s.location,d=s.setImmediate,p=s.clearImmediate,g=s.process,m=s.MessageChannel,v=s.Dispatch,b=0,y={},w=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},x=function(e){return function(){w(e)}},_=function(e){w(e.data)},S=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},p=function(e){delete y[e]},"process"==l(g)?r=function(e){g.nextTick(x(e))}:v&&v.now?r=function(e){v.now(x(e))}:m?(o=(i=new m).port2,i.port1.onmessage=_,r=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(S)?r="onreadystatechange"in u("script")?function(e){h.appendChild(u("script")).onreadystatechange=function(){h.removeChild(this),w(e)}}:function(e){setTimeout(x(e),0)}:(r=S,s.addEventListener("message",_,!1))),e.exports={set:d,clear:p}},function(e,t,n){var r=n(26);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(2),i=n(14),o=n(56);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0),i=n(5),o=n(56),s=n(69),a=n(8);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,c=s(function(){var n=i(t.resolve),o=[],s=0,l=1;a(e,function(e){var i=s++,a=!1;o.push(void 0),l++,n.call(t,e).then(function(e){a||(a=!0,o[i]={status:"fulfilled",value:e},--l||r(o))},function(e){a||(a=!0,o[i]={status:"rejected",reason:e},--l||r(o))})}),--l||r(o)});return c.error&&l(c.value),n.promise}})},function(e,t,n){(function(e){var r=n(19).Buffer,i=n(200).Transform,o=n(212),s=n(133),a=n(132).ok,l=n(19).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(o),u=0;u<h.length;u++){var f=h[u];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),g=0;g<p.length;g++){var m=p[g];d[d[m]]=m}function v(e,t,n){var i=[],o=0;function s(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",s)}function a(){var t,s=null;o>=l?s=new RangeError(c):t=r.concat(i,o),i=[],e.close(),n(s,t)}e.on("error",function(t){e.removeListener("end",a),e.removeListener("readable",s),n(t)}),e.on("end",a),e.end(t),s()}function b(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function y(e){if(!(this instanceof y))return new y(e);A.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);A.call(this,e,o.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);A.call(this,e,o.GZIP)}function _(e){if(!(this instanceof _))return new _(e);A.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);A.call(this,e,o.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);A.call(this,e,o.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);A.call(this,e,o.UNZIP)}function T(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function A(e,n){var s=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!T(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!T(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var a=this;this._hadError=!1,this._handle.onerror=function(e,n){E(a),a._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],a.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function E(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function L(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=y,t.Inflate=w,t.Gzip=x,t.Gunzip=_,t.DeflateRaw=S,t.InflateRaw=k,t.Unzip=C,t.createDeflate=function(e){return new y(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new S(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new x(e)},t.createGunzip=function(e){return new _(e)},t.createUnzip=function(e){return new C(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new y(t),e,n)},t.deflateSync=function(e,t){return b(new y(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gzipSync=function(e,t){return b(new x(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.deflateRawSync=function(e,t){return b(new S(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new C(t),e,n)},t.unzipSync=function(e,t){return b(new C(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateSync=function(e,t){return b(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.gunzipSync=function(e,t){return b(new _(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new k(t),e,n)},t.inflateRawSync=function(e,t){return b(new k(t),e)},s.inherits(A,i),A.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var s=this;this.flush(o.Z_SYNC_FLUSH,function(){a(s._handle,"zlib binding closed"),s._handle.params(n,r),s._hadError||(s._level=n,s._strategy=r,i&&i())})}else e.nextTick(i)},A.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},A.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},A.prototype.flush=function(t,n){var i=this,s=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),s.ended?n&&e.nextTick(n):s.ending?n&&this.once("end",n):s.needDrain?n&&this.once("drain",function(){return i.flush(t,n)}):(this._flushFlag=t,this.write(r.alloc(0),"",n))},A.prototype.close=function(t){E(this,t),e.nextTick(L,this)},A.prototype._transform=function(e,t,n){var i,s=this._writableState,a=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||r.isBuffer(e)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},A.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,s=0,h=this,u="function"==typeof n;if(!u){var f,d=[],p=0;this.on("error",function(e){f=e}),a(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,s,i,this._buffer,this._offset,o)}while(!this._hadError&&b(g[0],g[1]));if(this._hadError)throw f;if(p>=l)throw E(this),new RangeError(c);var m=r.concat(d,p);return E(this),m}a(this._handle,"zlib binding closed");var v=this._handle.write(t,e,s,i,this._buffer,this._offset,o);function b(l,c){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var f=o-c;if(a(f>=0,"have should not go down"),f>0){var g=h._buffer.slice(h._offset,h._offset+f);h._offset+=f,u?h.push(g):(d.push(g),p+=g.length)}if((0===c||h._offset>=h._chunkSize)&&(o=h._chunkSize,h._offset=0,h._buffer=r.allocUnsafe(h._chunkSize)),0===c){if(s+=i-l,i=l,!u)return!0;var m=h._handle.write(t,e,s,i,h._buffer,h._offset,h._chunkSize);return m.callback=b,void(m.buffer=e)}if(!u)return!1;n()}}v.buffer=e,v.callback=b},s.inherits(y,A),s.inherits(w,A),s.inherits(x,A),s.inherits(_,A),s.inherits(S,A),s.inherits(k,A),s.inherits(C,A)}).call(this,n(38))},function(e,t,n){(function(t,r){var i=n(70);e.exports=y;var o,s=n(105);y.ReadableState=b,n(91).EventEmitter;var a=function(e,t){return e.listeners(t).length},l=n(128),c=n(71).Buffer,h=t.Uint8Array||function(){},u=n(57);u.inherits=n(47);var f=n(201),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(202),m=n(129);u.inherits(y,l);var v=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(o=o||n(39));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(130).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(39),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,n,r,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}}(e,s)):(i||(o=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):T(e,s)):x(e,s,t,!1))):r||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(130).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),R(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function E(e){d("readable nexttick read 0"),e.read(0)}function L(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):k(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function c(){d("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",p),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())});var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",h);var u=!1,f=!1;function p(t){d("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!u&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){d("onerror",t),b(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),b()}function v(){d("onfinish"),e.removeListener("close",m),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(E,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=D}).call(this,n(23),n(38))},function(e,t,n){e.exports=n(91).EventEmitter},function(e,t,n){var r=n(70);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(71).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=s;var r=n(39),i=n(57);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(47),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){(function(t){var r=n(213);
/*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
         * @license  MIT
         */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(133),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function h(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=b,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(d);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!s.isFunction(e))return s.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||v(e,!0,t,"==",f.ok)}function y(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&h(e)===h(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return y(e=l.call(e),t=l.call(t),n);var a,c,h=S(e),u=S(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;c>=0;c--)if(h[c]!==u[c])return!1;for(c=h.length-1;c>=0;c--)if(!y(e[a=h[c]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&x(i,n)||a)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!x(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(m(e.actual),128)+" "+e.operator+" "+g(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(f.AssertionError,Error),f.fail=v,f.ok=b,f.equal=function(e,t,n){e!=t&&v(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||v(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||v(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&v(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){_(!0,e,t,n)},f.doesNotThrow=function(e,t,n){_(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r(function e(t,n){t||v(t,!0,n,"==",e)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var S=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(23))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])g(l)||!w(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=h(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(S(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return u(n)}var c,w="",k=!1,C=["{","}"];return d(n)&&(k=!0,C=["[","]"]),S(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+u(n)),0!==s.length||k&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=k?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)E(t,String(s))?o.push(f(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}(e,n,r,a,s):s.map(function(t){return f(e,n,r,a,t,k)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,C)):C[0]+w+C[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),E(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===k(e)}function _(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=w,t.isDate=x,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(214);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(215),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t;if("function"!=typeof(t=e[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=L,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(s,null,t)},function(t){e.nextTick(R,t,s)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(38))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},function(e,t,n){n(11)("iterator")},function(e,t,n){var r=n(111),i=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(259)},function(e,t,n){e.exports=n(262)},function(e,t,n){var r=n(50),i=n(14),o=n(24),s=n(21).f,a=n(64),l=n(271),c=a("meta"),h=0,u=Object.isExtensible||function(){return!0},f=function(e){s(e,c,{value:{objectID:"O"+ ++h,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[c].objectID},getWeakData:function(e,t){if(!o(e,c)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[c].weakData},onFreeze:function(e){return l&&d.REQUIRED&&u(e)&&!o(e,c)&&f(e),e}};r[c]=!0},function(e,t,n){var r=n(2),i=n(90);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(298),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},function(e,t,n){var r=n(303),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},function(e,t,n){var r=n(5),i=n(14),o=[].slice,s={},a=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function a(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function l(e,t){if(isNaN(e))return t?b:v;if(t){if(e<0)return b;if(e>=p)return S}else{if(e<=-g)return k;if(e+1>=g)return _}return e<0?l(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=l,r.fromBits=c;var h=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=l(h(n,8)),o=v,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),n);if(a<8){var f=l(h(n,a));o=o.mul(f).add(l(c))}else o=(o=o.mul(i)).add(l(c))}return o.unsigned=t,o}function f(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=f;var d=4294967296,p=d*d,g=p/2,m=a(1<<24),v=a(0);r.ZERO=v;var b=a(0,!0);r.UZERO=b;var y=a(1);r.ONE=y;var w=a(1,!0);r.UONE=w;var x=a(-1);r.NEG_ONE=x;var _=c(-1,2147483647,!1);r.MAX_VALUE=_;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var k=c(0,-2147483648,!1);r.MIN_VALUE=k;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=l(h(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(y)},C.neg=C.negate,C.add=function(e){i(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,h=0,u=0,d=0,p=0;return d+=(p+=o+(65535&e.low))>>>16,u+=(d+=r+l)>>>16,h+=(u+=n+a)>>>16,h+=t+s,c((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(u&=65535),this.unsigned)},C.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=f(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(k))return e.isOdd()?k:v;if(e.eq(k))return this.isOdd()?k:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,h=65535&e.high,u=e.low>>>16,d=65535&e.low,p=0,g=0,b=0,y=0;return b+=(y+=s*d)>>>16,g+=(b+=o*d)>>>16,b&=65535,g+=(b+=s*u)>>>16,p+=(g+=r*d)>>>16,g&=65535,p+=(g+=o*u)>>>16,g&=65535,p+=(g+=s*h)>>>16,p+=t*d+r*u+o*h+s*a,c((b&=65535)<<16|(y&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return w;o=b}else{if(this.eq(k))return e.eq(y)||e.eq(x)?k:e.eq(k)?y:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?y:x:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(k))return this.unsigned?b:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:h(2,s-48),u=l(t),d=u.mul(e);d.isNegative()||d.gt(r);)d=(u=l(t-=a,this.unsigned)).mul(e);u.isZero()&&(u=y),o=o.add(u),r=r.sub(d)}return o},C.div=C.divide,C.modulo=function(e){return i(e)||(e=f(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return i(e)||(e=f(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return i(e)||(e=f(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return i(e)||(e=f(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){e.exports=n(335)},function(e,t,n){var r=n(17),i=n(51),o=n(28),s=n(65).f,a=function(e){return function(t){for(var n,a=o(t),l=i(a),c=l.length,h=0,u=[];c>h;)n=l[h++],r&&!s.call(a,n)||u.push(e?[n,a[n]]:a[n]);return u}};e.exports={entries:a(!0),values:a(!1)}},function(e,t,n){e.exports=n(338)},function(e,t,n){e.exports=n(352)},function(e,t,n){var r=n(355),i=n(153);e.exports=function(e){if(i(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r(e)}},function(e,t,n){e.exports=n(360)},function(e,t,n){e.exports=n(372)},function(e,t,n){var r=n(13),i=n(375).trim,o=n(156),s=r.parseInt,a=/^[+-]?0[Xx]/,l=8!==s(o+"08")||22!==s(o+"0x16");e.exports=l?function(e,t){var n=i(String(e));return s(n,t>>>0||(a.test(n)?16:10))}:s},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(151);e.exports=function(e){if(r(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n(393)},function(e,t,n){var r=n(419),i=n(426),o=n(429);function s(e){var t=r.parse(e),n=t.protocol,s=t.pathname;return"file:"===n?new o(unescape(s)):new i(e)}e.exports={LocalFile:o,RemoteFile:i,fromUrl:s,open:function(e,t,n){if(n)return n;if(e)return s(e);if(t)return new o(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=i;var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=i.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return new n(function(n,i){o.push(function(e){if(e)return i(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(1===o.length||!t)return n(o[0]);var a={};o.forEach(function(e,n){var r=t[n];r&&(a[r]=e)}),n(a)}),e.call.apply(e,[r].concat(o))})}}i.argumentNames=r,i.Promise=void 0},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(449),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")},o=void 0===i().AbortController?r.AbortController:i().AbortController;t.AbortController=o;var s=void 0===i().AbortController?r.AbortSignal:i().AbortSignal;t.AbortSignal=s}).call(this,n(23))},function(e,t,n){var r=n(104),i=n(432),o=n(439);e.exports={CramFile:r,IndexedCramFile:i,CraiIndex:o}},function(e,t,n){(function(t){var r,i=n(1),o=i(n(16)),s=i(n(37)),a=i(n(30)),l=i(n(31)),c=i(n(7)),h=i(n(10)),u=n(126),f=n(224),d=n(94),p=n(9),g=p.CramUnimplementedError,m=p.CramMalformedError,v=n(309),b=n(318),y=b.cramFileDefinition,w=b.getSectionParsers,x=n(329),_=n(160).open,S=n(58),k=S.parseItem,C=S.tinyMemoize,T=n(430).parseHeaderText,A=function(){function e(t){(0,c.default)(this,e),this.file=_(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new d({maxSize:this.options.cacheSize})}var n,r,i,o,p,b,S,C,A,E;return(0,h.default)(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(E=(0,l.default)(a.default.mark(function e(){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(y.maxLength),e.next=3,this.file.read(n,0,y.maxLength,0);case 3:if(2===(r=y.parser.parse(n).result).majorVersion||3===r.majorVersion){e.next=6;break}throw new g("CRAM version ".concat(r.majorVersion," not supported"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"getSamHeader",value:(A=(0,l.default)(a.default.mark(function e(){var t,n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new m("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return n=e.sent,r=n.content,i=r.readInt32LE(0),o=r.toString("utf8",4,4+i),this.header=o,e.abrupt("return",T(o));case 14:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"getHeaderText",value:(C=(0,l.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSamHeader();case 2:return e.abrupt("return",this.header);case 3:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"getSectionParsers",value:(S=(0,l.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.abrupt("return",w(n));case 5:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"getContainerById",value:(b=(0,l.default)(a.default.mark(function e(t){var n,r,i,o,s,l,c,h,u,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return n=e.sent,r=n.cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent,o=i.size,s=n.cramContainerHeader1,c=0;case 10:if(!(c<=t)){e.next=36;break}if(!(r+s.maxLength+8>=o)){e.next=13;break}return e.abrupt("return",void 0);case 13:return l=this.getContainerAtPosition(r),e.next=16,l.getHeader();case 16:if(h=e.sent){e.next=19;break}throw new m("container ".concat(t," not found in file"));case 19:if(0!==c){e.next=32;break}r=h._endPosition,u=0;case 22:if(!(u<h.numBlocks)){e.next=30;break}return e.next=25,this.readBlock(r);case 25:f=e.sent,r=f._endPosition;case 27:u+=1,e.next=22;break;case 30:e.next=33;break;case 32:r+=h._size+h.length;case 33:c+=1,e.next=10;break;case 36:return e.abrupt("return",l);case 37:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"checkCrc32",value:(p=(0,l.default)(a.default.mark(function e(n,r,i,o){var l,c,h,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.allocUnsafe(r),e.next=3,this.file.read(l,0,r,n);case 3:if((c=f.unsigned(l))===i){e.next=6;break}throw new m((0,s.default)(h=(0,s.default)(u="crc mismatch in ".concat(o,": recorded CRC32 = ")).call(u,i,", but calculated CRC32 = ")).call(h,c));case 6:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return p.apply(this,arguments)})},{key:"containerCount",value:(o=(0,l.default)(a.default.mark(function e(){var t,n,r,i,o,s,l,c,h;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent,r=n.size,i=t.cramContainerHeader1,o=0,s=t.cramFileDefinition.maxLength;case 10:if(!(s+i.maxLength+8<r)){e.next=33;break}return e.next=13,this.getContainerAtPosition(s).getHeader();case 13:if(l=e.sent){e.next=16;break}return e.abrupt("break",33);case 16:if(0!==o){e.next=29;break}s=l._endPosition,c=0;case 19:if(!(c<l.numBlocks)){e.next=27;break}return e.next=22,this.readBlock(s);case 22:h=e.sent,s=h._endPosition;case 24:c+=1,e.next=19;break;case 27:e.next=30;break;case 29:s+=l._size+l.length;case 30:o+=1,e.next=10;break;case 33:return e.abrupt("return",o);case 34:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new x(this,e)}},{key:"readBlockHeader",value:(i=(0,l.default)(a.default.mark(function e(n){var r,i,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent,i=r.cramBlockHeader,e.next=6,this.file.stat();case 6:if(o=e.sent,s=o.size,!(n+i.maxLength>=s)){e.next=10;break}return e.abrupt("return",void 0);case 10:return l=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(l,0,i.maxLength,n);case 13:return e.abrupt("return",k(l,i.parser,0,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_parseSection",value:(r=(0,l.default)(a.default.mark(function e(n,r){var i,o,l,c,h,u,f,d=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.length>2&&void 0!==d[2]?d[2]:n.maxLength,!(l=d.length>3?d[3]:void 0)){e.next=6;break}c=l,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(h=e.sent,u=h.size,!(r+o>=u)){e.next=12;break}return e.abrupt("return",void 0);case 12:return c=t.allocUnsafe(o),e.next=15,this.file.read(c,0,o,r);case 15:if((f=k(c,n.parser,0,r))._size===o){e.next=18;break}throw new m((0,s.default)(i="section read error: requested size ".concat(o," does not equal parsed size ")).call(i,f._size));case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)u.gunzipSync(t).copy(n);else{if("rans"!==e)throw new g("".concat(e," decompression not yet implemented"));v.uncompress(t,n)}}},{key:"readBlock",value:(n=(0,l.default)(a.default.mark(function e(n){var r,i,o,s,l,c,h,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return r=e.sent,i=r.majorVersion,e.next=6,this.getSectionParsers();case 6:return o=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(s=e.sent,l=s._endPosition,s.contentPosition=s._endPosition,c=t.allocUnsafe(s.uncompressedSize),"raw"===s.compressionMethod){e.next=20;break}return h=t.allocUnsafe(s.compressedSize),e.next=17,this.read(h,0,s.compressedSize,l);case 17:this._uncompress(s.compressionMethod,h,c),e.next=22;break;case 20:return e.next=22,this.read(c,0,s.uncompressedSize,l);case 22:if(s.content=c,!(i>=3)){e.next=35;break}return e.next=26,this._parseSection(o.cramBlockCrc32,l+s.compressedSize);case 26:if(u=e.sent,s.crc32=u.crc32,!this.validateChecksums){e.next=31;break}return e.next=31,this.checkCrc32(n,s._size+s.compressedSize,s.crc32,"block data");case 31:s._endPosition=u._endPosition,s._size=s.compressedSize+o.cramBlockCrc32.maxLength,e.next=37;break;case 35:s._endPosition=l+s.compressedSize,s._size=s.compressedSize;case 37:return e.abrupt("return",s);case 38:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();(0,o.default)(r="getDefinition getSectionParsers getSamHeader".split(" ")).call(r,function(e){return C(A,e)}),e.exports=A}).call(this,n(19).Buffer)},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),h=0,u=a>0?s-4:s;for(n=0;n<u;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[h++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?i-1:0,f=n?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+u],u+=f,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,h=(1<<c)-1,u=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*l-1)*Math.pow(2,i),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},function(e,t,n){n(41);var r=n(177),i=n(67),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===o||e instanceof Array&&t===o.forEach||s.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(28),i=n(78),o=n(35),s=n(42),a=n(80),l=s.set,c=s.getterFor("Array Iterator");e.exports=a(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(13),i=n(170),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},function(e,t,n){var r=n(61);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r=n(13),i=n(20);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(108).IteratorPrototype,i=n(44),o=n(43),s=n(36),a=n(35),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},function(e,t,n){var r=n(17),i=n(21),o=n(2),s=n(51);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,l=0;a>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(67),i={};i[n(6)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=n(178)},function(e,t,n){n(179);var r=n(18);e.exports=r("Array").forEach},function(e,t,n){var r=n(0),i=n(180);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){var r=n(45).forEach,i=n(54);e.exports=i("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){e.exports=n(182)},function(e,t,n){var r=n(183),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?r:t}},function(e,t,n){n(114);var r=n(18);e.exports=r("Array").concat},function(e,t,n){var r=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new A(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?d:u,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",u="suspendedYield",f="executing",d="completed",p={};function g(){}function m(){}function v(){}var b={};b[o]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(E([])));w&&w!==n&&r.call(w,o)&&(b=w);var x=v.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e,t){var n;this._invoke=function(i,o){function s(){return new t(function(n,s){!function n(i,o,s,a){var l=c(e[i],e,o);if("throw"!==l.type){var h=l.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,s,a)},function(e){n("throw",e,s,a)}):t.resolve(u).then(function(e){h.value=e,s(h)},function(e){return n("throw",e,s,a)})}a(l.arg)}(i,o,n,s)})}return n=n?n.then(s,s):s()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:L}}function L(){return{value:t,done:!0}}return m.prototype=x.constructor=v,v.constructor=m,v[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},_(x),x[a]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){e.exports=n(186)},function(e,t,n){e.exports=n(115),n(192),n(193),n(194),n(195)},function(e,t,n){var r=n(83),i=n(49),o=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){var r,i,o,s,a=n(0),l=n(4),c=n(13),h=n(3),u=n(116),f=n(52),d=n(117),p=n(36),g=n(118),m=n(14),v=n(5),b=n(89),y=n(34),w=n(8),x=n(121),_=n(55),S=n(122).set,k=n(189),C=n(124),T=n(190),A=n(56),E=n(69),L=n(123),R=n(42),D=n(107),M=n(6)("species"),I="Promise",N=R.get,F=R.set,P=R.getterFor(I),O=u,B=c.TypeError,H=c.document,j=c.process,z=c.fetch,V=j&&j.versions,q=V&&V.v8||"",U=A.f,W=U,$="process"==y(j),G=!!(H&&H.createEvent&&c.dispatchEvent),Z=D(I,function(){var e=O.resolve(1),t=function(){},n=(e.constructor={})[M]=function(e){e(t,t)};return!(($||"function"==typeof PromiseRejectionEvent)&&(!l||e.finally)&&e.then(t)instanceof n&&0!==q.indexOf("6.6")&&-1===L.indexOf("Chrome/66"))}),X=Z||!x(function(e){O.all(e).catch(function(){})}),Y=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;k(function(){for(var i=t.value,o=1==t.state,s=0;r.length>s;){var a,l,c,h=r[s++],u=o?h.ok:h.fail,f=h.resolve,d=h.reject,p=h.domain;try{u?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===u?a=i:(p&&p.enter(),a=u(i),p&&(p.exit(),c=!0)),a===h.promise?d(B("Promise-chain cycle")):(l=Y(a))?l.call(a,f,d):f(a)):d(i)}catch(e){p&&!c&&p.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)})}},Q=function(e,t,n){var r,i;G?((r=H.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&T("Unhandled promise rejection",n)},J=function(e,t){S.call(c,function(){var n,r=t.value;if(ee(t)&&(n=E(function(){$?j.emit("unhandledRejection",r,e):Q("unhandledrejection",e,r)}),t.rejection=$||ee(t)?2:1,n.error))throw n.value})},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){S.call(c,function(){$?j.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)})},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,K(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw B("Promise can't be resolved itself");var i=Y(n);i?k(function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}}):(t.value=n,t.state=1,K(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};Z&&(O=function(e){b(this,O,I),v(e),r.call(this);var t=N(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){F(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(O.prototype,{then:function(e,t){var n=P(this),r=U(_(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=$?j.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},A.f=U=function(e){return e===O||e===o?new i(e):W(e)},l||"function"!=typeof u||(s=u.prototype.then,f(u.prototype,"then",function(e,t){var n=this;return new O(function(e,t){s.call(n,e,t)}).then(e,t)}),"function"==typeof z&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(O,z.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:Z},{Promise:O}),p(O,I,!1,!0),g(I),o=h.Promise,a({target:I,stat:!0,forced:Z},{reject:function(e){var t=U(this);return t.reject.call(void 0,e),t.promise}}),a({target:I,stat:!0,forced:l||Z},{resolve:function(e){return C(l&&this===o?O:this,e)}}),a({target:I,stat:!0,forced:X},{all:function(e){var t=this,n=U(t),r=n.resolve,i=n.reject,o=E(function(){var n=v(t.resolve),o=[],s=0,a=1;w(e,function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then(function(e){c||(c=!0,o[l]=e,--a||r(o))},i)}),--a||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=U(t),r=n.reject,i=E(function(){var i=v(t.resolve);w(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},function(e,t,n){var r,i,o,s,a,l,c,h,u=n(13),f=n(81).f,d=n(34),p=n(122).set,g=n(123),m=u.MutationObserver||u.WebKitMutationObserver,v=u.process,b=u.Promise,y="process"==d(v),w=f(u,"queueMicrotask"),x=w&&w.value;x||(r=function(){var e,t;for(y&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},y?s=function(){v.nextTick(r)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(a=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),s=function(){l.data=a=!a}):b&&b.resolve?(c=b.resolve(void 0),h=c.then,s=function(){h.call(c,r)}):s=function(){p.call(u,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var r=n(0),i=n(4),o=n(116),s=n(26),a=n(55),l=n(124),c=n(52);r({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=a(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){var r=n(0),i=n(66),o=n(86),s=n(44),a=n(43),l=n(8),c=n(20),h=function(e,t){var n=this;if(!(n instanceof h))return new h(e,t);o&&(n=o(new Error(t),i(n)));var r=[];return l(e,r.push,r),c(n,"errors",r),void 0!==t&&c(n,"message",String(t)),n};h.prototype=s(Error.prototype,{constructor:a(5,h),name:a(5,"AggregateError")}),r({global:!0},{AggregateError:h})},function(e,t,n){n(125)},function(e,t,n){var r=n(0),i=n(56),o=n(69);r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){var r=n(0),i=n(5),o=n(26),s=n(56),a=n(69),l=n(8);r({target:"Promise",stat:!0},{any:function(e){var t=this,n=s.f(t),r=n.resolve,c=n.reject,h=a(function(){var n=i(t.resolve),s=[],a=0,h=1,u=!1;l(e,function(e){var i=a++,l=!1;s.push(void 0),h++,n.call(t,e).then(function(e){l||u||(u=!0,r(e))},function(e){l||u||(l=!0,s[i]=e,--h||c(new(o("AggregateError"))(s,"No one promise resolved")))})}),--h||c(new(o("AggregateError"))(s,"No one promise resolved"))});return h.error&&c(h.value),n.promise}})},function(e,t,n){e.exports=n(197)},function(e,t,n){e.exports=n(198)},function(e,t,n){n(199);var r=n(3).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},function(e,t,n){var r=n(0),i=n(17);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(21).f})},function(e,t,n){e.exports=i;var r=n(91).EventEmitter;function i(){r.call(this)}n(47)(i,r),i.Readable=n(92),i.Writable=n(208),i.Duplex=n(209),i.Transform=n(210),i.PassThrough=n(211),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(h(),0===r.listenerCount(this,"error"))throw e}function h(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return n.on("error",c),e.on("error",c),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(71).Buffer,i=n(203);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,n=s,o.data.copy(t,n),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(205),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,s,a,l=1,c={},h=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{d(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(23),n(38))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(23))},function(e,t,n){e.exports=o;var r=n(131),i=n(57);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(47),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(93)},function(e,t,n){e.exports=n(39)},function(e,t,n){e.exports=n(92).Transform},function(e,t,n){e.exports=n(92).PassThrough},function(e,t,n){(function(e,r){var i=n(132),o=n(216),s=n(217),a=n(220),l=n(223);for(var c in l)t[c]=l[c];function h(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||a.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,n,r,i,o,s){return this._write(!0,e,t,n,r,i,o,s)},h.prototype.writeSync=function(e,t,n,r,i,o,s){return this._write(!1,e,t,n,r,i,o,s)},h.prototype._write=function(n,o,s,a,l,c,h,u){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=e.alloc(0),l=0,a=0),this.strm.avail_in=l,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=u,this.strm.output=c,this.strm.next_out=h,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return r.nextTick(function(){f._process(),f._after()}),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,n,r,o,s){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,o,s),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,n,r,i,l){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=s.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h}).call(this,n(19).Buffer,n(38))},function(e,t,n){
/*
      object-assign
      (c) Sindre Sorhus
      @license MIT
      */
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=s(e),c=1;c<arguments.length;c++){for(var h in n=Object(arguments[c]))i.call(n,h)&&(l[h]=n[h]);if(r){a=r(n);for(var u=0;u<a.length;u++)o.call(n,a[u])&&(l[a[u]]=n[a[u]])}}return l}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(72),o=n(218),s=n(134),a=n(135),l=n(219),c=-2,h=258,u=262,f=103,d=113,p=666;function g(e,t){return e.msg=l[t],t}function m(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function b(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,b(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,c=e.window,f=e.w_mask,d=e.prev,p=e.strstart+h,g=c[o+s-1],m=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===m&&c[n+s-1]===g&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(r=h-(p-o),o=p-h,r>s){if(e.match_start=t,s=r,r>=a)break;g=c[o+s-1],m=c[o+s]}}}while((t=d[t&f])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function S(e){var t,n,r,o,l,c,h,f,d,p,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-u)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);o+=g}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,f=e.strstart+e.lookahead,d=o,p=void 0,(p=c.avail_in)>d&&(p=d),n=0===p?0:(c.avail_in-=p,i.arraySet(h,c.input,c.next_in,p,f),1===c.state.wrap?c.adler=s(c.adler,h,p,f):2===c.state.wrap&&(c.adler=a(c.adler,h,p,f)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function k(e,t){for(var n,r;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-u&&(e.match_length=_(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-u&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function T(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):g(e,c)}function L(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function R(e,t,n,r,o,s){if(!e)return c;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||s<0||s>4)return g(e,c);8===r&&(r=9);var l=new A;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,L(e)}r=[new T(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)}),new T(4,4,8,4,k),new T(4,5,16,8,k),new T(4,6,32,32,k),new T(4,4,16,16,C),new T(8,16,32,32,C),new T(8,16,128,128,C),new T(8,32,128,256,C),new T(32,128,258,1024,C),new T(32,258,258,4096,C)],t.deflateInit=function(e,t){return R(e,t,8,15,8,0)},t.deflateInit2=R,t.deflateReset=L,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||t>5||t<0)return e?g(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:c);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=d);else{var u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=d,x(i,u),0!==i.strstart&&(x(i,e.adler>>>16),x(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),b(e),s=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),b(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),b(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&b(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(b(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(n)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var _=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=h){if(S(e),e.lookahead<=h&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+h;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=h-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==_&&4!==_||(i.status=p),1===_||3===_)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),b(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(x(i,e.adler>>>16),x(i,65535&e.adler)),b(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==d&&t!==p?g(e,c):(e.state=null,t===d?g(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,r,o,a,l,h,u,f,d=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,h=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=h,e.input=u,e.avail_in=l,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(72);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,s=286,a=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var p=new Array(60);i(p);var g=new Array(512);i(g);var m=new Array(256);i(m);var v=new Array(29);i(v);var b,y,w,x=new Array(a);function _(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?g[e]:g[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function A(e,t,n){T(e,n[2*t],n[2*t+1])}function E(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function L(e,t,n){var r,i,o=new Array(16),s=0;for(r=1;r<=l;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=E(o[a]++,a))}}function R(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function D(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function M(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function I(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&M(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!M(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function N(e,t,n){var r,i,s,a,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?A(e,i,t):(A(e,(s=m[i])+o+1,t),0!==(a=c[s])&&T(e,i-=v[s],a),A(e,s=k(--r),n),0!==(a=h[s])&&T(e,r-=x[s],a))}while(l<e.last_lit);A(e,256,t)}function F(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,h=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=h=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=h<2?++h:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=h,n=e.heap_len>>1;n>=1;n--)I(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,I(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,c=t.dyn_tree,h=t.max_code,u=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,m++),c[2*r+1]=o,r>h||(e.bl_count[o]++,s=0,r>=p&&(s=d[r-p]),a=c[2*r],e.opt_len+=a*(o+s),f&&(e.static_len+=a*(u[2*r+1]+s)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>h||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),L(o,h,e.bl_count)}function P(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))}function O(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{A(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(A(e,i,e.bl_tree),a--),A(e,16,e.bl_tree),T(e,a-3,2)):a<=10?(A(e,17,e.bl_tree),T(e,a-3,3)):(A(e,18,e.bl_tree),T(e,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}}i(x);var B=!1;function H(e,t,n,i){T(e,0+(i?1:0),3),function(e,t,n,i){D(e),C(e,n),C(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){B||(function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(v[r]=n,e=0;e<1<<c[r];e++)m[n++]=r;for(m[n-1]=r,i=0,r=0;r<16;r++)for(x[r]=i,e=0;e<1<<h[r];e++)g[i++]=r;for(i>>=7;r<a;r++)for(x[r]=i<<7,e=0;e<1<<h[r]-7;e++)g[256+i++]=r;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,o[8]++;for(;e<=255;)d[2*e+1]=9,e++,o[9]++;for(;e<=279;)d[2*e+1]=7,e++,o[7]++;for(;e<=287;)d[2*e+1]=8,e++,o[8]++;for(L(d,287,o),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=E(e,5);b=new _(d,c,257,s,l),y=new _(p,h,0,a,l),w=new _(new Array(0),u,0,19,7)}(),B=!0),e.l_desc=new S(e.dyn_ltree,b),e.d_desc=new S(e.dyn_dtree,y),e.bl_desc=new S(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,R(e)},t._tr_stored_block=H,t._tr_flush_block=function(e,t,n,r){var i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),F(e,e.l_desc),F(e,e.d_desc),a=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?H(e,t,n,r):4===e.strategy||s===i?(T(e,2+(r?1:0),3),N(e,d,p)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*f[i]+1],3);O(e,e.dyn_ltree,t-1),O(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),R(e),r&&D(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+o+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),A(e,256,d),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(72),i=n(134),o=n(135),s=n(221),a=n(222),l=-2,c=12,h=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):l}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):l}function m(e,t){var n,r;return e?(r=new f,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):l}var v,b,y=!0;function w(e){if(y){var t;for(v=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,b,0,e.work,{bits:5}),y=!1}e.lencode=v,e.lenbits=9,e.distcode=b,e.distbits=5}function x(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=d,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var n,f,d,p,g,m,v,b,y,_,S,k,C,T,A,E,L,R,D,M,I,N,F,P,O=0,B=new r.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===c&&(n.mode=13),g=e.next_out,d=e.output,v=e.avail_out,p=e.next_in,f=e.input,m=e.avail_in,b=n.hold,y=n.bits,_=m,S=v,N=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(2&n.wrap&&35615===b){n.check=0,B[0]=255&b,B[1]=b>>>8&255,n.check=o(n.check,B,2,0),b=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=h;break}if(8!=(15&b)){e.msg="unknown compression method",n.mode=h;break}if(y-=4,I=8+(15&(b>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=h;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&b?10:c,b=0,y=0;break;case 2:for(;y<16;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(n.flags=b,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=h;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=h;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(B[0]=255&b,B[1]=b>>>8&255,n.check=o(n.check,B,2,0)),b=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.head&&(n.head.time=b),512&n.flags&&(B[0]=255&b,B[1]=b>>>8&255,B[2]=b>>>16&255,B[3]=b>>>24&255,n.check=o(n.check,B,4,0)),b=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(B[0]=255&b,B[1]=b>>>8&255,n.check=o(n.check,B,2,0)),b=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(B[0]=255&b,B[1]=b>>>8&255,n.check=o(n.check,B,2,0)),b=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>m&&(k=m),k&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,p,k,I)),512&n.flags&&(n.check=o(n.check,f,k,p)),m-=k,p+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;k=0;do{I=f[p+k++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I))}while(I&&k<m);if(512&n.flags&&(n.check=o(n.check,f,k,p)),m-=k,p+=k,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;k=0;do{I=f[p+k++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I))}while(I&&k<m);if(512&n.flags&&(n.check=o(n.check,f,k,p)),m-=k,p+=k,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=h;break}b=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;y<32;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}e.adler=n.check=u(b),b=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=b,n.bits=y,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}switch(n.last=1&b,y-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){b>>>=2,y-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=h}b>>>=2,y-=2;break;case 14:for(b>>>=7&y,y-=7&y;y<32;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=h;break}if(n.length=65535&b,b=0,y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>m&&(k=m),k>v&&(k=v),0===k)break e;r.arraySet(d,f,p,k,g),m-=k,p+=k,v-=k,g+=k,n.length-=k;break}n.mode=c;break;case 17:for(;y<14;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(n.nlen=257+(31&b),b>>>=5,y-=5,n.ndist=1+(31&b),b>>>=5,y-=5,n.ncode=4+(15&b),b>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=h;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.lens[H[n.have++]]=7&b,b>>>=3,y-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},N=a(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,N){e.msg="invalid code lengths set",n.mode=h;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(O=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,L=65535&O,!((A=O>>>24)<=y);){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(L<16)b>>>=A,y-=A,n.lens[n.have++]=L;else{if(16===L){for(P=A+2;y<P;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(b>>>=A,y-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=h;break}I=n.lens[n.have-1],k=3+(3&b),b>>>=2,y-=2}else if(17===L){for(P=A+3;y<P;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}y-=A,I=0,k=3+(7&(b>>>=A)),b>>>=3,y-=3}else{for(P=A+7;y<P;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}y-=A,I=0,k=11+(127&(b>>>=A)),b>>>=7,y-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=h;break}for(;k--;)n.lens[n.have++]=I}}if(n.mode===h)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=h;break}if(n.lenbits=9,F={bits:n.lenbits},N=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,N){e.msg="invalid literal/lengths set",n.mode=h;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},N=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,N){e.msg="invalid distances set",n.mode=h;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(m>=6&&v>=258){e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=b,n.bits=y,s(e,S),g=e.next_out,d=e.output,v=e.avail_out,p=e.next_in,f=e.input,m=e.avail_in,b=n.hold,y=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;E=(O=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,L=65535&O,!((A=O>>>24)<=y);){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(E&&0==(240&E)){for(R=A,D=E,M=L;E=(O=n.lencode[M+((b&(1<<R+D)-1)>>R)])>>>16&255,L=65535&O,!(R+(A=O>>>24)<=y);){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}b>>>=R,y-=R,n.back+=R}if(b>>>=A,y-=A,n.back+=A,n.length=L,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=c;break}if(64&E){e.msg="invalid literal/length code",n.mode=h;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(P=n.extra;y<P;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(O=n.distcode[b&(1<<n.distbits)-1])>>>16&255,L=65535&O,!((A=O>>>24)<=y);){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(0==(240&E)){for(R=A,D=E,M=L;E=(O=n.distcode[M+((b&(1<<R+D)-1)>>R)])>>>16&255,L=65535&O,!(R+(A=O>>>24)<=y);){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}b>>>=R,y-=R,n.back+=R}if(b>>>=A,y-=A,n.back+=A,64&E){e.msg="invalid distance code",n.mode=h;break}n.offset=L,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(P=n.extra;y<P;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=h;break}n.mode=25;case 25:if(0===v)break e;if(k=S-v,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=h;break}k>n.wnext?(k-=n.wnext,C=n.wsize-k):C=n.wnext-k,k>n.length&&(k=n.length),T=n.window}else T=d,C=g-n.offset,k=n.length;k>v&&(k=v),v-=k,n.length-=k;do{d[g++]=T[C++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;d[g++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===m)break e;m--,b|=f[p++]<<y,y+=8}if(S-=v,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?o(n.check,d,S,g-S):i(n.check,d,S,g-S)),S=v,(n.flags?b:u(b))!==n.check){e.msg="incorrect data check",n.mode=h;break}b=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===m)break e;m--,b+=f[p++]<<y,y+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=h;break}b=0,y=0}n.mode=29;case 29:N=1;break e;case h:N=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=b,n.bits=y,(n.wsize||S!==e.avail_out&&n.mode<h&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,S-=e.avail_out,e.total_in+=_,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?o(n.check,d,S,e.next_out-S):i(n.check,d,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===S||4===t)&&0===N&&(N=-5),N)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,o,s,a,l,c,h,u,f,d,p,g,m,v,b,y,w,x,_,S,k,C,T;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,h=n.whave,u=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),y=g[d&v];t:for(;;){if(d>>>=w=y>>>24,p-=w,0==(w=y>>>16&255))T[o++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&y,(w&=15)&&(p<w&&(d+=C[r++]<<p,p+=8),x+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),y=m[d&b];n:for(;;){if(d>>>=w=y>>>24,p-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=m[(65535&y)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&y,p<(w&=15)&&(d+=C[r++]<<p,(p+=8)<w&&(d+=C[r++]<<p,p+=8)),(_+=d&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,_>(w=o-s)){if((w=_-w)>h&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,k=f,0===u){if(S+=c-w,w<x){x-=w;do{T[o++]=f[S++]}while(--w);S=o-_,k=T}}else if(u<w){if(S+=c+u-w,(w-=u)<x){x-=w;do{T[o++]=f[S++]}while(--w);if(S=0,u<x){x-=w=u;do{T[o++]=f[S++]}while(--w);S=o-_,k=T}}}else if(S+=u-w,w<x){x-=w;do{T[o++]=f[S++]}while(--w);S=o-_,k=T}for(;x>2;)T[o++]=k[S++],T[o++]=k[S++],T[o++]=k[S++],x-=3;x&&(T[o++]=k[S++],x>1&&(T[o++]=k[S++]))}else{S=o-_;do{T[o++]=T[S++],T[o++]=T[S++],T[o++]=T[S++],x-=3}while(x>2);x&&(T[o++]=T[S++],x>1&&(T[o++]=T[S++]))}break}}break}}while(r<i&&o<a);r-=x=p>>3,d&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},function(e,t,n){var r=n(72),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,h,u,f){var d,p,g,m,v,b,y,w,x,_=f.bits,S=0,k=0,C=0,T=0,A=0,E=0,L=0,R=0,D=0,M=0,I=null,N=0,F=new r.Buf16(16),P=new r.Buf16(16),O=null,B=0;for(S=0;S<=15;S++)F[S]=0;for(k=0;k<l;k++)F[t[n+k]]++;for(A=_,T=15;T>=1&&0===F[T];T--);if(A>T&&(A=T),0===T)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(C=1;C<T&&0===F[C];C++);for(A<C&&(A=C),R=1,S=1;S<=15;S++)if(R<<=1,(R-=F[S])<0)return-1;if(R>0&&(0===e||1!==T))return-1;for(P[1]=0,S=1;S<15;S++)P[S+1]=P[S]+F[S];for(k=0;k<l;k++)0!==t[n+k]&&(u[P[t[n+k]]++]=k);if(0===e?(I=O=u,b=19):1===e?(I=i,N-=257,O=o,B-=257,b=256):(I=s,O=a,b=-1),M=0,k=0,S=C,v=h,E=A,L=0,g=-1,m=(D=1<<A)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){y=S-L,u[k]<b?(w=0,x=u[k]):u[k]>b?(w=O[B+u[k]],x=I[N+u[k]]):(w=96,x=0),d=1<<S-L,C=p=1<<E;do{c[v+(M>>L)+(p-=d)]=y<<24|w<<16|x|0}while(0!==p);for(d=1<<S-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,k++,0==--F[S]){if(S===T)break;S=t[n+u[k]]}if(S>A&&(M&m)!==g){for(0===L&&(L=A),v+=C,R=1<<(E=S-L);E+L<T&&!((R-=F[E+L])<=0);)E++,R<<=1;if(D+=1<<E,1===e&&D>852||2===e&&D>592)return 1;c[g=M&m]=A<<24|E<<16|v-h|0}}return 0!==M&&(c[v+M]=S-L<<24|64<<16|0),f.bits=A,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(19).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,s=0;s<e.length;s++)n=i[255&(n^e[s])]^n>>>8;return-1^n}function a(){return e=s.apply(null,arguments),(t=o(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),a.signed=function(){return s.apply(null,arguments)},a.unsigned=function(){return s.apply(null,arguments)>>>0},e.exports=a},function(e,t,n){var r=n(226),i=n(229);function o(e){return(o="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e})(e)}function s(t){return"function"==typeof i&&"symbol"===o(r)?e.exports=s=function(e){return o(e)}:e.exports=s=function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":o(e)},s(t)}e.exports=s},function(e,t,n){e.exports=n(227)},function(e,t,n){e.exports=n(228)},function(e,t,n){n(136),n(46),n(41);var r=n(95);e.exports=r.f("iterator")},function(e,t,n){e.exports=n(230)},function(e,t,n){e.exports=n(231),n(249),n(250),n(251),n(252),n(253)},function(e,t,n){n(114),n(88),n(232),n(234),n(235),n(236),n(237),n(136),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248);var r=n(3);e.exports=r.Symbol},function(e,t,n){var r=n(0),i=n(13),o=n(4),s=n(17),a=n(110),l=n(12),c=n(24),h=n(53),u=n(14),f=n(2),d=n(22),p=n(28),g=n(62),m=n(43),v=n(44),b=n(51),y=n(137),w=n(233),x=n(138),_=n(81),S=n(21),k=n(65),C=n(20),T=n(52),A=n(61),E=n(63),L=n(50),R=n(64),D=n(6),M=n(95),I=n(11),N=n(36),F=n(42),P=n(45).forEach,O=E("hidden"),B=D("toPrimitive"),H=F.set,j=F.getterFor("Symbol"),z=Object.prototype,V=i.Symbol,q=i.JSON,U=q&&q.stringify,W=_.f,$=S.f,G=w.f,Z=k.f,X=A("symbols"),Y=A("op-symbols"),K=A("string-to-symbol-registry"),Q=A("symbol-to-string-registry"),J=A("wks"),ee=i.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=s&&l(function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=W(z,t);r&&delete z[t],$(e,t,n),r&&e!==z&&$(z,t,r)}:$,re=function(e,t){var n=X[e]=v(V.prototype);return H(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ie=a&&"symbol"==typeof V.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},oe=function(e,t,n){e===z&&oe(Y,t,n),f(e);var r=g(t,!0);return f(n),c(X,r)?(n.enumerable?(c(e,O)&&e[O][r]&&(e[O][r]=!1),n=v(n,{enumerable:m(0,!1)})):(c(e,O)||$(e,O,m(1,{})),e[O][r]=!0),ne(e,r,n)):$(e,r,n)},se=function(e,t){f(e);var n=p(t),r=b(n).concat(he(n));return P(r,function(t){s&&!ae.call(n,t)||oe(e,t,n[t])}),e},ae=function(e){var t=g(e,!0),n=Z.call(this,t);return!(this===z&&c(X,t)&&!c(Y,t))&&(!(n||!c(this,t)||!c(X,t)||c(this,O)&&this[O][t])||n)},le=function(e,t){var n=p(e),r=g(t,!0);if(n!==z||!c(X,r)||c(Y,r)){var i=W(n,r);return!i||!c(X,r)||c(n,O)&&n[O][r]||(i.enumerable=!0),i}},ce=function(e){var t=G(p(e)),n=[];return P(t,function(e){c(X,e)||c(L,e)||n.push(e)}),n},he=function(e){var t=e===z,n=G(t?Y:p(e)),r=[];return P(n,function(e){!c(X,e)||t&&!c(z,e)||r.push(X[e])}),r};a||(T((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===z&&n.call(Y,e),c(this,O)&&c(this[O],t)&&(this[O][t]=!1),ne(this,t,m(1,e))};return s&&te&&ne(z,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",function(){return j(this).tag}),k.f=ae,S.f=oe,_.f=le,y.f=w.f=ce,x.f=he,s&&($(V.prototype,"description",{configurable:!0,get:function(){return j(this).description}}),o||T(z,"propertyIsEnumerable",ae,{unsafe:!0})),M.f=function(e){return re(D(e),e)}),r({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:V}),P(b(J),function(e){I(e)}),r({target:"Symbol",stat:!0,forced:!a},{for:function(e){var t=String(e);if(c(K,t))return K[t];var n=V(t);return K[t]=n,Q[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(c(Q,e))return Q[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(e,t){return void 0===t?v(e):se(v(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ce,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:l(function(){x.f(1)})},{getOwnPropertySymbols:function(e){return x.f(d(e))}}),q&&r({target:"JSON",stat:!0,forced:!a||l(function(){var e=V();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(u(t)||void 0!==e)&&!ie(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),r[1]=t,U.apply(q,r)}}),V.prototype[B]||C(V.prototype,B,V.prototype.valueOf),N(V,"Symbol"),L[O]=!0},function(e,t,n){var r=n(28),i=n(137).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t,n){n(11)("asyncIterator")},function(e,t){},function(e,t,n){n(11)("hasInstance")},function(e,t,n){n(11)("isConcatSpreadable")},function(e,t,n){n(11)("match")},function(e,t,n){n(11)("matchAll")},function(e,t,n){n(11)("replace")},function(e,t,n){n(11)("search")},function(e,t,n){n(11)("species")},function(e,t,n){n(11)("split")},function(e,t,n){n(11)("toPrimitive")},function(e,t,n){n(11)("toStringTag")},function(e,t,n){n(11)("unscopables")},function(e,t,n){n(36)(Math,"Math",!0)},function(e,t,n){var r=n(13);n(36)(r.JSON,"JSON",!0)},function(e,t,n){n(11)("asyncDispose")},function(e,t,n){n(11)("dispose")},function(e,t,n){n(11)("observable")},function(e,t,n){n(11)("patternMatch")},function(e,t,n){n(11)("replaceAll")},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(256)},function(e,t,n){e.exports=n(257)},function(e,t,n){n(258);var r=n(3);e.exports=r.Object.getPrototypeOf},function(e,t,n){var r=n(0),i=n(12),o=n(22),s=n(66),a=n(109);r({target:"Object",stat:!0,forced:i(function(){s(1)}),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},function(e,t,n){e.exports=n(260)},function(e,t,n){n(261);var r=n(3);e.exports=r.Object.setPrototypeOf},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(86)})},function(e,t,n){e.exports=n(263)},function(e,t,n){n(264);var r=n(3).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(0)({target:"Object",stat:!0,sham:!n(17)},{create:n(44)})},function(e,t,n){var r=n(140),i=n(266),o=n(27),s=n(96),a=n(295),l=n(300);function c(t){var n="function"==typeof i?new i:void 0;return e.exports=c=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,o(this).constructor)}return t.prototype=r(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)},c(t)}e.exports=c},function(e,t,n){e.exports=n(267)},function(e,t,n){e.exports=n(268),n(273),n(275),n(277),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294)},function(e,t,n){n(269),n(88),n(46),n(41);var r=n(3);e.exports=r.Map},function(e,t,n){var r=n(270),i=n(272);e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i,!0)},function(e,t,n){var r=n(0),i=n(13),o=n(141),s=n(12),a=n(20),l=n(8),c=n(89),h=n(14),u=n(36),f=n(21).f,d=n(45).forEach,p=n(17),g=n(42),m=g.set,v=g.getterFor;e.exports=function(e,t,n,g,b){var y,w=i[e],x=w&&w.prototype,_=g?"set":"add",S={};if(p&&"function"==typeof w&&(b||x.forEach&&!s(function(){(new w).entries().next()}))){y=t(function(t,n){m(c(t,y,e),{type:e,collection:new w}),null!=n&&l(n,t[_],t,g)});var k=v(e);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"==e||"set"==e;e in x&&(!b||"clear"!=e)&&a(y.prototype,e,function(n,r){var i=k(this).collection;if(!t&&b&&!h(n))return"get"==e&&void 0;var o=i[e](0===n?0:n,r);return t?this:o})}),b||f(y.prototype,"size",{get:function(){return k(this).collection.size}})}else y=n.getConstructor(t,e,g,_),o.REQUIRED=!0;return u(y,e,!1,!0),S[e]=y,r({global:!0,forced:!0},S),b||n.setStrong(y,e,g),y}},function(e,t,n){var r=n(12);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(21).f,i=n(44),o=n(117),s=n(15),a=n(89),l=n(8),c=n(80),h=n(118),u=n(17),f=n(141).fastKey,d=n(42),p=d.set,g=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var h=e(function(e,r){a(e,h,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),u||(e.size=0),null!=r&&l(r,e[c],e,n)}),d=g(t),m=function(e,t,n){var r,i,o=d(e),s=v(e,t);return s?s.value=n:(o.last=s={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),u?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},v=function(e,t){var n,r=d(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(h.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:this.size=0},delete:function(e){var t=d(this),n=v(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),u?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(h.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),u&&r(h.prototype,"size",{get:function(){return d(this).size}}),h},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);c(e,t,function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){n(0)({target:"Map",stat:!0},{from:n(274)})},function(e,t,n){var r=n(5),i=n(15),o=n(8);e.exports=function(e){var t,n,s,a,l=arguments.length,c=l>1?arguments[1]:void 0;return r(this),(t=void 0!==c)&&r(c),null==e?new this:(n=[],t?(s=0,a=i(c,l>2?arguments[2]:void 0,2),o(e,function(e){n.push(a(e,s++))})):o(e,n.push,n),new this(n))}},function(e,t,n){n(0)({target:"Map",stat:!0},{of:n(276)})},function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t,n){var r=n(0),i=n(4),o=n(278);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){var r=n(2),i=n(5);e.exports=function(){for(var e,t=r(this),n=i(t.delete),o=!0,s=0,a=arguments.length;s<a;s++)e=n.call(t,arguments[s]),o=o&&e;return!!o}},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(15),a=n(25),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=a(t),r=s(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e,n){if(!r(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){var r=n(0),i=n(4),o=n(26),s=n(2),a=n(5),l=n(15),c=n(55),h=n(25),u=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=s(this),n=h(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),f=a(i.set);return u(n,function(e,n){r(n,e,t)&&f.call(i,e,n)},void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(15),a=n(25),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=a(t),r=s(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop(n)},void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(15),a=n(25),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),n=a(t),r=s(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop(e)},void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(8),o=n(5);r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;o(t);var r=o(n.has),s=o(n.get),a=o(n.set);return i(e,function(e){var i=t(e);r.call(n,i)?s.call(n,i).push(e):a.call(n,i,[e])}),n}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(25),a=n(285),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return l(s(o(this)),function(t,n){if(a(n,e))return l.stop()},void 0,!0,!0).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(0),i=n(8),o=n(5);r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;o(t);var r=o(n.set);return i(e,function(e){r.call(n,t(e),e)}),n}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(25),a=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return a(s(o(this)),function(t,n){if(n===e)return a.stop(t)},void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(4),o=n(26),s=n(2),a=n(5),l=n(15),c=n(55),h=n(25),u=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=s(this),n=h(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),f=a(i.set);return u(n,function(e,n){f.call(i,r(n,e,t),n)},void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),o=n(26),s=n(2),a=n(5),l=n(15),c=n(55),h=n(25),u=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=s(this),n=h(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),f=a(i.set);return u(n,function(e,n){f.call(i,e,r(n,e,t))},void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(5),a=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=o(this),n=s(t.set),r=0;r<arguments.length;)a(arguments[r++],n,t,!0);return t}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(5),a=n(25),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t,n,r=o(this),i=a(r);if(s(e),arguments.length>1)t=arguments[1];else{if((n=i.next()).done)throw TypeError("Reduce of empty map with no initial value");t=n.value[1]}return l(i,function(n,i){t=e(t,i,n,r)},void 0,!0,!0),t}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(15),a=n(25),l=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=a(t),r=s(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(5);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=o(this),r=arguments.length;s(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var a=i?n.get(e):s(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(a,e,n)),n}})},function(e,t,n){var r=n(0),i=n(4),o=n(2),s=n(5);r({target:"Map",proto:!0,real:!0,forced:i},{updateOrInsert:function(e,t,n){var r=o(this);s(t),s(n);var i=r.has(e)?t(r.get(e)):n();return r.set(e,i),i}})},function(e,t,n){var r=n(296);e.exports=function(e){var t;return-1!==r(t=Function.toString.call(e)).call(t,"[native code]")}},function(e,t,n){e.exports=n(297)},function(e,t,n){e.exports=n(143)},function(e,t,n){n(299);var r=n(18);e.exports=r("Array").indexOf},function(e,t,n){var r=n(0),i=n(82).indexOf,o=n(54),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf");r({target:"Array",proto:!0,forced:a||l},{indexOf:function(e){return a?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(301),i=n(305),o=n(96);function s(t,n,a){return function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(i(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=s=i:e.exports=s=function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(r(Function).apply(e,i));return n&&o(s,n.prototype),s},s.apply(null,arguments)}e.exports=s},function(e,t,n){e.exports=n(302)},function(e,t,n){e.exports=n(144)},function(e,t,n){n(304);var r=n(18);e.exports=r("Function").bind},function(e,t,n){n(0)({target:"Function",proto:!0},{bind:n(145)})},function(e,t,n){e.exports=n(306)},function(e,t,n){e.exports=n(307)},function(e,t,n){n(308);var r=n(3);e.exports=r.Reflect.construct},function(e,t,n){var r=n(0),i=n(26),o=n(5),s=n(2),a=n(14),l=n(44),c=n(145),h=n(12),u=i("Reflect","construct"),f=h(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),d=!h(function(){u(function(){})}),p=f||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,h=l(a(i)?i:Object.prototype),p=Function.apply.call(e,h,t);return a(p)?p:h}})},function(e,t,n){(function(t){var r=n(1),i=r(n(97)),o=r(n(7)),s=r(n(10)),a=n(9).CramMalformedError,l=n(73),c=n(315),h=n(316),u=n(317),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.default)(this,e),this._buffer=t,this._position=n,this.length=t.length}return(0,s.default)(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return(0,i.default)(n).call(n,0),n;var o=new f(e,r),s=o.get();if(0!==s&&1!==s)throw new a("Invalid rANS order ".concat(s));if(o.getInt()!==o.remaining()-4)throw new a("Incorrect input length.");var d=o.getInt(),p=new f(n||t.allocUnsafe(d));if(p.length<d)throw new a("Output buffer too small to fit ".concat(d," bytes."));switch(s){case 0:return function(e,t){for(var n=new l.AriDecoder,r=new Array(256),i=0;i<r.length;i+=1)r[i]=new l.Symbol;return c.readStatsO0(e,n,r),h.uncompress(e,n,r,t),t}(o,p);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new l.AriDecoder;for(var i=new Array(256),o=0;o<i.length;o+=1){i[o]=new Array(256);for(var s=0;s<i[o].length;s+=1)i[o][s]=new l.Symbol}return c.readStatsO1(e,n,i),u.uncompress(e,t,n,i),t}(o,p);default:throw new a("Invalid rANS order: ".concat(s))}}}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(311)},function(e,t,n){var r=n(312),i=Array.prototype;e.exports=function(e){var t=e.fill;return e===i||e instanceof Array&&t===i.fill?r:t}},function(e,t,n){n(313);var r=n(18);e.exports=r("Array").fill},function(e,t,n){var r=n(0),i=n(314),o=n(78);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){var r=n(22),i=n(84),o=n(29);e.exports=function(e){for(var t=r(this),n=o(t.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},function(e,t,n){var r=n(1)(n(97)),i=n(9).CramMalformedError,o=n(74),s=n(73);function a(e){if(!e)throw new i("assertion failed")}e.exports={readStatsO0:function(e,t,n){var i=0,l=0,c=255&e.get();do{var h;null==t.fc[c]&&(t.fc[c]=new s.FC),t.fc[c].F=255&e.get(),t.fc[c].F>=128&&(t.fc[c].F&=-129,t.fc[c].F=(127&t.fc[c].F)<<8|255&e.get()),t.fc[c].C=l,s.symbolInit(n[c],t.fc[c].C,t.fc[c].F),t.R||(t.R=new Array(o.TOTFREQ)),(0,r.default)(h=t.R).call(h,c,l,l+t.fc[c].F),l+=t.fc[c].F,0===i&&c+1===(255&e.getByteAt(e.position()))?(c=255&e.get(),i=255&e.get()):0!==i?(i-=1,c+=1):c=255&e.get()}while(0!==c);a(l<o.TOTFREQ)},readStatsO1:function(e,t,n){var i=0,l=255&e.get();do{var c=0,h=0,u=255&e.get();null==t[l]&&(t[l]=new s.AriDecoder);do{var f;null==t[l].fc[u]&&(t[l].fc[u]=new s.FC),t[l].fc[u].F=255&e.get(),t[l].fc[u].F>=128&&(t[l].fc[u].F&=-129,t[l].fc[u].F=(127&t[l].fc[u].F)<<8|255&e.get()),t[l].fc[u].C=h,0===t[l].fc[u].F&&(t[l].fc[u].F=o.TOTFREQ),null==n[l][u]&&(n[l][u]=new s.RansDecSymbol),s.symbolInit(n[l][u],t[l].fc[u].C,t[l].fc[u].F),null==t[l].R&&(t[l].R=new Array(o.TOTFREQ)),(0,r.default)(f=t[l].R).call(f,u,h,h+t[l].fc[u].F),a((h+=t[l].fc[u].F)<=o.TOTFREQ),0===c&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),c=255&e.get()):0!==c?(c-=1,u+=1):u=255&e.get()}while(0!==u);0===i&&l+1===(255&e.getByteAt(e.position()))?(l=255&e.get(),i=255&e.get()):0!==i?(i-=1,l+=1):l=255&e.get()}while(0!==l)}}},function(e,t,n){var r=n(9).CramMalformedError,i=n(74),o=n(73);e.exports={uncompress:function(e,t,n,s){for(var a,l=e.getInt(),c=e.getInt(),h=e.getInt(),u=e.getInt(),f=s.remaining(),d=-4&f,p=0;p<d;p+=4){var g=t.R[o.get(l,i.TF_SHIFT)],m=t.R[o.get(c,i.TF_SHIFT)],v=t.R[o.get(h,i.TF_SHIFT)],b=t.R[o.get(u,i.TF_SHIFT)];s.putAt(p,g),s.putAt(p+1,m),s.putAt(p+2,v),s.putAt(p+3,b),l=o.advanceSymbolStep(l,n[255&g],i.TF_SHIFT),c=o.advanceSymbolStep(c,n[255&m],i.TF_SHIFT),h=o.advanceSymbolStep(h,n[255&v],i.TF_SHIFT),u=o.advanceSymbolStep(u,n[255&b],i.TF_SHIFT),l=o.renormalize(l,e),c=o.renormalize(c,e),h=o.renormalize(h,e),u=o.renormalize(u,e)}switch(s.setPosition(d),3&f){case 0:break;case 1:a=t.R[o.get(l,i.TF_SHIFT)],o.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),s.put(a);break;case 2:a=t.R[o.get(l,i.TF_SHIFT)],o.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),s.put(a),a=t.R[o.get(c,i.TF_SHIFT)],o.advanceSymbol(c,e,n[255&a],i.TF_SHIFT),s.put(a);break;case 3:a=t.R[o.get(l,i.TF_SHIFT)],o.advanceSymbol(l,e,n[255&a],i.TF_SHIFT),s.put(a),a=t.R[o.get(c,i.TF_SHIFT)],o.advanceSymbol(c,e,n[255&a],i.TF_SHIFT),s.put(a),a=t.R[o.get(h,i.TF_SHIFT)],o.advanceSymbol(h,e,n[255&a],i.TF_SHIFT),s.put(a);break;default:throw new r("invalid output size encountered during rANS decoding")}s.setPosition(0)}}},function(e,t,n){var r=n(74),i=n(73);e.exports={uncompress:function(e,t,n,o){for(var s=t.remaining(),a=e.getInt(),l=e.getInt(),c=e.getInt(),h=e.getInt(),u=s>>2,f=0,d=u,p=2*u,g=3*u,m=0,v=0,b=0,y=0;f<u;f+=1,d+=1,p+=1,g+=1){var w=255&n[m].R[i.get(a,r.TF_SHIFT)],x=255&n[v].R[i.get(l,r.TF_SHIFT)],_=255&n[b].R[i.get(c,r.TF_SHIFT)],S=255&n[y].R[i.get(h,r.TF_SHIFT)];t.putAt(f,w),t.putAt(d,x),t.putAt(p,_),t.putAt(g,S),a=i.advanceSymbolStep(a,o[m][w],r.TF_SHIFT),l=i.advanceSymbolStep(l,o[v][x],r.TF_SHIFT),c=i.advanceSymbolStep(c,o[b][_],r.TF_SHIFT),h=i.advanceSymbolStep(h,o[y][S],r.TF_SHIFT),a=i.renormalize(a,e),l=i.renormalize(l,e),c=i.renormalize(c,e),h=i.renormalize(h,e),m=w,v=x,b=_,y=S}for(;g<s;g+=1){var k=255&n[y].R[i.get(h,r.TF_SHIFT)];t.putAt(g,k),h=i.advanceSymbol(h,e,o[y][k],r.TF_SHIFT),y=k}}}},function(e,t,n){var r=n(1),i=r(n(98)),o=r(n(16)),s=r(n(75)),a=n(326).Parser,l=(new a).itf8(),c={parser:(new a).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},h={parser:(new a).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},u={parser:(new a).uint32("crc32"),maxLength:4},f=(new a).itf8("size").buffer("ents",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),i=[],o=0;o<r.length;o+=3)i.push(r.substr(o,3));return i}var n,r=[],i=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(i,n)),i=n+1);return n>i&&r.push(t(i,n)),r}}),d=(new a).uint8(null,{formatter:function(e){return!!e}}),p=(new a).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new a).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:d,UI:d,PI:d,RN:d,AP:d,RR:d,SM:(new a).array(null,{type:"uint8",length:5}),TD:(new a).nest(null,{type:f,formatter:function(e){return e.ents}})}})});function g(e){for(var t={},n=0;n<e.ents.length;n+=1){var r=e.ents[n],i=r.key,o=r.value;t[i]&&console.warn("duplicate key ".concat(i," in map")),t[i]=o}return t}var m={cramFileDefinition:c,cramBlockHeader:h,cramBlockCrc32:u},v={cramUnmappedSliceHeader:function(e){var t=0,n=(new a).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:l,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new a).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:l,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new a).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new a,1:(new a).itf8("blockContentId"),2:(new a).itf8("offset").itf8("M"),3:a.start().itf8("numCodes").array("symbols",{length:"numCodes",type:l}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:l}),4:a.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new a).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new a).itf8("offset").itf8("length"),7:(new a).itf8("offset").itf8("K"),8:(new a).itf8("offset").itf8("log2m"),9:(new a).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new a).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new a).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new a).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new a).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new a;return{parser:t=t.nest("preservation",{type:p,formatter:g}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:g}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:g})}},cramContainerHeader1:function(e){var t=(new a).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new a).itf8("numLandmarks").array("landmarks",{type:(new a).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:c,getSectionParsers:function(e){var t,n=(0,s.default)({},m);return(0,o.default)(t=(0,i.default)(v)).call(t,function(t){n[t]=v[t](e)}),n}}},function(e,t,n){e.exports=n(320)},function(e,t,n){n(321);var r=n(3);e.exports=r.Object.keys},function(e,t,n){var r=n(0),i=n(22),o=n(51);r({target:"Object",stat:!0,forced:n(12)(function(){o(1)})},{keys:function(e){return o(i(e))}})},function(e,t,n){e.exports=n(323)},function(e,t,n){n(324);var r=n(3);e.exports=r.Object.assign},function(e,t,n){var r=n(0),i=n(325);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(17),i=n(12),o=n(51),s=n(138),a=n(65),l=n(22),c=n(60),h=Object.assign;e.exports=!h||i(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=h({},e)[n]||"abcdefghijklmnopqrst"!=o(h({},t)).join("")})?function(e,t){for(var n=l(e),i=arguments.length,h=1,u=s.f,f=a.f;i>h;)for(var d,p=c(arguments[h++]),g=u?o(p).concat(u(p)):o(p),m=g.length,v=0;m>v;)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:h},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(327),o=n(328).Context,s=n(146);"undefined"!=typeof window&&(window.Buffer=e),"undefined"!=typeof self&&(self.Buffer=e);var a={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8,UInt64:8,Int64:8},l={},c=[];!function(){var e;for(e=1;e<=32;e++)c.push(e)}();var h={};Object.keys(a).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach(function(e){h[e.toLowerCase()]=e});var u=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};u.start=function(){return new u},Object.keys(a).forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in u.prototype||(u.prototype[t]=function(e,n){return this[t+this.endian](e,n)})}),c.forEach(function(e){u.prototype["bit".concat(e.toString())]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}}),u.prototype.namely=function(e){return l[e]=this,this.alias=e,this},u.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},u.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},u.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},u.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!l[t.type]&&Object.keys(a).indexOf(h[t.type])<0)throw new Error('Specified primitive type "'.concat(t.type,'" is not supported.'));return this.setNextParser("array",e,t)},u.prototype.choice=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach(function(n){if(!t.choices[n])throw new Error("Choice Case ".concat(n," of ").concat(e," is not valid."));if("string"==typeof t.choices[n]&&!l[t.choices[n]]&&Object.keys(a).indexOf(h[t.choices[n]])<0)throw new Error('Specified primitive type "'.concat(t.choices[n],'" is not supported.'))},this),this.setNextParser("choice",e,t)},u.prototype.nest=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof u||l[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof u||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},u.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: ".concat(e))}return this},u.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},u.prototype.getCode=function(){var e=new o;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},u.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},u.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},u.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach(function(t){l[t].addAliasedCode(e)})},u.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { ".concat(this.getCode()," })");this.compiled=i.runInThisContext(e)},u.prototype.sizeOf=function(){var e=NaN;if(Object.keys(a).indexOf(this.type)>=0)e=a[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=a[h[this.options.type]]:this.options.type instanceof u&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},u.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,s)},u.prototype.setNextParser=function(e,t,n){var r=new u;return r.type=h[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},u.prototype.generate=function(e){this.type&&(this["generate".concat(this.type)](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},u.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(r(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},u.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(a).forEach(function(e){u.prototype["generate".concat(e)]=function(t){"UInt64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):"Int64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",a[e])}}),u.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach(function(e){n+=e.options.length});var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",o),e.pushCode("var {2} = ({0} << 8) | {1};",i,o,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var s=0,a="be"===this.endian;e.bitFields.forEach(function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,a?n-s-t.options.length:s,(1<<t.options.length)-1),s+=t.options.length}),e.bitFields=[]}},u.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},u.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},u.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},u.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),o=e.generateVariable(this.varName),s=e.generateTmpVariable(),c=this.options.key,f="string"==typeof c;if(f?e.pushCode("{0} = {};",o):e.pushCode("{0} = [];",o),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(l[r]){var d=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",d,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",s,d),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",s,h[r]),e.pushCode("offset += {0};",a[h[r]]);else r instanceof u&&(e.pushCode("var {0} = {};",s),e.pushScope(s),r.generate(e),e.popScope());f?e.pushCode("{0}[{2}.{1}] = {2};",o,c,s):e.pushCode("{0}.push({1});",o,s),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,s)},u.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(l[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),h[n]),e.pushCode("offset += {0};",a[h[n]]);else n instanceof u&&(e.pushPath(t),n.generate(e),e.popPath(t))},u.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach(function(t){var n=this.options.choices[t];Number.isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")},this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},u.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof u)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(l[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},u.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},u.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},u.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},u.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=u}).call(this,n(19).Buffer)},function(e,t){var n=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},i=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),o=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function s(){}s.prototype={};var a=t.Script=function(e){if(!(this instanceof a))return new a(e);this.code=e};a.prototype.runInContext=function(e){if(!(e instanceof s))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var a=t.contentWindow,l=a.eval,c=a.execScript;!l&&c&&(c.call(a,"null"),l=a.eval),r(n(e),function(t){a[t]=e[t]}),r(o,function(t){e[t]&&(a[t]=e[t])});var h=n(a),u=l.call(a,this.code);return r(n(a),function(t){(t in e||-1===function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}(h,t))&&(e[t]=a[t])}),r(o,function(t){t in e||i(e,t,a[t])}),document.body.removeChild(t),u},a.prototype.runInThisContext=function(){return eu(this.code)},a.prototype.runInNewContext=function(e){var t=a.createContext(e),i=this.runInContext(t);return e&&r(n(t),function(n){e[n]=t[n]}),i},r(n(a.prototype),function(e){t[e]=a[e]=function(t){var n=a(t);return n[e].apply(n,[].slice.call(arguments,1))}}),t.isContext=function(e){return e instanceof s},t.createScript=function(e){return t.Script(e)},t.createContext=a.createContext=function(e){var t=new s;return"object"==typeof e&&r(n(e),function(n){t[n]=e[n]}),t}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};i.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},i.prototype.generateOption=function(e){switch(r(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"(".concat(e,").call(").concat(this.generateVariable(),", vars)");default:return}},i.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=i.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error(".concat(t,"), vars); });")):this.pushCode("throw new Error(".concat(t,");"))},i.prototype.generateTmpVariable=function(){return"$tmp".concat(this.tmpVariableCount++)},i.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+="".concat(i.interpolate.apply(this,e),"\n")},i.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},i.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},i.prototype.pushScope=function(e){this.scopes.push([e])},i.prototype.popScope=function(){this.scopes.pop()},i.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},i.prototype.markResolved=function(e){this.references[e].resolved=!0},i.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},i.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter(function(t){return!e[t].resolved&&!e[t].requested})},i.interpolate=function(e){var t=/{\d+}/g,n=e.match(t),r=Array.prototype.slice.call(arguments,1);return n&&n.forEach(function(t){var n=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,r[n].toString())}),e},t.Context=i},function(e,t,n){(function(t){var r,i=n(1),o=i(n(16)),s=i(n(75)),a=i(n(37)),l=i(n(30)),c=i(n(31)),h=i(n(7)),u=i(n(10)),f=n(9).CramMalformedError,d=n(58),p=d.itf8Size,g=d.parseItem,m=d.tinyMemoize,v=n(334),b=n(390),y=function(){function e(t,n){(0,h.default)(this,e),this.file=t,this.filePosition=n}var n,r,i,o;return(0,u.default)(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(o=(0,c.default)(l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.file.getSectionParsers();case 7:return t=e.sent,e.next=10,this.getFirstBlock();case 10:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=13;break}throw new f("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 13:return r=g(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),n.content=r,e.abrupt("return",n);case 16:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getFirstBlock",value:(i=(0,c.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return t=e.sent,e.abrupt("return",this.file.readBlock(t._endPosition));case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getCompressionScheme",value:(r=(0,c.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",new b(t.content));case 6:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new v(this,e,t)}},{key:"_readContainerHeader",value:(n=(0,c.default)(l.default.mark(function e(n){var r,i,o,c,h,u,f,d,m,v,b,y,w;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return r=e.sent,i=r.cramContainerHeader1,o=r.cramContainerHeader2,e.next=6,this.file.stat();case 6:if(c=e.sent,h=c.size,!(n>=h)){e.next=10;break}return e.abrupt("return",void 0);case 10:return u=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(u,0,i.maxLength,n);case 13:if(f=g(u,i.parser),d=p(f.numLandmarks),!(n+f.length>=h)){e.next=18;break}return console.warn((0,a.default)(m=(0,a.default)(v="".concat(this.file,": container header at ")).call(v,n," indicates that the container has length ")).call(m,f.length,", which extends beyond the length of the file. Skipping this container.")),e.abrupt("return",void 0);case 18:return b=t.allocUnsafe(o.maxLength(f.numLandmarks)),e.next=21,this.file.read(b,0,o.maxLength(f.numLandmarks),n+f._size-d);case 21:if(y=g(b,o.parser),!this.file.validateChecksums||void 0===y.crc32){e.next=25;break}return e.next=25,this.file.checkCrc32(n,f._size+y._size-d-4,y.crc32,"container header beginning at position ".concat(n));case 25:return w=(0,s.default)(f,y,{_size:f._size+y._size-d,_endPosition:f._size+y._size-d+n}),e.abrupt("return",w);case 27:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();(0,o.default)(r="getHeader getCompressionHeaderBlock getCompressionScheme".split(" ")).call(r,function(e){return m(y,e)}),e.exports=y}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(115)},function(e,t,n){var r,i,o,s,a;r=n(332),i=n(147).utf8,o=n(333),s=n(147).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,c=1732584193,h=-271733879,u=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var p=a._ff,g=a._gg,m=a._hh,v=a._ii;for(d=0;d<n.length;d+=16){var b=c,y=h,w=u,x=f;c=p(c,h,u,f,n[d+0],7,-680876936),f=p(f,c,h,u,n[d+1],12,-389564586),u=p(u,f,c,h,n[d+2],17,606105819),h=p(h,u,f,c,n[d+3],22,-1044525330),c=p(c,h,u,f,n[d+4],7,-176418897),f=p(f,c,h,u,n[d+5],12,1200080426),u=p(u,f,c,h,n[d+6],17,-1473231341),h=p(h,u,f,c,n[d+7],22,-45705983),c=p(c,h,u,f,n[d+8],7,1770035416),f=p(f,c,h,u,n[d+9],12,-1958414417),u=p(u,f,c,h,n[d+10],17,-42063),h=p(h,u,f,c,n[d+11],22,-1990404162),c=p(c,h,u,f,n[d+12],7,1804603682),f=p(f,c,h,u,n[d+13],12,-40341101),u=p(u,f,c,h,n[d+14],17,-1502002290),c=g(c,h=p(h,u,f,c,n[d+15],22,1236535329),u,f,n[d+1],5,-165796510),f=g(f,c,h,u,n[d+6],9,-1069501632),u=g(u,f,c,h,n[d+11],14,643717713),h=g(h,u,f,c,n[d+0],20,-373897302),c=g(c,h,u,f,n[d+5],5,-701558691),f=g(f,c,h,u,n[d+10],9,38016083),u=g(u,f,c,h,n[d+15],14,-660478335),h=g(h,u,f,c,n[d+4],20,-405537848),c=g(c,h,u,f,n[d+9],5,568446438),f=g(f,c,h,u,n[d+14],9,-1019803690),u=g(u,f,c,h,n[d+3],14,-187363961),h=g(h,u,f,c,n[d+8],20,1163531501),c=g(c,h,u,f,n[d+13],5,-1444681467),f=g(f,c,h,u,n[d+2],9,-51403784),u=g(u,f,c,h,n[d+7],14,1735328473),c=m(c,h=g(h,u,f,c,n[d+12],20,-1926607734),u,f,n[d+5],4,-378558),f=m(f,c,h,u,n[d+8],11,-2022574463),u=m(u,f,c,h,n[d+11],16,1839030562),h=m(h,u,f,c,n[d+14],23,-35309556),c=m(c,h,u,f,n[d+1],4,-1530992060),f=m(f,c,h,u,n[d+4],11,1272893353),u=m(u,f,c,h,n[d+7],16,-155497632),h=m(h,u,f,c,n[d+10],23,-1094730640),c=m(c,h,u,f,n[d+13],4,681279174),f=m(f,c,h,u,n[d+0],11,-358537222),u=m(u,f,c,h,n[d+3],16,-722521979),h=m(h,u,f,c,n[d+6],23,76029189),c=m(c,h,u,f,n[d+9],4,-640364487),f=m(f,c,h,u,n[d+12],11,-421815835),u=m(u,f,c,h,n[d+15],16,530742520),c=v(c,h=m(h,u,f,c,n[d+2],23,-995338651),u,f,n[d+0],6,-198630844),f=v(f,c,h,u,n[d+7],10,1126891415),u=v(u,f,c,h,n[d+14],15,-1416354905),h=v(h,u,f,c,n[d+5],21,-57434055),c=v(c,h,u,f,n[d+12],6,1700485571),f=v(f,c,h,u,n[d+3],10,-1894986606),u=v(u,f,c,h,n[d+10],15,-1051523),h=v(h,u,f,c,n[d+1],21,-2054922799),c=v(c,h,u,f,n[d+8],6,1873313359),f=v(f,c,h,u,n[d+15],10,-30611744),u=v(u,f,c,h,n[d+6],15,-1560198380),h=v(h,u,f,c,n[d+13],21,1309151649),c=v(c,h,u,f,n[d+4],6,-145523070),f=v(f,c,h,u,n[d+11],10,-1120210379),u=v(u,f,c,h,n[d+2],15,718787259),h=v(h,u,f,c,n[d+9],21,-343485551),c=c+b>>>0,h=h+y>>>0,u=u+w>>>0,f=f+x>>>0}return r.endian([c,h,u,f])})._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(n.charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
       * Determine if an object is a Buffer
       *
       * @author   Feross Aboukhadijeh <https://feross.org>
       * @license  MIT
       */e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var r,i=n(1),o=i(n(148)),s=i(n(76)),a=i(n(150)),l=i(n(37)),c=i(n(30)),h=i(n(31)),u=i(n(7)),f=i(n(10)),d=i(n(99)),p=i(n(16)),g=i(n(77)),m=i(n(59)),v=n(9),b=v.CramMalformedError,y=v.CramBufferOverrunError,w=v.CramArgumentError,x=n(58),_=x.parseItem,S=x.tinyMemoize,k=x.sequenceMD5,C=n(100),T=n(363);function A(e,t,n,r){if(!r)throw new b("could not resolve intra-slice mate pairs, file seems truncated or malformed");var i=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=C.BAM_FPAIRED,(0,d.default)(r)&C.BAM_FUNMAP&&(n.flags|=C.BAM_FMUNMAP),(0,d.default)(n)&C.BAM_FUNMAP&&(r.flags|=C.BAM_FMUNMAP),(0,d.default)(r)&C.BAM_FREVERSE&&(n.flags|=C.BAM_FMREVERSE),(0,d.default)(n)&C.BAM_FREVERSE&&(r.flags|=C.BAM_FMREVERSE),void 0===n.templateLength&&(i?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var i=e[n.mateRecordNumber];if(!i)throw new b("intra-slice mate record not found, this file seems malformed");r.push.apply(r,(0,m.default)(t(i)))}return r}(n),i=(0,g.default)(r).call(r,function(e){return e.alignmentStart}),o=(0,g.default)(r).call(r,function(e){return e.alignmentStart+e.readLength-1}),s=Math.max.apply(Math,(0,m.default)(o))-Math.min.apply(Math,(0,m.default)(i))+1;s>=0&&(0,p.default)(r).call(r,function(e){if(void 0!==e.templateLength)throw new b("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=s})}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var E=function(){function e(t,n){(0,u.default)(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,r,i,d,m,v,x;return(0,f.default)(e,[{key:"getHeader",value:(x=(0,h.default)(c.default.mark(function e(){var t,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(r=e.sent).contentType){e.next=13;break}r.content=_(r.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 13:if("UNMAPPED_SLICE_HEADER"!==r.contentType){e.next=17;break}r.content=_(r.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 17:throw new b("error reading slice header block, invalid content type ".concat(r._contentType));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getBlocks",value:(v=(0,h.default)(c.default.mark(function e(){var t,n,r,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:t=e.sent,n=t._endPosition,r=new Array(t.content.numBlocks),i=0;case 6:if(!(i<r.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:r[i]=e.sent,n=r[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getCoreDataBlock",value:(m=(0,h.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t=e.sent,e.abrupt("return",t[0]);case 4:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(d=(0,h.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t=e.sent,n={},(0,p.default)(t).call(t,function(e){"EXTERNAL_DATA"===e.contentType&&(n[e.contentId]=e)}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"getBlockByContentId",value:(i=(0,h.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return n=e.sent,e.abrupt("return",n[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getReferenceRegion",value:(r=(0,h.default)(c.default.mark(function e(){var t,n,r,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(r=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new b("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>r.uncompressedSize)){e.next=14;break}throw new b("Embedded reference is too small");case 14:return e.abrupt("return",{seq:r.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((i=e.sent).length===t.refSeqSpan){e.next=23;break}throw new w("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:i,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:return e.abrupt("return",void 0);case 25:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords(function(){return!0})}},{key:"_fetchRecords",value:(n=(0,h.default)(c.default.mark(function e(){var t,n,r,i,o,s,h,u,f,d,p,m,v,w,x,_,S,C,E,L,R,D,M,I=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return r=e.sent,e.next=9,this.getHeader();case 9:return i=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(o=e.sent,!(n>1&&this.file.options.checkSequenceMD5&&i.content.refSeqId>=0&&"0000000000000000"!==i.content.md5.join(""))){e.next=23;break}return e.next=16,this.getReferenceRegion();case 16:if(!(s=e.sent)){e.next=23;break}if(m=s.seq,v=s.start,w=s.end,x=k(m),_=(0,g.default)(h=i.content.md5).call(h,function(e){return(e<16?"0":"")+e.toString(16)}).join(""),x===_){e.next=23;break}throw new b((0,l.default)(u=(0,l.default)(f=(0,l.default)(d=(0,l.default)(p="MD5 checksum reference mismatch for ref ".concat(i.content.refSeqId," pos ")).call(p,v,"..")).call(d,w,". recorded MD5: ")).call(f,_,", calculated MD5: ")).call(u,x));case 23:return e.next=25,this.getCoreDataBlock();case 25:S=e.sent,C={lastAlignmentStart:i.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},E=function(e){var t=r.getCodecForDataSeries(e);if(!t)throw new b("no codec defined for ".concat(e," data series"));return t.decode(I,S,o,C)},L=new Array(i.content.numRecords),R=0;case 30:if(!(R<L.length)){e.next=48;break}e.prev=31,L[R]=T(this,E,r,i,S,o,C,n,R),L[R].uniqueId=i.contentPosition+i.content.recordCounter+R+1,e.next=45;break;case 36:if(e.prev=36,e.t0=e.catch(31),!(e.t0 instanceof y)){e.next=44;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),L=(0,a.default)(L).call(L,function(e){return!!e}),e.abrupt("break",48);case 44:throw e.t0;case 45:R+=1,e.next=30;break;case 48:for(D=0;D<L.length;D+=1)(M=L[D].mateRecordNumber)>=0&&A(L,D,L[D],L[M]);return e.abrupt("return",L);case 50:case"end":return e.stop()}},e,this,[[31,36]])})),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=(0,h.default)(c.default.mark(function e(t){var n,r,i,l,u,f,d,p,m,v,b,y,w,x,_,S,k=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.container.filePosition+this.containerPosition,(i=this.file.featureCache.get(r))||(i=this._fetchRecords(),this.file.featureCache.set(r,i)),e.t0=a.default,e.next=6,i;case 6:if(e.t1=n=e.sent,e.t2=n,e.t3=t,!(l=(0,e.t0)(e.t1).call(e.t2,e.t3)).length||!this.file.fetchReferenceSequenceCallback){e.next=24;break}return e.next=13,this.getHeader();case 13:if(!((u=e.sent).content.refSeqId>=0||-2===u.content.refSeqId)){e.next=24;break}return d=u.content.refSeqId>=0?u.content.refSeqId:void 0,e.next=18,this.container.getCompressionScheme();case 18:for(p=e.sent,m={},v=0;v<l.length;v+=1)b=void 0!==d?d:l[v].sequenceId,(y=m[b])||(y={id:b,start:l[v].alignmentStart,end:-1/0},m[b]=y),(w=l[v].alignmentStart+(l[v].lengthOnRef||l[v].readLength)-1)>y.end&&(y.end=w),l[v].alignmentStart<y.start&&(y.start=l[v].alignmentStart);return e.next=23,s.default.all((0,g.default)(f=(0,o.default)(m)).call(f,function(){var e=(0,h.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(-1!==t.id&&t.start<=t.end)){e.next=4;break}return e.next=3,k.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 3:t.seq=e.sent;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 23:for(x=0;x<l.length;x+=1)_=void 0!==d?d:l[x].sequenceId,(S=m[_])&&S.seq&&l[x].addReferenceSequence(S,p);case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();(0,p.default)(r="getHeader getBlocks _getBlocksContentIdIndex".split(" ")).call(r,function(e){return S(E,e)}),e.exports=E},function(e,t,n){e.exports=n(336)},function(e,t,n){n(337);var r=n(3);e.exports=r.Object.values},function(e,t,n){var r=n(0),i=n(149).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){e.exports=n(339)},function(e,t,n){var r=n(340),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},function(e,t,n){n(341);var r=n(18);e.exports=r("Array").filter},function(e,t,n){var r=n(0),i=n(45).filter;r({target:"Array",proto:!0,forced:!n(68)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(343)},function(e,t,n){var r=n(344),i=RegExp.prototype;e.exports=function(e){return!(e===i||e instanceof RegExp)||"flags"in e?e.flags:r(e)}},function(e,t,n){n(345);var r=n(346);e.exports=function(e){return r.call(e)}},function(e,t){},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){e.exports=n(348)},function(e,t,n){var r=n(349),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},function(e,t,n){n(350);var r=n(18);e.exports=r("Array").map},function(e,t,n){var r=n(0),i=n(45).map;r({target:"Array",proto:!0,forced:!n(68)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(151);e.exports=function(e){if(r(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){e.exports=n(353)},function(e,t,n){n(354);var r=n(3);e.exports=r.Array.isArray},function(e,t,n){n(0)({target:"Array",stat:!0},{isArray:n(53)})},function(e,t,n){e.exports=n(356)},function(e,t,n){e.exports=n(357)},function(e,t,n){n(46),n(358);var r=n(3);e.exports=r.Array.from},function(e,t,n){var r=n(0),i=n(359);r({target:"Array",stat:!0,forced:!n(121)(function(e){Array.from(e)})},{from:i})},function(e,t,n){var r=n(15),i=n(22),o=n(120),s=n(119),a=n(29),l=n(87),c=n(90);e.exports=function(e){var t,n,h,u,f=i(e),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,b=c(f);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==b||d==Array&&s(b))for(n=new d(t=a(f.length));t>v;v++)l(n,v,m?g(f[v],v):f[v]);else for(u=b.call(f),n=new d;!(h=u.next()).done;v++)l(n,v,m?o(u,g,[h.value,v],!0):h.value);return n.length=v,n}},function(e,t,n){n(41),n(46),e.exports=n(361)},function(e,t,n){var r=n(67),i=n(6),o=n(35),s=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){(function(t){var r=n(1),i=r(n(37)),o=r(n(364)),s=r(n(16)),a=r(n(99)),l=r(n(101)),c=r(n(59)),h=r(n(154)),u=r(n(376)),f=r(n(380)),d=r(n(48)),p=r(n(387)),g=n(146),m=n(9),v=m.CramMalformedError,b=m.CramUnimplementedError,y=n(389),w=n(100);function x(e){var t=(0,p.default)(e).call(e,0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function _(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return x(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=g.fromBytesLE(n);if(r.greaterThan(f.default)||r.lessThan(u.default))throw new b("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var i=x(n);return(0,h.default)(i.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new v("invalid tag value array type '".concat(t,"'"));for(var i=(0,d.default)(r,2),o=i[0],s=i[1],a=new Array(n),l=5,c=0;c<n;c+=1)a[c]=e[o](l),l+=s;return a}(n);throw new v("Unrecognized tag type ".concat(e))}function S(e){if(e instanceof t)return x(e);if(e.length&&(0,p.default)(e)){if(!e[e.length-1]){var n=(0,p.default)(e).call(e,0);return String.fromCharCode.apply(String,(0,c.default)((0,l.default)(e).call(e,0,n)))}return String.fromCharCode.apply(String,(0,c.default)(e))}return String(e)}e.exports=function(e,t,n,r,l,c,h,u,f){var p=new y;if(p.flags=t("BF"),p.cramFlags=t("CF"),u>1&&-2===r.content.refSeqId?p.sequenceId=t("RI"):p.sequenceId=r.content.refSeqId,p.readLength=t("RL"),p.alignmentStart=t("AP"),n.APdelta&&(p.alignmentStart+=h.lastAlignmentStart),h.lastAlignmentStart=p.alignmentStart,p.readGroupId=t("RG"),n.readNamesIncluded&&(p.readName=S(t("RN"))),p.isDetached()){var g={};g.flags=t("MF"),n.readNamesIncluded||(g.readName=S(t("RN")),p.readName=g.readName),g.sequenceId=t("NS"),g.alignmentStart=t("NP"),((0,a.default)(g)||g.sequenceId>-1)&&(p.mate=g),p.templateSize=t("TS"),(0,a.default)(g)&w.CRAM_M_UNMAP&&(p.flags|=w.BAM_FMUNMAP),(0,a.default)(g)&w.CRAM_M_REVERSE&&(p.flags|=w.BAM_FMREVERSE)}else p.hasMateDownStream()&&(p.mateRecordNumber=t("NF")+f+1);var m=t("TL");if(m<0)throw new v("invalid TL index");for(var b=n.getTagNames(m),x=b.length,k=0;k<x;k+=1){var C=b[k],T=C.substr(0,2),A=C.substr(2,1),E=n.getCodecForTag(C);if(!E)throw new v("no codec defined for auxiliary tag ".concat(C));var L=E.decode(e,l,c,h);p.tags[T]=_(A,L)}if(p.isSegmentUnmapped())if(p.isUnknownBases())p.readBases=null,p.qualityScores=null;else{for(var R=new Array(p.readLength),D=0;D<R.length;D+=1)R[D]=t("BA");if(p.readBases=String.fromCharCode.apply(String,R),p.isPreservingQualityScores()){for(var M=0;M<R.length;M+=1)R[M]=t("QS");p.qualityScores=R}}else{var I,N=t("FN");N&&(p.readFeatures=function(e,t,n,r,i){var o=0,s=e.alignmentStart-1,a=new Array(t);function l(e){var t=(0,d.default)(e,2),r=t[0],i=t[1],o=n(i);return"character"===r?String.fromCharCode(o):"string"===r?o.toString("utf8"):"numArray"===r?o.toArray():o}for(var c=0;c<t;c+=1){var h=String.fromCharCode(n("FC")),u=n("FP"),f={code:h},p={B:["character","BA"],S:["string",i>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[h];if(!p)throw new v('invalid read feature code "'.concat(h,'"'));f.data=l(p);var g={B:["number","QS"]}[h];g&&(f.data=[f.data,l(g)]),o+=u,f.pos=o,s+=u,f.refPos=s,"D"===h||"N"===h?s+=f.data:"I"===h||"S"===h?s-=f.data.length:"i"===h&&(s-=1),a[c]=f}return a}(p,N,t,0,u));var F,P=p.readLength;if(p.readFeatures&&(0,s.default)(I=p.readFeatures).call(I,function(e){var t=e.code,n=e.data;"D"===t||"N"===t?P+=n:"I"===t||"S"===t?P-=n.length:"i"===t&&(P-=1)}),(0,o.default)(P)&&(console.warn("".concat(p.readName||(0,i.default)(F="".concat(p.sequenceId,":")).call(F,p.alignmentStart)," record has invalid read features")),P=p.readLength),p.lengthOnRef=P,p.mappingQuality=t("MQ"),p.isPreservingQualityScores()){for(var O=new Array(p.readLength),B=0;B<O.length;B+=1)O[B]=t("QS");p.qualityScores=O}}return p}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(365)},function(e,t,n){e.exports=n(366)},function(e,t,n){n(367);var r=n(3);e.exports=r.Number.isNaN},function(e,t,n){n(0)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){e.exports=n(369)},function(e,t,n){var r=n(370),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},function(e,t,n){n(371);var r=n(18);e.exports=r("Array").slice},function(e,t,n){var r=n(0),i=n(14),o=n(53),s=n(84),a=n(29),l=n(28),c=n(87),h=n(68),u=n(6)("species"),f=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!h("slice")},{slice:function(e,t){var n,r,h,p=l(this),g=a(p.length),m=s(e,g),v=s(void 0===t?g:t,g);if(o(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[u])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(p,m,v);for(r=new(void 0===n?Array:n)(d(v-m,0)),h=0;m<v;m++,h++)m in p&&c(r,h,p[m]);return r.length=h,r}})},function(e,t,n){e.exports=n(373)},function(e,t,n){n(374);var r=n(3);e.exports=r.Number.parseInt},function(e,t,n){var r=n(0),i=n(155);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(49),i="["+n(156)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),a=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},function(e,t,n){e.exports=n(377)},function(e,t,n){e.exports=n(378)},function(e,t,n){n(379),e.exports=-9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){e.exports=n(381)},function(e,t,n){e.exports=n(382)},function(e,t,n){n(383),e.exports=9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(385),i=n(153);e.exports=function(e,t){if(i(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,s=!1,a=void 0;try{for(var l,c=r(e);!(o=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}return n}}},function(e,t,n){e.exports=n(386)},function(e,t,n){n(41),n(46),e.exports=n(142)},function(e,t,n){e.exports=n(388)},function(e,t,n){e.exports=n(143)},function(e,t,n){var r=n(1),i=r(n(98)),o=r(n(16)),s=r(n(99)),a=r(n(7)),l=r(n(10)),c=r(n(59)),h=n(100),u={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4},f=function(){function e(){(0,a.default)(this,e),this.tags={}}return(0,l.default)(e,[{key:"isPaired",value:function(){return!!((0,s.default)(this)&h.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!((0,s.default)(this)&h.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!((0,s.default)(this)&h.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!((0,s.default)(this)&h.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!((0,s.default)(this)&h.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!((0,s.default)(this)&h.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!((0,s.default)(this)&h.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!((0,s.default)(this)&h.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!((0,s.default)(this)&h.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!((0,s.default)(this)&h.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!((0,s.default)(this)&h.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!((0,s.default)(this)&h.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&h.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&h.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&h.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&h.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",i=n,o=0;r.length<e.readLength;)if(o<e.readFeatures.length){var s=e.readFeatures[o];if("Q"===s.code||"q"===s.code)o+=1;else if(s.pos===r.length+1)if(o+=1,"b"===s.code){var a=s.data.split(","),l=String.fromCharCode.apply(String,(0,c.default)(a));r+=l,i+=l.length}else"B"===s.code?(r+=s.data[0],i+=1):"X"===s.code?(r+=s.sub,i+=1):"I"===s.code?r+=s.data:"D"===s.code?i+=s.data:"i"===s.code?r+=s.data:"N"===s.code?i+=s.data:"S"===s.code?r+=s.data:"P"===s.code||s.code;else if(o<e.readFeatures.length){var h=t.seq.substr(i,e.readFeatures[o].pos-r.length-1);r+=h,i+=h.length}}else{var u=t.seq.substr(i,e.readLength-r.length);r+=u,i+=u.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.mate&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var i=[],o=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&o>0&&(o=-o),o>0?(i[0]=e,i[1]=n,i[2]=t,i[3]=r):(i[2]=e,i[3]=n,i[0]=t,i[1]=r),i.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){var n;this.readFeatures&&(0,o.default)(n=this.readFeatures).call(n,function(n){"X"===n.code&&function(e,t,n,r){if(t){var i=r.refPos-t.start,o=t.seq.charAt(i);o&&(r.ref=o);var s=u[o];void 0===s&&(s=4);var a=n.substitutionMatrix[s][r.data];a&&(r.sub=a)}}(0,e,t,n)}),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,o.default)(e=(0,i.default)(this)).call(e,function(e){"_"!==e.charAt(0)&&(n[e]=t[e])}),n.readBases=this.getReadBases(),n}}]),e}();e.exports=f},function(e,t,n){var r=n(1),i=r(n(98)),o=r(n(16)),s=r(n(75)),a=r(n(7)),l=r(n(10)),c=n(9).CramMalformedError,h=n(391).instantiateCodec,u={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"},f=function(){function e(t){(0,a.default)(this,e),(0,s.default)(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return(0,l.default)(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=h(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=u[e];if(!n)throw new c("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=h(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,o.default)(e=(0,i.default)(this)).call(e,function(e){/Cache$/.test(e)||(n[e]=t[e])}),n}}]),e}();e.exports=f},function(e,t,n){var r=n(9).CramUnimplementedError,i=n(392),o=n(413),s=n(414),a=n(415),l=n(416),c=n(417),h={1:o,3:i,4:a,5:s,6:l,7:n(418),9:c};function u(e){return h[e]}e.exports={getCodecClassWithId:u,instantiateCodec:function e(t,n){var i=u("ignore"===n?0:t.codecId);if(!i)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new i(t.parameters,n,e)}}},function(e,t,n){var r=n(1),i=r(n(97)),o=r(n(59)),s=r(n(77)),a=r(n(148)),l=r(n(159)),c=r(n(48)),h=r(n(102)),u=r(n(16)),f=r(n(103)),d=r(n(403)),p=r(n(7)),g=r(n(10)),m=r(n(32)),v=r(n(27)),b=r(n(33)),y=n(9).CramMalformedError,w=function(e){function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,p.default)(this,t),n=(0,m.default)(this,(0,v.default)(t).call(this,r,i)),!(0,d.default)(e=["byte","int"]).call(e,n.dataType))throw new TypeError("".concat(n.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return n.buildCodeBook(),n.buildCodes(),n.buildCaches(),0===n.sortedCodes[0].bitLength&&(n._decode=n._decodeZeroLengthCode),n}return(0,b.default)(t,e),(0,g.default)(t,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=(0,f.default)(t).call(t,function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol}),this.codeBook={},(0,u.default)(t).call(t,function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)})}},{key:"buildCodes",value:function(){var e,t=this;this.codes={};var n=0,r=-1;(0,u.default)(e=(0,h.default)(this.codeBook)).call(e,function(e){var i=(0,c.default)(e,2),o=i[0],s=i[1];o=(0,l.default)(o,10),(0,u.default)(s).call(s,function(e){var i={bitLength:o,value:e};r+=1;var s,a,l=o-n;if(r<<=l,i.bitCode=r,n+=l,16843009*((a=(858993459&(a=(s=r)-(s>>1)&1431655765))+(a>>2&858993459))+(a>>4)&252645135)>>24>o)throw new y("Symbol out of range");t.codes[e]=i})})}},{key:"buildCaches",value:function(){var e,t,n,r,l,c;this.sortedCodes=(0,f.default)(e=(0,a.default)(this.codes)).call(e,function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode}),this.sortedByValue=(0,f.default)(t=(0,a.default)(this.codes)).call(t,function(e,t){return e.value-t.value}),this.sortedValuesByBitCode=(0,s.default)(n=this.sortedCodes).call(n,function(e){return e.value}),this.sortedBitCodes=(0,s.default)(r=this.sortedCodes).call(r,function(e){return e.bitCode}),this.sortedBitLengthsByBitCode=(0,s.default)(l=this.sortedCodes).call(l,function(e){return e.bitLength});var h=Math.max.apply(Math,(0,o.default)(this.sortedBitCodes));this.bitCodeToValue=(0,i.default)(c=new Array(h+1)).call(c,-1);for(var u=0;u<this.sortedBitCodes.length;u+=1)this.bitCodeToValue[this.sortedCodes[u].bitCode]=u}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var r=t.content,i=0,o=0,s=0;s<this.sortedCodes.length;s+=1){var a=this.sortedCodes[s].bitLength;o<<=a-i,o|=this._getBits(r,n,a-i),i=a;var l=this.bitCodeToValue[o];if(l>-1&&this.sortedBitLengthsByBitCode[l]===a)return this.sortedValuesByBitCode[l];for(var c=s;this.sortedCodes[c+1].bitLength===a&&c<this.sortedCodes.length;c+=1)s+=1}throw new y("Huffman symbol not found.")}}]),t}(n(40));e.exports=w},function(e,t,n){e.exports=n(394)},function(e,t,n){n(395);var r=n(3);e.exports=r.parseInt},function(e,t,n){var r=n(0),i=n(155);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){e.exports=n(397)},function(e,t,n){n(398);var r=n(3);e.exports=r.Object.entries},function(e,t,n){var r=n(0),i=n(149).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){e.exports=n(400)},function(e,t,n){var r=n(401),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?r:t}},function(e,t,n){n(402);var r=n(18);e.exports=r("Array").sort},function(e,t,n){var r=n(0),i=n(5),o=n(22),s=n(12),a=n(54),l=[].sort,c=[1,2,3],h=s(function(){c.sort(void 0)}),u=s(function(){c.sort(null)}),f=a("sort");r({target:"Array",proto:!0,forced:h||!u||f},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},function(e,t,n){e.exports=n(404)},function(e,t,n){e.exports=n(405)},function(e,t,n){var r=n(406),i=n(408),o=Array.prototype,s=String.prototype;e.exports=function(e){var t=e.includes;return e===o||e instanceof Array&&t===o.includes?r:"string"==typeof e||e===s||e instanceof String&&t===s.includes?i:t}},function(e,t,n){n(407);var r=n(18);e.exports=r("Array").includes},function(e,t,n){var r=n(0),i=n(82).includes,o=n(78);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){n(409);var r=n(18);e.exports=r("String").includes},function(e,t,n){var r=n(0),i=n(410),o=n(49);r({target:"String",proto:!0,forced:!n(412)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(411);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(14),i=n(34),o=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(1),i=r(n(48)),o=r(n(7)),s=r(n(10)),a=r(n(32)),l=r(n(27)),c=r(n(33)),h=n(9),u=h.CramUnimplementedError,f=h.CramMalformedError,d=h.CramBufferOverrunError,p=n(40),g=n(58).parseItf8,m=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,o.default)(this,t),"int"===(e=(0,a.default)(this,(0,l.default)(t).call(this,n,r))).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new u("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new f("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decodeData(o,s)}},{key:"_decodeInt",value:function(e,t){var n=g(e.content,t.bytePosition),r=(0,i.default)(n,2),o=r[0],s=r[1];return t.bytePosition+=s,o}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new d("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),t}(p);e.exports=m},function(e,t,n){var r=n(1),i=r(n(101)),o=r(n(7)),s=r(n(10)),a=r(n(32)),l=r(n(27)),c=r(n(33)),h=n(9),u=h.CramBufferOverrunError,f=h.CramMalformedError,d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,o.default)(this,t),e=(0,a.default)(this,(0,l.default)(t).call(this,n,r)),"byteArray"!==r)throw new TypeError("byteArrayStop codec does not support data type ".concat(r));return e._decode=e._decodeByteArray,e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,o=n[i];if(!o)throw new f("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decode(o,s)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,o=t.bytePosition,s=t.bytePosition;n[s]!==r&&s<n.length;){if(s===n.length)throw new u("byteArrayStop reading beyond length of data buffer?");s+=1}return t.bytePosition=s+1,(0,i.default)(n).call(n,o,s)}}]),t}(n(40));e.exports=d},function(e,t,n){var r,i=n(1),o=i(n(16)),s=i(n(7)),a=i(n(10)),l=i(n(32)),c=i(n(27)),h=i(n(33)),u=n(58).tinyMemoize,f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if((0,s.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).call(this,n,r))).instantiateCodec=i,"byteArray"!==r)throw new TypeError("byteArrayLength does not support data type ".concat(r));return e}return(0,h.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i=this._getLengthCodec().decode(e,t,n,r),o=this._getDataCodec(),s=new Array(i),a=0;a<i;a+=1)s[a]=o.decode(e,t,n,r);return s}},{key:"_getLengthCodec",value:function(){var e=this.parameters.lengthsEncoding;return this.instantiateCodec(e,"int")}},{key:"_getDataCodec",value:function(){var e=this.parameters.valuesEncoding;return this.instantiateCodec(e,"byte")}}]),t}(n(40));(0,o.default)(r="_getLengthCodec _getDataCodec".split(" ")).call(r,function(e){return u(f,e)}),e.exports=f},function(e,t,n){var r=n(1),i=r(n(7)),o=r(n(10)),s=r(n(32)),a=r(n(27)),l=r(n(33)),c=n(9).CramUnimplementedError,h=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,s.default)(this,(0,a.default)(t).call(this,n,r))).dataType)throw new c("".concat(e.dataType," decoding not yet implemented by BETA codec"));return e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),t}(n(40));e.exports=h},function(e,t,n){var r=n(1),i=r(n(7)),o=r(n(10)),s=r(n(32)),a=r(n(27)),l=r(n(33)),c=n(9).CramUnimplementedError,h=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,s.default)(this,(0,a.default)(t).call(this,n,r))).dataType)throw new c("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i=1;0===this._getBits(t.content,r.coreBlock,1);)i+=1;return(this._getBits(t.content,r.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),t}(n(40));e.exports=h},function(e,t,n){var r=n(1),i=r(n(7)),o=r(n(10)),s=r(n(32)),a=r(n(27)),l=r(n(33)),c=n(9).CramUnimplementedError,h=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,s.default)(this,(0,a.default)(t).call(this,n,r))).dataType)throw new c("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i,o,s=0;this._getBits(t.content,r.coreBlock,1);)s+=1;return 0===s?(i=this.parameters.K,o=this._getBits(t.content,r.coreBlock,i)):o=1<<(i=s+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,i),o-this.parameters.offset}}]),t}(n(40));e.exports=h},function(e,t,n){var r=n(420),i=n(422);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=y(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),u=["%","/","?",";","#"].concat(h),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(423);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(a);if(y=y.trim(),!n&&1===e.split("#").length){var w=l.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=s.exec(y);if(x){var _=(x=x[0]).toLowerCase();this.protocol=_,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===y.substr(0,2);!S||x&&m[x]||(y=y.substr(2),this.slashes=!0)}if(!m[x]&&(S||x&&!v[x])){for(var k,C,T=-1,A=0;A<f.length;A++)-1!==(E=y.indexOf(f[A]))&&(-1===T||E<T)&&(T=E);for(-1!==(C=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(k=y.slice(0,C),y=y.slice(C+1),this.auth=decodeURIComponent(k)),T=-1,A=0;A<u.length;A++){var E;-1!==(E=y.indexOf(u[A]))&&(-1===T||E<T)&&(T=E)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var R=this.hostname.split(/\./),D=(A=0,R.length);A<D;A++){var M=R[A];if(M&&!M.match(d)){for(var I="",N=0,F=M.length;N<F;N++)M.charCodeAt(N)>127?I+="x":I+=M[N];if(!I.match(d)){var P=R.slice(0,A),O=R.slice(A+1),B=M.match(p);B&&(P.push(B[1]),O.unshift(B[2])),O.length&&(y="/"+O.join(".")+y),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=r.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[_])for(A=0,D=h.length;A<D;A++){var z=h[A];if(-1!==y.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),y=y.split(z).join(V)}}var q=y.indexOf("#");-1!==q&&(this.hash=y.substr(q),y=y.slice(0,q));var U=y.indexOf("?");if(-1!==U?(this.search=y.substr(U),this.query=y.substr(U+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,U)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var W=this.search||"";this.path=H+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(n[h]=e[h])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var d=u[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",b=n.search||"";n.path=g+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||y||n.host&&e.pathname,_=x,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=S.shift(),(L=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=L.shift(),n.host=n.hostname=L.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],T=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,A=0,E=S.length;E>=0;E--)"."===(C=S[E])?S.splice(E,1):".."===C?(S.splice(E,1),A++):A&&(S.splice(E,1),A--);if(!x&&!_)for(;A--;A)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var L,R=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(n.hostname=n.host=R?"":S.length?S.shift():"",(L=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=L.shift(),n.host=n.hostname=L.shift())),(x=x||n.host&&S.length)&&!R&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;
/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,l=2147483647,c=36,h=/^xn--/,u=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,g=String.fromCharCode;function m(e){throw new RangeError(d[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return v(e,function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+g(e)}).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=c)e=p(e/35);return p(r+36*e/(e+38))}function S(e){var t,n,r,i,o,s,a,h,u,f,d,g=[],v=e.length,b=0,y=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=b,s=1,a=c;i>=v&&m("invalid-input"),((h=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:c)>=c||h>p((l-b)/s))&&m("overflow"),b+=h*s,!(h<(u=a<=x?1:a>=x+26?26:a-x));a+=c)s>p(l/(f=c-u))&&m("overflow"),s*=f;x=_(b-o,t=g.length+1,0==o),p(b/t)>l-y&&m("overflow"),y+=p(b/t),b%=t,g.splice(b++,0,y)}return w(g)}function k(e){var t,n,r,i,o,s,a,h,u,f,d,v,b,w,S,k=[];for(v=(e=y(e)).length,t=128,n=0,o=72,s=0;s<v;++s)(d=e[s])<128&&k.push(g(d));for(r=i=k.length,i&&k.push("-");r<v;){for(a=l,s=0;s<v;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>p((l-n)/(b=r+1))&&m("overflow"),n+=(a-t)*b,t=a,s=0;s<v;++s)if((d=e[s])<t&&++n>l&&m("overflow"),d==t){for(h=n,u=c;!(h<(f=u<=o?1:u>=o+26?26:u-o));u+=c)S=h-f,w=c-f,k.push(g(x(f+S%w,0))),h=p(S/w);k.push(g(x(h,0))),o=_(n,b,r==i),n=0,++r}++n,++t}return k.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:w},decode:S,encode:k,toASCII:function(e){return b(e,function(e){return u.test(e)?"xn--"+k(e):e})},toUnicode:function(e){return b(e,function(e){return h.test(e)?S(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(421)(e),n(23))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(424),t.encode=t.stringify=n(425)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var u,f,d,p,g=e[h].replace(a,"%20"),m=g.indexOf(n);m>=0?(u=g.substr(0,m),f=g.substr(m+1)):(u=g,f=""),d=decodeURIComponent(u),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var r=n(1),i=r(n(30)),o=r(n(159)),s=r(n(37)),a=r(n(31)),l=r(n(7)),c=r(n(10)),h=n(427),u=n(428),f=function(){function e(t){var n=this;(0,l.default)(this,e),this.position=0,this.url=t,this.cache=new u({fetch:function(e,t){return n._fetch(e,t)}})}var n,r,f;return(0,c.default)(e,[{key:"_fetch",value:(f=(0,a.default)(i.default.mark(function e(n,r){var a,l,c,u,f,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={},r<1/0?l.range=(0,s.default)(c="bytes=".concat(n,"-")).call(c,n+r):r===1/0&&0!==n&&(l.range="bytes=".concat(n,"-")),e.next=4,h(this.url,{method:"GET",headers:l,redirect:"follow",mode:"cors"});case 4:if((200!==(u=e.sent).status||0!==n)&&206!==u.status){e.next=14;break}return e.t0=t,e.next=9,u.arrayBuffer();case 9:return e.t1=e.sent,f=e.t0.from.call(e.t0,e.t1),(d=/\/(\d+)$/.exec(u.headers.get("content-range")))[1]&&(this._stat={size:(0,o.default)(d[1],10)}),e.abrupt("return",f);case 14:throw new Error((0,s.default)(a="HTTP ".concat(u.status," fetching ")).call(a,this.url));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=r;return null===i&&(i=this.position,this.position+=n),this.cache.get(e,t,n,r)}},{key:"readFile",value:(r=(0,a.default)(i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"stat",value:(n=(0,a.default)(i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),e}();e.exports=f}).call(this,n(19).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=h(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,r,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];x.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise(function(r,o){var s=new y(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new x(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=y,e.Response=x),t.Headers=f,t.Request=y,t.Response=x,t.fetch=S}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},function(e,t,n){var r=n(1),i=r(n(30)),o=r(n(16)),s=r(n(76)),a=r(n(31)),l=r(n(7)),c=r(n(10)),h=n(94),u=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,o=t.chunkSize,s=void 0===o?32768:o;if((0,l.default)(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=s,this.lruCache=new h({maxSize:Math.floor(i/s)})}var t;return(0,c.default)(e,[{key:"get",value:(t=(0,a.default)(i.default.mark(function e(t,n,r,a){var l,c,h,u,f,d,p,g=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(l=Math.floor(a/this.chunkSize),c=Math.floor((a+r)/this.chunkSize),h=new Array(c-l+1),u=function(e){h[e-l]=g._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},f=l;f<=c;f+=1)u(f);return e.next=9,s.default.all(h);case 9:d=e.sent,p=a-d[0].chunkNumber*this.chunkSize,(0,o.default)(d).call(d,function(e){var i=e.data,o=e.chunkNumber,s=o*g.chunkSize,h=0,u=g.chunkSize,f=n+(o-l)*g.chunkSize-p;o===l&&(f=n,h=p),o===c&&(u=a+r-s),i.copy(t,f,h,u)});case 12:case"end":return e.stop()}},e,this)})),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}();e.exports=u},function(e,t,n){var r=n(1),i=r(n(30)),o=r(n(31)),s=r(n(7)),a=r(n(10)),l=(n(161).promisify,null),c=function(){function e(t){(0,s.default)(this,e),this.position=0,this.filename=t,this.fd=l(this.filename,"r")}var t,n,r;return(0,a.default)(e,[{key:"read",value:(r=(0,o.default)(i.default.mark(function e(t){var n,r,o,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,r=s.length>2?s[2]:void 0,null===(o=s.length>3?s[3]:void 0)&&(this.position,this.position+=r),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r,e.t5=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=8;break}return e.t0=null,e.next=4,this.fd;case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:this._stat=e.sent;case 8:return e.abrupt("return",this._stat);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}();e.exports=c},function(e,t,n){var r=n(1),i=r(n(48)),o=r(n(77)),s=r(n(101)),a=r(n(431)),l=r(n(16));e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return(0,l.default)(t).call(t,function(e){var t=e.split(/\t/),r=(0,a.default)(t),l=r[0],c=(0,s.default)(r).call(r,1),h=(0,o.default)(c).call(c,function(e){var t=e.split(":",2),n=(0,i.default)(t,2);return{tag:n[0],value:n[1]}});l&&n.push({tag:l.substr(1),data:h})}),n}}},function(e,t,n){var r=n(157),i=n(152),o=n(158);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t,n){var r=n(1),i=r(n(30)),o=r(n(103)),s=r(n(150)),a=r(n(48)),l=r(n(102)),c=r(n(16)),h=r(n(59)),u=r(n(76)),f=r(n(37)),d=r(n(77)),p=r(n(433)),g=r(n(31)),m=r(n(7)),v=r(n(10)),b=n(9),y=b.CramUnimplementedError,w=b.CramSizeLimitError,x=n(104),_=function(){function e(t){if((0,m.default)(this,e),t.cram?this.cram=t.cram:this.cram=new x({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof x))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return(0,v.default)(e,[{key:"getRecordsForRange",value:(t=(0,g.default)(i.default.mark(function e(t,n,r){var g,m,v,b,x,_,S,k,C,T,A,E,L,R,D,M,I,N,F,P,O,B,H,j,z,V,q,U,W,$,G,Z,X,Y,K,Q=this,J=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((_=J.length>3&&void 0!==J[3]?J[3]:{}).viewAsPairs=_.viewAsPairs||!1,_.pairAcrossChr=_.pairAcrossChr||!1,_.maxInsertSize=_.maxInsertSize||2e5,"string"!=typeof t){e.next=6;break}throw new y("string sequence names not yet supported");case 6:return S=t,e.next=9,this.index.getEntriesForRange(S,n,r);case 9:if(k=e.sent,!((C=(0,p.default)(g=(0,d.default)(k).call(k,function(e){return e.sliceBytes})).call(g,function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=13;break}throw new w((0,f.default)(m="data size of ".concat(C.toLocaleString()," bytes exceeded fetch size limit of ")).call(m,this.fetchSizeLimit.toLocaleString()," bytes"));case 13:return T=function(e){return e.sequenceId===t&&e.alignmentStart<=r&&e.alignmentStart+e.lengthOnRef-1>=n},e.next=16,u.default.all((0,d.default)(k).call(k,function(e){return Q.getRecordsInSlice(e,T)}));case 16:if(A=e.sent,E=(b=(0,f.default)(v=Array.prototype)).call.apply(b,(0,f.default)(x=[v]).call(x,(0,h.default)(A))),!_.viewAsPairs){e.next=42;break}for(M={},I={},N=0;N<E.length;N+=1)F=E[N].readName,P=E[N].uniqueId,M[F]||(M[F]=0),M[F]+=1,I[P]=1;for(O={},(0,c.default)(L=(0,l.default)(M)).call(L,function(e){var t=(0,a.default)(e,2),n=t[0];1===t[1]&&(O[n]=!0)}),B=[],H=0;H<E.length;H+=1)j=E[H].readName,O[j]&&E[H].mate&&(E[H].mate.sequenceId===S||_.pairAcrossChr)&&Math.abs(E[H].alignmentStart-E[H].mate.alignmentStart)<_.maxInsertSize&&(z=this.index.getEntriesForRange(E[H].mate.sequenceId,E[H].mate.alignmentStart,E[H].mate.alignmentStart+1),B.push(z));return e.next=28,u.default.all(B);case 28:for(V=e.sent,q=[],U=0;U<V.length;U+=1)(W=q).push.apply(W,(0,h.default)(V[U]));if(q=(0,s.default)(R=(0,o.default)(q).call(q,function(e,t){return e.toString().localeCompare(t.toString())})).call(R,function(e,t,n){return!t||e.toString()!==n[t-1].toString()}),$=[],G=[],!((Z=(0,p.default)(D=(0,d.default)(q).call(q,function(e){return e.sliceBytes})).call(D,function(e,t){return e+t},0))>this.fetchSizeLimit)){e.next=37;break}throw new Error((0,f.default)(X="mate data size of ".concat(Z.toLocaleString()," bytes exceeded fetch size limit of ")).call(X,this.fetchSizeLimit.toLocaleString()," bytes"));case 37:return(0,c.default)(q).call(q,function(e){var t=Q.cram.featureCache.get(e.toString());t||(t=Q.getRecordsInSlice(e,function(){return!0}),Q.cram.featureCache.set(e.toString(),t)),$.push(t);var n=t.then(function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];O[r.readName]&&!I[r.uniqueId]&&t.push(r)}return t});G.push(n)}),e.next=40,u.default.all(G);case 40:(Y=e.sent).length&&(K=(0,p.default)(Y).call(Y,function(e,t){return(0,f.default)(e).call(e,t)}),E=(0,f.default)(E).call(E,K));case 42:return e.abrupt("return",E);case 43:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.containerStart,r=e.sliceStart,i=e.sliceBytes;return this.cram.getContainerAtPosition(n).getSlice(r,i).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}();e.exports=_},function(e,t,n){e.exports=n(434)},function(e,t,n){e.exports=n(435)},function(e,t,n){var r=n(436),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?r:t}},function(e,t,n){n(437);var r=n(18);e.exports=r("Array").reduce},function(e,t,n){var r=n(0),i=n(438).left;r({target:"Array",proto:!0,forced:n(54)("reduce")},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(5),i=n(22),o=n(60),s=n(29),a=function(e){return function(t,n,a,l){r(n);var c=i(t),h=o(c),u=s(c.length),f=e?u-1:0,d=e?-1:1;if(a<2)for(;;){if(f in h){l=h[f],f+=d;break}if(f+=d,e?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:u>f;f+=d)f in h&&(l=n(l,h[f],f,c));return l}};e.exports={left:a(!1),right:a(!0)}},function(e,t,n){var r=n(1),i=r(n(30)),o=r(n(31)),s=r(n(103)),a=r(n(102)),l=r(n(16)),c=r(n(154)),h=r(n(440)),u=r(n(48)),f=r(n(442)),d=r(n(37)),p=r(n(75)),g=r(n(7)),m=r(n(10)),v=n(447).default,b=n(94),y=(0,n(161).promisify)(n(126).gunzip),w=n(160).open,x=n(9).CramMalformedError,_=function(){function e(t){(0,g.default)(this,e),(0,p.default)(this,t)}return(0,m.default)(e,[{key:"toString",value:function(){var e,t,n,r;return(0,d.default)(e=(0,d.default)(t=(0,d.default)(n=(0,d.default)(r="".concat(this.start,":")).call(r,this.span,":")).call(n,this.containerStart,":")).call(t,this.sliceStart,":")).call(e,this.sliceBytes)}}]),e}();function S(e,t){if((0,f.default)(t).call(t,function(e){return void 0===e}))throw new x("invalid .crai index file");var n=(0,u.default)(t,6),r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5];e[r]||(e[r]=[]),e[r].push(new _({start:i,span:o,containerStart:s,sliceStart:a,sliceBytes:l}))}var k=function(){function e(t){var n,r=this;(0,g.default)(this,e);var i=w(t.url,t.path,t.filehandle);this._parseCache=new v({cache:new b({maxSize:1}),fill:function(e,t){return r.parseIndex({signal:t})}}),this.readFile=(0,h.default)(n=i.readFile).call(n,i)}var t,n;return(0,m.default)(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then(function(e){return 31===e[0]&&139===e[1]?y(e):e}).then(function(t){var n;if(t.length>4&&21578050===t.readUInt32LE(0))throw new x("invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support");for(var r=[],i="",o=0;o<t.length;o+=1){var h=t[o];if(h>=48&&h<=57||!i&&45===h)i+=String.fromCharCode(h);else if(9===h)r.push((0,c.default)(i,10)),i="";else if(10===h)r.push((0,c.default)(i,10)),i="",S(e,r),r=[];else if(13!==h&&32!==h)throw new x("invalid .crai index file")}return i&&r.push((0,c.default)(i,10)),6===r.length&&S(e,r),(0,l.default)(n=(0,a.default)(e)).call(n,function(t){var n=(0,u.default)(t,2),r=n[0],i=n[1];e[r]=(0,s.default)(i).call(i,function(e,t){return e.start-t.start||e.span-t.span})}),e})}},{key:"getIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._parseCache.get("index",null,e.signal)}},{key:"hasDataForReferenceSequence",value:(n=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=(0,o.default)(i.default.mark(function e(t,n,r){var o,s,a,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(e.t0=t,o=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:for(s=function(e){var t=e.start,i=e.start+e.span;return t>=r?-1:i<=n?1:0},a=[],l=0;l<o.length;l+=1)0===s(o[l])&&a.push(o[l]);return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),e}();e.exports=k},function(e,t,n){e.exports=n(441)},function(e,t,n){e.exports=n(144)},function(e,t,n){e.exports=n(443)},function(e,t,n){e.exports=n(444)},function(e,t,n){var r=n(445),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?r:t}},function(e,t,n){n(446);var r=n(18);e.exports=r("Array").some},function(e,t,n){var r=n(0),i=n(45).some;r({target:"Array",proto:!0,forced:n(54)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(448));t.default=i.default},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(162),o=r(n(450)),s=function(){function e(e){var t=e.fill,n=e.cache;if("function"!=typeof t)throw new TypeError("must pass a fill function");if("object"!=typeof n)throw new TypeError("must pass a cache object");if("function"!=typeof n.get||"function"!=typeof n.set||"function"!=typeof n.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}return e.isAbortException=function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message},e.prototype.evict=function(e,t){this.cache.get(e)===t&&this.cache.delete(e)},e.prototype.fill=function(e,t,n){var r=this,i=new o.default,s={aborter:i,promise:this.fillCallback(t,i.signal),settled:!1,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(n),s.aborter.signal.addEventListener("abort",function(){r.evict(e,s)}),s.promise.then(function(){s.settled=!0},function(t){s.settled=!0,r.evict(e,s)}).catch(function(e){throw console.error(e),e}),this.cache.set(e,s)},e.checkSinglePromise=function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(function(e){return n(),e},function(e){throw n(),e})},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.get=function(t,n,r){if(!r&&n instanceof i.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var o=this.cache.get(t);return o?o.aborted?(this.evict(t,o),this.get(t,n,r)):o.settled?o.promise:(o.aborter.addSignal(r),e.checkSinglePromise(o.promise,r)):(this.fill(t,n,r),e.checkSinglePromise(this.cache.get(t).promise,r))},e.prototype.delete=function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))},e.prototype.clear=function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t},e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(){r(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return o(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout(function(){return n.call(t,e)})},r=this.listeners[e.type],i=0,o=r.length;i<o;i++)n(r[i]);return!e.defaultPrevented}}}]),e}(),u=function(e){function t(){var e;return r(this,t),(e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}(this,s(t).call(this))).listeners||h.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),o(t,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(s(t.prototype),"dispatchEvent",this).call(this,e)}}]),t}(h),f=function(){function e(){r(this,e),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return o(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),t.AbortController=f,t.AbortSignal=u,t.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=void 0===r?n.Request:r,o=t.AbortController,s=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==s&&s;if(!function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||a)&&((l=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var c=n;return{fetch:function(e,t){var n=l&&l.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(e){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise(function(e,t){n.addEventListener("abort",function(){return t(r)},{once:!0})});return t&&t.signal&&delete t.signal,Promise.race([i,c(e,t)])}return c(e,t)},Request:l}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(162),i=function(){},o=function(){function e(){this.signals=new Set,this.abortController=new r.AbortController}return e.prototype.addSignal=function(e){var t=this;if(void 0===e&&(e=new i),this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",function(){t.handleAborted(e)})},e.prototype.handleAborted=function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()},Object.defineProperty(e.prototype,"signal",{get:function(){return this.abortController.signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){this.abortController.abort()},e}();t.default=o}]);class nu{constructor(e,t,n){this.config=e,this.browser=n,this.genome=t,this.cramFile=new tu.CramFile({filehandle:new ru(e.url,e),seqFetch:e.seqFetch||function(e,t,n){const r=this.genome.sequence,i=this.genome;return this.getHeader().then(function(o){const s=i.getChromosomeName(o.chrNames[e]);return r.getSequence(s,t-1,n)})}.bind(this),checkSequenceMD5:void 0===e.checkSequenceMD5||e.checkSequenceMD5});const r=new ru(e.indexURL,e);this.indexedCramFile=new tu.IndexedCramFile({cram:this.cramFile,index:new tu.CraiIndex({filehandle:r}),fetchSizeLimit:3e7}),qh.setReaderDefaults(this,e)}async getHeader(){if(!this.header){const e=this.genome,t=await this.cramFile.getSamHeader(),n={},r=[],i={},o=[];for(let s of t)if("SQ"===s.tag){for(let t of s.data)if("SN"===t.tag){const o=t.value;if(n[o]=r.length,r.push(o),e){i[e.getChromosomeName(o)]=o}break}}else"RG"===s.tag&&o.push(s.data);this.header={chrNames:r,chrToIndex:n,chrAliasTable:i,readGroups:o}}return this.header}async readAlignments(e,t,n){this.browser;const r=await this.getHeader(),i=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,o=r.chrToIndex[i],s=new Sh(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold);if(void 0===o)return s;try{const e=await this.indexedCramFile.getRecordsForRange(o,t,n);for(let i of e){const e=i.sequenceId,l=i.alignmentStart,c=l+i.lengthOnRef;if(e<0)continue;if(e>o||l>n)return;if(e<o)continue;if(c<t)continue;const h=a(i,r.chrNames);this.filter.pass(h)&&s.push(h)}return s.finish(),s}catch(e){let t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),is.presentAlert(new Error(t)),e}function a(e,t){const n=new Rh;if(n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId){const r=void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags);n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:r}}return n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,function(e,t){const n=[];let r,i,o=0,s="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures)for(let a of e.readFeatures){const e=a.code,l=a.data,c=a.pos-1,h=a.refPos-1;switch(e){case"S":case"I":case"i":case"N":case"D":if(c>o){const e=c-o;n.push(new Oh({start:h-e,seqOffset:o,len:e,type:"M"})),o+=e,s+=e+"M"}if("S"===e){let r=h;t.scLengthOnRef+=l.length,0===c&&(t.scStart-=l.length,r-=l.length);const i=l.length;n.push(new Oh({start:r,seqOffset:o,len:i,type:"S"})),o+=i,s+=i+e}else if("I"===e||"i"===e){void 0===r&&(r=[]);const t="i"===e?1:l.length;r.push(new Oh({start:h,len:t,seqOffset:o,type:"I"})),o+=t,s+=t+e}else"D"!==e&&"N"!==e||(i||(i=[]),i.push({start:h,len:l,type:e}),s+=l+e);break;case"H":case"P":s+=l+e}}const a=e.readLength-o;a>0&&(n.push(new Oh({start:e.alignmentStart+e.lengthOnRef-a-1,seqOffset:o,len:a,type:"M"})),s+=a+"M");t.blocks=n,t.insertions=r,t.gaps=i,t.cigar=s}(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),qh.setPairOrientation(n),n}}}class ru{constructor(e,t){this.position=0,this.url=e,this.config=t,this.cache=new iu({fetch:(e,t)=>this._fetch(e,t)})}async _fetch(e,t){const n={start:e,size:t};this._stat={size:void 0};const r=await xo.loadArrayBuffer(this.url,pa(this.config,{range:n}));return Buffer.from(r)}async read(e,t=0,n=1/0,r=0){let i=r;return null===r&&(i=this.position,this.position+=n),this.cache.get(e,t,n,r)}async readFile(){const e=await xo.loadArrayBuffer(this.url,pa(this.config));return Buffer.from(e)}async stat(){if(!this._stat){const e=Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}}class iu{constructor({fetch:e,size:t=1e7,chunkSize:n=32768}){this.fetch=e,this.chunkSize=n,this.lruCache=new ou({maxSize:Math.floor(t/n)})}async get(e,t,n,r){if(e.length<t+n)throw new Error("output buffer not big enough for request");const i=Math.floor(r/this.chunkSize),o=Math.floor((r+n)/this.chunkSize),s=new Array(o-i+1);for(let e=i;e<=o;e+=1)s[e-i]=this._getChunk(e).then(t=>({data:t,chunkNumber:e}));const a=await Promise.all(s),l=r-a[0].chunkNumber*this.chunkSize;a.forEach(({data:s,chunkNumber:a})=>{const c=a*this.chunkSize;let h=0,u=this.chunkSize,f=t+(a-i)*this.chunkSize-l;a===i&&(f=t,h=l),a===o&&(u=r+n-c),s.copy(e,f,h,u)})}_getChunk(e){const t=this.lruCache.get(e);if(t)return t;const n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}class ou{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}var su={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"};const au=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new Bh(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,e.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=void 0===e.pairsSupported||e.pairsSupported};au.prototype.readAlignments=function(e,t,n){const r=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then(function(e){if(i.chrAliasTable={},r&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?fc({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then(function(e){return e.forEach(function(e){var t=e.name,n=r.getChromosomeName(t);i.chrAliasTable[n]=t}),i.chrAliasTable}):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable})).then(function(r){var s=r.hasOwnProperty(e)?r[e]:e;return fc({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:s,start:t,end:n,pageSize:"10000"},decode:o,results:new Sh(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})});function o(e){var t,n,o,s,a,l=e.alignments,c=l.length,h=[];for(t=0;t<c;t++){let e=l[t];(n=new Rh).readName=e.fragmentName,n.properPlacement=e.properPlacement,n.duplicateFragment=e.duplicateFragment,n.numberReads=e.numberReads,n.fragmentLength=e.fragmentLength,n.readNumber=e.readNumber,n.failedVendorQualityChecks=e.failedVendorQualityChecks,n.secondaryAlignment=e.secondaryAlignment,n.supplementaryAlignment=e.supplementaryAlignment,n.seq=e.alignedSequence,n.qual=e.alignedQuality,n.matePos=e.nextMatePosition,n.tagDict=e.info,n.flags=0,e.alignment?(n.mapped=!0,n.chr=e.alignment.position.referenceName,r&&(n.chr=r.getChromosomeName(n.chr)),n.start=parseInt(e.alignment.position.position),n.strand=!e.alignment.position.reverseStrand,n.mq=e.alignment.mappingQuality,n.cigar=u(e.alignment.cigar),o=f(e.alignment.cigar),n.lengthOnRef=o.lengthOnRef,a=d(n,o.array),n.blocks=a.blocks,n.insertions=a.insertions):n.mapped=!1,(s=e.nextMatePosition)&&(n.mate={chr:s.referenceFrame,position:parseInt(s.position),strand:!s.reverseStrand}),i.filter.pass(n)&&h.push(n)}return h;function u(e){var t="";return e.forEach(function(e){var n=su[e.operation],r=e.operationLength;t+=r+n}),t}function f(e){var t,n,r,i,o=0,s=[];for(i=0;i<e.length;i++)t=e[i],r=su[t.operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(o+=n),s.push({len:n,ltr:r});return{lengthOnRef:o,array:s}}function d(e,t){for(var n,r,i,o=[],s=0,a=e.start,l=t.length,c=0;c<l;c++){var h=t[c];switch(h.ltr){case"H":case"P":break;case"S":s+=h.len,i="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:a,len:h.len,type:h.ltr}),a+=h.len;break;case"I":void 0===r&&(r=[]),r.push(new Oh({start:a,len:h.len,seqOffset:s})),s+=h.len;break;case"M":case"EQ":case"=":case"X":o.push(new Oh({start:a,len:h.len,seqOffset:s,gapType:i})),s+=h.len,a+=h.len;break;default:console.log("Error processing cigar element: "+h.len+h.ltr)}}return{blocks:o,insertions:r,gaps:n}}}},au.prototype.readMetadata=function(){return uc({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};class lu{constructor(e,t){const n=t.genome;if(this.config=e,this.genome=n,this.alignmentContainer=void 0,ya(e.url)){if("cram"===e.format)throw"CRAM data uris are not supported";this.config.indexed=!1}if("ga4gh"===e.sourceType)this.bamReader=new au(e,n);else if("pysam"===e.sourceType)this.bamReader=new Kh(e,n);else if("htsget"===e.sourceType)this.bamReader=new Jh(e,n);else if("shardedBam"===e.sourceType)this.bamReader=new Yh(e,n);else if("cram"===e.format)this.bamReader=new nu(e,n,t);else{if(!this.config.indexURL&&!1!==e.indexed)if(_t(this.config.url)){const e=function(e,t){if(_t(e)){if(e.includes("?")){const n=e.indexOf("?");return e.substring(0,n)+"."+t+e.substring(n)}return e+"."+t}}(this.config.url,"bai");e?(console.error(`Warning: no indexURL specified for ${this.config.url}.  Guessing ${this.baiPath}`),this.config.indexURL=e):(console.error(`Warning: no indexURL specified for ${this.config.url}.`),this.config.indexed=!1)}else console.error(`Warning: no indexURL specified for ${this.config.name}.`),this.config.indexed=!1;!1!==this.config.indexed?this.bamReader=new Xh(e,n):this.bamReader=new Zh(e,n)}this.viewAsPairs=e.viewAsPairs,this.showSoftClips=e.showSoftClips}setViewAsPairs(e){this.viewAsPairs!==e&&(this.viewAsPairs=e)}setShowSoftClips(e){this.showSoftClips!==e&&(this.showSoftClips=e)}async getAlignments(e,t,n){const r=this.genome,i=this.showSoftClips;if(console.log("in getALignments"),this.alignmentContainer&&this.alignmentContainer.contains(e,t,n))return console.log("returning cached container"),this.alignmentContainer;{console.log("refreshing alignments");const o=await this.bamReader.readAlignments(e,t,n);let s=o.alignments;this.viewAsPairs||(s=xh([{alignments:s}]));const a=s.length>0;if(o.packedAlignmentRows=_h(s,o.start,o.end,i),o.alignments=void 0,this.alignmentContainer=o,a){const t=await r.sequence.getSequence(e,o.start,o.end);if(t)return console.log("got something back"),o.coverageMap.refSeq=t,o.sequence=t,o;console.error("No sequence for: "+e+":"+o.start+"-"+o.end)}return o}}}const cu="rgb(185, 185, 185)";class hu extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.type="alignment",void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new lu(e,this.browser),this.showCoverage=void 0===e.showCoverage||e.showCoverage,this.showAlignments=void 0===e.showAlignments||e.showAlignments,this.coverageTrack=new uu(e,this),this.alignmentTrack=new fu(e,this),this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=!1!==e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.showMismatches=!1!==e.showMismatches,this.color=e.color,this.coverageColor=e.coverageColor,this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,e.sort&&(Array.isArray(e.sort)?this.assignSort(e.sort[0]):this.assignSort(e.sort)),this.height=void 0!==e.height?e.height:300}set height(e){this._height=e,this.coverageTrack&&this.showAlignments&&(this.alignmentTrack.height=this.showCoverage?e-this.coverageTrack.height:e)}get height(){return this._height}sort(e){e=this.assignSort(e);for(let t of this.trackView.viewports)if(t.containsPosition(e.chr,e.position)){const n=t.getCachedFeatures();n&&(du(e,n),t.repaint())}}assignSort(e){if(e.locus){const t=function(e){const t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return n.length>1?r.end=Number.parseInt(n[1].replace(/,/g,"")):r.end=r.start+1,r}(e.locus);e.chr=t.chr,e.position=t.start}else e.position--;return e.direction="ASC"===e.direction||!0===e.direction,e.chr=this.browser.genome.getChromosomeName(e.chr),this.sortObject=e,this.sortObject}async getFeatures(e,t,n,r,i){console.log("bamtrack.getFeatures: start "+t+"end "+n);const o=await this.featureSource.getAlignments(e,t,n);o.alignments&&o.alignments.length>99&&(void 0===this.minFragmentLength&&(this.minFragmentLength=o.pairedEndStats.lowerFragmentLength),void 0===this.maxFragmentLength&&(this.maxFragmentLength=o.pairedEndStats.upperFragmentLength));const s=this.sortObject;return s&&s.chr===e&&s.position>=t&&s.position<=n&&du(s,o),o}computePixelHeight(e){return(this.showCoverage?this.coverageTrack.height:0)+(this.showAlignments?this.alignmentTrack.computePixelHeight(e):0)+15}draw(e){gs.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),!0===this.showCoverage&&this.coverageTrack.height>0?(this.trackView.axisCanvas.style.display="block",this.coverageTrack.draw(e)):this.trackView.axisCanvas.style.display="none",!0===this.showAlignments&&(this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.alignmentTrack.draw(e))}paintAxis(e,t,n){this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)}contextMenuItemList(e){return this.alignmentTrack.contextMenuItemList(e)}popupData(e){return!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)}menuItemList(){let e=[];e=e.concat(zo.numericDataMenuItems(this.trackView)),e.push("<hr/>");const t=dt('<div class="igv-track-menu-category">');t.text("Color by:"),e.push({name:void 0,object:t,click:void 0,init:void 0});const n=[{key:"strand",label:"read strand"}];this.alignmentTrack.hasPairs&&(n.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),n.push({key:"pairOrientation",label:"pair orientation"}),n.push({key:"fragmentLength",label:"insert size (TLEN)"}));const r="tag"+(this.alignmentTrack.colorByTag?" ("+this.alignmentTrack.colorByTag+")":"");n.push({key:"tag",label:r});for(let t of n){const n=this.alignmentTrack.colorBy===t.key;e.push(this.colorByCB(t,n))}const i=()=>{if(!this.autoHeight){const e=15+(this.showCoverage?this.coverageTrack.height:0)+(this.showAlignments?this.alignmentTrack.height:0);this.trackView.setTrackHeight(e)}};e.push("<hr/>"),e.push({object:dt(jo("Show Coverage",this.showCoverage)),click:()=>{this.showCoverage=!this.showCoverage,i(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push({object:dt(jo("Show Alignments",this.showAlignments)),click:()=>{this.showAlignments=!this.showAlignments,i(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push("<hr/>"),e.push({object:dt(jo("Show all bases",this.showAllBases)),click:()=>{this.showAllBases=!this.showAllBases,this.config.showAllBases=this.showAllBases,this.trackView.repaintViews()}}),e.push({object:dt(jo("Show soft clips",this.showSoftClips)),click:()=>{this.showSoftClips=!this.showSoftClips,this.config.showSoftClips=this.showSoftClips,this.featureSource.setShowSoftClips(this.showSoftClips);const e=this.getCachedAlignmentContainers();for(let t of e)t.setShowSoftClips(this.showSoftClips);this.trackView.repaintViews()}}),this.pairsSupported&&this.alignmentTrack.hasPairs&&(e.push("<hr/>"),e.push({object:dt(jo("View as pairs",this.viewAsPairs)),click:()=>{this.viewAsPairs=!this.viewAsPairs,this.config.viewAsPairs=this.viewAsPairs,this.featureSource.setViewAsPairs(this.viewAsPairs);const e=this.getCachedAlignmentContainers();for(let t of e)t.setViewAsPairs(this.viewAsPairs);this.trackView.repaintViews()}})),e.push("<hr/>");const o=dt('<div class="igv-track-menu-category">');return o.text("Display mode:"),e.push({name:void 0,object:o,click:void 0,init:void 0}),e.push({object:dt(jo("expand","EXPANDED"===this.alignmentTrack.displayMode)),click:()=>{this.alignmentTrack.displayMode="EXPANDED",this.config.displayMode="EXPANDED",this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push({object:dt(jo("squish","SQUISHED"===this.alignmentTrack.displayMode)),click:()=>{this.alignmentTrack.displayMode="SQUISHED",this.config.displayMode="SQUISHED",this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e}colorByCB(e,t){return{name:void 0,object:dt(jo(e.label,t)),click:t=>{e.key===this.alignmentTrack.colorBy?(this.alignmentTrack.colorBy="none",this.config.colorBy="none",this.trackView.repaintViews()):"tag"===e.key?this.browser.inputDialog.present({label:"Tag Name",value:this.alignmentTrack.colorByTag?this.alignmentTrack.colorByTag:"",callback:e=>{this.alignmentTrack.colorBy="tag",this.config.colorBy="tag",e!==this.alignmentTrack.colorByTag&&(this.alignmentTrack.colorByTag=e,this.config.colorByTag=e,this.alignmentTrack.tagColors=new _s("Set1"),dt("#color-by-tag").text(self.alignmentTrack.colorByTag)),this.trackView.repaintViews()}},t):(this.alignmentTrack.colorBy=e.key,this.config.colorBy=e.key,this.trackView.repaintViews())},init:void 0}}dispose(){this.trackView=void 0}getState(){const e=super.getState();return this.sortObject&&(e.sort={chr:this.sortObject.chr,position:this.sortObject.position+1,option:this.sortObject.option,direction:this.sortObject.direction?"ASC":"DESC"}),e}getCachedAlignmentContainers(){return this.trackView.viewports.map(e=>e.getCachedFeatures())}get dataRange(){return this.coverageTrack.dataRange}set dataRange(e){this.coverageTrack.dataRange=e}get logScale(){return this.coverageTrack.logScale}set logScale(e){this.coverageTrack.logScale=e}get autoscale(){return this.coverageTrack.autoscale}set autoscale(e){this.coverageTrack.autoscale=e}}class uu{constructor(e,t){this.parent=t,this.featureSource=t.featureSource,this.height=void 0!==e.coverageTrackHeight?e.coverageTrackHeight:50,this.paintAxis=lh,this.top=0,this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max})}draw(e){const t=e.pixelTop;e.pixelHeight;const n=this.parent.browser.nucleotideColors;if(t>this.height)return;const r=e.context,i=e.features.coverageMap;let o;i.refSeq&&(o=i.refSeq.toUpperCase());const s=e.bpPerPixel,a=e.bpStart,l=a+e.pixelWidth*s+1;let c=this.parent.coverageColor||"rgb(150, 150, 150)";void 0!==this.parent.color&&(c=lo.darkenLighten(this.parent.color,-35)),gs.setProperties(r,{fillStyle:c,strokeStyle:c});const h=Math.max(1,Math.ceil(1/s));for(let e=0,t=i.coverage.length;e<t;e++){const t=i.bpStart+e;if(t<a)continue;if(t>l)break;const n=i.coverage[e];if(!n)continue;const o=Math.round(n.total/this.dataRange.max*this.height),c=this.height-o,u=Math.floor((t-a)/s);gs.fillRect(r,u,c,h,o)}if(o)for(let e=0,t=i.coverage.length;e<t;e++){const t=i.bpStart+e;if(t<a)continue;if(t>l)break;const c=i.coverage[e];if(!c)continue;const u=c.total/this.dataRange.max*this.height;let f=this.height-u;const d=Math.floor((t-a)/s),p=o[e];if(c.isMismatch(p)){gs.setProperties(r,{fillStyle:n[p]}),gs.fillRect(r,d,f,h,u);let e=0;for(let t of["A","C","T","G"]){const i=(c["pos"+t]+c["neg"+t])/this.dataRange.max*this.height;f=this.height-i-e,e+=i,gs.setProperties(r,{fillStyle:n[t]}),gs.fillRect(r,d,f,h,i)}}}}popupData(e){let t=e.viewport.getCachedFeatures();if(!t||0===t.length)return;let n=Math.floor(e.genomicLocation),r=e.viewport.referenceFrame,i=t.coverageMap,o=[],s=Math.floor(n-i.bpStart),a=i.coverage[s];if(a){o.push(r.chr+":"+St(1+n)),o.push({name:"Total Count",value:a.total});let e=a.posA+a.negA;e>0&&(e=e.toString()+" ("+Math.round(e/a.total*100)+"%, "+a.posA+"+, "+a.negA+"- )"),o.push({name:"A",value:e}),e=a.posC+a.negC,e>0&&(e=e.toString()+" ("+Math.round(e/a.total*100)+"%, "+a.posC+"+, "+a.negC+"- )"),o.push({name:"C",value:e}),e=a.posG+a.negG,e>0&&(e=e.toString()+" ("+Math.round(e/a.total*100)+"%, "+a.posG+"+, "+a.negG+"- )"),o.push({name:"G",value:e}),e=a.posT+a.negT,e>0&&(e=e.toString()+" ("+Math.round(e/a.total*100)+"%, "+a.posT+"+, "+a.negT+"- )"),o.push({name:"T",value:e}),e=a.posN+a.negN,e>0&&(e=e.toString()+" ("+Math.round(e/a.total*100)+"%, "+a.posN+"+, "+a.negN+"- )"),o.push({name:"N",value:e}),o.push("<HR/>"),o.push({name:"DEL",value:a.del.toString()}),o.push({name:"INS",value:a.ins.toString()})}return o}}class fu{constructor(e,t){this.parent=t,this.browser=t.browser,this.featureSource=t.featureSource,this.top=0===e.coverageTrackHeight?0:e.coverageTrackHeight+5,this.displayMode=e.displayMode||"EXPANDED",this.alignmentRowHeight=e.alignmentRowHeight||14,this.squishedRowHeight=e.squishedRowHeight||3,this.negStrandColor=e.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=e.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=e.insertionColor||"rgb(138, 94, 161)",this.deletionColor=e.deletionColor||"black",this.skippedColor=e.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=e.pairConnectorColor,this.smallFragmentLengthColor=e.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=e.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=e.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=e.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=e.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=e.llColor||"rgb(0, 150, 150)",this.colorBy=e.colorBy||"pairOrientation",this.colorByTag=e.colorByTag?e.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===e.bamColorTag?"YC":e.bamColorTag,this.hideSmallIndels=e.hideSmallIndels,this.indelSizeThreshold=e.indelSizeThreshold||1,this.hasPairs=!1}setTop(e,t){this.top=0===e.height||!1===t?0:5+e.height}computePixelHeight(e){if(e.packedAlignmentRows){return(e.hasDownsampledIntervals()?10:0)+("SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight)*e.packedAlignmentRows.length+5}return 0}draw(e){const t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,s=i+o*r+1,a=t.packedAlignmentRows,l=this.parent.showSoftClips,c=this.parent.showAllBases,h=this.browser.nucleotideColors;n.save();let u=t.sequence;u&&(u=u.toUpperCase());let f=0,d=e.pixelTop;this.top&&n.translate(0,this.top);const p=d+e.pixelHeight;t.hasDownsampledIntervals()?(f=10,t.downsampledIntervals.forEach(function(e){var t=(e.start-i)/r,o=(e.end-i)/r;o-t>5&&(t+=1,o-=1),gs.fillRect(n,t,2,o-t,3,{fillStyle:"black"})})):f=0,this.alignmentsYOffset=f;const g="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;if(a){const e=a.length;for(let t=0;t<e;t++){const e=a[t],n=f+g*t,r=g<=4?g:g-2;if(n>p)break;if(!(n+r<d))for(let t of e.alignments)if(this.hasPairs=this.hasPairs||t.isPaired(),!(t.start+t.lengthOnRef<i)){if(t.start>s)break;!0!==t.hidden&&(t instanceof mh?(m.call(this,t,n,r),v.call(this,t.firstAlignment,n,r),t.secondAlignment&&v.call(this,t.secondAlignment,n,r)):v.call(this,t,n,r))}}}function m(e,t,o){var a=this.getConnectorColor(e.firstAlignment),l=(e.connectingStart-i)/r,c=(e.connectingEnd-i)/r,h=t+o/2;e.connectingEnd<i||e.connectingStart>s||(e.mq<=0&&(a=lo.addAlpha(a,.15)),gs.setProperties(n,{fillStyle:a,strokeStyle:a}),gs.strokeLine(n,l,h,c,h))}function v(e,o,a){if(e.start+e.lengthOnRef<i||e.start>s)return;const f=l?e.blocks:e.blocks.filter(e=>"S"!==e.type);let d=this.getAlignmentColor(e);const p=d;e.mq<=0&&(d=lo.addAlpha(d,.15)),gs.setProperties(n,{fillStyle:d,strokeStyle:p});for(let e=0;e<f.length;e++){const t=f[e];if(!(e!==f.length-1&&f[e+1].start<i)&&(m.call(this,t,e),t.start+t.len>s))break}if(e.insertions){let t=-1;for(let l of e.insertions){if(this.hideSmallIndels&&l.len<=this.indelSizeThreshold)continue;if(l.start<i)continue;if(l.start>s)break;const e=(l.start-i)/r-1;if(e-t>2){const r=3;gs.fillRect(n,e,o-1,r,a+2,{fillStyle:this.insertionColor}),t=e}}}if(e.gaps){const t=o+a/2;for(let o of e.gaps){const e=(o.start-i)/r,s=(o.start+o.len-i)/r,a="D"===o.type?this.deletionColor:this.skippedColor;gs.strokeLine(n,e,t,s,t,{strokeStyle:a})}}function m(s,l){const m=s.start-t.start,b=(s.start-i)/r,y=(s.start+s.len-i)/r,w=Math.max(1,y-b),x=g/2,_="S"===s.type,S=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||_;let k=p;this.highlightedAlignmentReadNamed===e.readName?k="red":_&&(k="rgb(50,50,50)");const C=!0===e.strand&&l===f.length-1,T=!1===e.strand&&0===l,A=C|T;if(console.log("drawBlock"),A){let e,t;C?(e=[b,y,y+x,y,b,b],t=[o,o,o+a/2,o+a,o+a,o]):T&&(e=[y,b,b-x,b,y,y],t=[o,o,o+a/2,o+a,o+a,o]),gs.fillPolygon(n,e,t,{fillStyle:d}),S&&gs.strokePolygon(n,e,t,{strokeStyle:k})}else gs.fillRect(n,b,o,w,a,{fillStyle:d}),S&&(n.save(),n.strokeStyle=k,n.strokeRect(b,o,w,a),n.restore());if(this.parent.showMismatches&&(_||c||u&&e.seq&&"*"!==e.seq)){const t=e.seq?e.seq.toUpperCase():void 0,l=e.qual,f=s.seqOffset;for(let e=0,d=s.len;e<d;e++){if(m+e<0)continue;let d=t?t.charAt(f+e):"";const p=u.charAt(m+e);if("="===d&&(d=p),"X"===d||p!==d||_||c){let t;if(!_&&void 0!==l&&l.length>f+e){t=pu(l[f+e],h[d])}else t=h[d];if(t){const l=(s.start+e-i)/r,c=Math.max(1,1/r);v(n,r,{x:l,y:o,width:c,height:a},t,d)}}}}if(e.tags().NM){const t=e.tags().NM,l=2*x+(s.start+s.len-i)/r,c=Math.min(10,a);n.font=c+"px sans-serif";const h=lo.greyScale(68);1==t.indexOf("i")&&(h="black"),gs.fillText(n,t,l,c-1+o,{fillStyle:h})}}function v(e,t,n,r,i){var o;if(.1,t<=.1&&n.height>=8){const t=Math.min(10,n.height);e.font=t+"px sans-serif",o=n.x+n.width/2,gs.strokeText(e,i,o-e.measureText(i).width/2,t-1+n.y,{strokeStyle:r})}else gs.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}n.restore()}popupData(e){const t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0}contextMenuItemList(e){const t=e.viewport,n=[],r=n=>{const r=this.parent.sortObject,i=!r||r.position!==Math.floor(e.genomicLocation)||!r.direction,o={chr:t.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:n,direction:i};this.parent.sortObject=o,du(o,t.getCachedFeatures()),t.repaint()};n.push("<b>Sort by...</b>"),n.push({label:"&nbsp; base",click:()=>r("BASE")}),n.push({label:"&nbsp; read strand",click:()=>r("STRAND")}),n.push({label:"&nbsp; insert size",click:()=>r("INSERT_SIZE")}),n.push({label:"&nbsp; gap size",click:()=>r("GAP_SIZE")}),n.push({label:"&nbsp; chromosome of mate",click:()=>r("MATE_CHR")}),n.push({label:"&nbsp; mapping quality",click:()=>r("MQ")}),n.push({label:"&nbsp; read name",click:()=>r("READ_NAME")}),n.push({label:"&nbsp; tag",click:()=>{const n=this.parent.sortObject,r=!n||n.position!==Math.floor(e.genomicLocation)||!n.direction,i={label:"Tag Name",value:this.sortByTag?this.sortByTag:"",callback:n=>{if(n){const i={chr:t.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:"TAG",tag:n,direction:r};this.sortByTag=n,this.parent.sortObject=i,du(i,t.getCachedFeatures()),t.repaint()}}};this.browser.inputDialog.present(i,e.event)}}),n.push("<hr/>");const i=this.getClickedObject(t,e.y,e.genomicLocation);if(i){const t=this.parent.showSoftClips,r="function"==typeof i.alignmentContaining?i.alignmentContaining(e.genomicLocation,t):i;r.isPaired()&&r.isMateMapped()&&n.push({label:"View mate in split screen",click:()=>{if(r.mate){const t=e.viewport.referenceFrame;this.browser.genome.getChromosome(r.mate.chr)?(this.highlightedAlignmentReadNamed=r.readName,this.browser.presentMultiLocusPanel(r,t)):is.presentAlert(`Reference does not contain chromosome: ${r.mate.chr}`)}},init:void 0}),n.push({label:"View read sequence",click:()=>{if(!r)return;const e=r.seq;e&&"*"!==e?is.presentAlert(e):is.presentAlert("Read sequence: *")}}),n.push({label:"Copy read sequence",click:()=>{if(!r)return;const e=r.seq;navigator.clipboard.writeText(e)}}),n.push("<hr/>")}return n}getClickedObject(e,t,n){const r=this.parent.showSoftClips;let i=e.getCachedFeatures();if(!i||0===i.length)return;let o=i.packedAlignmentRows,s=i.downsampledIntervals;const a="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;let l=Math.floor((t-this.top-this.alignmentsYOffset)/a);if(l<0){for(let e=0;e<s.length;e++)if(s[e].start<=n&&s[e].end>=n)return s[e]}else if(l<o.length){const e=o[l].alignments.filter(e=>e.containsLocation(n,r));if(e.length>0)return e[0]}}getConnectorColor(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}}getAlignmentColor(e){let t=this.parent.color||cu;switch(this.colorBy){case"strand":t=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof mh?t=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?t=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?t=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)t=mu(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var n=gu[this.pairOrientation];if(n){var r=this.pairColors[n[e.pairOrientation]];r&&(t=r)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?t=mu(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?t=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(t=this.largeFragmentLengthColor);break;case"tag":const i=e.tags()[this.colorByTag];void 0!==i&&(this.bamColorTag===this.colorByTag?t="rgb("+i+")":(this.tagColors||(this.tagColors=new _s("Set1")),t=this.tagColors.getColor(i)));break;default:t=this.parent.color||cu}return t}}function du(e,t){const n=e.direction;for(let n of t.packedAlignmentRows)n.updateScore(e,t);t.packedAlignmentRows.sort(function(e,t){const r=e.score>t.score?1:e.score<t.score?-1:0;return!0===n?r:-r})}function pu(e,t){let n;return n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),n=Math.round(10*n)/10,n<1&&(t=lo.addAlpha(t,n)),t}const gu={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function mu(e){if(vu[e])return vu[e];if(vu["chr"+e]){const t=vu["chr"+e];return vu[e]=t,t}{const t=lo.randomRGB();return vu[e]=t,t}}const vu={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"};class bu extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcType=e.arcType||"nested",this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.showBlocks=void 0===e.showBlocks||e.showBlocks,this.blockHeight=e.blockHeight||3,this.thickness=e.thickness||1,this.color=e.color||"rgb(180,25,137)",this.alpha=e.alpha||.15,e.valueColumn?(this.valueColumn=e.valueColumn,this.hasValue=!0):e.useScore&&(this.hasValue=!0,this.valueColumn="score"),this.logScale=!1!==e.logScale,e.max?(this.dataRange={min:e.min||0,max:e.max},this.autoscale=!1):this.autoscale=!0,this.featureSource=Gc(e,this.browser.genome),this.featureSource.getWGFeatures=Su}async postInit(){return"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow(),this.featureSource.visibilityWindow=this.visibilityWindow),this}supportsWholeGenome(){return!0}async getFeatures(e,t,n){const r=this.visibilityWindow,i=await this.featureSource.getFeatures({chr:e,start:t,end:n,visibilityWindow:r});return console.log("getFeatures: start $(start) end $(end)"),void 0===this.hasValue&&i&&i.length>0&&(this.hasValue=void 0!==i[0].score),i}draw(e){"proportional"===this.arcType?this.drawProportional(e):this.drawNested(e)}drawNested(e){const t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.viewportWidth,o=e.bpPerPixel,s=e.bpStart,a=o;gs.fillRect(t,0,e.pixelTop,n,r,{fillStyle:"rgb(255, 255, 255)"});const l=e.features;if(l){(function(){let e=0;for(let t of l){let r=(t.start-s)/a,i=(t.end-s)/a;i>=0&&r<=n&&(e=Math.max(e,i-r))}let t=Math.min(i,e)/2;if(e>0){let e=(r-10)/t;this.theta=function(e){let t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);let i=0===t?0:n[t-1],o=t<n.length?n[t]:1,s=(e-i)/(o-i),a=0===t?0:r[t-1],l=t<r.length?r[t]:Math.PI/2;return a+s*(l-a)}(e),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta)}}).call(this);const o=this.arcOrientation?e.pixelHeight:0,h=this.arcOrientation;t.font="8px sans-serif",t.textAlign="center";for(let e of l){let r=e.color||this.color;if(r&&this.config.useScore&&(r=_u(r,(c=e.score,Math.min(1,.11+c/779*.89).toString()))),t.lineWidth=e.thickness||this.thickness||1,e.chr1===e.chr2||"all"===e.chr){const{m1:l,m2:c}=yu(e,this.browser.genome);let u=Math.round((l-s)/a),f=Math.round((c-s)/a);if(f<0||u>n)continue;let d=f-u;d<3&&(d=3,u--);const p=d/2,g=p/this.sinTheta,m=this.cosTheta*g,v=u+p;let b,y,w;if(h?(b=this.height+m,y=Math.PI+Math.PI/2-this.theta,w=Math.PI+Math.PI/2+this.theta):(b=-m,y=Math.PI/2-this.theta,w=Math.PI/2+this.theta),this.showBlocks&&"all"!==e.chr){const n=(e.start1-s)/a,r=(e.end1-s)/a,i=(e.start2-s)/a,l=(e.end2-s)/a,c=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(n,o,r-n,c),t.fillRect(i,o,l-i,c)}r&&!this.config.useScore&&d>i&&(r=_u(r,this.alpha)),t.strokeStyle=r,t.fillStyle=r,t.beginPath(),t.arc(v,b,g,y,w,!1),t.stroke(),e.drawState={xc:v,yc:b,r:g}}else{let i=Math.round((e.start-s)/a),o=Math.round((e.end-s)/a);if(o<0||i>n)continue;let l=o-i;l<3&&(l=3,i--);const c=e.chr===e.chr1?e.chr2:e.chr1;t.strokeStyle=r,t.fillStyle=r,h?(t.fillRect(i,this.height/2,l,this.height/2),t.fillText(c,i+l/2,this.height/2-5),e.drawState={x:i,y:this.height/2,w:l,h:this.height/2}):(t.fillRect(i,0,l,this.height/2),t.fillText(c,i+l/2,this.height/2+13),e.drawState={x:i,y:0,w:l,h:this.height/2})}}}var c}drawProportional(e){const t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.bpPerPixel,o=e.bpStart,s=i;gs.fillRect(t,0,e.pixelTop,n,r,{fillStyle:"rgb(255, 255, 255)"});const a=e.features;if(a&&a.length>0){const r=this.logScale?e.pixelHeight/Math.log10(this.dataRange.max+1):e.pixelHeight/(this.dataRange.max-this.dataRange.min),i=this.arcOrientation?e.pixelHeight:0;for(let e of a){const a=this.valueColumn?e[this.valueColumn]:e.score;if(void 0===a||Number.isNaN(a))continue;const l=this.logScale?Math.log10(a+1)*r:a*r;if(e.chr1===e.chr2||"all"===e.chr){const{m1:r,m2:c}=yu(e,this.browser.genome);let h=(r-o)/s,u=(c-o)/s,f=u-h;if(f<3&&(f=3,h--),u<0||h>n||a<this.dataRange.min)continue;const d=f/2,p=h+f/2,g=!!this.arcOrientation,m=e.color||this.color;if(t.strokeStyle=m,t.lineWidth=e.thickness||this.thickness||1,!0===t.isSVG?t.strokeEllipse(p,i,d,l,0,0,Math.PI,g):(t.beginPath(),t.ellipse(p,i,d,l,0,0,Math.PI,g),t.stroke()),this.showBlocks&&"all"!==e.chr){t.fillStyle=m;const n=(e.start1-o)/s,r=(e.end1-o)/s,a=(e.start2-o)/s,l=(e.end2-o)/s,c=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(n,i,r-n,c),t.fillRect(a,i,l-a,c)}this.alpha&&(t.fillStyle=_u(m,this.alpha),!0===t.isSVG?t.fillEllipse(p,i,d,l,0,0,Math.PI,g):t.fill()),e.drawState={xc:p,yc:i,radiusX:d,radiusY:l}}else{let r=Math.round((e.start-o)/s),i=Math.round((e.end-o)/s);if(i<0||r>n||a<this.dataRange.min)continue;const c=Math.min(l,this.height-13);let h=i-r;h<3&&(h=3,r--);const u=e.chr===e.chr1?e.chr2:e.chr1;if(t.font="8px sans-serif",t.textAlign="center",this.arcOrientation){const n=this.height-c;t.fillRect(r,n,h,c),t.fillText(u,r+h/2,n-5),e.drawState={x:r,y:n,w:h,h:c}}else t.fillRect(r,0,h,c),t.fillText(u,r+h/2,c+13),e.drawState={x:r,y:0,w:h,h:c}}}}}menuItemList(){let e=[{name:"Set track color",click:()=>{this.trackView.presentColorPicker()}},"<HR/>"];if(this.hasValue){const t={nested:"Nested Arcs",proportional:"Proportional Arcs"};for(let n of["nested","proportional"])e.push({object:dt(jo(t[n],n===this.arcType)),click:()=>{this.arcType=n,this.trackView.repaintViews()}})}return e.push({object:dt(jo("Show Blocks",this.showBlocks)),click:()=>{this.showBlocks=!this.showBlocks,this.trackView.repaintViews()}}),e.push({name:"Toggle arc direction",click:()=>{this.arcOrientation=!this.arcOrientation,this.trackView.repaintViews()}}),"proportional"===this.arcType&&(e.push("<HR>"),e=e.concat(zo.numericDataMenuItems(this.trackView))),e}doAutoscale(e){let t=0;if(e)for(let n of e){const e=this.valueColumn?n[this.valueColumn]:n.score;Number.isNaN(e)||(t=Math.max(t,e))}return{min:0,max:t}}popupData(e,t){t=this.clickedFeatures(e);const n=[];for(let e of t){const t=e._||e;if(n.push({name:"Region 1",value:wu(t.chr1,t.start1,t.end1,t.strand1)}),n.push({name:"Region 2",value:wu(t.chr2,t.start2,t.end2,t.strand2)}),t.name&&n.push({name:"Name",value:t.name}),void 0!==t.value&&n.push({name:"Value",value:t.value}),void 0!==t.score&&n.push({name:"Score",value:t.score}),t.extras&&this.header&&this.header.columnNames){const e=this.header.columnNames;for(let r=10;r<e.length;r++)"info"===e[r]?ku(n,t.extras[r-10]):n.push({name:e[r],value:t.extras[r-10]})}break}return n}clickedFeatures(e,t){const n=t||e.viewport.getCachedFeatures(),r=[];if(n){const t="proportional"===this.arcType;for(let i of n)if(i.drawState)if(i.chr1===i.chr2||"all"===i.chr)if(t){const{xc:t,yc:n,radiusX:o,radiusY:s}=i.drawState,a=e.canvasX-t,l=e.canvasY-n,c=a/o*(a/o)+l/s*(l/s);c<=1&&r.push({score:1/c,feature:i})}else{const{xc:t,yc:n,r:o}=i.drawState,s=e.canvasX-t,a=e.canvasY-n,l=Math.abs(Math.sqrt(s*s+a*a)-o);l<5&&r.push({score:l,feature:i})}else{const{x:t,y:n,w:o,h:s}=i.drawState,a=5;if(e.canvasX>=t-a&&e.canvasX<=t+o+a&&e.canvasY>=n&&e.canvasY<=n+s){const n=-Math.abs(e.canvasX-(t+o/2));r.push({score:n,feature:i});break}}}return r.length>1&&r.sort((e,t)=>e.score-t.score),r.map(e=>e.feature)}}function yu(e,t){let n=(e.start1+e.end1)/2,r=(e.start2+e.end2)/2;if("all"===e.chr&&(n=t.getGenomeCoordinate(e.chr1,n),r=t.getGenomeCoordinate(e.chr2,r)),n>r){const e=n;n=r,r=e}return{m1:n,m2:r}}function wu(e,t,n,r){return r&&"."!==r?`${e}:${St(t+1)}-${St(n)} (${r})`:`${e}:${St(t+1)}-${St(n)}`}const xu=new Map;function _u(e,t){const n=`${e}_${t}`;let r=xu.get(n);return r||(r=lo.addAlpha(e,t),xu.set(n,r)),r}function Su(e){const t=this.genome,n=[];for(let r of t.wgChromosomeNames){const i=e[r];if(i)for(let e of i)if(!e.dup){const r=Object.assign({},e);r.chr="all",r.start=t.getGenomeCoordinate(e.chr1,e.start1),r.end=t.getGenomeCoordinate(e.chr2,e.end2),n.push(r)}}return n}function ku(e,t){const n=t.split(";");for(let t of n){const n=t.split("=");2===n.length&&e.push({name:n[0],value:n[1]})}}const Cu=_t,Tu=1e6;class Au extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.visibilityWindow=e.visibilityWindow,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.expandedVariantHeight=e.expandedVariantHeight||e.variantHeight||10,this.squishedVariantHeight=e.squishedVariantHeight||2,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=Gc(e,this.browser.genome),this.noGenotypeColor=e.noGenotypeColor||"rgb(200,180,180)",this.noCallColor=e.noCallColor||"rgb(225, 225, 225)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.type=e.type||"variant",this.colorBy=e.colorBy,this._initColorBy=e.colorBy,e.colorTable&&(this.colorTables=new Map,this.colorTables.set(e.colorBy,new Ss(e.colorTable))),this._color=e.color,this.showGenotypes=void 0===e.showGenotypes||e.showGenotypes,this.variantRowCount(1)}async postInit(){if(this.header=await this.getHeader(),void 0===this.visibilityWindow&&!1!==this.config.indexed){const e=Vt(this.config.url)?this.config.url.name:this.config.url;if(Cu(e)&&e.toLowerCase().includes("gnomad"))this.visibilityWindow=1e3;else if(this.callSets){const e=this.callSets.length;this.visibilityWindow=Math.max(1e3,Tu-1e4*e)}else this.visibilityWindow=Tu}return this}supportsWholeGenome(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome}get color(){return this._color}set color(e){this._color=e,this.colorBy=void 0}async getHeader(){if(!this.header){if("function"==typeof this.featureSource.getHeader){const e=await this.featureSource.getHeader();e&&(this.callSets=e.callSets||[]),this.header=e}this.sampleNames=this.callSets?this.callSets.map(e=>e.name):[]}return this.header}getCallsetsLength(){return this.callSets?this.callSets.length:0}async getFeatures(e,t,n,r){return void 0===this.header&&(this.header=await this.getHeader()),this.featureSource.getFeatures({chr:e,start:t,end:n,bpPerPixel:r,visibilityWindow:this.visibilityWindow})}hasSamples(){return this.getCallsetsLength()>0}getSamples(){return{yOffset:this.sampleYOffset,names:this.sampleNames,height:this.sampleHeight}}computePixelHeight(e){if(!e||0==e.length)return 10;const t="COLLAPSED"===this.displayMode?1:this.nVariantRows,n="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,r="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,i="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight;return 10+t*(r+n)+n+((!1===this.showGenotypes?0:this.getCallsetsLength()*t)+1)*(i+n)}variantRowCount(e){this.nVariantRows=e}draw({context:e,pixelWidth:t,pixelHeight:n,bpPerPixel:r,bpStart:i,pixelTop:o,features:s}){gs.fillRect(e,0,o,t,n,{fillStyle:"rgb(255, 255, 255)"});const a="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,l="COLLAPSED"===this.displayMode?1:this.nVariantRows,c="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight;this.variantBandHeight=10+l*(c+a);const h=this.callSets,u=this.getCallsetsLength();if(h&&u>0&&!1!==this.showGenotypes&&gs.strokeLine(e,0,this.variantBandHeight,t,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "}),s){const n="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight,o="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,a=i+t*r+1;for(let t of s){if(t.end<i)continue;if(t.start>a)break;const s="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,l=10+("COLLAPSED"===this.displayMode?0:t.row*(s+o)),c=s;let f=Math.round((t.start-i)/r),d=Math.round((t.end-i)/r),p=Math.max(1,d-f);if(p<3?(p=3,f-=1):p>5&&(f+=1,p-=2),e.fillStyle=this.getVariantColor(t),e.fillRect(f,l,p,c),t.pixelRect={x:f,y:l,w:p,h:c},u>0&&!1!==this.showGenotypes){const r="COLLAPSED"===this.displayMode?1:this.nVariantRows;this.sampleYOffset=this.variantBandHeight+o,this.sampleHeight=r*(n+o);let i=0;for(let r of h){const s=t.calls[r.id];if(s){const a="COLLAPSED"===this.displayMode?0:t.row,l=this.sampleYOffset+i*this.sampleHeight+a*(n+o);let c=!0,h=!0,u=!1;if(s.genotype)for(let e of s.genotype){if("."===e){u=!0;break}0!==e&&(h=!1),0===e&&(c=!1)}s.genotype?e.fillStyle=u?this.noCallColor:h?this.homrefColor:c?this.homvarColor:this.hetvarColor:e.fillStyle=this.noGenotypeColor,e.fillRect(f,l,p,n),r.pixelRect={x:f,y:l,w:p,h:n}}i++}}}}else console.log("No feature list")}getVariantColor(e){let t;if(this.colorBy){const n=e.info[this.colorBy];t=this.getVariantColorTable(this.colorBy).getColor(n),t||(t="gray")}else t=this._color?"function"==typeof this._color?this._color(e):this._color:"NONVARIANT"===e.type?this.nonRefColor:"MIXED"===e.type?this.mixedColor:this.defaultColor;return t}popupData(e,t){t=this.clickedFeatures(e,t);const n=e.genomicLocation,r=this.browser.genome.id,i=this.browser.sampleInformation,o="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap,s=o+("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),a=e.y;let l,c;if(a<=this.variantBandHeight){const e="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight;l=Math.floor((a-10)/(e+o)),c=-1}else{const e=a-this.variantBandHeight;c=Math.floor(e/this.sampleHeight),l=Math.floor((e-c*this.sampleHeight)/s)}const h=t.filter(e=>e.row===l);let u=[];for(let e of h)if(u.length>0&&u.push({html:'<hr style="border-top-width:2px ;border-color: #c9c3ba" />'}),a<=this.variantBandHeight){const t=e.popupData(n);Array.prototype.push.apply(u,t)}else{const t=this.callSets;if(t&&e.calls&&c>=0&&c<t.length){const n=t[c],o=e.calls[n.id];Array.prototype.push.apply(u,f(o,e,r,i))}}return u;function f(e,t,n,r){let i=[];if(void 0!==e.callSetName&&i.push({name:"Name",value:e.callSetName}),e.genotype){let n="";if("."===t.alternateBases)n="No Call";else{const r=t.alternateBases.split(",");for(let i of e.genotype)if(n.length>0&&(n+="|"),"."===i)n+=".";else if(0===i)n+=t.referenceBases;else{n+=r[i-1].replace("<","&lt;")}}i.push({name:"Genotype",value:n})}if(void 0!==e.phaseset&&i.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&i.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),r){var o=r.getAttributes(e.callSetName);o&&Object.keys(o).forEach(function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),i.push({name:t,value:o[e]})})}var s=Object.keys(e.info);return s.length&&i.push("<hr/>"),s.forEach(function(t){i.push({name:t,value:decodeURIComponent(e.info[t])})}),i}}menuItemList(){const e=[];if(this.header.INFO&&this.header.INFO){const t=this.header.INFO.SVTYPE?["SVTYPE"]:[];if(this._initColorBy&&"SVTYPE"!==this._initColorBy&&t.push(this._initColorBy),t.length>0){e.push("<hr/>");const n=dt('<div class="igv-track-menu-category igv-track-menu-border-top">');n.text("Color by:"),e.push({name:void 0,object:n,click:void 0,init:void 0}),t.sort();for(let n of t){const t=this.colorBy===n,r=n||"None";e.push(this.colorByCB({key:n,label:r},t))}e.push(this.colorByCB({key:void 0,label:"None"},void 0===this.colorBy)),e.push("<hr/>")}}this.getCallsetsLength()>0&&(e.push({object:dt('<div class="igv-track-menu-border-top">')}),e.push({object:dt(jo("Show Genotypes",this.showGenotypes)),click:()=>{this.showGenotypes=!this.showGenotypes,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})),e.push({object:dt('<div class="igv-track-menu-border-top">')});for(let t of["COLLAPSED","SQUISHED","EXPANDED"]){e.push({object:dt(jo({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[t],t===this.displayMode)),click:()=>{this.displayMode=t,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})}return e}colorByCB(e,t){return{name:void 0,object:dt(jo(e.label,t)),click:()=>{e.key===this.colorBy?(this.colorBy=void 0,delete this.config.colorBy,this.trackView.repaintViews()):(this.colorBy=e.key,this.config.colorBy=e.key,this.trackView.repaintViews())},init:void 0}}getState(){const e=super.getState();return this._color&&"function"!=typeof this._color&&(e.color=this._color),e}getVariantColorTable(e){if(this.colorTables||(this.colorTables=new Map),!this.colorTables.has(e)){let t;switch(e){case"SVTYPE":t=Eu;break;default:t=new _s("Set1")}this.colorTables.set(e,t)}return this.colorTables.get(e)}}const Eu=new Ss({DEL:"#ff2101",INS:"#001888",DUP:"#028401",INV:"#008688",CNV:"#8931ff",BND:"#891100","*":"#002eff"});class Lu extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.name=e.name,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";const t=e.minLogP||e.min,n=e.maxLogP||e.max;this.dataRange={min:t||3.5,max:n||25},this.autoscale=!n||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=Gc(e,this.browser.genome),Yc.gtexLoaded=!0}paintAxis(e,t,n){const r=(this.dataRange.max-this.dataRange.min)/n,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};gs.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});const o=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n);for(let s=4;s<=this.dataRange.max;s+=o){const o=.85*t,a=o-5,l=o,c=n-(s-this.dataRange.min)/r;gs.strokeLine(e,a,c,l,c,i),c>8&&gs.fillText(e,s,a-1,c+2,i)}i.textAlign="center",gs.fillText(e,"-log10(pvalue)",t/4,n/2,i,{rotate:{angle:-90}})}async getFeatures(e,t,n){const r=this.pValueField,i=await this.featureSource.getFeatures({chr:e,start:t,end:n});return i.forEach(function(e){e.value=e[r]}),i}draw(e){const t=e.context,n=e.pixelWidth,r=e.pixelHeight;this.background&&gs.fillRect(t,0,0,n,r,{fillStyle:this.background}),gs.strokeLine(t,0,r-1,n,r-1,{strokeStyle:this.divider});const i=i=>{const o=i?2*this.dotSize:this.dotSize,s=e.bpStart,a=(this.dataRange.max-this.dataRange.min)/r,l=e.referenceFrame.selection;for(let h of e.features){const u=(h.start-s+.5)/e.bpPerPixel;if(u<0)continue;if(u>n)break;const f=h.snp.toUpperCase(),d=h[this.geneField].toUpperCase(),p=l&&(l.snp===f||l.gene===d);if(!i||p){l&&l.snp===f&&l.addGene(d);var c=-Math.log(h[this.pValueField])/Math.LN10;if(c>=this.dataRange.min){let e;c>this.dataRange.max?(c=this.dataRange.max,e=!0):e=!1;const n=Math.max(0+o,r-Math.round((c-this.dataRange.min)/a));let s;h.px=u,h.py=n,h.radius=o,i&&l?(s=l.colorForGene(d),gs.setProperties(t,{fillStyle:s,strokeStyle:"black"})):(s=e?"rgb(150, 150, 150)":"rgb(180, 180, 180)",gs.setProperties(t,{fillStyle:s,strokeStyle:s})),gs.fillCircle(t,u,n,o),gs.strokeCircle(t,u,n,o)}}}};i(!1),i(!0)}popupData(e){let t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];const n=this.name,r=[];for(let i of t)Math.abs(i.px-e.canvasX)<i.radius+3&&Math.abs(i.py-e.canvasY)<i.radius+3&&(r.length>0&&r.push("<hr/>"),r.push({name:"snp id",value:i.snp},{name:"gene id",value:i.geneId},{name:"gene name",value:i.geneName},{name:"p value",value:i.pValue},{name:"tissue",value:n}));return r}menuItemList(){return zo.numericDataMenuItems(this.trackView)}doAutoscale(e){if(e.length>0){var t=e.map(function(e){return-Math.log(e.value)/Math.LN10});this.dataRange.max=ro(t,this.autoscalePercentile)}else{const e=this.config.maxLogP||this.config.max;this.dataRange.max=e||25}return this.dataRange}}const Ru={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"};for(let e of Object.keys(Ru)){Ru["chr"+e]=Ru[e]}class Du extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.valueProperty="bed"===e.format?"score":"value",this.height=e.height||100,e.autoscale||(e.posteriorProbability?this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new fh(e.color):{"*":new hh(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=Gc(e,this.browser.genome)}supportsWholeGenome(){return!0}async getFeatures(e,t,n){return this.featureSource.getFeatures({chr:e,start:t,end:n})}draw(e){const t=e.features,n=e.context,r=e.pixelWidth,i=e.pixelHeight;if(this.background&&gs.fillRect(n,0,0,r,i,{fillStyle:this.background}),gs.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider}),t){const o=e.bpPerPixel,s=e.bpStart,a=s+r*o+1;for(let e of t){const t=e.start;if(t<s)continue;if(t>a)break;const r=this.getColorScale(e._f?e._f.chr:e.chr);let l,c;if(this.posteriorProbability)c=e[this.valueProperty],l=r.getColor(c);else{const t=e[this.valueProperty];if(!t)continue;c=-Math.log10(t),l=r.getColor(c)}const h=(this.dataRange.max-this.dataRange.min)/i,u=Math.round((t-s)/o),f=Math.max(this.dotSize,i-Math.round((c-this.dataRange.min)/h));l&&gs.setProperties(n,{fillStyle:l,strokeStyle:"black"}),gs.fillCircle(n,u,f,this.dotSize),e.px=u,e.py=f}}}getColorScale(e){if(this.useChrColors){let t=this.colorScales[e];if(!t){const n=Ru[e]||Cs.get();t=new fh(n),this.colorScales[e]=t}return t}return this.colorScales("*")}paintAxis(e,t,n){gs.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};const i=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability){const t=.1;for(let o=this.dataRange.min;o<this.dataRange.max;o+=t){const t=n-Math.round((o-this.dataRange.min)/i);gs.strokeLine(e,45,t-2,50,t-2,r),gs.fillText(e,o.toFixed(1),44,t+2,r)}}else{const t=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n);for(let o=this.dataRange.min;o<this.dataRange.max;o+=t){const t=n-Math.round((o-this.dataRange.min)/i);gs.strokeLine(e,45,t,50,t,r),gs.fillText(e,Math.floor(o),44,t+4,r)}}r.textAlign="center",this.posteriorProbability?gs.fillText(e,"PPA",t/2,n/2,r,{rotate:{angle:-90}}):gs.fillText(e,"-log10(pvalue)",t/2,n/2,r,{rotate:{angle:-90}})}popupData(e){let t=[];const n=e.viewport.trackView.track,r=e.viewport.getCachedFeatures();if(r){let i=0;for(let o of r){const r=Math.abs(e.canvasX-o.px),s=Math.abs(e.canvasY-o.py),a=o[this.valueProperty];if(r<this.dotSize&&s<this.dotSize){if(i>0&&t.push("<HR/>"),5==i){t.push("...");break}if("function"==typeof o.popupData)t=t.concat(o.popupData());else{const e=o.realChr||o.chr,r=(o.realStart||o.start)+1;t.push({name:"chromosome",value:e}),t.push({name:"position",value:r}),t.push({name:"name",value:o.name}),n.posteriorProbability?t.push({name:"posterior probability",value:a}):t.push({name:"pValue",value:a})}i++}}}return t}menuItemList(){return zo.numericDataMenuItems(this.trackView)}doAutoscale(e){if(e.length>0){const t=this.valueProperty,n=this.posteriorProbability,r=e.map(function(e){const r=e[t];return{value:n?r:-Math.log(r)/Math.LN10}});this.dataRange=ga(r)}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange}}class Mu extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=lh,this.graphType=e.graphType||"bar",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=Gc(this.config,this.browser.genome)}async postInit(){if("function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader(),this.sampleNames=this.header.columnNames.slice(3),this.setTrackProperties(this.header),this.header.hasOwnProperty("highlight"))){this.config.highlightSamples={};let e=this.header.highlight;Array.isArray(e)||(e=[e]);for(let t of e){const e=t.split(";");2===e.length&&(this.config.highlightSamples[e[0]]=e[1])}}}menuItemList(){return zo.numericDataMenuItems(this.trackView)}async getFeatures(e,t,n){const r=await this.featureSource.getFeatures({chr:e,start:0,end:Number.MAX_VALUE});let i,o;for(let e=1;e<r.length-1;e++)if(void 0===i&&r[e].end>t&&(i=e-1),void 0===o&&r[e].start>n){o=e+1;break}return void 0===i&&(i=0),void 0===o&&(o=r.length),r.slice(i,o)}draw(e){const{features:t,context:n,bpPerPixel:r,bpStart:i,pixelWidth:o,pixelHeight:s}=e,a=e=>(this.dataRange.max-e)/(this.dataRange.max-this.dataRange.min)*s,l=function(e){let t=Math.floor((e-i)/r);return isNaN(t)&&console.warn("isNaN(x). feature start "+St(e)+" bp start "+St(i)),t};if(t&&t.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){const e=this.config.highlightSamples,r=this.config.onlyHandleClicksForHighlightedSamples;let i=-1,o={},s=[],c=[];this.clickDetectorCache={};for(let h of t){const t=l(h.start),u=l(h.end),f=i>=0?l(i):t;if(!isNaN(t)&&!isNaN(u)&&!(t-f<1&&u-t<1)){this.clickDetectorCache[t]=[],this.clickDetectorCache[u]=[];for(let i=0;i<h.values.length;i++){const l=this.sampleNames[i],d=h.values[i],p=a(d);if(t-f>=1){const i=o[l],c=a(i),h=e&&e[l];h?s.push([f,c,t,p,h]):gs.strokeLine(n,f,c,t,p,{strokeStyle:"#D9D9D9"}),r&&!(l in e)||this.clickDetectorCache[t].push([f,c,t,p,l,h||"gray"])}if(u-t>=1){const i=e&&e[l];i?c.push([t,p,u,p,i]):gs.strokeLine(n,t,p,u,p,{strokeStyle:"gray"}),r&&!(l in e)||this.clickDetectorCache[u].push([t,p,u,p,l,i||"gray"])}o[l]=d}i=h.end}}for(let e of s)gs.strokeLine(n,e[0],e[1],e[2],e[3],{strokeStyle:e[4],lineWidth:1.3});for(let e of c)gs.strokeLine(n,e[0],e[1],e[2],e[3],{strokeStyle:e[4],lineWidth:2})}(e=>{if(this.config.hasOwnProperty("guideLines"))for(let t of this.config.guideLines)if(t.hasOwnProperty("color")&&t.hasOwnProperty("y")&&t.hasOwnProperty("dotted")){let n=a(t.y),r={strokeStyle:t.color,strokeWidth:2};t.dotted?gs.dashedLine(e.context,0,n,e.pixelWidth,n,5,r):gs.strokeLine(e.context,0,n,e.pixelWidth,n,r)}})(e)}doAutoscale(e){let t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){t=Math.min(t,...e.values),n=Math.max(n,...e.values)}),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}}clickedFeatures(e){const t=e.canvasX,n=e.canvasY;let r=null;for(r of Object.keys(this.clickDetectorCache))if(r=parseInt(r),r>=t)break;if(r){let e=Number.MAX_VALUE,i=[];const o=this.clickDetectorCache[r];for(let r of o){const o=r[0],s=r[2];if(t<o||t>s)return[];const a=r[1],l=r[3];if(n<Math.min(a,l)-10||n>Math.max(a,l)+10)continue;const c=Iu(t,n,o,a,s,l);c<e&&(i=[{name:r[4],color:r[5]}],e=c)}if(e<5)return i}return[]}popupData(e,t){t=this.clickedFeatures(e,t);const n=[];return t.forEach(function(e){for(let t of Object.keys(e))da(e[t])&&n.push({name:t,value:e[t]})}),n}supportsWholeGenome(){return!1}}function Iu(e,t,n,r,i,o){const s=i-n,a=o-r,l=Math.abs(s*(r-t)-(n-e)*a),c=Math.sqrt(s*s+a*a);return c>0?l/c:0}class Nu extends Cl{constructor(e,t){super(e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,"bp"===e.format?this.featureSource=new Pu(e,t.genome):this.featureSource=new xc(e,t.genome)}async getFeatures(e,t,n){return this.featureSource.getFeatures({chr:e,start:t,end:n})}draw(e){const t=e.context,n=Math.PI/2,r=e.pixelWidth,i=e.pixelHeight;e.viewportWidth;const o=e.bpPerPixel,s=e.bpStart,a=o,l=this.arcOrientation;gs.fillRect(t,0,e.pixelTop,r,i,{fillStyle:"rgb(255, 255, 255)"});const c=e.features;if(c){Fu(c,1);for(let e of c)if(e.startLeft){let r=Math.round((e.startLeft-s)/a),i=Math.round((e.startRight-s)/a),o=Math.round((e.endLeft-s)/a),c=Math.round((e.endRight-s)/a);t.fillStyle=e.color,t.strokeStyle=e.color,t.beginPath();let h=(r+c)/2,u=(c-r)/2,f=this.height,d=Math.PI+(Math.PI/2-n),p=2*Math.PI-(Math.PI/2-n);l?(f=0,t.arc(h,f,u,p,d),t.lineTo(c,f)):(t.arc(h,f,u,d,p),t.lineTo(o,f));const g=(i+o)/2,m=(o-i)/2,v=f;l?(t.arc(g,v,m,d,p,!0),t.lineTo(o,v)):(t.arc(g,v,m,p,d,!0),t.lineTo(r,v)),t.stroke(),t.fill(),e.drawState={x1:h,y1:f,r1:u,x2:g,y2:v,r2:m,sa:d,ea:p}}else{let r=Math.round((e.start-s)/a),i=Math.round((e.end-s)/a);t.strokeStyle=e.color,t.beginPath();let o=(r+i)/2,c=(i-r)/2,h=this.height,u=Math.PI+(Math.PI/2-n),f=2*Math.PI-(Math.PI/2-n);l?(h=0,t.arc(o,h,c,f,u)):t.arc(o,h,c,u,f),t.stroke(),e.drawState={x1:o,y1:h,r1:c,sa:u,ea:f}}}}clickedFeatures(e,t){const n=[];Fu(t=super.clickedFeatures(e,t),-1);for(let r of t){const t=r.drawState,i=e.canvasX-t.x1,o=e.canvasY-t.y1,s=Math.sqrt(i*i+o*o),a=t.r1+3;let l,c;if(void 0===t.x2)l=s,c=t.r1-3;else{const n=e.canvasX-t.x2,r=e.canvasY-t.y2;l=Math.sqrt(n*n+r*r),c=t.r2-3}if(s<a&&l>c){n.push(r);break}}return n}popupData(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0)return Cl.extractPopupData(t[0],this.getGenomeId())}menuItemList(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]}}function Fu(e,t){e.sort(function(e,n){const r=void 0===e.score?-Number.MAX_VALUE:e.score,i=void 0===n.score?-Number.MAX_VALUE:n.score;return(void 0===t?1:t)*(r-i)})}class Pu{constructor(e,t){this.config=e,this.genome=t}async getFeatures({chr:e,start:t,end:n,bpPerPixel:r,visibilityWindow:i}){const o=this.genome;if(this.featureCache)return this.featureCache.queryFeatures(e,t,n);{const r=pa(this.config),i=await xo.loadString(this.config.url,r);return this.featureCache=new Po(function(e){if(!e)return null;const t=Nl(e);let n,r=!0;const i=[],o=[],s=[];for(;void 0!==(n=t.nextLine());){const e=n.split("\t");if(r&&n.startsWith("color:")){const t="rgb("+e[1]+","+e[2]+","+e[3]+")";i.push(t),e.length>4&&o.push(e[4])}else{r=!1;const t=e[0],n=Number.parseInt(e[1])-1,l=Number.parseInt(e[2])-1,c=Number.parseInt(e[3]),h=Number.parseInt(e[4]);var a=Number.parseInt(e[5]);const u=i[a];let f;f=n<=h?{chr:t,startLeft:Math.min(n,l),startRight:Math.max(n,l),endLeft:Math.min(c,h),endRight:Math.max(c,h),color:u,score:a}:{chr:t,startLeft:Math.min(c,h),startRight:Math.max(c,h),endLeft:Math.min(n,l),endRight:Math.max(n,l),color:u,score:a},f.start=f.startLeft,f.end=f.endRight,o.length>a&&(f.description=o[a]),s.push(f)}}return s}(i),o),this.featureCache.queryFeatures(e,t,n)}}}class Ou{constructor(e){this.browser=e,this.type="ideogram",this.id=this.type,this.height=16,this.order=Number.MIN_SAFE_INTEGER,this.disableButtons=!0,this.ignoreTrackMenu=!0}async getFeatures(e,t,n){return[]}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:n,pixelHeight:r}){const i=t.chr,o=t.genome.getChromosome(i);if(void 0===o||n<=0||r<=0||"all"===i.toLowerCase())return;!function({ctx:e,chr:t,referenceFrame:n,genome:r,width:i,height:o,stainColors:s}){const a=1,l=.5*a,c=0;if(void 0===r)return;gs.fillRect(e,0,0,i,o,{fillStyle:lo.greyScale(255)});const h=r.getCytobands(t);if(h){const t=c+o/2,n=[],r=[];if(0===h.length)return;const u=i/h[h.length-1].end;e.beginPath(),gs.roundRect(e,l,l+c,i-2*l,o-2*l,(o-2*l)/2,0,1),e.clip();for(let i=0;i<h.length;i++){const l=h[i],f=u*l.start,d=u*l.end;"c"===l.type?("p"===l.name.charAt(0)?(n[0]=f,r[0]=o+c,n[1]=f,r[1]=c,n[2]=d,r[2]=t):(n[0]=d,r[0]=o+c,n[1]=d,r[1]=c,n[2]=f,r[2]=t),e.fillStyle="rgb(150, 0, 0)",e.strokeStyle="rgb(150, 0, 0)",gs.polygon(e,n,r,1,0)):(e.fillStyle=Bu(s,l),gs.fillRect(e,f,a+c,d-f,o-2*a))}}e.strokeStyle=lo.greyScale(41),gs.roundRect(e,l,l+c,i-2*l,o-2*l,(o-2*l)/2,0,1)}({ctx:e,chr:i,referenceFrame:t,genome:t.genome,width:n,height:r,stainColors:[]});const s=Math.round(t.bpPerPixel*n),a=t.start;let l=o.bpLength;const c=t.genome.getCytobands(i);if(c&&c.length>0&&c[c.length-1].end&&(l=Math.max(l,c[c.length-1].end),o.bpLength=l),s<l){const t=s/l,i=a/l;let o=Math.floor(i*n),c=Math.floor(t*n);o=Math.max(0,o),o=Math.min(n-c,o),e.save(),e.strokeStyle="red",e.lineWidth=c<2?1:2;const h=o+e.lineWidth/2;c=c<2?1:c-e.lineWidth;const u=e.lineWidth/2,f=r-e.lineWidth;e.strokeRect(h,u,c,f),e.restore()}}dispose(){this.trackView=void 0}}function Bu(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=t.stain,r=230;"p"===t.type&&(r=Math.floor(230-n/100*230));var i=e[r];return i||(i="rgb("+r+","+r+","+r+")",e[r]=i),i}let Hu=new _s("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach(e=>{Hu.getColor(e)});const ju={};class zu extends Cl{constructor(e,t){super(e,t)}init(e){super.init(e),this.type=e.type||"junctions",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:Gc(e,this.browser.genome),this.margin=void 0===e.margin?10:e.margin,this.height||(this.height=100),void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5)}async postInit(){return"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow(),this.featureSource.visibilityWindow=this.visibilityWindow),this}supportsWholeGenome(){return!1}async getFeatures(e,t,n,r){const i=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:n,bpPerPixel:r,visibilityWindow:i})}computePixelHeight(e){return this.height}draw(e){const t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,s=e.pixelHeight,a=i+o*r+1;if(this.config.isMergedTrack||gs.fillRect(n,0,e.pixelTop,o,s,{fillStyle:"rgb(255, 255, 255)"}),t){ju.referenceFrame=e.viewport.referenceFrame,ju.referenceFrameStart=ju.referenceFrame.start,ju.referenceFrameEnd=ju.referenceFrameStart+ju.referenceFrame.toBP(dt(e.viewport.contentDiv).width()),ju.featureZoomOutTracker={};for(let e of t)if(!(e.end<i)){if(e.start>a)break;this.renderJunction(e,i,r,s,n)}}else console.log("No feature list")}renderJunction(e,t,n,r,i){e.isVisible=!1;const o=Math.round((e.start-t)/n),s=Math.round((e.end-t)/n),a=(o+s)/2;if(s-o<=3){if(a in ju.featureZoomOutTracker)return;ju.featureZoomOutTracker[a]=!0}if(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction)return;if(this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction)return;if(this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif))return;if(this.config.hideStrand===e.strand)return;if(this.config.minJunctionEndsVisible){let t=0;if(e.start>=ju.referenceFrameStart&&e.start<=ju.referenceFrameEnd&&(t+=1),e.end>=ju.referenceFrameStart&&e.end<=ju.referenceFrameEnd&&(t+=1),t<this.config.minJunctionEndsVisible)return}let l,c,h,u;if(e.attributes.uniquely_mapped){if(l=parseInt(e.attributes.uniquely_mapped),l<this.config.minUniquelyMappedReads)return;if(c=parseInt(e.attributes.multi_mapped),h=l+c,h<this.config.minTotalReads)return;if(h>0&&c/h>this.config.maxFractionMultiMappedReads)return;if(e.attributes.maximum_spliced_alignment_overhang&&parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)return}if(e.attributes.num_samples_with_this_junction){if(u=parseInt(e.attributes.num_samples_with_this_junction),this.config.minSamplesWithThisJunction&&u<this.config.minSamplesWithThisJunction)return;if(this.config.maxSamplesWithThisJunction&&u>this.config.maxSamplesWithThisJunction)return;if(e.attributes.num_samples_total&&(e.attributes.percent_samples_with_this_junction=100*u/parseFloat(e.attributes.num_samples_total),this.config.minPercentSamplesWithThisJunction&&(e.attributes.percent_samples_with_this_junction<this.config.minPercentSamplesWithThisJunction||e.attributes.percent_samples_with_this_junction>this.config.maxPercentSamplesWithThisJunction)))return}const f=this.margin,d=this.height,p=f+.5*d;let g=f;const m=f+d-10,v=(o+a)/2,b=(a+s)/2;let y,w,x=1;e.attributes.line_width?x=parseFloat(e.attributes.line_width):(void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?x=l:"numReads"===this.config.thicknessBasedOn?x=h:"numSamplesWithThisJunction"===this.config.thicknessBasedOn&&void 0!==u&&(x=u),x=1+Math.log(x+1)/Math.log(12)),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?y=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?y=6*(e.end-e.start)/(ju.referenceFrameEnd-ju.referenceFrameStart):"thickness"===this.config.bounceHeightBasedOn&&(y=2*x),g+=d*Math.max(7-y,0)/10,w=e.attributes.color?e.attributes.color:void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?l>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?h>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?"true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?"+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy?Hu.getColor(e.attributes.motif):"#AAAAAA";let _="";e.attributes.label?_=e.attributes.label.replace(/_/g," "):void 0===this.config.labelWith||"uniqueReadCount"===this.config.labelWith?_=l:"totalReadCount"===this.config.labelWith?_=h:"numSamplesWithThisJunction"===this.config.labelWith?void 0!==u&&(_=u):"percentSamplesWithThisJunction"===this.config.labelWith?void 0!==e.attributes.percent_samples_with_this_junction&&(_=e.attributes.percent_samples_with_this_junction.toFixed(0)+"%"):"motif"===this.config.labelWith&&void 0!==e.attributes.motif&&(_+=e.attributes.motif),"uniqueReadCount"===this.config.labelWithInParen?_+=" ("+l+")":"totalReadCount"===this.config.labelWithInParen?_+=" ("+h+")":"multiMappedReadCount"===this.config.labelWithInParen?c>0&&(_+=" (+"+c+")"):"numSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==u&&(_+=" ("+u+")"):"percentSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==e.attributes.percent_samples_with_this_junction&&(_+=" ("+e.attributes.percent_samples_with_this_junction.toFixed(0)+"%)"):"motif"===this.config.labelWithInParen&&void 0!==e.attributes.motif&&(_+=` ${e.attributes.motif}`),e.isVisible=!0,i.beginPath(),i.moveTo(o,m),i.bezierCurveTo(v,g,b,g,s,m),i.lineWidth=x,i.strokeStyle=w,i.stroke();const S=(e,t,n,r)=>{e.beginPath(),e.moveTo(t,n),e.lineTo(t-r/2,n-r),e.lineTo(t+r/2,n-r),e.lineTo(t,n),e.closePath(),e.fill()};if(e.attributes.left_shape||e.attributes.right_shape){i.fillStyle=w;const t=i.lineWidth>2?10:7;e.attributes.left_shape&&S(i,o,m,t),e.attributes.right_shape&&S(i,s,m,t)}i.fillText(_,a-i.measureText(_).width/2,(7*g+p)/8)}clickedFeatures(e,t){return super.clickedFeatures(e,t).filter(function(e){return e.isVisible&&e.attributes})}popupData(e,t){t=this.clickedFeatures(e,t);const n=e.genomicLocation,r=[];for(let e of t){const t="function"==typeof e.popupData?e.popupData(n):this.extractPopupData(e._f||e,this.getGenomeId());t&&(r.length>0&&r.push("<hr/><hr/>"),Array.prototype.push.apply(r,t))}return r}description(){return this.name}dispose(){this.trackView=void 0}}const Vu=new Map([["ideogram",(e,t)=>new Ou(e,t)],["sequence",(e,t)=>new Ds(e,t)],["feature",(e,t)=>new ah(e,t)],["seg",(e,t)=>new dh(e,t)],["mut",(e,t)=>new dh(e,t)],["maf",(e,t)=>new dh(e,t)],["wig",(e,t)=>new ch(e,t)],["merged",(e,t)=>new gh(e,t)],["alignment",(e,t)=>new hu(e,t)],["interaction",(e,t)=>new bu(e,t)],["interact",(e,t)=>new bu(e,t)],["variant",(e,t)=>new Au(e,t)],["eqtl",(e,t)=>new Lu(e,t)],["gwas",(e,t)=>new Du(e,t)],["arc",(e,t)=>new Nu(e,t)],["gcnv",(e,t)=>new Mu(e,t)],["junction",(e,t)=>new zu(e,t)]]);var qu=function(e,t){Vu.set(e,t)},Uu=function(e,t,n){let r;switch(e){case"annotation":case"genes":case"fusionjuncspan":case"snp":r="feature";break;case"seg":case"maf":case"mut":r="seg";break;case"junctions":case"splicejunctions":r="junction";break;default:r=e}return Vu.has(r)?Vu.get(r)(t,n):void 0};class Wu{constructor(e,t){this.config=e,this.name=e.name,this.roiSource=Gc(e,t),this.color=e.color||"rgba(68, 134, 247, 0.25)"}async getFeatures(e,t,n){return this.roiSource.getFeatures({chr:e,start:t,end:n})}draw(e){var t,n,r,i;if(i=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var o=0,s=i.length;o<s;o++)if(!((n=i[o]).end<e.bpStart)){if(n.start>t)break;r=$u(n,e.bpStart,e.bpPerPixel),gs.fillRect(e.context,r.x,e.pixelTop,r.width,e.pixelHeight,{fillStyle:this.color})}}}}function $u(e,t,n){var r,i;return r=Math.round((e.start-t)/n),(i=Math.round((e.end-t)/n)-r)<3&&(i=3,r-=1),{x:r,width:i}}class Gu{constructor(e,t){const n=(new DOMParser).parseFromString(e,"text/xml");this.processRootNode(n,t);const r=n.getElementsByTagName("Resource"),i=n.getElementsByTagName("Track"),o=i&&i.length>0,s=[];this.tracks=s;const a=new Map;Array.from(r).forEach(function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};a.set(n.url,n),o||s.push(n)}),o&&Array.from(i).forEach(function(e){const t=e.getElementsByTagName("Track");if(t&&t.length>0){const n={type:"merged",tracks:[]};Zu(e,n),s.push(n),Array.from(t).forEach(function(e){e.processed=!0;const t=e.getAttribute("id"),r=a.get(t);r&&(n.tracks.push(r),Zu(e,r),r.autoscale=!1,n.height=r.height)})}else if(!e.processed){const t=e.getAttribute("id"),n=a.get(t);n&&(s.push(n),Zu(e,n))}})}processRootNode(e,t){const n=e.getElementsByTagName("Session");!n||n.length;const r=n.item(0),i=r.getAttribute("genome"),o=r.getAttribute("locus"),s=r.getAttribute("ucscID");t&&t.hasOwnProperty(i)?this.genome=i:(this.reference={fastaURL:i},s&&(this.reference.id=s)),o&&(this.locus=o)}}function Zu(e,t){t.name=e.getAttribute("name");const n=e.getAttribute("color");n&&(t.color="rgb("+n+")");const r=e.getAttribute("altColor");n&&(t.altColor="rgb("+r+")");const i=e.getAttribute("height");i&&(t.height=parseInt(i));const o=e.getAttribute("autoScale");o&&(t.autoscale="true"===o);const s=e.getAttribute("autoscaleGroup");s&&(t.autoscaleGroup=s);const a=e.getAttribute("windowFunction");a&&(t.windowFunction=a);const l=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow");l&&(t.visibilityWindow=l);const c=e.getAttribute("indexed");c&&(t.indexed="true"===c);const h=e.getAttribute("normalize");h&&(t.normalize="true"===h);const u=e.getElementsByTagName("DataRange");if(u.length>0){const e=u.item(0);t.min=Number.parseFloat(e.getAttribute("minimum")),t.max=Number.parseFloat(e.getAttribute("maximum")),t.logScale="LOG"===e.getAttribute("type")}}const Xu=kt;class Yu{constructor(){this.attributes={},this.plinkLoaded=!1}async loadPlinkFile(e,t){t||(t={});var n=pa(t);const r=await xo.loadString(e,n);var i=Xu(r);for(let e of i){var o=e.split(" ");this.attributes[o[1]]={familyId:o[0],fatherId:o[2],motherId:o[3],sex:o[4],phenotype:o[5]}}return this.plinkLoaded=!0,this}getAttributes(e){return this.attributes[e]}getAttributeNames(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]}hasAttributes(){return Object.keys(this.attributes).length>0}}class Ku{constructor(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=Qu[this.genesCount++]),t&&(this.snp=t.toUpperCase())}addGene(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=Qu[this.genesCount++])}colorForGene(e){return this.geneColors[e.toUpperCase()]}}var Qu=new Array;Qu.push("rgb(228,26,28)"),Qu.push("rgb(55,126,184)"),Qu.push("rgb(77,175,74)"),Qu.push("rgb(166,86,40)"),Qu.push("rgb(152,78,163)"),Qu.push("rgb(255,127,0)"),Qu.push("rgb(247,129,191)"),Qu.push("rgb(153,153,153)"),Qu.push("rgb(255,255,51)"),Qu.push("rgb(102, 194, 165"),Qu.push("rgb(252, 141, 98"),Qu.push("rgb(141, 160, 203"),Qu.push("rgb(231, 138, 195"),Qu.push("rgb(166, 216, 84"),Qu.push("rgb(255, 217, 47"),Qu.push("rgb(229, 196, 148"),Qu.push("rgb(179, 179, 179"),Qu.push("rgb( 141, 211, 199"),Qu.push("rgb(255, 255, 179"),Qu.push("rgb(190, 186, 218"),Qu.push("rgb(251, 128, 114"),Qu.push("rgb(128, 177, 211"),Qu.push("rgb(253, 180, 98"),Qu.push("rgb(179, 222, 105"),Qu.push("rgb(252, 205, 229"),Qu.push("rgb(217, 217, 217"),Qu.push("rgb(188, 128, 189"),Qu.push("rgb(204, 235, 197"),Qu.push("rgb(255, 237, 111");class Ju{constructor(e,t,n,r,i){this.genome=e,this.chr=t,this.start=n,this.end=r,this.bpPerPixel=i,this.id=vt()}calculateEnd(e){return this.start+this.bpPerPixel*e}calculateBPP(e,t){return(e-this.start)/t}set(e){this.chr=e.chr,this.start=e.start,this.bpPerPixel=e.bpPerPixel}toPixels(e){return e/this.bpPerPixel}toBP(e){return this.bpPerPixel*e}shiftPixels(e,t){const n=this.start,r=e*this.bpPerPixel;this.start+=r,this.clampStart(t),this.end+=r;const{bpLength:i}=this.genome.getChromosome(this.chr);return this.end=Math.min(i,this.end),n!==this.start}clampStart(e){const t=this.genome.getChromosome(this.chr).bpStart||0;if(this.start=Math.max(t,this.start),e){const{bpLength:t}=this.genome.getChromosome(this.chr),n=t-e*this.bpPerPixel;this.start>n&&(this.start=n)}}async zoomWithScaleFactor(e,t,n,r){const i=void 0===r?this.start+this.toBP(n/2):r,{start:o,bpPerPixel:s}=this.start,{bpLength:a}=this.getChromosome(),l=t<1?e.minimumBases()/n:a/n;this.bpPerPixel=t<1?Math.max(this.bpPerPixel*t,l):Math.min(this.bpPerPixel*t,l);const c=this.bpPerPixel*n;this.start=i-.5*c,this.clampStart(n),this.end=this.start+c;(o!==this.start||s!==this.bpPerPixel)&&await e.updateViews(this)}getChromosome(){return this.genome.getChromosome(this.chr)}getMultiLocusLabel(e){const t=Math.floor(this.start)+1,n=Math.round(this.start+this.bpPerPixel*e);return`${this.chr}&nbsp &nbsp &nbsp${ba(n-t)}`}getPresentationLocusComponents(e){if("all"===this.chr)return{chr:this.chr};{const t=St(Math.floor(this.start)+1),n=St(Math.round(this.start+this.bpPerPixel*e));return{chr:this.chr,start:t,end:n}}}getLocusString(){if("all"===this.chr)return"all";{const e=St(Math.floor(this.start)+1),t=St(Math.round(this.end));return`${this.chr}:${e}-${t}`}}description(e){console.log(` ${e||""} referenceFrame - ${this.chr} bpp ${this.bpPerPixel.toFixed(3)} start ${St(Math.round(this.start))} end ${St(Math.round(this.end))} `)}}const ef={A:"rgb(  0, 200,   0)",C:"rgb(  0,0,200)",T:"rgb(255,0,0)",G:"rgb(209,113,  5)",N:"rgb(80,80,80)"},tf={timeout:5e3,type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"};async function nf(e,t){if(void 0===t||""===t.trim())return;(t&&"all"===t.trim().toLowerCase()||"*"===t)&&(t="all");const n=t.split(" ");let r=e.searchConfig||tf,i=[];const o=async n=>{let i=function(e,t){const n=t.split(":"),r=n[0];if("all"===r&&e.genome.getChromosome(r))return{chr:r,start:0,end:e.genome.getChromosome(r).bpLength};if(void 0===e.genome.getChromosome(r))return;{const t={chr:e.genome.getChromosomeName(r),start:0,end:e.genome.getChromosome(r).bpLength};if(n.length>1){const e=n[1].split("-");if(e.length>2)return;{let n;if(n=e[0].replace(/,/g,""),isNaN(n))return;if(t.start=parseInt(n,10)-1,t.end=t.start+1,1===e.length&&(t.start-=20,t.end+=20),2===e.length){if(n=e[1].replace(/,/g,""),isNaN(n))return;t.end=parseInt(n,10)}}}return t}}(e,n);if(!i){const r=e.genome.featureDB[n.toUpperCase()];r&&(i={chr:r.chr,start:r.start,end:r.end,gene:r.name,locusSearchString:t})}if(!i&&e.config&&!1!==e.config.search)try{i=await async function(e,t,n){let r=n.url.replace("$FEATURE$",t.toUpperCase());r.indexOf("$GENOME$")>-1&&(r=r.replace("$GENOME$",e.genome.id?e.genome.id:"hg19"));const i=n.timeout?{timeout:n.timeout}:void 0,o=await xo.loadString(r,i),s=function(e,t,n){let r;r="plain"===n.type?function(e,t){const n=[],r=[];return kt(t).forEach(function(e){""===e||n.push(e)}),n.forEach(function(t){var n,i,o,s,a=t.split("\t");a.length>=3&&(o=(i=a[1].split(":"))[1].split("-"),n=a[2].trim(),s={gene:a[0],chromosome:e.genome.getChromosomeName(i[0].trim()),start:parseInt(o[0].replace(/,/g,"")),end:parseInt(o[1].replace(/,/g,"")),type:"gtex"===n?"snp":"gene"},r.push(s))}),r}(e,t):JSON.parse(t);n.resultsField&&(r=r[n.resultsField]);if(r&&0!==r.length){const t=n.chromosomeField||"chromosome",i=n.startField||"start",o=n.endField||"end",s=n.coords||1;let a;a=Array.isArray(r)?r[0]:r,a.hasOwnProperty(t)&&a.hasOwnProperty(i)||console.error("Search service results must include chromosome and start fields: "+a);const l=a[t],c=e.genome.getChromosome(l);if(!c)return;const h=c.name;let u=a[i]-s,f=a[o];void 0===f&&(f=u+1);const d={chr:h,start:u,end:f},p=a.type?a.type:"gene";return n.geneField&&"gene"===p&&(d.gene=a[n.geneField]),n.snpField&&"snp"===p&&(d.snp=a[n.snpField]),d}return}(e,o,n);s&&(s.locusSearchString=t);return s}(e,n,r)}catch(e){throw console.error(e),Error("Search service currently unavailable.")}return i};for(let e of n){const t=await o(e);t&&(t.locusSearchString=e,i.push(t))}if(0===i.length){const e=await o(t);e&&(e.locusSearchString=t,i.push(e))}return 0===i.length?void 0:i}class rf{constructor(e){this.browser=e}navbarDidResize(e,t){this.updateNavbar(this.createResponsiveClassSchedule(e,t))}updateNavbar(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),dt(this.browser.zoomWidget.zoomContainer).removeClass(),dt(this.browser.zoomWidget.zoomContainer).addClass(e.zoomContainer)}createResponsiveClassSchedule(e,t){let n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.zoomContainer="igv-zoom-widget-hidden"),n}}const of=function(e,t){this.container=pt({class:"igv-chromosome-select-widget-container"}),t.appendChild(this.container),this.select=document.createElement("select"),this.select.setAttribute("name","chromosome-select-widget"),this.container.appendChild(this.select),this.select.addEventListener("change",()=>{this.select.blur(),""!==this.select.value&&e.search(this.select.value)}),this.showAllChromosomes=!1!==e.config.showAllChromosomes};of.prototype.show=function(){this.container.style.display="flex"},of.prototype.hide=function(){this.container.style.display="none"},of.prototype.update=function(e){const t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift("")),this.select.innerHTML="";for(let e of t){const t=document.createElement("option");t.setAttribute("value",e),t.innerText=e,this.select.appendChild(t)}};class sf{constructor(e,t){this.container=pt({class:"igv-windowsize-panel-container"}),e.appendChild(this.container),t.on("locuschange",e=>{this.updatePanel(e)}),this.browser=t}show(){this.container.style.display="block"}hide(){this.container.style.display="none"}updatePanel(e){const t=this.browser.calculateViewportWidth(this.browser.referenceFrameList.length);this.container.innerText=1===e.length?ba(Math.round(t*e[0].bpPerPixel)):""}}class af{constructor(e,t){this.browser=t,this.columnContainer=e,this.horizontalGuide=pt({class:"igv-cursor-guide-horizontal"}),e.appendChild(this.horizontalGuide),this.verticalGuide=pt({class:"igv-cursor-guide-vertical"}),e.appendChild(this.verticalGuide),this.addMouseHandler(t),this.setVisibility(t.config.showCursorTrackingGuide)}addMouseHandler(e){this.boundMouseMoveHandler=function(t){const{x:n,y:r}=bt(t,this.columnContainer);this.horizontalGuide.style.top=`${r}px`;const i=document.elementFromPoint(t.clientX,t.clientY);let o;i.parentElement.classList.contains("igv-viewport-content")?o=i.parentElement.parentElement:i.parentElement.classList.contains("igv-viewport")&&i.classList.contains("igv-viewport-content")&&(o=i.parentElement);if(o&&e.getRulerTrackView()){this.verticalGuide.style.left=`${n}px`;const r=e.root.querySelectorAll(".igv-column");let i;const s=o.parentElement;for(let e=0;e<r.length;e++)void 0===i&&s===r[e]&&(i=e);const a=e.getRulerTrackView().viewports[i].mouseMove(t);if(a){const{start:e,bp:t,end:n}=a,r=(t-e)/(n-e);this.customMouseHandler&&this.customMouseHandler({start:e,bp:t,end:n,interpolant:r})}}}.bind(this),this.columnContainer.addEventListener("mousemove",this.boundMouseMoveHandler)}removeMouseHandler(){this.columnContainer.removeEventListener("mousemove",this.boundMouseMoveHandler)}setVisibility(e){!0===e?this.show():this.hide()}show(){this.verticalGuide.style.display="block",this.horizontalGuide.style.display="block"}hide(){if(this.verticalGuide.style.display="none",this.horizontalGuide.style.display="none",this.browser.getRulerTrackView())for(let e of this.browser.getRulerTrackView().viewports)e.$tooltip.hide()}}class lf{constructor(e,t){this.browser=e,this.button=pt({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.textContent="cursor guide",this.button.addEventListener("click",()=>{e.cursorGuideVisible=!e.cursorGuideVisible,e.setCursorGuideVisibility(e.cursorGuideVisible),this.setButtonState(e.cursorGuideVisible)}),this.setButtonState(e.cursorGuideVisible),e.config.showCursorTrackingGuideButton?this.show():this.hide()}setButtonState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.button.style.display="block",this.setButtonState(this.browser.cursorGuideVisible)}hide(){this.button.style.display="none"}}class cf{constructor(e,t){this.browser=e,this.button=pt({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.textContent="center line",this.button.addEventListener("click",()=>{e.isCenterLineVisible=!e.isCenterLineVisible,e.setCenterLineVisibility(e.isCenterLineVisible),this.setButtonState(e.isCenterLineVisible)}),this.setButtonState(e.isCenterLineVisible),e.config.showCenterGuideButton?this.show():this.hide()}setButtonState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.isVisible=!0,this.button.style.display="block",this.setButtonState(this.browser.isCenterLineVisible)}hide(){this.isVisible=!1,this.button.style.display="none"}}const hf=function(e,t){this.button=pt({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="track labels",this.button.addEventListener("click",()=>{t.trackLabelsVisible=!t.trackLabelsVisible,this.setState(t.trackLabelsVisible),t.setTrackLabelVisibility(t.trackLabelsVisible)}),this.browser=t,this.setVisibility(t.config.showTrackLabelButton),this.setState(t.trackLabelsVisible)};hf.prototype.setVisibility=function(e){!0===e?this.show():this.hide()},hf.prototype.setState=function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")},hf.prototype.show=function(){this.button.style.display="block",this.setState(this.browser.trackLabelsVisible)},hf.prototype.hide=function(){this.button.style.display="none"};class uf{constructor(e,t){this.button=pt({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.innerText="Sample Names",this.setState(t.showSampleNames),this.setVisibility(t.showSampleNameButton),this.button.addEventListener("click",()=>{t.showSampleNames=!t.showSampleNames,this.setState(t.showSampleNames);for(let{sampleNameViewport:e}of t.trackViews)!1===t.showSampleNames?e.hide():e.show();t.resize()})}setVisibility(e){!0===e?this.show():this.hide()}setState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}hide(){this.button.style.display="none"}show(){this.button.style.display="block"}}let ff=23,df=0;const pf=function(e,t){this.browser=e,this.zoomContainer=pt({class:"igv-zoom-widget"}),t.appendChild(this.zoomContainer),this.zoomOutButton=pt(),this.zoomContainer.appendChild(this.zoomOutButton),this.zoomOutButton.appendChild(yt("minus-circle")),this.zoomOutButton.addEventListener("click",()=>{e.zoomOut()});const n=pt();this.zoomContainer.appendChild(n),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min="0",this.slider.max=`${ff}`,n.appendChild(this.slider),this.slider.addEventListener("change",t=>{t.preventDefault(),t.stopPropagation();const n=e.referenceFrameList[0],{bpLength:r}=n.genome.getChromosome(n.chr),{end:i,start:o}=n,s=i-o,a=r/Math.pow(2,t.target.valueAsNumber);e.zoomWithScaleFactor(a/s)}),this.zoomInButton=pt(),this.zoomContainer.appendChild(this.zoomInButton),this.zoomInButton.appendChild(yt("plus-circle")),this.zoomInButton.addEventListener("click",()=>{e.zoomIn()}),e.on("locuschange",e=>{this.browser.isMultiLocusMode()?this.disable():(this.enable(),this.update(e))})};pf.prototype.update=function(e){const t=e[0],{bpLength:n}=t.genome.getChromosome(t.chr),{start:r,end:i}=t;ff=Math.ceil(Math.log2(n/this.browser.minimumBases())),this.slider.max=`${ff}`;const o=n/(i-r);df=Math.log2(o),this.slider.value=`${Math.round(df)}`},pf.prototype.enable=function(){this.slider.disabled=!1},pf.prototype.disable=function(){this.slider.disabled=!0},pf.prototype.hide=function(){this.zoomContainer.style.display="none"},pf.prototype.show=function(){this.zoomContainer.style.display="block"},pf.prototype.hideSlider=function(){this.slider.style.display="none"},pf.prototype.showSlider=function(){this.slider.style.display="block"};const gf=function(e,t){const n=pt({class:"igv-navbar-button"});e.append(n),n.textContent="Save SVG",n.addEventListener("click",()=>t.saveSVGtoFile({}))},mf=(e,t)=>{const n=0===e?t.nextElementSibling:t.previousElementSibling;t.remove(),n.remove()},vf=e=>{const t=pt({class:"igv-column-shim"});_a(t,e);const n=pt({class:"igv-column"});return _a(n,t),n},bf=(e,t)=>{for(let n=0;n<t;n++){const r=pt({class:"igv-column"});if(xa(r,e),t>1&&n>0){xa(pt({class:"igv-column-shim"}),r)}}};class yf{constructor(e,t,n){this.browser=e,this.referenceFrame=t,this.column=n,this.container=pt({class:"igv-center-line"}),n.appendChild(this.container),e.isCenterLineVisible?this.show():this.hide()}repaint(){const{x:e}=this.column.getBoundingClientRect(),t=Math.floor(e+.5*this.browser.calculateViewportWidth(this.browser.referenceFrameList.length));if(this.referenceFrame){1/this.referenceFrame.bpPerPixel>1?(this.container.style.left=`${t}px`,this.container.style.width=`${Math.floor(this.referenceFrame.toPixels(1))}px`,this.container.classList.remove("igv-center-line-thin"),this.container.classList.add("igv-center-line-wide")):(this.container.style.left=`${t}px`,this.container.style.width="1px",this.container.classList.remove("igv-center-line-wide"),this.container.classList.add("igv-center-line-thin"))}}show(){this.isVisible=!0,this.container.style.display="block",this.repaint()}hide(){this.isVisible=!1,this.container.style.display="none"}resize(){this.repaint()}}const wf=St;class xf{constructor(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=.01*Number.MIN_SAFE_INTEGER,this.removable=!1,this.type="ruler"}async getFeatures(e,t,n){return[]}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:n,pixelHeight:r,bpPerPixel:i,bpStart:o}){Qs.isWholeGenomeView(t.chr)?this.drawWholeGenome({context:e,pixelWidth:n,pixelHeight:r,bpPerPixel:i}):this.doDraw({context:e,referenceFrame:t,pixelWidth:n,pixelHeight:r,bpStart:o})}drawWholeGenome({context:e,pixelWidth:t,pixelHeight:n,bpPerPixel:r}){e.save(),gs.fillRect(e,0,0,t,n,{fillStyle:"white"});for(let t of this.browser.genome.wgChromosomeNames){let i=this.browser.genome.getCumulativeOffset(t),o=this.browser.genome.getChromosome(t).bpLength,s=Math.round(i/r),a=Math.round(o/r);this.renderChromosomeRect(e,s,0,a,n,t)}e.restore()}doDraw({context:e,referenceFrame:t,pixelWidth:n,pixelHeight:r,bpStart:i}){e.clearRect(0,0,n,r);const o=function(e,t){if(e<10)return new _f(1,"bp",1);const n=Math.floor(Math.log10(e));let r="bp",i=1;n>9?(r="gb",i=1e9):n>6?(r="mb",i=1e6):n>3&&(r="kb",i=1e3);const o=Math.pow(10,n-1),s=e/o,a=75,l=Math.pow(10,n-1),c=Math.pow(10,n)/2;return new _f(s<a&&!0!==t?l:c,r,i)}(Math.floor(t.toBP(n)),e.isSVG);let s=Math.floor(i/o.majorTick)-1;const{tickDelta:a,labelLength:l}=function(e,t,n,r,i){const o=c(t,l(1+r,i),n)-c(t,l(r,i),n),s=`${St(Math.floor(l(r,i)/i.unitMultiplier))} ${i.majorUnit}`,a=Math.floor(e.measureText(s).width);return{tickDelta:o,labelLength:a};function l(e,t){return Math.floor(e*t.majorTick)}function c(e,t,n){return Math.round(e.toPixels(t-1-n+.5))}}(e,t,i,s,o);let c,h;this.browser.referenceFrameList.indexOf(t);let u=a;const f=.25*l;do{h=Math.floor(s*o.majorTick);const n=`${St(Math.floor(h/o.unitMultiplier))} ${o.majorUnit}`;c=Math.round(t.toPixels(h-1-i+.5));const r=Math.round(c-e.measureText(n).width/2);r>0&&f+l<=u&&(gs.fillText(e,n,r,this.height-8),u=0),c>0&&gs.strokeLine(e,c,this.height-6,c,this.height-2),h=Math.floor((1+s)*o.majorTick);let d=c+(Math.round(t.toPixels(h-1-i+.5))-c)/2;d>0&&gs.strokeLine(e,d,this.height-6,d,this.height-2),++s,u+=a}while(c<n);gs.strokeLine(e,0,this.height-2,n,this.height-2)}renderChromosomeRect(e,t,n,r,i,o){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",gs.strokeLine(e,t+r,n,t+r,n+i,{strokeStyle:lo.greyScale(191)});const s=o.startsWith("chr")?o.substring(3):o;r>e.measureText(s).width&&gs.fillText(e,s,t+r/2,n+i/2,{fillStyle:lo.greyScale(68)})}supportsWholeGenome(){return!0}dispose(){}}class _f{constructor(e,t,n){this.majorTick=e,this.minorTick=e/10,this.majorUnit=t,this.unitMultiplier=n}description(e){console.log((e||"")+" tick "+wf(this.majorTick)+" label width "+wf(this.labelWidthBP)+" multiplier "+this.unitMultiplier)}}class Sf{constructor(e,t){this.config=e,this.guid=vt(),this.namespace=".browser_"+this.guid,this.parent=t,this.root=pt({class:"igv-container"}),t.appendChild(this.root),is.init(this.root),this.columnContainer=pt({class:"igv-column-container"}),this.root.appendChild(this.columnContainer),this.menuPopup=new Ea(this.columnContainer),this.initialize(e),this.trackViews=[],this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.addMouseHandlers(),this.setControls(e)}initialize(e){e.gtex&&(Yc.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.nucleotideColors=e.nucleotideColors||ef;for(let e of Object.keys(this.nucleotideColors))this.nucleotideColors[e.toLowerCase()]=this.nucleotideColors[e];this.trackLabelsVisible=e.showTrackLabels,this.isCenterLineVisible=e.showCenterGuide,this.cursorGuideVisible=e.showCursorTrackingGuide,this.showSampleNames=e.showSampleNames,this.showSampleNameButton=e.showSampleNameButton,this.sampleNameViewportWidth=e.sampleNameViewportWidth||200,e.search&&(this.searchConfig={type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField})}setControls(e){const t=this.createStandardControls(e);t.insertBefore(dt(this.columnContainer)),this.$navigation=t,!1===e.showControls&&t.hide()}createStandardControls(e){this.navbarManager=new rf(this);const t=dt("<div>",{class:"igv-navbar"});this.$navigation=t;const n=dt("<div>",{class:"igv-navbar-left-container"});t.append(n);const r=dt("<div>",{class:"igv-logo"});n.append(r);const i=dt('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>');i.css("width","34px"),i.css("height","32px"),r.append(i),this.$current_genome=dt("<div>",{class:"igv-current-genome"}),n.append(this.$current_genome),this.$current_genome.text("");const o=dt("<div>",{class:"igv-navbar-genomic-location"});n.append(o),this.chromosomeSelectWidget=new of(this,o.get(0)),void 0===e.showChromosomeWidget&&(e.showChromosomeWidget=!0),!0===e.showChromosomeWidget?this.chromosomeSelectWidget.show():this.chromosomeSelectWidget.hide();const s=dt("<div>",{class:"igv-locus-size-group"});o.append(s);const a=dt("<div>",{class:"igv-search-container"});s.append(a),this.$searchInput=dt("<input>",{class:"igv-search-input",type:"text",placeholder:"Locus Search"}),a.append(this.$searchInput),this.$searchInput.change(()=>this.doSearch(this.$searchInput.val()));const l=pt({class:"igv-search-icon-container"});a.append(dt(l)),l.appendChild(yt("search")),l.addEventListener("click",()=>this.doSearch(this.$searchInput.val())),this.windowSizePanel=new sf(s.get(0),this);const c=dt("<div>",{class:"igv-navbar-right-container"});t.append(c);const h=dt('<div class="igv-navbar-toggle-button-container">');return c.append(h),this.$toggle_button_container=h,this.cursorGuide=new af(this.columnContainer,this),this.cursorGuideButton=new lf(this,h.get(0)),this.centerLineButton=new cf(this,h.get(0)),this.setTrackLabelVisibility(e.showTrackLabels),this.trackLabelControl=new hf(h.get(0),this),this.sampleNameControl=new uf(h.get(0),this),!0===e.showSVGButton&&(this.svgSaveControl=new gf(h.get(0),this)),this.zoomWidget=new pf(this,c.get(0)),!1===e.showNavigation&&this.$navigation.hide(),this.inputDialog=new os(this.root),this.inputDialog.container.id=`igv-input-dialog-${vt()}`,this.dataRangeDialog=new ps(dt(this.root)),this.dataRangeDialog.$container.get(0).id=`igv-data-range-dialog-${vt()}`,this.genericColorPicker=new Aa({parent:this.columnContainer,width:432}),this.genericColorPicker.container.id=`igv-track-color-picker-${vt()}`,t}getSampleNameViewportWidth(){return!1===this.showSampleNames?0:this.sampleNameViewportWidth}isMultiLocusMode(){return this.referenceFrameList&&this.referenceFrameList.length>1}addTrackToFactory(e,t){qu(e,t)}isMultiLocusWholeGenomeView(){if(void 0===this.referenceFrameList||1===this.referenceFrameList.length)return!1;for(let e of this.referenceFrameList)if("all"===e.chr.toLowerCase())return!0;return!1}toSVG(){let{x:e,y:t,width:n,height:r}=this.columnContainer.getBoundingClientRect();let i=new js({width:n,height:8e3,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:n,height:8e3}});for(let e of this.trackViews)e.renderSVGContext(i,{deltaX:0,deltaY:-t});return i.setHeight(r),i.getSerializedSvg(!0)}renderSVG(e){const t=this.toSVG();return e.empty(),e.append(t),t}saveSVGtoFile(e){let t=this.toSVG();e.$container&&(e.$container.empty(),e.$container.append(t));Ut(e.filename||"igvjs.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))}async loadSession(e){let t;return this.roi=[],t=e.url||e.file?await async function(e){const t=e.url||e.file;if(e.url&&(e.url.startsWith("blob:")||e.url.startsWith("data:"))){const t=Sf.uncompressSession(e.url);return JSON.parse(t)}{let n=e.filename;if(n||(n=e.url?await va(e.url):e.file.name),n.endsWith(".xml")){const e=Qs.KNOWN_GENOMES,n=await xo.loadString(t);return new Gu(n,e)}return n.endsWith(".json")?xo.loadJson(t):void 0}}(e):e,this.loadSessionObject(t)}async loadSessionObject(e){this.cleanHouseForSession(),this.showSampleNames=e.showSampleNames||!1,this.sampleNameControl.setState(!0===this.showSampleNames),e.sampleNameViewportWidth&&(this.sampleNameViewportWidth=e.sampleNameViewportWidth),wa(this.columnContainer,"igv-axis-column"),wa(this.columnContainer,"igv-sample-name-column"),wa(this.columnContainer,"igv-scrollbar-column"),wa(this.columnContainer,"igv-track-drag-column"),wa(this.columnContainer,"igv-gear-menu-column");const t=await Qs.expandReference(e.reference||e.genome);if(await this.loadReference(t,e.locus),this.centerLineList=this.createCenterLineList(this.columnContainer),!1!==e.showIdeogram&&this.trackViews.push(new Ma(this,this.columnContainer,new Ou(this))),!1!==e.showRuler&&this.trackViews.push(new Ma(this,this.columnContainer,new xf(this))),e.gtexSelections)for(let t of this.referenceFrameList)for(let n of Object.keys(e.gtexSelections)){const r=e.gtexSelections[n].gene,i=e.gtexSelections[n].snp;t.selection=new Ku(r,i)}if(e.roi){this.roi=[];for(let t of e.roi)this.roi.push(new Wu(t,this.genome))}const n=t.tracks||[],r=e.tracks?n.concat(e.tracks):n;0===r.filter(e=>"sequence"===e.type).length&&r.push({type:"sequence",order:Ts});let i=1;for(let e of r)void 0===e.order&&(e.order=i++);await this.loadTrackList(r),this.updateUIWithReferenceFrameList()}createCenterLineList(e){const t=e.querySelectorAll(".igv-center-line");for(let e=0;e<t.length;e++)t[e].remove();const n=[],r=e.querySelectorAll(".igv-column");for(let e=0;e<r.length;e++)n.push(new yf(this,this.referenceFrameList[e],r[e]));return n}async loadReference(e,t){const n=await Qs.loadGenome(e),r=void 0===this.genome||this.genome.id!==n.id;this.genome=n,this.updateNavbarDOMWithGenome(n),r&&this.removeAllTracks();let i=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()}(t,n);if(!await this.search(i,!0)){console.log("Initial locus not found: "+i),i=n.getHomeChromosomeName();if(!await this.search(i,!0))throw new Error("Cannot set initial locus")}}cleanHouseForSession(){for(let e of this.trackViews)e.removeDOMFromColumnContainer();this.columnContainer.querySelectorAll(".igv-axis-column, .igv-column-shim, .igv-column, .igv-sample-name-column, .igv-scrollbar-column, .igv-track-drag-column, .igv-gear-menu-column").forEach(e=>e.remove()),this.trackViews=[]}updateNavbarDOMWithGenome(e){this.$current_genome.text(e.id||""),this.$current_genome.attr("title",e.id||""),this.chromosomeSelectWidget.update(e)}async loadGenome(e){const t=await Qs.expandReference(e);await this.loadReference(t,void 0);const n=t.tracks||[];return 0===n.filter(e=>"sequence"===e.type).length&&n.push({type:"sequence",order:Ts}),await this.loadTrackList(n),await this.updateViews(),this.genome}updateUIWithReferenceFrameList(){const e=this.referenceFrameList;this.updateLocusSearchWidget();const t=this.isMultiLocusWholeGenomeView()||Qs.isWholeGenomeView(e[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),t),Tf(this.trackViews,this.trackLabelsVisible),this.setCenterLineAndCenterLineButtonVisibility(!Qs.isWholeGenomeView(e[0].chr))}setTrackLabelVisibility(e){Tf(this.trackViews,e)}setCursorGuideVisibility(e){e?this.cursorGuide.show():this.cursorGuide.hide()}setCustomCursorGuideMouseHandler(e){this.cursorGuide.customMouseHandler=e}setCenterLineVisibility(e){for(let t of this.centerLineList)!0===e?(t.show(),t.repaint()):t.hide()}setCenterLineAndCenterLineButtonVisibility(e){for(let t of this.centerLineList){e&&t.isVisible?t.show():t.container.style.display="none"}e&&this.centerLineButton.isVisible?this.centerLineButton.show():this.centerLineButton.button.style.display="none"}async loadTrackList(e){try{const t=[];for(let n of e)t.push(this.loadTrack(n,!1));const n=await Promise.all(t),r=this.trackViews.filter(function(e){return e.track.autoscaleGroup});return r.length>0&&this.updateViews(r),n}finally{await this.resize()}}async loadROI(e){if(this.roi||(this.roi=[]),Array.isArray(e))for(let t of e)this.roi.push(new Wu(t,this.genome));else this.roi.push(new Wu(e,this.genome));await this.updateViews(!0)}removeROI(e){for(let t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}for(let e of this.trackViews)e.updateViews(!0)}clearROIs(){this.roi=[];for(let e of this.trackViews)e.updateViews(!0)}getRulerTrackView(){const e=this.trackViews.filter(({track:e})=>"ruler"===e.id);return e.length>0?e[0]:void 0}async loadTrack(e,t){_t(e)&&(e=JSON.parse(e));try{const n=await this.createTrack(e);if(void 0===n)return is.presentAlert(new Error(`Unknown file type: ${e.url||e}`),void 0),n;void 0===n.order&&(n.order=this.trackViews.length);const r=new Ma(this,this.columnContainer,n);if(this.trackViews.push(r),Tf(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),"function"==typeof n.postInit)try{r.startSpinner(),await n.postInit()}finally{r.stopSpinner()}return n.autoscaleGroup||(e.sync?await r.updateViews():r.updateViews()),"function"==typeof n.hasSamples&&n.hasSamples()&&!1!==this.config.showSampleNameButton&&this.sampleNameControl.show(),n}catch(t){const n={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};console.error(t);let r=t.message||t.error||t.toString();n.hasOwnProperty(r)&&(r=n[r]),r+=": "+e.url,is.presentAlert(new Error(r),void 0)}finally{!1===t||await this.resize()}}async createTrack(e){let t=await async function(e){return"function"==typeof e?e():e}(e.url);if(_t(t)&&(t=t.trim()),t)if(e.format)e.format=e.format.toLowerCase();else{let n=e.filename;n||(n=await va(t)),e.format=function(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return bs.has(n)?n:void 0}}(n),e.format||void 0!==e.sourceType&&"htsget"!==e.sourceType||await vc.inferFormat(e)}let n=e.type?e.type.toLowerCase():void 0;if(!n){if(n=ys(e),"bedtype"===n){const t=Gc(e,this.genome);e._featureSource=t;const r=await t.trackType();n=r||"annotation"}e.type=n}if(this.trackDefaults&&n){const t=this.trackDefaults[n];if(t)for(let n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n])}const r=Uu(n,e,this);if(r&&e.roi){r.roi=[];for(let t of e.roi)r.roi.push(new Wu(t,this.genome))}return r}reorderTracks(){this.trackViews.sort(function(e,t){const n=e=>"ideogram"===e.track.id?1:"ruler"===e.track.id?2:3,r=n(e),i=n(t);if(r===i){return(e.track.order||0)-(t.track.order||0)}return r-i});for(let{axis:e,viewports:t,sampleNameViewport:n,outerScroll:r,dragHandle:i,gearContainer:o}of this.trackViews){e.remove();for(let{$viewport:e}of t)e.detach();n.viewport.remove(),r.remove(),i.remove(),o.remove()}const e=this.columnContainer.querySelectorAll(".igv-column");for(let{axis:t,viewports:n,sampleNameViewport:r,outerScroll:i,dragHandle:o,gearContainer:s}of this.trackViews){this.columnContainer.querySelector(".igv-axis-column").appendChild(t);for(let t=0;t<e.length;t++){const{$viewport:r}=n[t];e[t].appendChild(r.get(0))}this.columnContainer.querySelector(".igv-sample-name-column").appendChild(r.viewport),this.columnContainer.querySelector(".igv-scrollbar-column").appendChild(i),this.columnContainer.querySelector(".igv-track-drag-column").appendChild(o),this.columnContainer.querySelector(".igv-gear-menu-column").appendChild(s)}}getTrackOrder(){return this.trackViews.filter(e=>e.track&&e.track.name).map(e=>e.track.name)}removeTrackByName(e){const t=this.trackViews.slice();for(let n of t)e===n.track.name&&this.removeTrack(n.track)}removeTrack(e){this.trackViews.splice(this.trackViews.indexOf(e.trackView),1),this.fireEvent("trackremoved",[e]),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),e.trackView.dispose()}removeAllTracks(){const e=[];for(let t of this.trackViews)"ruler"!==t.track.id&&"ideogram"!==t.track.id?(this.fireEvent("trackremoved",[t.track]),t.dispose()):e.push(t);this.trackViews=e}findTracks(e,t){let n="function"==typeof e?t=>e(t.track):n=>t===n.track[e];return this.trackViews.filter(n).map(e=>e.track)}setTrackHeight(e){this.trackHeight=e,this.trackViews.forEach(function(t){t.setTrackHeight(e)})}async visibilityChange(){if(this.referenceFrameList.find(e=>e.bpPerPixel<0)){const e=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList)t.bpPerPixel=(t.end-t.start)/e}if(this.referenceFrameList){const e=this.isMultiLocusWholeGenomeView()||Qs.isWholeGenomeView(this.referenceFrameList[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),e)}await this.resize()}async resize(){const e=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList){const n=this.referenceFrameList.indexOf(t),{chr:r,genome:i}=t,{bpLength:o}=i.getChromosome(t.chr),s=t.toBP(e);Qs.isWholeGenomeView(r)||s>o?t.bpPerPixel=o/e:t.end=t.start+t.toBP(e);for(let{viewports:t}of this.trackViews)t[n].setWidth(e)}await this.updateViews(!0),this.updateUIWithReferenceFrameList()}async updateViews(e){const t=this.trackViews;this.updateLocusSearchWidget();for(let e of this.centerLineList)e.repaint();if(this.dragObject)for(let n of t)await n.updateViews(e);else{const o={},s=[];for(let e of t){const t=e.track.autoscaleGroup;if(t){var n=o[t];n||(n=[],o[t]=n),n.push(e)}else s.push(e)}if(Object.entries(o).length>0){const t=Object.keys(o);for(let n of t){const t=o[n],s=[];for(let e of t)s.push(e.getInViewFeatures());const a=await Promise.all(s);var r,i=[];for(let e of a)i=i.concat(e);r=ga(i);const l=[];for(let n of t)n.track.dataRange=r,n.track.autoscale=!1,l.push(n.updateViews(e));await Promise.all(l)}}await Promise.all(s.map(t=>t.updateViews(e)))}}updateLocusSearchWidget(){const e=this.referenceFrameList,t=this.calculateViewportWidth(this.referenceFrameList.length);for(let n of e)n.end=n.start+n.bpPerPixel*t;this.chromosomeSelectWidget.select.value=1===e.length?this.referenceFrameList[0].chr:"";const n=this.referenceFrameList.map(e=>e.getLocusString()).join(" ");this.$searchInput.val(n),this.fireEvent("locuschange",[this.referenceFrameList])}calculateViewportWidth(e){let{width:t}=this.columnContainer.getBoundingClientRect();return t-=50+this.getSampleNameViewportWidth()+14+12+28,t-=5*(e-1),Math.floor(t/e)}getCenterLineXOffset(){let{width:e}=this.columnContainer.getBoundingClientRect();return e-=50+this.getSampleNameViewportWidth()+14+12+28,Math.floor(e/2+50)}minimumBases(){return this.config.minimumBases}zoomIn(){this.zoomWithScaleFactor(.5)}zoomOut(){this.zoomWithScaleFactor(2)}async zoomWithScaleFactor(e,t,n){const r=this.calculateViewportWidth(this.referenceFrameList.length);let i=n?[n]:this.referenceFrameList;for(let n of i)n.zoomWithScaleFactor(this,e,r,t)}async presentMultiLocusPanel(e,t){const n=this.calculateViewportWidth(1+this.referenceFrameList.length);!function(e,t,n,r,i){t.bpPerPixel*=e;const o=(r+(r+i))/2;t.start=o-t.bpPerPixel*(n/2),t.end=t.start+t.bpPerPixel*n,t.locusSearchString=t.getLocusString()}(this.calculateViewportWidth(this.referenceFrameList.length)/this.calculateViewportWidth(1+this.referenceFrameList.length),t,n,e.start,e.lengthOnRef);const r=this.genome.getChromosomeName(e.mate.chr),i=function(e,t,n,r,i,o){const s=(i+(i+o))/2-n*(r/2);return new Ju(e,t,s,s+n*r,n)}(this.genome,r,t.bpPerPixel,n,e.mate.position,e.lengthOnRef),o=this.referenceFrameList.indexOf(t),s=1+this.referenceFrameList.indexOf(t),{$viewport:a}=this.trackViews[0].viewports[o],l=vf(a.get(0).parentElement);if(s===this.referenceFrameList.length){this.referenceFrameList.push(i);for(let e of this.trackViews){const t=Sa(e,l,i);e.viewports.push(t)}}else{this.referenceFrameList.splice(s,0,i);for(let e of this.trackViews){const t=Sa(e,l,i);e.viewports.splice(s,0,t)}}this.centerLineList=this.createCenterLineList(this.columnContainer),await this.resize()}async removeMultiLocusPanel(e){const t=this.referenceFrameList.indexOf(e),{$viewport:n}=this.trackViews[0].viewports[t];mf(t,n.parent().get(0));for(let{viewports:e}of this.trackViews)e[t].dispose(),e.splice(t,1);if(this.referenceFrameList.splice(t,1),1===this.referenceFrameList.length&&this.getRulerTrackView())for(let e of this.getRulerTrackView().viewports)e.dismissLocusLabel();const r=this.calculateViewportWidth(1+this.referenceFrameList.length)/this.calculateViewportWidth(this.referenceFrameList.length);await this.rescaleForMultiLocus(r)}async rescaleForMultiLocus(e){const t=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList)t.bpPerPixel*=e;for(let{viewports:e}of this.trackViews)for(let n of e)n.setWidth(t);this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),await this.updateViews(!0)}async goto(e,t,n){await this.search(e+":"+t+"-"+n)}async doSearch(e,t){const n=await this.search(e,t);return n||is.presentAlert(new Error(`Unrecognized locus: <b> ${e} </b>`)),n}async search(e,t){const n=await nf(this,e);if(n&&n.length>0){this.referenceFrameList=function(e,t,n,r,i){return e.map(e=>{n&&e.gene&&(e.start=Math.max(0,e.start-n),e.end+=n);const o=t.getChromosome(e.chr);ma(o.bpLength,e,r);const s=new Ju(t,e.chr,e.start,e.end,(e.end-e.start)/i);return s.locusSearchString=e.locusSearchString,(e.gene||e.snp)&&(s.selection=new Ku(e.gene,e.snp)),s})}(n,this.genome,this.flanking,this.minimumBases(),this.calculateViewportWidth(n.length));for(let e of this.trackViews)e.removeDOMFromColumnContainer();this.columnContainer.querySelectorAll(".igv-column-shim, .igv-column").forEach(e=>e.remove()),bf(this.columnContainer.querySelector(".igv-sample-name-column"),this.referenceFrameList.length),this.centerLineList=this.createCenterLineList(this.columnContainer);for(let e of this.trackViews)e.addDOMToColumnContainer(this,this.columnContainer,this.referenceFrameList);return this.updateUIWithReferenceFrameList(),t||await this.updateViews(),!0}return!1}async loadSampleInformation(e){var t=e;Vt(e)&&(t=e.name),"fam"===t.substr(t.lastIndexOf(".")+1)&&(this.sampleInformation=await function(e,t){return(new Yu).loadPlinkFile(e,t)}(e))}on(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}un(e,t){this.off(e,t)}off(e,t){if(e)if(t){const n=this.eventHandlers[e];if(n&&0!==n.length){const r=n.indexOf(t);-1!==r&&this.eventHandlers[e].splice(r,1)}else console.warn("No handlers to remove for event: "+e)}else this.eventHandlers[e]=[];else this.eventHandlers={}}fireEvent(e,t,n){const r=this.eventHandlers[e];if(void 0===r||0===r.length)return;const i=n||window;return r.map(function(e){return e.apply(i,t)})[0]}dispose(){this.removeMouseHandlers();for(let e of this.trackViews)e.dispose()}toJSON(){const e={version:"2.10.4"};if(void 0!==this.showSampleNames&&(e.showSampleNames=this.showSampleNames),200!==this.sampleNameViewportWidth&&(e.sampleNameViewportWidth=this.sampleNameViewportWidth),e.reference=this.genome.toJSON(),qt(e.reference.fastaURL))throw new Error(`Error. Sessions cannot include local file references ${e.reference.fastaURL.name}.`);if(qt(e.reference.indexURL))throw new Error(`Error. Sessions cannot include local file references ${e.reference.indexURL.name}.`);const t=[],n={};let r=this.trackViews[0];for(let{referenceFrame:e}of r.viewports){const r=e.getLocusString();if(t.push(r),e.selection){const t={gene:e.selection.gene,snp:e.selection.snp};n[r]=t}}e.locus=1===t.length?t[0]:t;Object.getOwnPropertyNames(n).length>0&&(e.gtexSelections=n);const i=[],o=[];for(let{track:e}of this.trackViews)try{let t;t="function"==typeof e.getState?e.getState():e.config,t&&(t.browser&&delete t.browser,t.order=e.order,i.push(t))}catch(e){o.push(e)}if(o.length>0){let e=1,t="Errors encountered saving session:";for(let n of o)t+=` (${e++}) ${n.toString()}.`;throw Error(t)}if(i.filter(e=>{e.url&&Vt(e.url)}).length>0)throw new Error("Error. Sessions cannot include local file references.");return e.tracks=i,e}compressedSession(){return function(e){const t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e.charCodeAt(n);const r=new Xi.deflateRaw(t),i=String.fromCharCode.apply(null,r);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))}sessionURL(){const e=window.location.href.slice(),t=e.indexOf("?");return(t>0?e.substring(0,t):e)+"?sessionURL=blob:"+this.compressedSession()}currentLoci(){const e=[],t=this.trackViews[0];for(let{referenceFrame:n}of t.viewports){const t=n.getLocusString();e.push(t)}return e}mouseDownOnViewport(e,t){var n;n=mt(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,referenceFrame:t.referenceFrame}}cancelTrackPan(){const e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))}startTrackDrag(e){this.dragTrack=e}updateTrackDrag(e){if(e&&this.dragTrack){const t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),i=this.trackViews;i[n]=t,i[r]=e;const o=this.trackViews[n].track.order;this.trackViews[r].track.order=o;const s=i.length;let a=o;if(n<r)for(let e=n+1;e<s;e++){const t=i[e].track;if(!(t.order<=a))break;t.order=Math.min(Number.MAX_SAFE_INTEGER,a+1),a=t.order}else for(let e=n-1;e>0;e--){const t=i[e].track;if(!(t.order>=a))break;t.order=Math.max(-Number.MAX_SAFE_INTEGER,a-1),a=t.order}this.reorderTracks()}}endTrackDrag(){this.dragTrack?(this.dragTrack=void 0,this.fireEvent("trackorderchanged",[this.getTrackOrder()])):this.dragTrack=void 0}addMouseHandlers(){this.addWindowResizeHandler(),this.addRootMouseUpHandler(),this.addRootMouseLeaveHandler(),this.addColumnContainerEventHandlers()}removeMouseHandlers(){this.removeWindowResizeHandler(),this.removeRootMouseUpHandler(),this.removeRootMouseLeaveHandler(),this.removeColumnContainerEventHandlers()}addWindowResizeHandler(){this.boundWindowResizeHandler=function(){this.resize()}.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)}removeWindowResizeHandler(){window.removeEventListener("resize",this.boundWindowResizeHandler)}addRootMouseUpHandler(){this.boundRootMouseUpHandler=Cf.bind(this),this.root.addEventListener("mouseup",this.boundRootMouseUpHandler)}removeRootMouseUpHandler(){this.root.removeEventListener("mouseup",this.boundRootMouseUpHandler)}addRootMouseLeaveHandler(){this.boundRootMouseLeaveHandler=Cf.bind(this),this.root.addEventListener("mouseleave",this.boundRootMouseLeaveHandler)}removeRootMouseLeaveHandler(){this.root.removeEventListener("mouseleave",this.boundRootMouseLeaveHandler)}addColumnContainerEventHandlers(){this.boundColumnContainerMouseMoveHandler=kf.bind(this),this.boundColumnContainerTouchMoveHandler=kf.bind(this),this.boundColumnContainerMouseLeaveHandler=Cf.bind(this),this.boundColumnContainerMouseUpHandler=Cf.bind(this),this.boundColumnContainerTouchEndHandler=Cf.bind(this),this.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.addEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.addEventListener("touchend",this.boundColumnContainerTouchEndHandler)}removeColumnContainerEventHandlers(){this.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.removeEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.removeEventListener("touchend",this.boundColumnContainerTouchEndHandler)}async getDriveFileInfo(e){const t="https://www.googleapis.com/drive/v3/files/"+Mt(e)+"?supportsTeamDrives=true";return xo.loadJson(t,pa({}))}static uncompressSession(e){let t;if(e.indexOf("/gzip;base64")>0){t=no(e);let n="";for(let e of t)n+=String.fromCharCode(e);return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");const t=atob(e),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));const r=Xi.inflateRaw(n);let i="";for(let e of r)i+=String.fromCharCode(e);return i}(e.substring(5))}}function kf(e){e.preventDefault();const{x:t,y:n}=mt(e);if(this.vpMouseDown){const{viewport:e,referenceFrame:r}=this.vpMouseDown,i=Math.abs(t-this.vpMouseDown.mouseDownX)>Math.abs(n-this.vpMouseDown.mouseDownY);if(!this.dragObject&&!this.isScrolling)if(i)this.vpMouseDown.mouseDownX&&Math.abs(t-this.vpMouseDown.mouseDownX)>this.constants.dragThreshold&&(this.dragObject={viewport:e,start:r.start});else if(this.vpMouseDown.mouseDownY&&Math.abs(n-this.vpMouseDown.mouseDownY)>this.constants.scrollThreshold){this.isScrolling=!0;const t=e.$viewport.height(),n=Ia(e.trackView.viewports);this.vpMouseDown.r=t/n}if(this.dragObject){r.shiftPixels(this.vpMouseDown.lastMouseX-t,e.$viewport.width())&&this.updateViews(),this.fireEvent("trackdrag")}if(this.isScrolling){const t=this.vpMouseDown.r*(this.vpMouseDown.lastMouseY-n);e.trackView.moveScroller(t)}this.vpMouseDown.lastMouseX=t,this.vpMouseDown.lastMouseY=n}}function Cf(e){this.cancelTrackPan(),this.endTrackDrag()}function Tf(e,t){for(let{viewports:n}of e)for(let e of n)e.$trackLabel&&(0===n.indexOf(e)&&!0===t?e.$trackLabel.show():e.$trackLabel.hide())}let Af=[];const Ef=xo.setApiKey;return function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='.igv-navbar {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 2px;\n  margin-bottom: 6px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n  .igv-navbar .igv-navbar-left-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-left-container .igv-logo {\n      width: 34px;\n      height: 32px;\n      margin-right: 8px; }\n    .igv-navbar .igv-navbar-left-container .igv-current-genome {\n      height: 32px;\n      margin-left: 4px;\n      margin-right: 4px;\n      user-select: none;\n      line-height: 32px;\n      vertical-align: middle;\n      text-align: center; }\n    .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container {\n        display: flex;\n        flex-flow: column;\n        flex-wrap: nowrap;\n        justify-content: space-around;\n        align-items: center;\n        height: 100%;\n        width: 125px;\n        margin-right: 4px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container select {\n          display: block;\n          cursor: pointer;\n          width: 100px;\n          height: 75%;\n          outline: none;\n          font-size: 12px;\n          font-family: "Open Sans", sans-serif;\n          font-weight: 400; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group {\n        display: flex;\n        flex-flow: row;\n        flex-wrap: nowrap;\n        justify-content: space-between;\n        align-items: center;\n        margin-left: 8px;\n        height: 22px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container {\n          display: flex;\n          flex-flow: row;\n          flex-wrap: nowrap;\n          justify-content: flex-start;\n          align-items: center;\n          width: 210px;\n          height: 22px;\n          line-height: 22px; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container input.igv-search-input {\n            cursor: text;\n            width: 85%;\n            height: 22px;\n            line-height: 22px;\n            font-size: 12px;\n            font-family: "Open Sans", sans-serif;\n            font-weight: 400;\n            text-align: left;\n            padding-left: 8px;\n            margin-right: 8px;\n            outline: none;\n            border-style: solid;\n            border-radius: 3px;\n            border-width: thin;\n            border-color: #bfbfbf;\n            background-color: white; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container .igv-search-icon-container {\n            cursor: pointer;\n            height: 16px;\n            width: 16px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-windowsize-panel-container {\n          margin-left: 4px;\n          user-select: none; }\n  .igv-navbar .igv-navbar-right-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div {\n        margin-left: 0;\n        margin-right: 4px; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div:last-child {\n        margin-left: 0;\n        margin-right: 0; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container-750 {\n      display: none; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:nth-child(even) {\n        display: block;\n        height: fit-content; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget input {\n        display: block;\n        width: 125px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 input {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-hidden {\n      display: none; }\n\n.igv-navbar-button {\n  display: block;\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-navbar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-navbar-button:hover {\n  cursor: pointer; }\n\n.igv-zoom-in-notice-container {\n  z-index: 1024;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: white; }\n  .igv-zoom-in-notice-container > div {\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    width: 100%;\n    height: 100%;\n    font-family: "Open Sans", sans-serif;\n    font-size: 14px;\n    font-weight: 400;\n    color: #3f3f3f; }\n\n.igv-zoom-in-notice {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .igv-zoom-in-notice div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-multi-locus-close-button {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 14px;\n  height: 14px;\n  color: #666666;\n  z-index: 1000; }\n  .igv-multi-locus-close-button > svg {\n    vertical-align: top; }\n\n.igv-multi-locus-close-button:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-ruler-label {\n  position: absolute;\n  left: 50%;\n  top: 5%;\n  transform: translate(-50%, 0%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  z-index: 64;\n  color: #444444;\n  background-color: white; }\n\n.igv-multi-locus-ruler-label:hover {\n  cursor: pointer; }\n\n.igv-ruler-sweeper {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-ruler-tooltip {\n  pointer-events: none;\n  z-index: 128;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 32px;\n  background-color: transparent;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ruler-tooltip > div {\n    pointer-events: none;\n    width: 128px;\n    height: auto;\n    padding: 1px;\n    color: #373737;\n    font-size: 10px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400;\n    background-color: white;\n    border-style: solid;\n    border-width: thin;\n    border-color: #373737; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 8px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: #e8e8e8; }\n\n.igv-center-line {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 8;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-line-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-line-thin {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0); }\n\n.igv-cursor-guide-horizontal {\n  display: none;\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  height: 1px;\n  z-index: 1;\n  margin-left: 50px;\n  margin-right: 54px;\n  border-top-style: dotted;\n  border-top-width: thin;\n  border-top-color: rgba(127, 127, 127, 0.76); }\n\n.igv-cursor-guide-vertical {\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-menu-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-menu-popup > div:not(:first-child) {\n    width: 100%; }\n    .igv-menu-popup > div:not(:first-child) > div {\n      background: white; }\n    .igv-menu-popup > div:not(:first-child) > div.context-menu {\n      padding-left: 4px;\n      padding-right: 4px; }\n    .igv-menu-popup > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-menu-popup > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-menu-popup-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-menu-popup-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-menu-popup-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-menu-popup-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-menu-popup-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-menu-popup-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-menu-popup-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-menu-popup-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-loading-spinner-container {\n  z-index: 1024;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center; }\n  .igv-loading-spinner-container > div {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    border: 4px solid rgba(128, 128, 128, 0.5);\n    border-top-color: white;\n    animation: spin 1s ease-in-out infinite;\n    -webkit-animation: spin 1s ease-in-out infinite; }\n\n@keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@-webkit-keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n.igv-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-top: 4px;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n\n.igv-viewport {\n  position: relative;\n  margin-top: 5px;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content {\n  position: relative;\n  width: 100%; }\n  .igv-viewport-content > canvas {\n    position: relative;\n    display: block; }\n\n.igv-column-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  width: 100%; }\n\n.igv-column-shim {\n  width: 1px;\n  margin-left: 2px;\n  margin-right: 2px;\n  background-color: #545453; }\n\n.igv-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-axis-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 50px; }\n  .igv-axis-column > div {\n    margin-top: 5px;\n    width: 100%; }\n\n.igv-sample-name-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-scrollbar-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 14px; }\n  .igv-scrollbar-column > div {\n    position: relative;\n    margin-top: 5px;\n    width: 14px; }\n    .igv-scrollbar-column > div > div {\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      left: 2px;\n      width: 8px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: #c4c4c4;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px; }\n    .igv-scrollbar-column > div > div:hover {\n      background-color: #c4c4c4; }\n\n.igv-track-drag-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 12px;\n  background-color: white; }\n  .igv-track-drag-column > .igv-track-drag-handle {\n    z-index: 512;\n    position: relative;\n    cursor: pointer;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0;\n    border-top-right-radius: 6px;\n    border-bottom-right-radius: 6px;\n    background-color: #c4c4c4; }\n  .igv-track-drag-column .igv-track-drag-handle-hover {\n    background-color: #787878; }\n  .igv-track-drag-column > .igv-track-drag-shim {\n    position: relative;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0; }\n\n.igv-gear-menu-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 28px; }\n  .igv-gear-menu-column > div {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    margin-top: 5px;\n    width: 100%;\n    background: white; }\n    .igv-gear-menu-column > div > div {\n      position: relative;\n      margin-top: 4px;\n      width: 16px;\n      height: 16px;\n      color: #7F7F7F; }\n    .igv-gear-menu-column > div > div:hover {\n      cursor: pointer;\n      color: #444; }\n\n/*# sourceMappingURL=dom.css.map */\n',document.head.insertBefore(e,document.head.childNodes[document.head.childNodes.length-1])}(),{IGVGraphics:gs,MenuUtils:zo,DataRangeDialog:ps,createTrack:async function(e,t){return await Sf.prototype.createTrack.call(t,e)},createBrowser:async function(e,t){void 0===t&&(t={}),Qs.KNOWN_GENOMES||await Qs.initializeGenomes(t),function(e){void 0===e.promisified&&(e.promisified=!1);void 0===e.minimumBases&&(e.minimumBases=40);void 0===e.showIdeogram&&(e.showIdeogram=!0);void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0);void 0===e.showTrackLabels&&(e.showTrackLabels=!0);void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0);void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1);void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0);void 0===e.showCenterGuide&&(e.showCenterGuide=!1);void 0===e.showSampleNames&&(e.showSampleNames=!1);void 0===e.showSVGButton&&(e.showSVGButton=!0);void 0===e.showControls&&(e.showControls=!0);void 0===e.showNavigation&&(e.showNavigation=!0);void 0===e.showRuler&&(e.showRuler=!0);void 0===e.flanking&&(e.flanking=1e3);void 0===e.pairsSupported&&(e.pairsSupported=!0);e.tracks||(e.tracks=[])}(t),!1!==t.queryParametersSupported&&function(e){var t,n,r,i,o,s,a,l,c;let h,u;if(a=window.location.href,o={},t=a.indexOf("?"),n=a.lastIndexOf("#"),t>=0)for(n<0&&(n=a.length),r=t+1;r<n;)(i=a.indexOf("&",r))<0&&(i=n),2===(s=a.substring(r,i).split("=",2)).length&&(l=s[0],c=decodeURIComponent(s[1]),"file"===l?h=c.split(","):"index"===l?u=c.split(","):e[l]=c,r=i+1);if(h){e.tracks||(e.tracks=[]);for(let t=0;t<h.length;t++){if(h[t].endsWith(".xml")||h[t].endsWith(".json")){e.sessionURL=h[t];break}const n={url:h[t]};u&&u.length>t&&(n.indexURL=u[t]),e.tracks.push(n)}}}(t),t.apiKey&&xo.setApiKey(t.apiKey),t.oauthToken&&vo.setToken(t.oauthToken),t.clientId&&!Ft()&&await Nt({clientId:t.clientId,apiKey:t.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"});const n=new Sf(t,e);Af.push(n),t.sessionURL?await n.loadSession({url:t.sessionURL}):await n.loadSessionObject(t);const r=n.isMultiLocusWholeGenomeView()||Qs.isWholeGenomeView(n.referenceFrameList[0].chr);return n.navbarManager.navbarDidResize(n.$navigation.width(),r),n},removeBrowser:function(e){e.dispose(),e.root.remove(),Af=Af.filter(t=>t!==e)},removeAllBrowsers:function(){for(let e of Af)e.dispose(),e.root.remove();Af=[]},visibilityChange:async function(){for(let e of Af)await e.visibilityChange()},setGoogleOauthToken:function(e){return vo.setToken(e)},setOauthToken:function(e,t){return vo.setToken(e,t)},oauth:vo,version:Ys,setApiKey:Ef,doAutoscale:ga,TrackView:Ma}});